{
    "document_name": "29556-i40.docx",
    "content": [
        {
            "title": "1\tScope",
            "description": "The present document specifies the stage 3 protocol and data model for the Neasdf Service Based Interface. It provides stage 3 protocol definitions and message flows, and specifies the API for each service offered by the EASDF.\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.548 [14].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", .\n[7]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[8]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[9]\tIETF RFC 6749: \"The Oauth 2.0 Authorization Framework\".\n[10]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[11]\tIETF RFC 9113: \"HTTP/2\".\n[12]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[13]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[14]\t3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".\n[15]\tIETF RFC 6902: \"JavaScript Object Notation (JSON) Patch\".\n[16]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[17]\tVoid.\n[18]\tIETF RFC 7871: \"Client Subnet in DNS Queries\".\n[19]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nOne-Time DNS Rule: A DNS Rule that applies only once to a specific DNS message earlier buffered in the EASDF and reported to the SMF (see clause 5.2.3.2.4).\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nBD AIT\tBaseline DNS Action Information Template\nBD MDT\tBaseline DNS Message Detection Template\nEASDF\tEdge Application Server Discovery Function\nECS\tEDNS Client Subnet\nEDNS\tExtension mechanisms for DNS\nHR-SBO\tHome Routed Session BreakOut\nMDT\t(DNS Query or DNS Response) Message Detection Template\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tOverview",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "Within the 5GC, the EASDF offers services to the SMF via the Neasdf service based interface (see 3GPP TS 23.548 [14], 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3]).\nFigure 4.1-1 provides the reference model (in service based interface representation and in reference point representation), with focus on the EASDF and the scope of the present specification.\nThe figure depicts a reference model for the EASDF (Energy-Aware Scheduling for Dynamic Frequency Allocation) system, which is a key component in 5G networks. The model includes various elements such as energy-aware scheduling algorithms, dynamic frequency allocation, and energy management strategies. The figure illustrates the system's architecture, including the scheduling algorithm, frequency allocation, and energy management components, which are crucial for optimizing network performance and energy efficiency in 5G networks.\nFigure 4.1-1: Reference model – EASDF\nThe functionalities supported by the EASDF are listed in clause 5.1.1 of 3GPP TS 23.548 [14].\nIn roaming scenarios, the V-EASDF offers service to the SMF in the VPLMN in both LBO roaming and HR with Session Breakout (HR-SBO) roaming scenarios (see clause 4.2 of 3GPP TS 23.548 [14]).\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tServices offered by the EASDF",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The EASDF offers to other NFs the following service:\nTable 5.1-1: NF Service provided by EASDF\n\nThe Neasdf_DNSContext service and Neasdf_BaselineDNSPattern service are specified in 3GPP TS 23.548 [14].\nTable 5.1-2 summarizes the corresponding APIs defined for this specification.\nTable 5.1-2: API Descriptions\n\n",
                    "tables": [
                        {
                            "description": "Table 5.1-1: NF Service provided by EASDF",
                            "table number": 3,
                            "summary": "",
                            "name": ""
                        },
                        {
                            "description": "Table 5.1-2: API Descriptions",
                            "table number": 4,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tNeasdf_DNSContext Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tService Description",
                            "text_content": "The Neasdf_DNSContext service operates on the DNS contexts. The EASDF is acting as NF Service Producer, while the SMF is the NF Service Consumer.\nFollowing functionalities are provided by the Neasdf_DNSContext service:\n-\tCreate a DNS context in EASDF;\n-\tUpdate a DNS context in EASDF;\n-\tDelete a DNS context in EASDF;\n-\tEnable the EASDF to report DNS signalling related information to the NF service consumer when receiving DNS Query or DNS Response.\nThe Neasdf_DNSContext service supports the following service operations.\nTable 5.2.1-1: Service operations supported by the Neasdf_DNSContext service\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.1-1: Service operations supported by the Neasdf_DNSContext service",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.2\tService Operations",
                            "text_content": "See Table 5.2.1-1 for an overview of the service operations supported by the Neasdf_DNSContext service.\nThe Create service operation shall be used to create an individual DNS context for a given PDU Session in the EASDF.\nIt is used in the following procedures:\n-\tEAS Discovery Procedure with EASDF (see clause 6.2.3.2.2 of 3GPP TS 23.548 [14]); and\n-\tEAS Discovery Procedure with V-EASDF for HR-SBO (see clauses 6.7.2.2 and 6.7.2.3) of 3GPP TS 23.548 [14].\nThere shall be only one individual DNS context created in an EASDF per PDU session.\nThe NF Service Consumer (e.g. SMF) shall create a DNS context by using the HTTP POST method as shown in Figure 5.2.2.2.1-1.\n\nThe figure depicts a DNS context creation process, illustrating the steps involved in creating a DNS context. The context is created by the client, which includes the client's IP address, the server's IP address, and the domain name. The client sends a request to the server, which responds with a DNS record. The DNS record contains the client's IP address, the server's IP address, and the domain name. The client then uses the DNS record to resolve the domain name to the IP address of the server. This process ensures that the client can access the desired website or resource.\nFigure 5.2.2.2.1-1: DNS context creation\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the DNS contexts collection resource of the EASDF. The content of the POST request shall contain:\n-\tthe UE IP address, S-NSSAI and the DNN of the related PDU session;\n-\ta notification URI for receiving DNS context related event notifications, if notifications are requested;\n-\tone or more DNS rules.\nIn addition, for a DNS context creation in the V-EASDF for HR-SBO in VPLMN:\n-\tthe UE IP address shall be set to an unspecified address, i.e. to the IPv4 address 0.0.0.0, or the IPv6 address ::/128, if the IP address of the UE's PDU session is not known yet, or to a mapped address (when using UE source IP address mapping at the Local PSA-UPF);\n-\tthe S-NSSAI shall correspond to the VPLMN S-NSSAI value; and\n-\tthe content of the POST request shall contain the HPLMN ID.\nThe payload body of the POST request may further contain:\n-\tN6 traffic routing information that may contain the IP address and optional port number of the Local PSA-UPF, for HR-SBO in VPLMN, when using N6 tunneling between the L-PSA and V-EASDF, to disambiguate the DNS traffic using a private UE IP address from a certain HPLMN using a specific L-PSA UPF address of the N6 tunnel between the Local PSA-UPF and the V-EASDF.\n2a.\tOn success, a \"201 Created\" response shall be returned with the \"Location\" header containing the URI of the created resource.\nThe POST response body shall include:\n-\tthe IP address of the EASDF (to be sent by the SMF to the UE).\n2b.\tOn failure, or redirection, one of the HTTP status code listed in Table 6.1.3.2.3.1-3 shall be returned.\nThe Update service operation shall be used to update an individual DNS context previously created in the EASDF. The update operation may apply to the whole DNS context (complete replacement of the data of the existing DNS context by new data), or it may apply to modify a subset of the parameters of the DNS context.\nIt is used in the following procedures:\n-\tEAS Discovery Procedure with EASDF (see clause 6.2.3.2.2 of 3GPP TS 23.548 [14]); and\n-\tEAS Discovery Procedure with V-EASDF for HR-SBO (see clauses 6.7.2.2 and 6.7.2.3) of 3GPP TS 23.548 [14].\nTo perform a partial update of the DNS context of a given DNS context Id, the NF Service Consumer shall issue an HTTP PATCH request, as shown in Figure 5.2.2.3.1-1. This partial update shall be used to add, delete and/or replace individual parameters of the DNS context.\nThe figure depicts a DNS context with partial updates, illustrating the process of updating DNS records in a network. The DNS context is shown in a simplified form, with the partial update process highlighted. The figure provides a visual representation of the DNS update process, which is an essential component of network communication.\nFigure 5.2.2.3.1-1: DNS context Partial Update\n1.\tThe NF Service Consumer (e.g. SMF) shall send a PATCH request to the resource URI representing the individual DNS context, identified by the {dnsContextId}. The content of the PATCH request shall contain the list of operations (add/delete/replace) to be applied to parameters in the individual DNS context.\n2a.\tOn success, if all the modification instructions in the PATCH request have been implemented, \"204 No Content\" shall be returned.\n2b.\tIf some of the modification instructions for unknown attribute(s) in the PATCH request have been ignored, the EASDF shall respond with \"200 OK\" with the response body containing PatchResult, as specified in clause 5.2.7.2 of 3GPP TS 29.500 [4].\n2c.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.3.2-3 shall be returned.\nTo perform a complete replacement of the data of the DNS context of a given DNS context Id, the NF Service Consumer shall issue an HTTP PUT request, as shown in Figure 5.2.2.3.1-2:\nThe figure depicts a DNS context where a complete replacement is being considered. The DNS context is shown in Figure 5.2.2.3.1-2, with the complete replacement being considered. The figure includes various elements such as the DNS server, DNS resolver, and the DNS zone. The DNS server is shown as the central point of the figure, with the resolver and zone being depicted as sub-components. The figure also includes a diagram of the DNS zone, showing the structure and layout of the DNS zone. The complete replacement is being considered, with the DNS server being replaced by a new DNS server, and the resolver and zone being replaced by new elements. The figure provides a visual representation of the DNS context, highlighting the importance of the complete replacement in the context of DNS.\nFigure 5.2.2.3.1-2: DNS context Complete Replacement\n1.\tThe NF service consumer (e.g. SMF) shall send a PUT request to the resource URI representing the individual DNS context, identified by the {dnsContextId}. The content of the PUT request shall contain a representation of the individual DNS context to be completely replaced in the EASDF.\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.3.3-3 shall be returned.\nFor HR-SBO in VPLMN, if the V-SMF has created the DNS context with an unspecified UE IP address, the V-SMF shall use either of the procedures above including the UE IP address assigned by the HPLMN to complete the configuration of the context in the V-EASDF.\nThe Delete Service operation shall be used by the NF service consumer (e.g. SMF) to delete the individual DNS context in the EASDF.\nThe figure depicts a DNS context deletion scenario, showing the process of removing a specific DNS record from a domain name system (DNS) server. The figure illustrates the steps involved in deleting a record, including the deletion of the record, the removal of the record from the server, and the removal of the record from the client's cache. The figure provides a visual representation of the process, making it easier to understand and follow.\nFigure 5.2.2.4.1-1: DNS context deletion\n1.\tThe NF Service Consumer (e.g. SMF) shall send a DELETE request to delete the individual DNS context represented by the {dnsContextId}. The request body shall be empty.\n2a.\tOn success, \"204 No Content\" shall be returned. The response body shall be empty.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.3.1-3 shall be returned.\nThe Notify service operation shall be used to notify the NF Service Consumer (e.g. SMF or V-SMF) about a DNS context related event, e.g. if a received DNS Query message or DNS response message matches a DNS detection template of an DNS rule and the associated action requires to report the message to the NF service producer.\nIt is used in the following procedures:\n-\tEAS Discovery Procedure with EASDF (see clause 6.2.3.2.2 of 3GPP TS 23.548 [14]); and\n-\tEAS Discovery Procedure with V-EASDF for HR-SBO (see clauses 6.7.2.2 and 6.7.2.3) of 3GPP TS 23.548 [14].\nThe EASDF shall send an HTTP POST request targeting the DNS context notification URI provided by the NF Service Consumer in the Create or Update service operation (see clause 5.2.2.2.1). See also Figure 5.2.2.5.1-1.\nThe figure depicts a DNS context notify, which is a crucial component in the Domain Name System (DNS) process. It illustrates the flow of data from the source to the destination, including the steps of DNS query, response, and error handling. The figure shows the DNS server, the client, and the DNS resolver, all interacting with the DNS database to resolve domain names. The presence of the \"1\" in the figure indicates the successful completion of the process, while the \"2\" and \"5\" represent the steps in the process.\nFigure 5.2.2.5.1-1: DNS Context Notify\n1.\tThe EASDF shall send a HTTP POST request to the DNS context notification URI, and the content of the POST request shall contain a DnsContextNotification data structure, with the DNS message report that was subscribed by the NF Service Consumer.\n2a.\tOn success, \"204 No Content\" shall be returned and the content of the POST response shall be empty.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.5.2.3.1-3 shall be returned.\nIf the EASDF receives a \"404 Not Found\" response with the application error \"DNS_CONTEXT_NOT_FOUND\", the EASDF should consider that the DNS context is no longer valid and delete the DNS context.\nThe EASDF should not keep on sending notification requests to an NF service consumer and may consider that the DNS context is no longer valid and delete the DNS context, if it receives one or more \"404 Not Found\" responses without an application error or with other application errors.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.3\tDNS messages processing by EASDF",
                            "text_content": "This clause specifies how the EASDF shall process DNS messages according to the instructions received from the SMF.\nThe SMF shall control how the EASDF processes DNS messages received for a particular UE's PDU session by creating one single DNS context per PDU session including the following information:\n-\tthe UE IP address, S-NSSAI and DNN of the PDU session;\n-\tthe H-PLMN ID for a PDU session supporting HR-SBO in VPLMN; and\n-\tone or more DNS rules.\nThere shall be at most one DNS context created in the EASDF with the same UE IP address, S-NSSAI and DNN, and for HR-SBO in VPLMN, in addition with the same H-PLMN ID. If the EASDF receives a request to create a DNS context for which another DNS context already exists with the same UE IP address, S-NSSAI and DNN, and for HR-SBO in VPLMN, in addition with the same H-PLMN ID,, the EASDF shall proceed with creating the DNS context and shall delete the earlier existing DNS context with the same UE IP address, S-NSSAI and DNN, and for HR-SBO in VPLMN, in addition with the same H-PLMN ID.\nAs an exception, for HR-SBO in VPLMN, several DNS contexts may be created in the V-EASDF with an unspecified UE IP address and the same S-NSSAI, DNN and H-PLMN ID (see clause 5.2.2.2.1). The V-EASDF shall support creating such DNS contexts without deleting earlier DNS contexts with the same unspecified UE IP address, S-NSSAI, DNN and H-PLMN ID.\nA DNS rule shall apply either to DNS Query messages or DNS Response messages. A DNS rule shall contain:\n-\tthe DNS Rule ID uniquely identifying the DNS rule within the DNS context, for a DNS rule other than a One-Time DNS rule;\n-\tprecedence information, indicating the order in which the EASDF shall attempt to match DNS messages against all the DNS rules provisioned in the DNS context, for a DNS rule other than a One-Time DNS rule;\n-\tfor a DNS rule provisioned for DNS Query messages:\n-\tfor a DNS rule other than a One-Time DNS rule:\n-\tat least one DNS Query Message Detection Template (MDT) or Baseline DNS Query Message Detection Template (BD MDT) ID referring to a BD MDT provisioned in a baseline DNS pattern; such a DNS rule may contain one or more DNS Query MDTs and/or BD MDT IDs referring to BD MDTs provisioned in one or more baseline DNS patterns; or\n-\tfor a One-Time DNS rule:\n-\tthe DNS message identifier uniquely identifying the DNS message buffered in the EASDF;\n-\tfor a DNS rule provisioned for DNS Response messages:\n-\tfor a DNS rule other than a One-Time DNS rule:\n-\tat least one DNS Response MDT or Baseline DNS Response MDT ID referring to a BD MDT provisioned in a baseline DNS pattern; a DNS rule may contain one or more DNS Response MDTs and/or BD MDT IDs referring to BD MDTs provisioned in one or more baseline DNS patterns;\n-\tfor a One-Time DNS rule:\n-\tthe DNS message identifier uniquely identifying the DNS message buffered in the EASDF;\n-\ta list of actions to apply to all DNS messages matching at least one DNS MDT of the DNS rule or one BD MDT referred by the DNS rule.\nSee clauses 5.2.3.5 and 5.2.3.2.4 for the description of baseline DNS patterns and One-Time DNS rules respectively.\nFigure 5.2.3.2-1 provides an overview of DNS contexts, DNS rules (other than One-Time DNS rules) and baseline DNS patterns, depicting one DNS context created with N DNS rules, some of them referring to baseline DNS patterns.\nThe figure depicts a comprehensive overview of DNS context, DNS rules, and baseline DNS patterns, providing a detailed understanding of the underlying structure and components of the DNS system.\nFigure 5.2.3.2-1: Overview of DNS contexts, DNS rules and Baseline DNS Patterns\nUpon receipt of a DNS message, the EASDF shall first identify the DNS context corresponding to the DNS message as follows:\n-\tfor DNS Query message: by using the source IP address of the DNS Query message and by matching it with the UE IP address provisioned in the DNS Query MDTs if any or with the UE IP address provisioned in the DNS context; and\n-\tfor a DNS Response message: by matching the DNS response with the DNS Query (either by the EASDF assigning a specific Transaction ID when forwarding the DNS Query message and by matching the Transaction ID in the DNS Query and DNS Response, or by the EASDF using a unique couple of source IP address and UDP port per DNS context when forwarding the DNS Query message and by matching the DNS Response message using the destination IP address and UDP port) and by retrieving the DNS context that is associated with the DNS query.\nNOTE 1:\tThe EASDF has direct user plane connectivity (i.e., without any NAT) with the PSA UPF over N6 for the transmission of DNS signalling exchanged with the UE. The deployment of a NAT between EASDF and PSA UPF is not supported.\nThe following options may be used to support DNS contexts with the same (private) UE IP address from different S-NSSAI and DNNs:\n-\tthe EASDF may associate a specific EASDF address with a specific S-NSSAI and DNN and provide this address to the SMF during the creation of a DNS context associated with this S-NSSAI and DNN. If so, the EASDF shall also use the destination IP address of DNS Query messages to identify the DNS context matching an incoming DNS request;\n-\tthe SMF may set the UE IP address to a mapped N6 address, when using UE source IP address mapping at the Local PSA-UPF;\n-\tthe SMF may provide N6 traffic routing information (in the DNS context information) that may contain the IP address and optional port number of the Local PSA-UPF, for HR-SBO in VPLMN, when using N6 tunneling between the L-PSA and V-EASDF. If so, the V-EASDF shall also use the N6 traffic routing information of DNS Query messages to identify the DNS context matching an incoming DNS request.\nTo support DNS contexts with the same (private) UE IP address from different PLMNs and from different S-NSSAI and DNNs, the V-EASDF may associate a specific V-EASDF address with a specific HPLMN ID, S-NSSAI and DNN and provide this address to the V-SMF during the creation of a DNS context associated with this HPLMN ID, S-NSSAI and DNN. If so, the V-EASDF shall also use the destination IP address of DNS Query messages to identify the DNS context matching an incoming DNS request.\nA DNS context containing an unspecified UE IP address shall be considered to never match any DNS Query message.\nIf there is no DNS context matching a DNS Query or Response message, the EASDF should forward the DNS Query message towards a preconfigured DNS server and the DNS response towards the UE.\nAfter finding the DNS context, the EASDF shall look up for a DNS rule matching the DNS message, among all DNS rules provisioned in the DNS Context, starting with the DNS rules with the highest precedence and continuing then with DNS rules with a lower precedence, in decreasing order of precedence. If there is no DNS rule matching the DNS message, the EASDF should forward the DNS Query message towards a preconfigured DNS server/resolver for resolution.\nNOTE 2:\tThe SMF can provision in the DNS context a DNS rule with the lowest precedence and with a DNS Query MDT or a DNS Response MDT containing a wildcard FQDN, such as to associate a default behavior to all DNS messages not matching any other DNS rule, e.g. forward DNS Query messages to a specific DNS Server.\nAfter having found a matching DNS rule, the EASDF shall stop looking up for other DNS rules and shall apply the list of actions provisioned in the matching DNS rule.\nA DNS message matches a DNS rule if it matches at least one MDT of the DNS Rule or one BD MDT referred by the DNS rule.\nThe DNS message processing models for DNS Query and DNS Response are depicted in Figure 5.2.3.2-2 and 5.2.3.2-3 respectively.\nThe figure depicts the DNS query processing flow in the EASDF, illustrating the steps involved in resolving domain names. The flow starts with the client initiating a DNS query, which is then forwarded to the EASDF for processing. The EASDF then performs a series of steps, including DNS lookup, DNS cache eviction, and DNS cache replacement, to ensure accurate and efficient DNS resolution. The figure provides a visual representation of the complex process, highlighting the importance of DNS in modern internet infrastructure.\nFigure 5.2.3.2-2: DNS Query processing flow in the EASDF\nThe figure depicts the DNS response processing flow in the EASDF, illustrating the steps taken by the system to handle DNS requests. The flow includes the DNS server, DNS resolver, and DNS client, with each component playing a crucial role in the overall process. The figure highlights the use of caching, which helps to reduce the time it takes to retrieve a response from the DNS server. Additionally, the figure shows the use of a caching policy to optimize the response time, ensuring that the most frequently requested records are cached for faster access. Overall, the figure provides a comprehensive overview of the DNS response processing flow in the EASDF, highlighting the importance of caching and policy optimization in improving the performance of the system.\nFigure 5.2.3.2-3: DNS Response processing flow in the EASDF\nThe SMF may instruct the EASDF to apply certain actions (e.g. forward, drop or respond to a DNS message) to a specific DNS message, that has been earlier buffered in the EASDF and reported to the SMF, by creating a new DNS rule in the DNS context that includes:\n-\tthe DNS message identifier uniquely identifying the DNS message within the DNS context, as reported earlier by the EASDF in the DNSContext Notify request; and\n-\tthe requested actions to apply to the DNS message.\nSuch a DNS rule shall not contain any DNS Rule ID, precedence, MBT nor BD MDT.\nUpon receipt of an DNSContext Update request that creates such a DNS rule, the EASDF shall apply the requested actions to the specific DNS message identified by the DNS message identifier and then delete the DNS Rule. If there is no buffered DNS message corresponding to the DNS message identifier received in the DNS rule, the EASDF shall reject the request with an error.\nNOTE:\tA DNS rule that includes a DNS message identifier is referred as a \"One-Time\" DNS rule throughout this specification since the DNS rule is applied only once for the indicated DNS message and the DNS rule is not further stored by the EASDF.\nThe contents of a DNS Query MDT or a DNS Response MDT may be provisioned directly in a DNS rule itself or in a BD MDT provisioned in a baseline DNS pattern. In the latter case, a DNS rule may refer to one or more BD MDTs (that are all either DNS Query MDTs or DNS Response MDTs) of one or more baseline DNS patterns by referencing the BD MDT IDs of the BD MDTs of the baseline DNS patterns.\nThe following clauses define the contents of DNS Query MDTs and DNS Response MDTs, provisioned in a DNS rule or in a BD MDT.\nA DNS Query Message Detection Template may include:\n-\ta UE IP address;\n-\ta list of FQDN ranges or a wildcard FQDN representing \"any FQDN\" (see clauses 6.1.6.2.5 and 6.1.6.2.6).\nA UE IP address may only be provisioned in a DNS Query MDT, i.e. it cannot be provisioned in a Baseline DNS MDT. However, a DNS rule may be provisioned with a reference to one or more Baseline DNS Query MDTs together with a UE IP address (see clause 6.1.6.2.20), in which case the referenced Baseline DNS Query MDTs shall be matched for the specific UE IP address.\nWhen present in a DNS Query MDT, or together with the reference to a Baseline DNS Query MDT, the UE IP address shall be used for matching the DNS Query message with the related DNS rule (see clause 5.2.3.2). Otherwise, the UE IP address provisioned in the DNS context shall be used.\nFQDNs shall be matched against the Query Domain Name of DNS Query messages.\nA DNS Response Message Detection Template may include:\n-\ta list of FQDN ranges or a wildcard FQDN representing \"any FQDN\"; and/or\n-\ta list of EAS IP addresses ranges.\nFQDNs shall be matched against the Domain Names in the Answers of DNS Response messages.\nEAS IP addresses ranges shall be matched against the IP addresses returned in the Answers of DNS Response messages.\nEach DNS rule shall be provisioned with the list of actions to apply to all DNS messages matching the DNS rule.\nThe SMF may request the EASDF to apply one or more of the following actions:\n1)\tREPORT DNS message content to the SMF.\nThe SMF may further request the EASDF to send a report only once to the SMF, i.e. only when a first DNS message matches any MDT of the DNS rule. If so, the EASDF shall skip this action (i.e. report to SMF) for any subsequent DNS message matching the DNS rule.\nThe SMF may further request the EASDF to reset the reporting-once indication, in which case the EASDF shall send (only) one more report at the next DNS message that matches the DNS rule.\n2)\tBUFFER DNS message.\n3)\tFORWARD DNS message.\nThe SMF may further request the EASDF to set the destination IP address of the DNS Query message to a specific DNS Server address. The DNS Server address may either be included in the DNS rule or in a Baseline DNS Action Information Template (BD AIT); in the latter case, the DNS rule shall refer to the corresponding BD AIT ID. If no DNS Server address is provided by the SMF, the EASDF shall forward the DNS message to a locally pre-configured DNS server/resolver.\nThe SMF may request the EASDF to build an EDNS Client Subnet (ECS) option to be included in the DNS Query message as defined in IETF RFC 7871 [18], or to be used for replacing the ECS option if an ECS option is received in the DNS Query message from the UE. The information for the EASDF to build the ECS option may either be included in the DNS rule or in a Baseline DNS Action Information Template (BD AIT); in the latter case, the DNS rule shall refer to the corresponding BD AIT ID.\nWhen forwarding a DNS Query message, if the SMF did not request the EASDF to build an ECS option, the EASDF shall remove the ECS option received from the UE in the DNS Query, if any.\nWhen forwarding a DNS Response message to the UE, based on configuration, the EASDF shall either remove any received ECS option or, if an ECS option was received in the DNS Query from the UE, replace it with the latter ECS option.\n4)\tDISCARD DNS message.\n5)\tRESPOND to DNS Query message.\n\nIf both the SMF and the EASDF support the CEASD feature (see clause 6.1.8), the SMF may instruct the EASDF to build a DNS Response message to a DNS Query message and to send it to the UE by setting the applyAction to the value \"RESPOND\", e.g. when a set of UEs shall use the same EAS (see clause 6.2.3.2.5 of 3GPP TS 23.548 [14]). When requesting so, the SMF shall indicate to the EASDF the EAS IP address(es) that the DNS response shall contain.\nUpon receipt of such a request, the EASDF shall build a DNS Response message to the DNS Query message, that includes the EAS IP address(es) indicated by the SMF and send it to the UE.\nThe SMF may change the list of actions associated to a DNS rule (other than a One-Time DNS rule), e.g. to replace the actions to REPORT and BUFFER DNS Query messages to the SMF by the action to FORWARD the DNS messages. In such a case, any earlier buffered DNS message (matching the DNS rule) and any further incoming DNS message shall be processed according to the new instructions received from the SMF, e.g. they shall all be forwarded. The SMF may alternatively request the EASDF to apply certain actions to a specific DNS message by creating a One-Time DNS rule as defined in clause 5.2.3.2.4.\nThe EASDF shall send a report to the SMF:\n-\tto report the contents of DNS (Query or Response) messages matching a DNS rule provisioned with the action to report the DNS message contents.\nThe EASDF shall send reports to the SMF as defined in clause 5.2.2.5. The notification request sent to the SMF may contain one or more reports, for DNS Query and/or DNS Response messages matching one or more DNS rules provisioned in the DNS context. For each report, the EASDF may provide a DNS message identifier uniquely identifying the DNS message reported to the SMF within the DNS context (see clause 5.2.3.2.4).\nThe SMF may create, modify or delete baseline DNS patterns in the EASDF using the Neasdf_BaselineDnsPattern service (see clause 5.3).\nA baseline DNS pattern contains baseline DNS information that may apply to multiple PDU sessions, e.g. to all PDU sessions with a certain DNN and S-NSSAI.\nA baseline DNS pattern may contain:\n-\tone or several BD MDTs; and/or\n-\tone or several BD AITs.\nA baseline DNS pattern may contain BD MDTs for DNS Query messages and BD MDTs for DNS Response messages. One BD MDT shall be either a DNS Query MDT or a DNS Response MDT (see clause 5.2.3.3).\nA BD AIT may include:\n-\tone or more local DNS Server IP address(es); and/or\n-\tECS option information.\nNOTE 1: Multiple DNS Server IP addresses can be provided for resiliency.\nA BD MDT and a BD AIT shall be uniquely identified in the EASDF by the combination of the following information:\n-\tthe URI of the baseline DNS pattern in which the BD MDT or BD AIT is defined; the URI shall be chosen by the SMF when creating the baseline DNS pattern (see clause 6.2.3); and\n-\tan MDT or AIT identifier (string) uniquely identifying the MDT or AIT within the baseline DNS pattern; this identifier shall be chosen by the SMF when creating the BD MDT or BD AIT.\nThe URI of a baseline DNS pattern shall be unique per SMF set, if an SMF set controls the EASDF, or unique per SMF otherwise.\nNOTE 2:\tThe URI of a baseline DNS pattern includes an identifier of the SMF or SMF set (see clause 6.2.3.1) and SMF implementation specific information. This ensures the uniqueness of the URI in the EASDF when several SMFs or SMF sets control the same EASDF. As an example, an SMF can encode the URI of the baseline DNS pattern and the MDT or AIT identifier to include the DNAI or a sequence number. The EASDF is not meant to understand the structure of this information.\nWhen a BD MDT or BD AIT of a baseline DNS pattern is modified by the SMF, the modified BD MDT or BD AIT shall apply to all DNS rules of all DNS contexts referring to that BD MDT or BD AIT.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.3\tNeasdf_BaselineDNSPattern Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tService Description",
                            "text_content": "The Neasdf_BaselineDNSPattern service operates on the Baseline DNS patterns in EASDF, which contains the DNS base information that may apply to multiple PDU sessions, e.g. DNS Query and Response MDTs applicable to all PDU sessions with a certain DNN and S-NSSAI. The EASDF is acting as NF Service Producer, while the SMF is the NF Service Consumer.\nFollowing functionalities are provided by the Neasdf_BaselineDNSPattern service:\n-\tCreate a Baseline DNS Pattern in EASDF;\n-\tUpdate the Baseline DNS Pattern in EASDF;\n-\tDelete the Baseline DNS Pattern in EASDF.\nThe Neasdf_BaselineDNSPattern service supports the following service operations.\nTable 5.3.1-1: Service operations supported by the Neasdf_BaselineDNSPattern service\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.1-1: Service operations supported by the Neasdf_BaselineDNSPattern service",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.3.2\tService Operations",
                            "text_content": "See Table 5.3.1-1 for an overview of the service operations supported by the Neasdf_BaselineDNSPattern service.\nThe Create service operation shall be used to create the Baseline DNS Pattern in the EASDF.\nIt is used in the following procedures:\n-\tBaselineDNSPattern management in the EASDF procedure (see clause 6.2.3.4.4 of 3GPP TS 23.548 [14]).\nThe NF Service Consumer (e.g. SMF) shall create the Baseline DNS Pattern by using the HTTP PUT method as shown in Figure 5.3.2.2.1-1.\nThe figure depicts a baseline DNS pattern creation process, illustrating the steps involved in creating a DNS pattern for a specific domain. The process includes creating a DNS record, configuring the record, and adding the record to the DNS server. The figure provides a visual representation of the process, making it easier to understand and follow.\nFigure 5.3.2.2.1-1: Baseline DNS Pattern creation\n1.\tThe NF Service Consumer shall send a PUT request to create the Baseline DNS Pattern in the EASDF. The content of the PUT request may contain:\n-\tone or more Baseline DNS message detection templates (MDTs);\n-\tone or more Baseline DNS action information templates (AITs).\n2a.\tOn success, a \"201 Created\" response shall be returned with the \"Location\" header containing the URI of the created resource.\n2b.\tOn failure, or redirection, one of the HTTP status code listed in Table 6.2.3.2.3.2-3 shall be returned.\nThe Update service operation shall be used to update an individual Baseline DNS Pattern previously created in the EASDF. The update operation may apply to the whole Baseline DNS Pattern (complete replacement of the data of the existing Baseline DNS Pattern by new data), or it may apply to modify a subset of the parameters of the Baseline DNS Pattern.\nIt is used in the following procedures:\n-\tBaselineDNSPattern management in the EASDF procedure (see clause 6.2.3.4.4 of 3GPP TS 23.548 [14]).\nTo perform a partial update of the Baseline DNS Pattern, the NF Service Consumer shall issue an HTTP PATCH request, as shown in Figure 5.3.2.3.1-1. This partial update shall be used to add, delete and/or replace individual parameters of the Baseline DNS Pattern.\nThe given telecommunication figure depicts a DNS (Domain Name System) pattern, specifically a partial update. This pattern is used to update the DNS records of a domain name, which is a crucial component of the internet infrastructure. The figure shows the various steps involved in the DNS update process, including the creation of a new record, updating the existing record, and resolving the new record. The figure provides a clear and concise visual representation of the DNS update process, making it easy to understand and interpret.\nFigure 5.3.2.3.1-1: Baseline DNS Pattern Partial Update\n1.\tThe NF Service Consumer (e.g. SMF) shall send a PATCH request to the resource URI representing the individual Baseline DNS Pattern. The content of the PATCH request shall contain the list of operations (add/delete/replace) to be applied to parameters in the individual Baseline DNS Pattern.\n2a.\tOn success, if all the modification instructions in the PATCH request have been implemented, \"204 No Content\" shall be returned.\n2b.\tIf some of the modification instructions for unknown attribute(s) in the PATCH request have been ignored, the EASDF shall respond with \"200 OK\" with the response body containing PatchResult, as specified in clause 5.2.7.2 of 3GPP TS 29.500 [4].\n2c.\tOn failure or redirection, one of the HTTP status code listed in Table 6.2.3.2.3.1-3 shall be returned.\nTo perform a complete replacement of the data of the Baseline DNS Pattern, the NF Service Consumer shall issue an HTTP PUT request, as shown in Figure 5.3.2.3.1-2:\nThe given telecommunication figure depicts a DNS (Domain Name System) pattern complete replacement. The figure shows a simplified representation of the DNS pattern, highlighting the key components such as the root domain, top-level domain, and subdomains. The diagram illustrates the hierarchical structure of the DNS, with each level representing a specific level of DNS hierarchy. The figure is a visual aid for understanding the DNS pattern and its components, which are essential for managing and maintaining the DNS infrastructure.\nFigure 5.3.2.3.1-2: Baseline DNS Pattern Complete Replacement\n1.\tThe NF service consumer (e.g. SMF) shall send a PUT request to the resource URI representing the individual Baseline DNS Pattern. The content of the PUT request shall contain a representation of the individual Baseline DNS Pattern to be completely replaced in the EASDF.\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.2.3.2.3.2-3 shall be returned.\nThe Delete service operation shall be used to delete an individual Baseline DNS Pattern previously created in the EASDF.\nIt is used in the following procedures:\n-\tBaselineDNSPattern management in the EASDF procedure (see clause 6.2.3.4.4 of 3GPP TS 23.548 [14]).\nTo perform a deletion of the Baseline DNS Pattern, the NF Service Consumer shall issue an HTTP DELETE request, as shown in Figure 5.3.2.4.1-1.\nThe given telecommunication figure depicts a baseline DNS pattern deletion scenario. The figure shows a network with multiple layers, including a base station (gNB), user equipment (UE), and a network layer. The figure illustrates the deletion of a specific DNS pattern, which is crucial for network security and performance.\nFigure 5.3.2.4.1-1: Baseline DNS Pattern Deletion\n1.\tThe NF Service Consumer (e.g. SMF) shall send a DELETE request to delete the individual Baseline DNS Pattern. The request body shall be empty.\n2a.\tOn success, \"204 No Content\" shall be returned. The response body shall be empty.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.2.3.2.3.3-3 shall be returned.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tAPI Definitions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tNeasdf_DNSContext Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tIntroduction",
                            "text_content": "The Neasdf_DNSContext shall use the Neasdf_DNSContext API.\nThe API URI of the Neasdf_DNSContext API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"neasdf-dnscontext\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Neasdf_DNSContext API is contained in Annex A.\nSee clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.\nThe following content types shall be supported:\n-\tJSON, as defined in IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n-\t\"Problem Details\" JSON Object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13];\n-\tJSON Patch (IETF RFC 6902 [15]). The use of the JSON Patch format in a HTTP request body shall be signalled by the content type \"application/json-patch+json\".\nThe mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported. In this release of this specification, no custom headers specific to the Neasdf_DNSContext service are defined.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.3\tResources",
                            "text_content": "Figure 6.1.3.1-1 describes the resource URI structure of the Neasdf_DNSContext API.\nThe figure depicts a resource URI structure of the Neasdf_DNSContext API, illustrating the various components and their relationships.\nFigure 6.1.3.1-1: Resource URI structure of the Neasdf_DNSContext API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\n\nThis resource represents the collection of the individual DNS contexts created in the EASDF.\nThis resource is modelled with the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/neasdf-dnscontext/<apiVersion>/dns-contexts\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\n\n6.1.3.2.3.1\tPOST\nThis method creates an individual DNS context resource in the EASDF.\nThis method shall support the URI query parameters specified in table 6.1.3.2.3.1-1.\nTable 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.2.3.1-2 and the response data structures and response codes specified in table 6.1.3.2.3.1-3.\nTable 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.2.3.1-4: Headers supported by the 201 response code on this resource\n\nTable 6.1.3.2.3.1-5: Headers supported by the 307 response code on this resource\n\nTable 6.1.3.2.3.1-6: Headers supported by the 308 response code on this resource\n\nNone.\nThis resource represents an individual DNS context created in the EASDF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/neasdf-dnscontext/<apiVersion>/dns-contexts/{dnsContextId}\nThis resource shall support the resource URI variables defined in table 6.1.3.3.2-1.\nTable 6.1.3.3.2-1: Resource URI variables for this resource\n\n6.1.3.3.3.1\tDELETE\nThis method deletes an individual DNS context resource in the EASDF.\nThis method shall support the URI query parameters specified in table 6.1.3.3.3.1-1.\nTable 6.1.3.3.3.1-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.3.3.1-2 and the response data structures and response codes specified in table 6.1.3.3.3.1-3.\nTable 6.1.3.3.3.1-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 6.1.3.3.3.1-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\n\n6.1.3.3.3.2\tPATCH\nThis method updates (partial update) an individual DNS context resource in the EASDF.\nThis method shall support the URI query parameters specified in table 6.1.3.3.3.2-1.\nTable 6.1.3.3.3.2-1: URI query parameters supported by the PATCH method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.3.3.2-2 and the response data structures and response codes specified in table 6.1.3.3.3.2-3.\nTable 6.1.3.3.3.2-2: Data structures supported by the PATCH Request Body on this resource\n\nTable 6.1.3.3.3.2-3: Data structures supported by the PATCH Response Body on this resource\n\nTable 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\n\n6.1.3.3.3.3\tPUT\nThis method updates (complete replacement) an individual DNS context resource in the EASDF.\nThis method shall support the URI query parameters specified in table 6.1.3.3.3.3-1.\nTable 6.1.3.3.3.3-1: URI query parameters supported by the PUT method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.3.3.3-2 and the response data structures and response codes specified in table 6.1.3.3.3.3-3.\nTable 6.1.3.3.3.3-2: Data structures supported by the PUT Request Body on this resource\n\nTable 6.1.3.3.3.3-3: Data structures supported by the PUT Response Body on this resource\n\nTable 6.1.3.3.3.3-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.3.3-5: Headers supported by the 308 Response Code on this resource\n\nThere are no resource custom operations for the Neasdf_DNSContext service in this release of the specification.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.3.1-1: Resources and methods overview",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-4: Headers supported by the 201 response code on this resource",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-5: Headers supported by the 307 response code on this resource",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-6: Headers supported by the 308 response code on this resource",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.2-1: Resource URI variables for this resource",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-1: URI query parameters supported by the PATCH method on this resource",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-2: Data structures supported by the PATCH Request Body on this resource",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-3: Data structures supported by the PATCH Response Body on this resource",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-1: URI query parameters supported by the PUT method on this resource",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-2: Data structures supported by the PUT Request Body on this resource",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-3: Data structures supported by the PUT Response Body on this resource",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 30,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.4\tCustom Operations without associated resources",
                            "text_content": "There are no custom operations defined without any associated resources for the Neasdf_DNSContext service in this release of this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.5\tNotifications",
                            "text_content": "This clause specifies the notifications supported by the Neasdf_DNSContext service.\nNotifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nTable 6.1.5.1-1: Notifications overview\n\nThe Event Notification is used by the EASDF to report one or several observed Events to a NF service consumer(e.g. SMF) that has subscribed to such Notifications.\nThe Callback URI \"{notifyUri}\" shall be used with the callback URI variables defined in table 6.1.5.2.2-1.\nTable 6.1.5.2.2-1: Callback URI variables\n\n6.1.5.2.3.1\tPOST\nThis method shall support the request data structures specified in table 6.1.5.2.3.1-1 and the response data structures and response codes specified in table 6.1.5.2.3.1-1.\nTable 6.1.5.2.3.1-2: Data structures supported by the POST Request Body\n\nTable 6.1.5.2.3.1-3: Data structures supported by the POST Response Body\n\nTable 6.1.5.2.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.5.2.3.1-5: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.5.1-1: Notifications overview",
                                    "table number": 31,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-1: Callback URI variables",
                                    "table number": 32,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-2: Data structures supported by the POST Request Body",
                                    "table number": 33,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-3: Data structures supported by the POST Response Body",
                                    "table number": 34,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 35,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 36,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Neasdf_DNSContext service based interface protocol.\nTable 6.1.6.1-1: Neasdf_DNSContext specific Data Types\n\nTable 6.1.6.1-2 specifies data types re-used by the Neasdf service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Neasdf_DNSContext service based interface.\nTable 6.1.6.1-2: Neasdf_DNSContext re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.1.6.2.2-1: Definition of type DnsContextCreateData\n\nTable 6.1.6.2.3-1: Definition of type DNSContextCreatedData\n\nTable 6.1.6.2.4-1: Definition of type DnsRule\n\nTable 6.1.6.2.5-1: Definition of type DnsQueryMdt\n\nTable 6.1.6.2.6-1: Definition of type DnsRspMdt\n\nTable 6.1.6.2.7-1: Definition of type IPv4AddressRange\n\nTable 6.1.6.2.8-1: Definition of type IPv6PrefixRange\n\nTable 6.1.6.2.9-1: Definition of type Action\n\nTable 6.1.6.2.10-1: Definition of type DnsContextNotification\n\nTable 6.1.6.2.11-1: Definition of type ForwardingParameters\n\nTable 6.1.6.2.12-1: Definition of type EcsOption\n\nTable 6.1.6.2.13-1: Definition of type DnsContextEventReport\n\nTable 6.1.6.2.14-1: Definition of type DnsQueryReport\n\nTable 6.1.6.2.15-1: Definition of type DnsRspReport\n\nTable 6.1.6.2.16-1: Definition of type EcsOptionInfo\n\nTable 6.1.6.2.17-1: Definition of type DnsServerAddressInfo\n\nTable 6.1.6.2.18-1: Definition of type BaselineDnsMdtId\n\nTable 6.1.6.2.19-1: Definition of type BaselineDnsAitId\n\nTable 6.1.6.2.20-1: Definition of type BaselineDnsQueryMdtInfo\n\n\nTable 6.1.6.2.21-1: Definition of type BaselineDnsRspMdtInfo\n\nTable 6.1.6.2.22-1: Definition of type RespondParameters\n\nTable 6.1.6.2.23-1: Definition of type N6RoutingInfo\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\n\nThe enumeration ApplyAction represents an action to apply to the DNS packet. It shall comply with the provisions defined in table 6.1.6.3.3-1.\nTable 6.1.6.3.3-1: Enumeration ApplyAction\n\nThere is no alternative data types or combinations of data types used for the Neasdf_DNSContext service in this version of the API.\nThere is no binary data used for the Neasdf_DNSContext service in this version of the API.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.6.1-1: Neasdf_DNSContext specific Data Types",
                                    "table number": 37,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.1-2: Neasdf_DNSContext re-used Data Types",
                                    "table number": 38,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.2-1: Definition of type DnsContextCreateData",
                                    "table number": 39,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.3-1: Definition of type DNSContextCreatedData",
                                    "table number": 40,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.4-1: Definition of type DnsRule",
                                    "table number": 41,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.5-1: Definition of type DnsQueryMdt",
                                    "table number": 42,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.6-1: Definition of type DnsRspMdt",
                                    "table number": 43,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.7-1: Definition of type IPv4AddressRange",
                                    "table number": 44,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.8-1: Definition of type IPv6PrefixRange",
                                    "table number": 45,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.9-1: Definition of type Action",
                                    "table number": 46,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.10-1: Definition of type DnsContextNotification",
                                    "table number": 47,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.11-1: Definition of type ForwardingParameters",
                                    "table number": 48,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.12-1: Definition of type EcsOption",
                                    "table number": 49,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.13-1: Definition of type DnsContextEventReport",
                                    "table number": 50,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.14-1: Definition of type DnsQueryReport",
                                    "table number": 51,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.15-1: Definition of type DnsRspReport",
                                    "table number": 52,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.16-1: Definition of type EcsOptionInfo",
                                    "table number": 53,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.17-1: Definition of type DnsServerAddressInfo",
                                    "table number": 54,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.18-1: Definition of type BaselineDnsMdtId",
                                    "table number": 55,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.19-1: Definition of type BaselineDnsAitId",
                                    "table number": 56,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.20-1: Definition of type BaselineDnsQueryMdtInfo",
                                    "table number": 57,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.21-1: Definition of type BaselineDnsRspMdtInfo",
                                    "table number": 58,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.22-1: Definition of type RespondParameters",
                                    "table number": 59,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.23-1: Definition of type N6RoutingInfo",
                                    "table number": 60,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.2-1: Simple data types",
                                    "table number": 61,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.3-1: Enumeration ApplyAction",
                                    "table number": 62,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.7\tError Handling",
                            "text_content": "For the Neasdf_DNSContext API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Neasdf_DNSContext API.\nProtocol errors handling shall be supported as specified in clause 5.2.7 of 3GPP TS 29.500 [4]. No further specific procedures for the Neasdf_DNSContext service are specified.\nThe application errors defined for the Neasdf_DNSContext service are listed in Table 6.1.7.3-1.\nTable 6.1.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.7.3-1: Application errors",
                                    "table number": 63,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.8\tFeature negotiation",
                            "text_content": "The optional features in table 6.1.8-1 are defined for the Neasdf_DNSContext API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.8-1: Supported Features",
                                    "table number": 64,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Neasdf_DNSContext API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Neasdf_DNSContext API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Neasdf_DNSContext service.\nThe Neasdf_DNSContext API defines a single scope \"neasdf-dnscontext\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.10\tHTTP redirection",
                            "text_content": "An HTTP request may be redirected to a different EASDF service instance within the same EASDF, or to a different EASDF of an EASDF set, when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different EASDF producer instance will return the NF Instance ID of the new EASDF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an EASDF redirects a service request to a different EASDF using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new EASDF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.2\tNeasdf_BaselineDNSPattern Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tIntroduction",
                            "text_content": "The Neasdf_BaselineDNSPattern service shall use the Neasdf_BaselineDNSPattern API.\nThe API URI of the Neasdf_BaselineDNSPattern API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"neasdf-baselinednspattern\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.2.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Neasdf_BaselineDNSPattern API is contained in Annex A.\nSee clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.\nThe following content types shall be supported:\n-\tJSON, as defined in IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n-\t\"Problem Details\" JSON Object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].\n-\tJSON Patch (IETF RFC 6902 [15]). The use of the JSON Patch format in a HTTP request body shall be signalled by the content type \"application/json-patch+json\".\nThe mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.3\tResources",
                            "text_content": "Figure 6.2.3.1-1 describes the resource URI structure of the Neasdf_BaselineDNSPattern API.\nThe figure depicts a resource URI structure of the Neasdf_ Base line DNS Pattern API, illustrating the hierarchical structure of the API. The diagram includes a hierarchical tree structure with sub-trees representing different API endpoints, each with a unique URI. The API is designed to be modular, allowing for easy integration and customization.\nFigure 6.2.3.1-1: Resource URI structure of the Neasdf_BaselineDNSPattern API\nTable 6.2.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.2.3.1-1: Resources and methods overview\n\nThis resource represents an individual Baseline DNS Pattern created in the EASDF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/neasdf-baselinednspattern/<apiVersion>/base-dns-patterns/{smfId}/{smfImplementationSegmentPaths}\nThis resource shall support the resource URI variables defined in table 6.2.3.2.2-1.\nTable 6.2.3.2.2-1: Resource URI variables for this resource\n\nEXAMPLE 1:\t.../base-dns-patterns/smfInstanceId=4947a69a-f61b-4bc1-b9da-47c9c5d14b64/{smfImplementationSegmentPaths}\nEXAMPLE 2:\t.../base-dns-patterns/smfSetId=set1.smfset.5gc.mnc012.mcc345/{smfImplementationSegmentPaths}\nEXAMPLE 3:\t.../base-dns-patterns/setId=set1/{smfImplementationSegmentPaths}\n6.2.3.2.3.1\tPATCH\nThis method updates (partial update) an individual Baseline DNS Pattern resource in the EASDF.\nThis method shall support the URI query parameters specified in table 6.2.3.2.3.1-1.\nTable 6.2.3.3.3.1-1: URI query parameters supported by the PATCH method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.2.3.1-2 and the response data structures and response codes specified in table 6.2.3.2.3.1-3.\nTable 6.2.3.2.3.1-2: Data structures supported by the PATCH Request Body on this resource\n\nTable 6.2.3.2.3.1-3: Data structures supported by the PATCH Response Body on this resource\n\nTable 6.2.3.2.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.2.3.1-5: Headers supported by the 308 Response Code on this resource\n\n6.2.3.2.3.2\tPUT\nThis method creates or updates (complete replacement) an individual Baseline DNS Pattern resource in the EASDF.\nThis method shall support the URI query parameters specified in table 6.2.3.2.3.2-1.\nTable 6.2.3.2.3.2-1: URI query parameters supported by the PUT method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.2.3.2-2 and the response data structures and response codes specified in table 6.2.3.2.3.2-3.\nTable 6.2.3.2.3.2-2: Data structures supported by the PUT Request Body on this resource\n\nTable 6.2.3.2.3.2-3: Data structures supported by the PUT Response Body on this resource\n\nTable 6.2.3.2.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.2.3.2-5: Headers supported by the 308 Response Code on this resource\n\n6.2.3.2.3.3\tDELETE\nThis method deletes an individual Baseline DNS Pattern resource in the EASDF.\nThis method shall support the URI query parameters specified in table 6.2.3.2.3.3-1.\nTable 6.2.3.2.3.3-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.3.3.3-2 and the response data structures and response codes specified in table 6.2.3.2.3.3-3.\nTable 6.2.3.2.3.3-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 6.2.3.2.3.3-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 6.2.3.2.3.3-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.2.3.3-5: Headers supported by the 308 Response Code on this resource\n\n6.2.3.3.4.1\tOverview\nTable 6.2.3.3.4.1-1: Custom operations\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.3.1-1: Resources and methods overview",
                                    "table number": 65,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 66,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.1-1: URI query parameters supported by the PATCH method on this resource",
                                    "table number": 67,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-2: Data structures supported by the PATCH Request Body on this resource",
                                    "table number": 68,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-3: Data structures supported by the PATCH Response Body on this resource",
                                    "table number": 69,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 70,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 71,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.2-1: URI query parameters supported by the PUT method on this resource",
                                    "table number": 72,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.2-2: Data structures supported by the PUT Request Body on this resource",
                                    "table number": 73,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.2-3: Data structures supported by the PUT Response Body on this resource",
                                    "table number": 74,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 75,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 76,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.3-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 77,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.3-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 78,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.3-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 79,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.3-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 80,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.3-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 81,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.4.1-1: Custom operations",
                                    "table number": 82,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.4\tCustom Operations without associated resources",
                            "text_content": "There are no custom operations defined without any associated resources for the Neasdf_BaselineDNSPattern service in this release of this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.5\tNotifications",
                            "text_content": "There are no notifications defined for the Neasdf_BaselineDNSPattern service in this release of the specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.2.6.1-1 specifies the data types defined for the Neasdf_BaselineDNSPattern service based interface protocol.\nTable 6.2.6.1-1: Neasdf_BaselineDNSPattern specific Data Types\n\nTable 6.2.6.1-2 specifies data types re-used by the Neasdf service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Neasdf_BaselineDNSPattern service based interface.\nTable 6.2.6.1-2: Neasdf_BaselineDNSPattern re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.2.6.2.2-1: Definition of type BaseDnsPatternCreateData\n\nTable 6.2.6.2.3-1: Definition of type BaseDnsPatternCreatedData\n\nTable 6.2.6.2.4-1: Definition of type BaselineDnsMdt\n\nTable 6.2.6.2.5-1: Definition of type BaselineDnsAit\n\nTable 6.2.6.2.6-1: Definition of type VarNfId\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.6.1-1: Neasdf_BaselineDNSPattern specific Data Types",
                                    "table number": 83,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.1-2: Neasdf_BaselineDNSPattern re-used Data Types",
                                    "table number": 84,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.2-1: Definition of type BaseDnsPatternCreateData",
                                    "table number": 85,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.3-1: Definition of type BaseDnsPatternCreatedData",
                                    "table number": 86,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.4-1: Definition of type BaselineDnsMdt",
                                    "table number": 87,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.5-1: Definition of type BaselineDnsAit",
                                    "table number": 88,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.6-1: Definition of type VarNfId",
                                    "table number": 89,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.7\tError Handling",
                            "text_content": "For the Neasdf_BaselineDNSPattern API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Neasdf_BaselineDNSPattern API.\nNo specific procedures for the Neasdf_BaselineDNSPattern API service are specified.\nThe application errors defined for the Neasdf_BaselineDNSPattern service are listed in Table 6.2.7.3-1.\nTable 6.2.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.7.3-1: Application errors",
                                    "table number": 90,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.8\tFeature negotiation",
                            "text_content": "The optional features in table 6.2.8-1 are defined for the Neasdf_BaselineDNSPattern API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.2.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.8-1: Supported Features",
                                    "table number": 91,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Neasdf_BaselineDNSPattern API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Neasdf_BaselineDNSPattern API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Neasdf_BaselineDNSPattern service.\nThe Neasdf_BaselineDNSPattern API defines a single scope \"neasdf-baselinednspattern\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.10\tHTTP redirection",
                            "text_content": "An HTTP request may be redirected to a different EASDFF service instance within the same EASDF, or to a different EASDF of an EASDF set, when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different EASDF producer instance will return the NF Instance ID of the new EASDF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an EASDF redirects a service request to a different EASDF using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new EASDF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "This Annex specifies the formal definition of the API(s) defined in the present specification. It consists of OpenAPI  specifications in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE 1:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tNeasdf_DNSContext API",
            "description": "openapi: 3.0.0\n\ninfo:\nversion: '1.1.0-alpha.4'\ntitle: 'Neasdf_DNSContext'\ndescription: |\nEASDF DNS Context Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: 3GPP TS 29.556 V18.4.0; 5G System; Edge Application Server Discovery Services; Stage3\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.556/\n\nservers:\n- url: '{apiRoot}/neasdf-dnscontext/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription:  apiRoot as defined in clause 4.4 of 3GPP TS 29.501.\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- neasdf-dnscontext\n\npaths:\n\n/dns-contexts:\npost:\nsummary:  Create\ntags:\n- DNS contexts collection\noperationId: CreateDnsContext\nrequestBody:\ndescription: representation of the DNS context to be created in the EASDF\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/DnsContextCreateData'\ncallbacks:\ndnsContextNotification:\n'{$request.body#/notifyUri}':\npost:\nrequestBody:  # contents of the DNS context Notify request\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/DnsContextNotification'\nresponses:\n'204':\ndescription: successful notification\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\nresponses:\n'201':\ndescription: successful creation of a DNS context\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/DnsContextCreatedData'\nheaders:\nLocation:\ndescription: 'Contains the URI of the newly created resource, according to the structure: {apiRoot}/neasdf-dnscontext/<apiVersion>/dns-contexts/{dnsContextId}'\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/dns-contexts/{dnsContextId}:\ndelete:\nsummary:  Delete the DNS Context\ntags:\n- Individual DNS context\noperationId: DeleteDnsContext\nparameters:\n- name: dnsContextId\nin: path\ndescription:  DNS context Identifier\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful deletion of an SM context\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\npatch:\nsummary: Updates the DNS context\noperationId: UpdateDnsContext\ntags:\n- Individual DNS context\nparameters:\n- name: dnsContextId\nin: path\ndescription:  DNS context Identifier\nrequired: true\nschema:\ntype: string\n- name: Content-Encoding\nin: header\ndescription: Content-Encoding, described in IETF RFC 7231\nschema:\ntype: string\nrequestBody:\ncontent:\napplication/json-patch+json:\nschema:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchItem'\nrequired: true\nresponses:\n'200':\ndescription: Partial update of the DNS context\ncontent:\napplication/json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchResult'\n'204':\ndescription: Successful update of the DNS context\nheaders:\nAccept-Encoding:\ndescription: Accept-Encoding, described in IETF RFC 7694\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\nput:\nsummary: Updates the DNS context (complete replacement)\noperationId: ReplaceDnsContext\ntags:\n- Individual DNS context\nparameters:\n- name: dnsContextId\nin: path\ndescription:  DNS context Identifier\nrequired: true\nschema:\ntype: string\n- name: Content-Encoding\nin: header\ndescription: Content-Encoding, described in IETF RFC 7231\nschema:\ntype: string\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/DnsContextCreateData'\nresponses:\n'204':\ndescription: Successful update of the DNS context\nheaders:\nAccept-Encoding:\ndescription: Accept-Encoding, described in IETF RFC 7694\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nneasdf-dnscontext: Access to the neasdf-dnscontext API\n\n\nschemas:\n#\n# STRUCTURED DATA TYPES\n#\nDnsContextCreateData:\ndescription: Data within Create request\ntype: object\nproperties:\nueIpv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nueIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nhplmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnId'\nn6RoutingInfo:\n$ref: '#/components/schemas/N6RoutingInfo'\ndnsRules:\ndescription: map of DNS message handling rules where a valid JSON string serves as key\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/DnsRule'\nminProperties: 1\nnotifyUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- dnn\n- sNssai\n- dnsRules\nanyOf:\n- required: [ ueIpv4Addr ]\n- required: [ ueIpv6Prefix ]\n\nDnsContextCreatedData:\ndescription: Data within Create response\ntype: object\nproperties:\neasdfIpv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\neasdfIpv6Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nanyOf:\n- required: [ easdfIpv4Addr ]\n- required: [ easdfIpv6Addr ]\n\nDnsRule:\ndescription: DNS message handling rule\ntype: object\nproperties:\ndnsRuleId:\ntype: string\nlabel:\ntype: string\nprecedence:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint32'\ndnsQueryMdtList:\ndescription: map of DNS query message detection templates where a valid JSON string serves as key\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/DnsQueryMdt'\nminProperties: 1\nbaseDnsQueryMdtList:\ntype: array\nitems:\n$ref: '#/components/schemas/BaselineDnsQueryMdtInfo'\nminItems: 1\ndnsRspMdtList:\ndescription: map of DNS response message detection templates where a valid JSON string serves as key\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/DnsRspMdt'\nminProperties: 1\nbaseDnsRspMdtList:\ntype: array\nitems:\n$ref: '#/components/schemas/BaselineDnsRspMdtInfo'\nminItems: 1\ndnsMsgId:\ntype: string\nactionList:\ndescription: map of actions where a valid JSON string serves as key\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/Action'\nminProperties: 1\nrequired:\n- actionList\nallOf:\n- not:\nrequired: [ dnsQueryMdtList, dnsRspMdtList ]\n- not:\nrequired: [ dnsQueryMdtList, baseDnsRspMdtList ]\n- not:\nrequired: [ baseDnsQueryMdtList, dnsRspMdtList ]\n- not:\nrequired: [ baseDnsQueryMdtList, baseDnsRspMdtList ]\n\nDnsQueryMdt:\ndescription: DNS Query message detection template\ntype: object\nproperties:\nmdtId:\ntype: string\nlabel:\ntype: string\nsourceIpv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nsourceIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nfqdnPatternList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/FqdnPatternMatchingRule'\nminItems: 1\nrequired:\n- mdtId\n\nDnsRspMdt:\ndescription: DNS Response message detection template\ntype: object\nproperties:\nmdtId:\ntype: string\nlabel:\ntype: string\nfqdnPatternList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/FqdnPatternMatchingRule'\nminItems: 1\neasIpv4AddrRanges:\ntype: array\nitems:\n$ref: '#/components/schemas/Ipv4AddressRange'\nminItems: 1\neasIpv6PrefixRanges:\ntype: array\nitems:\n$ref: '#/components/schemas/Ipv6PrefixRange'\nminItems: 1\nrequired:\n- mdtId\n\nIpv4AddressRange:\ndescription: Range of IPv4 addresses\ntype: object\nproperties:\nstart:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nend:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nrequired:\n- start\n- end\n\nIpv6PrefixRange:\ndescription: Range of IPv6 prefixes\ntype: object\nproperties:\nstart:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nend:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nrequired:\n- start\n- end\n\nAction:\ndescription: Action to apply to DNS messages matching a message detection template\ntype: object\nproperties:\napplyAction:\n$ref: '#/components/schemas/ApplyAction'\nfwdParas:\n$ref: '#/components/schemas/ForwardingParameters'\nreportingOnceInd:\ntype: boolean\ndefault: false\nresetReportingOnceInd:\ntype: boolean\ndefault: false\nrespParas:\n$ref: '#/components/schemas/RespondParameters'\nrequired:\n- applyAction\n\nDnsContextNotification:\ndescription: Data within DNS Context Notify\ntype: object\nproperties:\neventreportList:\ntype: array\nitems:\n$ref: '#/components/schemas/DnsContextEventReport'\nminItems: 1\n\nForwardingParameters:\ndescription: Forwarding instructions\ntype: object\nproperties:\necsOptionInfo:\n$ref: '#/components/schemas/EcsOptionInfo'\ndnsServerAddressInfo:\n$ref: '#/components/schemas/DnsServerAddressInfo'\n\nEcsOptionInfo:\ndescription: ECS Option Information\ntype: object\nproperties:\necsOption:\n$ref: '#/components/schemas/EcsOption'\nbaseDnsAitId:\n$ref: '#/components/schemas/BaselineDnsAitId'\noneOf:\n- required: [ ecsOption ]\n- required: [ baseDnsAitId ]\n\nDnsServerAddressInfo:\ndescription: DNS Server Address Information\ntype: object\nproperties:\ndnsServerAddressList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/IpAddr'\nminItems: 1\nbaseDnsAitId:\n$ref: '#/components/schemas/BaselineDnsAitId'\noneOf:\n- required: [ dnsServerAddressList ]\n- required: [ baseDnsAitId ]\n\nBaselineDnsMdtId:\ndescription: Baseline DNS Message Detection Template Identifier\ntype: object\nproperties:\nbaseDnsPatternUri:\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nmdtId:\ntype: string\nrequired:\n- baseDnsPatternUri\n- mdtId\n\nBaselineDnsAitId:\ndescription: Baseline DNS Action Information Template Identifier\ntype: object\nproperties:\nbaseDnsPatternUri:\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naitId:\ntype: string\nrequired:\n- baseDnsPatternUri\n- aitId\n\nEcsOption:\ndescription: ECS Option Information\ntype: object\nproperties:\nsourcePrefixLength:\ntype: integer\nminimum: 0\nmaximum: 128\nscopePrefixLength:\ntype: integer\nminimum: 0\nmaximum: 128\nipAddr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/IpAddr'\nrequired:\n- sourcePrefixLength\n- ipAddr\n\nDnsContextEventReport:\ndescription: DNS context event report\ntype: object\nproperties:\ntimestamp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\ndnsRuleId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint32'\ndnsQueryReport:\n$ref: '#/components/schemas/DnsQueryReport'\ndnsRspReport:\n$ref: '#/components/schemas/DnsRspReport'\ndnsMsgId:\ntype: string\nrequired:\n- timestamp\n\n\nDnsQueryReport:\ndescription: DNS Query Event Report\ntype: object\nproperties:\nfqdn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\n\nDnsRspReport:\ndescription: DNS Response Event Report\ntype: object\nproperties:\nfqdn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\neasIpv4Addresses:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nminItems: 1\neasIpv6Addresses:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nminItems: 1\necsOption:\n$ref: '#/components/schemas/EcsOption'\n\nBaselineDnsQueryMdtInfo:\ndescription: Baseline DNS Query MDT Information\ntype: object\nproperties:\nsourceIpv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nsourceIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nbaseDnsMdtList:\ntype: array\nitems:\n$ref: '#/components/schemas/BaselineDnsMdtId'\nminItems: 1\nrequired:\n- baseDnsMdtList\n\nBaselineDnsRspMdtInfo:\ndescription: Baseline DNS Response MDT Information\ntype: object\nproperties:\nbaseDnsMdtList:\ntype: array\nitems:\n$ref: '#/components/schemas/BaselineDnsMdtId'\nminItems: 1\nrequired:\n- baseDnsMdtList\n\nRespondParameters:\ndescription: Respond instructions\ntype: object\nproperties:\neasIpv4Addresses:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nminItems: 1\neasIpv6Addresses:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nminItems: 1\n\nN6RoutingInfo:\ndescription: N6 traffic routing information\ntype: object\nproperties:\nipv4Address:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nipv6Address:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nportNumber:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\n\n#\n# SIMPLE DATA TYPES\n#\n\n\n\n#\n# ENUMERATIONS\n#\n\nApplyAction:\nanyOf:\n- type: string\nenum:\n- BUFFER\n- REPORT\n- FORWARD\n- DISCARD\n- RESPOND\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: >\nAction to apply to the DNS packet\n\n\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.3\tNeasdf_BaselineDNSPattern API",
            "description": "openapi: 3.0.0\n\ninfo:\nversion: '1.1.0-alpha.2'\ntitle: 'Neasdf_BaselineDNSPattern'\ndescription: |\nEASDF Baseline DNS Pattern Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: 3GPP TS 29.556 V18.1.0; 5G System; Edge Application Server Discovery Services; Stage 3\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.556/'\n\nservers:\n- url: '{apiRoot}/neasdf-baselinednspattern/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription:  apiRoot as defined in clause 4.4 of 3GPP TS 29.501.\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- neasdf-baselinednspattern\n\npaths:\n\n/base-dns-patterns/{smfId}/{smfImplementationSegmentPaths}:\npatch:\nsummary: Updates the Baseline DNS Pattern\noperationId: UpdateBaseDNSPattern\ntags:\n- Individual Baseline DNS Pattern\nparameters:\n- name: smfId\nin: path\ndescription: SMF or SMF set identifier or Set Id part in SMF set identifier\nrequired: true\nschema:\n$ref: '#/components/schemas/VarNfId'\nstyle: simple\nexplode: true\n- name: smfImplementationSegmentPaths\nin: path\ndescription: SMF Implementation Dependent Segment Paths\nrequired: true\nschema:\ntype: string\n- name: Content-Encoding\nin: header\ndescription: Content-Encoding, described in IETF RFC 7231\nschema:\ntype: string\nrequestBody:\ncontent:\napplication/json-patch+json:\nschema:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchItem'\nrequired: true\nresponses:\n'200':\ndescription: Partial update of the Baseline DNS Pattern\ncontent:\napplication/json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchResult'\n'204':\ndescription: Successful update of the Baseline DNS Pattern\nheaders:\nAccept-Encoding:\ndescription: Accept-Encoding, described in IETF RFC 7694\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\nput:\nsummary: Creates or Updates the Baseline DNS Pattern (complete replacement)\noperationId: CreateOrReplaceBaseDnsPattern\ntags:\n- Individual Baseline DNS Pattern\nparameters:\n- name: smfId\nin: path\ndescription: SMF or SMF set identifier or Set Id part in SMF set identifier\nrequired: true\nschema:\n$ref: '#/components/schemas/VarNfId'\nstyle: simple\nexplode: true\n- name: smfImplementationSegmentPaths\nin: path\ndescription: SMF Implementation Dependent Segment Paths\nrequired: true\nschema:\ntype: string\n- name: Content-Encoding\nin: header\ndescription: Content-Encoding, described in IETF RFC 7231\nschema:\ntype: string\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/BaseDnsPatternCreateData'\nresponses:\n'201':\ndescription: successful creation of a Baseline DNS pattern\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/BaseDnsPatternCreatedData'\nheaders:\nLocation:\ndescription: 'Contains the URI of the newly created resource, according to the structure: {apiRoot}/neasdf-baselinednspattern/<apiVersion>/base-dns-patterns/{smfId}/{smfImplementationSegmentPaths}'\nrequired: true\nschema:\ntype: string\n'204':\ndescription: Successful update of the Baseline DNS Pattern\nheaders:\nAccept-Encoding:\ndescription: Accept-Encoding, described in IETF RFC 7694\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ndelete:\nsummary:  Deletes a Baseline DNS Pattern\ntags:\n- Individual Baseline DNS Pattern\noperationId: DeleteBaseDnsPattern\nparameters:\n- name: smfId\nin: path\ndescription: SMF or SMF set identifier or Set Id part in SMF set identifier\nrequired: true\nschema:\n$ref: '#/components/schemas/VarNfId'\nstyle: simple\nexplode: true\n- name: smfImplementationSegmentPaths\nin: path\ndescription: SMF Implementation Dependent Segment Paths\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful deletion of a Baseline DNS Pattern\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nneasdf-baselinednspattern: Access to the neasdf-baselinednspattern API\n\nschemas:\n#\n# STRUCTURED DATA TYPES\n#\nBaseDnsPatternCreateData:\ndescription: Data in Baseline DNS Pattern Create request\ntype: object\nproperties:\nlabel:\ntype: string\nbaseDnsMdtList:\ndescription: map of baseline DNS message detection templates where a valid JSON string serves as key\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/BaselineDnsMdt'\nminProperties: 1\nbaseDnsAitList:\ndescription: map of Baseline DNS action information Template where a valid JSON string serves as key\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/BaselineDnsAit'\nminProperties: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n\nBaseDnsPatternCreatedData:\ndescription: Data in Baseline DNS Pattern Create response\ntype: object\nproperties:\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n\nBaselineDnsMdt:\ndescription: Baseline DNS message detection template\ntype: object\nproperties:\nmdtId:\ntype: string\nlabel:\ntype: string\ndnsQueryMdtList:\ndescription: map of DNS query message detection templates where a valid JSON string serves as key\ntype: object\nadditionalProperties:\n$ref: 'TS29556_Neasdf_DNSContext.yaml#/components/schemas/DnsQueryMdt'\nminProperties: 1\ndnsRspMdtList:\ndescription: map of DNS response message detection templates where a valid JSON string serves as key\ntype: object\nadditionalProperties:\n$ref: 'TS29556_Neasdf_DNSContext.yaml#/components/schemas/DnsRspMdt'\nminProperties: 1\nrequired:\n- mdtId\noneOf:\n- required: [ dnsQueryMdtList ]\n- required: [ dnsRspMdtList ]\n\nBaselineDnsAit:\ndescription: Baseline DNS action information Template\ntype: object\nproperties:\naitId:\ntype: string\nlabel:\ntype: string\necsOption:\n$ref: 'TS29556_Neasdf_DNSContext.yaml#/components/schemas/EcsOption'\ndnsServerAddressList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/IpAddr'\nminItems: 1\nrequired:\n- aitId\n\nVarNfId:\ndescription: SMF or SMF Set Id or Set Id part in NF Set Id\ntype: object\nproperties:\nsmfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nsetId:\ntype: string\npattern: '^([A-Za-z0-9\\-]*[A-Za-z0-9])$'\nsmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\n\n#\n# SIMPLE DATA TYPES\n#\n\n\n\n#\n# ENUMERATIONS\n#\n\n\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "",
                    "table number": 92,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        }
    ]
}