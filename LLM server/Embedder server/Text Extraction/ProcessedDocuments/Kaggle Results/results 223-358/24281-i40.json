{
    "document_name": "24281-i40.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document specifies the signalling control needed to support Mission Critical Video (MCVideo) service.\nThe MCVideo service and its associated media plane control protocols can be used for public safety applications and also for general commercial applications (e.g., utility companies and railways).\nThe present document is applicable to User Equipment (UE) supporting MCVideo client, and MCVideo server.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\tIETF RFC 4566 (July 2006): \"Session Description Protocol\".\n[3]\tIETF RFC 3605 (October 2003): \"Real Time Control Protocol (RTCP) attribute in Session Description Protocol (SDP)\".\n[4]\t3GPP TS 24.483: \"Mission Critical Services (MCS) Management Object (MO)\".\n[5]\t3GPP TS 24.581: \"Mission Critical Video (MCVideo) media plane control Protocol specification\".\n[6]\tIETF RFC 4567 (July 2006): \"Key Management Extensions for Session Description Protocol (SDP) and Real Time Streaming Protocol (RTSP)\".\n[7]\tIETF RFC 3264 (June 2002): \"An Offer/Answer Model with the Session Description Protocol (SDP)\".\n[8]\t3GPP TS 33.180: \"Security of the mission critical service\".\n[9]\t3GPP TS 29.199-9: \"Open Service Access (OSA); Parlay X Web Services; Part 9: Terminal location\".\n[10]\t3GPP TS 24.007: \"Mobile radio interface signalling layer 3; General aspects\".\n[11]\t3GPP TS 24.229: \"IP multimedia call control protocol based on Session Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".\n[12]\tIETF RFC 3903 (October 2004): \"Session Initiation Protocol (SIP) Extension for Event State Publication\".\n[13]\tIETF RFC 3856 (August 2004): \"A Presence Event Package for the Session Initiation Protocol (SIP)\".\n[14]\tIETF RFC 6050 (November 2010): \"A Session Initiation Protocol (SIP) Extension for the Identification of Services\".\n[15]\tIETF RFC 3261 (June 2002): \"SIP: Session Initiation Protocol\".\n[16]\tIETF RFC 6665 (July 2012): \"SIP-Specific Event Notification\".\n[17]\tIETF RFC 3428 (December 2002): \"Session Initiation Protocol (SIP) Extension for Instant Messaging\".\n[18]\tIETF RFC 3863 (August 2004): \"Presence Information Data Format (PIDF)\".\n[19]\tIETF RFC 4661 (September 2006): \"An Extensible Markup Language (XML)-Based Format for Event Notification Filtering\".\n[20]\tIETF RFC 3841 (August 2004): \"Caller Preferences for the Session Initiation Protocol (SIP)\".\n[21]\tIETF RFC 6086 (January 2011): \"Session Initiation Protocol (SIP) INFO Method and Package Framework\".\n[22]\tIETF RFC 3840 (August 2004): \"Indicating User Agent Capabilities in the Session Initiation Protocol (SIP)\".\n[23]\tIETF RFC 4028 (April 2005): \"Session Timers in the Session Initiation Protocol (SIP)\".\n[24]\t3GPP TS 24.481: \"Mission Critical Services (MCS) group management; Protocol specification\".\n[25]\t3GPP TS 24.484: \"Mission Critical Services (MCS) configuration management; Protocol specification\".\n[26]\t3GPP TS 23.281: \"Functional architecture and information flows to support Mission Critical Video (MCVideo); Stage 2\".\n[27]\tIETF RFC 5373 (November 2008): \"Requesting Answering Modes for the Session Initiation Protocol (SIP)\".\n[28]\tIETF RFC 5318 (December 2008): \"The Session Initiation Protocol (SIP) P-Refused-URI-List Private-Header (P-Header)\".\n[29]\tIETF RFC 4483 (May 2006): \"A Mechanism for Content Indirection in Session Initiation Protocol (SIP) Messages\".\n[30]\tIETF RFC 4964 (September 2007): \"The P-Answer-State Header Extension to the Session Initiation Protocol for the Open Mobile Alliance Push to Talk over Cellular\".\n[31]\tIETF RFC 4488 (May 2006): \"Suppression of Session Initiation Protocol (SIP) REFER Method Implicit Subscription\".\n[32]\tIETF RFC 4538 (June 2006): \" Request Authorization through Dialog Identification in the Session Initiation Protocol (SIP)\".\n[33]\tIETF RFC 4412 (February 2006): \"Communications Resource Priority for the Session Initiation Protocol (SIP)\".\n[34]\tVoid.\n[35]\tIETF RFC 5626 (October 2009): \"Managing Client-Initiated Connections in the Session Initiation Protocol (SIP)\".\n[36]\t3GPP TS 22.281: \"Mission Critical Video over LTE\".\n[37]\tIETF RFC 5366 (October 2008): \"Conference Establishment Using Request-Contained Lists in the Session Initiation Protocol (SIP)\".\n[38]\tIETF RFC 8101 (March 2017): \"IANA Registration of New Session Initiation Protocol (SIP) Resource-Priority Namespace for Mission Critical Push To Talk Service\".\n[39]\t3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".\n[40]\t3GPP TS 24.379: \"Mission Critical Push To Talk (MCPTT) call control Protocol specification\".\n[41]\tIETF RFC 5627 (October 2009): \"Obtaining and Using Globally Routable User Agent URIs (GRUUs) in the Session Initiation Protocol (SIP)\".\n[42]\tVoid.\n[43]\tVoid.\n[44]\t3GPP TS 29.468 \"Group Communication System Enablers for LTE (GCSE_LTE); MB2 reference point; Stage 3\".\n[45]\tW3C: \"XML Encryption Syntax and Processing Version 1.1\", .\n[46]\tIETF RFC 4648 (October 2006): \"The Base16, Base32, and Base64 Data Encodings\".\n[47]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[48]\tIETF RFC 2045 (November 1996): \"Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies\".\n[49]\tIETF RFC 2392 (August 1998): \"Content-ID and Message-ID Uniform Resource Locators\".\n[50]\tW3C: \"XML Signature Syntax and Processing (Second Edition)\",\n[51]\tVoid.\n[52]\t3GPP TS 24.482: \"Mission Critical Services (MCS) identity management Protocol specification\".\n[53]\tIETF RFC 4354 (January 2006): \"A Session Initiation Protocol (SIP) Event Package and Data Format for Various Settings in Support for the Push-to-Talk over Cellular (PoC) Service\".\n[54]\t3GPP TS 29.283: \"Diameter Data Management Applications\".\n[55]\tIETF RFC 6509 (February 2012): \"MIKEY-SAKKE: Sakai-Kasahara Key Encryption in Multimedia Internet KEYing (MIKEY)\".\n[56]\tVoid.\n[57]\tIETF RFC 4575 (August 2006): \"A Session Initiation Protocol (SIP) Event Package for Conference State\".\n[58]\tIETF RFC 4122 (July 2005): \"A Universally Unique IDentifier (UUID) URN Namespace\".\n[59]\t3GPP TS 24.334: \"Proximity-services (ProSe) User Equipment (UE) to ProSe function protocol aspects\".\n[60]\t3GPP TS 24.237: \"IP Multimedia (IM) Core Network (CN) subsystem IP Multimedia Subsystem (IMS) service continuity\".\n[61]\t3GPP TS 26.281: \"Mission Critical Video (MCVideo); Codecs and media handling\".\n[62]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS)\".\n[63]\tIETF RFC 6809 (November 2012): \"Mechanism to Indicate Support of Features and Capabilities in the Session Initiation Protocol (SIP)\".\n[64]\tIETF RFC 3515 (April 2003): \"The Session Initiation Protocol (SIP) Refer Method\".\n[65]\tIETF RFC 7647 (September 2015): \"Clarifications for the Use of REFER with RFC 6665\".\n[66]\tIETF RFC 7462 (March 2015): \"URNs for the Alert-Info Header Field of the Session Initiation Protocol (SIP)\".\n[67]\t3GPP TS 26.346: \" Multimedia Broadcast/Multicast Service (MBMS); Protocols and codecs\".\n[68]\t3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core Network Protocols; Stage 3\".\n[69]\t3GPP TS 23.203: \"Policy and charging control architecture\".\n[70]\t3GPP TS 29.061: \"Interworking between the Public Land Mobile Network (PLMN) supporting packet based services and Packet Data Networks (PDN)\".\n[71]\tIETF RFC 5368 (October 2008): \"Referring to Multiple Resources in the Session Initiation Protocol (SIP)\".\n[72]\tIETF RFC 5761 (April 2010): \"Multiplexing RTP Data and Control Packets on a Single Port\".\n[73]\t3GPP TS 24.216: \"Communication continuity managed object\".\n[74]\t3GPP TS 23.280: \"Technical Specification Group Services and System Aspects; Common functional architecture to support mission critical services; Stage 2\".\n[75]\t3GPP TS 22.280: \"Mission Critical Services Common Requirements (MCCoRe); Stage 1\".\n[76]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n[77]\t3GPP TS 22.179: \"Mission Critical Push to Talk (MCPTT); Stage 1\".\n[78]\t3GPP TS 23.379: \"Functional architecture and information flows to support Mission Critical Push to Talk (MCPTT); Stage 2\".\n[79]\t3GPP TS 24.380: \"Mission Critical Push to Talk (MCPTT) media plane control; Protocol Specification\".\n[80]\tIETF RFC 3550 (July 2003): \"RTP: A Transport Protocol for Real-Time Applications\".\n[81]\tIETF RFC 7614 (August 2015): \"Explicit Subscriptions for the REFER method\".\n[82]\t3GPP TS 23.468: \"Group Communication System Enablers for LTE (GCSE_LTE); Stage 2\".\n[83]\tIETF RFC 2046 (November 1996): \"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types\".\n[84]\t3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast services; Stage 2\".\n[85]\t3GPP TS 23.289: \"Mission Critical services over 5G System; Stage 2\".\n[86]\tIETF RFC 5576: \"Source-Specific Media Attributes in the Session Description Protocol (SDP)\".\n[87]\t3GPP TS 24.554: \" Proximity-services (ProSe) in 5G System (5GS) protocol aspects; Stage 3\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nAn MCVideo user is affiliated to an MCVideo group: The MCVideo user is listed as a member of the MCVideo group in the MCVideo group document, the MCVideo server owning the MCVideo group has authorised the MCVideo user's interest in the MCVideo group and the MCVideo server serving the MCVideo user has authorised the MCVideo user's interest in the MCVideo group.\nAn MCVideo user is affiliated to an MCVideo group at an MCVideo client: The MCVideo user is affiliated to the MCVideo group, the MCVideo client has a registered IP address for an IMPU related to the MCVideo ID, and the MCVideo server serving the MCVideo user has authorised the MCVideo user's interest in the MCVideo group at the MCVideo client.\nAffiliation status: Applies for an MCVideo user to an MCVideo group and has one of the following states:\na)\tthe \"not-affiliated\" state indicating that the MCVideo user is not interested in the MCVideo group and the MCVideo user is not affiliated to the MCVideo group;\nb)\tthe \"affiliating\" state indicating that the MCVideo user is interested in the MCVideo group but the MCVideo user is not affiliated to the MCVideo group yet;\nc)\tthe \"affiliated\" state indicating that the MCVideo user is affiliated to the MCVideo group and there was no indication that MCVideo user is no longer interested in the MCVideo group; and\nd)\tthe \"deaffiliating\" state indicating that the MCVideo user is no longer interested in the MCVideo group but the MCVideo user is still affiliated to the MCVideo group.\nAmbient viewing call: a call type allowing an authorized MCVideo user to cause an MCVideo client to initiate a communication which results in no indication on the MCVideo UE that it is transmitting. Ambient viewing can be initiated by an authorized MCVideo user who wants to be viewed to by another authorized MCVideo user or can be initiated by an authorized MCVideo user who wants to view to another MCVideo user.\nAmbient viewing client role: the role of an MCVideo client in an ambient viewing call, which can be that of:\na)\tthe \"viewing MCVideo user\"; or\nb)\tthe \"viewed-to MCVideo user\".\nAmbient viewing type: the type of an ambient viewing call from the perspective of the relationship of the initiator of the call to the user being viewed to. The two types of ambient viewing call are:\na)\t\"remote-init\", indicating that the viewing MCVideo user initiated the call; and\nb)\t\"local-init\", indicating that the viewed-to MCVideo user initiated the call.\nFunctional alias status: Applies for the status of a functional alias for an MCVideo user and has one of the following states:\na)\tthe \"not-activated\" state indicating that the MCVideo user has not activated the functional alias;\nb)\tthe \"activating\" state indicating that the MCVideo user is interested in using the functional alias but the functional alias is not yet activated for the MCVideo user;\nc)\tthe \"activated\" state indicating that the MCVideo user has activated the functional alias;\nd)\tthe \"deactivating\" state indicating that the MCVideo user is no longer interested in using the functional alias but the functional alias is still activated for the MCVideo user; and\ne)\tthe \"take-over-possible\" state indicating that the MCVideo user is interested in using the functional alias but the functional alias is already activated and used by another MCVideo user.\nGroup document: when the group is not a regroup based on a preconfigured regroup, the term \"group document\" used within the present document refers to the group document for that group within the GMS as specified in 3GPP TS 24.481 [24]; when the group is a regroup based on a preconfigured group, the term \"group document\" used within the present document refers to the group document for the preconfigured group as specified in 3GPP TS 24.481 [24] restricted to the users or groups included in the regroup stored by the MCVideo server at the time of the regroup creation, see clause 21.\nGroup identity: An MCVideo group identity or a temporary MCVideo group identity.\nFor the purpose of the present document, the following terms and definitions given in 3GPP TS 24.581 [5] apply:\nMBMS bearer\nMBMS subchannel\n\nMCVideo client ID: is a globally unique identification of a specific MCVideo client instance. MCVideo client ID is a UUID URN as specified in IETF RFC 4122 [58].\nMCVideo emergency alert state: MCVideo client internal perspective of the state of an MCVideo emergency alert.\nMCVideo emergency group state: MCVideo client internal perspective of the in-progress emergency state of an MCVideo group maintained by the controlling MCVideo function.\nMCVideo emergency group call state: MCVideo client internal perspective of the state of an MCVideo emergency group call.\nMCVideo emergency private call: MCVideo emergency call between two MCVideo users that is initiated as a private call or a first-to-answer call with emergency indication, or without emergency indication when the MCVideo emergency state is already set,\nMCVideo emergency private call state: MCVideo client internal perspective of the state of an MCVideo emergency private call.\nMCVideo emergency private priority state: MCVideo client internal perspective of the in-progress emergency private call state of the two participants of an MCVideo emergency private call maintained by the controlling MCVideo function.\nMCVideo imminent peril group call state: MCVideo client internal perspective of the state of an MCVideo imminent peril group call.\nMCVideo imminent peril group state: MCVideo client internal perspective of the state of an MCVideo imminent peril group.\nMCVideo private call: MCVideo call between two MCVideo users that is initiated as a private call or a first-to-answer call.\nMCVideo private emergency alert state: MCVideo client internal perspective of the state of an MCVideo private emergency alert targeted to an MCVideo user.\nMCVideo video media: streaming video and audio media used in mission critical video systems as defined by 3GPP TS 22.179 [77] and 3GPP TS 23.281 [26].\nMedia-transmission control entity: A media control resource shared by participants in an MCVideo session, controlled by a state machine to ensure that participants can access the media resource at the same time.\nN2: The maximum number of simultaneous affiliations to MCVideo groups that the MCVideo client may have. The value of N2 is specified in the <MaxAffiliationsN2> element of the <Common> element of the MCVideo user profile and corresponds to the parameter Nc2 specified in 3GPP TS 22.280 [75].\nPrivate call: A call initiated by one user towards one other user with the intention to establish an MCVideo private call or MCVideo emergency private call.\nRemote change of an MCVideo user's selected group: A mechanism allowing an authorised user to remotely change the selected group of another MCVideo user.\nTemporary MCVideo group identity: A group identity representing a temporary grouping of MCVideo group identities formed by the group regrouping operation as specified in 3GPP TS 24.481 [24].\nTrusted mutual aid: A business relationship whereby the Partner MCVideo system is willing to share the details of the members of an MCVideo group that it owns with the Primary MCVideo system.\nUntrusted mutual aid: A business relationship whereby the Partner MCVideo system is not willing to share the details of the members of an MCVideo group that it owns with the Primary MCVideo system.\nUser Requested Application Priority: The requested priority as defined in 3GPP TS 23.280 [74]. How the server determines the priority for the requested communication based on requested priority and in combination with other factors is up to MCVideo server implementation.\nViewing MCVideo user: the MCVideo user in an ambient viewing call receiving the media transmission from the viewed-to MCVideo user;\nViewed-to MCVideo user: the MCVideo user in an ambient viewing call who is being viewed to, may or may not be aware of being viewed to depending on ambient viewing type of the call.\nFor the purposes of the present document, the following terms and definitions given in 3GPP TS 22.179 [77] apply:\nIn-progress emergency\nMCVideo emergency alert\nMCVideo emergency group call\nMCVideo emergency state\nPartner MCVideo system\nPrimary MCVideo system\nFor the purpose of the present document, the following terms and definitions given in 3GPP TS 23.281 [26] apply:\nPre-selected MCVideo user profile\nSelected MCVideo user profile\nFor the purpose of the present document, the following terms and definitions given in 3GPP TS 33.180 [8] apply:\nClient Server Key (CSK)\nMulticast Floor Control Key (MKFC)\nMulticast Signalling Key (MuSiK)\nMulticast Signalling Key Identifier (MuSiK-ID)\nMBMS subchannel control key (MSCCK)\nMBMS subchannel control key identifier (MSCCK-ID)\nPrivate Call Key (PCK)\nSignalling Protection Key (SPK)\nXML Protection Key (XPK)\nFunctional alias status: Applies for the status of a functional alias for an MCVideo user and has one of the following states:\na)\tthe \"not-activated\" state indicating that the MCVideo user has not activated the functional alias;\nb)\tthe \"activating\" state indicating that the MCVideo user is interested in using the functional alias but the functional alias is not yet activated for the MCVideo user;\nc)\tthe \"activated\" state indicating that the MCVideo user has activated the functional alias; and\nd)\tthe \"deactivating\" state indicating that the MCVideo user is no longer interested in using the functional alias but the functional alias is still activated for the MCVideo user.\nFor the purpose of the present document, the following terms and definitions given in 3GPP TS 22.280 [75] apply:\nFunctional alias\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tSymbols",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.3\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nCSK\tClient-Server Key\nECGI\tE-UTRAN Cell Global Identification\nIPEG\tIn-Progress Emergency Group\nIPEPC\tIn-Progress Emergency Private Call\nIPIG\tIn-Progress Imminent peril Group\nMBMS\tMultimedia Broadcast and Multicast Service\nMBS\tMulticast/Broadcast Service\nMBSFN\tMultimedia Broadcast multicast service Single Frequency Network\nMC\tMission Critical\nMCS\tMission Critical Service\nMCVideo\tMission Critical Video\nMCVideo group ID\tMCVideo group Identity\nMVEA\tMCVideo Emergency Alert\nMVEG\tMCVideo Emergency Group\nMVEGC\tMCVideo Emergency Group Call\nMVEPC\tMCVideo Emergency Private Call\nMVEPP\tMCVideo Emergency Private Priority\nMVES\tMCVideo Emergency State\nMIME\tMultipurpose Internet Mail Extensions\nMVIG\tMCVideo Imminent peril Group\nMVIGC\tMCVideo Imminent peril Group Call\nMONP\tMCPTT Off-Network Protocol\nMVPEA\tMCVideo Private Emergency Alert\nNAT\tNetwork Address Translation\nPCC\tPolicy and Charging Control\nPCCB\tPrivate Call Call-Back\nPLMN\tPublic Land Mobile Network\nQCI\tQoS Class Identifier\nRTP\tReal-time Transport Protocol\nSAI\tService Area Identifier\nSDP\tSession Description Protocol\nSIP\tSession Initiation Protocol\nSPK\tSignalling Protection Key\nSSRC\tSynchronization SouRCe\nTGI\tTemporary MCVideo Group Identity\nTMGI\tTemporary Mobile Group Identity\nUE\tUser Equipment\nURI\tUniform Resource Identifier\nXPK\tXML Protection Key\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tGeneral",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tMCVideo overview",
                    "description": "",
                    "summary": "",
                    "text_content": "The MCVideo service supports communication between several users (i.e. group call), where each user has the ability to send and receive video media. The MCVideo service also supports private calls between two users. Group calls and private calls can be provided on-network and off-network.\nThe present document provides the call control protocol to support the MCVideo architectural procedures specified in 3GPP TS 23.281 [26].\nFor on-network calls, the present document makes use of the existing IMS procedures specified in 3GPP TS 24.229 [11]. For on-network group calls, the procedures in the present document allow the use of unicast bearers.\nThe on-network procedures in this document allow an MCVideo user to:\n-\tinitiate a new MCVideo group session;\n-\tjoin an MCVideo group session that has already been established;\n-\tleave an established MCVideo group session and then re-join the same MCVideo group session if still established; and\n-\tuse a functional alias to identify the MCVideo user.\nFor off-network calls in EPS, the present document utilises the procedures for ProSe direct discovery for public safety and the procedures for one-to-one ProSe direct communication for Public Safety, as specified in 3GPP TS 24.334 [59]. The present document specifies the MCVideo Off-Network Protocol (MVONP) and the MVONP application procedures.\nFor on-network and off-network calls, the present document provides support for MCVideo emergency calls, MCVideo imminent-peril calls and MCVideo emergency alerts.\nNOTE:\tMCVideo emergency calls do not utilise emergency bearers. Instead the EPS bearer priority of a normal bearer is adjusted.\nThe MCVideo procedures provided by the present document refer to:\n-\tthe transmission-control procedures defined in 3GPP TS 24.581[5];\n-\tthe group management procedures defined in 3GPP TS 24.481 [24];\n-\tthe identity management procedures defined in 3GPP TS 24.482 [52];\n-\tthe security procedures defined in 3GPP TS 33.180 [8]; and\nthe PS-PS access transfer procedures defined in 3GPP TS 24.237 [60].\nThe MCVideo procedures provided by the present document access the configuration parameters provided by 3GPP TS 24.483 [4] and 3GPP TS 24.484 [25].\nCodecs and media handling for MCVideo are specified in 3GPP TS 26.281 [61];\nThe following procedures are provided within this document:\n-\tcommon procedures are specified in clause 6;\n-\tprocedures for registration in the IM CN subsystem and service authorisation are specified in clause 7;\n-\tprocedures for affiliation are specified in clause 8;\n-\tprocedures for on-network and off-network group call are specified in clause 9;\n-\tprocedures for on-network and off-network private call are specified in clause 10;\n-\tprocedures for on-network and off-network emergency alert are specified in clause 11;\n-\tprocedure for using MBMS transmission are specified in clause 16;\n-\tprocedure for using MBS transmission are specified in clause 16A; and\n-\tprocedures for management of functional alias in clause 20;\nThe MCVideo UE primarily obtains access to the MCVideo service via E-UTRAN or NG-RAN, using the procedures defined in 3GPP TS 24.301 [62] and 3GPP TS 24.501 [76].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.2\tURI and address assignments",
                    "description": "",
                    "summary": "",
                    "text_content": "In order to support MCVideo, the following URI and address assignments are assumed:\n1)\tthe participating MCVideo function is configured to be reachable using:\na)\tthe public service identity of the participating MCVideo function serving the MCVideo user.\nThe MCVideo client should use the <Server-URI> element of the < MCVideo-Service-Details> element of the <anyExt> element of the <on-network> element in the MCS UE initial configuration document, as defined in reference 3GPP TS 24.484 [25] as public service identity of the participating function of the MCVideo client.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.3\tMCVideo media",
                    "description": "",
                    "summary": "",
                    "text_content": "A session that contains MCVideo media is either a full-duplex session or a half-duplex session with an SDP media component containing an MCVideo media type with a codec suitable that exists between an MCVideo client and an MCVideo server.\nIf the MCVideo media session is a half-duplex session, it additionally contains a media component that describes the characteristics of the media-transmission control entity.\nIn many instances, the MCVideo media has the video component and the audio component generated at the source as one unified (and usually video-audio synchronized) stream, in which case it makes sense to also transport the MCVideo packets as one multi-media stream and indicate the absence of a separate audio component, as described in 3GPP TS 24.581 [5], clause 9.3.3.3. The QoS information associated with the transmission (QCI and SDP) is set at the operator's discretion, but the used QoS parameters need to have values that, on delivery to the UE, accommodate the desired QoS for reception. 3GPP TS 23.203 [69] has standardized the QCI value 67 for MCVideo transmissions, to be used in case a better suited value cannot be found.\nNOTE 1:\tThe intended use of the QCI is not for the QoS of the MBMS bearers, but for public safety UEs which receive the MBS Bearer Announcement message and use the QoS parameters associated with the QCI (e.g., Priority level, Packet error loss rate) for retransmission of packets, when acting as UE-to-UE relays.\nThere may be cases where the video component and audio component are streamed separately. In this situation, the presence of the separate audio stream is indicated as described in 3GPP TS 24.581 [5], clause 9.3.3.3, and both streams are carried over the same MBMS bearer.\nNOTE 2:\tAt any time, application-level signalling supports the association of at most one MBMS bearer to an MCVideo group. That means that the used MBMS bearer has to be able to support the transport of both the video and the audio media.\nNOTE 3:\tAn MCVideo client may handle several MCVideo groups at a time, and those MCVideo groups may each use its own MBMS bearer or may share an MBMS bearer with another MCVideo group. Since there is only one SDP record (the one in the most recently received MBMS Bearer Announcement message containing an SDP record, as described in clause 16.3.2.1) associated with an MCVideo client at a given time, all used streams have to be identified by the line number of an \"m=\" line within the SDP record.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.4\tWarning header field",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.4.1\tGeneral",
                            "text_content": "The MCVideo server can include a free text string in a SIP response to a SIP request. When the MCVideo server includes a text string in a response to a SIP INVITE request the text string is included in a Warning header field as specified in IETF RFC 3261 [15]. The MCVideo server includes the Warning code set to 399 (miscellaneous warning) and includes the host name set to the host name of the MCVideo server.\nEXAMPLE: Warning: 399 \"100 User not authorised to make group calls\"\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.4.2\tWarning texts",
                            "text_content": "The text string included in a Warning header field consists of an explanatory text preceded by a 3-digit text code, according to the following format in Table 4.4.2-1.\nTable 4.4.2-1 ABNF for the Warning text\n\nwarn-text      =/  DQUOTE mcvideo-warn-code SP mcvideo-warn-text DQUOTE\nmcvideo-warn-code = DIGIT DIGIT DIGIT\nmcvideo-warn-text = *( qdtext | quoted-pair )\n\n\nTable 4.4.2-2 defines the warning texts that are defined for the Warning header field when a Warning header field is included in a response to a SIP INVITE request as specified in clause 4.4.1.\nTable 4.4.2-2: Warning texts defined for the Warning header field\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 4.4.2-2: Warning texts defined for the Warning header field",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "4.5\tMCVideo session identity",
                    "description": "",
                    "summary": "",
                    "text_content": "The MCVideo session identity is a SIP URI, which identifies the MCVideo session between:\n-\tthe MCVideo client and the participating MCVideo function; and\n-\tthe participating MCVideo function and the controlling MCVideo function;\nThe MCVideo session identity shall be a GRUU as defined in IETF RFC 5627 [41] assigned by the MCVideo server as per 3GPP TS 24.229 [11].\nThe MCVideo session identity identifies the MCVideo session in such a way that e.g.:\n-\tthe MCVideo user is able to subscribe to the participant information of the ongoing MCVideo session;\n-\tthe MCVideo user is able to re-join an ongoing MCVideo session; and\n-\tthe IM CN subsystem is able to route an initial SIP request to the controlling MCVideo function.\nThe controlling MCVideo function allocates a unique MCVideo session identity hosted at the controlling MCVideo function for the MCVideo session at the time of session establishment.\nWhen protection of sensitive application data is required by the MCVideo operator, the MCVideo session identity cannot contain identity information that is classed as sensitive such as the MCVideo ID or the MCVideo Group ID, as specified in clause 4.8.\nThe controlling MCVideo function sends the MCVideo session identity towards the MCVideo client during MCVideo session establishment by including it in the Contact header field of the final SIP response to a session initiation request.\nThe participating MCVideo function allocates a unique MCVideo session identity hosted at the participating MCVideo function for the MCVideo session when it receives a MCVideo session identity in the Contact header field of a SIP request or a SIP response from the controlling MCVideo function and includes it in the Contact header field of the SIP request or SIP response sent towards the MCVideo client. The participating MCVideo function maintains a mapping of the MCVideo session identities it sends to the MCVideo client to the corresponding MCVideo session identities received from the controlling MCVideo function.\nThe MCVideo client can cache the MCVideo session identity until a time when it is no longer needed.\nThe MCVideo session identity is also used in transmission control requests and responses as specified in 3GPP TS 24.581 [5].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.6\tMCVideo priority calls and alerts",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.6.1\tMCVideo emergency group calls",
                            "text_content": "MCVideo emergency group calls as defined by 3GPP TS 23.281 [26] are supported by the procedures in this specification. The following MCVideo emergency group call functionalities are described:\n-\tMCVideo emergency group call origination;\n-\tupgrade of an MCVideo group call to an MCVideo emergency group call; and\n-\tin-progress group emergency cancel.\nNOTE 1:\tIn-progress group emergency cancel means the cancellation of the in-progress emergency state of the group, which is managed by the controlling MCVideo function.\nThe above functionalities are supported using both MCVideo prearranged group calls and MCVideo chat group calls.\nKey aspects of MCVideo emergency group calls include:\n-\tadjusted EPS bearer priority for all participants whether or not they themselves are in an emergency condition (i.e. have their MCVideo emergency state set). For unicast bearers this is achieved by using the Resource-Priority header field as specified in IETF RFC 4412 [33] with namespaces defined for use by MCVideo specified in IETF RFC 8101 [48], and for MBMS bearers this is achieved by having the participating MCVideo function adjust the ARP (priority, PVI, PCI) and executing the Modify MBMS Bearer Procedure per 3GPP TS 29.468 [44];\n-\tpre-emptive transmission control priority over MCVideo users in MCVideo emergency group calls who themselves do not have their MCVideo emergency state set;\n-\trestoration of normal EPS bearer priority to the call participants when the in-progress emergency group state is cancelled;\n-\trestoration of normal transmission control priority participants when the in-progress emergency group state is cancelled;\n-\trequires the MCVideo user to be authorised to either originate or cancel an MCVideo emergency group call;\n-\trequests to originate MCVideo emergency group calls may also include an indication of an MCVideo emergency alert; and\n-\trequests to cancel MCVideo emergency group calls may also include an indication of cancelling a previously issued MCVideo emergency alert.\nThere are a number of states that are key in managing these aspects of MCVideo emergency group calls, which include:\n-\tMCVideo emergency state: as defined in 3GPP TS 22.281 [36] and 3GPP TS 23.281 [26], indicates that the MCVideo user is in a life-threatening situation. Managed by the MCVideo user of the device or an authorised MCVideo user. While the MCVideo emergency state is set on the client, all calls originated by the client will be MCVideo emergency calls, assuming the MCVideo user is authorised for MCVideo emergency calls on them.\n-\tin-progress emergency group state: as defined in 3GPP TS 22.281 [36] and 3GPP TS 23.281 [26], indicates whether or not there is an MCVideo emergency group call ongoing on the specified group. This state is managed by the controlling MCVideo function. All group calls originated on this MCVideo group when in an in-progress emergency state are MCVideo emergency group calls until this state is cancelled, whether or not the originator is themselves in an MCVideo emergency state.\n-\tMCVideo emergency group (MVEG) state: this is an internal state managed by the MCVideo client which tracks the in-progress emergency state of the group as defined in 3GPP TS 22.281 [36] and 3GPP TS 23.281 [26] and managed by the controlling MCVideo function. Ideally, the MCVideo client would not need to track the in-progress emergency group state, but doing so enables the MCVideo client to request MCVideo emergency-level priority earlier than otherwise possible. For example, if the MCVideo user wishes to join an MCVideo emergency group call and is not in MCVideo emergency state itself, the MCVideo client should have emergency level priority. If it has knowledge of the in-progress emergency state of the group, it can request priority by including a Resource-Priority header field set to the MCVideo namespace specified in IETF RFC 8101 [38], and appropriate priority level in the SIP INVITE request (or SIP re-INVITE request).\n-\tMCVideo emergency group call (MVEGC) state: this is an internal state managed by the MCVideo client which in conjunction with the MCVideo emergency alert state aids in managing the MCVideo emergency state and related actions.\n-\tMCVideo emergency alert (MEA) state: this is also an internal state of the MCVideo client which in conjunction with the MCVideo emergency group call state aids in managing the MCVideo emergency state and related actions.\nNOTE 2:\tThe above states and their transitions are described in annex G.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.2\tMCVideo emergency private calls",
                            "text_content": "MCVideo emergency private calls as defined by 3GPP TS 23.281 [26] are supported by the procedures in this specification. The following MCVideo emergency private call functionalities are specified in the present document:\n-\tMCVideo emergency private call origination with optional MCVideo emergency alert initiation;\n-\tupgrade of an MCVideo private call to an MCVideo emergency private; and\n-\tcancellation of the MCVideo emergency private call priority.\nKey aspects of MCVideo emergency private calls include:\n-\tadjusted EPS bearer priority for both participants whether or not they are both in an emergency condition (i.e. both have their MCVideo emergency state set). This is achieved by using the Resource-Priority header field as specified in IETF RFC 4412 [33] with namespaces defined for use by MCVideo specified in IETF RFC 8101 [38];\n-\tthe initiator of the MCVideo emergency private call can override the other MCVideo user in the MCVideo emergency private call unless that user also has their MCVideo emergency state set;\n-\trestoration of normal EPS bearer priority to the call according to system policy (e.g., configured time limit for the emergency priority of an MCVideo emergency private call or cancellation of the emergency condition of the private call);\n-\trestoration of normal transmission control priority participants when the emergency elevated priority is cancelled;\n-\trequires the MCVideo user to be authorised to either originate or cancel an MCVideo emergency private call;\n-\trequires the targeted MCVideo user to be authorised to receive an MCVideo emergency private call;\n-\trequests to originate MCVideo emergency private calls may also include an indication of an MCVideo emergency alert; and\n-\tthe originator of the MCVideo emergency private call can request that the call use either manaual or automatic commencement mode.\nThere are a number of states that are key in managing these aspects of MCVideo emergency private calls, which include:\n-\tMCVideo emergency state (MVES): as defined in 3GPP TS 22.281 [36] and 3GPP TS 23.281 [26], indicates that the MCVideo user is in a life-threatening situation. Managed by the MCVideo user of the device or an authorised MCVideo user. While the MCVideo emergency state is set on the client, all MCVideo group and private calls originated by the client will be MCVideo emergency calls, assuming the MCVideo user is authorised for MCVideo emergency calls on them.\n-\tMCVideo private emergency alert (MVPEA) state: this is an internal state of the MCVideo client which in conjunction with the MCVideo emergency private call state aids in managing the MCVideo emergency state and related actions.\n-\tMCVideo emergency private call (MVEPC) state: this is an internal state managed by the MCVideo client which in conjunction with the MCVideo emergency alert state aids in managing the MCVideo emergency state and related actions.\n-\tIn-progress emergency private call (IPEPC) state: indicates whether or not there is an MCVideo emergency private call in-progress for the two participants. This state is managed by the controlling MCVideo function. All private calls originated between these two participants when in an in-progress emergency private call state are MCVideo emergency private calls until this state is cancelled, whether or not the originator is in an MCVideo emergency state.\n-\tMCVideo emergency private priority (MVEPP) state: this is an internal state managed by the MCVideo client which tracks the in-progress emergency private call state of the private call managed by the controlling MCVideo function. Ideally, the MCVideo client would not need to track the in-progress emergency private priority state, but doing so enables the MCVideo client to request MCVideo emergency-level priority earlier than otherwise possible. For example, if the MCVideo user wishes to join an MCVideo emergency private call and is not in the MCVideo emergency state, the MCVideo client should have emergency level priority. If it has knowledge of the in-progress emergency private priority state of the private call (i.e., the two participants), it can request priority by including a Resource-Priority header field set to the MCVideo namespace specified in IETF RFC 8101 [38], and appropriate priority level in the SIP INVITE request (or SIP re-INVITE request).\nNOTE:\tThe above states and their transitions are described in annex G.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.3\tMCVideo emergency alerts",
                            "text_content": "MCVideo emergency alerts as defined by 3GPP TS 23.281 [26] are supported by the procedures in this specification. The following MCVideo emergency group call functionalities are specified in the present document:\n-\tMCVideo emergency alert origination; and\n-\tMCVideo emergency alert cancellation.\nMCVideo emergency alerts are supported procedurally by two general mechanisms. One mechanism is embedded within the MCVideo emergency call (both emergency private call and emergency group call using both prearranged and chat session models) signalling procedures documented in clause 9 and clause 10 of this specification. The other mechanism utilizes SIP MESSAGE requests and is documented in clause 11.\nMCVideo emergency alerts can be initiated or cancelled as options in the following signalling procedures documented in clause 9 and clause 10:\n-\tMCVideo emergency group call initiation;\n-\tMCVideo group call upgraded to MCVideo emergency call;\n-\tMCVideo emergency group call cancellation (i.e., in-progress emergency state of the group set to false);\n-\tMCVideo emergency private call initiation; and\n-\tMCVideo private call upgrade to MCVideo emergency private call.\nMCVideo emergency alerts can also be initiated or cancelled as described in the procedures of clause 11 which include:\n-\tMCVideo emergency alert initiation; and\n-\tMCVideo emergency alert cancellation (with optional cancelling of the in-progress emergency state of a group).\nWhen MCVideo emergency alerts are initiated as an option in initiating or upgrading to an MCVideo emergency group call or are initiated using SIP MESSAGE requests, they are targeted to an MCVideo group, and, if not already affiliated, will result in the initiator being implicitly affiliated to the MCVideo group. When initiated as an option in initiating or upgrading to an MCVideo emergency private call, an MCVideo emergency alert is targeted to an individual MCVideo user, not to an MCVideo group.\nKey aspects of MCVideo emergency alerts include:\n-\tMCVideo emergency (MVES) state: the MCVideo client's MCVideo emergency state as described in clause G.1 is set upon initiation of an MCVideo emergency alert. While the MCVideo emergency state is set, assuming the MCVideo user has the needed authorisations, if the user initiates a private call and is authorised to do so, the MCVideo private call will be an MCVideo emergency private call. Similarly, assuming the needed authorisations, any subsequent MCVideo group call initiated by an MCVideo user with the MCVideo emergency state set will be an MCVideo emergency group call.\n-\tMCVideo emergency alert (MVEA) state: the MCVideo client maintains the internal MCVideo emergency alert state (MVEA) which aids in the management of the MCVideo emergency state as described in clause G.5.\n-\tMCVideo private emergency alert (MVPEA) state: the MCVideo client maintains the MCVideo private emergency alert state of an MCVideo emergency alert targeted to an MCVideo user which aids in the management of the MCVideo emergency state.\n-\tIn-progress emergency group (IPEG) state : MCVideo emergency alert initiation or cancellation in and of itself does not impact the in-progress emergency state of the targeted group, which is maintained by the controlling MCVideo function, nor does it impact the priority of the EPS bearers. However, in setting the MCVideo emergency state, assuming an MCVideo user is authorised to make MCVideo emergency calls on the targeted group, any subsequent MCVideo group call the MCVideo user initiates on the group will cause the in-progress emergency state of the group to be set as described in clause G.2 and will result in upgraded priority of the EPS bearers used in the MCVideo emergency call.\n-\tAuthorisations for emergency alerts: MCVideo users need to be authorised to initiate MCVideo emergency alerts and additionally need to be authorised to cancel MCVideo emergency alerts. The parameters related to these authorisations are specified in 3GPP TS 24.483 [4] and 3GPP TS 24.484 [25].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.4\tMCVideo imminent peril group call",
                            "text_content": "MCVideo imminent peril group calls as defined by 3GPP TS 23.281 [26] are supported by the procedures in this specification. The following MCVideo imminent peril group calls functionalities are specified in the present document:\n-\tMCVideo imminent peril group calls origination;\n-\tupgrade of an MCVideo group call to an MCVideo imminent peril group call;\n-\tupgrade from an MCVideo imminent peril group call to an MCVideo emergency group call; and\n-\tcancellation of the in-progress imminent peril state of the group.\nKey aspects of MCVideo imminent peril include:\n-\tadjusted EPS bearer priority for all participants when the in-progress imminent peril state of the group is set whether or not they themselves initiated an imminent peril group call. For unicast bearers this is achieved by using the Resource-Priority header field as specified in IETF RFC 4412 [33] with namespaces defined for use by MCVideo specified in IETF RFC 8101 [38], and for MBMS bearers this is achieved by having the participating MCVideo function adjust the ARP (priority, PVI, PCI) and executing the Modify MBMS Bearer Procedure per 3GPP TS 29.468 [44];\n-\trestoration of normal EPS bearer priority to the call when the in-progress imminent peril group state is cancelled; and\n-\trequires the MCVideo user to be authorised to either originate or cancel an MCVideo imminent peril group call.\nRelationship to other MCVideo priority group call types:\n-\tA normal MCVideo group call can be upgraded to an MCVideo imminent peril group call;\n-\tAn MCVideo imminent peril group call can be upgraded to an MCVideo emergency group call;\n-\tWhen either an MCVideo imminent peril group call or an MCVideo emergency group call (i.e., their respective \"in-progress\" states) the group call returns to the priority designated for normal group calls, i.e., their is no direct transition from an MCVideo emergency group call to an MCVideo imminent peril group call;\n-\tMCVideo imminent peril functionality is only applicable to MCVideo group calls, not MCVideo private calls; and\n-\tMCVideo imminent peril group calls have no associated alert capabilities such as the MCVideo emergency alert capability which is associated with MCVideo emergency group calls.\nThere are a number of states that are key in managing these aspects of MCVideo imminent peril group calls, which include:\n-\tMCVideo imminent peril group (MVIG) state: this is an internal state of the MCVideo client which in conjunction with the MCVideo imminent peril group call state aids the client in managing the use of the Resource-Priority header field and related actions.\n-\tMCVideo imminent peril group call (MVIGC) state: this is an internal state managed by the MCVideo client which in conjunction with the MCVideo imminent peril group state aids the client in managing the use of the Resource-Priority header field and related actions.\n-\tIn-progress imminent peril group (IPIG) state: this a state of the MCVideo group which is managed by the controlling MCVideo function. While an MCVideo group is in an in-progress imminent peril group state, all participants in group calls using this group will receive elevated priority.\nThe above states and their transitions are described in annex G.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.7\tCommunication security",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.7.1\tMedia security",
                            "text_content": "If a mission critical organisation requires MCVideo users to communicate using end-to-end security, a security context needs to be established between the initiator of the call and the recipient(s) of the call, prior to the establishment of media, or transmission control signalling. This provides assurance to MCVideo users that no unauthorised access to communications is taking place within the MCVideo network. An MCVideo key management server (KMS) manages the security domain. For any end-point to use or access end-to-end secure communications, it needs to be provisioned with keying material associated to its identity by the KMS as specified in 3GPP TS 33.180 [8].\nThe MIKEY-SAKKE message in the SIP INVITE/REFER provides a single PCK/PCK-ID, which is used to derive the SRTP session key for both the video and audio streams. For floor and media control, the SRTCP key is different depending on which interface the SRTCP key is currently traversing (see 3GPP TS 33.180 [8]). For unicast uplink and downlink between the client and the server, the SRTCP key is the appropriate CSK/CSK-ID. Between two MCVideo servers, the SRTCP key is the SPK/SPK-ID. For multicast (when used), the SRTCP key is the MuSiK/MuSiK-ID. For a more complete description of media plane security for MCVideo see clause 13 of 3GPP TS 24.581 [5].\nFor group calls, the security context is set up at the time of creation of the group. The group management server creates group call keying material associated with the group and distributes it to all members of the group, in advance of the initiation of a group call as specified in 3GPP TS 24.481 [24] and 3GPP TS 33.180 [8]. The establishment of a security context for group calls has no impact on this specification.\nFor private calls, the security context is initiated at call setup. An end-to-end security context is established that is unique to the pair of users involved in the call. The procedure involves transferral of an encapsulated private call key (PCK) and private call key id (PCK-ID) from the initiator to the terminator. The PCK is encrypted using the terminator's MCVideo ID and domain-specific material provided from the terminating user's KMS. The domain-specific key material of the terminator's KMS is identified by a KMS URI stored in the terminating user profile. The domain-specific key material for all KMSs is downloaded in advance from the initiator's home KMS as described in 3GPP TS 33.180 [8]. The PCK and PCK-ID are distributed within a MIKEY payload within the SDP offer of the private call request. This payload is called a MIKEY-SAKKE I_MESSAGE, as defined in IETF RFC 6509 [55], which ensures the confidentiality, integrity and authenticity of the payload. The encoding of the MIKEY payload in the SDP offer is described in IETF RFC 4567 [6] using an \"a=key-mgmt\" attribute. The payload is signed using a key associated to the identity of the initiating user. At the terminating side, the signature is validated. If valid, the UE extracts and decrypts the encapsulated PCK. The MCVideo UE also extracts the PCK-ID. This process is described in 3GPP TS 33.180 [8]. With the PCK successfully shared between the two MCVideo UEs, the UEs are able to use SRTP/SRTCP to create an end-to-end secure session.\nEnd-to-end security is independent of the transmission path and hence is applicable to both on and off-network communications. With a security context established, the group call key and private call key can be used to encrypt media and, if required, transmission control traffic between the end-points as described in 3GPP TS 24.581 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.7.2\tSignalling security",
                            "text_content": "Signalling security is established between the participating MCVideo function and the MCVideo client. This allows the following signalling to be integrity and confidentiality protected through the SIP core:\n-\tSensitive application data (as described in clause 4.8)\n-\tTransmission control messages sent using unicast\n-\tMedia control messages\nFor unicast signalling between the participating MCVideo function and the MCVideo client, the signalling is protected using the Client-Server Key (CSK), identified by a Client-Server Key Identifer (CSK-ID). The CSK and CSK-ID are uploaded from the MCVideo client to the MCVideo server within a MIKEY MIME payload within a SIP REGISTER message for service authorisation or a SIP PUBLISH message for service authorisation. The CSK is confidentiality and integrity protected to the public service identity identifying the participating MCVideo function serving the MCVideo user and signed by the MCVideo ID of the MCVideo user.\nThe CSK and CSK-ID may also be updated by the participating MCVideo function. The procedure involves the participating MCVideo function generating a new CSK and CSK-ID and distributing the new key to the MCVideo client using a CSK 'key download' SIP MESSAGE. The message contains a MIKEY MIME payload containing the CSK and CSK-ID. The CSK is confidentiality and integrity protected to the public service identity identifying the participating MCVideo function serving the MCVideo user and signed by the MCVideo ID of the MCVideo user. The client only uses a single CSK at any one time and discards the previously established CSK on receiving a new CSK.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.8\tProtection of sensitive application data.",
                    "description": "",
                    "summary": "",
                    "text_content": "In certain deployments, for example, in the case that the MCVideo operator uses the underlying SIP core infrastructure from the carrier operator, the MCVideo operator can prevent certain sensitive application data from being visible in the clear to the SIP layer. The following data are classed as sensitive application data:\n-\tMCVideo ID;\n-\tMCVideo group ID;\n-\tuser location information;\n-\temergency, alert and imminent-peril indicators;\n-\taccess token (containing the MCVideo ID);\n-\tMCVideo client ID; and\n-\tfunctional alias.\nThe above data is transported as XML content in SIP messages. in XML elements or XML attributes.\nData is transported in attributes in the following circumstances in the procedures in the present document:\n-\tan MCVideo ID, an MCVideo Group ID, and an MCVideo client ID in an XML document published in SIP PUBLISH request for affiliation according to IETF RFC 3856 [13];\n-\tan MCVideo ID or an MCVideo Group ID in XML document notified in a SIP NOTIFY request for affiliation according to IETF RFC 3856 [13];\n-\tan MCVideo ID in application/resource-lists+xml document included in an SIP INVITE request setting up a private call according to IETF RFC 5366 [37]; and\n-\tan MCVideo ID in XML document provided in SIP NOTIFY request of a conference event package according to IETF RFC 4575 [57];\n-\tan MCVideo ID and functional alias in an XML document published in SIP PUBLISH request for functional alias management according to IETF RFC 3856 [13]; and\n-\tan MCVideo ID and functional alias in an XML document notified in a SIP NOTIFY request for functional alias management according to IETF RFC 3856 [13].\n3GPP TS 33.180 [8] describes a method to provide confidentiality protection of sensitive application data in elements by using XML encryption (i.e. xmlenc) and in attributes by using an attribute confidentiality protection scheme described in clause 6.6.2.3 of the present document. Integrity protection can also be provided by using XML signatures (i.e. xmlsig).\nProtection of the data relies on a shared XML protection key (XPK) used to encrypt and sign data:\n-\tbetween the MCVideo client and the MCVideo server, the XPK is a client-server key (CSK); and\n-\tbetween MCVideo servers and between MCVideo domains, the XPK is a signalling protection key (SPK).\nThe CSK (XPK) and a key-id CSK-ID (XPK-ID) are generated from keying material provided by the key management server. Identity based public key encryption based on MIKEY-SAKKE is used to transport the CSK between SIP end-points. The encrypted CSK is transported from the MCVideo client to the MCVideo server when the MCVideo client performs service authorisation as described in clause 7 and is also used during service authorisation to protect the access token.\nThe SPK (XPK) and a key-id SPK-ID (XPK-ID) are directly provisioned in the MCVideo servers.\nConfiguration in the MCVideo client and MCVideo server is used to determine whether one or both of confidentiality protection and integrity protection are required.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.9\tMCVideo client ID",
                    "description": "",
                    "summary": "",
                    "text_content": "The MCVideo client assigns the MCVideo client ID when the MCVideo client is used for the first time. The MCVideo client generates the MCVideo client ID as specified in clause 4.2 of IETF RFC 4122 [58].\nThe MCVideo client preserves the MCVideo client ID:\n-\twhile the MCVideo client is SIP registered as specified in 3GPP TS 24.229 [11];\n-\twhile the MCVideo client is not SIP registered as specified in 3GPP TS 24.229 [11] and the UE serving the MCVideo client is switched on;\n-\twhile the UE serving the MCVideo client is switched off; and\n-\twhile the UE serving the MCVideo client is power-cycled.\nNOTE:\tMCVideo client ID is not preserved when the UE is reset to factory settings.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.10\tOff-network MCVideo",
                    "description": "",
                    "summary": "",
                    "text_content": "Off-network services are available for the user if the value of \"/<x>/<x>/OffNetwork/Authorised\" leaf node present in the MCVideo user profile as specified in 3GPP TS 24.483 [4] is set to \"true\".\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tFunctional entities",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "\nThis clause associates the functional entities with the MCVideo roles described in the stage 2 architecture document (see 3GPP TS 23.281 [26]).\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tMCVideo client",
                    "description": "",
                    "summary": "",
                    "text_content": "To be compliant with the procedures in the present document, an MCVideo client shall:\n-\tact as the user agent for all MCVideo application transactions (e.g. initiation of a group call); and\n-\tsupport handling of the MCVideo client ID as described in clause 4.10.\nTo be compliant with the on-network procedures in the present document, an MCVideo client shall:\n-\tsupport the MCVideo client on-network procedures defined in 3GPP TS 23.281 [26];\n-\tsupport the GCS UE procedures defined in 3GPP TS 23.468 [82] for unicast delivery, MBMS delivery and service continuity;\n-\tsupport 5G multicast-broadcast services defined in 3GPP TS 23.247 [84];\n-\tact as a SIP UA as defined in 3GPP TS 24.229 [11];\n-\tgenerate SDP offer and SDP answer in accordance with 3GPP TS 24.229 [11] and clause 6.2;\n-\tact as a transmission control participant responsible for transmission control requests and implement the on-network procedures for transmission and reception control requests as specified in 3GPP TS 24.581 [5];\n-\tfor registration and service authorisation, implement the procedures specified in clause 7.2;\n-\tfor affiliation, implement the procedures specified in clause 8.2;\n-\tfor group call functionality (including emergency and imminent peril), implement the MCVideo client procedures specified in clause 9.2; and\n-\tfor private call functionality (including emergency), implement the MCVideo client procedures specified in clause 10.2;\n-\tfor emergency alert, implement the procedures specified in clause 11.2;\n-\tfor MBMS transmission usage, implement the procedures in clause 16;\n-\tfor MBS transmission usage, implement the procedures in clause 16A; and\n-\tfor functional alias management, implement the procedures specified in clause 20.2.1.\nTo be compliant with the off-network procedures in the present document, an MCVideo client shall:\n-\tsupport the off-network procedures defined in 3GPP TS 23.281 [26];\n-\tsupport the MONP MCVideo messages specified in clause 17;\n-\tact as a transmission control participant for transmission and reception control requests and implement the off-network procedures for transmission and reception control requests as specified in 3GPP TS 24.581 [5];\n-\tact as a transmission control server providing distributed transmission and reception control and implement the off-network procedures for transmission and reception control as specified in 3GPP TS 24.581 [5];\n-\timplement the procedures for ProSe direct discovery for public safety use as specified in 3GPP TS 24.334 [59];\n-\timplement the procedures for one-to-one ProSe direct communication for Public Safety use as specified in 3GPP TS 24.334 [59];\n-\tfor group call functionality (including emergency and imminent peril), implement the MCVideo client procedures specified in clause 9.3; and\n-\tfor private call functionality, implement the MCVideo client procedures specified in clause 10.3.\nTo be compliant with the on-network and off-network procedures in the present document requiring end-to-end private call security key distribution, an MCVideo client shall support the procedures specified in 3GPP TS 33.180 [8].\nTo be compliant with the procedures for confidentiality protection of XML elements in the present document, the MCVideo client shall implement the procedures specified in clause 6.6.2.\nTo be compliant with the procedures for integrity protection of XML MIME bodies in the present document, the MCVideo client shall implement the procedures specified in clause 6.6.3.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.3\tMCVideo server",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tGeneral",
                            "text_content": "An MCVideo server can perform the controlling role for group calls and private calls as defined in 3GPP TS 23.281 [26].\nAn MCVideo server can perform the participating role for group calls and private calls as defined in 3GPP TS 23.281 [26].\nAn MCVideo server performing the participating role can serve an originating MCVideo user.\nAn MCVideo server performing the participating role can serve a terminating MCVideo user.\nThe same MCVideo server can perform the participating role and controlling role for the same group session.\nWhen referring to the procedures in the present document for the MCVideo server acting in a participating role for the served user, the term, \"participating MCVideo function\" is used.\nWhen referring to the procedures in the present document for the MCVideo server acting in a controlling role for the served user, the term \"controlling MCVideo function\" is used.\nTo be compliant with the procedures in the present document, an MCVideo server shall:\n-\tsupport the MCVideo server procedures defined in 3GPP TS 23.281 [26];\n-\timplement the role of an AS performing 3rd party call control acting as a routing B2BUA as defined in 3GPP TS 24.229 [11];\n-\tsupport the GCS AS procedures defined in 3GPP TS 23.468 [82] for unicast delivery, MBMS delivery and service continuity;\n-\tsupport 5G multicast-broadcast services defined in 3GPP TS 23.247 [84];\n-\tgenerate SDP offer and SDP answer in accordance with 3GPP TS 24.229 [11] and clause 6.3;\n-\timplement the role of a centralised transmission control server and implement the on-network procedures for transmission and reception control as specified in 3GPP TS 24.581 [5];\n-\tfor registration and service authorisation, implement the procedures specified in clause 7.3;\n-\tfor affiliation, implement the procedures specified in clause 8.2.2;\n-\tfor group call functionality (including emergency and imminent peril), implement the MCVideo server procedures specified in clause 9.2;\n-\tfor private call functionality, implement the MCVideo server procedures specified in clause 10.2;\n-\tfor priority sharing, implement the MCVideo server procedures in clause 6.7;\n-\tfor MBMS transmission usage, implement the procedures in clause 16;\n-\tfor MBS transmission usage, implement the procedures in clause 16A; and\n-\tfor functional alias management, implement the procedures specified in clause 20.2.2.\nTo be compliant with the procedures in the present document requiring the distribution of private call keying material between MCVideo clients as specified in 3GPP TS 33.180 [8], an MCVideo server shall ensure that the keying material is copied from incoming SIP messages into the outgoing SIP messages.\nTo be compliant with the procedures for confidentiality protection of XML elements in the present document, the MCVideo server shall implement the procedures specified in clause 6.6.2.\nTo be compliant with the procedures for integrity protection of XML MIME bodies in the present document, the MCVideo server shall implement the procedures specified in clause 6.6.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.2\tFunctional connectivity models",
                            "text_content": "The following figures give an overview of the connectivity between the different functions of the MCVideo server as described in clause 5.3.1.\nNOTE:\tSeparate boxes are shown for each of the functions of the MCVideo server. In each MC system, these functions can be physically combined into one MCVideo server or can be implemented on more than one MCVideo server. For example, there could be an instantiation of an MCVideo server that only serves as a controlling MCVideo function, but not as a participating MCVideo function for any MCVideo clients. When an MCVideo server supports more than one function, then sending requests from one function to another does not incur a traversal of the underlying IMS SIP core network.\nFigure 5.3.2-1 shows the basic functions of the MCVideo server when operating within the primary MCVideo system.\nThe MCVideo server in the primary MC system is responsible for managing and controlling the video processing functions, ensuring efficient and reliable video delivery to the end-users.\nFigure 5.3.2-1: Functions of the MCVideo server in the primary MC system\nFigure 5.3.2-2 shows the roles of the MCVideo server in a mutual aid relationship between a primary MC system and a partner MC system. Here, the controlling MCVideo function is in the primary MC system and the called user is homed in a partner MC system.\nThe figure depicts a mutual aid relationship between the primary MC system and a partner MC system with the controlling MCVideo function in the primary MC system. The primary MC system is responsible for managing the video data, while the partner MC system is responsible for managing the audio data. The controlling MCVideo function ensures that the video and audio data are synchronized and properly transmitted between the two systems. This mutual aid relationship is crucial for maintaining the reliability and efficiency of the video and audio transmission in the system.\nFigure 5.3.2-2: Mutual aid relationship between the primary MC system and a partner MC system with the controlling MCVideo function in the primary MC system\nFigure 5.3.2-3 shows the roles of the MCVideo server in a mutual aid relationship between a primary MC system and a partner MC system. Here, the controlling MCVideo function is in the partner MC system.\nThe figure depicts a mutual aid relationship between the primary MC system and a partner MC system, with the controlling MCVideo function in the partner MC system. The figure illustrates the communication between the two systems, showing the flow of data and the control mechanisms in place.\nFigure 5.3.2-3: Mutual aid relationship between the primary MC system and a partner MC system with the controlling MCVideo function in the partner MC system\nFigure 5.3.2-4 illustrates a functional connectivity model involving multiple partner systems where the partner system that owns the group does not home any of the group members.\nThe figure depicts a mutual aid relationship between the primary MC system and more than one partner MC system for MCVideo service, illustrating the coordination and collaboration between these systems to ensure the efficient and reliable delivery of video services.\nFigure 5.3.2-4: : Mutual aid relationship between the primary MC system and more than one partner MC system for MCVideo service\nOther functional connectivity models can exist.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.3\tFailure case",
                            "text_content": "When initiating a failure response to any received request, depending on operator policy, the MCVideo server may insert a SIP Response-Source header field with an \"fe\" header field parameter constructed with the URN namespace \"urn:3gpp:fe\", the fe-id part of the URN set to \"as\" and the \"role\" header field parameter set to \"pf-mcvideo-server\", \"cf-mcvideo-server\" or \"ncf-mcvideo-server\" depending on the current role endorsed by the MCVideo server and in accordance with clause 7.2.17 of 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.4\tManagement of MBMS bearers",
                            "text_content": "When providing services over MBMS, an MCVideo server acting in the participating MCVideo function role shall:\n-\tallocate TMGIs and activate MBMS bearers in MBMS service areas to be used for MCVideo media plane transmissions via multicast, per 3GPP TS 23.468 [82] and 3GPP TS 29.468 [44];\n-\tdeactivate MBMS bearers and deallocate TMGIs when no longer necessary, per 3GPP TS 23.468 [82] and 3GPP TS 29.468 [44];\n-\thandle MBMS bearers related notifications per 3GPP TS 23.468 [82] and 3GPP TS 29.468 [44]; and\n-\tadjust the priority / pre-emption characteristics of MBMS bearers, as appropriate, in response to relevant events, using procedures specified in per 3GPP TS 23.468 [82] and 3GPP TS 29.468 [44].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.5\tManagement of MBS sessions",
                            "text_content": "When providing services over MBS, an MCVideo server acting in the participating MCVideo function role shall:\n-\tcreate MBS sessions in MBS service areas to be used for MCVideo media plane transmissions via multicast and broadcast, per 3GPP TS 23.247 [84];\n-\tdelete the MBS sessions when no longer necessary, per 3GPP TS 23.247 [84];\n-\tupdate the MBS sessions to be used for updating the MBS service areas and / or MBS Service Information, per 3GPP TS 23.247 [84].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.4\tMCVideo UE-to-network relay",
                    "description": "",
                    "summary": "",
                    "text_content": "To be compliant with the procedures in the present document for service continuity, an MCVideo UE-to-network relay shall support the UE-to-network relay procedures as specified in 3GPP TS 24.334 [59] and 3GPP TS 23.281 [26].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.5\tMCVideo gateway server",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.5.1\tGeneral",
                            "text_content": "To allow interconnection between MCVideo systems in different trust domains, MC Gateway Servers can be optionally added on the path between controlling and participating MCVideo functions and between controlling and non-controlling MCVideo functions.\nAn MCVideo gateway server acts as a SIP and HTTP proxy for signalling with an interconnected MCVideo system in a different trust domain.\nAn MCVideo gateway server acts as an application and security gateway with an interconnected MCVideo system in a different trust domain.\nAn MCVideo gateway server provides topology hiding to the interconnected MCVideo system in a different trust domain.\nAn MCVideo gateway server enforces local policies and local security.\nAn MCVideo gateway server can be an exit point from the local MCVideo system to an interconnected MCVideo system in a different trust domain, an entry point to the MCVideo system from an interconnected MCVideo system in a different trust domain, or both.\nAn MCVideo gateway server is transparent to controlling and participating MCVideo functions and to controlling and non-controlling MCVideo functions. When required for interconnection, MC gateway server URIs are known and used by MCVideo servers in place of the PSIs of the interconnected MCVideo server. The MCVideo server does not need to know if it finally addresses directly a controlling MCVideo function or an intermediate MCVideo gateway server.\nTo be compliant with the procedures in the present document, an MCVideo gateway server shall:\n-\tsupport the MC gateway server procedures defined in 3GPP TS 23.280 [74] and 3GPP TS 23.281 [26]; and\n-\tsupport the MC gateway server procedures defined in 3GPP TS 33.180 [8];\n-\timplement the procedures specified in clause 6.9.\nTo be compliant with the procedures for confidentiality protection in the present document, the MCVideo gateway server shall implement the procedures specified in clause 6.6.2, acting on behalf of the MCVideo server when sending or receiving confidentiality protected content to or from an MCVideo server in another trust domain.\nTo be compliant with the procedures for integrity protection of XML MIME bodies in the present document, the MCVideo gateway server shall implement the procedures specified in clause 6.6.3, acting on behalf of the MCVideo server when sending or receiving integrity protected content to or from an MCVideo server in another trust domain.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tCommon procedures",
            "description": "Editor's Note:\tsimultaneous session for MCVideo calls and support for multiple devices could also be added in this section.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the common procedures for each functional entity as specified.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.2\tMCVideo client procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.0\tDistinction of requests at the MCVideo client",
                            "text_content": "The MCVideo client needs to distinguish between the following SIP MESSAGE requests:\n-\tSIP MESSAGE request routed to the MCVideo client containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\" and includes an XML body containing a Location root element containing a Configuration element. Such requests are known as \"SIP MESSAGE request for location report configuration\" in the present document;\n-\tSIP MESSAGE request routed to the MCVideo client containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\" and includes an XML body containing a Location root element containing a Request element. Such requests are known as \"SIP MESSAGE request for location report request\" in the present document.\n-\tSIP MESSAGE request routed to the MCVideo client containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo -info+xml\" and includes an XML body containing a <mcvideo-info> root element containing the <mcvideo-Params> element and an <anyExt> element containing the <request-type> element set to a value of \"group-selection-change-request\". Such requests are known as \"SIP MESSAGE request for group selection change request for terminating client\";\n-\tSIP MESSAGE request routed to the MCVideo client containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo -info+xml\" and includes an XML body containing a <mcvideo-info> root element containing the <mcvideo-Params> element and an <anyExt> element containing the <response-type> element set to a value of \"group-selection-change-response\". Such requests are known as \"SIP MESSAGE request for group selection change response for terminating client\";\n-\tSIP MESSAGE request routed to the MCVideo client containing a Content-Type header field set to \"application/mikey\" and a CSB-ID containing a CSK-ID. Such requests are known as \"SIP MESSAGE request for CSK download for terminating client\";\n-\tSIP MESSAGE requests routed to the MCVideo client with the Request-URI set to a public user identity of the MCVideo user that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body and a <regroup-action> element set to \"create\". Such requests are known as \"SIP MESSAGE request to the MCVideo client to request creation of a regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the MCVideo client with the Request-URI set to a public user identity of the MCVideo user that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body and a <regroup-action> element set to \"remove\". Such requests are known as \"SIP MESSAGE request to the MCVideo client to request removal of a regroup using preconfigured group\" in the procedures in the present document.\n-\tSIP MESSAGE requests routed to the MCVideo client containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and including an XML body containing a <mcvideo-info> root element containing the <mcvideo-Params> element and an <emergency-alert-area-ind> element. Such requests are known as \"SIP MESSAGE request for notification of entry into or exit from an emergency alert area\"; and\n-\tSIP MESSAGE requests routed to the MCVideo client containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and including an XML body containing a <mcvideo-info> root element containing the <mcvideo-Params> element and an <group-geo-area-ind> element. Such requests are known as \"SIP MESSAGE request for notification of entry into or exit from a group geographic area\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.1\tSDP offer generation",
                            "text_content": "The SDP offer shall contain two SDP media-level sections for MCVideo video media according to 3GPP TS 24.229 [11] and, if transmission control shall be used during the session, shall contain one SDP media-level section for a media- transmission control entity according to 3GPP TS 24.581 [5].\nWhen composing an SDP offer according to 3GPP TS 24.229 [11] the MCVideo client:\n1)\tshall set the IP address of the MCVideo client for the offered MCVideo video media stream and, if transmission control shall be used, for the offered media-transmission control entity;\nNOTE 1:\tIf the MCVideo client is behind a NAT the IP address and port included in the SDP offer can be a different IP address and port than the actual IP address and port of the MCVideo client depending on the NAT traversal method used by the SIP/IP Core.\n2)\tshall include an \"m=audio\" media-level section for the MCVideo media stream consisting of:\na)\tthe port number for the media stream selected, with the following clarification:\ni)\tif the MCVideo client is requesting an upgrade (resp. downgrade) of an already established session to (resp. from) emergency or imminent peril and if multiplexing of media streams was used, the MCVideo client should select a different port number not to impact the resource priority used for the other multiplexed media streams;\nb)\tthe codec(s) and media parameters and attributes with the following clarification:\ni)\tif the MCVideo client is initiating a call to a group identity;\nii)\tif the <preferred-voice-encodings> element is present in the group document retrieved by the group management client as specified in 3GPP TS 24.481 [24] containing an <encoding> element with a \"name\" attribute; and\niii)\tif the MCVideo client supports the encoding name indicated in the value of the \"name\" attribute;\nthen the MCVideo client:\ni)\tshall insert the value of the \"name\" attribute in the <encoding name> field of the \"a=rtpmap\" attribute as defined in IETF RFC 4566 [2];\nc)\t\"i=\" field set to \"audio component of MCVideo\" according to 3GPP TS 24.229 [11]; and\nd)\tif the MCVideo client is initiating a call with implicit transmission request:\ni)\tmay include an \"a=ssrc\" attribute as specified in IETF RFC 5576 [77] where the MCVideo client may indicate to the MCVideo server which RTP SSRC it would like to use in the subsequent RTP audio media flow if the implicit transmission request is granted;\nNOTE 2:\tThe final RTP audio SSRC value that the client will have to use if the implicit transmission request is granted will be received either in the mc-ssrc attribute of the SDP answer in the case of an implicit transmission grant, or in the corresponding information element of the transmission granted message in the case of an explicit transmission grant.\n3)\tshall include an \"m=video\" media-level section for the MCVideo media stream consisting of:\na)\tthe port number for the media stream selected;\nb)\tthe codec(s) and media parameters and attributes with the following clarification:\ni)\tif the MCVideo client is initiating a call to a group identity;\nii)\tif the <preferred-video-encodings> element is present in the group document retrieved by the group management client as specified in 3GPP TS 24.481 [24] containing an <encoding> element with a \"name\" attribute; and\niii)\tif the MCVideo client supports the encoding name indicated in the value of the \"name\" attribute;\nthen the MCVideo client:\ni)\tshall insert the value of the \"name\" attribute in the <encoding name> field of the \"a=rtpmap\" attribute as defined in IETF RFC 4566 [2];\nc)\tif the SDP offer is for an ambient viewing call:\ni)\tif this is a remotely initiated ambient viewing call, include an \"a=recvonly\" attribute; or\nii)\tif this is a locally initiated ambient viewing call, include an \"a=sendonly\" attribute;\nd)\t\"i=\" field set to \"video component of MCVideo\" according to 3GPP TS 24.229 [11]; and\ne)\tif the MCVideo client is initiating a call with implicit transmission request:\ni)\tmay include an \"a=ssrc\" attribute as specified in IETF RFC 5576 [77] where the MCVideo client may indicate to the MCVideo server which RTP SSRC it would like to use in the subsequent RTP video media flow if the implicit transmission request is granted;\nNOTE 3:\tThe final RTP video SSRC value that the client will have to use if the implicit transmission request is granted will be received either in the mc-ssrc attribute of the SDP answer in the case of an implicit transmission grant, or in the corresponding information element of the transmission granted message in the case of an explicit transmission grant.\n4)\tif transmission control shall be used during the session, shall include an \"m=application\" media-level section as specified in 3GPP TS 24.581 [5] clause 12 for a media-transmission control entity, consisting of:\na)\tthe port number for the media-transmission control entity selected as specified in 3GPP TS 24.581 [5], with the following clarification:\ni)\tif the MCVideo client is requesting an upgrade (resp. downgrade) of an already established session to (resp. from) emergency or imminent peril and if multiplexing of media plane control channels was used, the MCVideo client should select a different port number not to impact the resource priority used for the other multiplexed media plane control channels; and\nb)\tan mc_transmission_ssrc 'fmtp' attribute as specified in 3GPP TS 24.581 [5] clause 14, with the RTCP SSRC that the MCVideo client has selected as specified in 3GPP TS 24.581 [5] clause 4.3 and shall be used by the participating MCVideo function in the transmission control messages sent to the MCVideo client for this session; and\nNOTE 2:\tThe MCVideo client will receive in the SDP answer the RTP SSRC it will have to use in the transmission control message it will send to the participating MCVideo function in this session.\nc)\tany other necessary 'fmtp' attribute as specified in 3GPP TS 24.581 [5] clause 14; and\n5)\tif end-to-end security is required for a private call and the SDP offer is not for establishing a pre-established session, shall include the MIKEY-SAKKE I_MESSAGE in an \"a=key-mgmt\" attribute as a \"mikey\" attribute value in the SDP offer as specified in IETF RFC 4567 [6].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tSDP answer generation",
                            "text_content": "When the MCVideo client receives an initial SDP offer for an MCVideo session, the MCVideo client shall process the SDP offer and shall compose an SDP answer according to 3GPP TS 24.229 [11].\nWhen composing an SDP answer, the MCVideo client:\n1)\tshall accept the MCVideo video media stream in the SDP offer;\n2)\tshall set the IP address of the MCVideo client for the accepted MCVideo video media stream and, if included in the SDP offer, for the accepted media- transmission control entity;\nNOTE 1:\tIf the MCVideo client is behind a NAT the IP address and port included in the SDP answer can be a different IP address and port than the actual IP address and port of the MCVideo client depending on the NAT traversal method used by the SIP/IP Core.\n3)\tshall include an \"m=audio\" media-level section for the accepted MCVideo video media stream consisting of:\na)\tthe port number for the media stream with the following clarification:\ni)\tif the MCVideo client is responding to an upgrade (resp. downgrade) of an already established session to (resp. from) emergency or imminent peril and if multiplexing of media streams was used, the MCVideo client should select a different port number not to impact the resource priority used for the other multiplexed media streams;\nb)\tmedia-level attributes as specified in 3GPP TS 24.229 [11]; and\nc)\t\"i=\" field set to \"audio component of MCVideo\" according to 3GPP TS 24.229 [11]; and\n4)\tshall include an \"m=video\" media-level section for the accepted MCVideo video media stream consisting of:\na)\tthe port number for the media stream with the following clarification:\ni)\tif the MCVideo client is responding to an upgrade (resp. downgrade) of an already established session to (resp. from) emergency or imminent peril and if multiplexing of media streams was used, the MCVideo client should select a different port number not to impact the resource priority used for the other multiplexed media streams;\n\nb)\tmedia-level attributes as specified in 3GPP TS 24.229 [11]; and\nc)\t\"i=\" field set to \"video component of MCVideo\" according to 3GPP TS 24.229 [11]; and\n5)\tif included in the SDP offer, shall include an \"m=application\" media-level section of the offered media-transmission control entity as specified in 3GPP TS 24.581 [5] clause 4.3, consisting of:\na)\tthe port number for the media plane control channel selected as specified in 3GPP TS 24.581 [5], with the following clarification:\ni)\tif the MCVideo client is requesting an upgrade (resp. downgrade) of an already established session to (resp. from) emergency or imminent peril and if multiplexing of media plane control channels was used, the MCVideo client should select a different port number not to impact the resource priority used for the other multiplexed media plane control channels; and\nb)\tan mc_transmission_ssrc 'fmtp' attribute as specified in 3GPP TS 24.581 [5] clause 14, with the RTCP SSRC that the MCVideo client has selected as specified in 3GPP TS 24.581 [5] clause 4.3 and shall be used by the participating MCVideo function in the transmission control messages sent to the MCVideo client for this session; and\nNOTE 2:\tThe MCVideo client has received in the SDP offer the RTP SSRC it will have to use in the transmission control message it will send to the participating MCVideo function in this session.\nb)\tany other necessary 'fmtp' attribute as specified in 3GPP TS 24.581 [5] clause 14.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.3\tCommencement modes",
                            "text_content": "When performing the automatic commencement mode procedures, the MCVideo client:\n1)\tshall accept the SIP INVITE request and generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n2)\tshall include the option tag \"timer\" in a Require header field of the SIP 200 (OK) response;\n3)\tshall include the g.3gpp.mcvideo media feature tag in the Contact header field of the SIP 200 (OK) response;\n4)\tshall include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP 200 (OK) response;\n5)\tshall include the Session-Expires header field in the SIP 200 (OK) response and start the SIP session timer according to IETF RFC 4028 [23]. The \"refresher\" parameter in the Session-Expires header field shall be set to \"uas\";\n6)\tshall, if the incoming SIP INVITE request contains a Replaces header field, include in the SDP answer in the SIP 200 (OK) response to the SDP offer the parameters used for the pre-established session identified by the contents of the Replaces header field;\n7)\tshall, if the incoming SIP INVITE request does not contain a Replaces header field, include an SDP answer in the SIP 200 (OK) response to the SDP offer in the incoming SIP INVITE request according to 3GPP TS 24.229 [11] with the clarifications given in clause 6.2.2;\nNOTE:\tIn the case of a new emergency call where the terminating client is using a pre-established session, the SIP INVITE request containing a Replaces header is used to replace the pre-established session.\n\n8)\tshall send the SIP 200 (OK) response towards the MCVideo server according to rules and procedures of 3GPP TS 24.229 [11];\n9)\tshall, if the incoming SIP INVITE request contains a Replaces header field, release the pre-established session identified by the contents of the Replaces header field; and\n10)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nWhen NAT traversal is supported by the MCVideo client and when the MCVideo client is behind a NAT, generation of SIP responses is done as specified in this clause and as specified in IETF RFC 5626 [35].\nWhen performing the automatic commencement mode procedures, the MCVideo client shall follow the procedures in clause 6.2.3.1.1 with the following clarification:\n-\tThe MCVideo client may include a P-Answer-State header field with the value \"Confirmed\" as specified in IETF RFC 4964 [30] in the SIP 200 (OK) response.\nWhen performing the manual commencement mode procedures:\n1)\tif the MCVideo user declines the MCVideo session invitation the MCVideo client shall send a SIP 480 (Temporarily Unavailable) response towards the MCVideo server with the warning text set to: \"110 user declined the call invitation\" in a Warning header field as specified in clause 4.4, and not continue with the rest of the steps in this clause.\nThe MCVideo client:\n1)\tshall accept the SIP INVITE request and generate a SIP 180 (Ringing) response according to rules and procedures of 3GPP TS 24.229 [11];\n2)\tshall include the option tag \"timer\" in a Require header field of the SIP 180 (Ringing) response;\n3)\tshall include the g.3gpp.mcvideo media feature tag in the Contact header field of the SIP 180 (Ringing) response;\n4)\tshall include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP 180 (Ringing) response; and\n5)\tshall send the SIP 180 (Ringing) response to the MCVideo server.\nWhen sending the SIP 200 (OK) response to the incoming SIP INVITE request, the MCVideo client shall follow the procedures in clause 6.2.3.1.1.\nWhen NAT traversal is supported by the MCVideo client and when the MCVideo client is behind a NAT, generation of SIP responses is done as specified in this clause and as specified in IETF RFC 5626 [35].\nWhen performing the manual commencement mode procedures:\n1)\tthe terminating MCVideo client may automatically generate a SIP 183 (Session Progress) in accordance with 3GPP TS 24.229 [11], prior to the MCVideo user's acknowledgement; and\n2)\tif the MCVideo user declines the MCVideo session invitation the MCVideo client shall send a SIP 480 (Temporarily Unavailable) response towards the MCVideo server with the warning text set to: \"110 user declined the call invitation\" in a Warning header field as specified in clause 4.4, and not continue with the rest of the steps in this clause.\nWhen generating a SIP 183 (Session Progress) response, the MCVideo client:\n1)\tshall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag; and\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\n2)\tmay include a P-Answer-State header field with the value \"Unconfirmed\" as specified in IETF RFC 4964 [30];\nWhen sending the SIP 200 (OK) response to the incoming SIP INVITE request, the MCVideo client shall follow the procedures in clause 6.2.3.1.2.\nWhen NAT traversal is supported by the MCVideo client and when the MCVideo client is behind a NAT, generation of SIP responses is done as specified in this clause and as specified in IETF RFC 5626 [35]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.4\tLeaving an MCVideo session initiated by MCVideo client",
                            "text_content": "Upon receiving a request from an MCVideo user to leave an MCVideo session established using on-demand session signalling, the MCVideo client:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5];\n2)\tshall generate a SIP BYE request according to 3GPP TS 24.229 [11];\n3)\tshall set the Request-URI to the MCVideo session identity to leave; and\n4)\tshall send a SIP BYE request towards MCVideo server according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the SIP BYE request, the MCVideo client shall interact with the media plane as specified in 3GPP TS 24.581 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.5\tReleasing an MCVideo session initiated by MCVideo client",
                            "text_content": "When the MCVideo client wants to release an MCVideo session established using on-demand session signalling, the MCVideo client:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5];\n2)\tshall generate a SIP BYE request according to 3GPP TS 24.229 [11];\n3)\tshall set the Request-URI to the MCVideo session identity to release; and\n4)\tshall send a SIP BYE request towards MCVideo server according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the SIP BYE request, the MCVideo client shall interact with the media plane as specified in 3GPP TS 24.581 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.6\tReceiving an MCVideo session release request",
                            "text_content": "Upon receiving a SIP BYE request, the MCVideo client:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581[5]; and\n2)\tshall send SIP 200 (OK) response towards MCVideo server according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.7\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.8\tPriority call conditions",
                            "text_content": "This clause contains common procedures to be used for MCVideo emergency group calls and MCVideo imminent peril group calls.\nThis clause is referenced from other procedures.\nWhen the MCVideo emergency state is set and this MCVideo user and MCVideo group are authorised to initiate MCVideo emergency group calls as determined by the procedures of clause 6.2.8.1.8, the MCVideo client:\n1)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP INVITE request, an <emergency-ind> element set to \"true\" and if the MCVideo emergency group call state is set to \"MVEGC 1: emergency-gc-capable\", shall set the MCVideo emergency group call state to \"MVEGC 2: emergency-call-requested\";\n2)\tif the MCVideo user has also requested an MCVideo emergency alert to be sent and this is an authorised request for MCVideo emergency alert as determined by the procedures of clause 6.2.8.1.6, and the MCVideo emergency alert state is set to \"MVEA 1: no-alert\", shall:\na)\tset the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to \"true\" and set the MCVideo emergency alert state to \"MVEA 2: emergency-alert-confirm-pending\"; and\nb)\tperform the procedures specified in clause 6.2.9.1 for the MCVideo emergency alert trigger;\n3)\tif the MCVideo user has not requested an MCVideo emergency alert to be sent and the MCVideo emergency alert state is set to \"MVEA 1: no-alert\", shall set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to \"false\"; and\n4)\tif the MCVideo client emergency group state of the group is set to a value other than \"MVEG 2: in-progress\" set the MCVideo client emergency group state of the MCVideo group to \"MVEG 3: confirm-pending\".\nNOTE 1:\tThis is the case of an MCVideo user already being in the MCVideo emergency state it initiated previously while originating an MCVideo emergency group call or MCVideo emergency alert. All group calls the MCVideo user originates while in MCVideo emergency state will be MCVideo emergency group calls.\nWhen the MCVideo emergency state is clear and the MCVideo emergency group call state is set to \"MVEGC 1: emergency-gc-capable\" and the MCVideo user is authorised to initiate an MCVideo emergency group call on the targetted MCVideo group as determined by the procedures of clause 6.2.8.1.8, the MCVideo client shall set the MCVideo emergency state and perform the following actions:\n1)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP INVITE request an <emergency-ind> element set to \"true\" and set the MCVideo emergency group call state to \"MVEGC 2: emergency-call-requested\" state;\n2)\tif the MCVideo user has also requested an MCVideo emergency alert to be sent and this is an authorised request for MCVideo emergency alert as determined by the procedures of clause 6.2.8.1.6, shall:\na)\tinclude in the application/vnd.3gpp.mcvideo-info+xml MIME body the <alert-ind> element set to \"true\" and set the MCVideo emergency alert state to \"MVEA 2: emergency-alert-confirm-pending\"; and\nb)\tperform the procedures specified in clause 6.2.9.1 for the MCVideo emergency alert trigger;\n3)\tif the MCVideo user has not requested an MCVideo emergency alert to be sent, shall set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to \"false\"; and\n4)\tif the MCVideo client emergency group state of the group is set to a value other than \"MVEG 2: in-progress\" shall set the MCVideo client emergency group state of the MCVideo group to \"MVEG 3: confirm-pending\".\nNOTE 2:\tThis is the case of an initial MCVideo emergency group call and optionally an MCVideo emergency alert being sent. As the MCVideo emergency state is not sent, there is no MCVideo emergency alert outstanding.\nNOTE 3:\tAn MCVideo group call originated by an affiliated member of an MCVideo group which is in an in-progress emergency state (as tracked on the MCVideo client by the MCVideo client emergency group state) but is not in an MCVideo emergency state of their own will also be an MCVideo emergency group call. The <emergency-ind> and <alert-ind> elements of the application/vnd.3gpp.mcvideo-info+xml MIME body do not need to be included in this case and hence no action needs to be taken in this clause.\nThis clause is referenced from other procedures.\nIf the MCVideo emergency group call state is set to either \"MVEGC 2: emergency-call-requested\" or \"MVEGC 3: emergency-call-granted\" and this is an authorised request for an MCVideo emergency group call as determined by the procedures of clause 6.2.8.1.8, or the MCVideo client emergency group state of the group is set to \"MVEG 2: in-progress\", the MCVideo client shall include in the SIP INVITE request a Resource-Priority header field populated with the values for an MCVideo emergency group call as specified in clause 6.2.8.1.15.\nNOTE:\tThe MCVideo client ideally would not need to maintain knowledge of the in-progress emergency state of the group (as tracked on the MCVideo client by the MCVideo client emergency group state) but can use this knowledge to provide a Resource-Priority header field set to emergency level priority, which starts the infrastructure priority adjustment process sooner than otherwise would be the case.\nIf this is an authorised request to cancel the MCVideo emergency group call as determined by the procedures of clause 6.2.8.1.7, and the MCVideo client emergency group state of the group is \"no-emergency\" or \"cancel-pending\", the MCVideo client shall include in the SIP INVITE request a Resource-Priority header field populated with the values for a normal MCVideo group call as specified in clause 6.2.8.1.15.\nThis clause is referenced from other procedures.\nIf the MCVideo emergency group call state is set to \"MVEGC 3: emergency-call-granted\" and the MCVideo emergency alert state is set to \"MVEA 1: no-alert\", the MCVideo client shall generate a SIP re-INVITE request according to 3GPP TS 24.229 [11] with the clarifications given below.\nNOTE 1:\tThis procedure assumes that the calling procedure has verified that the MCVideo user has made an authorised request for cancelling MCVideo in-progress emergency group state of the group.\nThe MCVideo client:\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <emergency-ind> element set to \"false\";\n2)\tshall clear the MCVideo emergency state; and\n3)\tshall set MCVideo emergency group state of the MCVideo group to \"MVEG 3: cancel-pending\"\nNOTE 2:\tThis is the case of an MCVideo user who has initiated an MCVideo emergency group call and wants to cancel it.\nIf the MCVideo emergency group call state is set to \"MVEGC 3: emergency-call-granted\" and the MCVideo emergency alert state is set to a value other than \"MVEA 1: no-alert\" and the MCVideo user has indicated only the MCVideo emergency group call should be cancelled, the MCVideo client:\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <emergency-ind> element set to \"false\"; and\n2)\tshall set the MCVideo emergency group state of the MCVideo group to \"MVEG 3: cancel-pending\".\nNOTE 3:\tThis is the case of an MCVideo user has initiated both an MCVideo emergency group call and an MCVideo emergency alert and wishes to only cancel the MCVideo emergency group call. This leaves the MCVideo emergency state set.\nIf the MCVideo emergency group call state is set to \"MVEGC 3: emergency-call-granted\" and the MCVideo emergency alert state is set to a value other than \"MVEA 1: no-alert\" and the MCVideo user has indicated that the MCVideo emergency alert on the MCVideo group should be cancelled in addition to the MCVideo emergency group call, the MCVideo client:\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <emergency-ind> element set to \"false\";\n2)\tshall if this is an authorised request to cancel an MCVideo emergency alert as determined by the procedures of clause 6.2.8.1.6:\na)\tinclude in the application/vnd.3gpp.mcvideo-info+xml MIME body an <alert-ind> element set to \"false\";\nb)\tset the MCVideo emergency alert state to \"MVEA 4: Emergency-alert-cancel-pending\"; and\nc)\tclear the MCVideo emergency state;\n3)\tshould, if this is not an authorised request to cancel an MCVideo emergency alert as determined by the procedures of clause 6.2.8.1.6, indicate to the MCVideo user that they are not authorised to cancel the MCVideo emergency alert; and\n4)\tshall set the MCVideo emergency group state of the MCVideo group to \"MVEG 3: cancel-pending\".\nNOTE 4:\tThis is the case of an MCVideo user that has initiated both an MCVideo emergency group call and an MCVideo emergency alert and wishes to cancel both.\nIn the procedures in this clause, a priority group call refers to an MCVideo emergency group call or an MCVideo imminent peril group call.\nOn receiving a SIP 2xx response to a SIP request for a priority group call, the MCVideo client:\n1)\tif the MCVideo emergency group call state is set to \"MVEGC 2: emergency-call-requested\" or \"MVEGC 3: emergency-call-granted\":\na)\tshall set the MCVideo client emergency group state of the group to \"MVEG 2: in-progress\" if it was not already set;\nb)\tif the MCVideo emergency alert state is set to \"MVEA 2: emergency-alert-confirm-pending\" and the SIP 2xx response to the SIP request for a priority group call does not contain a Warning header field as specified in clause 4.4 with the warning text containing the mcvideo-warn-code set to \"149\", shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated;\nc)\tshall set the MCVideo emergency group call state to \"MVEGC 3: emergency-call-granted\"; and\nd)\tshall set the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-capable\" and the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; or\n2)\tif the MCVideo imminent peril group call state is set to \"MVIGC 2: imminent-peril-call-requested\" or \"MVIGC 3: imminent-peril-call-granted\" and the SIP 2xx response to the SIP request for an imminent peril group call does not contain a Warning header field as specified in clause 4.4 with the warning text containing the mcvideo-warn-code set to \"149\":\na)\tset the MCVideo imminent peril group call state to \"MVIGC 3: imminent-peril-call-granted\"; and\nb)\tset the MCVideo imminent peril group state to \"MVIG 2: in-progress\".\nIn the procedures in this clause, a priority group call refers to an MCVideo emergency group call or an MCVideo imminent peril group call.\nUpon receiving a SIP 4xx response, SIP 5xx response or a SIP 6xx response to a SIP request for a priority group call the MCVideo client:\n1)\tif the MCVideo emergency group call state is set to \"MVEGC 2: emergency-call-requested\" or \"MVEGC 3: emergency-call-granted\":\na)\tshall set the MCVideo emergency group call state to \"MVEGC 1: emergency-gc-capable\";\nb)\tif the MCVideo client emergency group state of the group is \"MVEG 3: confirm-pending\" shall set the MCVideo client emergency group state of the group to \"MVEG 1: no-emergency\"; and\nc)\tif the sent SIP request for a priority group call contained an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element set to a value of \"true\", shall set the MCVideo emergency alert state to \"MVEA 1: \"no-alert\"; and\n2)\tif the MCVideo imminent peril group call state is set to \"MVIGC 2: imminent-peril-call-requested\" or \"MVIGC 3: imminent-peril-call-granted\":\na)\tshall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\nb)\tshall set the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-capable\".\nIf the MCVideo client receives a request from the MCVideo user to send an MCVideo emergency alert and:\n1)\tif the <allow-activate-emergency-alert> element of the <actions> element of a <rule> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\"; and\n2)\tif the \"entry-info\" attribute of the <entry> element of the <EmergencyAlert> element contained within the <MCVideo-group-call> element of the MCVideo user profile document is set to a value of:\na)\t\"DedicatedGroup\", and if the <uri-entry> element of the <entry> element of the <EmergencyAlert> element of the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) contains the MCVideo group identity of the MCVideo group targeted by the calling MCVideo user; or\nb)\t\"UseCurrentlySelectedGroup\" and the <MCVideo-allow-emergency-alert> element of the <actions> element of a <rule> element of the <ruleset> element of the <list-service> element of the group document identified by the MCVideo group identity targeted for the emergency alert is set to a value of \"true\" as specified in 3GPP TS 24.481 [24];\nthen the MCVideo emergency alert request shall be considered to be an authorised request for an MCVideo emergency alert. In all other cases, it shall be considered to be an unauthorised request for an MCVideo emergency alert.\nIf the MCVideo client receives a request from the MCVideo user to cancel an MCVideo emergency alert to an MCVideo group, and if the <allow-cancel-emergency-alert> element of the <actions> element of a <rule> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\", then the MCVideo emergency alert cancellation request shall be considered to be an authorised request to cancel an MCVideo emergency alert. In all other cases, it shall be considered to be an unauthorised request to cancel an MCVideo emergency alert.\nWhen the MCVideo client receives a request from the MCVideo user to cancel the in-progress emergency state of a group the MCVideo client and:\n1)\tif the <allow-cancel-group-emergency> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\", then the in-progress emergency group state cancel request shall be considered to be an authorised request for in-progress emergency group state cancellation; or\n2)\tif the <allow-cancel-group-emergency> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"false\", then the in-progress emergency group state cancel request shall be considered to be an unauthorised request for in-progress emergency group state cancellation.\nWhen the MCVideo client receives a request from the MCVideo user to originate an MCVideo emergency group call the MCVideo client shall check the following:\n1)\tif the <allow-emergency-group-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\" and\na)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element of the <EmergencyCall> element contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"DedicatedGroup\" and if the <uri-entry> element of the <entry> element of the <MCVideoGroupInitiation> element contains the identity of the MCVideo group targeted by the calling MCVideo user; or\nb)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element of the <EmergencyCall> contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UseCurrentlySelectedGroup\";\nthen the MCVideo emergency group call request shall be considered to be an authorised request for an MCVideo emergency group call;\nIn all other cases, the request to originate an MCVideo emergency group call shall be considered to be an unauthorised request to originate an MCVideo emergency group call.\nWhen the MCVideo client receives a request from the MCVideo user to originate an MCVideo imminent peril group call the MCVideo client shall check the following:\n1\tif the <allow-imminent-peril-call> element of <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\" and:\na)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element contained within the <ImminentPerilCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"DedicatedGroup\" and if the <MCVideoGroupInitiation> element contains the identity of the MCVideo group targeted by the calling MCVideo user; or\nb)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element contained within the <ImminentPerilCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UseCurrentlySelectedGroup\";\nthen the MCVideo imminent peril group call request shall be considered to be an authorised request for an MCVideo imminent peril group call;\nIn all other cases, the request to originate an MCVideo imminent peril group call shall be considered to be an unauthorised request to originate an MCVideo imminent peril group call.\nThis clause is referenced from other procedures.\nWhen the MCVideo client receives a request from the MCVideo user to originate an MCVideo imminent peril group call, and this is an authorised request for an MCVideo imminent peril group call as determined by the procedures of clause 6.2.8.1.8, the MCVideo client:\n1)\tif the MCVideo client imminent peril group state is set to \"MVIGC 1: imminent-peril-capable\" and the in-progress emergency state of the group is set to a value of \"false\":\na)\tshall include in the SIP request a MIME mcvideoinfo body as defined in Annex F.1 with the <imminentperil-ind> element set to \"true\" and set the MCVideo emergency group call state to \"MVIGC 2: imminent-peril-call-requested\" state; and\nb)\tif the MCVideo client imminent peril group state of the group is set to a value other than \"MVIG 2: in-progress\" shall set the MCVideo client emergency group state of the MCVideo group to \"MVIG 3: confirm-pending\".\nNOTE:\tAn MCVideo group call originated by an affiliated member of an MCVideo group which is in an in-progress imminent peril state (as tracked on the MCVideo client by the MCVideo client imminent peril group state) will also have the priority associated with MCVideo imminent peril group calls. The <imminentperil-ind> element of the MIME mcvideoinfo body does not need to be included in this case, nor do any state changes result and hence no action needs to be taken in this clause.\nWhen the MCVideo client receives a request from the MCVideo user to cancel an MCVideo imminent peril group call the MCVideo client shall:\n1)\tif the <allow-cancel-imminent-peril> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\" the MCVideo imminent peril call cancellation request shall be considered to be an authorised request to cancel the MCVideo imminent peril group call; or\n2)\tif the <allow-cancel-imminent-peril> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"false\" the MCVideo imminent peril call cancellation request shall be considered to be an unauthorised request to cancel the MCVideo imminent peril group call.\nThis clause is referenced from other procedures.\nIf the MCVideo imminent peril group call state is set to \"MVIGC 3: imminent-peril-call-granted\" or the MCVideo imminent peril group state of the MCVideo group is set to \"MVIG 2: in-progress\", the MCVideo client shall generate a SIP re-INVITE request according to 3GPP TS 24.229 [11] with the clarifications given below.\nNOTE 1:\tThis procedure assumes that the calling procedure has verified that the MCVideo user has made an authorised request for cancelling the in-progress imminent peril group state of the group.\nThe MCVideo client:\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <imminentperil-ind> element set to \"false\"; and\n2)\tshall set MCVideo imminent peril group state of the MCVideo group to \"MVIG 3: cancel-pending\".\nNOTE 2:\tThis is the case of an MCVideo user who has initiated an MCVideo imminent peril group call and wants to cancel it, or another authorised member of the group who wishes to cancel the in-progress imminent peril state of the group.\nThis clause is referenced from other procedures.\nWhen the MCVideo imminent peril group call state is set \"MVIGC 2: imminent-peril-call-requested\" or \"MVIGC 3: imminent-peril-call-granted\" and this MCVideo user and group is authorised to originate MCVideo imminent peril group calls as determined by the procedures of clause 6.2.8.1.8, or the MCVideo client imminent peril state of the group is set to \"MVIG 2: in-progress\", the MCVideo client:\n1)\tshall include in the SIP INVITE request a Resource-Priority header field populated with the values for an MCVideo imminent peril group call as specified in clause 6.2.8.1.15.\nNOTE:\tThe MCVideo client ideally would not need to maintain knowledge of the in-progress imminent peril state of the group (as tracked on the MCVideo client by the MCVideo client imminent peril group state) but can use this knowledge to provide a Resource-Priority header field set to imminent peril level priority, which starts the infrastructure priority adjustment process sooner than otherwise would be the case.\nWhen the MCVideo imminent peril group call state is set to \"MVIGC 1: imminent-peril-gc-capable\" and the MCVideo user is authorised to cancel MCVideo imminent peril group calls as determined by the procedures of clause 6.2.8.1.10, or the MCVideo client imminent peril group state of the group is \"MVIG 1: no-imminent-peril\" or \"MVIG 3: cancel-pending\", the MCVideo client:\n1)\tshall include in the SIP INVITE request a Resource-Priority header field populated with the values for a normal MCVideo group call as specified in clause 6.2.8.1.15.\nThis clause is referenced from other procedures.\nUpon receiving a SIP INFO request within the dialog of the SIP request for a priority group call:\n-\twith the Info-Package header field containing the g.3gpp.mcvideo-info package name;\n-\twith the application/vnd.3gpp.mcvideo-info+xml MIME body associated with the info package according to IETF RFC 6086 [21]; and\n-\twith one or more of the <alert-ind>, <imminentperil-ind> and <emergency-ind> elements set in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nthe MCVideo client:\n1)\tshall send a SIP 200 (OK) response to the SIP INFO request as specified in 3GPP TS 24.229 [11];\n2)\tif the MCVideo emergency group call state is set to \"MVEGC 3: emergency-call-granted\":\na)\tif the MCVideo emergency alert state is set to \"MVEA 2: emergency-alert-confirm-pending\":\ni)\tif the <alert-ind> element is set to a value of \"false\", shall set the MCVideo emergency alert state to \"MVEA 1: no-alert\"; and\nii)\tif the <alert-ind> element is set to a value of \"true\", shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated\";\n3)\tif the MCVideo imminent peril group call state is set to \"MVIGC 2: imminent-peril-call-requested\" or \"MVIGC 3: imminent-peril-call-granted\":\na)\tif the <imminentperil-ind> element is set to a value of \"false\" and an <emergency-ind> element is set to a value of \"true\", shall:\ni)\tset the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\";\nii)\tset the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-capable\"; and\niii)\tset the MCVideo client emergency group state of the group to \"MVEG 2: in-progress\"; and\nNOTE 1:\tThis is the case of an MCVideo client attempting to make an imminent peril group call when the group is in an in-progress emergency group state. The MCVideo client will then receive a notification that the imminent peril call request was denied, however they will be participating at the emergency level priority of the group. This could occur for example when an MCVideo client requests an imminent peril call to a group that they are not currently affiliated with.\nNOTE 2:\tthe MCVideo client emergency group state above is the MCVideo client's view of the in-progress emergency state of the group.\n4)\tif the SIP request for a priority group call sent by the MCVideo client did not contain an <originated-by> element and if the MCVideo emergency alert state is set to \"MVEA 4: Emergency-alert-cancel-pending\":\na)\tif the <alert-ind> element contained in the SIP INFO request is set to a value of \"true\", shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated\"; and\nb)\tif the <alert-ind> element contained in the SIP INFO request is set to a value of \"false\", shall set the MCVideo emergency alert state to \"MVEA 1: no-alert\".\nThis clause is referenced from other procedures.\nUpon receiving an authorised request to cancel an in-progress emergency group state of a group as determined by the procedures of clause 6.2.8.1.7 from an MCVideo user, the MCVideo client shall generate a SIP re-INVITE request according to 3GPP TS 24.229 [11] with the clarifications given below.\nThe MCVideo client:\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <emergency-ind> element set to \"false\";\n2)\tshall set MCVideo emergency group state of the MCVideo group to \"MVEG 3: cancel-pending\"; and\n3)\tif the MCVideo user has indicated that an MCVideo emergency alert on the MCVideo group originated by another MCVideo user should be cancelled and this is an authorised request for an MCVideo emergency alert cancellation as determined by the procedures of clause 6.2.8.1.6:\na)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <alert-ind> element set a value of \"false\"; and\nb)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <originated-by> element set to the MCVideo ID of the MCVideo user who originated the MCVideo emergency alert.\nNOTE:\tWhen an MCVideo emergency alert is cancelled by a MCVideo user other than its originator, the <originated-by> element is needed to identify which MCVideo emergency alert is being cancelled, as more than one MCVideo user could have originated emergency alerts to the same group.\nThis clause is referenced from other procedures.\nWhen determining the Resource-Priority header field namespace and priority values as specified in IETF RFC 8101 [38] for an MCVideo emergency group call or MCVideo emergency private call the MCVideo client:\n1)\tshall retrieve the value of the <resource-priority-namespace> element contained in the <emergency-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document ; and\n2)\tshall retrieve the value of the <resource-priority-priority> element contained in the <emergency-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document .\nWhen determining the Resource-Priority header field namespace and priority values as specified in IETF RFC 8101 [38] for an MCVideo imminent peril group call the MCVideo client:\n1)\tshall retrieve the value of the <resource-priority-namespace> element contained in the <imminent-peril-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document; and\n2)\tshall retrieve the value of the <resource-priority-priority> element contained in the <imminent-peril-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document.\nWhen determining the Resource-Priority header field namespace and priority values as specified in IETF RFC 8101 [38] for a normal MCVideo group or private call the MCVideo client:\n1)\tshall retrieve the value of the <resource-priority-namespace> element contained in the <normal-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document ; and\n2)\tshall retrieve the value of the <resource-priority-priority> element contained in the <normal-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document .\nNOTE:\tThe \"normal\" Resource-Priority header field value is needed to return to a normal priority value from a priority value adjusted for an MCVideo emergency group or private call or an MCVideo imminent peril group call. The \"normal\" priority received from the EPS by use of the \"normal\" Resource-Priority header field value is expected to be the same as the \"normal\" priority received from the EPS when initiating a call with no Resource-Priority header field included.\nThe Resource-Priority header field is specified as per IETF RFC 4412 [33]. The Resource-Priority namespace for MCVideo emergency group call, MCVideo emergency private call, MCVideo imminent peril group call, normal MCVideo group or private call, shall reuse the namespace for Mission Critical Push-to-Talk, which is specified in IETF RFC 8101 [38].\nThis clause is referenced from other procedures.\nUpon receiving a request to release the MCVideo emergency group call or an MCVideo imminent peril group call in an MCVideo group session is in-progress or is in the process of being established:\n1)\tif the MCVideo emergency group call state is set to \"MVEGC 2: emergency-call-requested\":\na)\tshall set the MCVideo emergency group call state to \"MVEGC 1: emergency-gc-capable\";\nb)\tif the MCVideo client emergency group state of the group is \"MVEG 3: confirm-pending\" shall set the MCVideo client emergency group state of the group to \"MVEG 1: no-emergency\"; and\nc)\tif the MCVideo emergency alert state is set to \"MVEA 2: emergency-alert-confirm-pending\" shall set the MCVideo emergency alert state to \"MVEA 1: \"no-alert\"; and\n2)\tif the MCVideo imminent peril group call state is set to \"MVIGC 2: imminent-peril-call-requested\":\na)\tif the MCVideo imminent peril group call state of the group is \"MVIG 3: confirm-pending\", shall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\nb)\tshall set the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-capable\".\nThis clause is referenced from other procedures.\nUpon receiving a request to release the MCVideo session when an MCVideo emergency private call is in-progress or is in the process of being established:\n1)\tif the MCVideo emergency private call state is set to \"MVEPC 2: emergency-call-requested\":\na)\tshall set the MCVideo emergency private call state to \"MVEPC 1: emergency-pc-capable\";\nb)\tif the MCVideo emergency private priority state of the private call is \"MVEPP 3: confirm-pending\" shall set the MCVideo emergency private priority state of the private call to \"MVEPP 1: no-emergency\"; and\nc)\tif the MCVideo private emergency alert state is set to \"MVPEA 2: emergency-alert-confirm-pending shall set the MCVideo private emergency alert state to \"MVPEA 1: no-alert\".\nNOTE:\tThis clause is referenced from other procedures.\nWhen the MCVideo user initiates a broadcast group call, the MCVideo client:\n1)\tin the case of the prearranged group call is initiated on-demand, shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body the <broadcast-ind> element set to \"true\" as defined in clause F.1; and\n2)\tin the case the prearranged group call is initiated using a pre-established session, shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body in the hname \"body\" parameter in the headers portion of the SIP URI in the Refer-To header field the <broadcast-ind> element set to \"true\" as defined in clause F.1.\nIf the MCVideo client receives a request from the MCVideo user to originate an MCVideo emergency private call and:\n1)\tif the <allow-emergency-private-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\"; and\na)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoPrivateRecipient> element of the <EmergencyCall> element contained within the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UsePreConfigured\" and if the <uri-entry> element of the <entry> element of the <MCVideoPrivateRecipient> element contains the MCVideo ID of the MCVideo user targeted by the calling MCVideo user; or\nb)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoPrivateRecipient> element of the <EmergencyCall> element contained within the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"LocallyDetermined\";\nthen the MCVideo client shall consider the MCVideo emergency private call request to be an authorised request for an MCVideo emergency private call. In all other cases the MCVideo client shall consider the MCVideo emergency private call request to be an unauthorised request for an MCVideo emergency private call.\nIf the MCVideo client receives a request from the MCVideo user to cancel an MCVideo emergency private call and if the <allow-cancel-private-emergency-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\", then the MCVideo emergency private call cancellation request shall be considered to be an authorised request for an MCVideo emergency private call cancellation.\nIn all other cases, the MCVideo emergency private call cancellation request shall be considered to be an unauthorised request for an MCVideo emergency private call cancellation.\nIf the MCVideo client receives a request from the MCVideo user to send an MCVideo emergency alert to an MCVideo user and:\n1)\tif the <allow-activate-emergency-alert> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user as specified in 3GPP TS 24.484 [25] is set to a value of \"true\"; and\n2)\tif the \"entry-info\" attribute of the <entry> element of the <PrivateEmergencyAlert> element contained within the <OnNetwork> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of:\na)\t\"UsePreConfigured\", and if the <uri-entry> element of the <entry> element of the <PrivateEmergencyAlert> element of the <OnNetwork> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) contains the MCVideo ID of the targeted MCVideo user; or\nb)\t\"LocallyDetermined\";\nthen the MCVideo emergency alert request shall be considered to be an authorised request for an MCVideo emergency alert. In all other cases, it shall be considered to be an unauthorised request for an MCVideo emergency alert.\nIf the MCVideo client receives a request from the MCVideo user to cancel an MCVideo emergency alert to an MCVideo user, and if the <allow-cancel-emergency-alert> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user as specified in 3GPP TS 24.484 [25] is set to a value of \"true\", then the MCVideo emergency alert cancellation request shall be considered to be an authorised request to cancel an MCVideo emergency alert. In all other cases, it shall be considered to be an unauthorised request to cancel an MCVideo emergency alert.\nThis clause is referenced from other procedures.\nWhen the MCVideo emergency private call state is set to \"MVEPC 1: emergency-pc-capable\" and this is an authorised request for an MCVideo emergency private call as determined by the procedures of clause 6.2.8.3.1.1, the MCVideo client:\n1)\tshall set the MCVideo emergency state if not already set;\n2)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP request an <emergency-ind> element set to \"true\" and set the MCVideo emergency private call state to \"MVEPC 2: emergency-pc-requested\";\n3)\tif the MCVideo user has also requested an MCVideo emergency alert to be sent and this is an authorised request for MCVideo emergency alert as determined by the procedures of clause 6.2.8.3.1.3, shall:\na)\tinclude in the application/vnd.3gpp.mcvideo-info+xml MIME body the <alert-ind> element set to \"true\" and set the MCVideo private emergency alert state to \"MVPEA 2: emergency-alert-confirm-pending\"; and\nb)\tperform the procedures specified in clause 6.2.9.1 for the MCVideo emergency alert trigger;\n4)\tif the MCVideo user has not requested an MCVideo emergency alert to be sent, shall set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to \"false\"; and\n5)\tif the MCVideo emergency private priority state of this private call is set to a value other than \"MVEPP 2: in-progress\" shall set the MCVideo emergency private priority state to \"MVEPP 3: confirm-pending\".\nThis clause is referenced from other procedures.\nIf the MCVideo emergency private call state is set to either \"MVEPC 2: emergency-pc-requested\" or \"MVEPC 3: emergency-pc-granted\" and this is an authorised request for an MCVideo emergency private call as determined by the procedures of clause 6.2.8.3.1.1, or the MCVideo emergency private priority state of the call is set to \"MVEPP 2: in-progress\", the MCVideo client shall include in the SIP request a Resource-Priority header field populated with the values for an MCVideo emergency private call as specified in clause 6.2.8.1.15.\nNOTE:\tThe MCVideo client ideally would not need to maintain knowledge of the in-progress emergency state of the call (as tracked on the MCVideo client by the MCVideo client emergency private state) but can use this knowledge to provide a Resource-Priority header field set to emergency level priority, which starts the infrastructure priority adjustment process sooner than otherwise would be the case.\nIf this is an authorised request to cancel the MCVideo emergency private call as determined by the procedures of clause 6.2.8.3.1.2, or the MCVideo emergency private priority state of the private call is \"MVEPP 1: no-emergency\" or \"MVEPP 3: cancel-pending\", the MCVideo client shall include in the SIP request a Resource-Priority header field populated with the values for a normal MCVideo private call as specified in clause 6.2.8.1.15.\nThis clause is referenced from other procedures.\nOn receiving a SIP 2xx response to a SIP request for an MCVideo emergency private call and if the MCVideo emergency private call state is set to \"MVEPC 2: emergency-pc-requested\" or \"MVEPC 3: emergency-pc-granted\", the MCVideo client:\n1)\tshall set the MCVideo emergency private priority state of the call to \"MVEPP 2: in-progress\" if it was not already set;\n2)\tshall set the MCVideo emergency private call state to \"MVEPC 3: emergency-pc-granted\"; and\n3)\tif the MCVideo private emergency alert state is set to \"MVPEA 2: emergency-alert-confirm-pending\" and the SIP 2xx response to the SIP request for a priority private call does not contain a Warning header field as specified in clause 4.4 with the warning text containing the mcvideo-warn-code set to \"149\", shall set the MCVideo private emergency alert state to \"MVPEA 3: emergency-alert-initiated\".\nUpon receiving a SIP 4xx response, SIP 5xx response or a SIP 6xx response to a SIP request for an MCVideo emergency private call and if the MCVideo emergency private call state is set to \"MVEPC 2: emergency-pc-requested\" or \"MVEPC 3: emergency-pc-granted\", the MCVideo client:\n1)\tshall set the MCVideo emergency private call state to \"MVEPC 1: emergency-pc-capable\";\n2)\tif the MCVideo emergency private priority state of the private call is \"MVEPP 3: confirm-pending\" shall set the MCVideo emergency private priority state of the private call to \"MVEPP 1: no-emergency\"; and\n3)\tif the sent SIP request for an MCVideo emergency private call contained an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element set to a value of \"true\", shall set the MCVideo private emergency alert state to \"MVPEA 1: no-alert\".\nThis clause is referenced from other procedures.\nWhen the MCVideo emergency private call state is set to \"MVEPC 3: emergency-pc-granted\" and the MCVideo emergency alert state is set to \"MVPEA 1: no-alert\", the MCVideo client shall generate a SIP re-INVITE request according to 3GPP TS 24.229 [11] with the clarifications given below.\nNOTE 1:\tThis procedure assumes that the MCVideo client in the calling procedure has verified that the MCVideo user has made an authorised request for cancelling MCVideo the in-progress emergency private call state of the call.\nThe MCVideo client:\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <emergency-ind> element set to \"false\";\n2)\tshall clear the MCVideo emergency state; and\n3)\tshall set MCVideo emergency private priority state of the MCVideo emergency private call to \"MVEPP 3: cancel-pending\".\nNOTE 2:\tThis is the case of an MCVideo user who has initiated an MCVideo emergency private call and wants to cancel it.\nWhen the MCVideo emergency private call state is set to \"MVEPPC 3: emergency-pc-granted\" and the MCVideo emergency alert state is set to a value other than \"MVPEA 1: no-alert\" and the MCVideo user has indicated only the MCVideo emergency private call should be cancelled, the MCVideo client:\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <emergency-ind> element set to \"false\"; and\n2)\tshall set the MCVideo emergency private priority state of the MCVideo emergency private call to \"MVEPP 3: cancel-pending\";\nNOTE 3:\tThis is the case of an MCVideo user has initiated both an MCVideo emergency private call and an MCVideo emergency alert and wishes to only cancel the MCVideo emergency private call. This leaves the MCVideo emergency state set.\nWhen the MCVideo emergency private call state is set to \"MVEPC 3: emergency-pc-granted\" and the MCVideo emergency alert state is set to a value other than \"MVPEA 1: no-alert\" and the MCVideo user has indicated that the MCVideo emergency alert on the MCVideo private call should be cancelled in addition to the MCVideo emergency private call, the MCVideo client:\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <emergency-ind> element set to \"false\";\n2)\tshall, if this is an authorised request to cancel an MCVideo emergency alert as determined by the procedures of clause 6.2.8.3.1.3:\na)\tinclude in the application/vnd.3gpp.mcvideo-info+xml MIME body an <alert-ind> element set to \"false\"; and\nb)\tset the MCVideo private emergency alert state to \"MVPEA 4: emergency-alert-cancel-pending\";\n3)\tif this is not an authorised request to cancel an MCVideo emergency alert as determined by the procedures of clause 6.2.8.3.1.3, should indicate to the MCVideo user they are not authorised to cancel the MCVideo emergency alert;\n4)\tshall set the MCVideo emergency private priority state of the MCVideo to \"MVEPP 3: cancel-pending\"; and\n5)\tshall clear the MCVideo emergency state.\nNOTE 4:\tThis is the case of an MCVideo user that has initiated both an MCVideo emergency private call and an MCVideo emergency alert and wishes to cancel both.\nThis clause is referenced from other procedures.\nUpon receiving a SIP INFO request within the dialog of the SIP request for a priority private call:\n-\twith the Info-Package header field containing the g.3gpp.mcvideo-info package name;\n-\twith the application/vnd.3gpp.mcvideo-info+xml MIME body associated with the info package according to IETF RFC 6086 [21]; and\n-\twith one or more of the <alert-ind>, <imminentperil-ind> and <emergency-ind> elements set in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nthe MCVideo client:\n1)\tif the MCVideo private emergency alert state is set to \"MVPEA 2: emergency-alert-confirm-pending\":\na)\tif the <alert-ind> element is set to a value of \"false\", shall set the MCVideo private emergency alert state to \"MVPEA 1: no-alert\"; and\nb)\tif the <alert-ind> element set to a value of \"true\", shall set the MCVideo private emergency alert state to \"MVPEA 3: emergency-alert-initiated\"; and\n2)\tif the MCVideo private emergency alert state is set to \"MVPEA 4: Emergency-alert-cancel-pending\":\na)\tif the <alert-ind> element is set to a value of \"true\", shall set the MCVideo private emergency alert state to \"MVPEA 3: emergency-alert-initiated\"; and\nb)\tif the <alert-ind> element is set to a value of \"false\", shall set the MCVideo private emergency alert state to \"MVPEA 1: no-alert\".\nThis clause is referenced from other procedures.\nUpon receiving a request to cancel the MCVideo emergency private call state from an MCVideo user other than the originator of the MCVideo emergency private call, the MCVideo client shall generate a SIP re-INVITE request according to 3GPP TS 24.229 [11] with the clarifications given below.\nThe MCVideo client:\nNOTE 1: This procedure assumes that the calling procedure has verified that the MCVideo user has made an authorised request for cancelling the MCVideo emergency private call state of the call.\n1)\tshall include in the SIP re-INVITE request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in clause F.1 with the <emergency-ind> element set to \"false\";\n2)\tshall set the MCVideo emergency private priority state of the MCVideo emergency private call to \"MVEPP 3: cancel-pending\"; and\n3)\tif the MCVideo user has indicated that an MCVideo emergency alert associated with the MCVideo emergency private call originated by another MCVideo user should be cancelled and this is an authorised request for an MCVideo emergency alert cancellation as determined by the procedures of clause 6.2.8.3.1.3:\na)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <alert-ind> element set to a value of \"false\"; and\nb)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <originated-by> element set to the MCVideo ID of the MCVideo user who originated the MCVideo emergency alert.\nNOTE 2:\tWhen an MCVideo emergency alert is cancelled by a MCVideo user other than its originator, the <originated-by> element is needed to identify which MCVideo emergency alert is being cancelled, as conceivably each participant in the MCVideo emergency private call could have originated an MCVideo emergency alert.\nIf the MCVideo client needs to retrieve a KMS URI associated to an identified MCVideo ID for on network operation, the MCVideo client:\n1)\tshall search for the <entry> element of the <PrivateCallURI> element of the <PrivateCallOnNetwork> element of the <PrivateCallList> element entry of the <Common> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) containing the identified MCVideo ID;\na)\tif the identified MCVideo ID is found and if the <entry> element of the <PrivateCallKMSURI> element of the <PrivateCallOnNetwork> element of the <PrivateCallList>  element entry identified is not empty, shall retrieve the KMS URI contained therein; or\nb)\tif the identified MCVideo ID is not found or the <entry> element of the <PrivateCallKMSURI> element is empty, shall retrieve the <kms> element of the <App-Server-Info> element of the <on-network> element of the MCVideo UE initial configuration document (see the MCVideo UE initial configuration document in 3GPP TS 24.484 [25]) and consider that to be the KMS URI associated with the MCVideo ID.\nIf the MCVideo client needs to retrieve a KMS URI associated to an identified MCVideo ID for off network operation, the MCVideo client:\n1)\tshall search for /<x>/<x>/Common/PrivateCall/UserList/<x>/Entry/MCVideoID leaf node containing the identified MCVideo ID (see the MCVideo user profile MO in 3GPP TS 24.483 [4]);\na)\tif the identified MCVideo ID is found:\ni)\tshall retrieve the\t/<x>/<x>/Common/PrivateCall/UserList/<x>/Entry/PrivateCallKMSURI leaf node (see the MCVideo user profile MO in 3GPP TS 24.483 [4]); and\nii)\tif  the PrivateCallKMSURI leaf node in the same /<x>/<x>/Common/PrivateCall/UserList/<x>/Entry/ interior node as the MCVideoID leaf node containing the identified MCVideo ID is not empty, shall consider its value to be the KMS URI associated with the MCVideo ID; and\nb)\tif the identified MCVideo ID is not found or if the /<x>/<x>/Common/PrivateCall/UserList/<x>/Entry/PrivateCallKMSURI leaf node is empty:\ni)\tshall retrieve /<x>/OnNetwork/AppServerInfo/KMS leaf node (see the MCVideo UE initial configuration document in 3GPP TS 24.483 [4]); and\nii)\tshall consider the value of the /<x>/OnNetwork/AppServerInfo/KMS leaf node to be the KMS URI associated with the MCVideo ID.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.9\tLocation information",
                            "text_content": "This procedure is initiated by the MCVideo client when it is including location report information as part of a SIP request for a specified location trigger.\nThe MCVideo client:\n1)\tshall include an application/vnd.3gpp.location-info+xml MIME body as specified in Annex F.3 with a <Report> element included in the <location-info> root element; and\n2)\tshall include in the <Report> element the specific location information configured for the specified location trigger.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.10\tSupport for multiplexing",
                            "text_content": "If multiplexing is supported the SSRC of the RTCP header is used to enable multiplexing of media plane control channels for different communications over the same IP address and port. The SSRCs to be used in the RTCP messages over the media plane control channel for one communication are allocated at session establishment by each receiving entity.\nIf multiplexing is supported the SSRC of the RTP header is used to enable multiplexing of media streams for different communications over the same IP address and port. The SSRCs to be used in the RTP messages over the media stream for one communication are allocated in transmission control server and exchange with the transmission control protocol.\nThe transmission control server shall generate globally unique SSRC to avoid collision of SSRC.\nNOTE:\tIf SSRC collision is detected by the MCVideo client, it will not be possible to determine the source of the media streams during one transmission (i.e. one media burst) for a MCVideo client. It is up to the MCVideo client implementation on how to handle such SSRC collision.\nBefore the useage of multiplexing, the MCVideo client, the participating MCVideo function, the controlling MCVideo function and the non-controlling MCVideo function shall determine that both endpoints of a session support multiplexing.\nThe participating MCVideo function may determine the MCVideo client's support of multiplexing from the <multiplex-support> element of the MCVideo client poc-settings.\nThe MCVideo client, the participating MCVideo function, the controlling MCVideo function and the non-controlling MCVideo function may determine the support for multiplexing of another entity based on the presence of \"mc_transmission_ssrc\" fmtp attribute in the SDP offere/answer, according to 3GPP TS 24.581 [5], sub clause 14.4. The participating MCVideo function, the controlling MCVideo function and the non-controlling MCVideo function may determine the support for multiplexing in another MCVideo server function based on local configuration, which is outside the scope of the present document.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.3\tMCVideo server procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.3.1\tDistinction of requests sent to the MCVideo server",
                            "text_content": "The MCVideo server needs to distinguish between the following initial SIP INVITE requests for originations and terminations:\n-\tSIP INVITE requests routed to the participating MCVideo function and the Request-URI is set to a public service identity of the participating MCVideo function that does not identify the pre-established session set-up. Such requests are known as \"SIP INVITE request for originating participating MCVideo function\" in the procedures in the present document;\n-\tSIP INVITE requests routed to the participating MCVideo function and the Request-URI contains a PSI of the terminating participating MCVideo function. Such requests are known as \"SIP INVITE request for terminating participating MCVideo function\" in the procedures in the present document;\n-\tSIP INVITE requests routed to the controlling MCVideo function, the Request-URI is set to a public service identity for MCVideo private call and the Contact header field does not contain the isfocus media feature tag specified in IETF RFC 3840 [22]. Such requests are known as \"SIP INVITE request for controlling MCVideo function of a private call\" in the procedures in the present document;\n-\tSIP INVITE requests routed to the controlling MCVideo function, the Request-URI is set to a public service identity serving an MCVideo group and the Contact header field does not contain the isfocus media feature tag specified in IETF RFC 3840 [22]. Such requests are known as \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" in the procedures in the present document;\n-\tSIP INVITE requests routed to the controlling MCVideo function, the Request-URI is set to a public service identity for MCVideo ambient viewing call and the Contact header field does not contain the isfocus media feature tag specified in IETF RFC 3840 [22]. Such requests are known as \"SIP INVITE request for controlling MCVideo function of an ambient viewing call\" in the procedures in the present document;\n-\tSIP INVITE requests routed to the non-controlling MCVideo function of an MCVideo group, the Request-URI is set to a public service identity serving an MCVideo group and the Contact header field contains the isfocus media feature tag specified in IETF RFC 3840 [22]. Such requests are known as \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" in the procedures in the present document; and\n-\tSIP INVITE requests routed to the non-controlling MCVideo function of an MCVideo group, the Request-URI is set to a public service identity serving an MCVideo group and the Contact header field does not contain the isfocus media feature tag specified in IETF RFC 3840 [22]. Such requests are known as \"SIP INVITE request from participating MCVideo function for non-controlling MCVideo function of an MCVideo group\" in the procedures in the present document.\nThe MCVideo server needs to distinguish between the following SIP MESSAGE request for originations and terminations:\n-\tSIP MESSAGE requests routed to the participating MCVideo function with the Request-URI set to the MBMS public service identity of the participating MCVideo function. Such requests are known as \"SIP MESSAGE request for an MBMS listening status update\" in the procedures in the present document;\n-\tSIP MESSAGE request routed to the participating MCVideo function containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\" and includes an XML body containing a Location root element containing a Report element. Such requests are known as \"SIP MESSAGE request for location reporting\" in the present document;\n-\tSIP MESSAGE requests routed to the originating participating MCVideo function with the Request-URI set to the public service identity of the participating MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and includes an XML body containing a <mcvideoinfo> root element containing a <mcvideo-Params> element containing an <emergency-ind> element or an <alert-ind> element. Such requests are known as \"SIP MESSAGE requests for emergency notification for originating participating MCVideo function\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the terminating participating MCVideo function with the Request-URI set to the public service identity of the terminating participating MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and includes an XML body containing a <mcvideoinfo> root element containing a <mcvideo-Params> element containing an <emergency-ind> element or an <alert-ind> element. Such requests are known as \"SIP MESSAGE requests for emergency notification for terminating participating MCVideo function\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the controlling MCVideo function with the Request-URI set to the public service identity of the controlling MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and includes an XML body containing a <mcvideoinfo> root element containing a <mcvideo-Params> element containing an <emergency-ind> element or an <alert-ind> element. Such requests are known as \"SIP MESSAGE requests for emergency notification for controlling MCVideo function\" in the procedures in the present document;\n-\tSIP MESSAGE request routed to the MCVideo client containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\" and includes an XML body containing a Location root element containing a Configuration element. Such requests are known as \"SIP MESSAGE request for location report configuration\" in the present document; and\n-\tSIP MESSAGE request routed to the MCVideo client containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\" and includes an XML body containing a Location root element containing a Request element. Such requests are known as \"SIP MESSAGE request for location report request\" in the present document.\n-\tSIP MESSAGE requests routed to the originating participating MCVideo function with the Request-URI set to the public service identity of the participating MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and includes an XML body containing a <mcvideoinfo> root element with a <mcvideo-Params> element containing an <anyExt> element with the <request-type> element set to a value of \"group-selection-change-request\" or with the <response-type> element set to a value of \"group-selection-change-response\". Such requests are known as \"SIP MESSAGE request for group-selection-change for originating participating MCVideo function\";\n-\tSIP MESSAGE requests routed to the terminating participating MCVideo function with the Request-URI set to the public service identity of the participating MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and includes an XML body containing a <mcvideoinfo> root element with a <mcvideo-Params> element containing an <anyExt> element with the <request-type> element set to a value of \"group-selection-change-request\" or with the <response-type> element set to a value of \"group-selection-change -response\". Such requests are known as \"SIP MESSAGE request for group-selection-change for terminating participating MCVideo function\";\n-\tSIP MESSAGE requests routed to the controlling MCVideo function with the Request-URI set to the public service identity of the controlling MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and includes an XML body containing a <mcvideoinfo> root element with a <mcvideo-Params> element containing an <anyExt> element with the <request-type> element set to a value of \"group-selection-change-request\". Such requests are known as \"SIP MESSAGE request for group selection change request for controlling MCVideo function\";\n-\tSIP MESSAGE requests routed to the controlling MCVideo function with the Request-URI set to the public service identity of the controlling MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and includes an XML body containing a <mcvideoinfo> root element with a <mcvideo-Params> element containing an <anyExt> element with the <response-type> element set to a value of \"group-selection-change-response\". Such requests are known as \"SIP MESSAGE request for group selection change response for controlling MCVideo function\";\n-\tSIP MESSAGE requests routed to the originating participating MCVideo function and the Request-URI is set to a public service identity of the originating participating MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body, a <regroup-action> element set to \"create\", and a non-empty <groups-for-regroup> element. Such requests are known as \"SIP MESSAGE request to the originating participating MCVideo function to request creation of a group regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the originating participating MCVideo function and the Request-URI is set to a public service identity of the originating participating MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body, a <regroup-action> element set to \"create\", and a non-empty <users-for-regroup> element. Such requests are known as \"SIP MESSAGE request to the originating participating MCVideo function to request creation of a user regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the originating participating MCVideo function and the Request-URI is set to a public service identity of the originating participating MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body and a <regroup-action> element set to \"remove\". Such requests are known as \"SIP MESSAGE request to the originating participating MCVideo function to remove a regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the terminating participating MCVideo function and the Request-URI is set to a public service identity of the participating MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body, a <regroup-action> element set to \"create\", and a non-empty <groups-for-regroup> element. Such requests are known as \"SIP MESSAGE request to the terminating participating MCVideo function to create a group regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the terminating participating MCVideo function and the Request-URI is set to a public service identity of the terminating participating MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body, a <regroup-action> element set to \"create\"and a non-empty <users-for-regroup> element. Such requests are known as \"SIP MESSAGE request to the terminating participating MCVideo function to create a user regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the terminating participating MCVideo function and the Request-URI is set to a public service identity of the terminating participating MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-info+xml MIME body and a <regroup-action> element set to \"remove\". Such requests are known as \"SIP MESSAGE request to the terminating participating MCVideo function to remove a regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the controlling MCVideo function and the Request-URI is set to a public service identity of the controlling MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body, a <regroup-action> element set to \"create\", and a non-empty <groups-for-regroup> element. Such requests are known as \"SIP MESSAGE request to the controlling MCVideo function to request creation of a group regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the controlling MCVideo function and the Request-URI is set to a public service identity of the controlling MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body, a <regroup-action> element set to \"create\", and a non-empty <users-for-regroup> element. Such requests are known as \"SIP MESSAGE request to the controlling MCVideo function to request creation of a user regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the controlling MCVideo function and the Request-URI is set to a public service identity of the controlling MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup +xml MIME body and a <regroup-action> element set to \"remove\". Such requests are known as \"SIP MESSAGE request to the controlling MCVideo function to remove a regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to a non-controlling MCVideo function and the Request-URI is set to a public service identity of the non-controlling MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body, a <regroup-action> element set to \"create\", and a non-empty <groups-for-regroup> element. Such requests are known as \"SIP MESSAGE request to a non-controlling MCVideo function to request creation of a group regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the non-controlling MCVideo function and the Request-URI is set to a public service identity of the non-controlling MCVideo function that contains a <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body and a <regroup-action> element set to \"remove\". Such requests are known as \"SIP MESSAGE request to the non-controlling MCVideo function to remove a group regroup using preconfigured group\" in the procedures in the present document;\n-\tSIP MESSAGE requests routed to the originating participating MCVideo function with the Request-URI set to the public service identity of the participating MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and including an XML body containing a <mcvideoinfo> root element containing a <mcvideo-Params> element containing an <anyExt> element with the <request-type> element set to a value of \"fa-group-binding-req\". Such requests are known as \"SIP MESSAGE request for binding of a functional alias with the MCVideo group(s) for the MCVideo user for originating participating MCVideo function\" in the procedures in the present document; and\n-\tSIP MESSAGE requests routed to the controlling participating MCVideo function with the Request-URI set to the public service identity of the participating MCVideo function and containing a Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and including an XML body containing a <mcvideoinfo> root element containing a <mcvideo-Params> element containing an <anyExt> element with the <request-type> element set to a value of \"fa-group-binding-req\". Such requests are known as \"SIP MESSAGE request for binding of a functional alias with the MCVideo group(s) for the MCVideo user for controlling MCVideo function\" in the procedures in the present document.\nIf a SIP MESSAGE request is received at an MCVideo server that is not in accordance with the SIP MESSAGE requests listed above, then the MCVideo server shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response.\nThe MCVideo server needs to distinguish between the following SIP SUBSCRIBE request for originations and terminations:\n-\tSIP SUBSCRIBE requests routed to the participating MCVideo function with the Request-URI set to the MCVideo session identity identifying the participating MCVideo function and the Event header field set to \"conference\". Such requests are known as \"SIP SUBSCRIBE request for conference event status subscription in the participating MCVideo function\" in the procedures in the present document;\n-\tSIP SUBSCRIBE requests routed to the controlling MCVideo function with the Request-URI set to the MCVideo session identity identifying the controlling MCVideo function and containing an Event header field set to \"conference\". Such requests are known as \"SIP SUBSCRIBE request for conference event status subscription in the controlling MCVideo function\" in the procedures in the present document; and\n-\tSIP SUBSCRIBE requests routed to the non-controlling MCVideo function with the Request-URI set to the MCVideo session identity identifying the non-controlling MCVideo function and containing an Event header field set to \"conference\". Such requests are known as \"SIP SUBSCRIBE request for conference event status subscription in the non-controlling MCVideo function\" in the procedures in the present document.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.2\tParticipating MCVideo Function",
                            "text_content": "This clause is referenced from other clauses.\nThe SDP offer is generated based on the received SDP offer. The SDP offer generated by the participating MCVideo function:\n1)\tshall contain two SDP media-level sections for MCVideo video media as contained in the received SDP offer; and\n2)\tshall contain an SDP media-level section for one media-transmission control entity, if present in the received SDP offer.\nWhen composing the SDP offer according to 3GPP TS 24.229 [11], the participating MCVideo function:\n1)\tshall replace the IP address and port number for the offered media stream in the received SDP offer with the IP address and port number of the participating MCVideo function, if required;\nNOTE 1:\tRequirements can exist for the participating MCVideo function to be always included in the path of the offered media stream, for example: for the support of features such as MBMS, lawful interception and recording. Other examples can exist.\n2)\tshall replace the IP address and port number for the offered media transmission control entity, if any, in the received SDP offer with the IP address and port number of the participating MCVideo function;\n3)\tshall replace the mc_transmission_ssrc 'fmtp' attribute for the offered media plane control channel, if any, in the received SDP offer with the RTCP SSRC that the participating MCVideo function has selected as specified in 3GPP TS 24.581 [5] clause 4.3 and shall be used by the answerer (i.e. MCVideo client or controlling MCVideo function) in the transmission control messages sent to the participating MCVideo function for this session; and\nNOTE 2:\tThe participating MCVideo function will receive in the SDP answer the RTP SSRC it will have to use in the transmission control message it will send to the answerer in this session.\nNOTE 3:\tIf the participating MCVideo function and the controlling MCVideo function are in the same MCVideo server, and the participating MCVideo function does not have a dedicated IP address or a dedicated port number for media transmission control or media stream, the replacement of the IP address or the port number is omitted.\n4)\tshall contain an \"a=key-mgmt\" attribute field with a \"mikey\" attribute value, if present in the received SDP offer.\nWhen composing the SDP answer according to 3GPP TS 24.229 [11], the participating MCVideo function:\n1)\tshall replace the IP address and port number in the received SDP answer with the IP address and port number of the participating MCVideo function, for the accepted media stream in the received SDP offer, if required; and\nNOTE 1:\tRequirements can exist for the participating MCVideo function to be always included in the path of the offered media stream, for example: for the support of features such as MBMS, lawful interception and recording. Other examples can exist.\n2)\tshall replace the IP address and port number in the received SDP answer with the IP address and port number of the participating MCVideo function, for the accepted media-transmission control entity, if present in the received SDP offer; and\n3)\tshall replace the mc_transmission_ssrc 'fmtp' attribute for the accepted media plane control channel, if present in the received SDP answer with the RTCP SSRC that the participating MCVideo function has selected as specified in 3GPP TS 24.581 [5] clause 4.3 and shall be used by the offerer (i.e. MCVideo client or controlling MCVideo function) in the transmission control messages sent to the participating MCVideo function for this session.\nNOTE 2:\tThe participating MCVideo function has received in the SDP offer the RTP SSRC it will have to use in the transmission control message it will send to the offerer in this session.\nNOTE 3:\tIf the participating MCVideo function and the controlling MCVideo function are in the same MCVideo server, and the participating MCVideo function does not have a dedicated IP address or a dedicated port number for media transmission control or media stream, the replacement of the IP address or the port number is omitted.\nThis clause is referenced from other procedures.\nWhen generating an initial SIP INVITE request according to 3GPP TS 24.229 [11], on receipt of an incoming SIP INVITE request, the participating MCVideo function:\n1)\tshall include in the SIP INVITE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to the rules and procedures of IETF RFC 3841 [20] if included in the incoming SIP INVITE request;\n2)\tshould include the Session-Expires header field according to IETF RFC 4028 [23]. It is recommended that the \"refresher\" header field parameter is omitted. If included, the \"refresher\" header field parameter shall be set to \"uac\";\n3)\tshall include the option tag \"timer\" in the Supported header field;\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the participating MCVideo function;\n5)\tshall include the g.3gpp.mcvideo media feature tag into the Contact header field of the outgoing SIP INVITE request;\n6)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), into the P-Asserted-Service header field of the outgoing SIP INVITE request;\n7)\tif the incoming SIP INVITE request contained an application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo user in a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body, shall copy the application/resource-lists+xml MIME body, according to the rules and procedures of IETF RFC 5366 [37];\n8)\tif the incoming SIP INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request to the outgoing SIP INVITE request; and\n9)\tif the incoming SIP INVITE request contained an application/vnd.3gpp.location-info+xml MIME body, shall copy the contents of the application/vnd.3gpp.location-info+xml MIME body of the incoming SIP INVITE request to the outgoing SIP INVITE request.\nNOTE:\tThis clause is referenced from other procedures\nWhen sending SIP provisional responses other than the SIP 100 (Trying) response, the participating MCVideo function shall generate a SIP provisional response according to 3GPP TS 24.229 [11] and:\n1)\tshall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag;\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\nc)\tthe isfocus media feature tag; and\nd)\tan MCVideo session identity mapped to the MCVideo session identity if provided in the Contact header field of the incoming provisional response;\n2)\tshall include the \"norefersub\" option tag in a Supported header field in accordance with 3GPP TS 24.229 [11];\n3)\tmay include a Resource-Share header field in accordance with clause 5.7.1.20.2 in 3GPP TS 24.229 [11]; and\n4)\tif the incoming SIP provisional response contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body to the outgoing SIP provisional response.\nThis clause is referenced from other procedures.\nWhen sending SIP 200 (OK) responses, the participating MCVideo function shall generate a SIP 200 (OK) response according to 3GPP TS 24.229 [11] and:\n1)\tshall include the option tag \"timer\" in a Require header field;\n2)\tshall include the Session-Expires header field according to rules and procedures of IETF RFC 4028 [23], \"UAS Behavior\". If the \"refresher\" parameter is not included in the received request, the \"refresher\" parameter in the Session-Expires header field shall be set to \"uac\";\n3)\tshall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag;\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\nc)\tthe isfocus media feature tag;\n4)\tshall include the option tag \"tdialog\" in a Supported header field according to rules and procedures of IETF RFC 4538 [32];\n5)\tshall include the option tag \"norefersub\" in a Supported header field according to rules and procedures of IETF RFC 4488 [31];\n6)\tmay include a Resource-Share header field in accordance with clause 5.7.1.20.2 in 3GPP TS 24.229 [11]; and\n7)\tif the incoming SIP 200 (OK) response contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body to the outgoing SIP 200 (OK) response.\nUpon receiving a SIP BYE request from the MCVideo client, the participating MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5];\n2)\tshall generate a SIP BYE request as specified in 3GPP TS 24.229 [11];\n3)\tshall set the Request-URI to the MCVideo session identity as included in the received SIP BYE request;\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP BYE request set to the public service identity of the participating MCVideo function;\n5)\tif the received SIP BYE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body into the outgoing SIP BYE request; and\n6)\tshall send the SIP BYE request toward the controlling MCVideo function, according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the SIP BYE request the terminating MCVideo function shall forward a SIP 200 (OK) response to the MCVideo client and shall interact with the media plane as specified in 3GPP TS 24.581 [5] for releasing media plane resources associated with the SIP session with the controlling MCVideo function.\nThis clause contains common procedures to be used for MCVideo emergency group calls and MCVideo imminent peril group calls.\nWhen the participating MCVideo function receives a request from the MCVideo client to originate an MCVideo emergency group call and needs to determine if the request is an authorised request for an MCVideo emergency call, the participating MCVideo function shall check the following:\n1)\tif the <allow-emergency-group-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\" and:\na)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element of the <EmergencyCall> element contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"DedicatedGroup\" and if the <uri-entry> element of the <entry> element of the <MCVideoGroupInitiation> element contains the identity of the MCVideo group targeted by the calling MCVideo user; or\nb)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element of the <EmergencyCall> contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UseCurrentlySelectedGroup\";\nthen the participating MCVideo function shall consider the MCVideo emergency group call request to be an authorised request for an MCVideo emergency group call;\nIn all other cases, the participating MCVideo function shall consider the request to originate an MCVideo emergency group call to be an unauthorised request to originate an MCVideo emergency group call.\nWhen the participating MCVideo function receives a request from the MCVideo client to originate an MCVideo imminent peril group call and needs to determine if the request is an authorised request for an MCVideo imminent peril group call the participating MCVideo function shall check the following:\n1)\tif the <allow-imminent-peril-call> element of <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\"; and\na)\tif the \"entry-info\" attribute of the <MCVideoGroupInitiation> element contained within the <ImminentPerilCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"DedicatedGroup\" and if the <uri-entry> element of the <entry> element of the <MCVideoGroupInitiation> element contains the identity of the MCVideo group targeted by the calling MCVideo user; or\nb)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element contained within the <ImminentPerilCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UseCurrentlySelectedGroup\";\nthen the participating MCVideo function shall consider the MCVideo imminent peril group call request to be an authorised request for an MCVideo emergency group call;\nIn all other cases, the participating MCVideo function shall consider the request to originate an MCVideo imminent peril group call to be an unauthorised request to originate an MCVideo imminent peril call.\nIf the participating MCVideo function receives a SIP request from the MCVideo client including a request for an MCVideo emergency alert and:\n1)\tif the <allow-activate-emergency-alert> element of the <actions> element of the <rule> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\"; and\n2)\tif the \"entry-info\" attribute of the <entry> element of the <EmergencyAlert> element contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of:\na)\t\"DedicatedGroup\", and if the <uri-entry> element of the <entry> element of the <EmergencyAlert> element of the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) contains the MCVideo group identity of the MCVideo group targeted by the calling MCVideo user; or\nb)\t\"UseCurrentlySelectedGroup\" and the <MCVideo-allow-emergency-alert> element of the <actions> element of a <rule> element of the <ruleset> element of the <list-service> element of the group document identified by the MCVideo group identity targeted for the emergency alert is set to a value of \"true\" as specified in 3GPP TS 24.481 [24].\nthen the MCVideo emergency alert request shall be considered to be an authorised request for an MCVideo emergency alert. In all other cases, it shall be considered to be an unauthorised request for an MCVideo emergency alert.\nIf the participating MCVideo function receives a SIP request from the MCVideo client including a request to cancel an MCVideo emergency alert to an MCVideo group, and if the <allow-cancel-emergency-alert> element of the <actions> element of a <rule> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\", then the MCVideo emergency alert cancellation request shall be considered to be an authorised request to cancel an MCVideo emergency alert. In all other cases, it shall be considered to be an unauthorised request to cancel an MCVideo emergency alert.\nThis clause is referenced from other procedures.\nTo validate the combinations of <emergency-ind>, <imminentperil-ind> and <alert-ind> which are received in SIP requests, the participating MCVideo function shall follow the procedures specified in clause 6.3.3.1.17.\nThis clause is referenced from other procedures.\nThe participating MCVideo function shall follow the procedures specified in clause 6.3.3.1.19 with the clarification that references in that procedure to the controlling MCVideo function should be replaced with references to the participating MCVideo function.\nThis clause is referenced from other procedures.\nWhen generating a SIP re-INVITE request according to 3GPP TS 24.229 [11] on receipt of an incoming SIP re-INVITE request, the participating MCVideo function:\n1)\tif the incoming SIP re-INVITE request contained an application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo user in a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body, shall copy the application/resource-lists+xml MIME body, according to the rules and procedures of IETF RFC 5366 [37];\n2)\tif the incoming SIP re-INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n3)\tif the incoming SIP re-INVITE request contained an application/vnd.3gpp.location-info+xml MIME body, shall copy the application/vnd.3gpp.location-info+xml MIME body.\nThis clause is referenced from other procedures.\nThe participating MCVideo function shall generate a SIP INVITE request according to rules and procedures of 3GPP TS 24.229 [11].\nThe participating MCVideo function:\n1)\tshall determine the public service identity of the non-controlling MCVideo function associated with the group identity of the constituent group contained in the <associated-group-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP INVITE request. If the participating MCVideo function is unable to identify the non-controlling MCVideo function for the on demand prearranged group call, it shall reject the SIP INVITE request with a SIP 404 (Not Found) response with the warning text \"142 unable to determine the controlling function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\nNOTE 1:\tThe public service identity can identify the non-controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system\nNOTE 4:\tHow the participating MCVideo function determines the public service identity of the non-controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n2)\tshall set the Request-URI set of the generated SIP INVITE request to the public service identity determined in step 1;\n3)\tshall include in the SIP INVITE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] if included in the original incoming SIP INVITE request from the MCVideo client;\n4)\tshould include the Session-Expires header field according to IETF RFC 4028 [23]. It is recommended that the \"refresher\" header field parameter is omitted. If included, the \"refresher\" header field parameter shall be set to \"uac\";\n5)\tshall include the option tag \"timer\" in the Supported header field;\n6)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the participating MCVideo function;\n7)\tshall include the g.3gpp.mcvideo media feature tag into the Contact header field of the outgoing SIP INVITE request;\n8)\tshall include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the outgoing SIP INVITE request;\n9)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), into the P-Asserted-Service header field of the outgoing SIP INVITE request;\n10)\tif a SIP INVITE request was received from the client containing an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body of the original incoming SIP INVITE request to the outgoing SIP INVITE request; and\n11)\tshall set the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request to the MCVideo ID of the calling user that was determined when the participating MCVideo function received the SIP INVITE request request from the client.\nThe participating MCVideo function shall follow the procedures in clause 6.3.2.1.1.\nThe participating MCVideo function shall follow the procedures in clause 6.3.2.1.2.1.\nThe participating MCVideo function shall generate an initial SIP INVITE request according to 3GPP TS 24.229 [11] and:\n1)\tshall include in the SIP INVITE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] if included in the incoming SIP INVITE request;\n2)\tshould include the Session-Expires header field according to IETF RFC 4028 [23]. It is recommended that the \"refresher\" header field parameter is omitted. If included, the \"refresher\" header field parameter shall be set to \"uac\";\n3)\tshall include the option tag \"timer\" in the Supported header field;\n4)\tshall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag;\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\nc)\tthe isfocus media feature tag;\nd)\tan MCVideo session identity mapped to the MCVideo session identity provided in the Contact header field of the incoming SIP INVITE request; and\ne)\tany other uri-parameter provided in the Contact header field of the incoming SIP INVITE request;\n5)\tshall include the option tag \"tdialog\" in a Supported header field according to rules and procedures of IETF RFC 4538 [32];\n6)\tshall include the option tag \"norefersub\" in a Supported header field according to rules and procedures of IETF RFC 4488 [31];\n7)\tmay include a Resource-Share header field in accordance with clause 5.7.1.20.3 in 3GPP TS 24.229 [11]; and\n8)\tif the incoming SIP INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body to the outgoing SIP INVITE request.\nThis clause is referenced from other procedures.\nWhen sending a SIP provisional response other than the SIP 100 (Trying) response to the SIP INVITE request, the participating MCVideo function shall generate a SIP provisional response according to 3GPP TS 24.229 [11] and:\n1)\tshall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag; and\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n2)\tif the outgoing SIP provisional response is to be sent in response to the receipt of a SIP provisional response and the response contains an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body to the outgoing SIP provisional response; and\n3)\tif the incoming SIP INVITE request included the Supported header field with the value \"100rel\" and according to local policy, may include the Require header field with the value \"100rel\".\nThis clause is referenced from other procedures.\nWhen sending SIP 200 (OK) responses, the participating MCVideo function shall generate a SIP 200 (OK) response according to 3GPP TS 24.229 [11] and:\n1)\tshall include the option tag \"timer\" in a Require header field;\n2)\tshall include the Session-Expires header field according to rules and procedures of IETF RFC 4028 [23], \"UAS Behavior\". If no \"refresher\" parameter was included in the SIP INVITE request, the \"refresher\" parameter in the Session-Expires header field shall be set to \"uas\";\n3)\tshall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag;\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\nc)\tan MCVideo session identity mapped to the MCVideo session identity provided in the Contact header field of the received SIP INVITE request from the controlling MCVideo function;\n4)\tshall include the option tag \"tdialog\" in a Supported header field according to rules and procedures of IETF RFC 4538 [32]; and\n5)\tif the incoming SIP response contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body to the outgoing SIP 200 (OK) response.\nWhen receiving a \"SIP INVITE request for terminating participating MCVideo function\" that requires automatic commencement mode:\n1)\tif:\na)\tthe invited MCVideo client has one or more pre-established sessions without an associated MCVideo session;\nb)\tthe media-level sections for the offered MCVideo video media stream are the same as the media-level sections for MCVideo video media stream in an existing pre-established session; and\nc)\tthe media-level section of the offered media-transmission control entity is the same as the media-level section for media-transmission control entity in an existing pre-established session;\nthen the participating MCVideo function shall perform the actions specified in clause 6.3.2.2.5.3; or\n2)\totherwise the participating MCVideo function shall perform the actions specified in clause 6.3.2.2.5.2.\nWhen receiving a \"SIP INVITE request for terminating participating MCVideo function\" for an on-demand session that requires automatic commencement mode the participating MCVideo function:\n1)\tif:\na)\tthe incoming SIP INVITE request contained a Priv-Answer-Mode header field set to the value of \"Auto\";\nb)\tno Answer-Mode header field or Priv-Answer-Mode header field were received in the incoming SIP INVITE request and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as defined in clause 7.3.3 or clause 7.3.4 is set to \"auto-answer\"; or\nc)\tthe incoming SIP INVITE request contained an Answer-Mode header field set to \"Auto\" and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as defined in clause 7.3.3 or clause 7.3.4 is set to \"auto-answer\";\nthen:\na)\tshall generate a SIP 183 (Session Progress) response to the \"SIP INVITE request for terminating participating MCVideo function\" as specified in clause 6.3.2.2.4.1; and\nNOTE:\tThe SIP 183 (session Progress) response can be sent reliably or unreliably depending on the content of the received SIP INVITE request. Regardless of if the SIP 183 (Session Progress) response is sent reliably or unreliably, SDP is not included in the SIP 183 (Session Progress) response.\nb)\tshall set the P-Answer-State header field to \"Unconfirmed\" in the SIP 183 (Session Progress) response;\n2)\tshall include a P-Asserted-Identity header field in the outgoing SIP 183 (Session Progress) response set to the public service identity of the participating MCVideo function;\n3)\tshall generate a SIP INVITE request as specified in clause 6.3.2.2.3;\n4)\tshall set the Request-URI to the public user identity associated to the MCVideo ID of the MCVideo user to be invited;\n5)\tshall perform the procedures specified in clause 6.3.2.2.9 to include any MIME bodies in the received SIP INVITE request, into the outgoing SIP INVITE request;\n6)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the participating MCVideo function;\n7)\tif the Priv-Answer-Mode header field is present in the incoming SIP INVITE request with a value of \"Auto\", shall include a Priv-Answer-Mode header field with the value \"Auto\" in the outgoing SIP INVITE request. Otherwise, if the Answer-Mode header field is present in the incoming SIP INVITE request, the participating MCVideo function shall include an Answer-Mode header field with the value \"Auto\" in the outgoing SIP INVITE request;\n8)\tif no Answer-Mode header field or Priv-Answer-Mode header field were received in the incoming SIP INVITE request and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as defined in clause 7.3.3 or clause 7.3.4 is set to \"auto-answer\", shall set the Answer-Mode header field to \"Auto\" in the outgoing SIP INVITE request;\n9)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received \"SIP INVITE request for terminating participating MCVideo function\" as specified in clause 6.3.2.2.1;\n10)\tif the received SIP INVITE request contains a Resource-Priority header field, shall include a Resource-Priority header field with the contents set as in the received Resource-Priority header field; and\n11)\tshall send the SIP INVITE request towards the MCVideo client according to 3GPP TS 24.229 [11].\nIf the SIP 183 (Session Progress) response was sent reliably, then upon receiving a SIP PRACK request, the participating MCVideo function shall generate a SIP 200 (OK) response to the SIP PRACK request and forward the SIP 200 (OK) response, according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the above SIP INVITE request sent to the MCVideo client, the participating MCVideo function:\n1)\tif the SIP 183 (Session Progress) was sent unreliably, shall send the SIP 200 (OK) response immediately; and\n2)\tif the SIP 183 (Session Progress) was sent reliably and,\na)\tif the SIP PRACK request to the SIP 183 (Session Progress) response has been received by the participating MCVideo function and the SIP 200 (OK) response to the SIP PRACK request has been sent, shall send the SIP 200 (OK) response immediately;\nb)\tif the SIP PRACK request to the SIP 183 (Session Progress) response has not yet been received, then upon receipt of the SIP PRACK request, the participating MCVideo function shall generate a SIP 200 (OK) response to the SIP PRACK request and forward the SIP 200 (OK) response, according to 3GPP TS 24.229 [11], before sending the SIP 200 (OK) response to the \"SIP INVITE request for terminating participating MCVideo function\".\nWhen the participating MCVideo function sends the SIP 200 (OK) response to the \"SIP INVITE request for terminating participating MCVideo function\", the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as described in the clause 6.3.2.2.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer based on the SDP answer in the received SIP 200 (OK) response as specified in clause 6.3.2.2.2.1;\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n4)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\n5)\tshall forward the SIP 200 (OK) response according to 3GPP TS 24.229 [11].\nThe participating MCVideo function shall forward any other SIP response that does not contain SDP along the signalling path to the originating network according to 3GPP TS 24.229 [11].\nWhen receiving a \"SIP INVITE request for terminating participating MCVideo function\" that requires manual commencement mode:\n1)\tif:\na)\tthe invited MCVideo client has one or more pre-established sessions without an associated MCVideo session;\nb)\tthe media-level sections for the offered MCVideo video media stream are the same as the media-level section for MCVideo video media stream in the existing pre-established session; and\nc)\tthe media-level section of the offered media-transmission control entity is the same as the media-level section for media-transmission control entity in the existing pre-established session;\nthen the participating MCVideo function shall perform the actions specified in clause 6.3.2.2.6.3; or\n2)\totherwise the participating MCVideo function shall perform the actions specified in clause 6.3.2.2.6.2.\nWhen receiving a \"SIP INVITE request for terminating participating MCVideo function\" for an on-demand session that requires manual commencement mode the participating MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.2.2.3;\n2)\tshall set the Request-URI to the public user identity associated to the MCVideo ID of the MCVideo user to be invited;\n3)\tshall perform the procedures specified in clause 6.3.2.2.9 to include any MIME bodies in the received SIP INVITE request;\n4)\tif the Answer-Mode header field is present in the incoming SIP INVITE request, participating MCVideo function, shall include an Answer-Mode header field with the value \"Manual\";\n5)\tif no Answer-Mode header field was received in the incoming SIP INVITE request and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as defined in clause 7.3.3 or clause 7.3.4 is set to \"manual-answer\", shall set the Answer-Mode header field to \"Manual\" in the outgoing SIP INVITE request;\n6)\tif the Priv-Answer-Mode header field is present in the incoming SIP INVITE request, the participating MCVideo function shall include a Priv-Answer-Mode header field with the value \"Manual\";\n7)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the participating MCVideo function;\n8)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received \"SIP INVITE request for terminating participating MCVideo function\" as specified in clause 6.3.2.2.1;\n9)\tif the received SIP INVITE request contains a Resource-Priority header field, shall include a Resource-Priority header field with the contents set as in the received Resource-Priority header field; and\n10)\tshall send the SIP INVITE request towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 180 (Ringing) response to the above SIP INVITE request, the participating MCVideo function:\nNOTE 1:\tA SIP 180 (Ringing) response is received from a terminating MCVideo client in the case of a private call.\n1)\tshall generate a SIP 180 (Ringing) response as specified in clause 6.3.2.2.4.1;\n2)\tshall include a P-Asserted-Identity header field in the outgoing SIP 180 (Ringing) response set to the public service identity of the participating MCVideo function; and\n3)\tshall forward the SIP 180 (Ringing) response according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 183 (Session Progress) response to the above SIP INVITE request, the participating MCVideo function:\nNOTE 2:\tA SIP 183 (Session Progress) response can be received from a terminating MCVideo client in the case of a group call.\n1)\tshall generate a SIP 183 (Session Progress) response as specified in clause 6.3.2.2.4.1;\n2)\tshall include a P-Asserted-Identity header field in the outgoing SIP 183 (Session Progress) response set to the public service identity of the participating MCVideo function;\n3)\tshall include the P-Answer-State header field if received in the incoming SIP 183 (Session Progress) request; and\n4)\tshall forward the SIP 183 (Session Progress) response according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the SIP INVITE request sent to the MCVideo client, the participating MCVideo function:\nWhen the participating MCVideo function sends the SIP 200 (OK) response the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as described in the clause 6.3.2.2.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer based on the SDP answer in the received SIP 200 (OK) response as specified in clause 6.3.2.2.2.1;\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n4)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\n5)\tshall forward the SIP 200 (OK) response according to 3GPP TS 24.229 [11].\nThe participating MCVideo function shall forward any other SIP response that does not contain SDP along the signalling path to the originating network according to 3GPP TS 24.229 [11].\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function:\n1)\tshall interact with the media plane as specified in clause 6.4 in 3GPP TS 24.581 [5] for releasing media plane resource associated with the SIP session with the controlling MCVideo function;\n2)\tshall generate a SIP BYE request according to 3GPP TS 24.229 [11];\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP BYE request set to the public service identity of the participating MCVideo function;\n4)\tif the received SIP BYE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body into the outgoing SIP BYE request; and\n5)\tshall send the SIP BYE request to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the SIP BYE request the participating MCVideo function:\n1)\tshall send a SIP 200 (OK) response to the SIP BYE request received from the controlling MCVideo function according to 3GPP TS 24.229 [11]; and\n2)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] for releasing media plane resources associated with the SIP session with the MCVideo client.\nThis clause is referenced from other procedures.\nIf the incoming SIP request contains an application/vnd.3gpp.mcvideo-info+xml MIME body, the participating MCVideo function:\n1)\tif not already copied, shall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the SIP request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP request.\nIf the received SIP request contains an application/vnd.3gpp.location-info+xml MIME body as specified in Annex F.3:\n1)\tif not already copied, shall copy the contents of the application/vnd.3gpp.location-info+xml MIME body received in the SIP request into an application/vnd.3gpp.location-info+xml MIME body included in the outgoing SIP request.\nIf the received SIP request contains an application/resource-lists+xml MIME body:\n1)\tif not already copied, shall copy the contents of the application/resource-lists+xml MIME body received in the SIP request into an application/resource-lists+xml MIME body included in the outgoing SIP request.\nThis clause is referenced from other procedures.\nThe participating MCVideo function shall generate a SIP re-INVITE request according to 3GPP TS 24.229 [11] and:\n1)\tshall include the option tag \"tdialog\" in a Supported header field according to rules and procedures of IETF RFC 4538 [32];\n2)\tmay include a Resource-Share header field in accordance with clause 5.7.1.20.3 in 3GPP TS 24.229 [11];\n3)\tshall perform the procedures specified in clause 6.3.2.2.9 to copy any MIME bodies in the received SIP re-INVITE request to the outgoing SIP re-INVITE request; and\n4)\tif the received SIP re-INVITE request contains a Resource-Priority header field, shall include a Resource-Priority header field with the contents set as in the received Resource-Priority header field.\nThis clause is referenced from other procedures.\nThe participating MCVideo function shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] and:\n1)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\n2)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public user identity associated to the MCVideo ID of the MCVideo user that was in the Request-URI of the incoming SIP MESSAGE request;\n3)\tshall populate the outgoing SIP MESSAGE request MIME bodies as specified in clause 6.3.2.2.9; and\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE  request set to the public service identity of the participating MCVideo function.\nThe procedures in this clause are executed by:\n-\tthe originating participating MCVideo function as a result of receiving a SIP 200 (OK) response to a SIP INVITE request targeted to a group identity, where the SIP 200 (OK) response contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing an <MKFC-GKTPs> element; and\n-\tthe terminating participating MCVideo function as a result of receiving a SIP INVITE requested targeted to an MCVideo ID as part of a group call, where the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing an <MKFC-GKTPs> element.\nThe <MKFC-GKTPs> element contains one or more <GKTP> elements where each <GKTP> element represents an I_MESSAGE(s) containing an MKFC and MKFC-ID, as specified in 3GPP TS 24.481 [24].\nThe participating MCVideo function validates each I_MESSAGE and if validation is successful, decrypts the I_MESSAGE, extracts the MKFC and MKFC-ID and transfers the MKFC and MKFC-ID to the media-transmission control entity.\nThe participating MCVideo function:\n1)\tshall extract the URI from the initiator field (IDRi) of the I_MESSAGE and use it together with the timer related parameter to check the signature of the I_MESSAGE as described in 3GPP TS 33.180 [8];\nNOTE:\tIf the terminating participating MCVideo function receives the SIP INVITE request from a controlling MCVideo function, then the URI in the IDRi is the controlling MCVideo function URI. If the terminating participating MCVideo function receives the SIP INVITE request from a non-controlling MCVideo function, then the URI in the IDRi is the non-controlling MCVideo function URI.\n2)\tif the signature is not valid, shall exit this procedure. Otherwise shall validate that the contents of the recipient field (IDRr) of the I_MESSAGE to ensure it matches to the URI of the participating MCVideo function; and\n3)\tif the contents of the IDRr do not match to the participating MCVideo function URI, shall exit this procedure. Otherwise, shall use the contents of the IDRr to decrypt the I_MESSAGE and extract the MKFC and MKFC-ID.\nAfter the MKFC(s) and MKFC-ID(s) have been extracted from the I_MESSAGE(s), the participating MCVideo function shall provide the media-transmission control entity with the MKFC(s) and MKFC-ID(s), by interacting with the media plane as specified in 3GPP TS 24.581 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.3\tControlling MCVideo function",
                            "text_content": "The SDP offer is generated based on the received SDP offer. The SDP offer generated by the controlling MCVideo function:\n1)\twhen initiating a new MCVideo session the SDP offer;\na)\tshall contain only one SDP media-level section for MCVideo video media stream as contained in the received SDP offer; and\nb)\tshall contain an SDP media-level section for one media-transmission control entity, if present in the received SDP offer; and\n2)\twhen adding a new MCVideo user to an existing MCVideo Session, the SDP offer shall contain the media stream currently used in the MCVideo session.\nWhen composing the SDP offer according to 3GPP TS 24.229 [11], the controlling MCVideo function:\n1)\tshall replace the IP address and port number for the offered media streams in the received SDP offer with the IP address and port number of the controlling MCVideo function;\n2)\tfor the MCVideo video media streams, shall include all media-level attributes from the received SDP offer;\n3)\tshall replace the IP address and port number for the offered media transmission control entity, if any, in the received SDP offer with the IP address and port number of the controlling MCVideo function;\n4)\tshall include an mc_transmission_ssrc 'fmtp' attribute as specified in 3GPP TS 24.581 [5] clause 14 for the selected media plane control channel with the RTCP SSRC that the controlling MCVideo function has selected as specified in 3GPP TS 24.581 [5] clause 4.3 and shall be used by the answerer in the transmission control messages sent to the controlling MCVideo function for this session; and\nNOTE:\tThe controlling MCVideo function will receive in the SDP answer the RTP SSRC it will have to use in the transmission control message it will send to the answerer in this session.\n5)\tfor the offered media transmission control entity, shall include any other necessary 'fmtp' attribute as specified in 3GPP TS 24.581 [5] clause 14.\nThis clause is referenced from other procedures.\nThe controlling MCVideo function shall generate an initial SIP INVITE request according to 3GPP TS 24.229 [11].\nThe controlling MCVideo function:\n1)\tshall include in the Contact header field an MCVideo session identity for the MCVideo session with the g.3gpp.mcvideo media feature tag, the isfocus media feature tag and the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" according to IETF RFC 3840 [22];\n2)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14] in the SIP INVITE request;\n4)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n5)\tvoid;\n6)\tshould include the Session-Expires header field according to rules and procedures of IETF RFC 4028 [23]. The refresher parameter shall be omitted;\n7)\tshall include the Supported header field set to \"timer\";\n8)\tif the incoming SIP INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body to the outgoing INVITE request;\n9)\tif the received SIP INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body containing an <ambient-viewing-type> element and:\na)\tif the Priv-Answer-Mode header field specified in IETF RFC 5373 [27] was included in the received SIP INVITE request with a value of \"Auto\" or if no Priv-Answer-Mode header field was received in the received SIP INVITE request; or\nb)\ta Priv-Answer-Mode header field was received containing a value other than \"Auto\";\nshall include a Priv-Answer-Mode header field set to a value of \"Auto\" in the outgoing SIP INVITE request; and\n10)\tif the received SIP INVITE request did not contain an application/vnd.3gpp.mcvideo-info+xml MIME body containing an <ambient-viewing-type> element, shall include an unmodified Answer-Mode header field if present in the incoming SIP INVITE request.\nOn receipt of the SIP 200 (OK) response to the initial outgoing SIP INVITE request the controlling MCVideo function:\n1)\tshall start the SIP session timer according to rules and procedures of IETF RFC 4028 [23]; and\n2)\tshall cache SIP feature tags, if received in the Contact header field, and if the specific feature tags are supported.\nWhen a participant needs to be removed from the MCVideo session, the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] for the MCVideo session release;\n2)\tshall generate a SIP BYE request according to 3GPP TS 24.229 [11]; and\n3)\tshall send the SIP BYE request to the MCVideo clients according to3GPP TS 24.229 [11].\nIf timer TNG3 (group call timer) has not expired, then when the last MCVideo client is removed from the MCVideo session, the controlling MCVideo function shall stop timer TNG3 (group call timer).\nWhen the MCVideo group session needs to be released, the controlling MCVideo function shall send SIP BYE requests as described in this clause, to all participants of the group session.\nUpon receiving a SIP 200 (OK) response to a SIP BYE request the controlling MCVideo function shall interact with the media plane as specified in clause 6.3 in 3GPP TS 24.581 [5] for releasing media plane resources associated with the SIP session with the MCVideo clients.\nThis clause is referenced from other procedures.\nThe controlling MCVideo function shall generate a SIP re-INVITE request according to 3GPP TS 24.229 [11].\nThe controlling MCVideo function:\n1)\tshall include an SDP offer with the media parameters as currently established with the terminating MCVideo client according to 3GPP TS 24.229 [11];\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-calling-user-id> element set to the MCVideo ID of the initiating MCVideo user;\n3)\tif the in-progress emergency group state of the group is set to a value of \"true\" the controlling MCVideo function:\na)\tshall include a Resource-Priority header field with the namespace populated with the values for an MCVideo emergency group call as specified in clause 6.3.3.1.18;\nb)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body the <emergency-ind> element set to a value of \"true\";\nc)\tif the <alert-ind> element is set to \"true\" in the received SIP re-INVITE request and MCVideo emergency alerts are authorised for this group and MCVideo user as determined by the procedures of clause 6.3.3.1.12.1, shall populate the application/vnd.3gpp.mcvideo-info+xml MIME body and application/vnd.3gpp.mcvideo-location-info+xml MIME body as specified in clause 6.3.3.1.11. Otherwise, shall set the <alert-ind> element to a value of \"false\" in the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nd)\tif the in-progress imminent peril state of the group is set to a value of \"true\" shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <imminentperil-ind> element set to a value of \"false\"; and\nNOTE:\tIf the imminent peril state of the group is true at this point, the controlling function will be setting it to false as part of the calling procedure. This is in effect an upgrade of an MCVideo imminent peril group call to an MCVideo emergency group call.\n4)\tif the in-progress emergency group state of the group is set to a value of \"false\":\na)\tshall include a Resource-Priority header field populated with the values for a normal MCVideo group call as specified in clause 6.3.3.1.18; and\nb)\tif the received SIP re-INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"false\" and this is an authorised request to cancel an MCVideo emergency group call as determined by the procedures of clause 6.3.3.1.12.4:\ni)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"false\"; and\nii)\tif the received SIP re-INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"false\" and this is an authorised request to cancel an MCVideo emergency alert as determined by the procedures of clause 6.3.3.1.14, shall:\nA)\tinclude in the application/vnd.3gpp.mcvideo-info+xml MIME body an <alert-ind> element set to a value of \"false\"; and\nB)\tif the received SIP request contains an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, copy the contents of the received <originated-by> element to an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP re-INVITE request.\nThis clause is referenced from other procedures.\nThis clause describes the procedures for inviting an MCVideo user to an MCVideo session associated with an MCVideo emergency group call or MCVideo imminent peril group call. The procedure is initiated by the controlling MCVideo function as the result of an action in clause 9.2.2.4.1.1.\nThe controlling MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.3.1.2;\n2)\tshall set the Request-URI to the public service identity of the terminating participating MCVideo function associated with the MCVideo ID of the targeted MCVideo user;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the targeted MCVideo user or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n3)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element populated as follows:\na)\tthe <mcvideo-request-uri> element set to the value of the MCVideo ID of the targeted MCVideo user;\nb)\tthe <mcvideo-calling-user-id> element set to the value of the MCVideo ID of the calling MCVideo user; and\nc)\tthe <mcvideo-calling-group-id> element set to the value of the MCVideo group ID of the emergency group call.\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the controlling MCVideo function;\n5)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the originating network according to the procedures specified in clause 6.3.3.1.1; and\n6)\tif the in-progress emergency group state of the group is set to a value of \"true\" the controlling MCVideo function:\na)\tshall include a Resource-Priority header field populated with the values for an MCVideo emergency group call as specified in clause 6.3.3.1.18;\nb)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <emergency-ind> element set to a value of \"true\";\nc)\tif the <alert-ind> element is set to \"true\" in the received SIP INVITE request and the requesting MCVideo user and MCVideo group are authorised for the initiation of MCVideo emergency alerts as determined by the procedures of clause 6.3.3.1.12.1, shall populate the application/vnd.3gpp.mcvideo-info+xml MIME body and the application/vnd.3gpp.mcvideo-location-info+xml MIME body as specified in clause 6.3.3.1.11. Otherwise, shall set the <alert-ind> element to a value of \"false\" in the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nd)\tif the in-progress imminent peril state of the group is set to a value of \"true\" shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <imminentperil-ind> element set to a value of \"false\";\nNOTE 6:\tIf the imminent peril state of the group is true at this point, the controlling function will set it to false as part of the calling procedure.\n7)\tif the in-progress emergency state of the group is set to a value of \"false\" and the in-progress imminent peril state of the group is set to a value of \"true\", the controlling MCVideo function:\na)\tshall include a Resource-Priority header field populated with the values for an MCVideo imminent peril group call as specified in clause 6.3.3.1.18; and\nb)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\"; and\n8)\tif:\na)\tan MCVideo GKTP document exists for the group identity contained in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request; and\nb)\tthe MCVideo GKTP document contains an <MKFC-GKTPs> element;\nthen:\na)\tfor each instance of <GKTP> element of the <MKFC-GKTPs> element of the MCVideo GKTP document:\ni)\tshall perform the procedure in clause 6.3.3.6.2 to re-generate an I_MESSAGE; and\nii)\tif the procedure in clause 6.3.3.6.2 was successful, shall include the I_MESSAGE in a <GKTP> element of the <MKFC-GKTPs> element of an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP INVITE request.\nThis clause is referenced from other procedures.\nThis clause describes the procedures for updating an MCVideo session associated with an MCVideo emergency group call or MCVideo imminent peril group call when the received SIP INVITE request did not include a correctly populated Resource-Priority header field. The procedure is initiated by the controlling MCVideo function for the purpose of providing the correct Resource-Priority header field.\n1)\tshall generate a SIP 183 (Session Progress) response according to 3GPP TS 24.229 [11] with the clarifications provided specified in clause 6.3.3.2.3.1;\n2)\tshall include the option tag \"100rel\" in a Require header field in the SIP 183 (Session Progress) response;\n3)\tshall include in the SIP 183 (Session Progress) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1; and\n4)\tshall send the SIP 183 (Session Progress) response towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP PRACK request to the SIP 183 (Session Progress) response the controlling MCVideo function:\n1)\tshall send the SIP 200 (OK) response to the SIP PRACK request according to 3GPP TS 24.229 [11].\n2)\tshall generate a SIP UPDATE request according to 3GPP TS 24.229 [11] with the following clarifications:\n3)\tshall include in the SIP UPDATE request an SDP offer based on the SDP offer in the received SIP INVITE request from the originating network according to the procedures specified in clause 6.3.3.1.1;\n4)\tif the in-progress emergency group state of the group is set to a value of \"true\" the controlling MCVideo function shall include a Resource-Priority header field populated for an MCVideo emergency group call as specified in clause 6.3.3.1.18; and\nNOTE 1:\tThis is the case when the sending MCVideo client did not send a Resource-Priority header field populated appropriately to receive emergency-level priority. In this case, the Resource-Priority header field is populated appropriately to provide emergency-level priority.\n5)\tif the in-progress emergency group state of the group is set to a value of \"false\" the controlling MCVideo function:\na)\tif the in-progress imminent peril state of the group is set to a value of \"false\", shall include a Resource-Priority header field populated for a normal priority MCVideo group call as specified in clause 6.3.3.1.18; and\nb)\tif the in-progress imminent peril state of the group is set to a value of \"true\", shall include a Resource-Priority header field populated for an MCVideo imminent peril group call as specified in clause 6.3.3.1.18.\nNOTE 2:\tThis is the case when the sending MCVideo client incorrectly populated a Resource-Priority header field for emergency-level or imminent peril-level priority and the controlling MCVideo function re-populates it as appropriate to an imminent peril level priority or normal priority level.\nThis clause is referenced from other procedures.\nThis clause describes the procedures for generating a SIP re-INVITE request to be sent by the controlling MCVideo function.\nThe controlling MCVideo function:\n1)\tshall generate an SIP re-INVITE request according to 3GPP TS 24.229 [11]; and\n2)\tshall include an SDP offer with the media parameters as currently established with the terminating MCVideo client according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.3.3.1.1.\nThis clause is referenced from other procedures.\nThis clause describes the procedures for generating a SIP re-INVITE request to cancel the in-progress emergency state of an MCVideo group. The procedure is initiated by the controlling MCVideo function when it determines the cancellation of the in-progress emergency state of an MCVideo group is required.\nThe controlling MCVideo function:\n1)\tshall generate a SIP re-INVITE request as specified in 3GPP TS 24.229 [11] with the clarifications specified in clause 6.3.3.1.8;\n2)\tshall include a Resource-Priority header field populated with the values for a normal MCVideo group call as specified in clause 6.3.3.1.18; and\n3)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"false\".\nThis clause is referenced from other procedures.\nThis clause describes the procedures for generating a SIP MESSAGE request to notify affiliated but not participating members of an MCVideo group of the change of status of the in-progress emergency state, imminent peril state or emergency alert status of an MCVideo group. The procedure is initiated by the controlling MCVideo function when there has been a change of in-progress imminent peril, in-progress emergency or the emergency alert status of an MCVideo group.\nThe controlling MCVideo function:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n2)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n4)\tshall set the Request-URI to the public service identity of the terminating participating function associated with the MCVideo ID of the targeted MCVideo user;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the targeted MCVideo user or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function;\n6)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14];\n7)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <mcvideo-request-uri> element set to the value of the MCVideo ID of the targeted MCVideo user; and\n8)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <mcvideo-calling-group-id> element set to the MCVideo group ID of the MCVideo group on which the MCVideo emergency call, imminent peril call or the emergency alert state has changed.\nThis clause is referenced from other procedures.\nThis clause describes the procedures for populating the application/vnd.3gpp.mcvideo-info+xml and application/vnd.3gpp.mcvideo-location-info+xml MIME bodies for an MCVideo emergency alert. The procedure is initiated by the controlling MCVideo function when it has received a SIP request initiating an MCVideo emergency alert and generates a message containing the MCVideo emergency alert information required by 3GPP TS 23.281 [26].\nThe controlling MCVideo function:\n1)\tshall include, if not already present, an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in Annex F.1, and set the <alert-ind> element to a value of \"true\";\n2)\tshall determine the value of the MCVideo user's Mission Critical Organization from the <MissionCriticalOrganization> element, of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]);\n3)\tshall include in the <mcvideoinfo> element containing the <mcvideo-Params> element containing an <mc-org> element set to the value of the MCVideo user's Mission Critical Organization; and\n4)\tshall copy the contents of the application/vnd.3gpp.mcvideo-location-info+xml MIME body in the received SIP request into an application/vnd.3gpp.mcvideo-location-info+xml MIME body included in the outgoing SIP request.\nIf the controlling MCVideo function has received a SIP request targeted to an MCVideo group with the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"true\", the controlling MCVideo function shall check the following conditions:\n1)\tif the <allow-activate-emergency-alert> element of the <actions> element of a <rule> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\";\na)\tif the \"entry-info\" attribute of the <entry> element of the <EmergencyAlert> element contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"DedicatedGroup\" and:\ni)\tif the MCVideo group identity targeted for the emergency alert is contained in the <uri-entry> element of the <entry> element of the <EmergencyAlert> element contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]); and\nii)\tif the <MCVideo-allow-emergency-alert> element of the <actions> element of a <rule> element of the <ruleset> element of the <list-service> element of the group document identified by the MCVideo group identity is set to a value of \"true\" as specified in 3GPP TS 24.481 [24]; or\nb)\tif the \"entry-info\" attribute of the <entry> element of the <EmergencyAlert> element contained within the <MCVideo-group-call> element of the MCVideo user profile (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UseCurrentlySelectedGroup\" and the <MCVideo-allow-emergency-alert> element of the <actions> element of a <rule> element of the <ruleset> element of the <list-service> element of the group document identified by the MCVideo group identity targeted for the emergency alert is set to a value of \"true\" as specified in 3GPP TS 24.481 [24].\nthen the MCVideo emergency alert request shall be considered to be an authorised request for an MCVideo emergency alert targeted to a MCVideo group. In all other cases, the MCVideo emergency alert request shall be considered to be an unauthorised request for an MCVideo emergency alert targeted to an MCVideo group.\nIf the controlling MCVideo function has received a SIP request targeted to an MCVideo user with the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"true\", the controlling MCVideo function shall check the following conditions:\n1)\tif the <allow-activate-emergency-alert> element of the <actions> element of the <rule> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\"; and\na)\tif the \"entry-info\" attribute of the <entry> element of the <PrivateEmergencyAlert> element contained within the <OnNetwork> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UsePreConfigured\" and the MCVideo ID of the MCVideo user targeted for the call is contained in the <uri-entry> element of the <entry> element of the <PrivateEmergencyAlert> element contained within the <OnNetwork> element (see the MCVideo user profile document in 3GPP TS 24.484 [25]); or\nb)\tif the \"entry-info\" attribute of the <entry> element of the <PrivateEmergencyAlert> element contained within the <OnNetwork> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"LocallyDetermined\";\nthen the MCVideo emergency alert request shall be considered to be an authorised request for an MCVideo emergency alert targeted to an MCVideo user. In all other cases, it shall be considered to be an unauthorised request for an MCVideo emergency alert targeted to an MCVideo user.\nIf the controlling MCVideo function has received a SIP request for an MCVideo group call with the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"true\" and:\n1)\tif the <allow-emergency-group-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\" and:\na)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element of the <EmergencyCall> element contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"DedicatedGroup\" and:\ni)\tif the <uri-entry> element of the <entry> element of the <MCVideoGroupInitiation> element of the <EmergencyCall> contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) contains the identity of the MCVideo group targeted by the calling MCVideo user; and\nii)\tif the <allow-MCVideo-emergency-call> element of the <list-service> element of the group document identified by the targeted MCVideo group identity is set to a value of \"true\" as specified in 3GPP TS 24.481 [24];\nthen the controlling MCVideo function shall consider the MCVideo emergency group call request to be an authorised request for an MCVideo emergency group call and skip the remaining steps; or;\nb)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element of the <EmergencyCall> element contained within the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UseCurrentlySelectedGroup\" and if the <allow-MCVideo-emergency-call> element of the <list-service> element of the group document identified by the targeted MCVideo group identity is set to a value of \"true\" as specified in 3GPP TS 24.481 [24];\nthen the controlling MCVideo function shall consider the MCVideo emergency group call request to be an authorised request for an MCVideo emergency group call and skip the remaining steps; or\n2)\tif the controlling MCVideo function does not consider the MCVideo emergency group call request to be an authorised request for an MCVideo emergency group call by step 1) above, then the controlling MCVideo function shall consider the MCVideo emergency group call request to be an unauthorised request for an MCVideo emergency group call.\nIf the controlling MCVideo function has received a SIP request for an MCVideo private call with the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"true\" and:\n1)\tif the <allow-emergency-private-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\"; and\na)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoPrivateRecipient> element of the <EmergencyCall> element contained within the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UsePreConfigured\" and if the MCVideo ID targeted for the call is contained in the <uri-entry> element of the <entry> element of the <MCVideoPrivateRecipient> element of the <EmergencyCall> element contained within the <PrivateCall> element (see the MCVideo user profile document in 3GPP TS 24.484 [25]); or\nb)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoPrivateRecipient> element of the <EmergencyCall> element contained within the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"LocallyDetermined\";\nthen the controlling MCVideo function shall consider the MCVideo emergency private call request to be an authorised request for an MCVideo emergency private call and skip step 2) below; or\n2)\tif the controlling MCVideo function does not consider the MCVideo emergency private call request to be an authorised request for an MCVideo emergency private call by step 1) above, then the controlling MCVideo function shall consider the MCVideo emergency private call request to be an unauthorised request for an MCVideo emergency private call.\nIf the controlling MCVideo function has received a SIP request with the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"false\" and:\n1)\tif the <allow-cancel-emergency-alert> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\", then the MCVideo emergency alert cancellation request shall be considered to be an authorised request for an MCVideo emergency alert cancellation; and\n2)\tif the <allow-cancel-emergency-alert> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"false\", then the MCVideo emergency alert cancellation request shall be considered to be an unauthorised request for an MCVideo emergency alert cancellation.\nIf the controlling MCVideo function has received a SIP request for an MCVideo group call with the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"false\" and:\n1)\tif the <allow-cancel-group-emergency> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\", then the MCVideo emergency call cancellation request shall be considered to be an authorised request for an MCVideo emergency group call cancellation; and\n2)\tIf the <allow-cancel-group-emergency> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"false\", then the MCVideo emergency group call cancellation request shall be considered to be an unauthorised request for an MCVideo emergency group call cancellation.\nIf the controlling MCVideo function has received a SIP request for an MCVideo private call with the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"false\" and:\n1)\tif the <allow-cancel-private-emergency-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\", then the MCVideo emergency private call cancellation request shall be considered to be an authorised request for an MCVideo emergency private call cancellation; and\n2)\tif the <allow-cancel-private-emergency-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"false\" or not present, then the MCVideo emergency private call cancellation request shall be considered to be an unauthorised request for an MCVideo emergency private call cancellation.\nIf the controlling MCVideo function has received a SIP request with the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"true\" and:\n1)\tif the <allow-imminent-peril-call> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value other than \"true\" the request for initiating an MCVideo imminent peril call shall be considered to be an unauthorised request for an MCVideo imminent peril call and skip the remaining steps;\n2)\tif the <allow-imminent-peril-call> element of the <list-service> element of the group document identified by the targeted MCVideo group identity is set to a value other than \"true\" as specified in 3GPP TS 24.481 [24], the request for initiating an MCVideo imminent peril call shall be considered to be an unauthorised request for an MCVideo imminent peril call and skip the remaining steps;\n3)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element contained within the <ImminentPerilCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"DedicatedGroup\" and if the MCVideo group identity targeted for the call is contained in the <uri-entry> element of the <entry> element of the <MCVideoGroupInitiation> element contained within the <ImminentPerilCall> element (see the MCVideo user profile document in 3GPP TS 24.484 [25]); or\n4)\tif the \"entry-info\" attribute of the <entry> element of the <MCVideoGroupInitiation> element contained within the <ImminentPerilCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"UseCurrentlySelectedGroup\".\nthen the MCVideo imminent peril call request shall be considered to be an authorised request for an MCVideo imminent peril call. In all other cases, it shall be considered to be an unauthorised request for an MCVideo imminent peril call.\nIf the controlling MCVideo function has received a SIP request with the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to a value of \"false\" and:\n1)\tif the <allow-cancel-imminent-peril> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\", then the MCVideo emergency call cancellation request shall be considered to be an authorised request for an MCVideo imminent peril call cancellation; and\n2)\tif the <allow-cancel-imminent-peril> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"false\" or not present, then the MCVideo emergency call cancellation request shall be considered to be an unauthorised request for an MCVideo imminent peril call cancellation.\nIf the controlling MCVideo function has received a SIP request with the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body is set to \"true\" and this is an unauthorised request for an MCVideo emergency call as determined by the procedures of clause 6.3.3.1.12.2, the controlling MCVideo function shall:\n1)\tinclude in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in Annex F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"false\" and the <alert-ind> element set to a value of \"false\".\nThis clause is referenced from other procedures.\nThe controlling MCVideo function shall generate a SIP re-INVITE request according to 3GPP TS 24.229 [11].\nThe controlling MCVideo function:\n1)\tshall include in the Contact header field an MCVideo session identity for the MCVideo session with the g.3gpp.mcvideo media feature tag and the isfocus media feature tag according to IETF RFC 3840 [22];\n2)\tshall include an SDP offer with the media parameters as currently established with the terminating MCVideo client according to 3GPP TS 24.229 [11];\n3)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-calling-user-id> element set to the MCVideo ID of the initiating MCVideo user;\n4)\tif the in-progress imminent peril state of the group is set to a value of \"true\" the controlling MCVideo function:\na)\tshall include a Resource-Priority header field populated with the values for an MCVideo imminent peril group call as specified in clause 6.3.3.1.18; and\nb)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <imminentperil-ind> element set to a value of \"true\"; and\n5)\tif the in-progress imminent peril state of the group is set to a value of \"false\":\na)\tshall include a Resource-Priority header field populated with the values for a normal MCVideo group call as specified in clause 6.3.3.1.18; and\nb)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <emergency-ind> element set to a value of \"false\" and the <imminentperil-ind> element set to a value of \"false\".\nUpon expiry of timer TNG2 (in-progress emergency group call timer) for an MCVideo group, the controlling MCVideo function:\n1)\tshall set the in-progress emergency state of the group to a value of \"false\";\n2)\tshall, if an MCVideo group call or MCVideo group session is in progress on the indicated group, for each of the participating members:\na)\tgenerate a SIP re-INVITE request as specified in clause 6.3.3.1.9; and\nb)\tsend the SIP re-INVITE request towards the MCVideo client according to 3GPP TS 24.229 [11]; and\n3)\tshall for each affiliated but non-participating members member of the group:\na)\tgenerate a SIP MESSAGE request according to clause 6.3.3.1.10 and include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <emergency-ind> element set to a value of \"false\";\nb)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function;\nc)\tinclude the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14]; and\nd)\tsend the SIP MESSAGE request towards the MCVideo client according to rules and procedures of 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to a re-SIP INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5].\nThis clause is referenced from other procedures. This procedure validates the combinations of <emergency-ind>, <imminentperil-ind> and <alert-ind> in the application/vnd.3gpp.mcvideo-info+xml MIME body included in:\n1)\ta SIP INVITE request or SIP re-INVITE request; or\n2)\tthe body \"URI\" header field of the SIP URI included in a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body which is pointed to by a \"cid\" URL located in the Refer-To header of a SIP REFER request;\nUpon receiving a SIP request as specified above with the <emergency-ind> element set to a value of \"true\", the controlling MCVideo function shall only consider the following as valid combinations:\n1)\t<imminentperil-ind> not included and <alert-ind> included.\nUpon receiving a SIP request as specified above with the <emergency-ind> element set to a value of \"false\", the controlling MCVideo function shall only consider the following as valid combinations:\n1)\t<imminentperil-ind> not included and <alert-ind> not included; or\n2)\t<imminentperil-ind> not included and <alert-ind> included.\nUpon receiving a SIP request as specified above with the <imminentperil-ind> element included the controlling MCVideo function shall only consider the request as valid if both the <emergency-ind> and <alert-ind> are not included.\nIf the combination of the <emergency-ind>, <imminentperil-ind> or <alert-ind> indicators is invalid, the controlling MCVideo function shall send a SIP 403 (Forbidden) response with the warning text set to \"150 invalid combinations of data received in MIME body\" in a Warning header field as specified in clause 4.4.\nThis clause is referenced from other procedures and describes how the controlling MCVideo function generates a SIP INFO request due to the receipt of a SIP request for a priority call.\nThe controlling MCVideo function:\n1)\tshall generate a SIP INFO request according to rules and procedures of 3GPP TS 24.229 [11] and IETF RFC 6086 [21];\n2)\tshall include the Info-Package header field set to g.3gpp.mcvideo-info in the SIP INFO request;\n3)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP INFO request and:\na)\tif the received SIP request contained application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.12.1, shall set the <emergency-ind> element to a value of \"true\" and the <alert-ind> element to a value of \"false\";\nb)\tif the received SIP request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"false\" and if this is an unauthorised request for an MCVideo emergency alert cancellation, shall set <alert-ind> element to a value of \"true\"; and\nc)\tif the received SIP request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\", this is an authorised request for an MCVideo imminent peril group call and the in-progress emergency state of the group is set to a value of \"true\", shall set the <imminentperil-ind> element to a value of \"false\" and the <emergency-ind> element set to a value of \"true\"; and\n4)\tshall send the SIP INFO request towards the inviting MCVideo client in the dialog created by the SIP request from the inviting MCVideo client, as specified in 3GPP TS 24.229 [11].\nThis clause is referenced from other procedures.\nWhen determining the Resource-Priority header field namespace and priority values as specified in IETF RFC 8101 [38] for an MCVideo emergency group call or MCVideo emergency private call the controlling MCVideo function:\n1)\tshall retrieve the value of the <resource-priority-namespace> element contained in the <emergency-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]); and\n2)\tshall retrieve the value of the <resource-priority-priority> element contained in the <emergency-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]).\nWhen determining the Resource-Priority header field namespace and priority values as specified in IETF RFC 8101 [38] for an MCVideo imminent peril group call the controlling MCVideo function:\n1)\tshall retrieve the value of the <resource-priority-namespace> element contained in the <imminent-peril-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]); and\n2)\tshall retrieve the value of the <resource-priority-priority> element contained in the <imminent-peril-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25])\nWhen determining the Resource-Priority header field namespace and priority values as specified in IETF RFC 8101 [38] for a normal MCVideo group or private call the controlling MCVideo function:\n1)\tshall retrieve the value of the <resource-priority-namespace> element contained in the <normal-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]); and\n2)\tshall retrieve the value of the <resource-priority-priority> element contained in the <normal-resource-priority> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]).\nNOTE:\tThe \"normal\" Resource-Priority header field value is needed to return to a normal priority value from a priority value adjusted for an MCVideo emergency group or private call or an MCVideo imminent peril group call. The \"normal\" priority received from the EPS by use of the \"normal\" Resource-Priority header field value is expected to be the same as the \"normal\" priority received from the EPS when initiating a call with no Resource-Priority header field included.\nThis clause is referenced from other procedures.\nThis clause describes the procedures for generating a SIP MESSAGE request to notify the originator of an emergency alert or emergency cancellation that the request was successfully received.\nThe controlling MCVideo function:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n2)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n4)\tshall set the Request-URI to the public service identity of the terminating participating function associated with the MCVideo ID of the targeted MCVideo user;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the targeted MCVideo user or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function; and\n6)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <mcvideo-request-uri> element set to the value of the MCVideo ID of the targeted MCVideo user.\nThis clause describes the procedures for generating a SIP MESSAGE request to notify an MCVideo client that it has entered a pre-defined emergency alert area or exited from a pre-defined emergency alert area. The procedure is initiated by the participating MCVideo function when the participating MCVideo function determines that the MCVideo client has entered a pre-defined emergency alert area or exited from a pre-defined emergency alert area.\nNOTE:\tThe participating MCVideo function can use additional implementation-specific selection criteria to decide the recipients of the notification, i.e., whether and when an entry/exit notification is sent. The additional criteria can be the activated functional alias, ongoing emergency or conditions related to position such as speed, heading etc. The determination of the specific region is left to implementation.\nThe participating MCVideo function:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n2)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n4)\tshall set the Request-URI to the public user identity associated to the MCVideo ID of the targeted MCVideo user;\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function;\n6)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14];\n7)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <mcvideo-request-uri> element set to the value of the MCVideo ID of the targeted MCVideo user;\n8)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <emergency-alert-area-ind> element:\na)\tset to a value of \"true\", if the MCVideo client has entered a pre-defined emergency alert area; or\nb)\tset to a value of \"false\", if the MCVideo client has exited from a pre-defined emergency alert area; and\n9)\tshall send the SIP MESSAGE request towards the MCVideo client according to the rules and procedures of 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the SIP MESSAGE request, if the <emergency-alert-area-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP MESSAGE request was:\n1)\tset to a value of \"true\", shall record that the MCVideo client has received the notification that it has entered the pre-defined emergency alert area; and\n2)\tset to a value of \"false\", shall record that the MCVideo client has received the notification that it has exited the pre-defined emergency alert area.\nThis clause describes the procedures for generating a SIP MESSAGE request to notify an MCVideo client that it has entered a pre-defined group geographic area or exited from a pre-defined group geographic area requiring affiliation to or de-affiliation from a group. The procedure is initiated by the participating MCVideo function when the participating MCVideo function determines that the MCVideo client has entered a pre-defined group geographic area or exited from a pre-defined group geographic area.\nNOTE:\tThe participating MCVideo function can use additional implementation-specific selection criteria to decide the recipients of the notification, i.e., whether and when an entry/exit notification is sent. The additional criteria can be the activated functional alias, ongoing emergency or conditions related to position such as speed, heading etc. The determination of the specific region is left to implementation.\nThe participating MCVideo function:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n2)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n4)\tshall set the Request-URI to the public user identity associated to the MCVideo ID of the targeted MCVideo user;\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function;\n6)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14];\n7)\tvoid;\n8)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tan <mcvideo-request-uri> element set to the value of the MCVideo ID of the targeted MCVideo user;\nb)\tan <associated-group-id> element set to the MCVideo group ID of the group for which a pre-defined group geographic area has been entered or exited; and\nc)\ta <group-geo-area-ind> element:\ni)\tset to a value of \"true\", if the MCVideo client has entered a pre-defined group geographic area; or\nii)\tset to a value of \"false\", if the MCVideo client has exited from a pre-defined group geographic area; and\n9)\tshall send the SIP MESSAGE request towards the MCVideo client according to the rules and procedures of 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the SIP MESSAGE request, if the <group-geo-area-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP MESSAGE request was:\n1)\tset to a value of \"true\", shall record that the MCVideo client has received the notification that it has entered the pre-defined group geographic area; and\n2)\tset to a value of \"false\", shall record that the MCVideo client has received the notification that it has exited the pre-defined group geographic area.\nWhen composing the SDP answer according to 3GPP TS 24.229 [11], the controlling MCVideo function:\n1)\tfor the accepted media streams in the received SDP offer:\na)\tshall replace the IP address and port number in the received SDP offer with the IP address and port number of the controlling MCVideo function; and\n2)\tfor the accepted media-transmission control entity, if present in the received SDP offer:\na)\tshall replace the IP address and port number in the received SDP offer with the IP address and port number of the controlling MCVideo function;\nb)\tshall include an mc_transmission_ssrc 'fmtp' attribute as specified in 3GPP TS 24.581 [5] clause 14 for the selected media plane control channel with the RTCP SSRC that the controlling MCVideo function has selected as specified in 3GPP TS 24.581 [5] clause 4.3 and shall be used by the offerer in the transmission control messages sent to the controlling MCVideo function for this session; and\nNOTE:\tThe controlling MCVideo function has received in the SDP offer the RTP SSRC it will have to use in the transmission control message it will send to the offerer in this session.\nc)\tshall include any other necessary 'fmtp' attributes as specified in 3GPP TS 24.581 clause 14.\nOn receipt of an initial SIP INVITE request the controlling MCVideo function shall cache SIP feature tags, if received in the Contact header field and if the specific feature tags are supported.\nWhen sending SIP provisional responses with the exception of the SIP 100 (Trying) response to the SIP INVITE request the controlling MCVideo function:\n1)\tshall generate the SIP provisional response;\n2)\tshall include a P-Asserted-Identity header field in the outgoing SIP provisional response set to the public service identity of the controlling MCVideo function;\n3)\tshall include an MCVideo session identity in the Contact header field; and\n4)\tshall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag;\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\nc)\tthe isfocus media feature tag.\nWhen sending a SIP 200 (OK) response to the initial SIP INVITE request, the controlling MCVideo function:\n1)\tshall generate the SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n2)\tshall include the Session-Expires header field and start supervising the SIP session according to rules and procedures of IETF RFC 4028 [23], \"UAS Behavior\". The \"refresher\" parameter in the Session-Expires header field shall be set to \"uac\";\n3)\tshall include the option tag \"timer\" in a Require header field;\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the controlling MCVideo function;\n5)\tshall include a SIP URI for the MCVideo session identity in the Contact header field identifying the MCVideo session at the controlling MCVideo function;\n6) shall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag;\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\nc)\tthe isfocus media feature tag;\n7)\tshall include Warning header field(s) received in incoming responses to the SIP INVITE request;\n8)\tshall include the option tag \"tdialog\" in a Supported header field according to rules and procedures of IETF RFC 4538 [32];\n9)\tshall include the \"norefersub\" option tag in a Supported header field according to IETF RFC 4488 [31];\n10) shall include the \"explicitsub\" and \"nosub\" option tags in a Supported header field according to IETF RFC 7614 [81];\n11)\tif:\na)\tan MCVideo GKTP document exists for the group identity contained in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the initial SIP INVITE request; and\nb)\tthe MCVideo GKTP document contains an <MKFC-GKTPs> element;\nthen:\na)\tfor each instance of <GKTP> element of the <MKFC-GKTPs> element of the MCVideo GKTP document:\ni)\tshall perform the procedure in clause 6.3.3.6.2 to re-generate an I_MESSAGE; and\nii)\tif the procedure in clause 6.3.3.6.2 was successful, shall include the I_MESSAGE in a <GKTP> element of the <MKFC-GKTPs> element of an application/vnd.3gpp.mcvideo-info+xml MIME body included in a SIP 200 (OK) response; and\n12)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nUpon receiving a SIP BYE request the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in clause 6.3 in 3GPP TS 24.581 [5] for releasing the media plane resource associated with the SIP session towards the MCVideo client;\nNOTE:\tThe non-controlling MCVideo function is also regarded as a MCVideo client in a temporary MCVideo group session.\n2)\tshall generate a SIP 200 (OK) response and send the SIP response towards the MCVideo client according to 3GPP TS 24.229 [11];\n3)\tshall check the MCVideo session release policy as specified in clause 6.3.8.1 and clause 6.3.8.2 whether the MCVideo session needs to be released for each participant of the MCVideo session;\n4)\tif release of the MCVideo session is required:\na)\tshall perform the procedures as specified in the clause 6.3.3.1.4 with the clarification that if the received SIP BYE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body, copy the application/vnd.3gpp.mcvideo-info+xml MIME body into the outgoing SIP BYE request; and\n5)\tif a release of the MCVideo session is not required, shall send a SIP NOTIFY request to all remaining MCVideo clients in the MCVideo session with a subscription to the conference event package as specified in clause 9.2.3.4.2.\nUpon receiving a SIP 200 (OK) response to the SIP BYE request the controlling MCVideo function shall interact with the media plane as specified in clause 6.3 in 3GPP TS 24.581 [5] for releasing media plane resources associated with the SIP session with the MCVideo participant.\nWhen the controlling MCVideo function receives a SIP INVITE request to initiate a group session and there are members of the group document retrieved from the group management server that are affiliated and are marked as <on-network-required> as specified in 3GPP TS 24.481 [24], then the controlling MCVideo function shall start timer TNG1 (acknowledged call setup timer) with a timer value as described in Annex B.2.1, prior to sending out SIP INVITE requests inviting group members to the group session.\nWhen the controlling MCVideo function receives all SIP 200 (OK) responses to the SIP INVITE requests, from all affiliated and <on-network-required> members then the controlling MCVideo function shall stop timer TNG1 (acknowledged call setup timer) and if the local counter of the number of SIP 200 (OK) responses received from invited members is greater than or equal to the value of the <on-network-minimum-number-to-start> element of the group document, the controlling MCVideo function shall send a SIP 200 (OK) response to the initiating MCVideo client.\nNOTE 1:\tMCVideo clients that are affiliated but are not <on-network-required> members that have not yet responded will be considered as joining an ongoing session when the controlling MCVideo function receives SIP 200 (OK) responses from these MCVideo clients.\nAfter expiry of timer TNG1 (acknowledged call setup timer) and the local counter of the number of SIP 200 (OK) responses received from invited members is less than the value of the <on-network-minimum-number-to-start> element of the group document, then the controlling MCVideo function shall wait until further responses have been received from invited clients and the value of the local counter of the number of SIP 200 (OK) responses received from invited members is equal to the <on-network-minimum-number-to-start>, before continuing with the timer TNG1 expiry procedures in this clause.\nAfter expiry of timer TNG1 (acknowledged call setup timer) and the local counter of the number of SIP 200 (OK) responses received from invited members is greater or equal to the value of the <on-network-minimum-number-to-start> element of the group document, the controlling MCVideo function shall execute the steps described below:\n1)\tif the <on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members> element configured in the group document for the action on expiry of the timer is set to \"proceed\" indicating that the controlling MCVideo function should proceed with the setup of the group call, then the controlling MCVideo function:\na)\tshall perform the following actions:\ni)\tgenerate a SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.3.2.2 before continuing with the rest of the steps;\nii)\tinclude in the SIP 200 (OK) response the warning text set to \"111 group call proceeded without all required group members\" in a Warning header field as specified in clause 4.4;\niii)\tinclude in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\niv)\tinteract with the media plane as specified in 3GPP TS 24.581 [5]; and\nNOTE 2:\tResulting media plane processing is completed before the next step is performed.\nv)\tsend a SIP 200 (OK) response to the inviting MCVideo client according to 3GPP TS 24.229 [11];\nb)\twhen a SIP 200 (OK) response to a SIP INVITE request is received from an invited MCVideo client the controlling MCVideo function may send an in-dialog SIP MESSAGE request to the MCVideo client that originated the group session with the text \"group call proceeded without all required group members\";\nc)\twhen the controlling MCVideo function receives a SIP BYE request from an invited MCVideo client, shall take the actions specified in clause 6.3.3.2.4 and may send an in-dialog SIP MESSAGE request to the MCVideo client that originated the group session with the text \"group call proceeded without all required group members\"; and\nd)\tshall generate a notification package as specified in clause 6.3.3.4 and send a SIP NOTIFY request according to 3GPP TS 24.229 [11] to the MCVideo clients which have subscribed to the conference state event; and\n2)\tif the <on-network-action-upon-expiration-of-timeout-for-acknowledgement-of-required-members> element configured in the group document for the action on expiry of the timer is set to \"abandon\" indicating that the controlling MCVideo function should abandon the setup of the group call, then the controlling MCVideo function shall:\na)\tsend a SIP 480 (Temporarily Unavailable) response to the MCVideo client that originated the group session with the warning text set to \"112 group call abandoned due to required group members not part of the group session\" in a Warning header field as specified in clause 4.4;\nb)\tfor each confirmed dialog at the controlling MCVideo function, send a SIP BYE request towards the MCVideo clients invited to the group session in accordance with 3GPP TS 24.229 [11] and interact with the media plane as specified in 3GPP TS 24.581 [5]; and\nc)\tfor each non-confirmed dialog at the controlling MCVideo function, send a SIP CANCEL request towards the MCVideo clients invited to the group session in accordance with 3GPP TS 24.229 [11].\nIf the controlling MCVideo function receives a final SIP 4xx, 5xx or 6xx response from an affiliated and <on-network-required> group member prior to expiry of timer TNG1 (acknowledged call setup timer) and based on policy, the controlling MCVideo function decides not to continue with the establishment of the group call without the affiliated and <on-network-required> group member, then the controlling MCVideo function:\nNOTE 3:\tIt is expected that this action is taken if the policy is to abandon the call on expiry of timer TNG1 (acknowledged call setup timer).\n1)\tshall stop timer TNG1 (acknowledged call setup timer); and\n2)\tshall forward the final SIP 4xx, 5xx or 6xx response towards the inviting MCVideo client with the warning text set to \"112 group call abandoned due to required group member not part of the group session\" in a Warning header field as specified in clause 4.4.\nIf:\n1)\tthe controlling MCVideo function receives a final SIP 4xx, 5xx or 6xx response from an affiliated and <on-network-required> group member prior to expiry of timer TNG1 (acknowledged call setup timer);\n2)\tthe local counter of the number of SIP 200 (OK) responses received from invited members is greater than or equal to the value of the <on-network-minimum-number-to-start> element of the group document; and\n3)\tbased on policy, the controlling MCVideo function decides to continue with the establishment of the group call without the affiliated and <on-network-required> group member;\nthen the controlling MCVideo function:\nNOTE 4:\tIt is expected that this action is taken if the policy is to proceed with the call on expiry of timer TNG1 (acknowledged call setup timer).\n1)\tif all other invited clients have not yet responded, shall continue running timer TNG1 (acknowledged call setup timer); and\n2)\tif all other invited clients have responded with SIP 200 (OK) responses, shall\na)\tstop timer TNG1 (acknowledged call setup timer);\nb)\tgenerate SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.3.2.2 before continuing with the rest of the steps;\nc)\tinclude in the SIP 200 (OK) response the warning text set to \"111 group call proceeded without all required group members\" in a Warning header field as specified in clause 4.4;\nd)\tinclude in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\ne)\tinteract with the media plane as specified in 3GPP TS 24.581 [5]; and\nNOTE 5:\tResulting media plane processing is completed before the next step is performed.\nf)\tsend a SIP 200 (OK) response to the inviting MCVideo client according to 3GPP TS 24.229 [11].\nThe controlling MCVideo function shall generate a SIP NOTIFY request according to 3GPP TS 24.229 [11] with the clarification in this clause.\nIn the SIP NOTIFY request, the controlling MCVideo function:\n1)\tshall include a P-Asserted-Identity header field in the outgoing SIP NOTIFY request set to the public service identity of the controlling MCVideo function;\n2)\tshall include an Event header field set to the \"conference\" event package;\n3)\tshall include an Expires header field set to 3600 seconds according to IETF RFC 4575 [57], as default value;\n4)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14]; and\n5)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-calling-group-id> set to the value of the MCVideo group ID;\nb)\tif the target is a MCVideo user, the value of <mcvideo-request-uri> element set to the value of MCVideo ID of the targeted MCVideo user; and\nc)\tif the target is the non-controlling MCVideo function, the value of <mcvideo-request-uri> element set to the constituent MCVideo group ID.\nIn the SIP NOTIFY request, the controlling MCVideo function shall include an application/conference-info+xml MIME body according to IETF RFC 4575 [57] with the following limitations:\n1)\tthe controlling MCVideo function shall include the MCVideo group ID of the MCVideo group in the \"entity\" attribute of the <conference-info> element;\n2)\tfor each participant in the MCVideo session with the exception of non-controlling MCVideo functions, the controlling MCVideo function shall include a <user> element. The <user> element shall:\nNOTE:\tNon-controlling MCVideo functions will appear as a participant in temporary group sessions.\na)\tinclude the \"entity\" attribute. The \"entity\" attribute:\ni)\tshall for the MCVideo client, which initiated, joined or re-joined an MCVideo session, include the MCVideo ID of the MCVideo user which originates SIP INVITE request; and\nii)\tshall for an invited MCVideo client include the MCVideo ID of the invited MCVideo user in case of a prearranged group call or chat group call;\nb)\tshall include a single <endpoint> element. The <endpoint> element:\ni)\tshall include the \"entity\" attribute;\nii)\tshall include the <status> element indicating the status of the MCVideo session according to IETF RFC 4575 [57]; and\niii)\tmay include one <functional-alias> element indicating the functional alias bound by the MCVideo user with the MCVideo group for which the notification is being sent as defined in the XML schema of clause 9.2.3.6.1; and\nNOTE 1:\tThe functional alias binding by the MCVideo user with the MCVideo group is done through either using an explicit procedure or as a part of call setup procedure.\nc)\tmay include <roles> element.\nNOTE:\tThe usage of <roles> is only applicable for human consumption.\nWhen the controlling MCVideo function receives a SIP INVITE request to initiate a group session, then after an MCVideo session identity has been allocated for the group session and if the <on-network-maximum-duration> element is present in the group document as specified in 3GPP TS 24.481 [24], the controlling MCVideo function: shall start timer TNG3 (group call timer) with the value obtained from the <on-network-maximum-duration> element of the group document as specified in 3GPP TS 24.481 [24].\nIf the <on-network-maximum-duration> element is not present in the group document as specified in 3GPP TS 24.481 [24], then the controlling MCVideo function shall not start timer TNG3 (group call timer).\nNOTE 1:\tThe configuration of <on-network-maximum-duration> element in 3GPP TS 24.481 [24] is mandated for a pre-arranged group and is optional for a chat group.\nWhen merging two or more active group calls into a temporary group call, the controlling MCVideo function(s) hosting the active group calls shall stop timer TNG3 (group call timer) for each group call, and the controlling MCVideo function hosting the temporary group call shall start timer TNG3 (group call timer) for the temporary group call.\nNOTE 2:\tIf the MCVideo server(s) hosting the independent active group calls are different to the MCVideo server that will host the temporary group call, then the MCVideo server(s) hosting the independent active group calls become non-controlling MCVideo function(s) of an MCVideo group, for the temporary group call.\nWhen splitting a temporary group call into independent group calls, the controlling MCVideo function hosting the temporary group call shall stop timer TNG3 (group call timer) and the controlling MCVideo function(s) hosting the independent group calls shall start TNG3 (group call timer) for each group call.\nWhen the last MCVideo client leaves the MCVideo session, the controlling MCVideo function shall stop timer TNG3 (group call timer).\nOn expiry of timer (group call timer), the controlling MCVideo function shall release the MCVideo session by following the procedures in clause 6.3.3.1.4;\nIf the controlling MCVideo function starts timer TNG2 (in-progress emergency group call timer), it shall not start timer TNG3 (group call timer).\nIf timer TNG3 (group call timer) is running and the MCVideo group call is upgraded to an MCVideo emergency group call, then the controlling MCVideo function shall stop timer TNG3 (group call timer) and shall start timer TNG2 (in-progress emergency group call timer) with the value obtained from the <group-time-limit> element of the <emergency-call> element of the <on-network> element of the service configuration document as specified in 3GPP TS 24.484 [25].If timer TNG2 (in-progress emergency group call timer) is running and the MCVideo emergency group call is cancelled, then the controlling MCVideo function shall stop timer TNG2 (in-progress emergency group call timer) and shall start timer TNG3 (group call timer) with the value obtained from the <on-network-maximum-duration> element of the group document as specified in 3GPP TS 24.481 [24].\nIf timer TNG2 (in-progress emergency group call timer) is running and subsequently expires, then the controlling MCVideo function shall start timer TNG3 (group call timer) with the value obtained from the <on-network-maximum-duration> element of the group document as specified in 3GPP TS 24.481 [24].\nNOTE:\tThe above conditions for starting timer TNG2 (in-progress emergency group call timer) and timer TNG3 (group call timer) also apply in the case that these timers are re-started. For example: the case where the timer TNG3 was initially running, the MCVideo group call is upgraded to an MCVideo emergency group call and then the MCVideo emergency group call is cancelled.\nThis procedures in this clause are executed by the controlling MCVideo function as a result of receiving SIP INVITE requests targeted to a group identity, where the controlling MCVideo function has subscribed to the MCVideo group key transport payloads (GKTP) document as specified in 3GPP TS 24.481 [24] for the group identity and the controlling MCVideo function has been notified of the GKTP document for the group identity containing a <MKFC-GKTPs> element.\nThe <MKFC-GKTPs> element contains one or more <GKTP> elements where each <GKTP> element represents an I_MESSAGE(s) containing an MKFC and MKFC-ID, as specified in 3GPP TS 24.481 [24].\nThe controlling MCVideo function:\n1)\tshall extract the GMS URI from the initiator field (IDRi) of the I_MESSAGE and use it together with the timer related parameter to check the signature of the I_MESSAGE as described in 3GPP TS 33.180 [8];\n2)\tif the signature is not valid, shall exit this procedure. Otherwise shall validate that the contents of the recipient field (IDRr) of the I_MESSAGE to ensure it matches to the URI of the controlling MCVideo function;\n3)\tif the contents of the IDRr do not match to the controlling MCVideo function URI, shall exit this procedure. Otherwise, shall use the contents of the IDRr to decrypt the I_MESSAGE and extract the MKFC and MKFC-ID;\n4)\tshall re-generate the I_MESSAGE containing a common header payload, a timestamp payload, an IDRi payload, an IDRr payload, an IDRkmsi payload, an IDRkmsr payload, a SAKKE payload, a SIGN payload, a security policy payload and a general extension payload containing the MKFC and MKFC-ID, as specified in the group key transport payload structure in clause 7.4.2 in 3GPP TS 24.481 [24], but with the following clarifications:\nNOTE:\tThe MKFC is treated as a GMK for transport, using the security procedures defined in clause 7.3.1 of 3GPP TS 33.180 [8] and the encapsulation procedures of Annex E.2 of 3GPP TS 33.180 [8].\na)\tthe IDRi payload (or ID payload with ID role field set to the 'IDRuidi') contains the URI of the controlling MCVideo function;\nb)\tif the I_MESSAGE is to be sent to the participating MCVideo function, the IDRr payload (or ID payload with ID role fields set to 'IDRuidr') contains the URI of the participating MCVideo function;\nc)\tif the I_MESSAGE is to be sent to the non-controlling MCVideo function, the IDRr payload (or ID payload with ID role fields set to 'IDRuidr') contains the URI of the non-controlling MCVideo function;\nd)\tthe ID data field of the IDRkmsi payload is set to the URI of the MCVideo KMS used by the controlling MCVideo function;\ne)\tif the I_MESSAGE is to be sent to the participating MCVideo function, then the ID data field of the IDRkmsr is set to URI of the MCVideo KMS used by the participating MCVideo function; and\nf)\tif the I_MESSAGE is to be sent to the non-controlling MCVideo function, then the ID data field of the IDRkmsr is set to URI of the MCVideo KMS used by the participating MCVideo function;\n5)\tshall sign the I_MESSAGE using the controlling MCVideo function URI;\n6)\tif the I_MESSAGE is to be sent to the participating MCVideo function, shall encrypt the I_MESSAGE using the participating MCVideo function URI; and\n7)\tif the I_MESSAGE is to be sent to the non-controlling MCVideo function, shall encrypt the I_MESSAGE using the non-controlling MCVideo function URI.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.4\tNon-controlling MCVideo function of an MCVideo group",
                            "text_content": "The SDP offer is generated based on the received SDP offer. The SDP offer generated by the non-controlling MCVideo function of an MCVideo group:\n1)\tshall include only one SDP media-level section for the MCVideo video media stream according to 3GPP TS 24.229 [11], as contained in the received SDP offer;\n2)\tshall include only one SDP media-level section for the MCVideo audio media stream according to 3GPP TS 24.229 [11], as contained in the received SDP offer; and\n3)\tshall contain one SDP media-level section for a media transmission control entity according to 3GPP TS 24.229 [11], if present in the received SDP offer.\nWhen composing the SDP offer according to 3GPP TS 24.229 [11], the non-controlling MCVideo function of an MCVideo group:\n1)\tshall replace the IP address and port number for the offered audio media stream in the \"m=audio\" media-level section with an IP address and port number of the non-controlling MCVideo function;\n2)\tfor the MCVideo audio media stream, shall include all media-level attributes from the received SDP offer;\n3)\tshall replace the IP address and port number for the offered video media stream in the \"m=video\" media-level section with an IP address and port number of the non-controlling MCVideo function;\n4)\tfor the MCVideo video media stream, shall include all media-level attributes from the received SDP offer;\n5)\tshall replace the IP address and port number for the offered media transmission control entity, if any, in the received SDP offer with an IP address and port number of the non-controlling MCVideo function;\n6)\tshall replace the mc_transmission_ssrc 'fmtp' attribute for the offered media plane control channel, if any, in the received SDP offer with the RTCP SSRC that the non-controlling MCVideo function has selected as specified in 3GPP TS 24.581 [5] clause 4.3 and shall be used by the answerer in the transmission control messages sent to the non-controlling MCVideo function for this session; and\nNOTE:\tThe non-controlling MCVideo function will receive in the SDP answer the RTP SSRC it will have to use in the transmission control message it will send to the answerer in this session.\n7)\tshall include any other necessary 'fmtp' attribute as specified in 3GPP TS 24.581 [5].\nThis clause is referenced from other procedures.\nThe non-controlling MCVideo function of an MCVideo group shall generate initial SIP INVITE requests according to 3GPP TS 24.229 [11].\nFor each SIP INVITE request, the non-controlling MCVideo function of an MCVideo group:\n1)\tshall generate a new MCVideo session identity for the MCVideo session with the invited MCVideo client and include it in the Contact header field together with the g.3gpp.mcvideo media feature tag, the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\", and the isfocus media feature tag according to IETF RFC 3840 [22];\n2)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14] in the SIP INVITE request;\n4)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n5)\tshall set the Request-URI to the public service identity of the terminating participating MCVideo function associated to the MCVideo ID of the MCVideo user to be invited;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the non-controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the MCVideo ID of the MCVideo user to be invited or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n6)\tshall copy the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP INVITE request to the outgoing SIP INVITE request;\n6a)\tshall update the application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-calling-group-id> element set to the TGI or to the identity of the group regroup based on a preconfigured group;\n6b)\tshall update the application/vnd.3gpp.mcvideo-info+xml MIME body with an <associated-group-id> element set to the identity of the constituent group;\n7)\tshall update the application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-request-uri> element set to the MCVideo ID of the invited MCVideo user;\n8)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the non-controlling MCVideo function;\n9)\tvoid;\n10)\tshould include the Session-Expires header field according to rules and procedures of IETF RFC 4028 [23]. The refresher parameter shall be omitted;\n11)\tshall include the Supported header field set to \"timer\";\n12)\tshall include an unmodified Answer-Mode header field, if present in the incoming SIP INVITE request; and\n13)void.\nThis clause is referenced from other procedures.\nThe non-controlling MCVideo function shall generate a SIP INFO request according to rules and procedures of 3GPP TS 24.229 [11] and IETF RFC 6086 [21].\nThe non-controlling MCVideo function:\n1)\tshall include the Info-Package header field set to \"g.3gpp.mcvideo-transmission-request\";\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-request-uri> set to the temporary MCVideo group ID and the <mcvideo-calling-group-id> element with the constituent MCVideo group ID;\n3)\tshall include an application/vnd.3gpp.mcvideo-transmission-request+xml MIME body with the Content-Disposition header field set to \"Info-Package\". For each currently transmitting MCVideo client the application/vnd.3gpp.mcvideo-transmission-request+xml MIME body shall be populated as follows:\na)\tthe SSRC of the MCVideo client with the permission to send media in the <ssrc> element;\nb)\tthe actual transmission priority in the <transmission-priority> element;\nc)\tthe MCVideo ID of the MCVideo user with the permission to send media in the <user-id> element;\nd)\tthe queueing capability in the <queueing-capability> element of the <track-info> element;\ne)\tthe participant type in the <participant-type> in the <track-info> element;\nf)\tone or more <transmission-participant-reference> elements in the <track-info> element in the same order as the would appear in the Track Info field as specified in 3GPP TS 24.581 [5] clause 9.2.3.13; and\ng)\tif available, additional information in the <transmission-indicator> element.\nThis clause is referenced from other procedures.\nThe non-controlling MCVideo function shall generate a SIP INVITE request according to rules and procedures of 3GPP TS 24.229 [11].\nThe non-controlling MCVideo function:\n1)\tshall include in the Contact header field the g.3gpp.mcvideo media feature tag, the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\", and the isfocus media feature tag according to IETF RFC 3840 [22];\n2)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.MCVideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14] in the SIP INVITE request;\n3)\tshall set the Request-URI to the public service identity of the controlling MCVideo function based on the <mcvideo-request-uri> element received in the \"SIP INVITE request from participating MCVideo function for non-controlling MCVideo function of an MCVideo group\";\nNOTE 1:\tThe public service identity can identify the controling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the non-controlling MCVideo function determines the public service identity of the controlling MCVideo function based on the <mcvideo-request-uri> element received in the \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n4)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with:\na)\tthe <session-type> element set to \"prearranged\" or \"chat\" depending on the type of the group identified by the TGI or of the group regroup based on a preconfigured group;\nb)\tthe <mcvideo-request-uri> element set to the TGI or to the identity of the group regroup based on a preconfigured group received in the <mcvideo-request-uri> element of the received SIP INVITE;\nc)\tthe <mcvideo-calling-group-id> element set to the identity of the constituent group received in the <associated-group-id> element of the received SIP INVITE;\nd)\tthe <mcvideo-calling-user-id> element set to the identity of the calling user received in the <mcvideo-calling-user-id> element of the received SIP INVITE; and\ne\tthe <required> element set to \"true\", if the group document retrieved from the group management server contains <on-network-required> group members as specified in 3GPP TS 24.481 [24];\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the non-controlling MCVideo function;\n6)\tshould include the Session-Expires header field according to rules and procedures of IETF RFC 4028 [23]. The refresher parameter shall be omitted; and\n7)\tshall include the Supported header field set to \"timer\".\nWhen composing the SDP answer according to 3GPP TS 24.229 [11], the non-controlling MCVideo function of an MCVideo group:\n1)\tfor the accepted audio media stream in the received SDP offer:\na)\tshall set the IP address and port number to the IP address and port number of the non-controlling MCVideo function;\n2)\tfor the accepted video media stream in the received SDP offer:\na)\tshall set the IP address and port number to the IP address and port number of the non-controlling MCVideo function; and\n3)\tfor the accepted media transmission control entity, if present in the received SDP offer:\na)\tshall set the IP address and port number to the IP address and port number of the non-controlling MCVideo function; and\nb)\tshall replace the mc_transmission_ssrc 'fmtp' attribute in the received SDP offer with the RTCP SSRC that the non-controlling MCVideo function has selected as specified in 3GPP TS 24.581 [5] clause 4.3 and shall be used by the offerer in the transmission control messages sent to the non-controlling MCVideo function for this session; and\nNOTE:\tThe non-controlling MCVideo function has received in the SDP offer the RTP SSRC it will have to use in the transmission control message it will send to the offerer in this session.\nc)\tshall include any other necessary 'fmtp' attribute as specified in 3GPP TS 24.581 [5].\nWhen sending a SIP 183 (Session Progress) the non-controlling MCVideo function of an MCVideo group:\n1)\tshall generate a SIP 183 (Session Progress) response according to 3GPP TS 24.229 [11];\n2)\tshall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag; and\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP 183 (Session Progress) response set to the public service identity of the non-controlling MCVideo function; and\n4)\tshall include the option tag \"tdialog\" in a Supported header field according to rules and procedures of IETF RFC 4538 [32];\nWhen sending a SIP 200 (OK) response, the non-controlling MCVideo function of an MCVideo group:\n1)\tshall generate the SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n2)\tshall include the Session-Expires header field and start supervising the SIP session according to rules and procedures of IETF RFC 4028 [23], \"UAS Behavior\". The \"refresher\" parameter in the Session-Expires header field shall be set to \"uac\";\n3)\tshall include the option tag \"timer\" in a Require header field;\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the non-controlling MCVideo function;\n5)\tshall include a SIP URI for the MCVideo session identity in the Contact header field identifying the MCVideo session at the non-controlling MCVideo function;\n6) shall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag; and\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n7)\tif allowed by local policy and if Warning header field(s) were received in incoming responses to SIP INVITE requests that were sent as a result of following the procedures of clause 6.3.4.1.2, shall include those Warning header field(s);\n8)\tshall include the option tag \"tdialog\" in a Supported header field according to rules and procedures of IETF RFC 4538 [32];\n9)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-called-party-id> element set to the constituent MCVideo group ID and the <transmission-state> element set to the state of the transmission; and\n10)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nThe non-controlling MCVideo function shall generate a SIP NOTIFY request according to 3GPP TS 24.229 [11] with the clarification in this clause.\nIn the SIP NOTIFY request, the non-controlling MCVideo function:\n1)\tshall include a P-Asserted-Identity header field in the outgoing SIP NOTIFY request set to the public service identity of the non-controlling MCVideo function;\n2)\tshall include an Event header field set to \"conference\";\n3)\tshall include an Expires header field set to 3600 seconds according to IETF RFC 4575 [57], as default value;\n4)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14]; and\n5)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-calling-group-id> set to the value of the constituent MCVideo group ID;\nb)\tif the target is an MCVideo user, the value of <mcvideo-request-uri> element set to the MCVideo ID of the targeted MCVideo user; and\nc)\tif the target is the controlling MCVideo function the value of <mcvideo-request-uri> element set to the temporary MCVideo group ID.\nIn the SIP NOTIFY request, the non-controlling MCVideo function shall include application/conference-info+xml MIME body according to IETF RFC 4575 [57] as specified in clause 6.3.3.4 with the following exceptions:\n1)\tthe non-controlling MCVideo function shall not regard the controlling MCVideo function as a participant and not include the controlling MCVideo function in a <user> element; and\nNOTE:\tThe controlling MCVideo function initiated the temporary group call and will appear as a participant in the group session.\n2)\tthe non-controlling MCVideo function shall include stored conference status information received in SIP NOTIFY requests from the controlling MCVideo function in clause 9.2.3.5.3 and status information about own participants.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.5\tRetrieving and processing a group document",
                            "text_content": "This clause describes how an MCVideo server accesses a group document from a group management server.\nNOTE 1:\tThe group document for a user or group regroup based on a preconfigured group is the group document for the preconfigured group restricted to the users or groups included in the regroup stored by the MCVideo server at the time of the regroup creation and does not include a <preconfigured-group-use-only> element.\nThe MCVideo server which accesses a group document performs the role of a controlling MCVideo function or performs the role of a non-controlling MCVideo function of an MCVideo group when accessing a group document. In such cases, for a group call:\n-\tthe controlling MCVideo function and group management server are both located in the primary MCVideo system;\n-\tthe controlling MCVideo function and group management server are both located in a partner MCVideo system;\n-\tthe controlling MCVideo function is located in the primary MCVideo system and accesses a group management server in the primary MCVideo system and a non-controlling MCVideo function of an MCVideo group is located in a partner MCVideo system and accesses a group management server in the partner MCVideo system; or\n-\tthe controlling MCVideo function and non-controlling MCVideo function(s) of an MCVideo group are located in the primary MCVideo system and access group management servers in the primary MCVideo system.\nWhen the MCVideo server receives a SIP INVITE request that requires it to access a group document, it uses an MCVideo group ID or a temporary MCVideo group identity (TGI) which was created by the group regrouping operation as specified in 3GPP TS 24.481 [24].\nThe MCVideo server can cache the group document associated with an MCVideo group or temporary group, and can subscribe to be notified of changes to the group document associated with an MCVideo group or temporary group as specified in 3GPP TS 24.481 [24].\nNOTE 2:\tDuring the group regrouping operation as specified in 3GPP TS 24.481 [24], the controlling MCVideo function is notified of the constituent MCVideo group identities associated with the TGI.\nIf the group data associated with an MCVideo group ID or TGI cached in the MCVideo server is removed, the MCVideo server re-subscribes for changes in the group information associated with the MCVideo group ID or TGI.\nNOTE 3:\tRe-subscription can occur prior to the receipt of an SIP INVITE request containing an MCVideo group ID or TGI of a group document which is no longer cached on the MCVideo server.\nNOTE 1:\tIn this clause, \"MCVideo server\" can refer to either the controlling MCVideo function of an MCVideo group or the non-controlling MCVideo function of an MCVideo group.\nWhen the group document is retrieved for the controlling MCVideo function procedures (clause 9.2.1.4) or for the non-controlling MCVideo function terminating procedures (clause 9.2.1.5.2), the requested group identity refers to the group identity in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request.\nWhen the group document is retrieved for the non-controlling MCVideo function to initiate a temporary group session (clause 9.2.1.5.5), the requested group identity refers to the group identity of the constituent group contained in the <associated-group-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request.\nUpon receipt of a SIP INVITE request:\n1)\tif the MCVideo server is not yet subscribed to the group document for the requested group identity, the MCVideo server shall subscribe to the \"xcap-diff\" event-package for the group document of this group identity as specified in 3GPP TS 24.481 [24];\nNOTE 2:\tThe requested group identity is either an MCVideo group ID or a temporary MCVideo group identity (TGI).\nNOTE 3:\tAs a group document can potentially have a large content, the controlling MCVideo function of an MCVideo group can subscribe to the group document indicating support of content-indirection as defined in IETF RFC 4483 [29], by following the procedures in 3GPP TS 24.481 [24].\n2)\tupon receipt of a SIP 404 (Not Found) response as a result of attempting to subscribe to the \"xcap-diff\" event-package for the group document of the requested group identity as specified in 3GPP TS 24.481 [24], the MCVideo server shall send the SIP 404 (Not Found) response with the warning text set to \"113 group document does not exist\" in a Warning header field as specified in clause 4.4. Otherwise, continue with the rest of the steps;\n3)\tupon receipt of any other SIP 4xx, SIP 5xx or SIP 6xx response as a result of attempting to subscribe to the \"xcap-diff\" event-package for the group document of the requested group identity as specified in 3GPP TS 24.481 [24], the MCVideo server shall send the SIP final response with the warning text set to \"114 unable to retrieve group document\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n4)\tupon receipt of a notification from the group management server containing the group document for the requested group identity, or if the group document is already cached:\na)\tif the MCVideo server is a non-controlling function of an MCVideo group, then the MCVideo server shall exit this clause; and\nb)\tif the MCVideo server is a controlling function of an MCVideo group, then the MCVideo server shall determine if the group document is for a TGI or an MCVideo group ID as follows:\ni)\tif the group document includes an <on-network-temporary> element, then the group document is associated with a TGI;\nii)\tif the group document does not include an <on-network-temporary> element or an <on-network-regrouped> element, then the group document is associated with an MCVideo ID that has not been regrouped; and\niii)\tif the group document does not include an <on-network-temporary> element but includes an <on-network-regrouped> element, then the group document is associated with an MCVideo ID that has been regrouped;\n5)\tif the SIP INVITE request is a \"SIP INVITE request for controlling function of an MCVideo group\" and the requested group identity is an MCVideo group ID that has not been re-grouped, then:\na)\tif the <on-network-disabled> element is present in the group document, shall send a SIP 403 (Forbidden) response with the warning text set to \"115 group is disabled\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nb)\tif the <list> element of the <list-service> element does not contain an entry matching the MCVideo ID of the user in the SIP INVITE request, shall send a SIP 403 (Forbidden) response with the warning text set to \"116 user is not part of the MCVideo group\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nc)\tif the <on-network-invite-members> element is set to \"true\" and if the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element containing a value not set to \"prearranged\", shall return a SIP 404 (Not Found) response with the warning text set to \"117 the group identity indicated in the request is a prearranged group\" as specified in clause 4.4 \"Warning header field\" and shall not continue with the rest of the steps; and\nd)\tif the <on-network-invite-members> element is set to \"false\" and if the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element containing a value not set to \"chat\" shall return a SIP 404 (Not Found) response with the warning text set to \"118 the group identity indicated in the request is a chat group\" as specified in clause 4.4 \"Warning header field\" and shall not continue with the rest of the steps; and\n6)\tif the SIP INVITE request is a \"SIP INVITE request for controlling function of an MCVideo group\" and the group document for the requested group identity is an MCVideo group ID that has been regrouped, then the MCVideo server:\na)\tshall reject the SIP INVITE request with a SIP 403 (Forbidden) response with the warning text set to \"148 group is regrouped\" as specified in clause 4.4 \"Warning header field\".\nThe following conditions shall be met for the controlling MCVideo function to allow an MCVideo user to join an existing group session:\n1)\tan <entry> element exists in the <list> element of the group document for the MCVideo user;\n2)\ta <rule> exists in the group document with:\na)\tthe <is-list-member> element of the <conditions> element present and with the <join-handling> element of the corresponding <actions> element set to \"true\"; or\nb)\tthe <identity> element of the <conditions> element containing an entry matching the MCVideo ID in the SIP INVITE request, with the <join-handling> element of the <actions> element set to \"true\"; and\n3)\tif the <supported-services> element is present, it contains:\na)\ta <service> element containing an \"enabler\" attribute which is set to the MCVideo ICSI; and\nb)\tif a <group-media> element is present, an entry set to \"MCVideo video media\".\nIf all of the above conditions are not met, then the MCVideo user shall not be authorised to join the group session.\nWhen the non-controlling MCVideo function of an MCivdeo group receives a request to intiate a group session for the calling MCVideo user, if:\n1)\tone of the following conditions is met:\na)\tthe <on-network-regrouped> element in the <list-service> element is present in the group document associated with the MCVideo group ID identified in the <associated-group-id> element of the incoming SIP INVITE and if the MCVideo ID indicated in the incoming INVITE request is the same as the MCVideo group ID in the \"temporary-MCVideo-group-ID\" attribute of the <on-network-regrouped> element; or\nb)\taccording to the information stored per procedures of clause 21, the group identified in the <mcvideo-request-uri> of the incoming SIP INVITE is a group regroup based on a preconfigured group and if the group identified in the <associated-group-id> of the incoming SIP INVITE is a constituent group of that group regroup based on a preconfigured group;\nNOTE 1:\tIn this step 1), the non-controlling MCVideo function checks the consistency of the constituent group with the called group regroup.\n2)\tan <entry> element set to the MCVideo ID of the calling MCVideo user exists in the <list> element of the group document associated with the MCVideo group ID identified in the <associated-group-id> element of the incoming SIP INVITE;\nNOTE 2:\tIn this step 2), the non-controlling MCVideo function checks that the calling MCVideo user is a member of the constituent group.\n3)\ta <rule> exists in the group document with:\na)\tthe <is-list-member> element of the <conditions> element present and with the <allow-initiate-conference> element of the corresponding <actions> element set to \"true\"; or\nb)\tthe <identity> element of the <conditions> element containing an entry matching the MCVideo ID of the calling MCVideo user identified in the <mcvideo-calling-user-id> element of the SIP INVITE request, with the <allow-initiate-conference> element of the <actions> element is set to \"true\"; and\n4)\tthe <supported-services> element exists in the group document with\na)\ta <service> element containing an \"enabler\" attribute which is set to the MCVideo ICSI; and\nb)\ta <group-media> element containing, an entry set to \"MCVideo video media\".\nNOTE 3:\tIn these steps 2) and 3), the non-controlling MCVideo function checks that the calling MCVideo user is allowed to initiate the group call per the rules in the group document, and that the group is supporting MCVideo services.\nthen the calling MCVideo user shall be authorised by the non-controlling MCVideo function to initiate the group session. Otherwise, the calling MCVideo user shall not be authorised by the non-controlling MCVideo function to initiate the group session.\nWhen the controlling MCVideo function of an MCvideo group receives a request to intiate a group session for the calling MCVideo user, if:\nNOTE 4:\tThe check that the MCVideo group has not been regrouped (is not a constituent group) is already done in the parent procedure and in clause 6.3.5.2.\n1)\tthe MCVideo group ID identified in the <mcvideo-request-uri> element of the incoming SIP INVITE is a temporary group or a group regroup based on preconfigured group, then the calling MCVideo user shall be authorised by the controlling MCVideo function to initiate the group session and the rest of the steps in this clause shall be skipped;\nNOTE 5:\tThe consistency of the constituent group with the called regroup has already been checked at the non-controlling MCVideo function.\nNOTE 6:\tThe check that the requesting user is authorised to initiate the group call has already been done at the non-controlling MCVideo function of the constituent group.\n2)\tone of the following conditions is met:\na)\tan <entry> element set to the MCVideo ID of the calling MCVideo user exists in the <list> element of the group document associated with the MCVideo group ID identified in the <mcvideo-request-uri> element of the incoming SIP INVITE; or\nb)\tthe group is a user regroup based on a preconfigured group and the MCVideo ID contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP INVITE request is included in the list of users that was stored during successful processing of the creation of the user regroup per clause 21;\nNOTE 7:\tIn this step 2), the controlling MCVideo function checks that the calling MCVideo user is a member of the normal group (i.e., not a constituent group nor a regroup) or a user regroup.\n3)\ta <rule> exists in the group document with:\na)\tthe <is-list-member> element of the <conditions> element present and with the <allow-initiate-conference> element of the corresponding <actions> element set to \"true\"; or\nb)\tthe <identity> element of the <conditions> element containing an entry matching the MCVideo ID of the calling MCVideo user identified in the <mcvideo-calling-user-id> element of the SIP INVITE request, with the <allow-initiate-conference> element of the <actions> element is set to \"true\"; and\n4)\tthe <supported-services> element exists in the group document with:\na)\ta <service> element containing an \"enabler\" attribute which is set to the MCVideo ICSI; and\nb)\ta <group-media> element containing an entry set to \"MCVideo video media\".\nNOTE 8:\tIn these steps 3) and 4), the controlling MCVideo function checks that the calling MCVideo user is allowed to initiate the group call per the rules in the group document, and that the group is supporting MCVideo services.\nthen the calling MCVideo user shall be authorised by the controlling MCVideo function to initiate the group session. Otherwise, the calling MCVideo user shall not be authorised by the controlling MCVideo function to initiate the group session.\nThe MCVideo server shall only invite affiliated group members to a group session. The MCVideo server determines the affiliated members from the entries contained in the <list> element of the group document by following the procedures specified in clause 6.3.6.\nIf the group is not a regroup based on a preconfigured group, the MCVideo server determines the affiliated members from the entries contained in the <list> element of the group document by following the procedures specified in clause 6.3.6.\nIf the group is a regroup based on a preconfigured group, the MCVideo server determines the affiliated members from the list of users that was stored during successful processing of the creation of the regroup per clause 21 by following the procedures specified in clause 6.3.6.\nNOTE 1:\tThe term \"affiliated group members\" used above also includes those members that are implicitly affiliated by the controlling MCVideo function.\nIf the number of members of the MCVideo group exceeds the value contained in the <on-network-max-participant-count> element the MCVideo server shall invite only <on-network-max-participant-count> members from the list, but shall prioritise inviting those group members to the group session that have an <entry> element in the <list> element with a <on-network-required> element present.\nNOTE 2:\tThe <on-network-max-participant-count> element indicates the maximum number of participants allowed in the group session. The <on-network-required> element is used to determine which group members need to acknowledge the group call before audio transmission can proceed.\nNOTE 3:\tOther requirements for how the controlling MCVideo function selects which of the <on-network-max-participant-count> members to invite is outside the scope of this specification.\nNOTE 4:\tIt is assumed that validation checks are performed at the group management server to ensure that the <on-network-max-participant-count> cannot be less than the number of <on-network-required> users.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.6\tAffiliation check",
                            "text_content": "The MCVideo server checks if an MCVideo user is affiliated to an MCVideo group at an MCVideo client by following the procedures specified below:\n1.\tthe MCVideo server shall find the applicable MCVideo group information entry as an MCVideo group information entry of the list of MCVideo group information entries described in clause 8.2.2.3.2, such that the MCVideo group ID of the MCVideo group information entry is equal to the MCVideo group identity of the MCVideo group. If the applicable MCVideo group information entry cannot be found, then the MCVideo server shall determine that the MCVideo user is not affiliated to the MCVideo group at the MCVideo client and the MCVideo server shall not continue with rest of the steps;\n2.\tthe MCVideo server shall find the applicable MCVideo user information entry as an MCVideo user information entry of the list of MCVideo user information entries of the applicable MCVideo group information entry, such that the MCVideo ID of the MCVideo user information entry is equal to the MCVideo ID of the MCVideo user. If the applicable MCVideo user information entry cannot be found, then the MCVideo server shall determine that the MCVideo user is not affiliated to the MCVideo group at the MCVideo client and the MCVideo server shall not continue with rest of the steps;\n3.\tif the MCVideo client ID of the MCVideo client cannot be found in the list of MCVideo client information entries of the applicable MCVideo user information entry, then the MCVideo server shall determine that the MCVideo user is not affiliated to the MCVideo group at the MCVideo client and the MCVideo server shall not continue with rest of the steps;\nNOTE:\tthe MCVideo client ID of the originating MCVideo client can be found in the <mcvideo-client-id> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body of a SIP INVITE request, SIP REFER request or SIP MESSAGE request originated by the MCVideo client.\n4.\tif the expiration time of the applicable MCVideo user information entry has been reached, then the MCVideo server shall determine that the MCVideo user is not affiliated to the MCVideo group at the MCVideo client and the MCVideo server shall not continue with rest of the steps; and\n5.\tthe MCVideo server shall determine that the MCVideo user is affiliated to the MCVideo group at the MCVideo client.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.7\tError handling",
                            "text_content": "Upon receiving a request that includes the Request-URI set to a public service identity that is not allocated in the participating or the controlling MCVideo function, the participating or the controlling MCVideo function shall return a SIP 404 (Not Found) response.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.8\tSession release policy",
                            "text_content": "If:\n1)\tthe call is a pre-arranged group call and if the controlling MCVideo function receives an indication from the media plane that the T4 (Inactivity) timer specified in 3GPP TS 24.581 [5] expired;\n2)\tthere are only one or no participants in the MCVideo session;\n3)\tif the call is a pre-arranged group call and if it is according to local policy, the initiator of the group call leaves the MCVideo session;\n4)\tthe minimum number of affiliated MCVideo group members is not present; or\n5)\ttimer TNG3 (group call timer) expires;\nthe controlling MCVideo function shall release the MCVideo session for the group call.\nIf:\n1)\tthe controlling MCVideo function receives an indication from the media plane that the T4 (Inactivity) timer specified in 3GPP TS 24.581 [5] expired;\n2)\tthe MCVideo session has lasted longer than the maximum of duration of private call; or\n3)\tthere are only one or no participants in the MCVideo session;\nthe controlling MCVideo function shall release the MCVideo session for a private call.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.4\tImplicit transmit media request",
                    "description": "",
                    "summary": "",
                    "text_content": "An initial SIP INVITE request fulfilling the following criteria shall be regarded by the MCVideo server as an implicit transmit media request by the originating MCVideo client when the MCVideo client:\n1)\tinitiates an MCVideo session that is not used for a remotely initiated ambient viewing call; and\n2)\tincludes the \"mc_implicit_request\" 'fmtp' attribute in the associated UDP stream for the transmission control in the SDP offer/answer as specified in 3GPP TS 24.581 [5] clause 12.\nAn initial SIP INVITE request fulfilling the following criteria shall be regarded by the MCVideo server as an implicit request to grant permission to send media to the terminating MCVideo client when the originating MCVideo client:\n1)\tinitiates an MCVideo session that is a remotely initiated ambient viewing call; and\n2)\tincludes the \"mc_implicit_request\" 'fmtp' attribute in the associated UDP stream for the transmission control in the SDP offer/answer as specified in 3GPP TS 24.581 [5] clause 12.\nA SIP re-INVITE request fulfilling the following criteria shall be regarded by the MCVideo server as an implicit transmit media request when the MCVideo client:\n1)\tperforms an upgrade of:\na)\tan MCVideo group call to an emergency MCVideo group call;\nb)\tan MCVideo group call to an imminent peril MCVideo group call; and\n2)\tincludes the \"mc_implicit_request\" 'fmtp' attribute in the associated UDP stream for the transmission control in the SDP offer/answer as specified in 3GPP TS 24.581 [5] clause 12.\nIn all other cases the SIP (re-)INVITE request shall be regarded as received without an implicit transmit media request.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.5\tHandling of MIME bodies in a SIP message",
                    "description": "",
                    "summary": "",
                    "text_content": "The MCVideo client and the MCVideo server shall support several MIME bodies in SIP request and SIP responses.\nWhen the MCVideo client or the MCVideo server sends a SIP message and the SIP message contains more than one MIME body, the MCVideo client or the MCVideo server:\n1)\tshall, as specified in IETF RFC 2046 [83], include one Content-Type header field with the value set to multipart/mixed and with a boundary delimiter parameter set to any chosen value;\n2)\tfor each MIME body:\na)\tshall insert the boundary delimiter;\nb)\tshall insert the Content-Type header field with the MIME type of the MIME body; and\nc)\tshall insert the content of the MIME body;\n3)\tshall insert a final boundary delimiter; and\n4)\tif an SDP offer or an SDP answer is one of the MIME bodies, shall insert the application/sdp MIME body as the first MIME body.\nNOTE:\tThe reason for inserting the application/sdp MIME body as the first body is that if a functional entity in the underlying SIP core does not understand multiple MIME bodies, the functional entity will ignore all MIME bodies with the exception of the first MIME body. The order of multiple MCVideo application MIME bodies in a SIP message is irrelevant.\nWhen the MCVideo client or the MCVideo server sends a SIP message and the SIP message contains only one MIME body, the MCVideo client or the MCVideo server:\n1)\tshall include a Content-Type header field set to the MIME type of the MIME body; and\n2)\tshall insert the content of the MIME body.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.6\tConfidentiality and Integrity Protection",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.6.1\tGeneral",
                            "text_content": "The procedures in clauses 6.6 apply in general to all procedures described in clause 8, clause 9, clause 10 and clause 11 with the exception that the confidentiality and integrity protection procedures for the registration and service authorisation procedures are described in clause 7.\nWhenever the MCVideo UE includes XML elements or attributes pertaining to the data specified in clause 4.8 in SIP requests or SIP responses, the MCVideo UE shall perform the procedures in clause 6.6.2.3.1.\nWhenever the MCVideo server includes XML elements or attributes pertaining to the data specified in clause 4.8 in SIP requests or SIP responses, the MCVideo server shall perform the procedures in clause 6.6.2.3.2, with the exception that when the MCVideo server receives a SIP request with XML elements or attributes in an MIME body that need to be copied from the incoming SIP request to an outgoing SIP request without modification, the MCVideo server shall perform the procedures specified in clause 6.6.2.5.\nNOTE:\tThe procedures in clause 6.6.2.3.1 and clause 6.6.2.3.2 first determine (by referring to configuration) if confidentiality protection is enabled and then call the necessary procedures to encrypt the contents of the XML elements if confidentiality protection is enabled.\nThe functional entity shall perform the procedures in the clause just prior to sending a SIP request or SIP response.\n1)\tThe MCVideo UE shall perform the procedures in clause 6.6.3.3.1; and\n2)\tThe MCVideo server shall perform the procedures in clause 6.6.3.3.2.\nNOTE:\tThe procedures in clause 6.6.3.3.1 and clause 6.6.3.3.2 first determine if integrity protection of XML MIME bodies is required and then calls the necessary procedures to integrity protect each XML MIME body if integrity protection is required. Each XML MIME body has its own signature.\nWhenever the functional entity (i.e. MCVideo UE or MCVideo server) receives a SIP request or a SIP response, the functional entity shall perform the following procedures before performing any other procedures.\n1)\tThe functional entity shall determine if integrity protection has been applied to an XML MIME body by following the procedures in clause 6.6.3.4.1 and if integrity protection has been applied:\na)\tshall use the keying information described in clause 6.6.3.2 and the procedures described in clause 6.6.3.4.2 to verify the integrity of the XML MIME body; and\nb)\tif the integrity protection checks fail shall not perform any further procedures in this clause;\n2)\tThe functional entity shall determine whether confidentiality protection has been applied to XML elements in XML MIME bodies in a SIP request or SIP response, pertaining to the data specified in clause 4.8, by following the procedures in clause 6.6.2.4.1, and if confidentiality protection has been applied:\na)\tshall use the keying information described in clause 6.6.2.2 along with the procedures described in clause 6.6.2.4.2 to decrypt the received values; and\nb)\tif any decryption procedures fail, shall not perform any further procedures in this clause.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.6.2\tConfidentiality Protection",
                            "text_content": "In general, confidentiality protection is applied to specific XML elements and attributes in XML MIME bodies in SIP requests and responses as specified in clause 4.8.\nConfiguration for applying confidentiality protection is not selective to a specific XML element or attribute of the data described in clause 4.8. If configuration for confidentiality protection is turned on, then all XML elements and attributes described in clause 4.8 are confidentiality protected. If configuration for confidentiality protection is turned off, then no XML content in SIP requests and SIP responses are confidentiality protected.\nConfidentiality protection uses an XPK to encrypt the data which (depending on who is the sender and who is the receiver of the encrypted information) can be a CSK or an SPK as specified in clause 4.8. An XPK-ID (CSK-ID/SPK-ID) is used to key the XPK (CSK/SPK). It is assumed that before the procedures in this clause are called, the CSK/CSK-ID and/or SPK/SPK-ID are available on the sender and recipient of the encrypted content as described in clause 4.8.\nThe procedures in clause 6.6.2.3 and clause 6.6.2.4 are used with a XPK equal to the CSK and a XPK-ID equal to the CSK-ID in the following circumstances as described in 3GPP TS 33.180 [8]:\n1)\tMCVideo client sends confidentiality protected content to an MCVideo server; and\n2)\tMCVideo server sends confidentiality protected content to an MCVideo client.\nThe procedure in clause 6.6.2.3 and clause 6.6.2.4 are used with a XPK equal to the SPK and a XPK-ID equal to the SPK-ID in the following circumstances as described in 3GPP TS 33.180 [8]:\n1)\tMCVideo server sends confidentiality protected content to an MCVideo server in the same domain; and\n2)\tMCVideo server sends confidentiality protected content to an MCVideo server in another domain.\nIf the <confidentiality-protection> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"true\" or no <confidentiality-protection> element is present in the Service Configuration document, then sending confidentiality protected content from the MCVideo client to the MCVideo server is enabled, and the MCVideo client:\n1)\tshall use the appropriate keying information specified in clause 6.6.2.2;\n2)\tshall perform the procedures in clause 6.6.2.3.3 to confidentiality protect XML elements containing the content described in clause 4.8; and\n3)\tshall perform the procedures in clause 6.6.2.3.4 to confidentiality protect URIs in XML attributes for URIs described in clause 4.8.\nIf the <confidentiality-protection> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"false\", then sending confidentiality protected content from the MCVideo client to the MCVideo server is disabled, and content is included in XML elements and attributes without encryption.\nIf the <confidentiality-protection> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"true\" or no <confidentiality-protection> element is present in the Service Configuration document, then sending confidentiality protected content from the MCVideo server to the MCVideo client is enabled. If the <allow-signalling-protection> element of the <protection-between-mcvideo-servers> element is set to \"true\" in the Service Configuration document as specified in 3GPP TS 24.484 [25] or no <allow-signalling-protection> element is present in the Service Configuration document, then sending confidentiality protected content between MCVideo servers is enabled.\nWhen sending confidentiality protected content, the MCVideo server:\n1)\tshall use the appropriate keying information specified in clause 6.6.2.2;\n2)\tshall perform the procedures in clause 6.6.2.3.3 to confidentiality protect XML elements containing the content described in clause 4.8, and\n3)\tshall perform the procedures in clause 6.6.2.3.4 to confidentiality protect URIs in XML attributes for URIs described in clause 4.8.\nIf the <confidentiality-protection> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"false\", then sending confidentiality protected content from the MCVideo server to the MCVideo client is disabled, and then content is included in XML elements and attributes without encryption.\nIf the <allow-signalling-protection> element of the <protection-between-mcvideo-servers> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"false\", then sending confidentiality protected content between MCVideo servers is disabled, and content is included in XML elements and attributes without encryption.\nThe following procedures shall be performed by an MCVideo client or an MCVideo server:\n1)\tperform encryption as specified in W3C: \"XML Encryption Syntax and Processing Version 1.1\", https://www.w3.org/TR/xmlenc-core1/ [45] clause 4.3, using the \"AES-128-GCM algorithm HMAC\" as the encryption algorithm and the XPK as the key; and\n2)\tfollow the semantic for the element of the MIME body as described in Annex F of the present document, to include the encrypted content in the MIME body ensuring that the necessary XML elements required for confidentiality protection are included as specified in 3GPP TS 33.180 [8].\nThe following procedures shall be performed by an MCVideo client or an MCVideo server:\n1)\tperform encryption as specified in [aes-gcm], using the \"AES-128-GCM algorithm HMAC\" as the encryption algorithm and the XPK as the key, with a 96 bit randomly selected IV; and\n2)\treplace the URI to be protected in the attribute by a URI constructed as follows:\na)\tthe URI schema is \"\";\nb) the first part of the userinfo part is the base64 encoded result of the encryption of the original attribute value;\nc)\tthe string \";iv=\" is appended to the result of step b);\nd)\tthe base64 encoding of the IV (section 5 of IETF RFC 4648 [46]) is appended to the result of step c);\ne)\tthe string \";key-id=\" is appended to the result of step d);\nf)\tthe base64 encoding of the XPK-ID according to 3GPP 33.180 [8] is appended to the result of step e);\ng)\tthe string \";alg=128-aes-gcm\" is appended to the result of step f); and\nh)\tthe string \"@\" followed by the domain name for MC Services confidentiality protection as specified in 3GPP TS 23.003 [47] is appended to the result of step g).\nThe following procedure is used by the MCVideo client or MCVideo server to determine if an XML element is confidentiality protected.\n1)\tif an XML element contains the <EncryptedData> XML element, then the content of the XML element is confidentiality protected; and\n2)\tif an XML element does not contain the <EncryptedData> XML element, then the content of the XML element is.not confidentiality protected.\nThe following procedure is used by the MCVideo client or MCVideo server to determine if a URI in the XML attribute is confidentiality protected.\n1)\tif an XML attribute is a URI with the domain name for MC Services confidentiality protection as specified in the 3GPP TS 23.003 [47], then the URI is confidentiality protected; and\n2)\tif an XML attribute is a URI without the domain name for MC Services confidentiality protection as specified in the 3GPP TS 23.003 [47], then the URI is not confidentiality protected.\nThe following procedure shall be performed by an MCVideo client or an MCVideo server to decrypt an individual XML element that has a type of \"encrypted\" within an XML MIME body:\n1)\tif the <EncryptedData> XML element or any of its sub-elements as described in 3GPP TS 33.180 [8] are not present in the MIME body then send a SIP 403 (Forbidden) response with the warning text set to \"140 unable to decrypt XML content\" in a Warning header field as specified in clause 4.4, and exit this procedure. Otherwise continue with the rest of the steps;\n2)\tperform decryption on the <EncryptedData> element as specified in W3C: \"XML Encryption Syntax and Processing Version 1.1\", https://www.w3.org/TR/xmlenc-core1/ [45] clause 4.4 to decrypt the contents of the <CipherValue> element contained within the <CipherData> element;\n3)\tif the decryption procedure fails, then send a SIP 403 (Forbidden) response with the warning text set to \"140 unable to decrypt XML content\" in a Warning header field as specified in clause 4.4. Otherwise continue with the rest of the steps; and\n4)\treturn success of this procedure together with the decrypted XML element.\nThe following procedure shall be performed by an MCVideo client or an MCVideo server to decrypt a URI in an attribute in a XML document:\n1)\tthe value between \";iv=\" and the next \";\" provides the base64 encoded value of the 96 bit IV and the value between \";=key-id\" and the next \";\" defines the key which has been used for encryption, i.e. \"CSK\" or \"SPK\"; and\n2)\tthe original URI is obtained by decrypting the base64 encoded string between the \"\" URI prefix and the next \";\" using the \"AES-128-GCM algorithm HMAC\" as the decryption algorithm with IV and key as determined in step 1). This value replaces the encrypted URI as the value of the XML attribute.\nThe following procedure is executed when an MCVideo server receives a SIP request containing XML MIME bodies, where the content needs to be copied from the incoming SIP request to the outgoing SIP request.\nThe MCVideo server:\n1)\tshall copy the XML elements from the XML MIME body of the incoming SIP request that do not contain a <EncryptedData> XML element, to the same XML body in the outgoing SIP request;\n2)\tfor each encrypted XML element in the XML MIME body of the incoming SIP request as determined by clause 6.6.2.4.1:\na)\tshall use the keying information described in clause 6.6.2.2 to decrypt the content within the XML element by following the procedures specified in clause 6.6.2.4.2, and shall continue with the steps below if the encrypted XML element was successfully decrypted;\nb)\tif confidentiality protection is enabled as specified in clause 6.6.2.3.2, then for each decrypted XML element:\ni)\tshall re-encrypt the content within the XML element using the keying information described in clause 6.6.2.2 and by following the procedures specified in clause 6.6.2.3.3; and\nii)\tshall include the re-encrypted content into the same XML MIME body of the outgoing SIP request; and\nc)\tif confidentiality protection is disabled as specified in clause 6.6.2.3.2, shall include the decrypted content in the same XML MIME body of the outgoing SIP request.\n3)\tfor each encrypted XML URI attribute in the XML MIME body of the incoming SIP request as determined by clause 6.6.2.4.1:\na)\tshall use the keying information described in clause 6.6.2.2 to decrypt the URI value of the XML attribute by following the procedures specified in clause 6.6.2.4.3, and shall continue with the steps below if the encrypted XML attribute value was successfully decrypted;\nb)\tif confidentiality protection is enabled as specified in clause 6.6.2.3.2, then for each decrypted XML element:\ni)\tshall re-encrypt the URI value of the XML attribute using the keying information described in clause 6.6.2.2 and by following the procedures specified in clause 6.6.2.3.4; and\nii)\tshall include the re-encrypted attribute value into the same XML MIME body of the outgoing SIP request; and\nc)\tif confidentiality protection is disabled as specified in clause 6.6.2.3.2, shall include the decrypted value in the same XML MIME body of the outgoing SIP request.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.6.3\tIntegrity Protection of XML documents",
                            "text_content": "Integrity protection can be applied to a whole XML MIME body. When integrity protection is enabled, all XML MIME bodies transported in SIP requests and responses are integrity protected. The following XML MIME bodies used in the present specification in SIP signalling can be integrity protected:\n-\tapplication/vnd.3gpp.mcvideo-info+xml;\n-\tapplication/vnd.3gpp.mcvideo-location-info+xml;\n-\tapplication/vnd.3gpp.mcvideo-affiliation-command+xml;\n-\tapplication/conference-info+xml;\n-\tapplication/pidf+xml; and\n-\tapplication/xcap-diff+xml.\nIf integrity protection is enabled, and one or more of the XML MIME bodies complying to the types listed above are included in a SIP request or SIP response, then a MIME body of type application/vnd.3gpp.mcptt-signed+xml specified in 3GPP TS 24.379 [40] is included in the SIP request or SIP response containing one or more signatures pointing to those XML MIME bodies as illustrated in figure 6.6.3.1-1.\nIn order to integrity protect the XML MIME bodies listed above in this clause in SIP requests and SIP responses, the MCVideo client and MCVideo server shall for each MIME body, include the Content-ID header field as specified in IETF RFC 2045 [48] containing a Content-ID (\"cid\") Uniform Resource Locator (URL) as specified in IETF RFC 2392 [49].\nThe figure depicts the integrity protection of XML MIME bodies in SIP requests and SIP responses, highlighting the use of XML-based security protocols to ensure the integrity of the data being transmitted.\nFigure 6.6.3.1-1: Integrity Protection of XML MIME bodies in SIP requests and SIP responses\nEach MIME body that is integrity protected is assigned a unique signature.\nConfiguration for applying integrity protection is not selective to a specific MIME body. If configuration for integrity protection is turned on, then all XML MIME bodies in SIP requests and responses are integrity protected. If configuration for integrity protection is turned off, then no XML MIME bodies in SIP requests and SIP responses are integrity protected.\nIntegrity protection uses an XPK to sign the data which (depending on who is the sender and who is the receiver of the signed information) can be a CSK or an SPK as specified in clause 4.8. An XPK-ID (CSK-ID/SPK-ID) is used to key the XPK (CSK/SPK). It is assumed that before the procedures in clause 6.6.3.3 and clause 6.6.3.4 are called, the CSK/CSK-ID and/or SPK/SPK-ID are available on the sender and recipient of the integrity protected content, as described in clause 4.8.\nThe procedures in clause 6.6.3.3 and clause 6.6.3.4 shall be used with a XPK equal to the CSK and a XPK-ID equal to the CSK-ID in the following circumstances as described in 3GPP TS 33.180 [8]:\n1)\tMCVideo client sends integrity protected content to an MCVideo server; and\n2)\tMCVideo server sends integrity protected content to an MCVideo client.\nThe procedure in clause 6.6.3.3 and clause 6.6.3.4 shall be used with a XPK equal to the SPK and a XPK-ID equal to the SPK-ID in the following circumstances as described in 3GPP TS 33.180 [8]:\n1)\tMCVideo server sends integrity protected content to an MCVideo server in the same domain; and\n2)\tMCVideo server sends integrity protected content to an MCVideo server in another domain.\nIf the <integrity-protection> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"true\" or no <integrity-protection> element is present in the Service Configuration document, then sending integrity protected content from the MCVideo client to the MCVideo server is enabled, and the MCVideo client shall use the appropriate keying information specified in clause 6.6.3.2 and shall perform the procedures in clause 6.6.3.3.3 to integrity protect XML MIME bodies.\nNOTE:\tEach XML MIME body is integrity protected separately.\nIf the <integrity-protection> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"false\", then sending integrity protected content from the MCVideo client to the MCVideo server is disabled, and all XML MIME bodies are sent without integrity protection.\nIf the <integrity-protection> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"true\", or no <integrity-protection> element is present in the Service Configuration document, then sending integrity protected content from the MCVideo server to the MCVideo client is enabled. If the <allow-signalling-protection> element of the <protection-between-mcvideo-servers> element is set to \"true\" in the Service Configuration document as specified in 3GPP TS 24.484 [25] or no <allow-signalling-protection> element is present in the Service Configuration document, then sending integrity protected content between MCVideo servers is enabled.\nWhen sending integrity protected content, the MCVideo server shall use the appropriate keying information specified in clause 6.6.3.2 and shall perform the procedures in clause 6.6.3.3.3 to integrity protect XML MIME bodies.\nNOTE:\tEach XML MIME body is integrity protected separately.\nIf the <integrity-protection> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"false\", then sending integrity protected content from the MCVideo server to the MCVideo client is disabled, and all XML MIME bodies are sent without integrity protection.\nIf the <allow-signalling-protection> element of the <protection-between-mcvideo-servers> element in the Service Configuration document as specified in 3GPP TS 24.484 [25] is set to \"false\", then sending integrity protected content between MCVideo servers is disabled, and content is included in XML elements without encryption.\nThe following procedure shall be performed by the MCVideo client and MCVideo server to integrity protect the XML bodies defined by the MIME types listed in clause 6.6.3.1:\n1)\tinclude a Content-Type header field set to \"application/vnd.3gpp.mcptt-signed+xml\" defined in 3GPP TS 24.379 [40];\n2)\tfor each of the MIME types defined in clause 6.6.3.1 where the content defined by these MIME types is to be integrity protected:\na)\tperform reference generation as specified in W3C: \"XML Signature Syntax and Processing (Second Edition)\",  [50] clause 3.1.1 using the SHA256 algorithm to produce a hash of the MIME body and continue with the procedures below if reference generation is successful;\nb)\tperform signature generation as specified in W3C: \"XML Signature Syntax and Processing (Second Edition)\",  [50] clause 3.1.2 using the HMAC-SHA256 signature method and the XPK as the key and continue with the procedures below if signature generation is successful; and\n3)\tfollow the schema defined in Annex F.6.2 and the semantic described in Annex F.6.3 to create the application/vnd.3gpp.mcptt-signed+xml MIME body, defined in 3GPP TS 24.379 [40] containing signatures referring to the XML MIME bodies included in the SIP request or SIP response.\nThe following procedure is used by the MCVideo client or MCVideo server to determine if an XML MIME body is integrity protected.\n1)\tif the <Signature> XML element is not present in the XML MIME body, then the content is not integrity protected; and\n2)\tif the <Signature> XML element is present in the XML MIME body, then the content is integrity protected.\nThe following procedure is used by the MCVideo client or MCVideo server to verify the integrity of an XML MIME body:\n1)\tif the required sub-elements of the <Signature> as described in 3GPP TS 33.180 [8] are not present in the MIME body and if not present, are not known to the sender and recipient by other means, then the integrity protection procedure fails and exit this procedure. Otherwise continue with the rest of the steps;\n2)\tperform reference validation on the <Reference> element as specified in W3C: \"XML Signature Syntax and Processing (Second Edition)\",  [50] clause 3.2.1;\n3)\tif reference validation fails, then send a SIP 403 (Forbidden) response towards the functional entity with the warning text set to: \"139 integrity protection check failed\" in a Warning header field as specified in clause 4.4, and do not continue with the rest of the steps in this clause;\n4)\tobtain the XPK using the XPK-ID in the received XML body and use it to perform signature validation of the value of the <SignatureValue> element as specified in W3C: \"XML Signature Syntax and Processing (Second Edition)\", http://www.w3.org/TR/xmldsig-core [50] clause 3.2.2;\n5)\tif signature validation fails, then send a SIP 403 (Forbidden) response towards the functional entity with the warning text set to: \"139 integrity protection check failed\" in a Warning header field as specified in clause 4.4, and do not continue with the rest of the steps in this clause; and\n6)\treturn success of the integrity protection of the XML document passes the integrity protection procedure.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.7\tPriority sharing",
                    "description": "",
                    "summary": "",
                    "text_content": "The participating MCVideo function shall enable or disable priority sharing as specified in 3GPP TS 24.229 [11].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.8\tSupport for multiple devices",
                    "description": "",
                    "summary": "",
                    "text_content": "An MCVideo user may be authorized to use the MCVideo service from multiple MCVideo clients as per the procedure in clause 7.\nIf an MCVideo server receives a service authorization request for an MCVideo user who is previously MCVideo service authorized on another MCVideo client, then the MCVideo server shall process this service authorization request as described in clause 7. In the MCVideo service authorization response to the MCVideo user, the MCVideo server shall also indicate that the MCVideo user is already MCVideo service authorized from another MCVideo client.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.9\tProcedures at the MCVideo gateway",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.9.1\tGeneral",
                            "text_content": "As described in clause 5.5, the MCVideo gateway servers are inserted in the path between MCVideo functions that reside in MCVideo systems from different trust domains.\nThis clause specifies the behavior of an MCVideo gateway server that acts as an exit point from an MCVideo system or as an entry point in an MCVideo system.\nLocal policies enforcement covers a wide variety of actions that are left to implementation. An example of local policies enforcement is given in clause 6.9.4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.9.2\tMCVideo gateway server acting as an exit point from an MCVideo system",
                            "text_content": "When acting as an exit point from a local MCVideo system to an interconnected MCVideo system, the MCVideo gateway server receives SIP requests and SIP responses intended for the controlling, non-controlling or participating function in the interconnected MCVideo system.\nWhen receiving an outgoing SIP message, the MCVideo gateway server acting as an exit point:\n1)\tshall identify the MCVideo system identity of the interconnected MCVideo system from the information elements in the outgoing SIP message, e.g. Request-URI;\n2)\tmay enforce local policy, and if local policy enforcement results in rejecting a SIP request (e.g. not having a mutual aid relationship), the MCVideo gateway shall reject the request by sending back a SIP 403 (Forbidden) response including a warning text \"1xx service not authorized with the interconnected system\", and the MCVideo gateway server shall not continue with the rest of the steps;\n3)\tmay replace in the outgoing SIP message any addressing information linked to the local MCVideo system topology with its own addressing information. This includes;\na)\tthe P-Asserted-Identity header field may be set to the MCVideo gateway server's own URI; and\nb)\tthe Request-URI may be set to the public service identity of the targeted function in the interconnected MCVideo system, or to the URI of the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system; and\nNOTE:\tHow the MCVideo gateway server determines the public service identity of the targeted MCVideo function in the interconnected MCVideo system or the URI of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\n4)\tshall forward the outgoing SIP message according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.9.3\tMCVideo gateway server acting as an entry point in an MCVideo system",
                            "text_content": "When acting as an entry point in an MCVideo system from an interconnected MCVideo system, the MCVideo gateway receives SIP requests and SIP responses intended for the controlling, non-controlling or participating function in the local MCVideo system.\nWhen receiving an incoming SIP message, the MCVideo gateway server acting as an entry point:\n1)\tshall identify the MCVideo system identity of the interconnected MCVideo system from the P-Asserted-Identity header field of the incoming SIP messages;\n2)\tmay enforce local policy and. if local policy enforcement results in rejecting a SIP request (e.g. not having a mutual aid relationship), the MCVideo gateway shall reject the request by sending back a SIP 403 (Forbidden) response including a warning text \"180 service not authorized by the interconnected system\", and the MCVideo gateway server shall not continue with the rest of the steps;\n3)\tshould replace in the incoming SIP message its own addressing information with the addressing information of the targeted MCVideo function in the local MCVideo system:\na)\tthe Request-URI should be set to the public service identity of the targeted MCVideo function in the local MCVideo system; and\nNOTE:\tHow the MCVideo gateway server determines the public service identity of the targeted MCVideo function in the local MCVideo system is out of the scope of the present document.\n4)\tshall forward the incoming SIP message according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.9.4\tLocal policies enforcement",
                            "text_content": "Below is one example of local policy enforcement that can be handled by an MCVideo gateway server.\nIf an MCVideo gateway server acting as an exit point receives a SIP request or a SIP response that contains sensitive information that cannot be exposed to the targeted interconnected system based on local policies but does not prevent the service from being delivered (e.g. a functional alias), the MCVideo gateway server can remove that information from the outgoing SIP message before forwarding it.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "7\tRegistration and service authorisation",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "7.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the procedures for SIP registration and MCVideo service authorization for the MCVideo client and the MCVideo service. The MCVideo UE can use SIP REGISTER or SIP PUBLISH for MCVideo service settings to perform service authorization for MCVideo. The decision which method to use is based on implementation and on availability of an access-token received as outcome of the user authentication procedure as described in 3GPP TS 24.482 [52].\nIf another MC service client (e.g. MCPTT, MCData) is operating at the same time on the same MC UE as the MCVideo client, then the MCVideo client shares the same SIP registration as the other MC service clients. The SIP REGISTER procedures in this clause are combined with the SIP REGISTER procedures for the other operating MC service clients to create a single SIP REGISTER request. If other MC service clients are already operating when the MCVideo client registers, then a re-registration is performed containing the parameters for the other operating MC services.\nAlthough the access-token can be the same for the MCVideo service as for other MC services when performing service authorization for MCVideo along with other MC services using SIP REGISTER multipart MIME bodies for each MC service are included in the SIP REGISTER request. The MCVideo server can therefore receive multipart MIME bodies in the SIP REGISTER request. Multiple contact addresses (one per MC service client) can be included in a SIP REGISTER request provided they all contain the same IP address and port number (see 3GPP TS 24.229 [11] for further details of including multiple contact addresses in a single SIP REGISTER request).\nIf the MCVideo client logs off from the MCVideo service but other MC service clients are to remain registered the MC UE performs a re-registration as specified in 3GPP TS 24.229 [11] without the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP REGISTER request but with the parameters for the remaining operating MC service clients.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "7.2\tMCVideo client procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.2.1\tSIP REGISTER request for service authorisation",
                            "text_content": "When the MCVideo client performs SIP registration for service authorization the MCVideo client shall perform the registration procedures as specified in 3GPP TS 24.229 [11].\nThe MCVideo client shall include the following media feature tags in the Contact header field of the SIP REGISTER request:\n1)\tthe g.3gpp.mcvideo media feature tag; and\n2)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\".\nNOTE 1:\tIf the MCVideo client logs off from the MCVideo service but the MCVideo UE remains registered the MCVideo UE performs a re-registration as specified in 3GPP TS 24.229 [11] without both the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP REGISTER request.\nIf the MCVideo client, upon performing SIP registration:\n1)\thas successfully finished the user authentication procedure as described in 3GPP TS 24.482 [52];\n2)\thas available an access-token;\n3)\tbased on implementation decides to use SIP REGISTER for service authorization;\n4)\tconfidentiality protection is disabled as specified in clause 6.6.2.3.1; and\n5)\tintegrity protection is disabled as specified in clause 6.6.3.3.1;\nthen the MCVideo client shall include in the SIP REGISTER request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in Annex F.1 with:\n1)\tthe <mcvideo-access-token> element set to the value of the access token received during the user authentication procedures; and\n2)\tthe <mcvideo-client-id> element set to the value of the MCVideo client ID of the originating MCVideo client.\nNOTE 2:\tthe access-token contains the MCVideo ID of the user.\nIf the MCVideo client, upon performing SIP registration:\n1)\thas successfully finished the user authentication procedure as described in 3GPP TS 24.482 [52];\n2)\thas an available access-token;\n3)\tbased on implementation decides to use SIP REGISTER for service authorization; and\n4)\teither confidentiality protection is enabled as specified in clause 6.6.2.3.1 or integrity protection is enabled as specified in clause 6.6.3.3.1;\nthen the MCVideo client:\n1)\tshall include an application/mikey MIME body with the CSK as MIKEY-SAKKE I_MESSAGE as specified in 3GPP TS 33.180 [8] in the body of the SIP REGISTER request;\n2)\tif confidentiality protection is enabled as specified in clause 6.6.2.3.1, shall include in the body of the SIP REGISTER request, an application/vnd.3gpp.mcvideo-info+xml MIME body with the following clarifications:\na)\tshall encrypt the received access-token using the client server key (CSK) and include the <mcvideo-access-token> element set to the encrypted access-token, as specified in clause 6.6.2.3.3; and\nb)\tshall encrypt the MCVideo client ID of the originating MCVideo client and include the <mcvideo-client-id> element set to the encrypted MCVideo client ID;\n3)\tif confidentiality protection is disabled as specified in clause 6.6.2.3.1, shall include an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in Annex F.1 with:\na)\tthe <mcvideo-access-token> element set to the value of the access token received during the user authentication procedures; and\nb)\tthe <mcvideo-client-id> element set to the value of the MCVideo client ID of the originating MCVideo client; and\n4)\tif integrity protection is enabled as specified in clause 6.6.3.3.1, shall use the CSK to integrity protect the application/vnd.3gpp.mcvideo-info+xml MIME body by following the procedures in clause 6.6.3.3.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.1AA\tSIP REGISTER request without service authorisation",
                            "text_content": "When the MCVideo client performs SIP registration without service authorisation the MCVideo client shall perform the registration procedures as specified in 3GPP TS 24.229 [11].\nThe MCVideo client shall include the following media feature tags in the Contact header field of the SIP REGISTER request:\n1)\tthe g.3gpp.mcvideo media feature tag; and\n2)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\".\nNOTE:\tIf the MCVideo client logs off from the MCVideo service but the MCVideo UE remains registered the MCVideo UE performs a re-registration as specified in 3GPP TS 24.229 [11] without both the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP REGISTER request.\nIf the MCVideo client supports MCVideo service continuity, then the MCVideo client shall follow the IMS registraton procedures for PS to PS service continuity as specified in clause 6.2.2 of 3GPP TS 24.237 [60].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.1A\tCommon SIP PUBLISH procedure",
                            "text_content": "This procedure is only referenced from other procedures.\nWhen populating the SIP PUBLISH request, the MCVideo client shall:\n1)\tshall set the Request-URI to the public service identity identifying the participating MCVideo function serving the MCVideo user;\n2)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n3)\tshall set the Event header field to the \"poc-settings\" value; and\n4)\tshall set the Expires header field according to IETF RFC 3903 [12], to 4294967295, if the MCVideo user is not removing the MCVideo service settings, otherwise to remove the MCVideo service settings the MCVideo client shall set the Expires header field to zero.\nNOTE 1:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\nNOTE 2:\tThe expiration timer of the MCVideo client service settings is only applicable for the MCVideo client service settings from the MCVideo client that matches the Instance Identifier URN. The expiration timer of MCVideo user service settings is also updated in the MCVideo server if expiration timer of MCVideo client service settings is updated in the MCVideo server.\nNOTE 3:\tRemoving the MCVideo service settings by setting the Expires header field to zero, logs off the MCVideo client from the MCVideo service.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.2\tSIP PUBLISH request for service authorisation and MCVideo service settings",
                            "text_content": "If based on implementation the MCVideo client decides to use SIP PUBLISH for MCVideo server settings to also perform service authorization and\n1)\thas successfully finished the user authentication procedure as described in 3GPP TS 24.482 [52]; and\n2)\thas available an access-token;\nthen the MCVideo client:\n1)\tshall perform the procedures in clause 7.2.1A;\n2)\tif confidentiality protection is disabled as specified in clause 6.6.2.3.1 and integrity protection is disabled, shall include in the body of the SIP PUBLISH request, an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in Annex F.1 with the <mcvideo-access-token> element set to the value of the access token received during the user authentication procedures;\n3)\tif either confidentiality protection is enabled as specified in clause 6.6.2.3.1 or integrity protection is enabled as specified in clause 6.6.3.3.1 shall include an application/mikey MIME body with the CSK as MIKEY-SAKKE I_MESSAGE as specified in 3GPP TS 33.180 [8] in the body of the SIP PUBLISH request;\n4)\tif confidentiality protection is enabled as specified in clause 6.6.2.3.1, shall include in the body of the SIP PUBLISH request an application/vnd.3gpp.mcvideo-info+xml MIME body with:\na)\tthe <mcvideo-access-token> element set to the received access-token encrypted using the CSK, as specified in clause 6.6.2.3.3; and\nb)\tthe <mcvideo-client-id> element set to the encrypted MCVideo client ID of the originating MCVideo client, as specified in clause 6.6.2.3.3;\n5)\tif confidentiality protection is disabled as specified in clause 6.6.2.3.1, shall include in the body of the SIP PUBLISH request, an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in Annex F.1 with:\na)\tthe <mcvideo-access-token> element set to the value of the access token received during the user authentication procedures in the body of the SIP PUBLISH request; and\nb)\tthe <mcvideo-client-id> element set to the value of the MCVideo client ID of the originating MCVideo client;\n6)\tshall include an application/poc-settings+xml MIME body as defined in 3GPP TS 24.379 [40] containing:\na)\tthe Answer-Mode Indication setting in the <am-settings> element of the poc-settings event package set to the current answer mode setting (\"auto-answer\" or \"manual-answer\") of the MCVideo client according to IETF RFC 4354 [53];\nb)\tthe <selected-user-profile-index> element set to the value contained in the \"user-profile-index\" attribute of the selected MCVideo user profile as defined in 3GPP TS 24.484 [25]; and\nc)\tthe <multiplex-support> element as defined in clause 7.4.1.2.2; and\n7)\tif integrity protection is enabled as specified in clause 6.6.3.3.1, shall use the CSK to integrity protect the application/vnd.3gpp.mcvideo-info+xml MIME body and application/poc-settings+xml MIME body by following the procedures in clause 6.6.3.3.3.\nThe MCVideo client shall send the SIP PUBLISH request according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.3\tSending SIP PUBLISH for MCVideo service settings only",
                            "text_content": "To set, update, remove or refresh the MCVideo service settings, the MCVideo client shall generate a SIP PUBLISH request according 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 4354 [53]. In the SIP PUBLISH request, the MCVideo client:\n1)\tshall perform the procedures in clause 7.2.1A;\n2)\tif confidentiality protection is enabled as specified in clause 6.6.2.3.1, shall include in the body of the SIP PUBLISH request, an application/vnd.3gpp.mcvideo-info+xml MIME body with:\na)\tthe <mcvideo-request-uri> element set to the targeted MCVideo ID encrypted using the CSK, as specified in clause 6.6.2.3.3; and\nb)\tthe <mcvideo-client-id> element set to the encrypted MCVideo client ID of the originating MCVideo client, as specified in clause 6.6.2.3.3;\n3)\tif confidentiality protection is disabled as specified in clause 6.6.2.3.1, shall include an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in Annex F.1 with:\na)\tthe <mcvideo-request-uri> set to the cleartext targeted MCVideo ID; and\nb)\tthe <mcvideo-client-id> element set to the value of the MCVideo client ID of the originating MCVideo client;\n4)\tshall include an application/poc-settings+xml MIME body as defined in 3GPP TS 24.379 [40] containing:\na)\tthe Answer-Mode Indication setting in the <am-settings> element of the poc-settings event package set to the current answer mode setting (\"auto-answer\" or \"manual-answer\") of the MCVideo client according to IETF RFC 4354 [53];\nb)\tthe <selected-user-profile-index> element set to the value contained in the \"user-profile-index\" attribute of the selected MCVideo user profile as defined in 3GPP TS 24.484 [25]; and\nc)\tthe <multiplex-support> element as defined in clause 7.4.1.2.2; and\n5)\tif integrity protection is enabled as specified in clause 6.6.3.3.1, shall use the CSK to integrity protect the application/vnd.3gpp.mcvideo-info+xml MIME body and application/poc-settings+xml MIME body by following the procedures in clause 6.6.3.3.3.\nThe MCVideo client shall send the SIP PUBLISH request according to 3GPP TS 24.229 [11].\nOn receiving the SIP 200 (OK) response to the SIP PUBLISH request the MCVideo client may indicate to the MCVideo User the successful communication of the MCVideo service settings to the MCVideo server.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.4\tDetermination of MCVideo service settings",
                            "text_content": "In order to discover MCVideo service settings of another MCVideo client of the same MCVideo user or to verify the currently active MCVideo service settings of this MCVideo client, the MCVideo client shall generate an initial SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 6665 [16], and IETF RFC 4354 [53].\nIn the SIP SUBSCRIBE request, the MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall include the <mcvideo-request-uri> element set to the MCVideo ID of the MCVideo user;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n4)\tshall set the Event header field to the 'poc-settings' value;\n5)\tshall include an Accept header field containing the \"application/poc-settings+xml\" MIME type;\n6)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295; and\nNOTE 1:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n7)\tif the MCVideo client wants to fetch the current state only, shall set the Expires header field according to IETF RFC 6665 [16], to zero.\nIn order to re-subscribe or de-subscribe, the MCVideo client shall generate an in-dialog SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 6665 [16], IETF RFC 4354 [53]. In the SIP SUBSCRIBE request, the MCVideo client:\n1)\tshall set the Event header field to the 'poc-settings' value;\n2)\tshall include an Accept header field containing the \"application/poc-settings+xml\" MIME type;\n3)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295; and\nNOTE 2:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n4)\tif the MCVideo client wants to de-subscribe, shall set the Expires header field according to IETF RFC 6665 [16], to zero.\nUpon receiving a SIP NOTIFY request according to 3GPP TS 24.229 [11], IETF RFC 6665 [16] and IETF RFC 4354 [53], that contains an application/poc-settings+xml MIME body the MCVideo client shall cache:\n1)\tthe <am-settings> element of the poc-settings+xml MIME body for each MCVideo client identified by the \"id\" attribute according to IETF RFC 4354 [53] as the current Answer-mode indication of that MCVideo client; and\n2)\tthe <selected-user-profile-index> element of the poc-settings+xml MIME body for each MCVideo client identified by the \"id\" attribute according to IETF RFC 4354 [53] as the active MCVideo user profile of that MCVideo client.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.5\tReceiving a CSK key download message",
                            "text_content": "When the MCVideo client receives a SIP MESSAGE request containing:\n1)\ta P-Asserted-Service header field containing the \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\n2)\tan application/mikey MIME body;\nthen, if the key identifier within the CSB-ID of the MIKEY payload is a CSK-ID (4 most-significant bits have the value '2'), the MCVideo client:\n1)\tshall follow the security procedures in clause 9.2.1 of 3GPP TS 33.180 [8] to extract the CSK. The client:\na)\tif the initiator field (IDRi) has type 'URI' (identity hiding is not used), the client:\ni)\tshall extract the initiator URI from the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8]. If the initiator URI deviates from the public service identity of the participating MCVideo function serving the MCVideo user, shall reject the SIP MESSAGE request with a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and include warning text set to \"136 authentication of the MIKEY-SAKKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nii)\tshall convert the initiator URI to a UID as described in 3GPP TS 33.180 [8];\nb)\tif the initiator field (IDRi) has type 'UID' (identity hiding in use), the client:\ni)\tshall convert the public service identity of participating MCVideo function serving the MCVideo user to a UID as described in 3GPP TS 33.180 [8];\nii)\tshall compare the generated UID with the UID in the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8]. If the two initiator UIDs deviate from each other, shall reject the SIP MESSAGE request with a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and include warning text set to \"136 authentication of the MIKEY-SAKKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nc)\tshall use the UID to validate the signature of the I_MESSAGE as described in 3GPP TS 33.180 [8];\nd)\tif authentication verification of the I_MESSAGE fails, shall reject the SIP MESSAGE request with a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and include warning text set to \"136 authentication of the MIKEY-SAKKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\ne)\tshall extract and decrypt the encapsulated CSK using the participating MCVideo function's (KMS provisioned) UID key as described in 3GPP TS 33.180 [8]; and\nf)\tshall extract the CSK-ID, from the payload as specified in 3GPP TS 33.180 [8]; and\n2)\tupon successful extraction, the client shall replace the existing CSK and CSK-ID associated with the participating MCVideo function, with the extracted CSK and CSK-ID in the 'key download' message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.3\tMCVideo server procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.3.1\tGeneral",
                            "text_content": "The MCVideo server obtains information that it needs to implement service authorization specific requirements from:\na)\tany received third-party SIP REGISTER request (e.g. including information contained in the body of the third-party SIP REGISTER request) as specified in 3GPP TS 24.229 [11]. The body will carry the SIP REGISTER request as sent by the MCVideo client and may contain information needed for service authorization; or\nb)\tany received SIP PUBLISH request for MCVideo server settings containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters. The body of the SIP PUBLISH request will contain information needed for service authorization.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.1A\tConfidentiality and Integrity Protection",
                            "text_content": "When the MCVideo server receives a SIP REGISTER request sent from the MCVideo client contained within a message/sip MIME body of a received third-party SIP REGISTER request or a SIP PUBLISH request, it first determines whether XML MIME bodies included in the request are integrity protected. If XML MIME bodies are integrity protected the MCVideo server validates the signature of each of the XML MIME bodies. If the integrity protection check(s) pass or the XML MIME bodies are not integrity protected, the MCVideo server then determines whether the content in specific XML elements is confidentiality protected. If XML content is confidentiality protected, the MCVideo server decrypts the protected content.\nUpon receiving:\n-\ta SIP REGISTER request containing an application/vnd.3gpp.mcvideo-info+xml MIME body within a message/sip MIME body of the SIP REGISTER request sent from the MCVideo client; or\n-\ta SIP PUBLISH request containing an application/vnd.3gpp.mcvideo-info+xml MIME body and an application/poc-settings+xml MIME body;\nthe MCVideo server:\n1)\tshall determine if integrity protection has been applied to XML MIME bodies in the SIP request by following the procedures in clause 6.6.3.4.1 for each XML MIME body;\n2)\tif integrity protection has been applied, shall use the keying data described in clause 6.6.3.2 and the procedures described in clause 6.6.3.4.2 to verify the integrity of each of the XML MIME bodies; and\n3)\tif all integrity protection checks succeed, shall continue with the remaining steps of this clause.\nUpon receiving:\n-\ta SIP REGISTER request containing an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-access-token> element and an <mcvideo-client-id> element within a message/sip MIME body of the SIP REGISTER request sent from the MCVideo client; or\n-\ta SIP PUBLISH request containing an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-access-token> element and an <mcvideo-client-id> element, and an application/poc-settings+xml MIME body;\nthe MCVideo server:\n1)\tshall determine if confidentiality protection has been applied to the <mcvideo-access-token> element and the <mcvideo-client-id> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, by following the procedures in clause 6.6.2.4.1;\n2)\tif confidentiality protection has been applied to the <mcvideo-access-token> element and <mcvideo-client-id> element:\na)\tshall use the keying information received in the MIKEY-SAKKE I_MESSAGE as specified in 3GPP TS 33.180 [8], along with the procedures described in clause 6.6.2.4.2 to:\ni)\tdecrypt the received access token in the <mcvideo-access-token> element in the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tdecrypt the received MCVideo client ID in the <mcvideo-client-id> element in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tif the decryption procedure succeeds, shall identify the MCVideo ID and the MCVideo client ID from the decrypted values; and\nc)\tif the decryption procedure fails, shall determine that confidentiality protection has not been successful;\n3)\tif confidentiality protection has been applied to only one of the <mcvideo-access-token> element or the <mcvideo-client-id> element:\na)\tshall determine that confidentiality protection has not been successful;\n4)\tif confidentiality protection has not been applied:\na)\tshall identify the MCVideo ID from <mcvideo-access-token> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nb)\tshall identify the MCVideo client ID from the <mcvideo-client-id> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receiving a SIP PUBLISH request containing an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-request-uri> element, an <mcvideo-client-id> element, and an application/poc-settings+xml MIME body, the MCVideo server:\n1)\tshall determine if confidentiality protection has been applied to the <mcvideo-request-uri> element and the <mcvideo-client-id> element in the application/vnd.3gpp.mcvideo-info+xml MIME body by following the procedures in clause 6.6.2.4.1;\n2)\tif confidentiality protection has been applied to the <mcvideo-request-uri> element and the <mcvideo-client-id> element:\na)\tshall use the keying information described in clause 6.6.2.2 along with the procedures described in clause 6.6.2.4.2 to:\ni)\tdecrypt the received encrypted MCVideo ID in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tdecrypt the received encrypted MCVideo client ID in the <mcvideo-client-id> element in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tif all decryption procedures succeed, shall identify the MCVideo ID and MCVideo client ID from the decrypted values; and\nc)\tif the decryption procedure fails, shall determine that confidentiality protection has not been successful;\n3)\tif confidentiality protection has been applied to only one of the <mcvideo-request-uri> element or <mcvideo-client-id> element:\na)\tshall determine that confidentiality protection has not been successful;\n4)\tif confidentiality protection has not been applied:\na)\tshall identify the MCVideo ID from the contents of the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body;and\nb)\tshall identify the MCVideo client ID from the <mcvideo-client-id> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.2\tSIP REGISTER request for service authorisation",
                            "text_content": "The MCVideo server shall support obtaining service authorization specific information from the SIP REGISTER request sent from the MCVideo client and included in the body of a third-party SIP REGISTER request.\nNOTE 1:\t3GPP TS 24.229 [11] defines how based on initial filter criteria the SIP REGISTER request sent from the UE is included in the body of the third-party SIP REGISTER request.\nUpon receiving a third party SIP REGISTER request with a message/sip MIME body containing the SIP REGISTER request sent from the MCVideo client containing an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-access-token> element and an <mcvideo-client-id> element within a message/sip MIME body of the SIP REGISTER request sent from the MCVideo client, the MCVideo server:\n1)\tshall identify the IMS public user identity from the third-party SIP REGISTER request;\n2)\tshall identify the MCVideo ID from the SIP REGISTER request sent from the MCVideo client and included in the message/sip MIME body of the third-party SIP REGISTER request by following the procedures in clause 7.3.1A;\n2a)\tshall check if the number of maximum simultaneous authorizations supported for the MCVideo user is specified in the <user-max-simultaneous-authorizations> element of the <anyExt> element contained in the <OnNetwork> element of the MCVideo user profile (see the user profile configuration document in 3GPP TS 24.484 [25]) and if present shall check whether it has been reached. If the number of maximum simultaneous authorizations has been reached, the MCVideo server shall not continue with the rest of the steps in this clause;\n2b)\tif the <user-max-simultaneous-authorizations> element of the <anyExt> element is not present in the <OnNetwork> element of the MCVideo user profile (see the user profile configuration document in 3GPP TS 24.484 [25]), shall check if the number of maximum simultaneous authorizations supported for any MCVideo user as specified in the <max-simultaneous-authorizations> element of the <anyExt> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]) has been reached. If the number of maximum simultaneous authorizations has been reached, the MCVideo server shall not continue with the rest of the steps in this clause;\n3)\tshall perform service authorization for the identified MCVideo ID as described in 3GPP TS 33.180 [8];\n4)\tif service authorization was successful, shall bind the MCVideo ID and the MCVideo client ID to the IMS public user identity;\n4a)\tif service authorization was successful and if, the service authorization request was from an MCVideo user who is previously MCVideo service authorized on another MCVideo client, keep the current bindings and create a new binding between the MCVideo ID, the MCvideo client ID and the IMS public user identity;\nNOTE 2:\tThe MCVideo server will store the binding of the MCVideo ID, the MCVideo client ID and the IMS public user identity and an identifier addressing the MCVideo server in an external database.\n5)\tif a Resource-Share header field with the value \"supported\" is contained in the \"message/sip\" MIME body of the third-party REGISTER request, shall bind the MCVideo ID and the MCVideo client ID to the identity of the MCVideo UE contained in the \"+g.3gpp.registration-token\" header field parameter in the Contact header field of the incoming third-party REGISTER request; and\n6)\tif more than one binding exists for the MCVideo ID, shall include in the SIP 200 (OK) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in annex F.1 with an <multiple-devices-ind> element set to a value of \"true\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.3\tSIP PUBLISH request for service authorisation and service settings",
                            "text_content": "The MCVideo server shall support obtaining service authorization specific information from a SIP PUBLISH request for MCVideo server settings.\nUpon receiving a SIP PUBLISH request containing:\n1)\tan Event header field set to the \"poc-settings\" value;\n2)\tan application/poc-settings+xml MIME body; and\n3)\tan application/vnd.3gpp.mcvideo-info+xml MIME body containing an <mcvideo-access-token> element and an <mcvideo-client-id> element;\nthe MCVideo server:\n1)\tshall identify the IMS public user identity from the P-Asserted-Identity header field;\n2)\tshall perform the procedures in clause 7.3.1A;\n3)\tif the procedures in clause 7.3.1A were not successful shall send a SIP 403 (Forbidden) response towards the MCVideo client with the warning text set to: \"140 unable to decrypt XML content \" in a Warning header field as specified in clause 4.4, and not continue with the rest of the steps in this clause;\n3a)\tshall check if the number of maximum simultaneous authorizations supported for the MCVideo user is specified in the <user-max-simultaneous-authorizations> element of the <anyExt> element contained in the <OnNetwork> element of the MCVideo user profile (see the user profile configuration document in 3GPP TS 24.484 [25]) if present shall check whether it has been reached. If reached, the MCVideo server shall send a SIP 486 (Busy Here) response towards the MCVideo client with the warning text set to: \"166 maximum number of service authorizations reached\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps in this clause;\n3b)\tif the <user-max-simultaneous-authorizations> element of the <anyExt> element is not present in the <OnNetwork> element of the MCVideo user profile (see the user profile configuration document in 3GPP TS 24.484 [25]), shall check if the number of maximum simultaneous authorizations supported for  any MCVideo user as specified in the <max-simultaneous-authorizations> element of the <anyExt> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]) has been reached. If reached, the MCVideo server shall send a SIP 486 (Busy Here) response towards the MCVideo client with the warning text set to: \"166 maximum number of service authorizations reached\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps in this clause;\n4)\tshall perform service authorization for the identified MCVideo ID as described in 3GPP TS 33.180 [8];\n5)\tif service authorization was successful:\na)\tshall bind the MCVideo ID and the MCVideo Client ID to the IMS public user identity;\nb)\tif the service authorization request was from an MCVideo user who is previously MCVideo service authorized on another MCVideo client (as determined by a comparison of the received MCVideo client ID with the MCVideo client ID of existing bindings), keep the current bindings and create a new binding between the MCVideo ID, the MCVideo client ID and the IMS public user identity; and\nc)\tif a Resource-Share header field with the value \"supported\" was included in the \"message/sip\" MIME body of the third-party REGISTER request, shall bind the MCVideo ID and the MCVideo client ID to the identity of the MCVideo UE identified by the \"+g.3gpp.registration-token\" header field parameter in the Contact header field of the third-party REGISTER request that contained this IMS public user identity;\nNOTE 1:\tThe MCVideo server will store the binding of the MCVideo ID, the MCVideo client ID and the IMS public user identity and an identifier addressing the MCVideo server in an external database.\n6)\tif service authorization was not successful, shall send a SIP 403 (Forbidden) response towards the MCVideo client with the warning text set to: \"101 service authorisation failed\" in a Warning header field as specified in clause 4.4, and not continue with the rest of the steps in this clause;\n7)\tshall process the SIP PUBLISH request according to rules and procedures of IETF RFC 3903 [12] and if processing of the SIP request was not successful, do not continue with the rest of the steps;\n8)\tshall cache the received MCVideo service settings until the MCVideo service settings expiration timer expires;\n9)\tshall send a SIP 200 (OK) response according to 3GPP TS 24.229 [11] with:\na)\tif more than one binding exists for the MCVideo ID, an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in annex F.1 with an <multiple-devices-ind> element set to the value \"true\";\n10)\tshall use the Answer-Mode Indication setting in the <am-settings> element of the poc-settings event package as the current Answer-Mode Indication of the MCVideo client.\n10a)\tIf the <multiplex-support> element is present and set to true the MCVideo server shall use this as an indication that the MCVideo client supports multiplexing of media plane control channels and media streams. Absence of the <multiplex-support> element or if the <multiplex-support element is set to false shall be used as an indication that the MCVideo client does not support multiplexing of media plane control channels and media streams.\nNOTE 2:\tThe MCVideo server uses the information about support of multiplexing received from the served MCVideo clients to determine when and where to use multiplexing of media plane control channels and/or media streams.\n11)\tshall download the MCVideo user profile from the MCVideo user database as defined in 3GPP TS 29.283 [54] if not already stored at the MCVideo server and use the <selected-user-profile-index> element of the poc-settings event package if included to identify the active MCVideo user profile for the MCVideo client;\nNOTE 3:\tIf the <selected-user-profile-index> element of the poc-settings event package is included then only that MCVideo user profile is needed to be downloaded from the MCVideo user database.\n12)\tif there is no <selected-user-profile-index> element included in the poc-settings event package then if multiple MCVideo user profiles are stored at the MCVideo server or downloaded for the MCVideo user from the MCVideo user database, shall determine the pre-selected MCVideo user profile to be used as the active MCVideo user profile by identifying the MCVideo user profile (see the MCVideo user profile document in 3GPP TS 24.484 [25]) in the collection of MCVideo user profiles that contains a <Pre-selected-indication> element; and\nNOTE 4:\tIf only one MCVideo user profile is stored at the MCVideo server or only one MCVideo user profile is downloaded from the MCVideo user database, then by default this MCVideo user profile is the pre-selected MCVideo user profile.\n13)\tif an <ImplicitAffiliations> element is contained in the <OnNetwork> element of the MCVideo user profile document with one or more <entry> elements containing an MCVideo group ID (see the MCVideo user profile document in 3GPP TS 24.484 [25]) for the served MCVideo ID, shall perform implicit affiliation as specified in clause 8.2.2.2.15.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.4\tReceiving SIP PUBLISH request for MCVideo service settings only",
                            "text_content": "Upon receiving a SIP PUBLISH request containing:\n1)\tan Event header field set to the \"poc-settings\" value;\n2)\tan application/poc-settings+xml MIME body; and\n3)\tan application/vnd.3gpp.mcvideo-info+xml MIME body containing an <mcvideo-request-uri> element and an <mcvideo-client-id> element;\nThe MCVideo server:\n1)\tshall identify the IMS public user identity from the P-Asserted-Identity header field;\n2)\tshall perform the procedures in clause 7.3.1A;\n3)\tif the procedures in clause 7.3.1A were not successful, shall send a SIP 403 (Forbidden) response towards the MCVideo client with the warning text set to: \"140 unable to decrypt XML content\" in a Warning header field as specified in clause 4.4, and not continue with the rest of the steps in this clause;\n4)\tshall verify that a binding between the IMS public user identity in the Request-URI and the MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml exists at the MCVideo server;\n5)\tif a binding exists between the IMS public user identity and the MCVideo ID in the request and the validity period of the binding has not expired shall download the MCVideo user profile from the MCVideo user database as defined in 3GPP TS 29.283 [54] if not already stored at the MCVideo server;\n6)\tif a binding does not exist between the IMS public user identity and the MCVideo ID in the request or the binding exists, but the validity period of the binding has expired, shall reject the SIP PUBLISH request with a SIP 404 (Not Found) response and not continue with any of the remaining steps;\n7)\tshall process the SIP PUBLISH request according to rules and procedures of IETF RFC 3903 [12] and if processing of the SIP request was not successful, do not continue with the rest of the steps;\n8)\tshall cache the received MCVideo service settings until the MCVideo service settings expiration timer expires;\n9)\tshall send a SIP 200 (OK) response according 3GPP TS 24.229 [11];\n10)\tshall use the Answer-Mode Indication setting in the <am-settings> element of the poc-settings event package as the current Answer-Mode Indication of the MCVideo client.\n10a)\tIf the <multiplex-support> element is present and set to true the MCVideo server shall use this as an indication that the MCVideo client supports multiplexing of media plane control channels and media streams. Absence of the <multiplex-support> element or if the <multiplex-support element is set to false shall be used as an indication that the MCVideo client does not support multiplexing of media plane control channels and media streams.\nNOTE 1:\tThe MCVideo server uses the information about support of multiplexing received from the served MCVideo clients to determine when and where to use multiplexing of media plane control channels and/or media streams.\n11)\tshall download the MCVideo user profile from the MCVideo user database as defined in 3GPP TS 29.283 [54] if not already stored at the MCVideo server and use the <selected-user-profile-index> element of the poc-settings event package if included to identify the active MCVideo user profile for the MCVideo client;\nNOTE 2:\tIf the <selected-user-profile-index> element of the poc-settings event package is included then only that MCVideo user profile is needed to be downloaded from the MCVideo user database.\n12)\tif there is no <selected-user-profile-index> element included in the poc-settings event package then if multiple MCVideo user profiles are stored at the MCVideo server or downloaded for the MCVideo user from the MCVideo user database, shall determine the pre-selected MCVideo user profile to be used as the active MCVideo user profile by identifying the MCVideo user profile (see the MCVideo user profile document in 3GPP TS 24.484 [25]) in the collection of MCVideo user profiles that contains a <Pre-selected-indication> element; and\nNOTE 3:\tIf only one MCVideo user profile is stored at the MCVideo server or only one MCVideo user profile is downloaded from the MCVideo user database, then by default this MCVideo user profile is the pre-selected MCVideo user profile.\n13)\tif an <ImplicitAffiliations> element is contained in the <OnNetwork> element of the MCVideo user profile document with one or more <entry> elements containing an MCVideo group ID (see the MCVideo user profile document in 3GPP TS 24.484 [25]) for the served MCVideo ID, shall perform implicit affiliation as specified in clause 8.2.2.2.15.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.5\tReceiving SIP PUBLISH request with \"Expires=0\"",
                            "text_content": "Upon receiving a SIP PUBLISH request containing:\n1)\tan Event header field set to the \"poc-settings\" value; and\n2)\tan Expires header field set to 0;\nthe MCVideo server:\n1)\tshall identify the IMS public user identity from the P-Asserted-Identity header field;\n2)\tshall process the SIP PUBLISH request according to rules and procedures of IETF RFC 3903 [12] and if processing of the SIP request was successful, continue with the rest of the steps;\n3)\tshall remove the MCVideo service settings;\nNOTE:\tRemoval of MCVideo service settings includes removal of all group affiliations.\n4)\tshall remove the binding between the MCVideo ID and public user identity; and\n5)\tshall send a SIP 200 (OK) response according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.6\tSubscription to and notification of MCVideo service settings",
                            "text_content": "Upon receiving a SIP SUBSCRIBE request such that:\n1)\tRequest-URI of the SIP SUBSCRIBE request contains the public service identity identifying the participating MCVideo function of the served MCVideo user;\n2)\tthe SIP SUBSCRIBE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the<mcvideo-request-uri> element which identifies an MCVideo ID served by the MCVideo server;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14]; and\n3)\tthe Event header field of the SIP SUBSCRIBE request contains the 'poc-settings' event type.\nthe MCVideo server:\n1)\tshall identify the served MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n2)\tif the Request-URI of the SIP SUBSCRIBE request contains the public service identity identifying the participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID from public user identity in the P-Asserted-Identity header field of the SIP SUBSCRIBE request;\n3)\tif the originating MCVideo ID is different than the served MCVideo ID, shall send a 403 (Forbidden) response and shall not continue with the rest of the steps; and\n4)\tshall generate a 200 (OK) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 6665 [16] and IETF RFC 4354 [53].\nFor the duration of the subscription, the MCVideo server shall notify subscriber about changes of the MCVideo service settings of the subscribed MCVideo user, as described in clause 7.3.6.2.\nIn order to notify the subscriber about changes of the MCVideo service settings of the subscribed MCVideo client of the subscribed MCVideo user, the MCVideo server:\n1)\tshall generate an application/poc-settings+xml MIME body as defined in 3GPP TS 24.379 [40] containing:\na)\tthe <am-settings> element of the poc-settings event package set to the current answer mode setting of the MCVideo client according to IETF RFC 4354 [53]; and\nb)\tthe <selected-user-profile-index> element as defined in clause 7.4.1.2 identifying the active MCVideo user profile; and\n2)\tsend a SIP NOTIFY request according to 3GPP TS 24.229 [11], IETF RFC 6665 [16] and IETF RFC 4354 [53] with the constructed application/poc-settings+xml MIME body.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.7\tSending a CSK key download message",
                            "text_content": "If confidentiality protection is enabled as specified in clause 6.6.2.3.1, and if the participating MCVideo function received a Client Server Key (CSK) within a SIP REGISTER request for service authorisation or SIP PUBLISH request for service authorisation, the participating MCVideo function may decide to update the CSK. In this case, the participating MCVideo function shall perform a key download procedure for the CSK. The participating MCVideo function:\n1)\tshall generate an SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n2)\tshall set the Request-URI to the URI received in the To header field in a third-party SIP REGISTER request;\n3)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n4)\tshall include a P-Asserted-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n5)\tshall include an application/mikey MIME body containing the CSK-ID and the CSK encrypted within a MIKEY message to the MC client as specified in clause 9.2.1 of 3GPP TS 33.180 [8] in the body of the SIP MESSAGE request;\n6)\tshall send the SIP MESSAGE request towards the MCVideo client according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.4\tCoding",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.4.1\tExtension of MIME types",
                            "text_content": "The parent clause of this clause defines extensions of MIME type defined in other documents.\nThe parent clause of this clause describes extension of the application/poc-settings+xml MIME body specified in IETF RFC 4354 [53]. The extension is used to indicate the selected MCS user profile at an MC client.\nThe application/poc-settings+xml MIME body indicating the selected MCS user profile at an MC client is constructed according to IETF RFC 4354 [53] and:\n1)\tcontains a <poc-settings> root element according to IETF RFC 4354 [53];\n2)\tcontains one or more <entity> child element according to IETF RFC 4354 [53] of the <poc-settings> element;\n3)\tcontains one <selected-user-profile-index> child element defined in the XML schema defined in table 7.4.1.2.2-2, of the <entity> element; and\nNOTE:\tThe <selected-user-profile-index> element is validated by the <xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/> particle of the <entity> element.\n4)\tcontains zero or one <multiplex-support> child element defined in the XML schema defined in table 7.4.1.2.2-2, of the <entity> element.\nThe application/poc-settings+xml MIME body refers to namespaces using prefixes specified in table 7.4.1.2.2-1.\nTable 7.4.1.2.2-1: Assignment of prefixes to namespace names in the application/poc-settings+xml MIME body\n\nTable 7.4.1.2.2-2: XML schema with elements and attributes extending the application/poc-settings+xml MIME body\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema\ntargetNamespace=\"urn:3gpp:mcsSettings:1.0\"\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\nxmlns:mcs10Set=\"urn:3gpp:mcsSettings:1.0\"\nelementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\n\n<!-- MCS specific \"entity\" child elements -->\n<xs:element name=\"selected-user-profile-index\" type=\"mcs10Set:selected-user-profile-indexType\"/>\n<xs:element name=\"multiplex-support\" type=\"xs:boolean\" minOccurs=\"0\" maxOccurs=\"1\"/>\n\n<xs:complexType name=\"selected-user-profile-indexType\">\n<xs:sequence>\n<xs:element name=\"user-profile-index\" type=\"xs:nonNegativeInteger\"/>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n</xs:schema>\n\nAn example application/poc-settings+xml MIME body showing the MC service settings for two MC clients as might be included in the body of a SIP NOTIFY request is shown in table 7.4.1.2.2-3.\nTable 7.4.1.2.2-3: Example application/poc-settings+xml MIME body showing the MC service settings for two MC clients as might be included in the body of a SIP NOTIFY request\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<poc-settings xmlns=\"urn:oma:params:xml:ns:poc:poc-settings\">\n<entity id=\"urn:uuuid:do39s8zksn2d98x\">\n<am-settings>\n<answer-mode>automatic</answer-mode>\n</am-settings>\n<selected-user-profile-index>\n<user-profile-index>1</user-profile-index>\n</selected-user-profile-index>\n<multiplex-support>true</multiplex-support>\n</entity>\n<entity id=\"urn:uuuid:ksn2d98xdo39s8z\">\n<am-settings>\n<answer-mode>manual</answer-mode>\n</am-settings>\n<selected-user-profile-index>\n<user-profile-index>2</user-profile-index>\n</selected-user-profile-index>\n<multiplex-support>true</multiplex-support>\n</entity>\n</poc-settings>\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.4.1.2.2-1: Assignment of prefixes to namespace names in the application/poc-settings+xml MIME body",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "7A\tMigration service authorization",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "7A.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the migration service authorization procedure for the MCVideo client. The MCVideo client uses SIP REGISTER to perform authorization for migration.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "7A.2\tMCVideo client procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7A.2.1\tSIP REGISTER request for migration service authorization",
                            "text_content": "When the MCVideo client performs SIP registration for migration service authorization, the MCVideo client shall perform the registration procedures as specified in 3GPP TS 24.229 [11].\nThe MCVideo client shall include the following media feature tags in the Contact header field of the SIP REGISTER request:\n1)\tthe g.3gpp.mcvideo media feature tag; and\n2)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\".\nIf the MCVideo client, upon performing SIP registration:\n1)\thas successfully finished the user authentication procedure with the partner IdM server as described in 3GPP TS 24.482 [52];\n2)\thas available an access token from the partner IdM server;\n4)\tconfidentiality protection is disabled as specified in clause 6.6.2.3.1; and\n5)\tintegrity protection is disabled as specified in clause 6.6.3.3.1;\nthen the MCVideo client shall include in the SIP REGISTER request an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in annex F.1 with:\n1)\tthe <mcvideo-access-token> element set to the value of the access token received from the partner IdM server;\nNOTE:\tThe access token contains the MCVideo ID of the user in the partner MCVideo system.\n2)\tthe <mcvideo-request-uri> element set to the value of the MCVideo ID of the user in the primary MCVideo system; and\n3)\tthe <selected-user-profile-index> element as defined in clause 7.4.1.2.2 set to the value contained in the \"user-profile-index\" attribute of the MCVideo user profile selected according to clause 4.2.2.1.2.3 of 3GPP TS 24.484 [50].\nIf the MCVideo client, upon performing SIP registration:\n1)\thas successfully finished the user authentication procedure as described in 3GPP TS 24.482 [52];\n2)\thas an available access token; and\n3)\teither confidentiality protection is enabled as specified in clause 6.6.2.3.1 or integrity protection is enabled as specified in clause 6.6.3.3.1;\nthen the MCVideo client:\n1)\tshall include an application/mikey MIME body with the CSK as MIKEY-SAKKE I_MESSAGE as specified in 3GPP TS 33.180 [8] in the body of the SIP REGISTER request;\n2)\tif confidentiality protection is enabled as specified in clause 6.6.2.3.1, shall include in the body of the SIP REGISTER request, an application/vnd.3gpp.mcvideo-info+xml MIME body with the following clarifications:\na)\tshall encrypt the received access-token using the client server key (CSK) and include the <mcvideo-access-token> element set to the encrypted access-token, as specified in clause 6.6.2.3.3;\nb)\tshall encrypt the MCVideo ID of the user in the primary MCVideo system and include the <mcvideo-request-uri> element set to the encrypted MCVideo ID; and\nc)\tshall encrypt the value contained in the \"user-profile-index\" attribute of the MCVideo user profile selected according to clause 4.2.2.1.2.3 of 3GPP TS 24.484 [50] and include the <selected-user-profile-index> element set to the encrypted value;\n3)\tif confidentiality protection is disabled as specified in clause 6.6.2.3.1, shall include an application/vnd.3gpp.mcvideo-info+xml MIME body as defined in Annex F.1 with:\na)\tthe <mcvideo-access-token> element set to the access token received from the partner IdM server;\nb)\tthe <mcvideo-request-uri> element set to the MCVideo ID of the user in the primary MCVideo system; and\nc)\tthe <selected-user-profile-index> element set to the value contained in the \"user-profile-index\" attribute of the MCVideo user profile selected according to clause 4.2.2.1.2.3 of 3GPP TS 24.484 [50]; and\n4)\tif integrity protection is enabled as specified in clause 6.6.3.3.1, shall use the CSK to integrity protect the application/vnd.3gpp.mcvideo-info+xml MIME body by following the procedures in clause 6.6.3.3.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7A.2.2\tReceiving a CSK key download message",
                            "text_content": "The MCVideo client server shall operate as specified in clause 7.2.5.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7A.3\tPartner MCVideo server procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7A.3.1\tGeneral",
                            "text_content": "In order to perform initial authorization to verify whether the MCVideo user is permitted to migrate to the partner MCVideo system, the partner MCVideo server obtains information from any received third-party SIP REGISTER request (e.g., including information contained in the body of the third-party SIP REGISTER request) as specified in 3GPP TS 24.229 [11]. The body will carry the SIP REGISTER request as sent by the MCVideo client and may contain information needed for initial authorization.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7A.3.2\tConfidentiality and integrity protection",
                            "text_content": "When the partner MCVideo server receives a SIP REGISTER request sent from the MCVideo client contained within a message/sip MIME body of a received third-party SIP REGISTER request, it first determines whether XML MIME bodies included in the request are integrity protected. If XML MIME bodies are integrity protected the MCVideo server validates the signature of each of the XML MIME bodies. If the integrity protection check(s) pass or the XML MIME bodies are not integrity protected, the partner MCVideo server then determines whether the content in specific XML elements is confidentiality protected. If XML content is confidentiality protected, the partner MCVideo server decrypts the protected content.\nUpon receiving a SIP REGISTER request containing an application/vnd.3gpp.mcvideo-info+xml MIME body within a message/sip MIME body of the SIP REGISTER request sent from the MCVideo client, the MCVideo server:\n1)\tshall determine if integrity protection has been applied to XML MIME bodies in the SIP request by following the procedures in clause 6.6.3.4.1 for each XML MIME body;\n2)\tif integrity protection has been applied, shall use the keying data described in clause 6.6.3.2 and the procedures described in clause 6.6.3.4.2 to verify the integrity of each of the XML MIME bodies; and\n3)\tif all integrity protection checks succeed, shall continue with the remaining steps of this clause.\nUpon receiving a SIP REGISTER request containing an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-access-token> element, an <mcvideo-request-uri> element, and a <selected-user-profile-index> element  within a message/sip MIME body of the SIP REGISTER request sent from the MCVideo client, the MCVideo server:\n1)\tshall determine if confidentiality protection has been applied to the <mcvideo-access-token> element, the <mcvideo-request-uri> element, and the <selected-user-profile-index> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, by following the procedures in clause 6.6.2.4.1;\n2)\tif confidentiality protection has been applied to the <mcvideo-access-token> element, the <mcvideo-request-uri> element, and the <selected-user-profile-index> element:\na)\tshall use the keying information received in the MIKEY-SAKKE I_MESSAGE as specified in 3GPP TS 33.180 [8], along with the procedures described in clause 6.6.2.4.2 to:\ni)\tdecrypt the received access token in the <mcvideo-access-token> element in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nii)\tdecrypt the received MCVideo ID of the user in the primary MCVideo system in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body; and\niii)\tdecrypt the received selected user profile index in the <selected-user-profile-index> element in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tif the decryption procedure succeeds, shall identify:\ni)\tthe MCVideo ID of the user in the partner MCVideo system from the decrypted access token;\nii)\tthe MCVideo ID of the user in the primary MCVideo system from the decrypted MCVideo ID of the user in the primary MCVideo system; and\niii)\tthe selected user profile index from the decrypted selected user profile index; and\nc)\tif the decryption procedure fails, shall determine that confidentiality protection has not been successful;\n3)\tif confidentiality protection has been applied to only one or two of the <mcvideo-access-token> element, the <mcvideo-request-uri> element, and the <selected-user-profile-index> element:\na)\tshall determine that confidentiality protection has not been successful; and\n4)\tif confidentiality protection has not been applied:\na)\tshall identify the MCVideo ID of the user in the partner MCVideo system from <mcvideo-access-token> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tshall identify the MCVideo ID of the user in the primary MCVideo system from the <mcvideo-request-uri> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nc)\tshall identify the selected user profile index from the <selected-user-profile-index> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7A.3.3\tSIP REGISTER request for initial authorization",
                            "text_content": "The partner MCVideo server shall support obtaining migration service authorization specific information from the SIP REGISTER request sent from the MCVideo client and included in the body of a third-party SIP REGISTER request.\nNOTE 1:\t3GPP TS 24.229 [11] defines how based on initial filter criteria the SIP REGISTER request sent from the UE is included in the body of the third-party SIP REGISTER request.\nUpon receiving a third party SIP REGISTER request with a message/sip MIME body containing the SIP REGISTER request sent from the MCVideo client containing an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-access-token> element, an <mcvideo-request-uri> element, and a <selected-user-profile-index> within a message/sip MIME body of the SIP REGISTER request sent from the MCVideo client, the MCVideo server:\n1)\tshall perform initial authorization to verify whether the MCVideo user is permitted to migrate to the partner MCVideo system; and\nNOTE 2:\tThe criteria for the initial authorization is outside the scope of the present document.\n2)\tif the initial authorization was successful:\na)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nb)\tshall set the Request-URI to the public service identity identifying the participating MCVideo function serving the MCVideo user in the primary MCVideo system;\nc)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-Params> element containing:\ni)\tthe <mcvideo-request-uri> element set to the MCVideo ID of the user in the primary MCVideo system identified in clause 7A.3.2;\nii)\tthe <partner-mcvideo-id> element set to the MCVideo ID of the user in the partner MCVideo system identified in clause 7A.3.2; and\niii)\tthe <selected-user-profile-index> element set to the selected user profile index identified in clause 7A.3.2; and\nd)\tshall send the SIP MESSAGE request towards the partner MCVideo gateway according to the rules and procedures of 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7A.3.4\tSending a CSK key download message",
                            "text_content": "The partner MCVideo server shall operate as specified in clause 7.3.7.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7A.4\tPartner MCVideo gateway server procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7A.4.1\tSIP MESSAGE from the partner MCVideo server",
                            "text_content": "The partner MCVideo gateway server shall operate as specified in clause 6.9.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7A.5\tPrimary MCVideo gateway server procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7A.5.1\tSIP MESSAGE from the partner MCVideo gateway",
                            "text_content": "The primary MCVideo gateway server shall operate as specified in clause 6.9.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "8\tAffiliation",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "8.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "Clause 8.2 contains the procedures for explicit affiliation at the MCVideo client, the MCVideo server serving the MCVideo user and the MCVideo server owning the MCVideo group.\nClause 8.2 contains the procedures for implicit affiliation at the MCVideo server serving the MCVideo user and the MCVideo server owning the MCVideo group.\nClause 8.3 describes the coding used for explicit affiliation.\nThe procedures for implicit affiliation in this clause are triggered at the MCVideo server serving the MCVideo user in the following circumstances:\n-\ton receipt of a SIP INVITE request or a SIP REFER request from an MCVideo client to join an MCVideo chat group, where the MCVideo client is not already affiliated to the MCVideo group;\n-\ton receipt of a SIP INVITE request or a SIP REFER request from an MCVideo client when attempting to initiate an MCVideo emergency group call or MCVideo imminent peril group call and the MCVideo client is not already affiliated to the MCVideo group;\n-\ton receipt of a SIP MESSAGE request from an MCVideo client when initiating an MCVideo emergency alert targeted to an MCVideo group and the MCVideo client is not already affiliated to the MCVideo group; and\n-\ton receipt of a SIP REGISTER request for service authorisation (as described in clause 7.3.2) or SIP PUBLISH request for service authorisation and service settings (as described in clause 7.3.2), as determined by configuration in the MCVideo user profile document as specified in 3GPP TS 24.484 [25].\nThe procedures for implicit affiliation in this clause are triggered at the MCVideo server owning the MCVideo group in the following circumstances:\n-\ton receipt of a SIP INVITE request from the MCVideo server serving the MCVideo user where an MCVideo user wants to join an MCVideo chat group and the MCVideo client is not already affiliated to the MCVideo group;\n-\ton receipt of a SIP INVITE request from the MCVideo server serving the MCVideo user where an MCVideo user initiates an MCVideo emergency group call or MCVideo imminent peril group call and the MCVideo client is not already affiliated to the MCVideo group; and\n-\ton receipt of a SIP MESSAGE request from the MCVideo server serving the MCVideo user when the MCVideo user initiates an MCVideo emergency alert targeted to an MCVideo group and the MCVideo client is not already affiliated to the MCVideo group.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "8.2\tProcedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "8.2.1\tMCVideo client procedures",
                            "text_content": "The MCVideo client procedures consist of:\n-\tan affiliation status change procedure;\n-\tan affiliation status determination procedure;\n-\ta procedure for sending affiliation status change request in negotiated mode to target MCVideo user;\n-\ta procedure for receiving affiliation status change request in negotiated mode from authorized MCVideo user; and\n-\ta rules based affiliation status change procedure.\nIn order to obtain information about success or rejection of changes triggered by the affiliation status change procedure for an MCVideo user, the MCVideo client needs to initiate the affiliation status determination procedure for the MCVideo user before starting the affiliation status change procedure for the MCVideo user.\nIn order:\n-\tto indicate that an MCVideo user is interested in one or more MCVideo group(s) at an MCVideo client;\n-\tto indicate that the MCVideo user is no longer interested in one or more MCVideo group(s) at the MCVideo client;\n-\tto refresh indication of an MCVideo user interest in one or more MCVideo group(s) at an MCVideo client due to near expiration of the expiration time of an MCVideo group with the affiliation status set to the \"affiliated\" state received in a SIP NOTIFY request in clause 8.2.1.3;\n-\tto send an affiliation status change request in mandatory mode to another MCVideo user;\n-\tto indicate that an MCVideo user is interested in one or more MCVideo group(s) at an MCVideo client triggered by functional alias activation criteria;\n-\tto indicate that the MCVideo user is no longer interested in one or more MCVideo group(s) at the MCVideo client client triggered functional alias deactivation criteria; or\n-\tany combination of the above;\nthe MCVideo client shall generate a SIP PUBLISH request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12], and IETF RFC 3856 [13].\nWhen the MCVideo user indicates that he is no longer interested in one or more MCVideo group(s) at the MCVideo client, the MCVideo client shall first check value of the <manual-deaffiliation-not-allowed-if-affiliation-rules-are-met> element if present within the MCVideo user profile document (see the MCVideo user profile document specified in 3GPP TS 24.484 [25]). If the affiliation to the group has been activated due to a rule being fulfilled and the <manual-deaffiliation-not-allowed-if-affiliation-rules-are-met> element is present and is set to a value of \"true\", the MCVideo client shall suppress the MCVideo user's request.\nNOTE 1:\tIf the request is suppressed, a notification message can be displayed to the user\nIn the SIP PUBLISH request, the MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall include the <mcvideo-request-uri> element set to the MCVideo ID of the MCVideo user;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n4)\tif the targeted MCVideo user is interested in at least one MCVideo group at the targeted MCVideo client, shall set the Expires header field according to IETF RFC 3903 [12], to 4294967295;\nNOTE 2:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif the targeted MCVideo user is no longer interested in any MCVideo group at the targeted MCVideo client, shall set the Expires header field according to IETF RFC 3903 [12], to zero; and\n6)\tshall include an application/pidf+xml MIME body indicating per-user affiliation information according to clause 8.3.1. In the MIME body, the MCVideo client:\na)\tshall include all MCVideo groups where the targeted MCVideo user indicates its interest at the targeted MCVideo client;\nb)\tshall include the MCVideo client ID of the targeted MCVideo client;\nc)\tshall not include the \"status\" attribute and the \"expires\" attribute in the <affiliation> element; and\nd)\tshall set the <p-id> child element of the <presence> root element to a globally unique value.\nThe MCVideo client shall send the SIP PUBLISH request according to 3GPP TS 24.229 [11].\nNOTE 1:\tThe MCVideo UE also uses this procedure to determine which MCVideo groups the MCVideo user successfully affiliated to.\nIn order to discover MCVideo groups:\n1)\twhich the MCVideo user at an MCVideo client is affiliated to; or\n2)\twhich another MCVideo user is affiliated to;\nthe MCVideo client shall generate an initial SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16].\nIn the SIP SUBSCRIBE request, the MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall include the <mcvideo-request-uri> element set to the MCVideo ID of the targeted MCVideo user;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n4)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 2:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif the MCVideo client wants to fetch the current state only, shall set the Expires header field according to IETF RFC 6665 [16], to zero; and\n6)\tshall include an Accept header field containing the application/pidf+xml MIME type; and\n7)\tif requesting MCVideo groups where the MCVideo user is affiliated to at the MCVideo client, shall include an application/simple-filter+xml MIME body indicating per client restrictions of presence event package notification information according to clause 8.3.2.\nIn order to re-subscribe or de-subscribe, the MCVideo client shall generate an in-dialog SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16]. In the SIP SUBSCRIBE request, the MCVideo client:\n1)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 3:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n2)\tif the MCVideo client wants to de-subscribe, shall set the Expires header field according to IETF RFC 6665 [16], to zero; and\n3)\tshall include an Accept header field containing the application/pidf+xml MIME type.\nUpon receiving a SIP NOTIFY request according to 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16], if SIP NOTIFY request contains an application/pidf+xml MIME body indicating per-user affiliation information constructed according to clause 8.3.1, then the MCVideo client shall determine affiliation status of the MCVideo user for each MCVideo group at the MCVideo client(s) in the MIME body. If the <p-id> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP NOTIFY request is included, the <p-id> element value indicates the SIP PUBLISH request which triggered sending of the SIP NOTIFY request.\nNOTE:\tProcedure for sending affiliation status change request in negotiated mode to several target MCVideo users is not supported in this version of the specification.\nUpon receiving a request from the MCVideo user to send an affiliation status change request in negotiated mode to a target MCVideo user, the MCVideo client shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]. In the SIP MESSAGE request, the MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall include the <mcvideo-request-uri> element set to the MCVideo ID of the target MCVideo user;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP MESSAGE request;\n4)\tshall include an application/vnd.3gpp.mcvideo-affiliation-command+xml MIME body as specified in Annex F.4; and\n5)\tshall send the SIP MESSAGE request according to rules and procedures of 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP MESSAGE request, the MCVideo client shall indicate to the user that the request has been delivered to an MCVideo client of the target MCVideo user.\nUpon receiving a SIP MESSAGE request containing:\n1)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14]; and\n2)\tan application/vnd.3gpp.mcvideo-affiliation-command+xml MIME body with a list of MCVideo groups for affiliation under the <affiliate> element and a list of MCVideo groups for de-affiliation under the <de-affiliate> element;\nthen the MCVideo client:\n1)\tshall send a 200 (OK) response to the SIP MESSAGE request;\n2)\tshall seek confirmation of the list of MCVideo groups for affiliation and the list of MCVideo groups for de-affiliation, resulting in an accepted list of MCVideo groups for affiliation and an accepted list of MCVideo groups for de-affiliation; and\n3)\tif the user accepts the request:\na)\tshall perform affiliation for each entry in the accepted list of MCVideo groups for affiliation for which the MCVideo client is not affiliated, as specified in clause 8.2.1.2; and\nb)\tshall perform de-affiliation for each entry in the accepted list of MCVideo groups for de-affiliation for which the MCVideo client is affiliated, as specified in clause 8.2.1.2.\nIn order to subscribe to changes in per-group dynamic data, the MCVideo client shall generate an initial SIP SUBSCRIBE request specified in 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16].\nIn the SIP SUBSCRIBE request, the MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall include the <mcvideo-request-uri> element set to the MCVideo group ID of the targeted MCVideo group;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field specified in IETF RFC 6050 [14];\n4)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field specified in IETF RFC 6665 [16], to 4294967295;\nNOTE 1:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif the MCVideo client wants to fetch the current state only, shall set the Expires header field specified in IETF RFC 6665 [16], to zero;\n6)\tshall include an Accept header field containing the application/pidf+xml MIME type; and\n7)\tshall include an application/simple-filter+xml MIME body indicating per-group restrictions of presence event package notification information specified in clause 8.3.2, indicating the MCVideo group ID.\nIn order to re-subscribe or de-subscribe, the MCVideo client shall generate an in-dialog SIP SUBSCRIBE request specified in 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16]. In the SIP SUBSCRIBE request, the MCVideo client:\n1)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field specified in IETF RFC 6665 [16], to 4294967295;\nNOTE 2:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n2)\tif the MCVideo client wants to de-subscribe, shall set the Expires header field specified in IETF RFC 6665 [26], to zero; and\n3)\tshall include an Accept header field containing the application/pidf+xml MIME type.\nUpon receiving a SIP NOTIFY request specified in 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16], if the SIP NOTIFY request contains an application/pidf+xml MIME body indicating per-group dynamic data information constructed according to clause 8.3.1, then the MCVideo client shall determine per-group dynamic data of the MCVideo group in the MIME body.\nThe MCVideo client can based on configuration decide to affiliate or de-affiliate to a group.\nUser profile based affiliation rules are controlled by the elements <RulesForAffiliation> or <RulesForDeaffiliation> of the MCVideo user profile document identified by the MCVideo ID of the MCVideo user (see the MCVideo user profile document specified in 3GPP TS 24.484 [25]). The rules can be composed of functional alias based criteria. A rule is fulfilled if  any of the functional alias based criteria are met. These rules are evaluated whenever a functional alias is activated or deactivated. If, any defined rule is fulfilled, the MCVideo client shall initiate the affiliation status change procedure as specified in clause 8.2.1.2.\nIf the <permitted-geographic-area> element of the <list-service> element of an MCS group document is present and the MCData client is within the area specified in the <permitted-geographic-area> element, the MCVideo client is allowed to affiliate to the group.\nIf the <mandatory-geographic-area> element of the <list-service> element of an MCS group document is present and the MCVideo client is not within the area specified in the <mandatory-geographic-area> element the MCVideo client shall de-affiliate from the group.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.2.2\tMCVideo server procedures",
                            "text_content": "The MCVideo server procedures consist of:\n-\tprocedures of MCVideo server serving the MCVideo user; and\n-\tprocedures of MCVideo server owning the MCVideo group.\nThe procedures of MCVideo server serving the MCVideo user consist of:\n-\ta receiving affiliation status change from MCVideo client procedure;\n-\ta receiving subscription to affiliation status procedure;\n-\ta sending notification of change of affiliation status procedure;\n-\ta sending affiliation status change towards MCVideo server owning MCVideo group procedure;\n-\tan affiliation status determination from MCVideo server owning MCVideo group procedure;\n-\ta procedure for authorizing affiliation status change request in negotiated mode sent to served MCVideo user;\n-\ta forwarding affiliation status change towards another MCVideo user procedure;\n-\ta forwarding subscription to affiliation status towards another MCVideo user procedure\n-\tan affiliation status determination procedure;\n-\tan affiliation status change by implicit affiliation procedure;\n-\tan implicit affiliation status change completion procedure;\n-\tan implicit affiliation status change cancellation procedure; and\n-\tan implicit affiliation to configured groups procedure.\n-\tforwarding subscription to group dynamic data towards the controlling MCVideo server procedure.\nThe MCVideo server shall maintain a list of MCVideo user information entries. The list of the MCVideo user information entries contains one MCVideo user information entry for each served MCVideo ID.\nIn each MCVideo user information entry, the MCVideo server shall maintain:\n1)\tan MCVideo ID. This field uniquely identifies the MCVideo user information entry in the list of the MCVideo user information entries; and\n2)\ta list of MCVideo client information entries.\nIn each MCVideo client information entry, the MCVideo server shall maintain:\n1)\tan MCVideo client ID. This field uniquely identifies the MCVideo client information entry in the list of the MCVideo client information entries; and\n2)\ta list of MCVideo group information entries.\nIn each MCVideo group information, the MCVideo server shall maintain:\n1)\tan MCVideo group ID. This field uniquely identifies the MCVideo group information entry in the list of the MCVideo group information entries;\n2)\tan affiliation status;\n3)\tan expiration time;\n4)\tan affiliating p-id; and\n5)\ta next publishing time.\nUpon receiving a SIP PUBLISH request such that:\n1)\tRequest-URI of the SIP PUBLISH request contains either the public service identity identifying the originating participating MCVideo function serving the MCVideo user, or the public service identity identifying the terminating participating MCVideo function serving the MCVideo user;\n2)\tthe SIP PUBLISH request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the<mcvideo-request-uri> element which identifies an MCVideo ID served by the MCVideo server;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tthe Event header field of the SIP PUBLISH request contains the \"presence\" event type; and\n5)\tSIP PUBLISH request contains an application/pidf+xml MIME body indicating per-user affiliation information according to clause 8.3.1;\nthen the MCVideo server:\n1)\tshall identify the served MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n2)\tif the Request-URI of the SIP PUBLISH request contains the public service identity identifying the originating participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID from public user identity in the P-Asserted-Identity header field of the SIP PUBLISH request;\n3)\tif the Request-URI of the SIP PUBLISH request contains the public service identity identifying the terminating participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n4)\tif the originating MCVideo ID is different than the served MCVideo ID and the originating MCVideo ID is not authorized to modify affiliation status of the served MCVideo ID, shall send a 403 (Forbidden) response and shall not continue with the rest of the steps;\n5)\tif the Expires header field of the SIP PUBLISH request is not included or has nonzero value lower than 4294967295, shall send a SIP 423 (Interval Too Brief) response to the SIP PUBLISH request, where the SIP 423 (Interval Too Brief) response contains a Min-Expires header field set to 4294967295, and shall not continue with the rest of the steps;\n6)\tif the Expires header field of the SIP PUBLISH request has nonzero value, shall determine the candidate expiration interval to according to IETF RFC 3903 [12];\n7)\tif the Expires header field of the SIP PUBLISH request has zero value, shall set the candidate expiration interval to zero;\n8)\tshall respond with SIP 200 (OK) response to the SIP PUBLISH request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12]. In the SIP 200 (OK) response, the MCVideo server:\na)\tshall set the Expires header field according to IETF RFC 3903 [12], to the candidate expiration time;\n9)\tif the \"entity\" attribute of the <presence> element of the application/pidf+xml MIME body of the SIP PUBLISH request is different than the served MCVideo ID, shall not continue with the rest of the steps;\n10)\tshall identify the served MCVideo client ID in the \"id\" attribute of the <tuple> element of the <presence> element of the application/pidf+xml MIME body of the SIP PUBLISH request;\n11)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 8.2.2.2.2; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the served MCVideo ID;\nas the served MCVideo user information entry;\n12)\tshall consider an MCVideo client information entry such that:\na)\tthe MCVideo client information entry is in the list of MCVideo client information entries of the served MCVideo user information entry; and\nb)\tthe MCVideo client ID of the MCVideo client information entry is equal to the served MCVideo client ID;\nas the served MCVideo client information entry;\n13)\tshall consider a copy of the list of the MCVideo group information entries of the served MCVideo client information entry as the served list of the MCVideo group information entries;\n14)\tif the candidate expiration interval is nonzero:\na)\tshall construct the candidate list of the MCVideo group information entries as follows:\ni)\tfor each MCVideo group ID which has an MCVideo group information entry in the served list of the MCVideo group information entries, such that the expiration time of the MCVideo group information entry has not expired yet, and which is indicated in a \"group\" attribute of an <affiliation> element of the <status> element of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request:\nA)\tshall copy the MCVideo group information entry into a new MCVideo group information entry of the candidate list of the MCVideo group information entries;\nB)\tif the affiliation status of the MCVideo group information entry is \"deaffiliating\" or \"deaffiliated\", shall set the affiliation status of the new MCVideo group information entry to the \"affiliating\" state and shall set the affiliating p-id of the new MCVideo group information entry to the value of the <p-id> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request; and\nC)\tshall set the expiration time of the new MCVideo group information entry to the current time increased with the candidate expiration interval;\nii)\tfor each MCVideo group ID which has an MCVideo group information entry in the served list of the MCVideo group information entries, such that the expiration time of the MCVideo group information entry has not expired yet, and which is not indicated in any \"group\" attribute of the <affiliation> element of the <status> element of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request:\nA)\tshall copy the MCVideo group information entry into a new MCVideo group information entry of the candidate list of the MCVideo group information entries; and\nB)\tif the affiliation status of the MCVideo group information entry is \"affiliated\" or \"affiliating\":\n-\tshall set the affiliation status of the new MCVideo group information entry to the \"de-affiliating\" state; and\n-\tshall set the expiration time of the new MCVideo group information entry to the current time increased with twice the value of timer F; and\niii)\tfor each MCVideo group ID:\nA)\twhich does not have an MCVideo group information entry in the served list of the MCVideo group information entries; or\nB)\twhich has an MCVideo group information entry in the served list of the MCVideo group information entries, such that the expiration time of the MCVideo group information entry has already expired;\nand which is indicated in a \"group\" element of the <affiliation> element of the <status> element of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request:\nA)\tshall add a new MCVideo group information entry in the candidate list of the MCVideo group information list for the MCVideo group ID;\nB)\tshall set the affiliation status of the new MCVideo group information entry to the \"affiliating\" state;\nC)\tshall set the expiration time of the new MCVideo group information entry to the current time increased with the candidate expiration interval; and\nD)\tshall set the affiliating p-id of the new MCVideo group information entry to the value of the <p-id> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request;\nb)\tdetermine the candidate number of MCVideo group IDs as number of different MCVideo group IDs which have an MCVideo group information entry:\ni)\tin the candidate list of the MCVideo group information entries; or\nii)\tin the list of the MCVideo group information entries of an MCVideo client information entry such that:\nA)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the served MCVideo user information entry; and\nB)\tthe MCVideo client ID of the MCVideo client information entry is not equal to the served MCVideo client ID;\nwith the affiliation status set to the \"affiliating\" state or the \"affiliated\" state and with the expiration time which has not expired yet; and\nc)\tif the candidate number of MCVideo group IDs is bigger than N2 value of the served MCVideo ID (specified in the <MaxAffiliationsN2> element of the <Common> element of the corresponding MCVideo user profile), shall based on MCVideo service provider policy reduce the candidate MCVideo group IDs to that equal to N2;\nNOTE:\tThe MCVideo service provider policy can determine to remove an MCVideo group ID based on the order it appeared in the PUBLISH request or based on the importance or priority of the MCVideo group or some other policy to determine which MCVideo groups are preferred.\n15)\tif the candidate expiration interval is zero, constructs the candidate list of the MCVideo group information entries as follows:\na)\tfor each MCVideo group ID which has an entry in the served list of the MCVideo group information entries:\ni)\tshall copy the MCVideo group entry of the served list of the MCVideo group information into a new MCVideo group information entry of the candidate list of the MCVideo group information entries;\nii)\tshall set the affiliation status of the new MCVideo group information entry to the \"de-affiliating\" state; and\niii)\tshall set the expiration time of the new MCVideo group information entry to the current time increased with twice the value of timer F;\n16)\tshall replace the list of the MCVideo group information entries stored in the served MCVideo client information entry with the candidate list of the MCVideo group information entries;\n17)\tshall perform the procedures specified in clause 8.2.2.2.6 for the served MCVideo ID and each MCVideo group ID:\na)\twhich does not have an MCVideo group information entry in the served list of the MCVideo group information entries and which has an MCVideo group information entry in the candidate list of the MCVideo group information entries with the affiliation status set to the \"affiliating\" state;\nb)\twhich has an MCVideo group information entry in the served list of the MCVideo group information entries with the expiration time already expired, and which has an MCVideo group information entry in the candidate list of the MCVideo group information entries with the affiliation status set to the \"affiliating\" state;\nc)\twhich has an MCVideo group information entry in the served list of the MCVideo group information entries with the affiliation status set to the \"deaffiliating\" state or the \"deaffiliated\" state and with the expiration time not expired yet, and which has an MCVideo group information entry in the candidate list of the MCVideo group information entries with the affiliation status set to the \"affiliating\" state; or\nd)\twhich has an MCVideo group information entry in the served list of the MCVideo group information entries with the affiliation status set to the \"affiliated\" state and with the expiration time not expired yet, and which has an MCVideo group information entry in the candidate list of the MCVideo group information entries with the affiliation status set to the \"de-affiliating\" state;\n18)\tshall identify the handled p-id in the <p-id> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request; and\n19)\tshall perform the procedures specified in clause 8.2.2.2.5 for the served MCVideo ID.\nUpon receiving a SIP SUBSCRIBE request such that:\n1)\tRequest-URI of the SIP SUBSCRIBE request contains either the public service identity identifying the originating participating MCVideo function serving the MCVideo user, or the public service identity identifying the terminating participating MCVideo function serving the MCVideo user;\n2)\tthe SIP SUBSCRIBE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the<mcvideo-request-uri> element which identifies an MCVideo ID served by the MCVideo server;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14]; and\n4)\tthe Event header field of the SIP SUBSCRIBE request contains the \"presence\" event type;\nthe MCVideo server:\n1)\tshall identify the served MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n2)\tif the Request-URI of the SIP SUBSCRIBE request contains the public service identity identifying the originating participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID from public user identity in the P-Asserted-Identity header field of the SIP SUBSCRIBE request;\n3)\tif the Request-URI of the SIP SUBSCRIBE request contains the public service identity identifying the terminating participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n4)\tif the originating MCVideo ID is different than the served MCVideo ID and the originating MCVideo ID is not authorized to modify affiliation status of the served MCVideo ID, shall send a 403 (Forbidden) response and shall not continue with the rest of the steps; and\n5)\tshall generate a 200 (OK) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 6665 [16].\nFor the duration of the subscription, the MCVideo server shall notify the subscriber about changes of the information of the served MCVideo ID, as described in clause 8.2.2.2.5.\nIn order to notify the subscriber about changes of the served MCVideo ID, the MCVideo server:\n1)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 8.2.2.2.2; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the served MCVideo ID;\nas the served MCVideo user information entry;\n2)\tshall consider the list of the MCVideo client information entries of the served MCVideo user information entry as the served list of the MCVideo client information entries;\n3)\tshall generate an application/pidf+xml MIME body indicating per-user affiliation information according to clause 9.3.1 and the served list of the MCVideo client information entries with the following clarifications:\na)\tthe MCVideo server shall not include information from an MCVideo group information entry with the expiration time already expired;\nb)\tthe MCVideo server shall not include information from an MCVideo group information entry with the affiliation status set to the \"deaffiliated\" state;\nc)\tif the SIP SUBSCRIBE request creating the subscription of this notification contains an application/simple-filter+xml MIME body according to clause 8.3.2, the MCVideo server shall restrict the application/pidf+xml MIME body according to the application/simple-filter+xml MIME body; and\nd)\tif this procedures is invoked by procedure in clause 8.2.2.2.3 where the handled p-id value was identified, the MCVideo server shall set the <p-id> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP NOTIFY request to the handled p-id value; and\n4)\tsend a SIP NOTIFY request according to 3GPP TS 24.229 [11], and IETF RFC 6665 [16] with the MIME body. In the SIP NOTIFY request, the MCVideo server shall include the generated application/pidf+xml MIME body indicating per-user affiliation information.\nNOTE 1:\tUsage of one SIP PUBLISH request to carry information about change of affiliation state of several MCVideo users served by the same MCVideo server is not supported in this version of the specification.\nIn order:\n-\tto send an affiliation request of a served MCVideo ID to a handled MCVideo group ID;\n-\tto send an de-affiliation request of a served MCVideo ID from a handled MCVideo group ID; or\n-\tto send an affiliation request of a served MCVideo ID to a handled MCVideo group ID due to near expiration of the previously published information;\nthe MCVideo server shall generate a SIP PUBLISH request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13]. In the SIP PUBLISH request, the MCVideo server:\n1)\tshall set the Request-URI to the public service identity of the controlling MCVideo function associated with the handled MCVideo group ID;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the handled MCVideo group ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo server:\na)\tshall include the <mcvideo-request-uri> element set to the handled MCVideo group ID; and\nb)\tshall include the <mcvideo-calling-user-id> element set to the served MCVideo ID;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tif sending an affiliation request, shall set the Expires header field according to IETF RFC 3903 [12], to 4294967295;\nNOTE 7:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif sending an de-affiliation request, shall set the Expires header field according to IETF RFC 3903 [12], to zero;\n6)\tshall include an P-Asserted-Identity header field set to the public service identity of the MCVideo server according to 3GPP TS 24.229 [11];\n7)\tshall set the current p-id to a globally unique value;\n8)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 8.2.2.2.2; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the served MCVideo ID;\nas the served MCVideo user information entry;\n9)\tfor each MCVideo group information entry such that:\na)\tthe MCVideo group information entry has the \"affiliating\" affiliation status, the MCVideo group ID set to the handled MCVideo group ID, the expiration time has not expired yet and the affiliating p-id is not set;\nb)\tthe MCVideo group information entry is in the list of the MCVideo group information entries of an MCVideo client information entry; and\nc)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the served MCVideo user information entry;\nshall set the affiliating p-id of the MCVideo group information entry to the current p-id; and\n10)\tshall include an application/pidf+xml MIME body indicating per-group affiliation information constructed according to clause 8.2.3.2. The MCVideo server shall indicate all served MCVideo client IDs, such that:\na)\tthe affiliation status is set to \"affiliating\" or \"affiliated\", and the expiration time has not expired yet in an MCVideo group information entry with the MCVideo group ID set to the handled MCVideo group;\nb)\tthe MCVideo group information entry is in the list of the MCVideo group information entries of an MCVideo client information entry;\nc)\tthe MCVideo client information entry has the MCVideo client ID set to the served MCVideo client ID; and\nd)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the served MCVideo user information entry.\nThe MCVideo server shall set the <p-id> child element of the <presence> root element to the current p-id.\nThe MCVideo server shall not include the \"expires\" attribute in the <affiliation> element.\nThe MCVideo server shall send the SIP PUBLISH request according to 3GPP TS 24.229 [11].\nIf timer F expires for the SIP PUBLISH request sent for a (de)affiliation request of served MCVideo ID to the MCVideo group ID or upon receiving a SIP 3xx, 4xx, 5xx or 6xx response to the SIP PUBLISH request, the MCVideo server:\n1)\tshall remove each MCVideo group ID entry such that:\na)\tthe MCVideo group information entry has the MCVideo group ID set to the handled MCVideo group ID;\nb)\tthe MCVideo group information entry is in the list of the MCVideo group information entries of an MCVideo client information entry; and\nc)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the served MCVideo user information entry.\nNOTE 1:\tUsage of one SIP SUBSCRIBE request to subscribe for notification about change of affiliation state of several MCVideo users served by the same MCVideo server is not supported in this version of the specification.\nIn order to discover whether a served MCVideo user was successfully affiliated to a handled MCVideo group in the MCVideo server owning the handled MCVideo group, the MCVideo server shall generate an initial SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16].\nIn the SIP SUBSCRIBE request, the MCVideo server:\n1)\tshall set the Request-URI to the public service identity of the controlling MCVideo function associated with the handled MCVideo group ID;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the handled MCVideo group ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo server:\na)\tshall include the <mcvideo-request-uri> element set to the handled MCVideo group ID; and\nb)\tshall include the <mcvideo-calling-user-id> element set to the served MCVideo ID;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tif the MCVideo server wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 7:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif the MCVideo server wants to fetch the current state only, shall set the Expires header field according to IETF RFC 6665 [16], to zero;\n6)\tshall include an Accept header field containing the application/pidf+xml MIME type; and\n7)\tshall include an application/simple-filter+xml MIME body indicating per-user restrictions of presence event package notification information according to clause 8.3.2, indicating the served MCVideo ID.\nIn order to re-subscribe or de-subscribe, the MCVideo server shall generate an in-dialog SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16]. In the SIP SUBSCRIBE request, the MCVideo server:\n1)\tif the MCVideo server wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 8:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n2)\tif the MCVideo server wants to de-subscribe, shall set the Expires header field according to IETF RFC 6665 [16], to zero; and\n3)\tshall include an Accept header field containing the application/pidf+xml MIME type.\nUpon receiving a SIP NOTIFY request according to 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16], if SIP NOTIFY request contains an application/pidf+xml MIME body indicating per-group affiliation information constructed according to clause 8.3.1, then the MCVideo server:\n1)\tfor each served MCVideo ID and served MCVideo client ID such that the application/pidf+xml MIME body of SIP NOTIFY request contains:\na)\ta <tuple> element of the root <presence> element;\nb)\tthe \"id\" attribute of the <tuple> element indicating the served MCVideo ID;\nc)\tan <affiliation> child element of the <status> element of the <tuple> element;\nd)\tthe \"client\" attribute of the <affiliation> element indicating the served MCVideo client ID; and\ne)\tthe \"expires\" attribute of the <affiliation> element indicating expiration of affiliation;\nperform the following:\na)\tif an MCVideo group information entry exists such that:\ni)\tthe MCVideo group information entry has the \"affiliating\" affiliation status, the MCVideo group ID set to the handled MCVideo group ID, and the expiration time has not expired yet;\nii)\tthe MCVideo group information entry is in the list of the MCVideo group information entries of an MCVideo client information entry with the MCVideo client ID set to the served MCVideo client ID;\niii)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of a served MCVideo user information entry with the MCVideo ID set to the served MCVideo ID; and\niv)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 8.2.2.2.2; and\nshall set the affiliation status of the MCVideo group information entry to \"affiliated\"; and\nshall set the next publishing time of the MCVideo group information entry to the current time and half of the time between the current time and the expiration of affiliation; and\n2) for each MCVideo group information entry such that:\na)\tthe MCVideo group information entry has the \"affiliated\" affiliation status or the \"deaffiliating\" affiliation status, the MCVideo group ID set to the handled MCVideo group ID, and the expiration time has not expired yet;\nb)\tthe MCVideo group information entry is in the list of the MCVideo group information entries of an MCVideo client information entry with the MCVideo client ID set to a served MCVideo client ID;\nc)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the served MCVideo user information entry with the MCVideo ID set to a served MCVideo ID; and\nd)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 8.2.2.2.2; and\nfor which the application/pidf+xml MIME body of SIP NOTIFY request does not contain:\na)\ta <tuple> element of the root <presence> element;\nb)\tthe \"id\" attribute of the <tuple> element indicating the served MCVideo ID;\nc)\tan <affiliation> child element of the <status> child element of the <tuple> element; and\nd)\tthe \"client\" attribute of the <affiliation> element indicating the served MCVideo client ID.\nperform the following:\na)\tshall set the affiliation status of the MCVideo group information entry to \"deaffiliated\"; and\nb)\tshall set the expiration time of the MCVideo group information entry to the current time; and\n3)\tif a <p-id> element is included in the <presence> root element of the application/pidf+xml MIME body of the SIP NOTIFY request, then for each MCVideo group information entry such that:\na)\tthe MCVideo group information entry has the \"affiliating\" affiliation status, the MCVideo group ID set to the handled MCVideo group ID, the expiration time has not expired yet and with the affiliating p-id set to the value of the <p-id> element;\nb)\tthe MCVideo group information entry is in the list of the MCVideo group information entries of an MCVideo client information entry with the MCVideo client ID set to a served MCVideo client ID;\nc)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the served MCVideo user information entry with the MCVideo ID set to a served MCVideo ID; and\nd)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 8.2.2.2.2; and\nfor which the application/pidf+xml MIME body of SIP NOTIFY request does not contain:\na)\ta <tuple> element of the root <presence> element;\nb)\tthe \"id\" attribute of the <tuple> element indicating the served MCVideo ID;\nc)\tan <affiliation> child element of the <status> child element of the <tuple> element; and\nd)\tthe \"client\" attribute of the <affiliation> element indicating the served MCVideo client ID;\nperform the following:\na)\tshall set the affiliation status of the MCVideo group information entry to \"deaffiliated\"; and\nb)\tshall set the expiration time of the MCVideo group information entry to the current time.\nUpon receiving a SIP MESSAGE request such that:\n1)\tRequest-URI of the SIP MESSAGE request contains the public service identity identifying the terminating participating MCVideo function serving the MCVideo user;\n2)\tthe SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the<mcvideo-request-uri> element and the <mcvideo-calling-user-id> element;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14]; and\n4)\tthe SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-affiliation-command+xml MIME body;\nthen the MCVideo server:\n1)\tshall identify the served MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP MESSAGE request;\n2)\tshall identify the originating MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP MESSAGE request;\n3)\tif the originating MCVideo ID is not authorized to send an affiliation status change request in negotiated mode to the served MCVideo ID, shall send a 403 (Forbidden) response and shall not continue with the rest of the steps;\n4)\tshall set the Request-URI of the SIP MESSAGE request to the public user identity bound to the served MCVideo ID in the MCVideo server; and\n5)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\nbefore forwarding the SIP MESSAGE request further.\nUpon receiving a SIP PUBLISH request such that:\n1)\tRequest-URI of the SIP PUBLISH request contains the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tthe SIP PUBLISH request contains an application/vnd.3gpp.mcvideo-info MIME body containing the<mcvideo-request-uri> element which identifies an MCVideo ID not served by the MCVideo server;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tthe Event header field of the SIP PUBLISH request contains the \"presence\" event type; and\n5)\tSIP PUBLISH request contains an application/pidf+xml MIME body indicating per-user affiliation information according to clause 8.3.1;\nthen the MCVideo server:\n1)\tshall identify the target MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info MIME body of the SIP PUBLISH request;\n2)\tshall identify the originating MCVideo ID from public user identity in the P-Asserted-Identity header field of the SIP PUBLISH request;\n3)\tshall generate a SIP PUBLISH request from the received SIP PUBLISH request. In the generated SIP PUBLISH request, the MCVideo server:\na)\tshall set the Request-URI to the public service identity identifying the terminating participating MCVideo function serving the target MCVideo ID;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the originating participating MCVideo function determines the public service identity of the terminating participating MCVideo function serving the target MCVideo ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nb)\tshall include a P-Asserted-Identity header field containing the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\nc)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo server:\nA)\tshall include the <mcvideo-request-uri> element set to the target MCVideo ID; and\nB)\tshall include the <mcvideo-calling-user-id> element set to the originating MCVideo ID; and\nd)\tshall include other signalling elements from the received SIP PUBLISH request; and\n4)\tshall send the generated SIP PUBLISH request according to 3GPP TS 24.229 [11].\nThe MCVideo server shall forward received SIP responses to the SIP PUBLISH request.\nUpon receiving a SIP SUBSCRIBE request such that:\n1)\tRequest-URI of the SIP PUBLISH request contains the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tthe SIP PUBLISH request contains an application/vnd.3gpp.mcvideo-info MIME body containing the<mcvideo-request-uri> element which identifies an MCVideo ID not served by MCVideo server;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14]; and\n4)\tthe Event header field of the SIP SUBSCRIBE request contains the \"presence\" event type;\nthen the MCVideo server:\n1)\tshall identify the target MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info MIME body of the SIP SUBSCRIBE request;\n2)\tshall identify the originating MCVideo ID from public user identity in the P-Asserted-Identity header field of the SIP SUBSCRIBE request;\n3)\tshall generate a SIP SUBSCRIBE request from the received SIP SUBSCRIBE request. In the generated SIP SUBSCRIBE request, the MCVideo server:\na)\tshall set the Request-URI to the public service identity identifying the terminating participating MCVideo function serving the target MCVideo ID;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the originating participating MCVideo function determines the public service identity of the terminating participating MCVideo function serving the target MCVideo ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nb)\tshall include a P-Asserted-Identity header field containing the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\nc)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo server:\nA)\tshall include the <mcvideo-request-uri> element set to the target MCVideo ID; and\nB)\tshall include the <mcvideo-calling-user-id> element set to the originating MCVideo ID; and\nd)\tshall include other signalling elements from the received SIP SUBSCRIBE request; and\n4)\tshall send the generated SIP SUBSCRIBE request according to 3GPP TS 24.229 [11].\nThe MCVideo server shall forward any received SIP responses to the SIP SUBSCRIBE request, any received SIP NOTIFY request and any received SIP responses to the SIP NOTIFY request.\nThis clause is referenced from other procedures.\nIf the participating MCVideo function needs to determine the affiliation status of an MCVideo user to an MCVideo group, the participating function:\n1)\tshall find the user information entry in the list of MCVideo user information entries described in clause 9.2.2.2.2 such that the MCVideo ID of the MCVideo user information entry is equal to the MCVideo ID of the originator of the received SIP request;\na)\tif the applicable MCVideo group information entry cannot be found, then the participating MCVideo function shall determine that the MCVideo user is not affiliated to the MCVideo group at the MCVideo client and the skip the rest of the steps;\n2)\tshall find the MCVideo client information entry in the list of MCVideo client information entries of MCVideo user information entry found in step 1) in which the MCVideo client ID matches the value of the <mcvideo-client-id> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP request;\na)\tif the applicable MCVideo client information entry cannot be found, then the participating MCVideo function shall determine that the MCVideo user is not affiliated to the MCVideo group at the MCVideo client and the skip the rest of the steps;\n3)\tshall find the MCVideo group information entry in the list of MCVideo group information entries of MCVideo client information entry found in step 2 such that the MCVideo group identity matches the value of the identity of the targeted MCVideo group;\na)\tif the applicable MCVideo group information entry was found in step 3) and the affiliation status of the MCVideo group information entry is \"affiliating\" or \"affiliated\", shall determine that the MCVideo user at the MCVideo client to be affiliated to the targeted MCVideo group and skip the rest of the steps;\nb)\tif the applicable MCVideo group information entry was found in step 3) and the affiliation status of the MCVideo group information entry is \"deaffiliating\" or \"deaffiliated\", shall determine that the MCVideo user at the MCVideo client to not be affiliated to the targeted MCVideo group and skip the rest of the steps; or\nc)\tif the applicable MCVideo group information entry was not found in step 3), shall determine that the MCVideo user at the MCVideo client is not affiliated to the targeted MCVideo group.\nThis clause is referenced from other procedures.\nUpon receiving a SIP request that requires implicit affiliation of the sending MCVideo client to an MCVideo group, the participating MCVideo function:\n1)\tshall determine the served MCVideo client ID from the <mcvideo-client-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP request;\n2)\tshall determine the MCVideo group ID from the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP request;\n3)\tshall determine the served MCVideo ID by using the public user identity in the P-Asserted-Identity header field of the SIP request;\nNOTE 1:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation.\n4)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 8.2.2.2.2; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the served MCVideo ID;\nas the served MCVideo user information entry;\n5)\tshall consider an MCVideo client information entry such that:\na)\tthe MCVideo client information entry is in the list of MCVideo client information entries of the served MCVideo user information entry; and\nb)\tthe MCVideo client ID of the MCVideo client information entry is equal to the served MCVideo client ID;\nas the served MCVideo client information entry;\n6)\tshall consider a copy of the list of the MCVideo group information entries of the served MCVideo client information entry as the served list of the MCVideo group information entries;\n7)\tshall construct the candidate list of the MCVideo group information entries as follows:\na)\tfor each MCVideo group ID which has an MCVideo group information entry in the served list of the MCVideo group information entries shall copy the MCVideo group information entry into a new MCVideo group information entry of the candidate list of the MCVideo group information entries; and\nb)\tif the determined MCVideo group ID does not have an MCVideo group information entry in the served list of the MCVideo group information entries or has an MCVideo group information entry in the served list of the MCVideo group information entries, such that the expiration time of the MCVideo group information entry has already expired:\ni)\tshall add a new MCVideo group information entry in the candidate list of the MCVideo group information list for the determined MCVideo group ID;\nii)\tshall set the affiliation status of the new MCVideo group information entry to the \"affiliating\" state; and\niii)\tshall set the expiration time of the new MCVideo group information entry to the current time increased with the candidate expiration interval;\n8)\tdetermine the candidate number of MCVideo group IDs as the number of different MCVideo group IDs which have an MCVideo group information entry:\na)\tin the candidate list of the MCVideo group information entries; or\nb)\tin the list of the MCVideo group information entries of an MCVideo client information entry such that:\ni)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the served MCVideo user information entry; and\nii)\tthe MCVideo client ID of the MCVideo client information entry is not equal to the served MCVideo client ID;\nwith the affiliation status set to the \"affiliating\" state or the \"affiliated\" state and with the expiration time which has not expired yet; and\n9)\tif the candidate number of MCVideo group IDs is bigger than the N2 value of the served MCVideo ID (specified in the <MaxAffiliationsN2> element of the <Common> element of the corresponding MCVideo user profile), shall based on MCVideo service provider policy reduce the candidate MCVideo group IDs to that equal to N2;\nNOTE 2:\tThe MCVideo service provider policy can determine to remove an MCVideo group ID based on the importance or priority of other MCVideo groups, received SIP requests containing an authorised request for originating a priority call or other policy to determine which MCVideo groups are preferred.\n10)\tif the determined MCVideo group ID cannot be added to the the candidate list of the MCVideo group information entries due to exceeding the MCVideo user's N2 limit (specified in the <MaxAffiliationsN2> element of the <Common> element of the corresponding MCVideo user profile of the served MCVideo ID), shall discard the candidate list of the MCVideo group information entries and skip the remaining steps of the current procedure; and\n11)\tshall replace the list of the MCVideo group information entries stored in the served MCVideo client information entry with the candidate list of the MCVideo group information entries.\nThis clause is referenced from other procedures.\nIf the participating MCVideo function has received a SIP 2xx response from the controlling MCVideo function to a SIP request that had triggered performing the procedures of clause 8.2.2.2.12, the participating MCVideo function:\n1)\tshall set the affiliation status of the MCVideo group information entry added to the candidate list of the MCVideo group information entries by the procedures of clause 8.2.2.2.12 to \"affiliated\"; and\n2)\tshall perform the procedures specified in clause 8.2.2.2.5 for the served MCVideo ID.\nThis clause is referenced from other procedures.\nIf the participating MCVideo function determines that a received SIP request that had triggered performing the procedures of clause 8.2.2.2.12 needs to be rejected or if the participating MCVideo function receives a SIP 4xx, 5xx or 6xx response from the controlling MCVideo function for the received SIP request, the participating MCVideo function:\n1)\tshall remove the MCVideo group ID entry added by the procedures of clause 8.2.2.2.12 such that:\na)\tthe MCVideo group information entry has the MCVideo group ID set to the MCVideo group ID of the MCVideo group targeted by the received SIP request;\nb)\tthe MCVideo group information entry is in the list of the MCVideo group information entries of an MCVideo client information entry containing the MCVideo client ID included in the received SIP request; and\nc)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the MCVideo user information entry containing the MCVideo ID of the sender of the received SIP request.\nThis clause is referenced from other procedures.\nIf the participating MCVideo function has successfully performed service authorisation for the MCVideo ID identified in the service authorisation procedure, the participating MCVideo function:\n1)\tshall identify the MCVideo ID included in the SIP request received for service authorisation procedure as the served MCVideo ID;\n2)\tshall identify the MCVideo client ID from the <mcvideo-client-id> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body included in the SIP request received for service authorisation as the served MCVideo client ID;\n3)\tshall download the MCVideo user profile from the MCVideo user database if not already stored at the participating MCVideo function;\n4)\tif no <ImplicitAffiliations> element is contained in the <OnNetwork> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) for the served MCVideo ID or the <ImplicitAffiliations> element contains no <entry> elements containing an MCVideo group ID, shall skip the remaining steps;\n5)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 8.2.2.2.2; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the served MCVideo ID;\nas the served MCVideo user information entry;\n6)\tshall consider an MCVideo client information entry such that:\na)\tthe MCVideo client information entry is in the list of MCVideo client information entries of the served MCVideo user information entry; and\nb)\tthe MCVideo client ID of the MCVideo client information entry is equal to the served MCVideo client ID;\nas the served MCVideo client information entry;\n7)\tshall consider a copy of the list of the MCVideo group information entries of the served MCVideo client information entry as the served list of the MCVideo group information entries;\n8)\tshall construct the candidate list of the MCVideo group information entries as follows:\na)\tfor each MCVideo group ID which has an MCVideo group information entry in the served list of the MCVideo group information entries shall copy the MCVideo group information entry into a new MCVideo group information entry of the candidate list of the MCVideo group information entries;\nb)\tfor each MCVideo group ID contained in an <entry> element of the <ImplicitAffiliations> element in the <OnNetwork> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) for the served MCVideo ID that does not have an MCVideo group information entry in the served list of the MCVideo group information entries or has an MCVideo group information entry in the served list of the MCVideo group information entries such that the expiration time of the MCVideo group information entry has already expired:\ni)\tshall add a new MCVideo group information entry in the candidate list of the MCVideo group information list for the MCVideo group ID;\nii)\tshall set the affiliation status of the new MCVideo group information entry to the \"affiliating\" state; and\niii)\tshall set the expiration time of the new MCVideo group information entry to the current time increased with the candidate expiration interval;\nc)\tif in step b) above, no new MCVideo group information entries were added to the candidate list of the MCVideo group information list for the MCVideo group ID:\ni)\tshall discard the candidate list; and\nii)\tshall skip the remaining steps;\n9)\tdetermine the candidate number of MCVideo group IDs as the number of different MCVideo group IDs which have an MCVideo group information entry:\na)\tin the candidate list of the MCVideo group information entries; or\nb)\tin the list of the MCVideo group information entries of an MCVideo client information entry such that:\ni)\tthe MCVideo client information entry is in the list of the MCVideo client information entries of the served MCVideo user information entry; and\nii)\tthe MCVideo client ID of the MCVideo client information entry is not equal to the served MCVideo client ID;\nwith the affiliation status set to the \"affiliating\" state or the \"affiliated\" state and with the expiration time which has not expired yet; and\nc)\tif the candidate number of MCVideo group IDs is bigger than the N2 value of the served MCVideo ID (specified in the <MaxAffiliationsN2> element of the <Common> element of the corresponding MCVideo user profile), shall based on MCVideo service provider policy reduce the candidate MCVideo group IDs to that equal to N2;\nNOTE 1:\tThe MCVideo service provider policy can determine to remove an MCVideo group ID based on the importance or priority of other MCVideo groups, received SIP requests containing an authorised request for originating a priority call or other policy to determine which MCVideo groups are preferred.\n10)\tshall replace the list of the MCVideo group information entries stored in the served MCVideo client information entry with the candidate list of the MCVideo group information entries; and\n11)\tfor each MCVideo group ID contained in an <entry> element of the <ImplicitAffiliations> element in the <OnNetwork> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) for the served MCVideo ID and which has an MCVideo group information entry in the candidate list of the MCVideo group information entries with an affiliation status of \"affiliating\", shall perform the procedures specified in clause 8.2.2.2.6 for the served MCVideo ID and each MCVideo group ID.\nNOTE 2:\tTo learn of the MCVideo groups successfully affiliated to, the MCVideo client can subscribe to that information by the procedures specified in clause 8.2.1.3.\nUpon receiving a SIP SUBSCRIBE request such that:\n1)\tRequest-URI of the SIP SUBSCRIBE request contains the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tthe SIP SUBCRIBE request contains an application/vnd.3gpp.mcvideo-info MIME body containing the<mcvideo-request-uri> element which identifies an MCVideo group ID not served by the MCVideo server;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14]; and\n4)\tthe Event header field of the SIP SUBSCRIBE request contains the \"presence\" event type;\nthen the MCVideo server:\n1)\tshall identify the target MCVideo group ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info MIME body of the SIP SUBSCRIBE request;\n2)\tshall identify the originating MCVideo ID from public user identity in the P-Asserted-Identity header field of the SIP SUBSCRIBE request;\n3)\tshall if the originating MCVideo ID is not authorized for this subscription reject the SIP SUBSCRIBE request with SIP 403 (Forbidden) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n4)\tshall generate a SIP SUBSCRIBE request from the received SIP SUBSCRIBE request. In the generated SIP SUBSCRIBE request, the MCVideo server:\na)\tshall set the Request-URI to the public service identity identifying the controlling MCVideo function serving the target MCVideo group ID;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the originating participating MCVideo function determines the public service identity of the terminating participating MCVideo function serving the target MCVideo ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nb)\tshall include a P-Asserted-Identity header field containing the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\nc)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo server:\nA)\tshall include the <mcvideo-request-uri> element set to the target MCVideo group ID; and\nB)\tshall include the <mcvideo-calling-user-id> element set to the originating MCVideo ID; and\nd)\tshall include other signalling elements from the received SIP SUBSCRIBE request; and\n4)\tshall send the generated SIP SUBSCRIBE request according to 3GPP TS 24.229 [11].\nThe MCVideo server shall forward any received SIP responses to the SIP SUBSCRIBE request, any received SIP NOTIFY requests and any received SIP responses to the SIP NOTIFY request.\nThe procedures of MCVideo server owning the MCVideo group consist of:\n-\treceiving group affiliation status change procedure;\n-\treceiving subscription to affiliation status procedure;\n-\tsending notification of change of affiliation status procedure;\n-\taffiliation eligibility check procedure;\n-\timplicit affiliation eligibility check procedure; and\n-\taffiliation status change by implicit affiliation procedure.\n-\treceiving subscription to group dynamic data procedure and;\n-\tsending notification of change of group dynamic data procedure.\nNOTE:\tUsage of CSC-3 part of MCVideo group affiliation procedure and of CSC-3 part of MCVideo group de-affiliation procedure is not specified in this version of the specification.\nThe MCVideo server shall maintain a list of MCVideo group information entries.\nIn each MCVideo group information entry, the MCVideo server shall maintain:\n1)\tan MCVideo group ID. This field uniquely identifies the MCVideo group information entry in the list of the MCVideo group information entries;\n2)\tthe status of the MCVideo group as defined in clause 10.1.5.5 of 3GPP TS 23.280 [74], along with the MCVideo ID of the user that last changed the status; and\n3)\ta list of MCVideo user information entries.\nIn each MCVideo user information entry, the MCVideo server shall maintain:\n1)\tan MCVideo ID. This field uniquely identifies the MCVideo user information entry in the list of the MCVideo user information entries;\n2)\ta list of MCVideo client information entries; and\n3)\tan expiration time.\nIn each MCVideo client information entry, the MCVideo server shall maintain:\n1)\tan MCVideo client ID. This field uniquely identifies the MCVideo client information entry in the list of the MCVideo client information entries.\nUpon receiving a SIP PUBLISH request such that:\n1)\tRequest-URI of the SIP PUBLISH request contains the public service identity of the controlling MCVideo function associated with the served MCVideo group;\n2)\tthe SIP PUBLISH request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the <mcvideo-request-uri> element and the <mcvideo-calling-user-id> element;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tthe Event header field of the SIP PUBLISH request contains the \"presence\" event type; and\n5)\tSIP PUBLISH request contains an application/pidf+xml MIME body indicating per-group affiliation information constructed according to clause 8.2.3.2;\nthen the MCVideo server:\n1)\tshall identify the served MCVideo group ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n2)\tshall identify the handled MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n3)\tif the Expires header field of the SIP PUBLISH request is not included or has nonzero value lower than 4294967295, shall send a SIP 423 (Interval Too Brief) response to the SIP PUBLISH request, where the SIP 423 (Interval Too Brief) response contains a Min-Expires header field set to 4294967295, and shall not continue with the rest of the steps;\n4)\tif an MCVideo group for the served MCVideo group ID does not exist in the group management server according to 3GPP TS 24.481 [24], shall reject the SIP PUBLISH request with SIP 403 (Forbidden) response to the SIP PUBLISH request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n5)\tif the handled MCVideo ID is not a member of the MCVideo group identified by the served MCVideo group ID, shall reject the SIP PUBLISH request with SIP 403 (Forbidden) response to the SIP PUBLISH request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n6)\tshall respond with SIP 200 (OK) response to the SIP PUBLISH request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12]. In the SIP 200 (OK) response, the MCVideo server:\na)\tshall set the Expires header field according to IETF RFC 3903 [12], to the selected expiration time;\n7)\tif the \"entity\" attribute of the <presence> element of the application/pidf+xml MIME body of the SIP PUBLISH request is different than the served MCVideo group ID, shall not continue with the rest of the steps;\n8)\tif the handled MCVideo ID is different from the MCVideo ID in the \"id\" attribute of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request, shall not continue with the rest of the steps;\n9)\tshall consider an MCVideo group information entry such that:\na)\tthe MCVideo group information entry is in the list of MCVideo group information entries described in clause 8.2.2.3.2; and\nb)\tthe MCVideo group ID of the MCVideo group information entry is equal to the served MCVideo group ID;\nas the served MCVideo group information entry;\n10)\tif the selected expiration time is zero:\na)\tshall remove the MCVideo user information entry such that:\ni)\tthe MCVideo user information entry is in the list of the MCVideo user information entries of the served MCVideo group information entry; and\nii)\tthe MCVideo user information entry has the MCVideo ID set to the served MCVideo ID;\n11)\tif the selected expiration time is not zero:\na)\tshall consider an MCVideo user information entry such that:\ni)\tthe MCVideo user information entry is in the list of the MCVideo user information entries of the served MCVideo group information entry; and\nii)\tthe MCVideo ID of the MCVideo user information entry is equal to the handled MCVideo ID;\nas the served MCVideo user information entry;\nb)\tif the MCVideo user information entry does not exist:\ni)\tshall insert an MCVideo user information entry with the MCVideo ID set to the handled MCVideo ID into the list of the MCVideo user information entries of the served MCVideo group information entry; and\nii)\tshall consider the inserted MCVideo user information entry as the served MCVideo user information entry; and\nc)\tshall set the following information in the served MCVideo user information entry:\ni)\tset the MCVideo client ID list according to the \"client\" attributes of the <affiliation> elements of the <status> element of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request; and\nii)\tset the expiration time according to the selected expiration time;\n12)\tshall identify the handled p-id in the <p-id> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request; and\n13)\tshall perform the procedures specified in clause 8.2.2.3.5 for the served MCVideo group ID.\nNOTE:\tUsage of one SIP SUBSCRIBE request to subscribe for notification about change of affiliation state of several MCVideo users served by the same MCVideo server is not supported in this version of the specification.\nUpon receiving a SIP SUBSCRIBE request such that:\n1)\tRequest-URI of the SIP SUBSCRIBE request contains the public service identity of the controlling MCVideo function associated with the served MCVideo group;\n2)\tthe SIP SUBSCRIBE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the<mcvideo-request-uri> element and the <mcvideo-calling-user-id> element;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tthe Event header field of the SIP SUBSCRIBE request contains the \"presence\" event type; and\n5)\tthe SIP SUBSCRIBE request contains an application/simple-filter+xml MIME body indicating per-user restrictions of presence event package notification information according to clause 8.3.2 indicating the same MCVideo ID as in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\nthen the MCVideo server:\n1)\tshall identify the served MCVideo group ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n2)\tshall identify the handled MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n3)\tif the Expires header field of the SIP SUBSCRIBE request is not included or has nonzero value lower than 4294967295, shall send a SIP 423 (Interval Too Brief) response to the SIP SUBSCRIBE request, where the SIP 423 (Interval Too Brief) response contains a Min-Expires header field set to 4294967295, and shall not continue with the rest of the steps;\n4)\tif an MCVideo group for the served MCVideo group ID does not exist in the group management server, shall reject the SIP SUBSCRIBE request with SIP 403 (Forbidden) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n5)\tif the handled MCVideo ID is not a member of the MCVideo group identified by the served MCVideo group ID, shall reject the SIP SUBSCRIBE request with SIP 403 (Forbidden) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps; and\n6)\tshall generate a SIP 200 (OK) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 6665 [16].\nFor the duration of the subscription, the MCVideo server shall notify subscriber about changes of the information of the served MCVideo ID, as described in clause 8.2.2.2.5.\nIn order to notify the subscriber identified by the handled MCVideo ID about changes of the affiliation status of the served MCVideo group ID, the MCVideo server:\n1)\tshall consider an MCVideo group information entry such that:\na)\tthe MCVideo group information entry is in the list of MCVideo group information entries described in clause 8.2.2.3.2; and\nb)\tthe MCVideo group ID of the MCVideo group information entry is equal to the served MCVideo group ID;\n2)\tshall consider an MCVideo user information entry such:\na)\tthe MCVideo user information entry is in the list of the MCVideo user information entries of the served MCVideo group information entry; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the handled MCVideo ID;\nas the served MCVideo user information entry;\n3)\tshall generate an application/pidf+xml MIME body indicating per-group affiliation information according to clause 9.3.1 and the served list of the served MCVideo user information entry of the MCVideo group information entry with following clarifications:\na)\tthe MCVideo server shall include the \"expires\" attribute in the <affiliation> element; and\nb)\tif this procedures is invoked by procedure in clause 8.2.2.3.3 where the handled p-id was identified, the MCVideo server shall set the <p-id> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP NOTIFY request to the handled p-id value; and\n4)\tsend a SIP NOTIFY request according to 3GPP TS 24.229 [11], and IETF RFC 6665 [16]. In the SIP NOTIFY request, the MCVideo server shall include the generated application/pidf+xml MIME body indicating per-group affiliation information.\nThis clause is referenced from other procedures.\nUpon receiving a SIP request for an MCVideo group that the MCVideo user is not currently affiliated to and that requires the controlling MCVideo function to check on the eligibility of the MCVideo user to be implicitly affiliated to the MCVideo group, the controlling MCVideo function:\n1)\tshall perform the procedures of clause 8.2.2.3.8 to determine if the MCVideo user is eligible to be affiliated to the MCVideo group; and\n2)\tif the MCVideo user was determined eligible to be affiliated to the MCVideo group by the procedures of clause 8.2.2.3.8, shall consider the MCVideo user to be eligible for implicit affiliation to the MCVideo group.\nThis clause is referenced from other procedures.\nUpon receiving a SIP request for an MCVideo group that the MCVideo user is not currently affiliated to and that requires the controlling MCVideo function to perform an implicit affiliation to, the controlling MCVideo function:\n1)\tshall identify the served MCVideo group ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP request;\n2)\tshall identify the handled MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP request;\n3)\tshall consider an MCVideo group information entry such that:\na)\tthe MCVideo group information entry is in the list of MCVideo group information entries described in clause 8.2.2.3.2; and\nb)\tthe MCVideo group ID of the MCVideo group information entry is equal to the served MCVideo group ID;\nas the served MCVideo group information entry;\n4)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of the MCVideo user information entries of the served MCVideo group information entry; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the handled MCVideo ID;\nas the served MCVideo user information entry;\nc)\tif the MCVideo user information entry does not exist:\ni)\tshall insert an MCVideo user information entry with the MCVideo ID set to the handled MCVideo ID into the list of the MCVideo user information entries of the served MCVideo group information entry; and\nii)\tshall consider the inserted MCVideo user information entry as the served MCVideo user information entry; and\nd)\tshall make the following modifications in the served MCVideo user information entry:\ni)\tadd the MCVideo client ID derived from the received SIP request to the MCVideo client ID list if not already present; and\nii)\tset the expiration time as determined by local policy;\n5)\tshall perform the procedures specified in clause 8.2.2.3.5 for the served MCVideo group ID.\nThis clause is referenced from other procedures.\nUpon receiving a SIP request for an MCVideo group that the MCVideo user is not currently affiliated to and that requires the controlling MCVideo function to check on the eligibility of the MCVideo user to be affiliated to the MCVideo group, the controlling MCVideo function shall:\n1)\tshall identify the served MCVideo group ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP request;\n2)\tshall identify the handled MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP request;\n3)\tif an MCVideo group for the served MCVideo group ID does not exist in the group management server according to 3GPP TS 24.481 [24], shall consider the MCVideo user to be ineligible for affiliation and skip the rest of the steps;\n4)\tif the handled MCVideo ID is not a member of the MCVideo group identified by the served MCVideo group ID, shall consider the MCVideo user to be ineligible for affiliation and skip the rest of the steps;\n5)\tif there is no MCVideo group information entry in the list of MCVideo group information entries described in clause 8.2.2.3.2 with an MCVideo group identity matching the served MCVideo group ID, then shall consider the MCVideo user to be ineligible for affiliation and skip the rest of the steps; or\n6)\tshall consider the MCVideo user to be eligible for affiliation.\nUpon receiving a SIP SUBSCRIBE request such that:\n1)\tRequest-URI of the SIP SUBSCRIBE request contains the public service identity of the controlling MCVideo function associated with the served MCVideo group;\n2)\tthe SIP SUBSCRIBE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the<mcvideo-request-uri> element and the <mcvideo-calling-user-id> element;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tthe Event header field of the SIP SUBSCRIBE request contains the \"presence\" event type; and\n5)\tthe SIP SUBSCRIBE request contains an application/simple-filter+xml MIME body indicating per-group dynamic data of presence event package notification information according to clause 8.3.2 indicating the same MCVideo group ID as in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\nthen the MCVideo server:\n1)\tshall identify the served MCVideo group ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n2)\tshall identify the handled MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n3)\tif the Expires header field of the SIP SUBSCRIBE request is not included or has nonzero value lower than 4294967295, shall send a SIP 423 (Interval Too Brief) response to the SIP SUBSCRIBE request, where the SIP 423 (Interval Too Brief) response contains a Min-Expires header field set to 4294967295, and shall not continue with the rest of the steps;\n4)\tif an MCVideo group for the served MCVideo group ID does not exist in the group management server according to 3GPP TS 24.481 [24], shall reject the SIP SUBSCRIBE request with SIP 403 (Forbidden) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3903 [37] and IETF RFC 3856 [13] and skip the rest of the steps;\n5)\tif the handled MCVideo ID is not authorized to subscribe to group dynamic data of the MCVideo group identified by the served MCVideo group ID, shall reject the SIP SUBSCRIBE request with SIP 403 (Forbidden) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3903 [37] and IETF RFC 3856 [13] and skip the rest of the steps; and\n6)\tshall generate a SIP 200 (OK) response to the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 6665 [16].\nFor the duration of the subscription, the MCVideo server shall notify subscriber about changes of the information of the served MCVideo ID, as described in clause 8.2.2.3.10.\nIn order to notify the subscriber identified by the handled MCVideo ID about changes of the per-group dynamic data of the served MCVideo group ID, the MCVideo server:\n1)\tshall consider an MCVideo group information entry such that:\na)\tthe MCVideo group information entry is in the list of MCVideo group information entries described in clause 8.2.2.3.2; and\nb)\tthe MCVideo group ID of the MCVideo group information entry is equal to the served MCVideo group ID;\n2)\tshall generate an application/pidf+xml MIME body indicating per-group dynamic data according to clause 8.3.1 with the following clarifications:\na)\tthe MCVideo server shall include the \"expires\" attribute in the <affiliation> element; and\n3)\tshall send a SIP NOTIFY request according to 3GPP TS 24.229 [11], and IETF RFC 6665 [16] for the subscription created in clause 8.2.2.3.9. In the SIP NOTIFY request, the MCVideo server shall include the generated application/pidf+xml MIME body indicating per-group dynamic data.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "8.3\tCoding",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "8.3.1\tExtension of application/pidf+xml MIME type",
                            "text_content": "The parent clause of this clause describes an extension of the application/pidf+xml MIME body specified in IETF RFC 3863 [18]. The extension is used to indicate:\n-\tper-user affiliation information;\n-\tper-group affiliation information; and\n-\tper-group dynamic data information.\nThe application/pidf+xml MIME body indicating per-user affiliation information is constructed according to IETF RFC 3863 [18] and:\n1)\tcontains a <presence> root element according to IETF RFC 3863 [18];\n2)\tcontains an \"entity\" attribute of the <presence> element set to the MCVideo ID of the MCVideo user;\n3)\tcontains one <tuple> child element according to IETF RFC 3863 [18] per each MCVideo client of the <presence> element;\n4)\tcan contain a <p-id> child element defined in the XML schema defined in table 8.3.1.2-1, of the <presence> element set to an identifier of a SIP PUBLISH request;\n5)\tcontains an \"id\" attribute of the <tuple> element set to the MCVideo client ID;\n6)\tcontains one <status> child element of each <tuple> element;\n7)\tcontains one <affiliation> child element defined in the XML schema defined in table 8.3.1.2-1, of the <status> element, for each MCVideo group in which the MCVideo user is interested at the MCVideo client;\n8)\tcontains a \"group\" attribute of each <affiliation> element set to the MCVideo group ID of the MCVideo group in which the MCVideo user is interested at the MCVideo client;\n9)\tcan contain a \"status\" attribute of each <affiliation> element indicating the affiliation status of the MCVideo user to MCVideo group at the MCVideo client; and\n10)\tcan contain an \"expires\" attribute of each <affiliation> element indicating expiration of affiliation of the MCVideo user to MCVideo group at the MCVideo client.\nThe application/pidf+xml MIME body indicating per-group affiliation information is constructed according to IETF RFC 3856 [13] and:\n1)\tcontains the <presence> root element according to IETF RFC 3863 [18];\n2)\tcontains an \"entity\" attribute of the <presence> element set to the MCVideo group ID of the MCVideo group;\n3)\tcontains one <tuple> child element according to IETF RFC 3863 [18] of the <presence> element;\n4)\tcan contain a <p-id> child element defined in the XML schema defined in table 8.3.1.2-1, of the <presence> element set to an identifier of a SIP PUBLISH request;\n5)\tcontains an \"id\" attribute of the <tuple> element set to the MCVideo ID of the MCVideo user;\n6)\tcontains one <status> child element of each <tuple> element;\n7)\tcontains one <affiliation> child element defined in the XML schema defined in table 8.3.1.2-1, of the <status> element, for each MCVideo client at which the MCVideo user is interested in the MCVideo group;\n8)\tcontains one \"client\" attribute defined in the XML schema defined in table 8.3.1.2-2, of the <affiliation> element set to the MCVideo client ID;\n9)\tcan contain an \"expires\" attribute defined in the XML schema defined in table 8.3.1.2-2, of the <affiliation> element indicating expiration of affiliation of the MCVideo user to MCVideo group at the MCVideo client; and\n10)\tcan contain one <functionalAlias> child element defined in the XML schema defined in table 8.3.1.2-1, of the <status> element, for each functional alias that the group member identified by the \"id\" attribute of the <tuple> element has activated with the \"functionalAliasID\" attribute set to the corresponding functional alias ID.\nThe application/pidf+xml MIME body indicating per-group dynamic data information is constructed according to IETF RFC 3856 [13] and:\n1)\tcontains the <presence> root element according to IETF RFC 3863 [18];\n2)\tcontains an \"entity\" attribute of the <presence> element set to the MCVideo group ID of the MCVideo group;\n3)\tcan contain a <groupStatus> child element defined in the XML schema , of the <presence> element set to an appropriate value specified in Table 8.3.1.2-3;\n4)\tcan contain a \"ModifiedBy\" attribute of the <groupStatus> element;\n5)\tcan contain an <additionalData> child element definied in the XML schema defined in table 8.3.1.2-1, of the <presence> element;\n6)\tcan contain a <groupBroadcastAlias> attribute defined in the XML schema defined in table 8.3.1.2-1 of the <additionalData> element;\n7)\tcan contain a <groupRegroupAlias> attribute defined in the XML schema defined in table 8.3.1.2-1 of the <additionalData> element;\n8)\tcan contain a <groupCallOnoing> attribute defined in the XML schema defined in table 8.3.1.2-1 of the <additionalData> element;\n9)\tcontains one <tuple> child element per affiliated MCVideo ID of the MCVideo group, according to IETF RFC 3863 [18] of the <presence> element;\n10)\tcontains an \"id\" attribute of the <tuple> element set to the MCVideo ID of the group member;\n11)\tcontains one <status> child element of each <tuple> element;\n12)\tcontains one <affiliation> child element defined in the XML schema defined in table 8.3.1.2-1, of the <status> element, for each MCVideo client at which the MCVideo user is interested in the MCVideo group;\n13)\tcontains one \"client\" attribute defined in the XML schema defined in table 8.3.1.2-1, of the <affiliation> element set to the MCVideo client ID;\n14)\tcan contain an \"expires\" attribute defined in the XML schema defined in table 8.3.1.2-1, of the <affiliation> element indicating expiration of affiliation of the MCVideo user to MCVideo group at the MCVideo client; and\n15)\tcan contain one <functionalAlias> child element defined in the XML schema defined in table 8.3.1.2-1, of the <status> element, for each functional alias that the group member identified by the \"id\" attribute of the <tuple> element has activated with the \"functionalAliasID\" attribute set to the corresponding functional alias ID.\nTable 8.3.1.2-1: XML schema with elements and attributes extending the application/pidf+xml MIME body\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema\ntargetNamespace=\"urn:3gpp:ns:mcvideoPresInfo:1.0\"\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\nxmlns:mcvideoPI10=\"urn:3gpp:ns:mcvideoPresInfo:1.0\"\nelementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\n\n<!-- MCVideo specific child elements of presence element -->\n<xs:element name=\"p-id\" type=\"xs:string\"/>\n<xs:element name=\"groupStatus\" type=\"mcvideoPI10:groupStatusType\"/>\n<xs:element name=\"additionalData\" type=\"mcvideoPI10:additionalDataType\"/>\n\n<!-- MCVideo specific child elements of tuple element -->\n<xs:element name=\"affiliation\" type=\"mcvideoPI10:affiliationType\"/>\n<xs:complexType name=\"affiliationType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n<xs:attribute name=\"group\" type=\"xs:anyURI\" use=\"optional\"/>\n<xs:attribute name=\"client\" type=\"xs:anyURI\" use=\"optional\"/>\n<xs:attribute name=\"status\" type=\"mcvideoPI10:statusType\" use=\"optional\"/>\n<xs:attribute name=\"expires\" type=\"xs:dateTime\" use=\"optional\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:simpleType name=\"statusType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"affiliating\"/>\n<xs:enumeration value=\"affiliated\"/>\n<xs:enumeration value=\"deaffiliating\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:complexType name=\"groupStatusType\">\n<xs:simpleContent>\n<xs:extension base=\"xs:string\">\n<xs:attribute name=\"ModifiedBy\" type=\"xs:anyURI\" use=\"optional\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n\n<!-- MCVideo specific child elements of status element -->\n<xs:element name=\"functionalAlias\" type=\"mcvideoPI10:functionalAliasType\"/>\n<xs:complexType name=\"functionalAliasType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n<xs:attribute name=\"functionalAliasID\" type=\"xs:anyURI\" use=\"optional\"/>\n<xs:attribute name=\"expires\" type=\"xs:dateTime\" use=\"optional\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"emptyType\"/>\n<xs:complexType name=\"additionalDataType\">\n<xs:complexContent>\n<xs:extension base=\"mcvideoPI10:emptyType\">\n<xs:attribute name=\"groupBroadcastAlias\" type=\"xs:anyURI\" use=\"optional\"/>\n<xs:attribute name=\"groupRegroupAlias\" type=\"xs:anyURI\" use=\"optional\"/>\n<xs:attribute name=\"groupCallOngoing\" type=\"xs:boolean\" use=\"optional\"/>        <xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:extension>\n</xs:complexContent>\n</xs:complexType>\n</xs:schema>\nThe application/pidf+xml MIME body refers to namespaces using prefixes specified in table 8.3.1.2-2.\nTable 8.3.1.2-2: Assignment of prefixes to namespace names in the application/pidf+xml MIME body\n\nTable 8.3.1.2-3 ABNF syntax of values of the <groupStatus> element\nin-peril-value = %x69.6E.2D.70.65.72.69.6C ; \"in-peril\"\nemergency-value = %x65.6D.65.72.67.65.6E.63.79 ; \"emergency\"\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.3.1.2-2: Assignment of prefixes to namespace names in the application/pidf+xml MIME body",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.3.2\tExtension of application/simple-filter+xml MIME type",
                            "text_content": "The parent clause of this clause describes extension of the application/simple-filter+xml MIME body specified in IETF RFC 4661 [19].\nThe extension is used to indicate per-client restrictions of presence event package notification information, per-user restrictions of presence event package notification information and per-group dynamic data restrictions of presence event package notification information.\nThe application/simple-filter+xml MIME body indicating per client restrictions of presence event package notification information is constructed according to IETF RFC 4661 [19] and:\n1)\tcontains a <filter-set> root element according to IETF RFC 4661 [19];\n2)\tcontains a <ns-bindings> child element according to IETF RFC 4661 [19], of the <filter-set> element;\n3)\tcontains a <ns-binding> child element according to IETF RFC 4661 [19], of the <ns-bindings> element where the <ns-binding> element:\nA)\tcontains a \"prefix\" attribute according to IETF RFC 4661 [19] set to \"pidf\"; and\nB) contains a \"urn\" attribute set to the \"urn:ietf:params:xml:ns:pidf\" value;\n4)\tcontains a <ns-binding> child element according to IETF RFC 4661 [19], of the <ns-bindings> element where the <ns-binding> element:\nA)\tcontains a \"prefix\" attribute according to IETF RFC 4661 [19], set to \"mcvideoPI10\"; and\nB)\tcontains an \"urn\" attribute according to IETF RFC 4661 [19], set to the \"urn:3gpp:ns:mcvideoPresInfo:1.0\" value;\n5)\tcontains a <filter> child element according to IETF RFC 4661 [19], of the <filter-set> element where the <filter> element;\nA)\tcontains an \"id\" attribute set to a value constructed according to IETF RFC 4661 [19];\nB)\tdoes not contain an \"uri\" attribute of the <filter> child element according to IETF RFC 4661 [19]; and\nC)\tdoes not contain an \"domain\" attribute according to IETF RFC 4661 [19];\n6)\tcontains a <what> child element according to IETF RFC 4661 [19], of the <filter> element; and\n7)\tcontains an <include> child element according to IETF RFC 4661 [19], of the <what> element where the <include> element;\nA)\tdoes not contain a \"type\" attribute according to IETF RFC 4661 [19]; and\nB)\tcontains the value, according to IETF RFC 4661 [19], set to concatenation of the '//pidf:presence/pidf::tuple[@id=\"' string, the MCVideo client ID, and the '\"]' string.\nThe application/simple-filter+xml MIME body indicating per user restrictions of presence event package notification information is constructed according to IETF RFC 4661 [19] and:\n1)\tcontains a <filter-set> root element according to IETF RFC 4661 [19];\n2)\tcontains a <ns-bindings> child element according to IETF RFC 4661 [19], of the <filter-set> element;\n3)\tcontains a <ns-binding> child element according to IETF RFC 4661 [19], of the <ns-bindings> element where the <ns-binding> element:\nA)\tcontains a \"prefix\" attribute according to IETF RFC 4661 [19] set to \"pidf\"; and\nB) contains a \"urn\" attribute set to the \"urn:ietf:params:xml:ns:pidf\" value;\n4)\tcontains a <ns-binding> child element according to IETF RFC 4661 [19], of the <ns-bindings> element where the <ns-binding> element:\nA)\tcontains a \"prefix\" attribute according to IETF RFC 4661 [19], set to \"mcvideoPI10\"; and\nB)\tcontains an \"urn\" attribute according to IETF RFC 4661 [19], set to the \"urn:3gpp:ns:mcvideoPresInfo:1.0\" value;\n5)\tcontains a <filter> child element according to IETF RFC 4661 [19], of the <filter-set> element where the <filter> element;\nA)\tcontains an \"id\" attribute set to a value constructed according to IETF RFC 4661 [19];\nB)\tdoes not contain an \"uri\" attribute of the <filter> child element according to IETF RFC 4661 [19]; and\nC)\tdoes not contain an \"domain\" attribute according to IETF RFC 4661 [19];\n6)\tcontains a <what> child element according to IETF RFC 4661 [19], of the <filter> element; and\n7)\tcontains an <include> child element according to IETF RFC 4661 [19], of the <what> element where the <include> element;\nA)\tdoes not contain a \"type\" attribute according to IETF RFC 4661 [19]; and\nB)\tcontains the value, according to IETF RFC 4661 [19], set to concatenation of the '//pidf:presence/pidf::tuple[@id=\"' string, the MCVideo ID, and the '\"]' string.\nThe application/simple-filter+xml MIME body indicating per-group dynamic data restrictions of presence event package notification information is constructed according to IETF RFC 4661 [19] and:\n1)\tcontains a <filter-set> root element according to IETF RFC 4661 [19];\n2)\tcontains an <ns-bindings> child element according to IETF RFC 4661 [19], of the <filter-set> element;\n3)\tcontains an <ns-binding> child element according to IETF RFC 4661 [19], of the <ns-bindings> element where the <ns-binding> element:\nA)\tcontains a \"prefix\" attribute according to IETF RFC 4661 [19] set to \"pidf\"; and\nB) contains a \"urn\" attribute set to the \"urn:ietf:params:xml:ns:pidf\" value;\n4)\tcontains an <ns-binding> child element according to IETF RFC 4661 [19], of the <ns-bindings> element where the <ns-binding> element:\nA)\tcontains a \"prefix\" attribute according to IETF RFC 4661 [19], set to \"mcvideoPI10\"; and\nB)\tcontains a \"urn\" attribute according to IETF RFC 4661 [19], set to the \"urn:3gpp:ns:mcvideoPresInfo:1.0\" value;\n5)\tcontains a <filter> child element according to IETF RFC 4661 [19], of the <filter-set> element where the <filter> element;\nA)\tcontains an \"id\" attribute set to a value constructed according to IETF RFC 4661 [19];\nB)\tdoes not contain a \"uri\" attribute of the <filter> child element according to IETF RFC 4661 [19]; and\nC)\tdoes not contain a \"domain\" attribute according to IETF RFC 4661 [19];\n6)\tcontains a <what> child element according to IETF RFC 4661 [19], of the <filter> element; and\n7)\tcontains one or more <include> child elements according to IETF RFC 4661 [19], of the <what> element where the <include> element(s);\nA)\tdoes not contain a \"type\" attribute according to IETF RFC 4661 [19]; and\nB)\tcan contain one of the values, according to IETF RFC 4661 [19], needed to retrieve the dynamic group data the UE is interested in:\na)\t\"//pidf:presence/pidf:groupStatus/@pidf:ModifiedBy\" if the group status is requested;\nb)\t\"//pidf:presence/pidf:additionalData/@pidf:groupBroadcastAlias\" if the group broadcast alias is requested;\nc)\t\"//pidf:presence/pidf:additionalData/@pidf:groupRegroupAlias\" if the group regroup alias is requested;\nd)\t\"//pidf:presence/pidf:additionalData/@pidf:groupCallOngoing\" if the group call ongoing information is requested; or\ne)\t\"//pidf:presence/pidf:tuple/pidf:status/pidf:affiliation/@pidf:client [@pidf:status=\"affiliated\"]\" if the Contact address for all affiliated users are requested.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "9\tGroup call",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "9.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the group call procedures for on-network and off-network.\nFor on-network, prearranged group call including emergency group call for each functional entity are specified in clause 9.2.1 and chat group (restricted) call including emergency group call for each functional entity are specified in clause 9.2.2.\nOff-network group call and off-network broadcast group call are specified in clause 9.3 and clause 9.4.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "9.2\tOn-network group call",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "9.2.1\tPrearranged group call",
                            "text_content": "Upon receiving a request from an MCVideo user to establish an MCVideo prearranged group session the MCVideo client shall determine whether the group document contains a <list-service> element that contains a <preconfigured-group-use-only> element. If a <preconfigured-group-use-only> element exists and is set to the value \"true\", then the MCVideo client:\n1)\tshould indicate to the MCVideo user that calls are not allowed on the indicated group; and\n2)\tshall skip the remainder of this procedure.\nThe MCVideo client shall generate an initial SIP INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tif the MCVideo user has requested the origination of an MCVideo emergency group call or is originating an MCVideo prearranged group call and the MCVideo emergency state is already set, the MCVideo client shall comply with the procedures in clause 6.2.8.1.1;\n2)\tif the MCVideo user has requested the origination of an MCVideo imminent peril group call, the MCVideo client shall comply with the procedures in clause 6.2.8.1.9;\n3)\tif the MCVideo user has requested the origination of a broadcast group call, the MCVideo client shall comply with the procedures in clause 6.2.8.2;\n4)\tshall include the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP INVITE request according to IETF RFC 3840 [22];\n5)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n6)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP INVITE request;\n7)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n8)\tshould include the \"timer\" option tag in the Supported header field;\n9)\tshould include the Session-Expires header field according to IETF RFC 4028 [23]. It is recommended that the \"refresher\" header field parameter is omitted. If included, the \"refresher\" header field parameter shall be set to \"uac\";\n10)\tshall set the Request-URI of the SIP INVITE request to the public service identity identifying the participating MCVideo function serving the MCVideo user;\nNOTE 1:\tThe MCVideo client is configured with public service identity identifying the participating MCVideo function serving the MCVideo user.\n11)\tmay include a P-Preferred-Identity header field in the SIP INVITE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n12)\tif the MCVideo emergency state is already set or the MCVideo client emergency group state for this group is set to \"MVEG 2: in-progress\", the MCVideo client shall include the Resource-Priority header field and comply with the procedures in clause 6.2.8.1.2;\n13)\tif the MCVideo client imminent peril group state for this group is set to \"MVIG 2: in-progress\" or \"MVIG 4: confirm-pending\" shall include the Resource-Priority header field and comply with the procedures in clause 6.2.8.1.12;\n14)\tshall contain in an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <session-type> element set to a value of \"prearranged\";\nb)\tthe <mcvideo-request-uri> element set to the group identity;\nc)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\nNOTE 2:\tThe MCVideo client does not include the MCVideo ID of the originating MCVideo user in the body, as this will be inserted into the body of the SIP INVITE request that is sent from the originating participating MCVideo function.\nd)\tan <anyExt> element containing:\ni)\tif the group identity identifies a temporary group or a group regroup based on a preconfigured group, the <associated-group-id> element set to the MCVideo group ID of a constituent group the MCVideo client is member of;\nii)\tif the MCVideo client is aware of active functional aliases, and an active functional alias is to be included in the initial SIP INVITE request, the <functional-alias-URI> element set to the URI of the used functional alias; and\nNOTE 3:\tThe MCVideo client is informed about temporary groups regrouping MCVideo groups that the user is a member of as specified in 3GPP TS 24.481 [24]. The MCVideo client is informed about regroups based on a preconfigured group of MCVideo groups that the user is member of and affiliated to as specified in clause 16 of the present document.\nNOTE 4:\tIf the MCVideo user selected a TGI where there are several MCVideo groups where the MCVideo user is a member, the MCVideo client selects one of those MCVideo groups.\niii)\tif the MCVideo user has requested an application priority, the <user-requested-priority> element set to the user provided value;\n15)\tshall include an SDP offer according to 3GPP TS 24.229 [11] with the clarifications given in clause 6.2.1;\n16)\tif an implicit transmission request is required, shall indicate this as specified in clause 6.4; and\n17)\tshall send the SIP INVITE request towards the MCVideo server according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP INVITE request, the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5];\n2)\tif the MCVideo emergency group call state is set to \"MVEGC 2: emergency-call-requested\" or \"MVEGC 3: emergency-call-granted\" or the MCVideo imminent peril group call state is set to \"MVIGC 2: imminent-peril-call-requested\" or \"MVIGC 3: imminent-peril-call-granted\", the MCVideo client shall perform the actions specified in clause 6.2.8.1.4; and\n3)\tmay subscribe to the conference event package as specified in clause 9.1.3.1.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the SIP INVITE request:\n1)\tif the MCVideo emergency group call state is set to \"MVEGC 2: emergency-call-requested\" or \"MVEGC 3: emergency-call-granted\"; or\n2)\tif the MCVideo imminent peril group call state is set to \"MVIGC 2: imminent-peril-call-requested\" or \"MVIGC 3: imminent-peril-call-granted\";\nthe MCVideo client shall perform the actions specified in clause 6.2.8.1.5.\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing group session, the MCVideo client shall follow the actions specified in clause 6.2.8.1.13.\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of an initial SIP INVITE request, the MCVideo client shall follow the procedures for termination of multimedia sessions in the IM CN subsystem as specified in 3GPP TS 24.229 [11] with the clarifications below.\nThe MCVideo client:\n1)\tmay reject the SIP INVITE request if any of the following conditions are met:\na)\tMCVideo client does not have enough resources to handle the call;\nb)\tthe number of the maximum simultaneous MCVideo emergency group calls supported for the specific calling functional alias as specified in the <MaxSimultaneousEmergencyGroupCalls> element within the <FunctionalAliasList> list element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) has been reached; or\nc)\tany other reason outside the scope of this specification;\n2)\tif the SIP INVITE request is rejected in step 1), shall respond toward participating MCVideo function either with appropriate reject code as specified in 3GPP TS 24.229 [11] and warning texts as specified in clause 4.4.2 or with SIP 480 (Temporarily unavailable) response not including warning texts if the user is authorised to restrict the reason for failure and skip the rest of the steps of this clause;\nNOTE:\tIf the SIP INVITE request contains an emergency indication or imminent peril indication, the MCVideo client can by means beyond the scope of this specification choose to accept the request.\n3)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n4)\tif the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user an indication that this is a SIP INVITE request for an MCVideo emergency group call and:\ni)\tshould display the MCVideo ID of the originator of the MCVideo emergency group call contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body;\nii)\tshould display the MCVideo group identity of the group with the emergency condition contained in the <mcvideo-calling-group-id> element; and\niii)\tif the <alert-ind> element is set to \"true\", should display to the MCVideo user an indication of the MCVideo emergency alert and associated information;\nb)\tshall set the MCVideo emergency group state to \"MVEG 2: in-progress\";\nc)\tshall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\nd)\tshall set the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-gc-capable\"; otherwise\n5)\tif the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user an indication that this is a SIP INVITE request for an MCVideo imminent peril group call and:\ni)\tshould display the MCVideo ID of the originator of the MCVideo imminent peril group call contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tshould display the MCVideo group identity of the group with the imminent peril condition contained in the <mcvideo-calling-group-id> element; and\nb)\tshall set the MCVideo imminent peril group state to \"MVIG 2: in-progress\";\n6)\tmay display to the MCVideo user the MCVideo ID of the inviting MCVideo user;\n6A)\tmay display to the MCVideo user the functional alias of the inviting MCVideo user;\n7)\tshall perform the automatic commencement procedures specified in clause 6.2.3.1.2 if one of the following conditions are met:\na)\tSIP INVITE request contains an Answer-Mode header field with the value \"Auto\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to automatic commencement mode; or\nb)\tSIP INVITE request contains an Answer-Mode header field with the value \"Auto\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to manual commencement mode, yet the invited MCVideo client allows the call to be answered with automatic commencement mode;\n8)\tshall perform the manual commencement procedures specified in clause 6.2.3.2.2 if one of the following conditions are met:\na)\tSIP INVITE request contains an Answer-Mode header field with the value \"Manual\" and the MCVideo service setting at the invited MCVideo client for answering the call is to use manual commencement mode; or\nb)\tSIP INVITE request contains an Answer-Mode header field with the value \"Manual\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to automatic commencement mode, yet the invited MCVideo client allows the call to be answered with manual commencement mode; and\n9)\twhen the SIP 200 (OK) response to the SIP INVITE request is sent, may subscribe to the conference event package as specified in clause 9.1.3.1.\nThis clause covers both on-demand session and pre-established sessions.\nUpon receiving a request from an MCVideo user to upgrade the MCVideo group session to an emergency condition or an imminent peril condition on an MCVideo prearranged group, the MCVideo client shall generate a SIP re-INVITE request as specified in 3GPP TS 24.229 [11], with the clarifications given below.\n1)\tif the MCVideo user is requesting to upgrade the MCVideo group session to an in-progress emergency group state and this is an unauthorised request for an MCVideo emergency call as determined by the procedures of clause 6.2.8.1.8, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to upgrade the MCVideo group session to an in-progress emergency group state; and\nb)\tshall skip the remaining steps of the current clause;\n2)\tif the MCVideo user is requesting to upgrade the MCVideo group session to an in-progress imminent peril state and this is an unauthorised request for an MCVideo imminent peril group call as determined by the procedures of clause 6.2.8.1.8, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to upgrade the MCVideo group session to an in-progress imminent peril group state; and\nb)\tshall skip the remaining steps of the current clause;\n3)\tif the MCVideo user has requested to upgrade the MCVideo group session to an MCVideo emergency call, the MCVideo client:\na)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body by following the procedures in clause 6.2.8.1.1;\nb)\tif an indication of an MCVideo emergency alert is to be included, shall perform the procedures specified in clause 6.2.9.1 for the MCVideo emergency alert trigger; and\nc)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.2.\n4)\tif the MCVideo user has requested to upgrade the MCVideo group session to an MCVideo imminent peril call, the MCVideo client:\na)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body by following the procedures in clause 6.2.8.1.9; and\nb)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.12;\n5)\tif the SIP re-INVITE request is to be sent within an on-demand session, shall include in the SIP re-INVITE request an SDP offer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.2.1;\n6)\tif an implicit transmission request is required, shall indicate this as specified in clause 6.4; and\n7)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5]; and\n2)\tshall perform the actions specified in clause 6.2.8.1.4.\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing group session, the MCVideo client shall follow the actions specified in clause 6.2.8.1.13.\nOn receiving a SIP 4xx response, SIP 5xx response or a SIP 6xx response to the SIP re-INVITE request the MCVideo client shall perform the actions specified in clause 6.2.8.1.5.\nThis clause covers both on-demand session and pre-established sessions.\nUpon receiving a request from an MCVideo user to cancel the in-progress emergency condition on a prearranged MCVideo group, the MCVideo client shall generate a SIP re-INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tif the MCVideo user is not authorised to cancel the in-progress emergency group state of the MCVideo group as determined by the procedures of clause 6.2.8.1.7, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to cancel the in-progress emergency group state of the MCVideo group; and\nb)\tshall skip the remaining steps of the current clause;\n2)\tshall, if the MCVideo user is cancelling an in-progress emergency condition and optionally an MCVideo emergency alert originated by the MCVideo user, include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.1.3;\n3)\tshall, if the MCVideo user is cancelling an in-progress emergency condition and an MCVideo emergency alert originated by another MCVideo user, include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.1.14;\n4)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <session-type> element set to a value of \"prearranged\"; and\nb)\tthe <mcvideo-request-uri> element set to the group identity;\nNOTE 1:\tThe MCVideo ID of the originating MCVideo user is not included in the body, as this will be inserted into the body of the SIP INVITE request that is sent by the originating participating MCVideo function.\n5)\tshall include the g.3gpp.mcvideo media feature tag in the Contact header field of the SIP re-INVITE request according to IETF RFC 3840 [22];\n6)\tif the SIP re-INVITE request is to be sent within an on-demand session, shall include in the SIP re-INVITE request an SDP offer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.2.1;\n7)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.2; and\n8)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request, the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5];\n2)\tshall set the MCVideo emergency group state of the group to \"MVEG 1: no-emergency\";\n3)\tshall set the MCVideo emergency group call state of the group to \"MVEGC 1: emergency-gc-capable\"; and\n4)\tif the MCVideo emergency alert state is set to \"MVEA 4: Emergency-alert-cancel-pending\", the sent SIP re-INVITE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body and the SIP 2xx response to the SIP request for a priority group call does not contain a Warning header field as specified in clause 4.4 with the warning text containing the mcvideo-warn-code set to \"149\", shall set the MCVideo emergency alert state to \"MVEA 1: no-alert\".\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing group session, the MCVideo client shall follow the actions specified in clause 6.2.8.1.13.\nOn receiving a SIP 4xx response, SIP 5xx response or SIP 6xx response to the SIP re-INVITE request:\n1)\tshall set the MCVideo emergency group state as \"MVEG 2: in-progress\";\n2)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response contains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element set to a value of \"true\" and the sent SIP re-INVITE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated\"; and\n3)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response did not contain an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element and did not contain an <originated-by> element, the MCVideo emergency alert (MVEA) state shall revert to its value prior to entering the current procedure.\nNOTE 3:\tIf the in-progress emergency group state cancel request is rejected, the state of the session does not change, i.e. continues with MCVideo emergency group call level priority.\nThis clause covers on-demand session.\nUpon receiving a request from an MCVideo user to cancel the in-progress imminent peril condition on a prearranged MCVideo group, the MCVideo client shall generate a SIP re-INVITE request by following the procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tif the MCVideo user is not authorised to cancel the in-progress imminent peril group state of the MCVideo group as determined by the procedures of clause 6.2.8.1.10, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to cancel the in-progress imminent peril group state of the MCVideo group; and\nb)\tshall skip the remaining steps of the current clause;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.1.11; and\n3)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.12;\n4)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <session-type> element set to a value of \"prearranged\"; and\nb)\tthe <mcvideo-request-uri> element set to the group identity;\nNOTE 1:\tThe MCVideo ID of the originating MCVideo user is not included in the body, as this will be inserted into the body of the SIP re-INVITE request that is sent by the originating participating MCVideo function.\n5)\tshall include the g.3gpp.mcvideo media feature tag in the Contact header field of the SIP re-INVITE request according to IETF RFC 3840 [22];\n6)\tif the SIP re-INVITE request is to be sent within an on-demand session, shall include in the SIP re-INVITE request an SDP offer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.2.1; and\n7)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request, the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5];\n2)\tshall set the MCVideo imminent peril group state of the group to \"MVIG 1: no-imminent-peril\"; and\n3)\tshall set the MCVideo imminent peril group call state of the group to \"MVIGC 1: imminent-peril-gc-capable\".\nOn receiving a SIP 4xx, SIP 5xx response or SIP 6xx response to the SIP re-INVITE request:\n1)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response:\na)\tcontains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <imminentperil-ind> element set to a value of \"true\"; or\nb)\tdoes not contain an application/vnd.3gpp.mcvideo-info+xml MIME body with an <imminentperil-ind> element;\nthen the MCVideo client shall set the MCVideo imminent peril group state as \"MVIG 2: in-progress\".\nNOTE 3:\tThis is the case where the MCVideo client requested the cancellation of the MCVideo imminent peril in-progress state and was rejected.\nThis clause covers both on-demand session.\nUpon receipt of a SIP re-INVITE request the MCVideo client:\n1)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user the MCVideo ID of the originator of the MCVideo emergency group call and an indication that this is an MCVideo emergency group call;\nb)\tif the <mcvideoinfo> element containing the <mcvideo-Params> element contains an <alert-ind> element set to \"true\", should display to the MCVideo user an indication of the MCVideo emergency alert and associated information;\nc)\tshall set the MCVideo emergency group state to \"MVEG 2: in-progress\";\nd)\tshall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\ne)\tshall set the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-gc-capable\";\n2)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user the MCVideo ID of the originator of the MCVideo imminent peril group call and an indication that this is an MCVideo imminent peril group call; and\nb)\tshall set the MCVideo imminent peril group state to \"MIG 2: in-progress\";\n3)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"false\":\na)\tshould display to the MCVideo user the MCVideo ID of the MCVideo user cancelling the MCVideo emergency group call;\nb)\tif the <mcvideoinfo> element containing the <mcvideo-Params> element contains an <alert-ind> element set to \"false\":\ni)\tshould display to the MCVideo user an indication of the MCVideo emergency alert cancellation and the MCVideo ID of the MCVideo user cancelling the MCVideo emergency alert; and\nii)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body including an <originated-by> element:\nA)\tshould display to the MCVideo user the MCVideo ID contained in the <originated-by> element of the MCVideo user that originated the MCVideo emergency alert; and\nB)\tif the MCVideo ID contained in the <originated-by> element is the MCVideo ID of the receiving MCVideo user shall set the MCVideo emergency alert state to \"MVEA 1: no-alert\";\nc)\tshall set the MCVideo emergency group state to \"MVEG 1: no-emergency\"; and\nd)\tif the MCVideo emergency group call state of the group is set to \"MVEGC 3: emergency-call-granted\", shall set the MCVideo emergency group call state of the group to \"MVEGC 1: emergency-gc-capable\";\n4)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"false\":\na)\tshould display to the MCVideo user the MCVideo ID of the MCVideo user cancelling the MCVideo imminent peril group call and an indication that this is an MCVideo imminent peril group call;\nb)\tshall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\nc)\tshall set the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-gc-capable\";\n5)\tshall check if a Resource-Priority header field is included in the incoming SIP re-INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n6)\tshall accept the SIP re-INVITE request and generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n7)\tshall include the g.3gpp.mcvideo media feature tag in the Contact header field of the SIP 200 (OK) response;\n8)\tshall include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP 200 (OK) response;\n9)\tif the SIP re-INVITE request was received within an on-demand session, shall include an SDP answer in the SIP 200 (OK) response to the SDP offer in the incoming SIP re-INVITE request according to 3GPP TS 24.229 [11] with the clarifications given in clause 6.2.2;\n10)\tshall send the SIP 200 (OK) response towards the MCVideo server according to rules and procedures of 3GPP TS 24.229 [11]; and\n11)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nWhen an MCVideo client wants to leave the MCVideo session that has been established using on-demand session, the MCVideo client shall follow the procedures as specified in clause 6.2.4.1.\nUpon receiving a SIP BYE request for releasing the prearranged MCVideo group call, the MCVideo client shall follow the procedures as specified in clause 6.2.6.\nUpon receiving a request from an MCVideo user to re-join an ongoing MCVideo session or triggered by coming back from out of coverage, the MCVideo client shall generate an initial SIP INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nNOTE:\tHow an MCVideo client is informed whether it comes back from out of coverage is out of scope of present document.\nThe MCVideo client shall follow the procedures specified in clause 9.2.1.2.1.1 with the clarification in step 9) of clause 9.2.1.2.1.1 that the Request-URI of the SIP INVITE request shall contain a URI of the MCVideo session identity to re-join.\nIn the procedures in this clause:\n1)\tgroup identity in an incoming SIP INVITE request refers to the group identity from the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request;\n2)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n3)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"prearranged\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\nNOTE 1:\tif the SIP INVITE request contains an emergency indication or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating a priority call as determined by clause 6.3.2.1.6.1, the participating MCVideo function can according to local policy choose to accept the request.\n2)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP INVITE request, and shall authorise the calling user;\nNOTE 2:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif through local policy in the participating MCVideo function, the user identified by the MCVideo ID is not authorised to initiate prearranged group calls, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response to the SIP INVITE request, with warning text set to \"109 user not authorised to make prearranged group calls\" in a Warning header field as specified in clause 4.4;\n4)\tshall validate the media parameters and if the MCVideo codecs are not offered in the SIP INVITE request shall reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n5)\tshall check if the number of maximum simultaneous MCVideo group calls supported for the MCVideo user as specified in the <MaxSimultaneousCallsN6> element of the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) has been exceeded. If exceeded, the participating MCVideo function shall respond with a SIP 486 (Busy Here) response with the warning text set to \"103 maximum simultaneous MCVideo group calls reached\" in a Warning header field as specified in clause 4.4. Otherwise, continue with the rest of the steps;\nNOTE 3:\tIf the SIP INVITE request contains an emergency indication or an imminent peril indication, the participating MCVideo function can by means beyond the scope of this specification choose to allow for an exception to the limit for the maximum simultaneous MCVideo sessions supported for the MCVideo user. Alternatively, a lower priority session of the MCVideo user could be terminated to allow for the new session.\n6)\tif the user identified by the MCVideo ID is not affiliated to the group identified in the the <mcvideo-request-uri> or in <associated-group-id> element of \"SIP INVITE request for originating participating MCVideo function\" as determined by clause 8.2.2.2.11 and this is an authorised request for originating a priority call as determined by clause 6.3.2.1.6.1, shall perform the actions specified in clause 8.2.2.2.12 for implicit affiliation;\n7)\tif the actions for implicit affiliation specified in step 6) above were performed but not successful in affiliating the MCVideo user due to the MCVideo user already having N2 simultaneous affiliations (specified in the <MaxAffiliationsN2> element of the <Common> element of the corresponding MCVideo user profile), shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 486 (Busy Here) response with the warning text set to \"102 too many simultaneous affiliations\" in a Warning header field as specified in clause 4.4. and skip the rest of the steps.\nNOTE 4:\tN2 is the total number of MCVideo groups that an MCVideo user can be affiliated to simultaneously as specified in 3GPP TS 23.281 [26].\nNOTE 5:\tif the SIP INVITE request contains an emergency indication set to a value of \"true\" or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating a priority call as determined by clause 6.3.2.1.6.1, the participating MCVideo function can according to local policy choose to allow an exception to the N2 limit specified in the <MaxAffiliationsN2> element of the <Common> element of the MCVideo user profile of the served MCVideo ID. Alternatively, a lower priority affiliation of the MCVideo user could be cancelled to allow for the new affiliation.\nIf the incoming SIP INVITE request does not contain an <associated-group-id> element, then the group identity contained in the <mcvideo-request-uri> element is determined not to be a TGI or the identity of a group regroup based on a preconfigured group and the participating MCVideo function:\n1)\tshall determine the public service identity of the controlling MCVideo function associated with the group identity in the SIP INVITE request;\nNOTE 6:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 7:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 8:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 9:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 10:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n2)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.3;\n3)\tshall set the Request-URI to the public service identity of the controlling MCVideo function determined in step 8);\n4)\tshall not copy the following header fields from the incoming SIP INVITE request to the outgoing SIP INVITE request, if they were present in the incoming SIP INVITE request:\na)\tAnswer-Mode header field as specified in IETF RFC 5373 [27]; and\nb)\tPriv-Answer-Mode header field as specified in IETF RFC 5373 [27];\n5)\tshall set the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request to the MCVideo ID of the calling user;\n6)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the MCVideo client as specified in clause 6.3.2.1.1.1;\n6a)\tif the received SIP request contains a <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, then check if the status of the functional alias is activated for the MCVideo ID. If the functional alias status is activated, then set the <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP INVITE request to the received value, if the status is unequal activated then do not include a <functional-alias-URI> element;\n7)\tif the received SIP INVITE request contains an application/vnd.3gpp.location-info+xml MIME body and if not already copied, shall copy the contents of the application/vnd.3gpp.location-info+xml MIME body received in the SIP INVITE request into an application/vnd.3gpp.location-info+xml MIME body included in the outgoing SIP request;\n8)\tif a Resource-Priority header field was included in the received SIP INVITE request, shall include a Resource-Priority header field according to rules and procedures of 3GPP TS 24.229 [11] set to the value indicated in the Resource-Priority header field of the SIP INVITE request from the MCVideo client; and\nNOTE 11:\tThe participating MCVideo function will leave verification of the Resource-Priority header field to the controlling MCVideo function.\n9)\tshall forward the SIP INVITE request, according to 3GPP TS 24.229 [11].\nIf incoming SIP INVITE request contains an <associated-group-id> element, then the group identity contained in the <mcvideo-request-uri> element is determined to be a TGI or the identity of a group regroup based on a preconfigured group and the participating MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.8;\n2)\tshall include an SDP offer based upon the SDP offer in the received SIP INVITE request from the MCVideo client as specified in clause 6.3.2.1.1.1; and\n3)\tshall forward the SIP INVITE request according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response in response to the above SIP INVITE request, the participating MCVideo function:\n1)\tif the received SIP 2xx response contains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <MKFC-GKTPs> element, shall perform the procedures in clause 6.3.2.3.2;\n2)\tshall generate a SIP 200 (OK) response as in clause 6.3.2.1.4.2;\n3)\tshall include in the SIP 200 (OK) response an SDP answer as specified in the clause 6.3.2.1.2.1;\n4)\tshall include Warning header field(s) that were received in the incoming SIP 200 (OK) response;\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n6)\tshall include an MCVideo session identity mapped to the MCVideo session identity provided in the Contact header field of the received SIP 200 (OK) response;\n7)\tif the procedures of clause 8.2.2.2.12 for implicit affiliation were performed in the present clause, shall complete the implicit affiliation by performing the procedures of clause 8.2.2.2.13;\n8)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11];\n9)\tshall interact with Media Plane as specified in 3GPP TS 24.581 [5]; and\n10)\tshall start the SIP Session timer according to rules and procedures of IETF RFC 4028 [23].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the above SIP INVITE request the participating MCVideo function:\n1)\tshall generate a SIP response according to 3GPP TS 24.229 [11];\n2)\tshall include Warning header field(s) that were received in the incoming SIP response;\n3)\tshall forward the SIP response to the MCVideo client according to 3GPP TS 24.229 [11]; and\n4)\tif the implicit affiliation procedures of clause 8.2.2.2.12 were invoked in this procedure, shall perform the procedures of clause 8.2.2.2.14;\nThis clause covers on-demand session.\nUpon receipt of a SIP re-INVITE request for an MCVideo session identifying an on-demand prearranged MCVideo group session, the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP re-INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\nNOTE 1:\tIf the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\", the participating MCVideo function can choose to accept the request.\n2)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not, reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n3)\tshall generate an outgoing SIP re-INVITE request as specified in clause 6.3.2.1.9;\n4)\tshall, if the SIP re-INVITE request was received within an on-demand session, include in the SIP re-INVITE request an SDP offer based on the SDP offer in the received SIP re-INVITE request as specified in clause 6.3.2.1.1;\n5)\tif the received SIP re-INVITE request contains a Resource-Priority header field, shall include a Resource-Priority header field with the contents set as in the received Resource-Priority header field; and\nNOTE 3: The controlling MCVideo function will determine the validity of the Resource-Priority header field.\n6)\tshall forward the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response to the above SIP re-INVITE request in step 7) the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.2.1.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer as specified in the clause 6.3.2.1.2.1;\n3)\tshall include Warning header field(s) that were received in the incoming SIP 200 (OK) response;\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n5)\tshall send the SIP 200 (OK) response towards the MCVideo client according to 3GPP TS 24.229 [11]; and\n6)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nUpon receipt of a SIP 403 (Forbidden) response to the above SIP INVITE request in step 7) the participating MCVideo function:\n1)\tshall generate a SIP 403 (Forbidden) response according to 3GPP TS 24.229 [11];\n2)\tshall copy, if included in the received SIP 403 (Forbidden) response, the application/vnd.3gpp.mcvideo-info+xml MIME body MIME body to the outgoing SIP (Forbidden) response;\n3)\tshall include Warning header field(s) that were received in the incoming SIP 403 (Forbidden) response;\n4)\tshall forward the SIP 403 (Forbidden) response to the MCVideo client according to 3GPP TS 24.229 [11]; and\n5)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nNOTE 1:\tThis clause covers on-demand session.\nUpon receipt of a \"SIP INVITE request for terminating participating MCVideo function\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15], and shall not continue with the rest of the steps;\nNOTE 2:\tif the SIP INVITE request contains an emergency indication or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating a priority call as determined by clause 6.3.2.1.6.1, the participating MCVideo function can according to local policy choose to accept the request.\n2)\tshall check the presence of the isfocus media feature tag in the URI of the Contact header field and if it is not present then the participating MCVideo function shall reject the request with a SIP 403 (Forbidden) response with the warning text set to \"104 isfocus not assigned\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n3)\tif the Answer-Mode Indication in the application/poc-settings+xml MIME body has not yet been received from the invited MCVideo client as defined in clause 7.3.3 or clause 7.3.4, shall reject the request with a SIP 480 (Temporarily Unavailable) response with the warning text set to \"146 T-PF unable to determine the service settings for the called user\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n4)\tshall use the MCVideo ID present in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request to retrieve the binding between the MCVideo ID and public user identity;\n5)\tif the binding between the MCVideo ID and public user identity does not exist, then the participating MCVideo function shall reject the SIP INVITE request with a SIP 404 (Not Found) response. Otherwise, continue with the rest of the steps;\n6)\tif the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <MKFC-GKTPs> element, shall perform the procedures in clause 6.3.2.3.2;\n7)\tshall perform the automatic commencement procedures specified in clause 6.3.2.2.5.1 and according to IETF RFC 5373 [27] if the \"SIP INVITE request for terminating participating MCVideo function\" does not contain an Answer-Mode header field and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as per clause 7.3.3 or clause 7.3.4 is set to \"auto-answer\"; and\n8)\tshall perform the manual commencement procedures specified in clause 6.3.2.2.6.1 and according to IETF RFC 5373 [27] if the \"SIP INVITE request for terminating participating MCVideo function\" does not contain an Answer-Mode header field and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as per clause 7.3.3 or clause 7.3.4 is set to \"manual-answer\".\nUpon receiving from the MCVideo client a SIP BYE request the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.1.6.\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.2.8.1.\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"prearranged\", the participating MCVideo function shall follow the procedures specified in clause 9.2.1.3.1.1 with the clarification in step 10) of clause 9.2.1.3.1.1 that the Request-URI of the SIP INVITE request shall contain a URI of the MCVideo session identity which mapped to the MCVideo session identity provided in Request-URI of the \"SIP INVITE request for originating participating MCVideo function\".\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of a SIP re-INVITE request for a terminating MCVideo client of a MCVideo group containing an emergency indication or imminent peril indication, the participating MCVideo function:\n1)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n2)\tshall generate an outgoing SIP re-INVITE request as specified in clause 6.3.2.2.10;\n3)\tshall include in the SIP re-INVITE request an SDP offer based on the SDP offer in the received SIP re-INVITE request as specified in clause 6.3.2.2.1; and\n4)\tshall send the SIP re-INVITE request towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the above SIP re-INVITE request sent to the MCVideo client, the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as described in the clause 6.3.2.2.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer based on the SDP answer in the received SIP 200 (OK) response as specified in clause 6.3.2.2.2.1;\n3)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\n4)\tshall forward the SIP 200 (OK) response according to 3GPP TS 24.229 [11].\nThis clause describes the procedures for inviting an MCVideo user to an MCVideo session. The procedure is initiated by the controlling MCVideo function as the result of an action in clause 9.2.1.4.2 or as the result of receiving a SIP 403 (Forbidden) response as described in this clause.\nThe controlling MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.3.1.2;\n2)\tshall set the Request-URI to the public service identity of the terminating participating MCVideo function associated to the MCVideo user to be invited.;\nNOTE 1:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 3:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the MCVideo user to be invited or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 4:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nNOTE 5:\tIf the terminating MCVideo user is part of a partner MCVideo system, then the public service identity can identify an entry point in the partner network that is able to identify the terminating participating MCVideo function.\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the controlling MCVideo function;\n4)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP INVITE request:\na)\tthe <mcvideo-request-uri> element set to the MCVideo ID of the terminating user; and\nb)\tthe <mcvideo-calling-group-id> element set to the group identity;\nNOTE 6:\tThe <mcvideo-calling-user-id> is already included in the MIME body as a result of calling clause 6.3.3.1.2 in step 1).\n5)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the originating network according to the procedures specified in clause 6.3.3.1.1;\n6)\tif the in-progress emergency state of the group is set to a value of \"true\" the controlling MCVideo function:\na)\tshall include a Resource-Priority header field populated with the values for an MCVideo emergency group call as specified in clause 6.3.3.1.19;\nb)\tif the received SIP INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\":\ni)\tshall include in the outgoing SIP INVITE request in the application/vnd.3gpp.mcvideo-info+xml MIME body an <emergency-ind> element set to a value of \"true\"; and\nii)\tif the <alert-ind> element is set to \"true\" in the received SIP INVITE request and the requesting MCVideo user and MCVideo group are authorised for the initiation of MCVideo emergency alerts as determined by the procedures of clause 6.3.3.1.13.1, shall populate the application/vnd.3gpp.mcvideo-info+xml MIME body and the application/vnd.3gpp.location-info+xml MIME body as specified in clause 6.3.3.1.12. Otherwise, shall set the <alert-ind> element to a value of \"false\"; and\nc)\tif the in-progress imminent peril state of the group is set to a value of \"true\" shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <imminentperil-ind> element set to a value of \"false\";\n7)\tif the in-progress emergency state of the group is set to a value of \"false\" and the in-progress imminent peril state of the group is set to a value of \"true\", the controlling MCVideo function:\na)\tshall include a Resource-Priority header field populated with the values for an MCVideo imminent peril group call as specified in clause 6.3.3.1.19; and\nb)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\";\n8)\tif:\na)\tan MCVideo GKTP document exists for the group identity contained in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request; and\nb)\tthe MCVideo GKTP document contains a <MKFC-GKTPs> element;\nthen:\na)\tfor each instance of <GKTP> element of the <MKFC-GKTPs> element of the MCVideo GKTP document:\ni)\tshall perform the procedure in clause 6.3.3.6.2 to re-generate an I_MESSAGE; and\nii)\tif the procedure in clause 6.3.3.6.2 was successful, shall include the I_MESSAGE in a <GKTP> element of the <MKFC-GKTPs> element of an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP INVITE request; and\n9)\tshall send the SIP INVITE request towards the terminating network in accordance with 3GPP TS 24.229 [11].\nUpon receiving a SIP 183 (Session Progress) response containing a Require header field with the option tag \"100rel\" and containing a P-Answer-State header field with the value \"Unconfirmed\" in response to the SIP INVITE request the controlling MCVideo function:\n1)\tshall send a SIP PRACK request towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\n2)\tshall send a SIP NOTIFY request to all participants with a subscription to the conference event package as specified in clause 9.2.3.4; and\n3)\tshall increment the local counter of the number of SIP 200 (OK) responses received from invited members, by 1.\nNOTE 7:\tThe notifications above could be sent prior to the SIP 200 (OK) response being sent to the inviting MCVideo client. These notifications received by MCVideo clients that are group members do not mean that the group session will be successfully established.\nNOTE 8:\tThe procedures executed by the controlling MCVideo function prior to sending a response to the inviting MCVideo client are specified in clause 9.2.1.4.2.\nThe controlling MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.3.1.2;\n2)\tshall set the Request-URI to the public service identity of the non-controlling MCVideo function serving the group identity of the MCVideo group owned by the interconnected MCVideo system;\nNOTE 1:\tThe public service identity can identify the non-controlling function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the non-controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the controlling MCVideo function;\n4)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP INVITE request:\na)\tthe <mcvideo-request-uri> element set to the group identity of the MCVideo group hosted by the non-controlling MCVideo function in the interconnected MCVideo system; and\nb)\tthe <mcvideo-calling-group-id> element set to the group identity of the group served by the controlling MCVideo function;\n5)\tshall include the Recv-Info header field set to g.3gpp.mcvideo-transmission-request;\n6)\tif:\na)\tan MCVideo GKTP document exists for the group identity contained in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request; and\nb)\tthe MCVideo GKTP document contains a <MKFC-GKTPs> element;\nthen:\na)\tfor each instance of <GKTP> element of the <MKFC-GKTPs> element of the MCVideo GKTP document:\ni)\tshall perform the procedure in clause 6.3.3.6.2 to re-generate an I_MESSAGE; and\nii)\tif the procedure in clause 6.3.3.6.2 was successful, shall include the I_MESSAGE in a <GKTP> element of the <MKFC-GKTPs> element of an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP INVITE request;\n7)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the originating network according to the procedures specified in clause 6.3.3.1.1; and\n8)\tshall send the SIP INVITE request towards the interconnected MCVideo system in accordance with 3GPP TS 24.229 [11].\nUpon receiving a SIP 403 (Forbidden) response for the SIP INVITE request, if according to local policy and if:\n1)\tthe response contains a Warning header field with the MCVideo warning code \"128\"; and\n2)\tthe response contains a P-Refused-URI-List header field and an application/resource-lists+xml MIME body as specified in IETF RFC 5318 [28];\nNOTE 9:\tThe application/resource-lists+xml MIME body contains MCVideo IDs identifying MCVideo users in an interconnected MCVideo system in the \"uri\" attributes of <entry> elements of one or more <list> elements of the <resource-lists> element in the application/resource-lists+xml MIME body where those MCVideo users need to be invited to the prearranged group call in case of group regrouping using interrogating method.\nEditor's Note:\tThe above note currently isn't defined in the 23.280 and 23.281.\nthen the controlling MCVideo function:\n1)\tshall check if the number of members of the MCVideo group exceeds the value contained in the <on-network-max-participant-count> element of the group document as specified in 3GPP TS 24.481 [24]. If exceeded, the controlling MCVideo function shall invite only <on-network-max-participant-count> members identified in the \"uri\" attributes of  <entry> elements of one or more <list> elements of the <resource-lists> element of the application/resource-lists+xml MIME body; and\nNOTE 10:\tThe <on-network-max-participant-count> element indicates the maximum number of participants allowed in the prearranged group session It is operator policy that determines which participants identified in the \"uri\" attributes of  <entry> elements of one or more <list> elements of the <resource-lists> element in the application/resource-lists+xml MIME body are invited to the group call.\n2)\tshall invite MCVideo users as specified in this clause using the list of MCVideo IDs in URI-List.\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3; and\nNOTE 11:\tThe procedures executed by the controlling MCVideo function prior to sending a response to the inviting MCVideo client are specified in clause 9.2.1.4.2.\n2)\tif at least one of the invited MCVideo clients has subscribed to the conference package, shall subscribe to the conference event package in the non-controlling MCVideo function as specified in clause 9.2.3.4.3.\nIn the procedures in this clause:\n1)\tMCVideo ID in an incoming SIP INVITE request refers to the MCVideo ID of the originating user from the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request;\n2)\tgroup identity in an incoming SIP INVITE request refers to the group identity from the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request;\n3)\tMCVideo ID in an outgoing SIP INVITE request refers to the MCVideo ID of the called user in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the outgoing SIP INVITE request;\n4)\tindication of required group members in a SIP 183 (Session Progress) response refers to the <required> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set to \"true\" in a SIP 183 (Session Progress) sent by the non-controlling MCVideo function of an MCVideo group;\n5)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n6)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of a \"SIP INVITE request for controlling MCVideo function of an MCVideo group\", the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\nNOTE 1:\tif the SIP INVITE request contains an emergency indication or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating an MCVideo emergency group call as determined by clause 6.3.3.1.13.2, or for originating an MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5, the controlling MCVideo function can according to local policy choose to accept the request.\n2)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\n3)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n4)\tif received SIP INVITE request includes an application/vnd.3gpp.mcvideo-info+xml MIME body with an <emergency-ind> element included or an <imminentperil-ind> element included, shall validate the request as described in clause 6.3.3.1.17;\n5)\tif the group identity is associated with a group document maintained by the GMS:\nNOTE 1A:\tHow the MCVideo server determines that a group identity represents a group for which a group document is stored in the GMS is an implementation detail.\na)\tshall retrieve the necessary group document(s) from the group management server for the group identity contained in the SIP INVITE request and carry out initial processing as specified in clause 6.3.5.2;\nb)\tif the group document contains a <list-service> element that contains a <preconfigured-group-use-only> element that is set to the value \"true\", shall reject the SIP INVITE request with a SIP 403 (Forbidden) response with the warning text set to \"167 call is not allowed on the preconfigured group\" as specified in clause 4.4 \"Warning header field\" and skip the rest of the steps;\nc)\tif the group referred to by the group identity has been regrouped, shall:\ni)\tstop processing the SIP INVITE request;\nii)\tshall reject the SIP INVITE request with a SIP 403 (Forbidden) response with the warning text set to \"148 group is regrouped\" as specified in clause 4.4 \"Warning header field\"; and\niii)\tif the group referred to by the group identity has been regrouped based on a preconfigured group, shall send a copy of the notifying SIP MESSAGE that was generated and sent per clause 21.2.4.1 to the participating function for the MCVideo ID of the incoming SIP INVITE request and skip the rest of the steps; and\nd)\tif the result of the initial processing in clause 6.3.5.2 was that a SIP 4xx, 5xx or 6xx response to the \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" has been sent, do not continue with the rest of the steps in this clause;\n6)\tif the group identity is associated with a user or group regroup based on a preconfigured group:\na)\tshall retrieve the stored information for the group identity; and\nb)\tif there is no stored information for the group identity, the controlling MCVideo function shall return a SIP 404 (Not Found) response with the warning text set to \"163 the group identity indicated in the request does not exist\" as specified in clause 4.4 \"Warning header field\" and shall not continue with the rest of the steps;\nNOTE 1B:\tThe user or group regroup can have been removed very recently and the client has sent the group call request prior to receiving the removal notification.\n6a)\tif the group identity is a TGI or the identity of a group regroup based a preconfigured group and the received SIP INVITE request does not include an <mcvideo-calling-group-id> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall return a SIP 403 (Forbidden) response to \"SIP INVITE request for controlling MCVideo function of an MCVideo group\".\nNOTE 1C:\tThis is the case where the MCVideo client has requested the setup of a regroup without including the identity of the constituent group, leading to the participating MCVideo function forwarding the SIP INVITE directly to the controlling MCVideo function. This is not allowed, since the originating client is required to include the identity of the constituent group.\n7)\tshall perform the actions as described in clause 6.3.3.2.2;\n8)\tshall maintain a local counter of the number of SIP 200 (OK) responses received from invited members and shall initialise this local counter to zero;\n9)\tshall determine if an MCVideo group call for the group identity is already ongoing by determining if an MCVideo session identity has already been allocated for the group call and the MCVideo session is active;\n10)\tif the SIP INVITE request contains an unauthorised request for an MCVideo emergency group call as determined by clause 6.3.3.1.13.2:\na)\tshall reject the SIP INVITE request with a SIP 403 (Forbidden) response as specified in clause 6.3.3.1.14; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n11)\tif the SIP INVITE request contains an unauthorised request for an MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5, shall reject the SIP INVITE request with a SIP 403 (Forbidden) response with the following clarifications:\na)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"false\"; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n12)\tif a Resource-Priority header field is included in the SIP INVITE request:\na)\tif the Resource-Priority header field is set to the value indicated for emergency calls and the SIP INVITE request does not contain an emergency indication and the in-progress emergency state of the group is set to a value of \"false\", shall reject the SIP INVITE request with a SIP 403 (Forbidden) response and skip the rest of the steps; or\nb)\tif the Resource-Priority header field is set to the value indicated for imminent peril calls and the SIP INVITE request does not contain an imminent peril indication and the in-progress imminent peril state of the group is set to a value of \"false\", shall reject the SIP INVITE request with a SIP 403 (Forbidden) response and skip the rest of the steps;\n13)\tif the MCVideo group call is not ongoing then:\na)\tif:\ni)\tthe user identified by the MCVideo ID is not affiliated to the group identity contained in the <mcvideo-request-uri> element of the SIP INVITE request as specified in clause 6.3.6;\nii)\tthe group identity contained in an <mcvideo-calling-group-id> element of the SIP INVITE request is not a constituent MCVideo group ID;\nNOTE 1D:\tIf the SIP INVITE is for a temporary group or a group regroup based on preconfigured group, the affiliation of the calling user to the constituent group has been assured by the non-controlling MCVideo function of the constituent group before forwarding this SIP INVITE to the controlling function of the regroup.\niii)\tthe received SIP INVITE request does not contain an emergency indication or imminent peril indication; or\niv)\tthe received SIP INVITE request is an authorised request for an MCVideo emergency group call as determined by clause 6.3.3.1.13.2 or MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5 and the MCVideo user identified in the <mcvideo-calling-user-id> of the SIP INVITE is determined to not be eligible for implicit affiliation as specified in clause 8.2.2.3.6;\nthen shall return a SIP 403 (Forbidden) response with the warning text set to \"120 user is not affiliated to this group\" in a Warning header field as specified in clause 4.4, and skip the rest of the steps below;\nb)\tif the user identified by the MCVideo ID is not authorised to initiate the prearranged group session as specified in clause 6.3.5.4, shall send a SIP 403 (Forbidden) response with the warning text set to: \"119 user is not authorised to initiate the group call\" in a Warning header field as specified in clause 4.4 and skip the rest of the steps below;\nc)\tif the received SIP INVITE request contains an an authorised request for an MCVideo emergency group call as determined by clause 6.3.3.1.13.2 or MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5 and the MCVideo user is eligible to be implicitly affiliated with the MCVideo group as determined as determined in step 13) a) iv) above, shall perform the implicit affiliation as specified in clause 8.2.2.3.7;\nd)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\ne)\tshall create a prearranged group session and allocate an MCVideo session identity for the prearranged group call, and shall handle timer TNG3 (group call timer) as specified in clause 6.3.3.5;\nf)\tif the group identity in the \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" is a TGI or the identity of a group regroup based on a preconfigured group:\ni)\tshall, for each of the constituent MCVideo groups except for the calling MCVideo group identified in the <mcvideo-calling-group-id> element of the incoming SIP INVITE,generate a SIP INVITE request towards the MCVideo server that owns the constituent MCVideo group identity by following the procedures in clause 9.2.1.4.1.2; and\nNOTE 2:\tThe MCVideo server that the SIP INVITE request is sent to acts as a non-controlling MCVideo function;\ng)\tif the group identity in the SIP INVITE request for controlling MCVideo function of an MCVideo group is an MCVideo group ID:\ni)\tshall determine the members to invite to the prearranged MCVideo group call as specified in clause 6.3.5.5;\nii)\tif necessary, shall start timer TNG1 (acknowledged call setup timer) according to the conditions stated in clause 6.3.3.3;\niii)\tif the received SIP INVITE request includes an application/vnd.3gpp.mcvideo-info+xml MIME body with an <emergency-ind> element set to a value of \"true\":\nA)\tshall cache the information that this MCVideo user has initiated an MCVideo emergency call;\nB)\tif the received SIP INVITE contains an alert indication set to a value of \"true\" and this is an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, shall cache the information that this MCVideo user has initiated an MCVideo emergency alert; and\nC)\tif the in-progress emergency state of the group is set to a value of \"false\":\nI)\tshall set the value of the in-progress emergency state of the group to \"true\"; and\nII)\tshall start timer TNG2 (in-progress emergency group call timer) and handle its expiry as specified in clause 6.3.3.1.16;\niv)\tif the in-progress emergency state of the group is set to a value of \"false\" and if the received SIP INVITE request contains an imminent peril indication set to a value of \"true\", the controlling MCVideo function shall:\nA)\tshall cache the information that this MCVideo user has initiated an MCVideo imminent peril call; and\nB)\tif the in-progress imminent peril state of the group is set to a value of \"false\", shall set the in-progress imminent peril state of the group to a value of \"true\";\nv)\tshall invite each group member determined in step 13)g)i) above, to the group session, as specified in clause 9.2.1.4.1.1; and\nvi)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3; and\n14) if the MCVideo group call is ongoing then:\na)\tif:\ni)\tthe user identified by the MCVideo ID in the SIP INVITE request is not affiliated to the group identity contained in the <mcvideo-request-uri> element of the SIP INVITE request as specified in clause 6.3.6;\nii)\tthe group identity contained in an <mcvideo-calling-group-id> element of the SIP INVITE request is not a constituent MCVideo group ID;\niii)\tthe received SIP INVITE request does not contain an emergency indication or imminent peril indication; or\niv)\tthe received SIP INVITE request is an authorised request for an MCVideo emergency group call as determined by clause 6.3.3.1.13.2 or MCVideo imminent peril group call as determined clause 6.3.3.1.13.5 and is determined to not be eligible for implicit affiliation as specified in clause 8.2.2.3.6;\nthen shall return a SIP 403 (Forbidden) response with the warning text set to \"120 user is not affiliated to this group\" in a Warning header field as specified in clause 4.4, and skip the rest of the steps below;\nb)\tif the user identified by the MCVideo ID in the SIP INVITE request is not authorised to join the prearranged group session as specified in clause 6.3.5.3, shall send a SIP 403 (Forbidden) response with the warning text set to \"121 user is not allowed to join the group call\" in a Warning header field as specified in clause 4.4 and skip the rest of the steps below;\nc)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\nd)\tif <on-network-max-participant-count> as specified in 3GPP TS 24.481 [24] is already reached:\ni)\tif, according to local policy, the user identified by the MCVideo ID in the SIP INVITE request is deemed to have a higher priority than an existing user in the group session, may remove a participant from the session by following clause 9.2.1.4.4.3, and skip the next step; and\nNOTE 3:\tThe local policy for deciding whether to admit a user to a call that has reached its maximum amount of participants can include the <user-priority> and the <participant-type> of the user as well as other information of the user from the group document as specified in 3GPP TS 24.481 [24]. The local policy decisions can also include taking into account whether the imminent-peril indicator or emergency indicator was received in the SIP INVITE request.\nii)\tshall return a SIP 486 (Busy Here) response with the warning text set to \"122 too many participants\" to the originating network as specified in clause 4.4 and skip the rest of the steps;\ne)\tif the received SIP INVITE request contains an an authorised request for an MCVideo emergency group call as determined by clause 6.3.3.1.13.2 or MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5 and the MCVideo user is eligible to be implicitly affiliated with the MCVideo group as determined in step 14) a) iv) above, shall perform the implicit affiliation as specified in clause 8.2.2.3.7;\nf)\tif the received SIP INVITE request includes an application/vnd.3gpp.mcvideo-info+xml MIME body with an <emergency-ind> element set to a value of \"true\":\ni)\tshall cache the information that this MCVideo user has initiated an MCVideo emergency call;\nii)\tif the received SIP INVITE contains an alert indication set to a value of \"true\" and this is an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, shall cache the information that this MCVideo user has initiated an MCVideo emergency alert;\niii)\tif the in-progress emergency state of the group is set to a value of \"false\":\nA)\tshall set the value of the in-progress emergency state of the group to \"true\";\nB)\tshall start timer TNG2 (in-progress emergency group call timer) and handle its expiry as specified in clause 6.3.3.1.16; and\nC)\tshall generate SIP re-INVITE requests for the MCVideo emergency group call to the other call participants of the MCVideo group as specified in clause 6.3.3.1.6;\niv)\tif the in-progress imminent peril state of the group is set to a value of \"true\":\nA)\tfor each of the other affiliated member of the group generate a SIP MESSAGE request notification of the MCVideo user's imminent peril indication as specified in clause 6.3.3.1.11, setting the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\"; and\nB)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\nv)\tupon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5];\ng)\tif the in-progress emergency state of the group is set to a value of \"false\" and if the SIP INVITE request contains an imminent peril indication set to a value of \"true\", the controlling MCVideo function:\ni)\tshall cache the information that this MCVideo user has initiated an MCVideo imminent peril call; and\nii)\tif the in-progress imminent peril state of the group is set to a value of \"false\":\nA)\tshall set the in-progress imminent peril state of the group to a value of \"true\";\nB)\tshall generate SIP re-INVITE requests for the MCVideo imminent peril group call to the other call participants of the MCVideo group as specified in clause 6.3.3.1.15; and\nC)\tupon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\niii)\tif the in-progress imminent peril state of the group is set to a value of \"true\":\nA)\tfor each of the other affiliated member of the group generate a SIP MESSAGE request notification of the MCVideo user's imminent peril indication as specified in clause 6.3.3.1.11, setting the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\"; and\nB)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\nh)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.3.2.4.2;\ni)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\nj)\tshall include in the SIP 200 (OK) response with the warning text set to \"123 MCVideo session already exists\" as specified in clause 4.4;\nk)\tif the received SIP re-INVITE request contains an alert indication set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\nl)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\" and if the in-progress emergency state of the group is set to a value of \"true\", shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\nNOTE 4:\tIn this case, the request was for an imminent peril call but a higher priority MCVideo emergency call was already in progress on the group. Hence, the imminent peril call request aspect of the request is denied but the request is granted with emergency level priority.\nm)\tshall interact with media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nNOTE 5:\tResulting media plane processing is completed before the next step is performed.\nn)\tshall send the SIP 200 (OK) response towards the inviting MCVideo client or inviting non-controlling MCVideo function according to 3GPP TS 24.229 [11];\no)\tshall generate a notification to the MCVideo clients, which have subscribed to the conference state event package that the inviting MCVideo User has joined in the MCVideo group session, as specified in clause 6.3.3.4;\nNOTE 6:\tAs a group document can potentially have a large content, the controlling MCVideo function can notify using content-indirection as defined in IETF RFC 4483 [29].\np)\tshall send a SIP NOTIFY request to each MCVideo client according to 3GPP TS 24.229 [11];\nq)\tUpon receiving a SIP ACK to the above SIP 200 (OK) response and the SIP 200 (OK) response contained a Warning header field as specified in clause 4.4 with the warning text containing the mcvideo-warn-code set to \"149\", shall follow the procedures in clause 6.3.3.1.18; and\nr)\tshall not continue with the rest of the clause.\nUpon receiving a SIP 183 (Session Progress) response to the SIP INVITE request specified in clause 9.2.1.4.1 containing a P-Answer-State header field with the value \"Unconfirmed\" as specified in IETF RFC 4964 [30], the timer TNG1 (acknowledged call setup timer) is not running, the controlling MCVideo function supports media buffering and the SIP final response is not yet sent to the inviting MCVideo client:\n1)\tshall generate a SIP 200 (OK) response to SIP INVITE request as specified in the clause 6.3.3.2.3.2;\n2)\tshall include the warning text set to \"122 too many participants\" as specified in clause 4.4 in the SIP 200 (OK) response, if the prearranged MCVideo group has more than <on-network-max-participant-count> members as specified in 3GPP TS 24.481 [24];\n3)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\n4)\tshall include a P-Answer-State header field with the value \"Unconfirmed\";\n5)\tif the SIP INVITE request contains an alert indication set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n6)\tif the received SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\" and if the in-progress emergency state of the group is set to a value of \"true\", shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n7)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nNOTE 7:\tResulting user plane processing is completed before the next step is performed.\n8)\tshall send the SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11];\n9)\tshall generate a notification to the MCVideo clients, which have subscribed to the conference state event package that the inviting MCVideo User has joined in the MCVideo group session, as specified in clause 6.3.3.4; and\nNOTE 8:\tAs a group document can potentially have a large content, the controlling MCVideo function can notify using content-indirection as defined in IETF RFC 4483 [29].\n10)\tshall send a SIP NOTIFY request to each MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 183 (Session Progress) response for a SIP INVITE request as specified in clause 9.2.1.4.1.2 containing an indication of required group members, the timer TNG1 (acknowledged call setup timer) is running and all SIP 200 (OK) responses have been received to all SIP INVITE requests sent to MCVideo clients specified in clause 9.2.1.4.1.1, then the controlling MCVideo function shall wait until the SIP 200 (OK) response has been received to the SIP INVITE request specified in clause 9.2.1.4.1.2 before generating a SIP 200 (OK) response to the \"SIP INVITE request for controlling MCVideo function of an MCVideo group\".\nUpon receiving a SIP 200 (OK) response for a SIP INVITE request as specified in clause 9.2.1.4.1 that was sent to an affiliated and <on-network-required> group member as specified in 3GPP TS 24.481 [24]; and\n1)\tif the MCVideo ID in the SIP 200 (OK) response matches to the MCVideo ID in the corresponding SIP INVITE request;\n2)\tthere are no outstanding SIP 200 (OK) responses to SIP INVITE requests which were sent to affiliated and <on-network-required> group members as specified in 3GPP TS 24.481 [24]; and\n3)\tthere is no outstanding SIP 200 (OK) response to a SIP INVITE request sent in clause 9.2.1.4.1.2 where the SIP 183 (Session Progress) response contained an indication of required group members;\nthe controlling MCVideo function:\n1)\tshall stop timer TNG1 (acknowledged call setup timer) as described in clause 6.3.3.3;\n2)\tshall generate SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.3.2.3.2 before continuing with the rest of the steps;\n3)\tshall include the warning text set to \"122 too many participants\" as specified in clause 4.4 in the SIP 200 (OK) response, if all members were not invited because the prearranged MCVideo group has been exceeded the <on-network-max-participant-count> members as specified in 3GPP TS 24.481 [24];\n4)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\n5)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nNOTE 9:\tResulting media plane processing is completed before the next step is performed.\n6)\tshall send a SIP 200 (OK) response to the inviting MCVideo client according to 3GPP TS 24.229 [11];\n7)\tshall generate a notification to the MCVideo clients, which have subscribed to the conference state event package that the inviting MCVideo user has joined in the MCVideo group session, as specified in clause 6.3.3.4; and\nNOTE 10:\tAs a group document can potentially have a large content, the controlling MCVideo function can notify using content-indirection as defined in IETF RFC 4483 [29].\n8)\tshall send the SIP NOTIFY request to the MCVideo clients according to 3GPP TS 24.229 [11].\nUpon:\n1)\treceiving a SIP 200 (OK) response for a SIP INVITE request as specified in clause 9.2.1.4.1;\n2)\tthe timer TNG1 (acknowledged call setup timer) is not running;\n3)\tthe local counter of the number of SIP 200 (OK) responses received from invited members is equal to the value of the <on-network-minimum-number-to-start> element of the group document;\n4)\tthe controlling MCVideo function supports media buffering; and\n5)\tthe SIP final response has not yet been sent to the inviting MCVideo client;\nthe controlling MCVideo function according to local policy:\n1)\tshall generate SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.3.2.2;\n2)\tshall include the warning text set to \"122 too many participants\" as specified in clause 4.4 in the SIP 200 (OK) response, if all members were not invited because the prearranged MCVideo group has exceeded the <max-participant-count> members as specified in 3GPP TS 24.481 [24];\n3)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\n4)\tif the SIP INVITE request contains an alert indication set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n5)\tif the received SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\" and if the in-progress emergency state of the group is set to a value of \"true\", shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n6)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nNOTE 11:\tResulting media plane processing is completed before the next step is performed.\n7)\tshall send a SIP 200 (OK) response to the inviting MCVideo client according to 3GPP TS 24.229 [11];\n8)\tshall generate a notification to the MCVideo clients, which have subscribed to the conference state event package that the inviting MCVideo user has joined in the MCVideo group session, as specified in clause 6.3.3.4; and\nNOTE 12:\tAs a group document can potentially have a large content, the controlling MCVideo function can notify using content-indirection as defined in IETF RFC 4483 [29].\n9)\tshall send the SIP NOTIFY request to the MCVideo clients according to 3GPP TS 24.229 [11].\nUpon expiry of timer TNG1 (acknowledged call setup timer), if there are outstanding SIP 200 (OK) responses to SIP INVITE requests sent to affiliated and <on-network-required> group members as specified in 3GPP TS 24.481 [24], the controlling MCVideo function shall follow the procedures specified in clause 6.3.3.3.\nIf timer TNG1 (acknowledged call setup timer) is running and a final SIP 4xx, 5xx or 6xx response is received from an affiliated and <on-network-required> group member as specified in 3GPP TS 24.481 [24], the controlling MCVideo function shall follow the relevant procedures specified in clause 6.3.3.3.\nIf:\n1)\ttimer TNG1 (acknowledged call setup timer) is not running;\n2)\tthe local counter of the number of SIP 200 (OK) responses received from invited members is equal to the value of the <on-network-minimum-number-to-start> element of the group document; and\n3)\ta final SIP 4xx, 5xx or 6xx response is received from an invited MCVideo client;\nthen the controlling MCVideo function shall perform one of the following based on policy:\n1)\tsend the SIP final response towards the inviting MCVideo client, according to 3GPP TS 24.229 [11], if a SIP final response was received from all the other invited MCVideo clients and the SIP 200 (OK) response is not yet sent; or\n2)\tremove the invited MCVideo client from the MCVideo Session as specified in clause 6.3.3.1.5, if a SIP final response other than 2xx or 3xx was received from all the invited MCVideo clients and the SIP 200 (OK) response is already sent. The controlling MCVideo function may invite an additional member of the prearranged MCVideo group as specified in clause 9.2.1.4.1 that has not already been invited, if the prearranged MCVideo group has more than <on-network-max-participant-count> members as specified in 3GPP TS 24.481 [24], and all members have not yet been invited.\nUpon receiving a SIP ACK to the SIP 200 (OK) response sent towards the inviting MCVideo client, and the SIP 200 (OK) response was sent with the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.18.\nUpon receiving a SIP BYE request the controlling MCVideo function shall follow the procedures as specified in clause 6.3.3.2.4.\nThis clause describes the procedures of each functional entity for ending the group call initiated by the controlling MCVideo function.\nWhen the MCVideo session for group call needs to be released as specified in clause 6.3.8.1, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.5.\nWhen an MCVideo client needs to be removed from the MCVideo session (e.g. due to de-affiliation or admitting a higher priority user), the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.5.\nAfter successful removing the MCVideo client from the MCVideo session, the controlling MCVideo function may generate a notification to the MCVideo clients, which have subscribed to the conference state event package that an MCVideo user has been removed from the MCVideo session, as specified in clause 6.3.3.4 and send the SIP NOTIFY request to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP INVITE request that includes an MCVideo session identity of an ongoing MCVideo session in the Request-URI the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\nNOTE 1:\tIf the SIP INVITE request contains an emergency indication or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating an MCVideo emergency group call as determined by clause 6.3.3.1.13.2, or for originating an MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5, the controlling MCVideo function can according to local policy choose to accept the request.\n2)\tshall reject the SIP request with a SIP 404 (Not Found) response if the MCVideo group call represented by the MCVideo session identity in Request-URI is not present;\n3)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not, reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n4)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n5)\tshall determine the MCVideo ID of the calling user;\n6)\tif the user identified by the MCVideo ID is not authorised to join the prearranged group session as specified in clause 6.3.5.3, shall send a SIP 403 (Forbidden) response with the warning text set to \"121 user is not authorised to join the group call\" in a Warning header field as specified in clause 4.4. Otherwise continue with the rest of the steps below;\n7)\tshall perform the actions on receipt of an initial SIP INVITE request as described in clause 6.3.3.2.2;\n8)\tif the user identified by the MCVideo ID is not affiliated to the MCVideo group ID associated with the MCVideo session identity as specified in clause 6.3.3.5, shall return a SIP 403 (Forbidden) response with the warning text set to \"120 user is not affiliated to this group\" in a Warning header field as specified in clause 4.4;\n9)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\n10)\tif <on-network-max-participant-count> as specified in 3GPP TS 24.481 [24] is already reached:\na)\tif, according to local policy, the user identified by the MCVideo ID in the SIP INVITE request is deemed to have a higher priority than an existing user in the group session, may remove a participant from the session by following clause 9.2.1.4.4.3, and skip the next step; and\nNOTE 2:\tThe local policy for deciding whether to admit a user to a call that has reached its maximum amount of participants can include the <user-priority> and the <participant-type> of the user as well as other information of the user from the group document as specified in 3GPP TS 24.481 [24]. The local policy decisions can also include taking into account whether the imminent-peril indicator or emergency indicator was received in the SIP INVITE request.\nb)\tshall return a SIP 486 (Busy Here) response with the warning text set to \"122 too many participants\" to the originating network as specified in clause 4.4. Otherwise, continue with the rest of the steps;\n11)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.3.2.3.2;\n12)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\n13)\tshall interact with media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nNOTE 3:\tResulting media plane processing is completed before the next step is performed.\n14)\tshall send the SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11];\n15)\tshall generate a notification to the MCVideo clients, which have subscribed to the conference state event package that the inviting MCVideo User has joined in the MCVideo group session, as specified in clause 6.3.3.4; and\nNOTE 4:\tAs a group document can potentially have a large content, the controlling MCVideo function can notify using content-indirection as defined in IETF RFC 4483 [29].\n16)\tshall send a SIP NOTIFY request to each MCVideo client according to 3GPP TS 24.229 [11].\nWhen controlling MCVideo function is notified that an MCVideo client is newly affiliated or comes back from out of coverage, the controlling MCVideo function shall invite the MCVideo client to join an ongoing MCVideo group call by following the procedures specified in clause 9.2.1.4.1.\nNOTE:\tHow the MCVideo function is informed when an MCVideo client is coming back from out of coverage is out of scope of present document.\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of a SIP re-INVITE request for an MCVideo session identity identifying an on-demand prearranged MCVideo group session, the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP re-INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\nNOTE 1:\tIf the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\", the controlling MCVideo function can choose to accept the request.\n2)\tif received SIP re-INVITE request includes an application/vnd.3gpp.mcvideo-info+xml MIME body with an <emergency-ind> element included or an <imminentperil-ind> element included, shall validate the request as described in clause 6.3.3.1.17;\n3)\tif the received SIP re-INVITE request contains an unauthorised request for an MCVideo emergency call as determined by clause 6.3.3.1.13.2:\na)\tshall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response as specified in clause 6.3.3.1.14; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n4)\tif the received SIP re-INVITE request contains an imminent peril indication set to \"true\" for an MCVideo imminent peril group call and this is an unauthorised request for an MCVideo imminent peril group call as determined by clause 6.3.3.1.13.6, shall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response with the following clarifications:\na)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"false\"; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n5)\tif a Resource-Priority header field is included in the received SIP re-INVITE request:\na)\tif the Resource-Priority header field is set to the value indicated for emergency calls and the SIP re-INVITE request does not contain an  emergency indication and the in-progress emergency state of the group is set to a value of \"false\", shall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response and skip the rest of the steps; and\nb)\tif the Resource-Priority header field is set to the value indicated for imminent peril calls and the SIP re-INVITE request does not contain an imminent peril indication and the in-progress imminent peril state of the group is set to a value of \"false\", shall reject the SIP INVITE request with a SIP 403 (Forbidden) response and skip the rest of the steps;\n6)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\" and is an authorised request to initiate an MCVideo emergency group call as determined by clause 6.3.3.1.13.2, the controlling MCVideo function shall:\ni)\tshall cache the MCVideo ID of the MCVideo user that has initiated an MCVideo emergency call;\nii)\tif the received SIP INVITE contains an alert indication set to a value of \"true\" and this is an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, shall cache the MCVideo ID of the MCVideo user that has initiated an MCVideo emergency alert;\niii)\tif the in-progress emergency state of the group is set to a value of \"true\":\nA)\tfor each of the other affiliated member of the group generate a SIP MESSAGE request notification of the MCVideo user's emergency indication as specified in clause 6.3.3.1.11, setting the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\";\nB)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\nC)\tif the in-progress imminent peril state of the group is set to a value of \"true\", shall set it to a value of \"false\"; and\niv)\tif the in-progress emergency state of the group is set to a value of \"false\":\nA)\tshall set the value of the in-progress emergency state of the group to \"true\";\nB)\tshall start timer TNG2 (in-progress emergency group call timer) and handle its expiry as specified in clause 6.3.3.1.16;\nNOTE 2:\tThe interactions of TNG2 with the TNG3 (group call timer) are explained in clause 6.3.3.5.2.\nEditor's Note:\ttimers need to be defined..\nC)\tshall generate SIP re-INVITE requests for the MCVideo emergency group call to the other participants of the MCVideo group call as specified in clause 6.3.3.1.6;\nD)\tshall send the SIP re-INVITEs towards the other participants of the MCVideo group call; and\nE)\tupon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5];\n7)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"false\" and is an unauthorised request for an MCVideo emergency group call cancellation as determined by clause 6.3.3.1.13.4:\na)\tshall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response;\nb)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in annex F.1 with an <emergency-ind> element set to a value of \"true\";\nc)\tif an <alert-ind> element of the mcvideoinfo MIME body is included in the SIP re-INVITE request set to \"false\", and there is an outstanding MCVideo emergency alert for this MCVideo user, shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <alert-ind> element set to a value of \"true\"; and\nd)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n8)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"false\" and is determined to be an authorised request for an MCVideo emergency call cancellation as specified in clause 6.3.3.1.16 and the in-progress emergency state of the group to is set to a value of \"true\" the controlling MCVideo function:\na)\tshall set the in-progress emergency group state of the group to a value of \"false\";\nb)\tshall clear the cache of the MCVideo ID of the MCVideo user as having an outstanding MCVideo emergency group call;\nc)\tif an <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body is included and set to \"false\" and is determined to be an authorised request for an MCVideo emergency alert cancellation as specified in clause 6.3.3.1.13.3 and there is an outstanding MCVideo emergency alert for this MCVideo user shall:\ni)\tif the received SIP re-INVITE request contains an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, clear the cache of the MCVideo ID of the MCVideo user identified by the <originated-by> element as having an outstanding MCVideo emergency alert; or\nii)\tif the received SIP re-INVITE request does not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, clear the cache of the MCVideo ID of the sender of the SIP re-INVITE request as having an outstanding MCVideo emergency alert;\nd)\tshall generate SIP re-INVITE requests to the participants in the group call as specified in clause 6.3.3.1.6. The MCVideo controlling function:\ni)\tfor each of the other participants in the group call shall send the SIP re-INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nii)\tUpon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5];\nNOTE 3:\tClause 6.3.3.1.5 will inform the group call participants of the cancellation of the MCVideo group's in-progress emergency state and the cancellation of the MCVideo emergency alert if applicable.\ne)\tshall stop timer TNG2 (in-progress emergency group call timer); and\nNOTE 4:\tThe interactions of TNG2 with the TNG3 (group call timer) are explained in clause 6.3.3.5.2;\nf)\tfor each of the affiliated members of the group that are not participating in the call:\ni)\tgenerate a SIP MESSAGE request notification of the cancellation of the MCVideo user's emergency call as specified in clause 6.3.3.1.11;\nii)\tset the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\";\niii)\tif indicated above in step 8) c), set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\"; and\niv)\tsend the SIP MESSAGE request according to 3GPP TS 24.229 [11];\n9)\tif the received SIP re-INVITE request contains an imminent peril indication and the in-progress emergency group state of the group is set to a value of \"false\", shall perform the procedures specified in clause 9.2.1.4.8 and skip the rest of the steps.\nUpon receiving a SIP 200 (OK) response to a SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5];\n1)\tshall generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n2)\tshall include in the SIP 200 (OK) response an SDP answer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.3.3.2.1;\n3)\tshall include the \"norefersub\" option tag in a Supported header field according to IETF RFC 4488 [31];\n4)\tshall include the \"tdialog\" option tag in a Supported header field according to IETF RFC 4538 [32];\n5)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"true\" and if this is an unauthorised request for an MCVideo emergency alert as determined by clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n6)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"false\" and if this is an unauthorised request for an MCVideo emergency alert cancellation as determined by clause 6.3.3.1.13.3, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n7)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\", this is an authorised request for an MCVideo imminent peril group call and the in-progress emergency state of the group is set to a value of \"true\", shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\nNOTE 5:\tIn this case, the request was for an imminent peril call but a higher priority MCVideo emergency call was already in progress on the group. Hence, the imminent peril call request aspect of the request is denied but the request is granted with emergency level priority.\n8)\tshall interact with media plane as specified in 3GPP TS 24.581 [5]; and\n9)\tshall send the SIP 200 (OK) response towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP ACK to the SIP 200 (OK) response sent towards the inviting MCVideo client, and the SIP 200 (OK) response was sent with the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.18.\nUpon receipt of a SIP 2xx response for an outgoing SIP MESSAGE request, shall handle according to 3GPP TS 24.229 [11].\nThis procedure is initiated by the controlling MCVideo function as the result of an action in clause 9.2.1.4.7.\nIn the procedures in this clause:\n1)\timminent peril indication in an incoming SIP re-INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nWhen the controlling function receives a SIP re-INVITE request with an imminent peril indication set to \"true\", the controlling function:\n1)\tif the in-progress emergency state of the group is set to a value of \"false\" and if the SIP re-INVITE request contains an imminent peril indication set to a value of \"true\" or the in-progress imminent peril state of the group to \"true\", the controlling MCVideo function shall:\nNOTE: 1\tThe calling procedure has already determined that this is not an unauthorised request for an MCVideo imminent peril call, therefore that check does not need to be repeated in the current procedure.\na)\tif the in-progress imminent peril state of the group is set to a value of \"true\" and this MCVideo user is indicating a new imminent peril indication:\ni)\tfor each of the other affiliated member of the group generate a SIP MESSAGE request notification of the MCVideo user's imminent peril indication as specified in clause 6.3.3.1.11 with the following clarifications;\nA)\tset the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\"; and\nB)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\nb)\tif the in-progress imminent peril state of the group is set to a value of \"false\";\ni)\tset the value of the in-progress imminent peril state of the group to \"true\";\nii)\tgenerate SIP re-INVITE requests for the MCVideo imminent peril group call to participants in the MCVideo group call as specified in clause 6.3.3.1.15;\niii)\tsend the SIP re-INVITES to all of the other participants in the MCVideo group call;\niv)\tfor each of the affiliated members of the group not participating in the group call, generate a SIP MESSAGE request notification of the MCVideo user's imminent peril indication as specified in clause 6.3.3.1.11 with the following clarifications;\nA)\tset the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\"; and\nB)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\nc)\tcache the information that this MCVideo user has initiated an MCVideo imminent peril call;\n2)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"false\" and is an unauthorised request for an MCVideo imminent peril group call cancellation as determined by clause 6.3.3.1.13.6 shall:\na)\treject the SIP re-INVITE request with a SIP 403 (Forbidden) response to the SIP re-INVITE request; and\nb)\tinclude in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in Annex F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"false\";\nc) send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11]; and\nd) skip the rest of the steps;\n3)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"false\" and is determined to be an authorised request for an MCVideo imminent peril call cancellation as specified in clause 6.3.3.1.13.6 and the in-progress imminent peril state of the group to is set to a value of \"true\" the controlling MCVideo function shall:\na)\tset the in-progress imminent peril state of the group to a value of \"false\";\nb)\tcache the information that this MCVideo user no longer has an outstanding MCVideo imminent peril group call;\nc)\tgenerate SIP re-INVITES requests to the other participants in the MCVideo group call as specified in clause 6.3.3.1.15. The MCVideo controlling function:\ni)\tfor each participant shall send the SIP re-INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nii)\tUpon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function interact with the media plane as specified in 3GPP TS 24.581 [5]; and\nNOTE 2:\tClause 6.3.3.1.14 will inform the affiliated and joined members of the cancellation of the MCVideo group's in-progress emergency state and the cancellation of the MCVideo emergency alert if applicable.\nd)\tfor each of the affiliated members of the group not participating in the call shall:\ni)\tgenerate a SIP MESSAGE request notification of the cancellation of the MCVideo user's imminent peril call as specified in clause 6.3.3.1.11;\nii)\tset the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\"; and\niii)\tsend the SIP MESSAGE request according to 3GPP TS 24.229 [11];\n4)\tshall include in the SIP 200 (OK) response an SDP answer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.3.3.2.1;\n5)\tshall include the \"norefersub\" option tag in a Supported header field according to IETF RFC 4488 [31];\n6)\tshall include the \"tdialog\" option tag in a Supported header field according to IETF RFC 4538 [32];\n7)\tshall interact with media plane as specified in 3GPP TS 24.581 [5]; and\n8)\tshall send the SIP 200 (OK) response towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response for an outgoing SIP MESSAGE request, shall handle according to 3GPP TS 24.229 [11].\nThis clause describes the procedures for inviting an MCVideo user to an MCVideo session. The procedure is initiated by the non-controlling MCVideo function of an MCVideo group as the result of an action in clause 9.2.1.5.2 or clause 9.2.1.5.5.\nThe non-controlling MCVideo function:\n1)\tshall invite the MCVideo clients as specified in clause 6.3.4.1.2;\n2)\tshall include in each SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the controlling MCVideo function according to the procedures specified in clause 6.3.4.1.1; and\n3)\tshall send each SIP INVITE request towards the terminating network in accordance with 3GPP TS 24.229 [11].\nFor each SIP 183 (Session Progress) response received to each SIP INVITE request sent to an MCVideo client, the non-controlling MCVideo function of an MCVideo group:\n1)\tFor each SIP 183 (Session Progress) response containing the option tag \"100rel\", shall send a SIP PRACK request towards the MCVideo client according to 3GPP TS 24.229 [11]; and\n2)\tshall cache the received response;\nFor each SIP 200 (OK) response received to each SIP INVITE request sent to an MCVideo client, the non-controlling MCVideo function of an MCVideo group:\n1)\tshall cache the SIP 200 (OK) response;\n2)\tshall start the SIP session timer according to rules and procedures of IETF RFC 4028 [23]; and\n3)\tif at least one of the participants has subscribed to the conference event package, shall send a SIP NOTIFY request to all participants with a subscription to the conference event package as specified in clause 9.2.3.5.2.\nOn receipt of a SIP 3xx, 4xx, 5xx or 6xx response from an invited MCVideo client, the non-controlling MCVideo function of an MCVideo group:\n1)\tshall send an SIP ACK request towards the MCVideo client as specified in 3GPP TS 24.229 [11];\n2)\tshall remove the cached provisional responses received from the MCVideo client, if any cached provisional responses exists; and\n3)\tif the procedures are inititated by the receipt of the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" as specified in clause 9.2.1.5.2, shall cache the SIP 3xx, 4xx, 5xx or 6xx response.\nWhen receiving the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" the MCVideo server can be acting as a controller MCVideo function in an ongoing prearranged group call or, if an prearranged group call is not ongoing, be initiated as an non-controlling MCVideo function and invite MCVideo users.\nIf a prearranged group call is not ongoing the MCVideo server shall perform the actions specified in clause 9.2.1.5.2.2.\nIf the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" is received when a prearranged group call is ongoing, the controlling MCVideo function may switch from operating in a controlling MCVideo function mode to operate in a non-controlling MCVideo function mode as specified in clause 9.2.1.5.2.3.\nWhen operating in the non-controlling mode and a SIP BYE request is received from the controlling MCVideo function, the non-controlling MCVideo function shall change from operating in the non-controlling mode to operating in the controlling mode as specified in clause 9.2.1.5.2.4.\nUpon receipt of a \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" and if a prearranged group call is not ongoing, the non-controlling MCVideo function of an MCVideo group:\nNOTE 1:\tThe Contact header field of the SIP INVITE request contains the \"isfocus\" feature media tag.\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\n2)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n3)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n4)\tif the partner MCVideo system does not have a mutual aid relationship with the primary MCVideo system identified by the contents of the P-Asserted-Identity, shall reject the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" with a SIP 403 (Forbidden) response, with warning text set to \"128 isfocus already assigned\" in a Warning header field as specified in clause 4.4, and shall not process the remaining steps;\n5)\tvoid\nNOTE 2:\tIn 3GPP TS 24.379 [40] clause 10.1.1.5.2.2, step 5 deals with \"a trusted mutual aid relationship … between the partner MCPTT system and the primary MCPTT system\" and references 3GPP TS 23.379 [78] clause 10.6.2.4.2. There is no equivalent clause in 3GPP TS 23.281 [26]. If 3GPP TS 23.281 [26] were to include an equivalent clause, this step 5 can be used for a step 5 equivalent to that of 3GPP TS 24.379 [40].\n6)\tshall retrieve the group document from the group management server for the MCVideo group ID contained in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request and carry out initial processing as specified in clause 6.3.5.2 and continue with the rest of the steps if the checks in clause 6.3.5.2 succeed;\n7)\tshall cache the content of the SIP INVITE request, if received in the Contact header field and if the specific feature tags are supported;\n8)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\n9)\tdetermine the members to invite to the prearranged MCVideo group call as specified in clause 6.3.5.5;\n10)\tif the group document retrieved from the group management server contains <on-network-required> group members as specified in 3GPP TS 24.481 [24], shall send a SIP 183 (Session Progress) response to the SIP INVITE request for non-controlling MCVideo function of an MCVideo group as specified in clause 6.3.4.2.2.1 and shall populate the response with an application/vnd.3gpp.mcvideo-info+xml MIME body containing the <required> element set to \"true\".\n11)\tif the group document retrieved from the group management server does not contain any <on-network-required> group members as specified in 3GPP TS 24.481 [24], may, according to local policy, send a SIP 183 (Session Progress) response to the SIP INVITE request for non-controlling MCVideo function of an MCVideo group as specified in clause 6.3.4.2.2.1;\n12)\tshall invite each group member determined in step 9) above, to the group session, as specified in clause 9.2.1.5.1; and\n13)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nUnless a SIP response has been sent to the controlling MCVideo function as specified in step 10 or 11 above, the non-controlling MCVideo function of an MCVideo group shall wait for the first SIP provisional response or first SIP 200 (OK) response from one of the invited MCVideo clients, before sending a response to the SIP INVITE request for non-controlling MCVideo function of an MCVideo group.\nUpon receiving the first 18x response to a SIP INVITE request sent to an invited MCVideo client as specified in clause 9.2.1.5.1, not containing a P-Answer-State header field, and if a SIP 183 (Session Progress) response has not already been sent in response to the SIP INVITE request for non-controlling MCVideo function of an MCVideo group, the non-controlling MCVideo function of an MCVideo group:\n1)\tshall generate a SIP 183 (Session Progress) response as described in clause 6.3.4.2.2.1; and\n2)\tshall forward the SIP 183 (Session Progress) response to the controlling MCVideo function according to 3GPP TS 24.229 [11].\nUpon receiving the first 18x response to a SIP INVITE request sent to an invited MCVideo client as specified in clause 9.2.1.5.1, containing a P-Answer-State header field with the value \"Unconfirmed\" as specified in IETF RFC 4964 [30], a SIP 183 (Session Progress) response has not already been sent in response to the SIP INVITE request for non-controlling MCVideo function of an MCVideo group and the non-controlling MCVideo function of an MCVideo group supports media buffering, the non-controlling MCVideo function of an MCVideo group:\n1)\tshall generate SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.4.2.2.2before continuing with the rest of the steps;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.4.2.1;\n3)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3.5; and\nNOTE 2:\tResulting media plane processing is completed before the next step is performed.\n4)\tshall send a SIP 200 (OK) response to the controlling MCVideo function according to 3GPP TS 24.229 [11].\nIf the group document does not contain any <on-network-required> group members as specified in 3GPP TS 24.481 [24], then upon receiving the first SIP 200 (OK) response to a SIP INVITE request sent to an invited MCVideo client as specified in clause 9.2.1.5.1, the non-controlling MCVideo function of an MCVideo group:\n1)\tshall generate SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.4.2.2.2before continuing with the rest of the steps;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.4.2.1;\n3)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3.5; and\nNOTE 3:\tResulting media plane processing is completed before the next step is performed.\n4)\tshall send a SIP 200 (OK) response to the controlling MCVideo function according to 3GPP TS 24.229 [11];\nIf the group document contains <on-network-required> group member(s) as specified in 3GPP TS 24.481 [24], then the non-controlling MCVideo function of an MCVideo group shall wait until all SIP 200 (OK) responses to SIP INVITE requests have been received from the <on-network-required> MCVideo clients before sending a SIP 200 (OK) response back to the controlling MCVideo function, as specified above.\nIf all invited MCVideo clients have rejected SIP INVITE requests with a SIP 3xx, 4xx, 5xx or 6xx response, the non-controlling MCVideo function of an MCVideo group:\n1)\tshall generate a SIP reject response as specified in 3GPP TS 24.229 [11];\n2)\tshall, from the list of reject response codes cached by the non-controlling MCVideo function of an MCVideo group, select the highest prioritized cached reject response code as specified in IETF RFC 3261 [15]; and\n3)\tshall send the reject response towards the controlling MCVideo function as specified in 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" and if a prearranged group call is already ongoing, the non-controlling MCVideo function of an MCVideo group:\nNOTE 1:\tThe Contact header field of the SIP INVITE request contains the \"isfocus\" feature media tag.\n1)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not, reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n2)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n3)\tif the partner MCVideo system does not have a mutual aid relationship to merge an ongoing prearranged call with the primary MCVideo system identified by the contents of the P-Asserted-Identity, shall reject the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" with a SIP 403 (Forbidden) response, with warning text set to \"128 isfocus already assigned\" in a Warning header field as specified in clause 4.4, and shall not process the remaining steps;\n4)\tshall cache the content of the SIP INVITE request, if received in the Contact header field and if the specific feature tags are supported;\n5)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\n6)\tshall generate SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.4.2.2.2before continuing with the rest of the steps;\n7)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.4.2.1;\nNOTE 2:\tResulting media plane processing is completed before the next step is performed.\n8)\tshall send a SIP 200 (OK) response to the controlling MCVideo function according to 3GPP TS 24.229 [11]; and\n9)\tif at least one of the MCVideo clients in the pre-arranged group session has a subscription to the conference event package, shall subscribe to the conference event package from the controlling MCVideo function as specified in clause 9.2.3.5.3.\nUpon receipt of the SIP ACK request, the non-controlling MCVideo function of an MCVideo group:\n1)\tif information about a currently transmitting MCVideo client is cached:\na)\tshall generate a SIP INFO request as specified in clause 6.3.4.1.3; and\nb)\tshall send the SIP INFO request to the controlling MCVideo function as specified in 3GPP TS 24.229 [11];\n2)\tshall instruct the media plane to finalise the switch to the non-controlling mode as specified in 3GPP TS 24.581 [5] clause 6.3.5.3; and\n3)\tif at least one of the MCVideo clients in the chat group session has a subscription to the conference event package, shall subscribe to the conference event package from the controlling MCVideo function as specified in clause 9.2.3.5.3.\nUpon receipt of a SIP BYE request or a final SIP reject response from the controlling MCVideo function, the non-controlling MCVideo function of an MCVideo group:\n1)\tif keeping the prearranged group call active is according to the release policy in clause 6.3.8.1, shall request media plane to switch to controlling mode as specified in 3GPP TS 24.581 [5] clause 6.3.5;\nNOTE 1:\tResulting media plane processing is completed before the next step is performed.\n2)\tif a SIP BYE request was received, shall send a SIP 200 (OK) response to the SIP BYE request; and\n3)\tif keeping the prearranged group call active is according to the release policy in clause 6.3.8.1 and if at least one of the remaining MCVideo clients has subscribed to the conference package, shall send a NOTIFY request to all participants with a subscription to the conference event package as specified in clause 9.2.3.5.2.\nNOTE 2:\tThe SIP NOTIFY request will indicate that all participants, with the exception of the MCVideo users belonging to the constituent MCVideo group hosted by the non-controlling MCVideo function, have left the group session.\nUpon receipt of a SIP INVITE request that includes an MCVideo session identity of an ongoing MCVideo session in the Request-URI the non-controlling MCVideo function act as a controlling MCVideo function towards the MCVideo client and shall perform the actions in the clause 9.2.1.4.5.1 with the following clarifications:\n1)\tthe MCVideo session identity in the Contact header field of the SIP 200 (OK) response shall be the MCVideo session identity generated by the non-controlling MCVideo function; and\n2)\tthe clause 9.2.3.5.2 shall be used when sending the SIP NOTIFY request for subscriptions to the conference event package.\nWhen non-controlling MCVideo function is notified that an MCVideo client is newly affiliated or comes back from out of coverage, the non-controlling MCVideo function shall invite the MCVideo client to join an ongoing MCVideo group call by following the procedures specified in clause 9.2.1.5.1.\nNOTE:\tHow the MCVideo function is informed when an MCVideo client is coming back from out of coverage is out of scope of present document.\nUpon receiving a \"SIP INVITE request \"SIP INVITE request from participating MCVideo function for controlling MCVideo function of an MCVideo group\" when a prearranged group session is not ongoing, the non-controlling MCVideo-function shall:\nNOTE 1:\tThe difference between a \"SIP INVITE request from participating MCVideo function for controlling MCVideo function of an MCVideo group\" and a \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" (from the controlling MCVideo function) is that the latter SIP INVITE request contains the isfocus media feature tag in the Contact header field.\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The non-controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\n2)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n3)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n4)\tshall retrieve the group document from the group management server for the MCVideo group ID contained in the <associated-group-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request and carry out initial processing as specified in clause 6.3.5.2 and continue with the rest of the steps if the checks in clause 6.3.5.2 succeed;\nNOTE 2:\tIf the checks are not succesful, the SIP response to the \"SIP INVITE request from participating MCVideo function for non-controlling MCVideo function of an MCVideo group\" is already sent in the clause 6.3.5.2.\n5)\tshall cache the content of the SIP INVITE request;\n6)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\n7)\tshall authorize the MCVideo user in the <mcvideo-calling-user-identity> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the \"SIP INVITE request from participating MCVideo function for non-controlling MCVideo function of an MCVideo group\" as specified in clause 6.3.5.4, if the MCVideo user is unauthorized to initiated a pre-arranged group session the non-controlling MCVideo function shall send a SIP 403 (Forbidden) response with the warning text set to \"119 user is not authorised to initiate the group call\" in a Warning header field as specified in clause 4.4.\n8)\tif:\na)\tthe MCVideo user identified in the <mcvideo-calling-user-id> of the incoming SIP INVITE is not affiliated to the group identity contained in the <associated-group-id> element of the incoming SIP INVITE request as specified in clause 6.3.6;\nb)\tthe incoming SIP INVITE request does not contain an emergency indication or an imminent peril indication; or\nc)\tthe incoming SIP INVITE request is an authorised request for an MCVideo emergency group call as determined by clause 6.3.3.1.13.2 or for an MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5 and the MCVideo user identified in the <mcvideo-calling-user-id> of the incoming SIP INVITE is determined to not be eligible for implicit affiliation as specified in clause 8.2.2.3.6;\nthen shall return a SIP 403 (Forbidden) response with the warning text set to \"120 user is not affiliated to this group\" in a Warning header field as specified in clause 4.4, and skip the rest of the steps below;\n9)\tshall generate a SIP INVITE request towards the controlling MCVideo function as specified in clause 6.3.4.1.4; and\n10)\tshall send the SIP INVITE request to the controlling MCVideo function as specified in 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response to the SIP INVITE request sent to the controlling MCVideo function as specified above, the non-controlling MCVideo function:\n1)\tshall send the SIP ACK request to the controlling MCVideo function as specified in 3GPP TS 24.229 [11];\n2)\tshall generate a SIP 200 (OK) to the \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" as specified in 3GPP TS 24.229 [11] populated as follows:\na)\tshall include an SDP answer as specified in clause 6.3.4.2.1 based on the SDP answer in the SIP 200 (OK) response;\nb)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) reqponse set to the public service identity of the non-controlling MCVideo function; and\nc)\tshall include the warning text set to \"148 MCVideo group is regrouped\" in a Warning header field as specified in clause 4.4;\n3)\tshall start acting as a non-controlling MCVideo function and interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.5;\n4)\tshall determine the members to invite to the prearranged MCVideo group call as specified in clause 6.3.5.2; and\n5)\tshall invite each group member determined in step 2) above, to the group session, as specified in clause 9.2.1.5.1.\nUpon receipt of other final SIP responses with the exception of the SIP 2xx response to the INVITE request sent to the controlling MCVideo function as specified above, the non-controlling MCVideo function:\n1)\tshall send the SIP ACK response to the controlling MCVideo function as specified in 3GPP TS 24.229 [11]; and\n2)\tshall start acting as a controlling MCVideo function as specified in clause 9.2.1.4 and invite members as specified in clause 6.3.4.1.2.\nNOTE 4:\tRegardless if the controlling MCVideo function accepts or rejects the SIP INVITE request sent above the prearranged group session continues to be initiated with only the members of the group homed on the non-controlling MCVideo function of the group being invited to the group call.\nThe non-controlling MCVideo function shall handle SIP responses (other than the SIP 2xx response) to the SIP INVITE requests sent to invited members as specified in 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response to SIP INVITE requests sent to invited members, the non-controlling MCVideo function:\n1)\tshall send the SIP ACK request as specified in 3GPP TS 24.229 [11]; and\n2)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "9.2.2\tChat group (restricted) call",
                            "text_content": "Upon receiving a request from an MCVideo user to establish an MCVideo group session using an MCVideo group identity, identifying a chat MCVideo group, the MCVideo client shall determine whether the group document contains a <list-service> element that contains a <preconfigured-group-use-only> element. If a <preconfigured-group-use-only> element exists and is set to the value \"true\", then the MCVideo client:\n1)\tshould indicate to the MCVideo user that calls are not allowed on the indicated group; and\n2)\tshall skip the remainder of this procedure.\nUpon receiving a request from an MCVideo user to establish an MCVideo group session using an MCVideo group identity, identifying a chat MCVideo group, the MCVideo client shall generate an initial SIP INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tif the MCVideo user has requested the origination of an MCVideo emergency group call or is originating an MCVideo chat group call and the MCVideo emergency state is already set, the MCVideo client shall comply with the procedures in clause 6.2.8.1.1;\n2)\tif the MCVideo user has requested the origination of an MCVideo imminent peril group call, the MCVideo client shall comply with the procedures in clause 6.2.8.1.9;\n3)\tshall include the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP INVITE request according to IETF RFC 3840 [22];\n4)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n5)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP INVITE request;\n6)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n7)\tshould include the \"timer\" option tag in the Supported header field;\n8)\tshould include the Session-Expires header field according to IETF RFC 4028 [23]. It is recommended that the refresher parameter is omitted. If included, the refresher parameter shall be set to \"uac\";\n9)\tshall set the Request-URI of the SIP INVITE request to the public service identity identifying the participating MCVideo function serving the MCVideo user;\nNOTE 1:\tThe MCVideo client is configured with public service identity identifying the participating MCVideo function serving the MCVideo user.\n10)\tmay include a P-Preferred-Identity header field in the SIP INVITE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n11)\tif the MCVideo emergency state is already set or the MCVideo client emergency group state for this group is set to \"MVEG 2: in-progress\", the MCVideo client shall comply with the procedures in clause 6.2.8.1.2;\n12)\tif the MCVideo client imminent peril group state for this group is set to \"MIG 2: in-progress\" or \"MVIG 3: confirm-pending\" shall include the Resource-Priority header field and comply with the procedures in clause 6.2.8.1.12;\n13)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <session-type> element set to a value of \"chat\";\nb)\tthe <mcvideo-request-uri> element set to the group identity;\nc)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\nd)\tan <anyExt> element containing:\ni)\tif the MCVideo client is aware of active functional aliases, and an active functional alias is to be included in the initial SIP INVITE request, the <functional-alias-URI> element set to the URI of the used functional alias; and\nii)\tif the MCVideo user has requested an application priority, the <user-requested-priority> element set to the user provided value;\nNOTE 2:\tThe MCVideo ID of the originating MCVideo user is not included in the body, as this will be inserted into the body of the SIP INVITE request that is sent by the originating participating MCVideo function.\n14)\tshall include in the SIP INVITE request an SDP offer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.2.1;\n15)\tif an implicit transmission request is required, shall indicate this as specified in clause 6.4; and\n16)\tshall send the SIP INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP INVITE request, the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5]; and\n2)\tif the MCVideo emergency group call state is set to \"MEGC 2: emergency-call-requested\" or \"MVEGC 3: emergency-call-granted\" or the MCVideo imminent peril group call state is set to \"MVIGC 2: imminent-peril-call-requested\" or \"MVIGC 3: imminent-peril-call-granted\", the MCVideo client shall perform the actions specified in clause 6.2.8.1.4.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the SIP INVITE request:\n1)\tif the MCVideo emergency group call state is set to \"MVEGC 2: emergency-call-requested\" or \"MVEGC 3: emergency-call-granted\"; or\n2)\tif the MCVideo imminent peril group call state is set to \"MVIGC 2: imminent-peril-call-requested\" or \"MVIGC 3: imminent-peril-call-granted\";\nthe MCVideo client shall perform the actions specified in clause 6.2.8.1.5.\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing group session, the MCVideo client shall follow the actions specified in clause 6.2.8.1.13.\nThis clause covers both on-demand session and pre-established sessions.\nUpon receipt of a SIP re-INVITE request the MCVideo client:\n1)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user the MCVideo ID of the originator of the MCVideo emergency group call and an indication that this is an MCVideo emergency group call;\nb)\tif the <mcvideoinfo> element containing the <mcvideo-Params> element contains an <alert-ind> element set to \"true\", should display to the MCVideo user an indication of the MCVideo emergency alert and associated information;\nc)\tshall set the MCVideo emergency group state to \"MVEG 2: in-progress\";\nd)\tshall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\ne)\tshall set the MCVideo imminent peril group call state to \"MIGC 1: imminent-peril-gc-capable\";\n2)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user the MCVideo ID of the originator of the MCVideo imminent peril group call and an indication that this is an MCVideo imminent peril group call; and\nb)\tshall set the MCVideo imminent peril group state to \"MVIG 2: in-progress\";\n3)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"false\":\na)\tshould display to the MCVideo user the MCVideo ID of the MCVideo user cancelling the MCVideo emergency group call;\nb)\tif the <mcvideoinfo> element containing the <mcvideo-Params> element contains an <alert-ind> element set to \"false\":\ni)\tshould display to the MCVideo user an indication of the MCVideo emergency alert cancellation and the MCVideo ID of the MCVideo user cancelling the MCVideo emergency alert; and\nii)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body including an <originated-by> element:\nA)\tshould display to the MCVideo user the MCVideo ID contained in the <originated-by> element of the MCVideo user that originated the MCVideo emergency alert; and\nB)\tif the MCVideo ID contained in the <originated-by> element is the MCVideo ID of the receiving MCVideo user, shall set the MCVideo emergency alert state to \"MVEA 1: no-alert\";\nc)\tshall set the MCVideo emergency group state to \"MVEG 1: no-emergency\"; and\nd)\tif the MCVideo emergency group call state of the group is set to \"MVEGC 3: emergency-call-granted\", shall set the MCVideo emergency group call state of the group to \"MVEGC 1: emergency-gc-capable\";\n4)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"false\":\na)\tshould display to the MCVideo user the MCVideo ID of the MCVideo user cancelling the MCVideo imminent peril group call and an indication that this is an MCVideo imminent peril group call;\nb)\tshall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\nc)\tshall set the MCVideo imminent peril group call state to \"MIGC 1: imminent-peril-gc-capable\";\n5)\tmay check if a Resource-Priority header field is included in the incoming SIP re-INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n6)\tshall accept the SIP re-INVITE request and generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n7)\tshall include the g.3gpp.mcvideo media feature tag in the Contact header field of the SIP 200 (OK) response;\n8)\tshall include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP 200 (OK) response;\n9)\tif the SIP re-INVITE request was received within an on-demand session, shall include an SDP answer in the SIP 200 (OK) response to the SDP offer in the incoming SIP re-INVITE request according to 3GPP TS 24.229 [11] with the clarifications given in clause 6.2.2; and\n10)\tshall send the SIP 200 (OK) response towards the MCVideo server according to rules and procedures of 3GPP TS 24.229 [11].\nThis clause covers both on-demand session.\nUpon receiving a request from an MCVideo user to cancel the in-progress emergency condition on a chat MCVideo group, the MCVideo client shall generate a SIP re-INVITE request as specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tif the MCVideo user is not authorised to cancel the in-progress emergency group state of the MCVideo group as determined by the procedures of clause 6.2.8.1.7, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to cancel the in-progress emergency group state of the MCVideo group; and\nb)\tshall skip the remaining steps of the current clause;\n2)\tshall, if the MCVideo user is cancelling an in-progress emergency condition and optionally an MCVideo emergency alert originated by the MCVideo user,  include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.1.3;\n3)\tshall, if the MCVideo user is cancelling an in-progress emergency condition and optionally an MCVideo emergency alert originated by another MCVideo user, include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.1.14;\n4)\tshall, if the SIP re-INVITE request is to be sent within an on-demand session, include in the SIP re-INVITE request an SDP offer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.2.1;\n5)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.2; and\n6)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request, the MCVideo client:\n1)\tshall set the MCVideo emergency group state of the group to \"MVEG 1: no-emergency\";\n2)\tshall set the MCVideo emergency group call state of the group to \"MVEGC 1: emergency-gc-capable\"; and\n3)\tif the MCVideo emergency alert state is set to \"MVEA 4: Emergency-alert-cancel-pending\", the sent SIP re-INVITE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body and the SIP 2xx response to the SIP request for a priority group call does not contain a Warning header field as specified in clause 4.4 with the warning text containing the mcvideo-warn-code set to \"149\", shall set the MCVideo emergency alert state to \"MVEA 1: no-alert\".\nOn receiving a SIP 4xx response, SIP 5xx response or SIP 6xx response to the SIP re-INVITE request:\n1)\tshall set the MCVideo emergency group state as \"MVEG 2: in-progress\";\n2)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response contains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element set to a value of \"true\" and the sent SIP re-INVITE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated\"; and\n3)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response did not contain an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element and did not contain an <originated-by> element, the MCVideo emergency alert (MVEA) state shall revert to its value prior to entering the current procedure.\nNOTE 3:\tIf the in-progress emergency group state cancel request is rejected, the state of the session does not change, i.e. continues with MCVideo emergency group call level priority.\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing group session, the MCVideo client shall follow the actions specified in clause 6.2.8.1.13.\nThis clause covers both on-demand session and pre-established sessions.\nUpon receiving a request from an MCVideo user to upgrade the MCVideo group session to an emergency condition or an imminent peril condition on a chat MCVideo group, the MCVideo client shall generate a SIP re-INVITE request as specified in 3GPP TS 24.229 [11], with the clarifications given below.\n1)\tif the MCVideo user is requesting to upgrade the MCVideo group session to an in-progress emergency group state and is not authorised to do so as determined by the procedures of clause 6.2.8.1.8, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to upgrade the MCVideo group session to an in-progress emergency group state; and\nb)\tshall skip the remaining steps of the current clause;\n2)\tif the MCVideo user is requesting to upgrade the MCVideo group session to an in-progress imminent peril state and is not authorised to do so as determined by the procedures of clause 6.2.8.1.8, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to upgrade the MCVideo group session to an in-progress imminent peril group state; and\nb)\tshall skip the remaining steps of the current clause;\n3)\tif the MCVideo user has requested to upgrade the MCVideo group session to an MCVideo emergency call, the MCVideo client:\na)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body by following the procedures in clause 6.2.8.1.1;\nb)\tif an indication of an MCVideo emergency alert is to be included, shall perform the procedures specified in clause 6.2.9.1 for the MCVideo emergency alert trigger; and\nc)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.2.\n4)\tif the MCVideo user has requested to upgrade the MCVideo group session to an MCVideo imminent peril call, the MCVideo client:\na)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body by following the procedures in clause 6.2.8.1.9; and\nb)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.12;\n5)\tif the SIP re-INVITE request is to be sent within an on-demand session, shall include in the SIP re-INVITE request an SDP offer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.2.1;\n6)\tif an implicit transmission request is required, shall indicate this as specified in clause 6.4;\n7)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.2; and\n8)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5]; and\n2)\tshall perform the actions specified in clause 6.2.8.1.4.\nOn receiving a SIP 4xx response, SIP 5xx response or SIP 6xx response to the SIP re-INVITE request the MCVideo client shall perform the actions specified in clause 6.2.8.1.5.\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing group session, the MCVideo client shall follow the actions specified in clause 6.2.8.1.13.\nThis clause covers on-demand session.\nUpon receiving a request from an MCVideo user to cancel the in-progress imminent peril condition on a chat MCVideo group, the MCVideo client shall generate a SIP re-INVITE request by following the procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tif the MCVideo user is not authorised to cancel the in-progress imminent peril group state of the MCVideo group as determined by the procedures of clause 6.2.8.1.10, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to cancel the in-progress imminent peril group state of the MCVideo group; and\nb)\tshall skip the remaining steps of the current clause;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.1.11;\n3)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.1.12;\n4)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <session-type> element set to a value of \"chat\"; and\nb)\tthe <mcvideo-request-uri> element set to the group identity;\nNOTE 1:\tThe MCVideo ID of the originating MCVideo user is not included in the body, as this will be inserted into the body of the SIP re-INVITE request that is sent by the originating participating MCVideo function.\n5)\tshall include the g.3gpp.mcvideo media feature tag in the Contact header field of the SIP re-INVITE request according to IETF RFC 3840 [22];\n6)\tif the SIP re-INVITE request is to be sent within an on-demand session, shall include in the SIP re-INVITE request an SDP offer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.2.1;\n7)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request, the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5];\n2)\tshall set the MCVideo imminent peril group state of the group to \"MVIG 1: no-imminent-peril\"; and\n3)\tshall set the MCVideo imminent peril group call state of the group to \"MVIGC 1: imminent-peril-gc-capable\".\nOn receiving a SIP 4xx response, SIP 5xx response or SIP 6xx response to the SIP re-INVITE request:\n1)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response:\na)\tcontains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <imminentperil-ind> element set to a value of \"true\"; or\nb)\tdoes not contain an application/vnd.3gpp.mcvideo-info+xml MIME body with an <imminentperil-ind> element;\nthen the MCVideo client shall set the MCVideo imminent peril group state as \"MIG 2: in-progress\".\nNOTE 2:\tThis is the case where the MCVideo client requested the cancellation of the MCVideo imminent peril in-progress state and was rejected.\nThis procedure is used for MCVideo emergency and MCVideo imminent peril calls when the MCVideo client is affiliated but not joined to the chat group.\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of an initial SIP INVITE request, the MCVideo client:\n1)\tmay reject the SIP INVITE request if either of the following conditions is met:\na)\tMCVideo client does not have enough resources to handle the call; or\nb)\tthe number of the maximum simultaneous MCVideo emergency group calls supported for the specific calling functional alias as specified in the <MaxSimultaneousEmergencyGroupCalls> element within the <FunctionalAliasList> list element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) has been reached; or\nc)\tany other reason outside the scope of this specification;\n2)\tif the SIP INVITE request is rejected in step 1), shall respond toward participating MCVideo function either with appropriate reject code as specified in 3GPP TS 24.229 [11] and warning texts as specified in clause 4.4.2 or with SIP 480 (Temporarily unavailable) response not including warning texts if the user is authorised to restrict the reason for failure and skip the rest of the steps of this clause;\nNOTE 1:\tif the SIP INVITE request contains an emergency indication or imminent peril indication, the MCVideo client can by means beyond the scope of this specification choose to accept the request.\n3)\tif the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user an indication that this is a SIP INVITE request for an MCVideo emergency group call and:\ni)\tshould display the MCVideo ID of the originator of the MCVideo emergency group call contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body;\nii)\tshould display the MCVideo group identity of the group with the emergency condition contained in the <mcvideo-calling-group-id> element;\niii)\tif the <alert-ind> element is set to \"true\", should display to the MCVideo user an indication of the MCVideo emergency alert and associated information; and\niv)\tif the received SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing an <mcvideo-Params> element containing an <anyExt> element which includes a <functional-alias-URI> element, may display to the MCVideo user the functional alias of the inviting MCVideo user; and\nb)\tshall set the MCVideo emergency group state to \"MVEG 2: in-progress\";\nc)\tshall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\nd)\tshall set the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-gc-capable\"; otherwise\n4)\tif the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user an indication that this is a SIP INVITE request for an MCVideo imminent peril group call and:\ni)\tshould display the MCVideo ID of the originator of the MCVideo imminent peril group call contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tshould display the MCVideo group identity of the group with the imminent peril condition contained in the <mcvideo-calling-group-id> element; and\nb)\tshall set the MCVideo imminent peril group state to \"MVIG 3: in-progress\";\n5)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n6)\tshall accept the SIP INVITE request and generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n7)\tshall include the option tag \"timer\" in a Require header field of the SIP 200 (OK) response;\n8)\tshall include the g.3gpp.mcvideo media feature tag in the Contact header field of the SIP 200 (OK) response;\n9)\tshall include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP 200 (OK) response;\n10)\tshall include the Session-Expires header field in the SIP 200 (OK) response and start the SIP session timer according to IETF RFC 4028 [23]. If no \"refresher\" parameter was included in the received SIP INVITE request the \"refresher\" parameter in the Session-Expires header field shall be set to \"uas\", otherwise shall include a \"refresher\" parameter set to the value received in the Session-Expires header field the received SIP INVITE request;\n11)\tshall include an SDP answer in the SIP 200 (OK) response to the SDP offer in the incoming SIP INVITE request according to 3GPP TS 24.229 [11] with the clarifications given in clause 6.2.2;\n12)\tshall send the SIP 200 (OK) response towards the MCVideo server according to rules and procedures of 3GPP TS 24.229 [11]; and\n13)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nWhen an MCVideo client wants to leave the MCVideo session that has been established using on-demand session, the MCVideo client shall follow the procedures as specified in clause 6.2.4.1.\nUpon receiving a SIP BYE request for releasing the MCVideo chat session, the MCVideo client shall follow the procedures as specified in clause 6.2.6.\nIn the procedures in this clause:\n1)\tgroup identity in an incoming SIP INVITE request refers to the group identity from the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request;\n2)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body;\n3)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" for a group identity identifying a chat MCVideo group containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"chat\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\nNOTE 1:\tif the SIP INVITE request contains an emergency indication set to a value of \"true\" or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating a priority call as determined by clause 6.3.2.1.6.1, the participating MCVideo function can according to local policy choose to accept the request.\n2)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP INVITE request, and authorise the calling user;\nNOTE 2:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif through local policy in the originating participating MCVideo function, the user identified by the MCVideo ID is not authorised to make chat group calls, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response to the SIP INVITE request, with warning text set to \"108 user not authorised to make chat group calls\" in a Warning header field as specified in clause 4.4;\n4)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not, reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n5)\tshall check if the number of maximum simultaneous MCVideo group calls supported for the MCVideo user as specified in the <MaxSimultaneousCallsN6> element of the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) has been exceeded. If exceeded, the MCVideo function shall respond with a SIP 486 (Busy Here) response with the warning text set to \"103 maximum simultaneous MCVideo group calls reached\" in a Warning header field as specified in clause 4.4. Otherwise, continue with the rest of the steps;\nNOTE 3:\tIf the SIP INVITE request contains an emergency indication set to a value of \"true\" or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating a priority call as determined by clause 6.3.2.1.6.1, the participating MCVideo function can according to local policy choose to allow for an exception to the limit for the maximum simultaneous MCVideo sessions supported for the MCVideo user.\n6)\tif the user identified by the MCVideo ID is not affiliated to the group identified in the \"SIP INVITE request for originating participating MCVideo function\" as determined by clause 8.2.2.2.11, shall perform the actions specified in clause 8.2.2.2.12 for implicit affiliation;\n7)\tif the actions for implicit affiliation specified in step 6) above were performed but not successful in affiliating the MCVideo user due to the MCVideo user already having N2 simultaneous affiliations (specified in the <MaxAffiliationsN2> element of the <Common> element of the corresponding MCVideo user profile), shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 486 (Busy Here) response with the warning text set to \"102 too many simultaneous affiliations\" in a Warning header field as specified in clause 4.4. and skip the rest of the steps.\nNOTE 4:\tN2 is the total number of MCVideo groups that an MCVideo user can be affiliated to simultaneously as specified in 3GPP TS 23.281 [26].\nNOTE 5:\tif the SIP INVITE request contains an emergency indication set to a value of \"true\" or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating a priority call as determined by clause 6.3.2.1.6.1, the participating MCVideo function can according to local policy choose to allow an exception to the N2 limit specified in the <MaxAffiliationsN2> element of the <Common> element of the MCVideo user profile of the served MCVideo ID. Alternatively, a lower priority affiliation of the MCVideo user could be cancelled to allow for the new affiliation.\n8)\tshall determine the public service identity of the controlling MCVideo function associated with the group identity in the SIP INVITE request;\nNOTE 6:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or an interconnected MCVideo system.\nNOTE 7:\tHow the participating MCVideo server discovers the public service identity of the controlling MCVideo function associated with the group identity is out of scope of the current document.\n9)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.3;\n10)\tshall set the Request-URI to the public service identity of the controlling MCVideo function associated with the group identity present in the incoming SIP INVITE request;\nNOTE 8:\tThe public service identity can identify the controlling function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 9:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 10:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 11:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 12:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n11)\tshall include the MCVideo ID of the calling user in <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request;\n11a)\tif the received SIP request contains a <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, then check if the status of the functional alias is activated for the MCVideo ID. If the functional alias status is activated, then set the <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP INVITE request to the received value, if the status is unequal activated then do not include a <functional-alias-URI> element;\n12)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request as specified in clause 6.3.2.1.1.1;\n13)\tif the received SIP INVITE request contains an application/vnd.3gpp.location-info+xml MIME body as specified in Annex F.3; and\na)\tif not already included, shall include a Content-Type header field set to \"application/vnd.3gpp.location-info+xml\"; and\nb)\tif not already copied, shall copy the contents of the application/vnd.3gpp.location-info+xml MIME body received in the SIP INVITE request into an application/vnd.3gpp.location-info+xml MIME body included in the outgoing SIP request;\nNOTE 13:\tNote that the application/vnd.3gpp.mcvideo-info+xml MIME body will already have been copied into the outgoing SIP INVITE request by clause 6.3.2.1.3.\n14) if a Resource-Priority header field was included in the received SIP INVITE request, shall include a Resource-Priority header field according to rules and procedures of IETF RFC 4412 [33] set to the value indicated in the Resource-Priority header field of the SIP INVITE request from the MCVideo client; and\nNOTE 14:\tThe participating MCVideo function will leave verification of the Resource-Priority header field to the controlling MCVideo function.\n15) shall forward the SIP INVITE request according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 302 (Moved Temporarily) response to the above SIP INVITE request in step 14), the participating MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.10;\n2)\tshall include an SDP offer based upon the SDP offer in the received SIP INVITE request from the MCVideo client as specified in clause 6.3.2.1.1.1; and\n3)\tshall forward the SIP INVITE request according to 3GPP TS 24.229 [11];\nUpon receipt of a SIP 2xx response to the above SIP INVITE request in step 14) the participating MCVideo function:\n1)\tif the SIP 2xx response contains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <MKFC-GKTPs> element, shall perform the procedures in clause 6.3.2.3.2;\n2)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.2.1.4.2;\n3)\tshall include in the SIP 200 (OK) response an SDP answer as specified in the clause 6.3.2.1.2.1;\n4)\tshall include Warning header field(s) that were received in the incoming SIP 200 (OK) response;\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n6)\tif the procedures of clause 8.2.2.2.12 for implicit affiliation were performed in the present clause, shall complete the implicit affiliation by performing the procedures of clause 8.2.2.2.13;\n7)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11]; and\n8)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the above SIP INVITE request in step 14) the participating MCVideo function:\n1)\tshall generate a SIP response according to 3GPP TS 24.229 [11];\n2)\tshall include Warning header field(s) that were received in the incoming SIP response;\n3)\tshall forward the SIP response to the MCVideo client according to 3GPP TS 24.229 [11]; and\n4)\tif the implicit affiliation procedures of clause 8.2.2.2.12 were invoked in the current procedure, shall perform the procedures of clause 8.2.2.2.14.\nThis clause covers on-demand session.\nUpon receipt of a SIP re-INVITE request for a served MCVideo client of a chat MCVideo group, the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the \"SIP INVITE request for terminating participating MCVideo function\" with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\nNOTE 1:\tIf the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\", the participating MCVideo function may by means beyond the scope of this specification choose to accept the request.\n2)\tshall determine if the media parameters are acceptable and the MCVideo codec are offered in the SDP offer and if not, reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n3)\tshall generate an outgoing SIP re-INVITE request as specified in clause 6.3.2.1.9;\n4)\tshall, if the SIP re-INVITE request was received within an on-demand session, include in the SIP re-INVITE request an SDP offer based on the SDP offer in the received SIP re-INVITE request as specified in clause 6.3.2.1.1.1;\n5)\tif the received SIP re-INVITE request contains a Resource-Priority header field, shall include a Resource-Priority header field with the contents set as in the received Resource-Priority header field;\n6)\tif the received SIP re-INVITE request contains a Resource-Priority header field, shall include a Resource-Priority header field with the contents set as in the received Resource-Priority header field; and\nNOTE 3: The controlling MCVideo function will determine the validity of the Resource-Priority header field.\n7)\tshall forward the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response to the above SIP re-INVITE request in step 7) the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.2.1.4.2;\n2)\tif the SIP 200 (OK) response is to be sent within an on-demand session, shall include in the SIP 200 (OK) response an SDP answer as specified in the clause 6.3.2.1.2.1;\n3)\tshall include Warning header field(s) that were received in the incoming SIP 200 (OK) response; and\n4)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11];\nUpon receipt of a SIP 403 (Forbidden) response to the sent SIP re-INVITE request the participating MCVideo function:\n1)\tshall generate a SIP 403 (Forbidden) response according to 3GPP TS 24.229 [11];\n2)\tshall copy, if included in the received SIP 403 (Forbidden) response, the application/vnd.3gpp.mcvideo-info+xml MIME body MIME body to the outgoing SIP (Forbidden) response;\n3)\tshall include Warning header field(s) that were received in the incoming SIP 403 (Forbidden) response; and\n4)\tshall forward the SIP 403 (Forbidden) response to the MCVideo client according to 3GPP TS 24.229 [11];\nThis clause covers on-demand session.\nUpon receipt of a \"SIP INVITE request for terminating participating MCVideo function\", for a terminating MCVideo client of a chat MCVideo group, the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the \"SIP INVITE request for terminating participating MCVideo function\" with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\nNOTE:\tIf the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\", the participating MCVideo function can by means beyond the scope of this specification choose to accept the request.\n2)\tshall check the presence of the isfocus media feature tag in the URI of the Contact header field and if it is not present then the participating MCVideo function shall reject the request with a SIP 403 (Forbidden) response with the warning text set to \"104 isfocus not assigned\" in a Warning header field as specified in clause 4.4. Otherwise, continue with the rest of the steps;\n3)\tshall generate a SIP INVITE request as specified in clause 6.3.2.2.3;\n4)\tshall set the Request-URI to the public user identity associated with the MCVideo ID of the MCVideo user to be invited based on the contents of the Request-URI of the received \"SIP INVITE request for terminating participating MCVideo function\";\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the participating MCVideo function;\n6)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received \"SIP INVITE request for terminating participating MCVideo function\" as specified in clause 6.3.2.2.1;\n7)\tif the received SIP INVITE request contains a Resource-Priority header field, shall include a Resource-Priority header field with the contents set as in the received Resource-Priority header field;\n8)\tshall perform the procedures specified in clause 6.3.2.2.9 to include any MIME bodies in the received SIP INVITE request; and\n9)\tshall send the SIP INVITE request towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the above SIP INVITE request sent to the MCVideo client, the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as described in the clause 6.3.2.2.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer based on the SDP answer in the received SIP 200 (OK) response as specified in clause 6.3.2.2.2.1;\n3)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\n4)\tshall forward the SIP 200 (OK) response according to 3GPP TS 24.229 [11].\nThis clause covers both on-demand session.\nUpon receipt of a SIP re-INVITE request for a terminating MCVideo client of a chat MCVideo group, the participating MCVideo function:\n1)\tshall check if a Resource-Priority header field is included in the incoming SIP re-INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n2)\tshall generate an outgoing SIP re-INVITE request as specified in clause 6.3.2.2.10;\n3)\tshall include in the SIP re-INVITE request an SDP offer based on the SDP offer in the received SIP re-INVITE request as specified in clause 6.3.2.2.1; and\n4)\tshall send the SIP re-INVITE request towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the above SIP re-INVITE request sent to the MCVideo client, the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as described in the clause 6.3.2.2.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer based on the SDP answer in the received SIP 200 (OK) response as specified in clause 6.3.2.2.2.1; and\n3)\tshall forward the SIP 200 (OK) response according to 3GPP TS 24.229 [11].\nIn the procedures in this clause:\n1)\tMCVideo ID in an incoming SIP INVITE request refers to the MCVideo ID of the originating user from the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request;\n2)\tgroup identity in an incoming SIP INVITE request refers to the group identity from the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request;\n3)\tMCVideo ID in an outgoing SIP INVITE request refers to the MCVideo ID of the called user in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the outgoing SIP INVITE request;\n4)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n5)\talert indication in an incoming SIP INVITE request refers to the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of a \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" containing a group identity identifying a chat MCVideo group, the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\nNOTE 1:\tIf the SIP INVITE request contains an emergency indication set to a value of \"true\", the controlling MCVideo function can by means beyond the scope of this specification choose to accept the request.\n2)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag;\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; or\nc)\tthe isfocus media feature tag is present in the Contact header field;\n2A)\tif the group document contains a <list-service> element that contains a <preconfigured-group-use-only> element that is set to the value \"true\", shall reject the SIP INVITE request with a SIP 403 (Forbidden) response with the warning text set to \"167 call is not allowed on the preconfigured group\" as specified in clause 4.4 \"Warning header field\" and skip the rest of the steps;\n3)\tif the received SIP INVITE request includes an application/vnd.3gpp.mcvideoinfo+xml MIME body with an <emergency-ind> element included or an <imminentperil-ind> element included, shall validate the request as described in clause 6.3.3.1.17;\n4)\tshall retrieve the necessary group document(s) from the group management server for the group identity contained in the SIP INVITE request and carry out initial processing as specified in clause 6.3.5.2 and continue with the rest of the steps if the checks in clause 6.3.5.2 succeed;\n5)\tif the MCVideo user identified by the MCVideo ID in the SIP INVITE request is not affiliated with the MCVideo group identified by the group identity in the SIP INVITE request as determined by the procedures of clause 6.3.6:\na)\tshall check if the MCVideo user is eligible to be implicitly affiliated with the MCVideo chat group as determined by clause 8.2.2.3.6; and\nb)\tif the MCVideo user is not eligible for implicit affiliation, shall reject the SIP INVITE request with a SIP 403 (Forbidden) response with the warning text set to \"120 user is not affiliated to this group\" in a Warning header field as specified in clause 4.4 and skip the rest of the steps below;\n6)\tif the SIP INVITE request contains unauthorised request for an MCVideo emergency group call as determined by clause 6.3.3.1.13.2:\na)\tshall reject the SIP INVITE request with a SIP 403 (Forbidden) response as specified in clause 6.3.3.1.14; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n7)\tif the SIP INVITE request contains an unauthorised request for an MCVideo imminent peril group call as determined by clause 6.3.3.1.13.6, shall reject the SIP INVITE request with a SIP 403 (Forbidden) response with the following clarifications:\na)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"false\"; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n8)\tif a Resource-Priority header field is included in the SIP INVITE request:\na)\tif the Resource-Priority header field is set to the value indicated for emergency calls and the SIP INVITE request does not contain an emergency indication and the in-progress emergency state of the group is set to a value of \"false\", shall reject the SIP INVITE request with a SIP 403 (Forbidden) response and skip the remaining steps; and\nb)\tif the Resource-Priority header field is set to the value indicated for imminent peril calls and the SIP INVITE request does not contain an imminent peril indication and the in-progress imminent peril state of the group is set to a value of \"false\", shall reject the SIP INVITE request with a SIP 403 (Forbidden) response; and skip the remaining steps;\n9)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\n10)\tshall create a chat group session and allocate an MCVideo session identity for the chat group session if the MCVideo chat group session identity does not already exist, and may handle timer TNG3 (group call timer) as specified in clause 6.3.3.5;\n11)\tif the chat group session is ongoing and the <on-network-max-participant-count> as specified in 3GPP TS 24.481 [24] is already reached:\na)\tif, according to local policy, the user identified by the MCVideo ID in the SIP INVITE request is deemed to have a higher priority than an existing user in the chat group session, may remove a participant from the session by following clause 9.2.1.4.4.3, and skip the next step; and\nNOTE 2:\tThe local policy for deciding whether to admit a user to a call that has reached its maximum amount of participants can include the <user-priority> and the <participant-type> of the user as well as other information of the user from the group document as specified in 3GPP TS 24.481 [24]. The local policy decisions can also include taking into account whether the imminent-peril indicator or emergency indicator was received in the SIP INVITE request.\nb)\tshall return a SIP 486 (Busy Here) response with the warning text set to \"122 too many participants\" to the originating network as specified in clause 4.4. Otherwise, continue with the rest of the steps;\n12)\tif the received SIP INVITE request was determined to be eligible for implicit affiliation in step 5) and if clause 8.2.2.3.7 was not previously invoked in the present clause, shall perform the implicit affiliation as specified in clause 8.2.2.3.7;\n13)\tif the SIP INVITE request contains an emergency indication set to a value of \"true\" or the in-progress emergency state of the group to \"true\" the controlling MCVideo function shall:\na)\tvalidate that the SIP INVITE request includes a Resource-Priority header field populated with the values for an MCVideo emergency group call as specified in clause 6.3.3.1.19, and if not:\ni)\tperform the actions specified in clause 6.3.3.1.8;\nii)\tsend the SIP UPDATE request generated in clause 6.3.3.1.8 towards the initiator of the SIP INVITE request according to 3GPP TS 24.229 [11]; and\niii)\tupon receiving a SIP 200 (OK) response to the SIP UPDATE request sent in clause 6.3.3.1.8, proceed with the rest of the steps.\nNOTE 3:\tVerify that the Resource-Priority header is included and properly populated for both ongoing and newly- entered in-progress emergency states of the specified group.\nb)\tif the in-progress emergency state of the group is set to a value of \"true\" and this MCVideo user is indicating a new emergency indication:\ni)\tfor each of the other affiliated members of the group generate a SIP MESSAGE request notification of the MCVideo user's emergency indication as specified in clause 6.3.3.1.11 with the following clarifications:\nA)\tset the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\";\nB)\tif the received SIP INVITE contains an alert indication set to a value of \"true\" and this is an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, perform the procedures specified in clause 6.3.3.1.12; and\nC)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\nii)\tcache the information that this MCVideo user has initiated an MCVideo emergency call; and\niii)\tif the SIP INVITE request contains an authorised request for an MCVideo emergency alert as determined in step i) B) above, cache the information that this MCVideo user has initiated an MCVideo emergency alert; and\nc)\tif the in-progress emergency state of the group is set to a value of \"false\":\ni)\tshall set the value of the in-progress emergency state of the group to \"true\";\nii)\tshall start timer TNG2 (in-progress emergency group call timer) and handle its expiry as specified in clause 6.3.3.1.16;\niii)\tshall generate SIP re-INVITE requests for the MCVideo emergency group call to the other affiliated and joined participants of the chat MCVideo group as specified in clause 6.3.3.1.6;\niv)\tshall generate SIP INVITE requests for the MCVideo emergency group call to the affiliated but not joined members of the chat MCVideo group as specified in clause 6.3.3.1.7;\nA)\tfor each affiliated but not joined member shall send the SIP INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nB)\tupon receiving a SIP 200 (OK) response to the SIP INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5];\nv)\tshall cache the information that this MCVideo user has initiated an MCVideo emergency call; and\nvi)\tif the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body is set to \"true\" and is an authorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall cache the information that this MCVideo user has initiated an MCVideo emergency alert; and\nvii)\tif the in-progress imminent peril state of the group is set to a value of \"true\", shall set it to a value of \"false\";\n14)\tif the in-progress emergency state of the group is set to a value of \"false\" and if the SIP INVITE request contains an imminent peril indication set to a value of \"true\" or the in-progress imminent peril state of the group is set to \"true\", the controlling MCVideo function shall:\na)\tvalidate that the SIP INVITE request includes a Resource-Priority header field populated with the values for an MCVideo imminent peril group call as specified in clause 6.3.3.1.19, and if not:\ni)\tperform the actions specified in clause 6.3.3.1.8;\nii)\tsend the SIP UPDATE request generated in clause 6.3.3.1.8 towards the initiator of the SIP INVITE request according to 3GPP TS 24.229 [11]; and\niii)\tupon receiving a SIP 200 (OK) response to the SIP UPDATE request sent in clause 6.3.3.1.8 proceed with the rest of the steps.\nNOTE 4:\tVerify that the Resource-Priority header is included and properly populated for both ongoing and newly- entered in-progress imminent peril states of the specified group.\nb)\tif the in-progress imminent peril state of the group is set to a value of \"true\" and this MCVideo user is indicating a new imminent peril indication:\ni)\tfor each of the other affiliated member of the group generate a SIP MESSAGE request notification of the MCVideo user's imminent peril indication as specified in clause 6.3.3.1.11 with the following clarifications;\nA)\tset the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\"; and\nB)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\nii)\tcache the information that this MCVideo user has initiated an MCVideo imminent peril call; and\nc)\tif the in-progress imminent peril state of the group is set to a value of \"false\":\ni)\tshall set the value of the in-progress imminent peril state of the group to \"true\";\nii)\tshall generate SIP re-INVITE requests for the MCVideo imminent peril group call to the other affiliated and joined participants of the chat MCVideo group as specified in clause 6.3.3.1.15;\niii)\tshall generate SIP INVITE requests for the MCVideo imminent peril call to the affiliated but not joined members of the chat MCVideo group as specified in clause 6.3.3.1.7;\nA)\tfor each affiliated but not joined member shall send the SIP INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nB)\tUpon receiving a SIP 200 (OK) response to the SIP INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\niv)\tshall cache the information that this MCVideo user has initiated an MCVideo imminent peril call;\n15)\tshall accept the SIP request and generate a SIP 200 (OK) response to the SIP INVITE request according to 3GPP TS 24.229 [11];\n16)\tshall include in the SIP 200 (OK) response an SDP answer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.3.3.2.1 unless the procedures of clause 6.3.3.1.8 were performed in step 13)a) or step 14)a) above;\n17)\tshould include the Session-Expires header field and start supervising the SIP session according to IETF RFC 4028 [23]. It is recommended that the \"refresher\" header field parameter is omitted. If included, the \"refresher\" header field parameter shall be set to \"uac\";\n18)\tshall include the \"timer\" option tag in a Require header field;\n19)\tshall include the following in a Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag;\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\nc)\tthe MCVideo session identity; and\nd)\tthe media feature tag isfocus;\n20)\tshall include the \"tdialog\" option tag in a Supported header field according to IETF RFC 4538 [32];\n21)\tif the SIP INVITE request contains an alert indication set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n22)\tif the received SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\" and if the in-progress emergency state of the group is set to a value of \"true\", shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\nNOTE 5:\tIn this case, the request was for an imminent peril call but a higher priority MCVideo emergency call was already in progress on the group. Hence, the imminent peril call request aspect of the request is denied but the request is granted with emergency level priority.\n23)\tshall interact with media plane as specified in 3GPP TS 24.581 [5];\n24)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11]; and\n25)\tif the chat group session was already ongoing and if at least one of the participants has subscribed to the conference event package, shall send a SIP NOTIFY request to all participants with a subscription to the conference event package as specified in clause 9.2.3.4.2.\nUpon receiving a SIP ACK to the SIP 200 (OK) response sent towards the inviting MCVideo client, and the SIP 200 (OK) response was sent with the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.18.\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP re-INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\timminent peril indication in an incoming SIP re-INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of a SIP re-INVITE request for an MCVideo session identity identifying a chat MCVideo group session, the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP re-INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\nNOTE 1:\tif the SIP re-INVITE request contains an emergency indication or an imminent peril indication set to a value of \"true\" and this is an authorised request for originating an MCVideo emergency group call as determined by clause 6.3.3.1.13.2, or for originating an MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5, the controlling MCVideo function can according to local policy choose to accept the request.\n2)\tif the received SIP re-INVITE request includes an application/vnd.3gpp.mcvideo-info+xml MIME body with an <emergency-ind> element included or an <imminentperil-ind> element included, shall validate the request as described in clause 6.3.3.1.17;\n3)\tif the SIP re-INVITE request contains an unauthorised request for an MCVideo emergency call as determined by clause 6.3.3.1.13.2:\na)\tshall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response as specified in clause 6.3.3.1.14; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n4)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\" and is an authorised request to initiate an MCVideo emergency group call as determined by clause 6.3.3.1.13.2, the controlling MCVideo function shall:\na)\tvalidate that the SIP re-INVITE request includes a Resource-Priority header field is populated correctly for an MCVideo emergency group call as specified in clause 6.3.3.1.19, and if not:\ni)\tshall perform the actions specified in clause 6.3.3.1.8; and\nii)\tupon receiving a SIP 200 (OK) response to the SIP UPDATE request sent in clause 6.3.3.18 shall proceed with the rest of the steps.\nNOTE 2:\tVerify that the Resource-Priority header is included and properly populated for both ongoing and newly-entered in-progress emergency states of the specified group.\nb)\tif the in-progress emergency state of the group is set to a value of \"true\" and this MCVideo user is indicating a new emergency indication:\ni)\tshall cache the MCVideo ID of the MCVideo user that has initiated an MCVideo emergency call;\nii)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"true\" and is an authorised request for an MCVideo emergency alert as determined by clause 6.3.3.1.13.1, shall cache the MCVideo ID of the MCVideo user that has initiated an MCVideo emergency alert; and\niii)\tfor each of the other affiliated members of the group, generate a SIP MESSAGE request notification of the MCVideo user's emergency indication as specified in clause 6.3.3.1.11 with the following clarifications:\nA)\tset the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\";\nB)\tif the received SIP re-INVITE contains an alert indication set to a value of \"true\" and this is an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, perform the procedures specified in clause 6.3.3.1.12; and\nC)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\nc)\tif the in-progress emergency state of the group is set to a value of \"false\":\ni)\tshall set the value of the in-progress emergency state of the group to \"true\";\nii)\tshall cache the MCVideo ID of the MCVideo user that has initiated an MCVideo emergency call;\niii)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"true\" and this is an authorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall cache the MCVideo ID of the MCVideo user that has initiated an MCVideo emergency alert;\niv)\tshall start timer TNG2 (in-progress emergency group call timer) and handle its expiry as specified in clause 6.3.3.1.16;\nv)\tshall generate SIP re-INVITE requests for the MCVideo emergency group call to the other affiliated and joined participants of the chat MCVideo group as specified in clause 6.3.3.1.6. The MCVideo controlling function:\nA)\tfor each affiliated and joined member shall send the SIP re-INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nB)\tUpon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\nvi)\tshall generate SIP INVITE requests for the MCVideo emergency group call to the affiliated but not joined members of the chat MCVideo group as specified in clause 6.3.3.1.7. The controlling MCVideo function:\nA)\tfor each affiliated but not joined member shall send the SIP INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nB)\tUpon receiving a SIP 200 (OK) response to the SIP INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\nvii)\tif the in-progress imminent peril state of the group is set to a value of \"true\", shall set it to a value of \"false\";\n5)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"false\" and is an unauthorised request for an MCVideo emergency group call cancellation as determined by clause 6.3.3.1.13.4:\na)\tshall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response;\nb)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in annex F.1 with an <emergency-ind> element set to a value of \"true\";\nc)\tif an <alert-ind> element of the mcvideoinfo MIME body is included set to \"false\" and there is an outstanding MCVideo emergency alert for this MCVideo user, shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body and <alert-ind> element set to a value of \"true\"; and\nd)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n6)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"false\" and is determined to be an authorised request for an MCVideo emergency call cancellation as specified in clause 6.3.3.1.13.4 and the in-progress emergency state of the group to is set to a value of \"true\" the controlling MCVideo function shall:\na)\tvalidate that the SIP re-INVITE request includes a Resource-Priority header field is populated correctly for a normal priority MCVideo group call as specified in clause 6.3.3.1.19, and if not:\ni)\tshall perform the actions specified in clause 6.3.3.1.8; and\nii)\tupon receiving a SIP 200 (OK) response to the SIP UPDATE request sent in clause 6.3.3.1.8 shall proceed with the rest of the steps;\nNOTE 3:\tVerify that the Resource-Priority header is included and properly populated for an in-progress emergency state cancellation of the specified group.\nb)\tshall set the in-progress emergency group state of the group to a value of \"false\";\nc)\tshall clear the cache of the MCVideo ID of the MCVideo user identified by the <originated-by> element as having an outstanding MCVideo emergency group call;\nd)\tif an <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body is included and set to \"false\" and is determined to be an authorised request for an MCVideo emergency alert cancellation as specified in clause 6.3.3.1.13.3 and there is an outstanding MCVideo emergency alert for this MCVideo user shall:\ni)\tif the received SIP re-INVITE request contains an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, clear the cache of the MCVideo ID of the MCVideo user identified by the <originated-by> element as having an outstanding MCVideo emergency alert; and\nii)\tif the received SIP re-INVITE request does not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, clear the cache of the MCVideo ID of the sender of the SIP re-INVITE request as having an outstanding MCVideo emergency alert;\ne)\tshall generate SIP re-INVITE requests to the other affiliated and joined members of the MCVideo group as specified in clause 6.3.3.1.6. The MCVideo controlling function:\ni)\tfor each affiliated and joined member shall send the SIP re-INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nii)\tUpon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\nNOTE 4:\tClause 6.3.3.1.5 will inform the affiliated and joined members of the cancellation of the MCVideo group's in-progress emergency state and the cancellation of the MCVideo emergency alert if applicable.\nf)\tfor each of the affiliated but not joined members of the group shall:\ni)\tgenerate a SIP MESSAGE request notification of the cancellation of the MCVideo user's emergency call as specified in clause 6.3.3.1.11;\nii)\tset the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\";\niii)\tif indicated above in step d), set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\"; and\niv)\tsend the SIP MESSAGE request according to 3GPP TS 24.229 [11];\n7)\tif a Resource-Priority header field is included in the SIP re-INVITE request:\na)\tif the Resource-Priority header field is set to the value indicated for emergency calls and the received SIP re-INVITE request does not contain an authorised request for an MCVideo emergency call as determined in step 4) above and the in-progress emergency state of the group is set to a value of \"false\", shall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response and skip the remaining steps; or\nb)\tif the Resource-Priority header field is set to the value indicated for imminent peril calls and the received SIP re-INVITE request does not contain an authorised request for an MCVideo imminent peril call as determined by the procedures of clause 6.3.3.1.13.5 and the in-progress imminent peril state of the group is set to a value of \"false\", shall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response and skip the remaining steps;\n8)\tif the received SIP re-INVITE request contains an imminent peril indication, shall perform the procedures specified in clause 9.2.2.4.1.3 and skip the rest of the steps;\n9)\tshall include in the SIP 200 (OK) response an SDP answer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.3.3.2.1 unless the procedures of clause 6.3.3.1.8 were performed in step 6) a) i) above;\n10)\tshall include the \"tdialog\" option tag in a Supported header field according to IETF RFC 4538 [32];\n11)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"true\" and if this is an unauthorised request for an MCVideo emergency alert as determined by clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n12)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"false\" and if this is an unauthorised request for an MCVideo emergency alert cancellation as determined by clause 6.3.3.1.13.3, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\n13)\tif the received SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\", this is an authorised request for an MCVideo imminent peril group call and if the in-progress emergency state of the group is set to a value of \"true\", shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\nNOTE 5:\tIn this case, the request was for an imminent peril call but a higher priority MCVideo emergency call was already in progress on the group. Hence, the imminent peril call request aspect of the request is denied but the request is granted with emergency level priority.\n14)\tshall interact with media plane as specified in 3GPP TS 24.581 [5]; and\n15)\tshall send the SIP 200 (OK) response towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP ACK to the SIP 200 (OK) response sent towards the inviting MCVideo client, and the SIP 200 (OK) response was sent with the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.18.\nIn the procedures in this clause:\n1)\timminent peril indication in an incoming SIP INVITE request refers to the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nWhen the controlling function receives a SIP re-INVITE request with and imminent peril indication, the controlling function:\n1)\tif the SIP re-INVITE request contains an unauthorised request for an MCVideo imminent peril group call as determined by clause 6.3.3.1.13.5, shall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response with the following clarifications:\na)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in Annex F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"false\"; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n2)\tif the in-progress emergency group state of the group is set to a value of \"false\" and if the SIP re-INVITE request contains an imminent peril indication set to a value of \"true\" or the in-progress imminent peril state of the group to \"true\", the controlling MCVideo function shall:\na)\tvalidate that the SIP re-INVITE request includes a Resource-Priority header field with the namespace set to the MCVideo-specific namespace and the priority set to the priority designated for imminent peril calls and if not:\ni)\tperform the actions specified in clause 6.3.3.1.8;\nii)\tsend the SIP UPDATE request generated in clause 6.3.3.1.8 towards the initiator of the SIP re-INVITE request according to 3GPP TS 24.229 [11]; and\niii)\tupon receiving a SIP 200 (OK) response to the SIP UPDATE request sent in clause 6.3.3.1.8 proceed with the rest of the steps.\nNOTE 3:\tVerify that the Resource-Priority header is included and properly populated for both ongoing and newly- entered in-progress imminent peril states of the specified group.\nb)\tif the in-progress imminent peril state of the group is set to a value of \"true\" and this MCVideo user is indicating a new imminent peril indication:\ni)\tfor each of the other affiliated member of the group generate a SIP MESSAGE request notification of the MCVideo user's imminent peril indication as specified in clause 6.3.3.1.11 with the following clarifications;\nA)\tset the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\"; and\nB)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\nii)\tcache the information that this MCVideo user has initiated an MCVideo imminent peril call; and\nc)\tif the in-progress imminent peril state of the group is set to a value of \"false\":\ni)\tshall set the value of the in-progress imminent peril state of the group to \"true\";\nii)\tshall generate SIP re-INVITE requests for the MCVideo imminent peril group call to the other affiliated and joined participants of the chat MCVideo group as specified in clause 6.3.3.1.15;\niii)\tshall generate SIP INVITE requests for the MCVideo imminent peril group call to the affiliated but not joined members of the chat MCVideo group as specified in clause 6.3.3.1.7;\nA)\tfor each affiliated but not joined member shall send the SIP INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nB)\tUpon receiving a SIP 200 (OK) response to the SIP INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\niv)\tshall cache the information that this MCVideo user has initiated an MCVideo imminent peril call;\n3)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"false\" and is an unauthorised request for an MCVideo imminent peril group call cancellation as determined by clause 6.3.3.1.13.6 shall:\na)\treject the SIP re-INVITE request with a SIP 403 (Forbidden) response to the SIP re-INVITE request; and\nb)\tinclude in the SIP 403 (Forbidden) response:\ni)\tinclude in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in Annex F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <imminentperil-ind> element set to a value of \"false\";\nii) send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11]; and\niii) skip the rest of the steps;\n4)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"false\" and is determined to be an authorised request for an MCVideo imminent peril call cancellation as specified in clause 6.3.3.1.13.6 and the in-progress imminent peril state of the group to is set to a value of \"true\" the controlling MCVideo function shall:\na)\tvalidate that the SIP re-INVITE request includes a Resource-Priority header field with the namespace set to the MCVideo-specific namespace, and the priority set to the priority level designated for a normal priority MCVideo group call, and if not:\ni)\tshall perform the actions specified in clause 6.3.3.1.8; and\nii)\tupon receiving a SIP 200 (OK) response to the SIP UPDATE request sent in clause 6.3.3.1.8 shall proceed with the rest of the steps;\nNOTE 3:\tverify that the Resource-Priority header is included and properly populated for an in-progress emergency group state cancellation of the specified group.\nb)\tshall set the in-progress imminent peril state of the group to a value of \"false\";\nc)\tshall cache the information that this MCVideo user no longer has an outstanding MCVideo imminent peril group call;\nd)\tshall generate SIP re-INVITES requests to the other affiliated and joined members of the MCVideo group as specified in clause 6.3.3.1.15. The MCVideo controlling function:\ni)\tfor each affiliated and joined member shall send the SIP re-INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nii)\tUpon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\nNOTE 4:\tclause 6.3.3.1.15 will inform the affiliated and joined members of the cancellation of the MCVideo group's in-progress emergency group state and the cancellation of the MCVideo emergency alert if applicable.\ne)\tfor each of the affiliated but not joined members of the group shall:\ni)\tgenerate a SIP MESSAGE request notification of the cancellation of the MCVideo user's imminent peril call as specified in clause 6.3.3.1.11;\nii)\tset the <imminentperil-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\"; and\niii)\tsend the SIP MESSAGE request according to 3GPP TS 24.229 [11];\n5)\tshall include in the SIP 200 (OK) response an SDP answer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.3.3.2.1 unless the procedures of clause 6.3.3.1.8 were performed in step 2) or 4) above;\n6)\tshall include the \"norefersub\" option tag in a Supported header field according to IETF RFC 4488 [31];\n7)\tshall include the \"tdialog\" option tag in a Supported header field according to IETF RFC 4538 [32];\n8)\tshall interact with media plane as specified in 3GPP TS 24.581 [5]; and\n9)\tshall send the SIP 200 (OK) response towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP BYE request the controlling MCVideo function shall follow the procedures as specified in clause 6.3.3.2.4.\nThis clause describes the procedures of each functional entity for ending the group call initiated by the controlling MCVideo function.\nWhen the MCVideo session for group call needs to be released as specified in clause 6.3.8.1, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.4.\nWhen an MCVideo client needs to be removed from the MCVideo session (e.g. due to de-affiliation or admitting a higher priority user), the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.4.\nAfter successful removing the MCVideo client from the MCVideo session, the controlling MCVideo function may generate a notification to the MCVideo clients, which have subscribed to the conference state event package that an MCVideo user has been removed from the MCVideo session, as specified in clause 6.3.3.4 and send the SIP NOTIFY request to the MCVideo client according to 3GPP TS 24.229 [11].\nWhen receiving the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" the MCVideo server can be acting as a controller MCVideo function in an ongoing chat group call or, if a chat group call is not ongoing, be initiated as an non-controlling MCVideo function and invite MCVideo users.\nIf a chat group call is not ongoing the MCVideo server shall perform the actions specified in clause 9.2.2.5.1.2.\nIf the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" is received when a chat group call is ongoing, the controlling MCVideo function may switch from operating in a controlling MCVideo function mode to operate in a non-controlling MCVideo function mode as specified in clause 9.2.2.5.1.3.\nWhen operating in the non-controlling mode and a SIP BYE request is received from the controlling MCVideo function, the non-controlling MCVideo function shall change from operating in the non-controlling mode to operating in the controlling mode as specified in clause 9.2.2.5.1.4.\nUpon receipt of a \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" and if a chat group call is not ongoing, the non-controlling MCVideo function of an MCVideo group:\nNOTE 1:\tThe Contact header field of the SIP INVITE request contains the \"isfocus\" feature media tag.\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\n2)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not, reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n3)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n4)\tif the partner MCVideo system does not have a mutual aid relationship with the primary MCVideo system identified by the contents of the P-Asserted-Identity, shall reject the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" with a SIP 403 (Forbidden) response, with warning text set to \"128 isfocus already assigned\" in a Warning header field as specified in clause 4.4, and shall not process the remaining steps;\n5)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\n6)\tshall generate SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.4.2.2.2 before continuing with the rest of the steps;\n7)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.4.2.1;\n8)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3.5; and\nNOTE 2:\tResulting media plane processing is completed before the next step is performed.\n9)\tshall send a SIP 200 (OK) response to the controlling MCVideo function according to 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" and if a chat group call is already ongoing, the non-controlling MCVideo function of an MCVideo group:\nNOTE 1:\tThe Contact header field of the SIP INVITE request contains the \"isfocus\" feature media tag.\n1)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n2)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n3)\tif the partner MCVideo system does not have a mutual aid relationship with the primary MCVideo system identified by the contents of the P-Asserted-Identity, shall reject the \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" with a SIP 403 (Forbidden) response, with warning text set to \"128 isfocus already assigned\" in a Warning header field as specified in clause 4.4, and shall not process the remaining steps;\n4)\tshall cache the content of the SIP INVITE request, if received in the Contact header field and if the specific feature tags are supported;\n5)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\n6)\tshall generate SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.4.2.2.2 before continuing with the rest of the steps;\n7)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.4.2.1;\n8)\tshall instruct the media plane to initialise the switch to the non-controlling mode as specified in 3GPP TS 24.581 [5] clause 6.5.2.3;\nNOTE 2:\tResulting media plane processing is completed before the next step is performed.\n9)\tif the media plane provided information about the current speaker(s), cache the information about the current speaker(s); and\n10)\tshall send a SIP 200 (OK) response to the controlling MCVideo function according to 3GPP TS 24.229 [11].\nUpon receipt of the SIP ACK request, the non-controlling MCVideo function of an MCVideo group:\n1)\tif information about a current speaker(s) is cached:\na)\tshall generate a SIP INFO request as specified in clause 6.3.4.1.3; and\nb)\tshall send the SIP INFO request to the controlling MCVideo function as specified in 3GPP TS 24.229 [11];\n2)\tshall instruct the media plane to finalise the switch to the non-controlling mode as specified in 3GPP TS 24.581 [5] clause 6.3.5.3; and\n3)\tif at least one of the MCVideo clients in the chat group session has a subscription to the conference event package, shall subscribe to the conference event package from the controlling MCVideo function as specified in clause 9.2.3.5.3.\nUpon receipt of a SIP BYE request, the non-controlling MCVideo function of an MCVideo group:\n1)\tif keeping the chat group call active is according to the release policy in clause 6.3.8.1, shall request media plane to switch to controlling mode as specified in 3GPP TS 24.581 [5] clause 6.3.5;\nNOTE 1:\tResulting media plane processing is completed before the next step is performed.\n2)\tshall send a SIP 200 (OK) response to the SIP BYE request; and\n3)\tif at least one MCVideo client has subscribed to the conference package, shall send a NOTIFY request to all participants with a subscription to the conference event package as specified in clause 9.2.3.5.2.\nNOTE 2:\tThe SIP NOTIFY request will indicate that all participants, with the exception of the MCVideo users belonging to the constituent MCVideo group hosted by the non-controlling MCVideo function, have left the group session.\nWhen acting in the non-controlling connection mode when receiving of a \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" containing a group identity identifying a constituent chat MCVideo group being part of the temporary group call, the non-controlling MCVideo function shall act as a controlling MCVideo function towards the MCVideo client and shall perform the actions in the clause 9.2.2.4.1.1 with the following clarifications:\n1)\tthe MCVideo session identity in the Contact header field of the SIP 200 (OK) response shall be the MCVideo session identity generated by the non-controlling MCVideo function; and\n2)\tthe clause 9.2.3.5.2 shall be used when sending the SIP NOTIFY request for subscriptions to the conference event package.\nUpon receipt of a SIP re-INVITE request from an MCVideo client the non-controlling MCVideo function shall act as the controlling MCVideo function and shall perform the actions in clause 9.2.2.4.1.2.\nUpon receiving a \"SIP INVITE request \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" when a chat group session is not ongoing, the non-controlling MCVideo-function shall:\nNOTE 1:\tThe difference between a \"SIP INVITE request \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" and a \"SIP INVITE request for non-controlling MCVideo function of an MCVideo group\" is that the latter SIP INVITE request contains the isfocus media feature tag in the Contact header field.\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The non-controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\n2)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n3)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n4)\tshall retrieve the group document from the group management server for the MCVideo group ID contained in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request and carry out initial processing as specified in clause 6.3.5.2 and continue with the rest of the steps if the checks in clause 6.3.5.2 succeed;\nNOTE 2:\tIf the checks are not succesful, the SIP response to the \"SIP INVITE request \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" is already sent in the clause 6.3.5.2.\n5)\tshall cache the content of the SIP INVITE request;\n6)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may apply any preferential treatment to the SIP request as specified in 3GPP TS 24.229 [11];\n7)\tshall authorize the MCVideo user in the <mcvideo-calling-user-id> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" as specified in clause 6.3.5.2, if the MCVideo user is unauthorized to join a chat group session, the non-controlling MCVideo function shall send a SIP 403 (Forbidden) response with the warning text set to \"106 user not authorised to join chat group\" in a Warning header field as specified in clause 4.4.\n8)\tshall generate a SIP INVITE request to the controlling MCVideo function as specified in clause 6.3.4.1.4; and\n9)\tshall send the SIP INVITE request to the controlling MCVideo function as specified in 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response to the SIP INVITE request sent to the controlling MCVideo function as specified above, the non-controlling MCVideo function:\n1)\tshall send the SIP ACK request to the controlling MCVideo function as specified in 3GPP TS 24.229 [11];\n2)\tshall generate a SIP 200 (OK) to the \"SIP INVITE request for controlling MCVideo function of an MCVideo group\" as specified in 3GPP TS 24.229 populated as follows:\na)\tshall include an SDP answer as specified in clause 6.3.4.2.1 based on the SDP answer in the SIP 200 (OK) response;\nb)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the non-controlling MCVideo function; and\nc)\tshall include the warning text set to \"148 MCVideo group is regrouped\" in a Warning header field as specified in clause 4.4; and\n3)\tshall start acting as a non-controlling MCVideo function and interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.5.\nUpon receipt of other final SIP responses with the exception of the SIP 2xx response to the INVITE request sent to the controlling MCVideo function as specified above, the non-controlling MCVideo function:\n1)\tshall send the SIP ACK response to the controlling MCVideo function as specified in 3GPP TS 24.229 [11]; and\n2)\tperform the actions in the clause 9.2.1.5.2.4.\nNOTE 4:\tRegardless if the controlling MCVideo function accepts or rejects the SIP INVITE request sent above the prearranged group session continues to be initiated with only the members of the group homed on the non-controlling MCVideo function of the group being invited to the group call.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "9.2.3\tSubscription to the conference event package",
                            "text_content": "The IETF RFC 4575 [57] defines a conference state event package that shall be used to obtain the status of participants in group sessions.\nThe MCVideo client may subscribe to the conference state event package at any time in a group session that the MCVideo client participates in. The clause 9.2.3.2 specifies the procedures in the MCVideo client when subscribing to the conference events.\nThe participating MCVideo function shall forward conference state subscriptions and notifications as specified in clause 9.2.3.3.\nThe controlling MCVideo function shall handle subscriptions and notification of conference state events as specified in clause 9.2.3.4.\nThe non-controlling MCVideo function shall handle subscriptions and notification of conference state events as specified in clause 9.2.3.4.\nWhen the non-controlling MCVideo function connection model is used, the controlling MCVideo function subscribes to the conference state event package from the non-controlling MCVideo function as specified in clause 9.2.3.4.3 and the non-controlling MCVideo function subscribes to the conference state event package from the controlling MCVideo function as specified in clause 9.2.3.5.3.\nA MCVideo client may subscribe to the conference state event package when a group call is ongoing and the ongoing group call is not initiated as a broadcast group call by sending a SIP SUBSCRIBE request to obtain information of the status of a group session.\nWhen subscribing to the conference state event package, the MCVideo client:\n1)\tshall generate a SIP SUBSCRIBE request and use a new SIP-dialog according to IETF RFC 6665 [16], IETF RFC 4575 [57] and 3GPP TS 24.229 [11];\n2)\tshall set the Request-URI of the SIP SUBSCRIBE request to the MCVideo session identity of the group session;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n4)\tshall include an Accept-Contact header with the media feature tag g.3gpp.icsi-ref with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n5)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 1:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n6)\tif the MCVideo client wants to fetch the current state only, shall set the Expires header field according to IETF RFC 6665 [16], to zero;\n7)\tshall include an Accept header field containing the application/conference-info+xml\"MIME type;\n8)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-request-uri> element set to the MCVideo group ID of the group session; and\n9)\tshall send the SIP SUBSCRIBE request using a new SIP dialog according to 3GPP TS 24.229 [11].\nThe responses to the SIP SUBSCRIBE request shall be handled according to IETF RFC 6665 [16], IETF RFC 4575 [57] and TS 24.229 [11].\nUpon receiving a SIP NOTIFY requests to the previously sent SIP SUBSCRIBE request the MCVideo client:\n1)\tshall handle the request according to IETF RFC 6665 [16] and IETF RFC 4575 [57]; and\n2)\tmay process the current state information to the MCVideo client based on the information in the SIP NOTIFY request body and may display to the MCVideo user the MCVideo IDs of the participating MCVideo users and the functional alias the participating MCVideo user has bound to that MCVideo group if available.\nWhen needed the MCVideo client shall terminate the subscription and indicate it terminated according to IETF RFC 6665 [16].\nNOTE 2:\tThe contents of the received SIP NOTIFY request body is specified in clause 6.3.3.4.\nUpon receipt of a \"SIP SUBSCRIBE request for conference event status subscription in the participating MCVideo function\" and if the SIP SUBSCRIBE request contains:\n1)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n2)\tan Accept header field containing the application/conference-info+xml\"MIME type; and\n3)\tan application/vnd.3gpp.mcvideo-info+xml MIME body containing the <mcvideo-request-uri> set to a MCVideo group ID;\nthen the participating MCVideo function:\n1)\tshall attempt to resolve the received Request-URI to an existing MCVideo session identity;\n2)\tif the participating MCVideo function could not resolve the received Request-URI to an existing MCVideo session identity, shall reject the SIP SUBSCRIBE response with a SIP 404 (Not Found) response with a warning text set to \"137 the indicated group call does not exists\" as specified in clause 4.4 and shall skip the rest of the steps\n3)\tshall generate a SUBSCRIBE request as specified in TS 24.229 [11]\n4)\tshall set the SIP URI in the Request-URI with the MCVideo session identity that is mapped to the MCVideo session identity in the received Request-URI;\n5)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body the <mcvideo-calling-user-id> element set to the MCVideo ID of the served user: and\n6)\tshall insert a Record-Route header containing a URI identifying its own address; and\n7)\tshall send the SIP SUBSCRIBE request according to 3GPP TS 24.229 [11].\nUpon receiving a SIP response to the SIP SUBSCRIBE request the participating MCVideo function:\n1)\tshall copy the content of the incoming SIP response to an outgoing SIP response;\n2)\tif a SIP 200 (OK) response, shall include in the Contact header field of the outgoing SIP response an MCVideo session identity mapped to the MCVideo session identity provided in the Contact header field of the received SIP 200 (OK) response in the outgoing SIP response; and\n3)\tshall forward the SIP response according to 3GPP TS 24.229 [11].\nUpon receiving a SIP NOTIFY request within the dialog created by the SIP SUBSCRIBE request destined to a served MCVideo client, the participating MCVideo function:\n1)\tshall include the public service identity of the MCVideo user in the Request-URI;\n2)\tshall copy the content of the incoming SIP NOTIFY request to the outgoing SIP NOTIFY request; and\n3)\tshall send the SIP NOTIFY request according to 3GPP TS 24.229 [11].\nUpon receiving a SIP response to the SIP NOTIFY request the participating MCVideo function:\n1)\tshall copy the content of the incoming SIP response to an outgoing SIP response;\n2)\tif a SIP 200 (OK) response, shall include an MCVideo session identity constructed from the MCVideo session identity provided in the Contact header field of the received SIP 200 (OK) response in the outgoing SIP response; and\n3)\tshall forward the SIP response according to 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP SUBSCRIBE request for conference event status subscription in the controlling MCVideo function\" and the SIP SUBSCRIBE request:\n1)\tcontains an application/vnd.3gpp.mcvideo-info+xml MIME body with\na)\tthe <mcvideo-request-uri> element set to the group identity of the group session and the <mcvideo-calling-user-id> element set to either:\ni)\tthe MCVideo ID of a participant in the group session; or\nii)\ta constituent MCVideo group ID of a non-controlling MCVideo function in a temporary group session;\n2)\tcontains the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n3)\tcontains an Accept header field containing the application/conference-info+xml MIME type; and\n4)\tis not received in a group call initiated as a broadcast group call;\nthen the controlling MCVideo function:\n1)\tshall check if the <on-network-allow-conference-state> element in the group document in 3GPP TS 24.481 [24] allows the MCVideo ID or the constituent MCVideo group ID in the <mcvideo-calling-user-id> element to subscribe to the conference event package and if not allowed:\na)\tshall reject the \"SIP SUBSCRIBE request for conference event status subscription in the controlling MCVideo function\" with a SIP 403 (Forbidden) response to the SIP SUBSCRIBE request, with warning text set to \"138 subscription of conference events not allowed\" as specified in clause 4.4; and\nb)\tshall not continue with the remaining steps;\n2)\tshall handle the request according to IETF RFC 6665 [16] and IETF RFC 4575 [57];\n3)\tshall cache information about the subscription;\n4)\tshall send a conference state notification as specified in clause 9.2.3.4.2; and\n5)\tif the SIP SUBSCRIBE request is the first SUBSCRIBE request from a participant in a temporary group session, shall subscribe to the conference event package from all non-controlling MCVideo functions in the group session as specified in clause 9.2.3.4.3.\nUpon receipt of a \"SIP SUBSCRIBE request for conference event status subscription in the controlling MCVideo function\" in a group call initiated as a broadcast group call, the controlling MCVideo function:\n1)\tshall generate a SIP 480 (Temporarily Unavailable) response to the SIP SUBSCRIBE request as specified in 3GPP TS 24.229 [11];\n2)\tshall include a Warning header field with the warning text set to \"105 subscription not allowed in a broadcast group call\" as specified in clause 4.4; and\n3)\tsend the SIP 480 (Temporarily Unavailable) response according to 3GPP TS 24.229 [11].\nThe procedures in this clause is triggered by:\n1)\tthe receipt of a SIP SUBSCRIBE request as specified in clause 9.2.3.4.1;\n2)\tthe receipt of a SIP BYE request from one of the participants in a pre-arranged or a chat group session; or\n3)\twhen a new participant is added in a pre-arranged or chat group session.\nWhen sending a conference state event notification, the controlling MCVideo function:\n1)\tshall generate a notification package as specified in clause 6.3.3.4 to all MCVideo clients which have subscribed to the conference state event package; and\nNOTE:\tAs a group document can potentially have a large content, the controlling MCVideo function can notify using content-indirection as defined in IETF RFC 4483 [29].\n2)\tshall send a SIP NOTIFY request to all participants which have subscribed to the conference state event package as specified in 3GPP TS 24.229 [11].\nThe procedure in this clause is triggered by:\n1)\tthe receipt of a SIP 200 (OK) response to a SIP INVITE request for non-controlling MCVideo function of an MCVideo group and if at least one participant already has subscribed to the conference event package in the controlling MCVideo function as specified in clause 9.2.3.4.1; or\n2)\tthe receipt of the first SIP SUBSCRIBE request as specified in clause 9.2.3.4.1 and one or more participant in the group session is a non-controlling MCVideo function;\nthen, for each non-controlling MCVideo function from where a SIP 200 (OK) response to a SIP INVITE request for non-controlling MCVideo function of an MCVideo group has been received and where a SIP SUBSCRIBE request is not already sent, the controlling MCVideo function:\n1)\tshall generate a SIP SUBSCRIBE request and use a new SIP-dialog according to IETF RFC 6665 [16], IETF RFC 4575 [57] and 3GPP TS 24.229 [11];\n2)\tshall set the Request-URI of the SIP SUBSCRIBE request to the public service identity of the non-controlling MCVideo function serving the group identity of the MCVideo group owned by the interconnected MCVideo system;\nNOTE 1:\tThe public service identity can identify the non-controlling function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the non-controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP SUBSCRIBE request set to the public service identity of the controlling MCVideo function;\n4)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n5)\tshall include an Accept-Contact header with the g.3gpp.mcvideo along with \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n6)\tshall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE6:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n7)\tshall include an Accept header field containing the application/conference-info+xml MIME type;\n8)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with:\na)\tthe <mcvideo-request-uri> element set to the constituent MCVideo group ID; and\nb)\tthe <mcvideo-calling-group-id> set to the temporary MCVideo group ID; and\n9)\tshall send the SIP SUBSCRIBE request using a new SIP dialog according to 3GPP TS 24.229 [11].\nThe responses to the SIP SUBSCRIBE request shall be handled according to IETF RFC 6665 [16], IETF RFC 4575 [57] and TS 24.229 [11].\nUpon receiving an incoming SIP NOTIFY request to the previously sent SIP SUBSCRIBE request, the controlling MCVideo function:\n1)\tshall handle the request according to IETF RFC 6665 [16] and IETF RFC 4575 [57];\n2)\tshall modify the SIP NOTIFY request as specified in clause 6.3.3.4; and\n3)\tshall forward the modified SIP NOTIFY request according to 3GPP TS 24.229 [11] to all other participants with a subscription to the conference event package.\nNOTE:\tA non-controlling MCVideo function of an MCVideo group is regarded as a participant in a temporary group session.\nUpon receipt of a \"SIP SUBSCRIBE request for conference event status subscription in the controlling MCVideo function\" that terminates the subscription of the conference event package as specified in IETF RFC 6665 [16], the controlling MCVideo function:\n1)\tshall send a SIP 200 (OK) response as specified in IETF RFC 6665 [16]; and\n2)\tif there are no remaining subscriptions to the event package in the ongoing MCVideo call in a temporary group session, shall terminate the subscriptions to the conference event package as specified in IETF RFC 6665 [16] in all non-controlling MCVideo functions in the temporary group session.\nUpon expiry of the subscription timer and if there are no remaining subscriptions to the event package in the ongoing MCVideo call in a temporary group session, the controlling MCVideo function shall terminate the subscriptions to the conference event package as specified in IETF RFC 6665 [16] in all non-controlling MCVideo functions in the temporary group session.\nUpon receipt of \"SIP SUBSCRIBE request for conference event status subscription in the non-controlling MCVideo function\" and the SIP SUBSCRIBE request:\n1)\tcontains an application/vnd.3gpp.mcvideo-info+xml MIME body with\na)\tthe <mcvideo-request-uri> element set to the constituent MCVideo group ID; and\nb)\tthe <mcvideo-calling-user-id> element is set to:\ni)\ta participant in the group session; or\nii)\tthe temporary MCVideo group ID;\n2)\tcontains the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n3)\tcontains an Accept header field containing the application/conference-info+xml MIME type; and\n4)\tis not received in a group call initiated as a broadcast group call;\nthen the non-controlling MCVideo function:\n1)\tshall check if the <on-network-allow-conference-state> element in the group document in 3GPP TS 24.481 [24] of the constituent group allows the MCVideo ID in the <mcvideo-calling-user-id> element to subscribe to the conference event package and if not allowed:\na)\tshall reject the \"SIP SUBSCRIBE request for conference event status subscription in the non-controlling MCVideo function\" with a SIP 403 (Forbidden) response to the SIP SUBSCRIBE request, with warning text set to \"138 subscription of conference events not allowed\" as specified in clause 4.4; and\nb)\tshall not continue with the remaining steps;\n2)\tshall handle the request according to IETF RFC 6665 [16] and IETF RFC 4575 [57];\n3)\tshall cache information about the subscription;\n4)\tshall generate a notification package as specified in clause 6.3.3.4 and send a SIP NOTIFY request according to 3GPP TS 24.229 [11] to the MCVideo client which have subscribed to the conference event package; and\n5)\tif the SIP SUBSCRIBE request is the first SIP SUBSCRIBE request from an MCVideo client, shall subscribe to the conference event package from the controlling MCVideo functions in the group session as specified in clause 9.2.3.5.3.\nUpon receipt of a \"SIP SUBSCRIBE request for conference event status subscription in the controlling MCVideo function\" in a group call initiated as a broadcast group call, the controlling MCVideo function:\n1)\tshall generate a SIP 480 (Temporarily Unavailable) response to the SIP SUBSCRIBE request as specified in 3GPP TS 24.229 [11];\n2)\tshall include a Warning header field with the warning text set to \"105 subscription not allowed in a broadcast group call\" as specified in clause 4.4; and\n3)\tsend the SIP 480 (Temporarily Unavailable) response according to 3GPP TS 24.229 [11].\nThe procedures in this clause are triggered by:\n1)\tthe receipt of a receipt of a SIP BYE request from one of the participants in a pre-arranged or a chat group session; or\n2)\twhen a new participant is added in a pre-arranged or chat group session.\nWhen sending a conference event notification, the non-controlling MCVideo function:\n1)\tshall generate a notification package as specified in clause 6.3.3.4 to all participants which have subscribed to the conference event package; and\nNOTE:\tAs a group document can potentially have a large content, the controlling MCVideo function can notify using content-indirection as defined in IETF RFC 4483 [29].\n2)\tshall send a SIP NOTIFY request to all participants which have subscribed to the conference event package as specified in 3GPP TS 24.229 [11].\nUpon receipt of the first subscription to the conference event package from an MCVideo client, the non-controlling MCVideo function:\n1)\tshall generate a SIP SUBSCRIBE request and use a new SIP-dialog according to IETF RFC 6665 [16], IETF RFC 4575 [57] and 3GPP TS 24.229 [11];\n2)\tshall set the Request-URI of the SIP SUBSCRIBE request to the temporary MCVideo session identity;\nNOTE 1:\tThe SIP URI received in the Contact header field of the SIP INVITE request for non-controlling MCVideo function of an MCVideo group is the temporary MCVideo session identity. Towards MCVideo clients the non-controlling MCVideo function uses an internal generated MCVideo session identity.\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tshall include an Accept-Contact header with the media feature tag g.3gpp.icsi-ref with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n5)\tshall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 2:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n6)\tshall include an Accept header field containing the application/conference-info+xml MIME type;\n7)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with:\na)\tthe <mcvideo-request-uri> element set to the temporary MCVideo group ID: and\nb)\tthe <mcvideo-calling-group-id> set to the constituent MCVideo group ID; and\n8)\tshall send the SIP SUBSCRIBE request using a new SIP dialog according to 3GPP TS 24.229 [11].\nThe 2xx response to the SIP SUBSCRIBE request shall be handled according to IETF RFC 6665 [16], IETF RFC 4575 [57] and 3GPP TS 24.229 [11].\nUpon receiving an incoming SIP NOTIFY requests to the previously sent SIP SUBSCRIBE request the non-controlling MCVideo function:\n1)\tshall handle the request according to IETF RFC 6665 [16] and IETF RFC 4575 [57];\n2)\tshall store conference information based on the SIP NOTIFY request content;\n3)\tshall modify the SIP NOTIFY request as specified in clause 6.3.3.4; and\n4)\tforward the modified SIP NOTIFY request according to 3GPP TS 24.229 [11] to all MCVideo clients with a subscription to the conference event package.\nThe present clause describes an extensions of the application/conference-info+xml MIME body specified in IETF RFC 4575 [57].\nThe functional alias extension is used to indicate per-user functional alias association with MCVideo group.\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema\ntargetNamespace=\"urn:3gpp:ns:mcvideoConfInfo:1.0\"\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\nxmlns:mcvideoConfInfo=\"urn:3gpp:ns:mcvideoConfInfo:1.0\"\nelementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\n\n<!-- MCVideo specific child element of endpoint element -->\n<xs:element name=\"functional-alias\" type=\"xs:anyURI\" use=\"optional\"/>\n\n</xs:schema>\n\nThe application/conference-info MIME body refers to namespaces using prefixes specified in table 9.2.3.6.1.2-1.\nTable 9.2.3.6.1.2-1: Assignment of prefixes to namespace names in the application/pidf+xml MIME body\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 9.2.3.6.1.2-1: Assignment of prefixes to namespace names in the application/pidf+xml MIME body",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "9.2.4\tRemote change of an MCVideo user's selected group",
                            "text_content": "Clause 9.2.4 specifies the MCVideo client procedures, participating MCVideo function procedures and controlling MCVideo function procedures for the on-network remote change of an MCVideo user's selected group.\nUpon receiving a request from the MCVideo user to send a group selection change request to change the selected group of a targeted MCVideo user to a specific MCVideo group, the MCVideo client:\n1)\tif:\na)\tthe <RemoteGroupSelectionURIList> element does not exist in the MCVideo user profile document with one or more <entry> elements (see the MCVideo user profile document in 3GPP TS 24.484 [25]); or\nb)\tthe <RemoteGroupSelectionURIList> element exists in the MCVideo user profile document and the MCVideo ID of the targeted MCVideo user does not match with one of the <entry> elements of the <RemoteGroupSelectionURIList> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]);\nthen:\na)\tshould indicate to the requesting MCVideo user that they are not authorised to change the selected MCVideo group of the targeted MCVideo user; and\nb)\tshall skip the rest of the steps of the present clause;\n1A)\tshall determine whether the group document associated with the specific MCVideo group contains a <list-service> element that contains a <preconfigured-group-use-only> element. If a <preconfigured-group-use-only> element exists and is set to the value \"true\", then the MCVideo client:\na)\tshould indicate to the MCVideo user that calls are not allowed on the specific MCVideo group; and\nb)\tshall skip the remainder of this procedure;\n2)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] with the following clarifications:\na)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP MESSAGE request;\nb)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\nc)\tmay include a P-Preferred-Identity header field in the SIP MESSAGE request containing a public user identity as specified in 3GPP TS 24.229 [11]; and\nd)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element containing:\ni)\tthe <mcvideo-request-uri>  set to the MCVideo group identity to be selected by the targeted MCVideo user; and\nii)\tan <anyExt> element containing the <request-type> element set to a value of \"group-selection-change-request\"; and\ne)\tshall insert in the SIP MESSAGE request an application/resource-lists+xml MIME body with the MCVideo ID of the targeted MCVideo user a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body, according to the rules and procedures of IETF RFC 5366 [37];\n4)\tshall send the SIP MESSAGE request according to the rules and procedures of 3GPP TS 24.229 [11].\n3)\tshall set the Request-URI to the public service identity identifying the participating MCVideo function serving the MCVideo user; and\n4)\tshall send the SIP MESSAGE request according to rules and procedures of 3GPP TS 24.229 [11].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the SIP MESSAGE request, should indicate to the MCVideo user the failure of the sent group selection change request and not continue with the rest of the steps.\nUpon receiving a \"SIP MESSAGE request for group selection change response for terminating client\", the MCVideo client:\n1)\tshall determine the success or failure of the sent group selection change request from the value of the <selected-group-change-outcome> element contained in the <anyExt> element of the <mcvideo-Params> element  of the <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body included in the received SIP MESSAGE request; and\n2)\tshould indicate to the MCVideo user the success or failure of the sent group selection change request.\nUpon receiving a \"SIP MESSAGE request for group selection change request for terminating client\", the MCVideo client:\n1)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing an <affiliation-required> element set to a value of \"true\":\na)\tshall invoke the procedures of clause 8.2.1.2 to affiliate to the MCVideo group identified by the contents of the <mcvideo-calling-group-id> included in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tif the MCVideo client has not already invoked the procedures of clause 8.2.1.3, shall invoke the procedures of clause 8.2.1.3; and\nc)\tupon receiving a SIP NOTIFY request including a <p-id> element set to a value matching the <p-id> value included in the SIP PUBLISH request sent in step 1) a) above as specified in clause 8.2.1.3, shall determine if the affiliation procedure to the MCVideo group identified by the contents of the <mcvideo-calling-group-id> in the received SIP MESSAGE request was successful;\n2)\tif the received SIP MESSAGE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body containing an <affiliation-required> element set to a value of \"true\" and the affiliation was successful as determined in step 1) c) above, or if the <affiliation-required> element was not present in the received SIP MESSAGE request:\na)\tshall change the MCVideo client's selected group to the MCVideo group identified by the contents of the <mcvideo-calling-group-id> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body included in the received SIP MESSAGE request; and\nb)\tshall determine the success or failure of the change of selected group action;\n3)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] with the following clarifications:\na)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP MESSAGE request;\nb)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\nc)\tmay include a P-Preferred-Identity header field in the SIP MESSAGE request containing a public user identity as specified in 3GPP TS 24.229 [11];\nd)\tshall include in an application/resource-lists+xml MIME body, the MCVideo ID contained in the <mcvideo-calling-user-id> element in the application/ vnd.3gpp.mcvideo-info+xml MIME body of the received SIP MESSAGE request in a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body; and\ne)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element containing:\ni)\tthe <mcvideo-request-uri> set to the MCVideo group identity identified by the contents of the <mcvideo-calling-group-id> element contained in the received SIP MESSAGE request; and\nii)\tan <anyExt> element containing:\nA)\tthe <response-type> element set to a value of \"group-selection-change-response\";\nB) if the MCVideo client was able to successfully change the selected group as determined in step 2) b) above, include a <selected-group-change-outcome> element set to a value of \"success\"; or\nC)\tif the MCVideo client:\nI)\twas required to affiliate to the MCVideo group identified by the contents of the <mcvideo-calling-group-id> in the received SIP MESSAGE request and the affiliation failed as determined in step 1) c); or\nII)\tfailed to change the selected group as determined in step 2) b);\nthen a <selected-group-change-outcome> element set to a value of \"fail\";\n4)\tshould indicate to the MCVideo user the success or failure of the requested change of selected group action;\n5)\tshall set the Request-URI to the public service identity identifying the participating MCVideo function serving the MCVideo user; and\n6)\tshall send the SIP MESSAGE request according to the rules and procedures of 3GPP TS 24.229 [11].\nUpon receiving a \"SIP MESSAGE request for group-selection-change for originating participating MCVideo function\" the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\n2)\tshall determine the MCVideo ID of the calling user from the public user identity in the P-Asserted-Identity header field of the SIP MESSAGE request, and shall authorise the calling user;\nNOTE 1:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif the \"SIP MESSAGE request for group selection change for originating participating MCVideo function\" contains the <request-type> element set to a value of \"group-selection-change-request\":\na)\tif:\ni)\tthe <RemoteGroupSelectionURIList> element does not exist in the MCVideo user profile document with one or more <entry> elements (see the MCVideo user profile document in 3GPP TS 24.484 [25]); or\nii)\tif the MCVideo ID contained in the <mcvideo-request-uri> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body included in the received \"SIP MESSAGE request for group selection change for originating participating MCVideo function\" does not match with one of the <entry> elements of the <RemoteGroupSelectionURIList> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]);\nthen:\ni)\tshall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response including warning text set to \"155 user not authorised to change user's selected group\" in a Warning header field as specified in clause 4.4, and not continue with the rest of the steps in this clause;\n4)\tshall determine the public service identity of the controlling MCVideo function associated with the group identity contained in the <mcvideo-request-uri> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system\nNOTE 5:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n5)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n6)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the controlling MCVideo function determined in step 4);\nNOTE 7:\tThe public service identity can identify the controlling function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 8:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 9:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 10:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 11:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n7)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 included in the outgoing SIP MESSAGE request;\n8)\tshall copy the contents of the application/resource-lists+xml MIME body into the outgoing SIP MESSAGE request;\n9)\tshall set the <mcvideo-calling-user-id> element of the <mcvideoinfo> element containing the <mcvideo-Params> element to the MCVideo ID determined in step 2) above;\n10)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function;\n11)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n12)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n13)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), into the P-Asserted-Service header field of the outgoing SIP MESSAGE request; and\n14)\tshall send the SIP MESSAGE request as specified to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response in response to the sent SIP MESSAGE request, the participating MCVideo function shall generate a SIP 200 (OK) response and forward the SIP 200 (OK) response to the MCVideo client.\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the SIP MESSAGE request, shall forward the error response to the MCVideo client.\nUpon receiving a \"SIP MESSAGE request for group-selection-change for terminating participating MCVideo function\" the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\n2)\tshall use the MCVideo ID present in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP MESSAGE request to retrieve the binding between the MCVideo ID and public user identity;\n3)\tif the binding between the MCVideo ID and public user identity does not exist, then the participating MCVideo function shall reject the SIP MESSAGE request with a SIP 404 (Not Found) response. Otherwise, continue with the rest of the steps;\n4)\tshall generate an outgoing SIP MESSAGE request as specified in clause 6.3.2.2.11;\n5)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), into the P-Asserted-Service header field of the outgoing SIP MESSAGE request; and\n6)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nUpon receipt of SIP 2xx responses to the outgoing SIP MESSAGE requests, the participating MCVideo function shall forward the SIP 2xx response to the controlling MCVideo function.\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the SIP MESSAGE request, shall forward the response to the controlling MCVideo function.\nUpon receiving:\n-\ta \"SIP MESSAGE request for group selection change request for controlling MCVideo function\"; or\n-\ta \"SIP MESSAGE request for group selection change response for controlling MCVideo function\";\nthe controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\n2)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if an Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n2A)\tif the group document contains a <list-service> element that contains a <preconfigured-group-use-only> element that is set to the value \"true\", shall reject the SIP request with a SIP 403 (Forbidden) response with the warning text set to \"167 call is not allowed on the preconfigured group\" as specified in clause 4.4 \"Warning header field\" and skip the rest of the steps;\n3)\tif there is a <request-type> element set to a value of \"group-selection-change-request\" contained in the <anyExt> element in the <mcvideo-Params> element contained in the <mcvideoinfo> root element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP MESSAGE request:\na)\tif the MCVideo user identified by the MCVideo ID in a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body contained in the SIP MESSAGE request is not affiliated with the MCVideo group identified by the <mcvideo-request-uri> in the application/vnd.3gpp.mcvideo-info+xml MIME body as determined by the procedures of clause 6.3.6:\ni)\tshall determine if the MCVideo user is eligible to be affiliated with the MCVideo group as determined by clause 8.2.2.3.8; and\nii)\tif the MCVideo user is not eligible for affiliation, shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response with the warning text set to \"120 user is not affiliated to this group\" in a Warning header field as specified in clause 4.4 and skip the rest of the steps below;\n4)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n5)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n6)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n7)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request with the following clarifications:\na)\tshall set the <mcvideo-calling-group-id> to the MCVideo group identity contained in the <mcvideo-request-uri> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body included in the received SIP MESSAGE request; and\nb)\tshall set the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request to the MCVideo ID of the targeted MCVideo user contained in a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body contained in the received SIP MESSAGE request;\n8)\tif the received SIP MESSAGE request is a \"SIP MESSAGE request for group selection change request for controlling MCVideo function\":\na)\tif the targeted MCVideo user is not affiliated to the identified MCVideo group and was determined to be eligible to be affiliated with the MCVideo group in step 3) a) i) above, shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <anyExt> element an <affiliation-required> element set to a value of \"true\";\n9)\tshall set the Request-URI to the public service identity of the terminating participating MCVideo function associated with the targeted MCVideo user;\nNOTE 1:\tThe public service identity can identify the terminating participating function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the targeted MCVideo user or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n10)\tshall include a P-Asserted-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n11)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function; and\n12)\tshall send the SIP MESSAGE request according to according to the rules and procedures of 3GPP TS 24.229 [11].\nUpon receipt of SIP 2xx responses to the outgoing SIP MESSAGE requests, the controlling MCVideo function shall generate a SIP 200 (OK) response and forward the SIP 200 (OK) response to the originating participating MCVideo function.\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the SIP MESSAGE request, controlling MCVideo function shall forward the error response to the originating participating MCVideo function.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "9.3\tOff-network group call",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "9.3.1\tGeneral",
                            "text_content": "In order to participate in a call of an MCVideo group, the MCVideo client:\n1)\tshall send the MONP MCVideo message transported in a MONP MCVIDEO MESSAGE CARRIER message, specified in 3GPP TS 24.379 [40 ], as a UDP message to the multicast IP address of the MCVideo group, on UDP port 8809 (as specified in 3GPP TS 24.379 [40]), with an IP time-to-live set to 255; and\n2)\tshall treat UDP messages received on the multicast IP address of the MCVideo group and on port 8809  as received MONP MCVIDEO MESSAGE CARRIER messages.\nThe MONP MCVIDEO MESSAGE CARRIER message is the entire payload of the UDP message.\nOne off-network MCVideo session includes one media-transmission control entity.\nThe MCVideo client shall generate an SDP body for a group call in accordance with rules and procedures of IETF RFC 4566 [2].\nThe MCVideo client:\n1)\tshall include in the session-level section:\na)\tthe \"o=\" field with the <username> portion set to a dash;\nb)\tthe \"s=\" field with the <session name> portion set to a dash; and\nc)\tthe \"c=\" field with the <nettype> portion set to \"IN\", the <addrtype> portion set to the IP version of a multicast IP address of the MCVideo group and the <connection-address> portions set to the multicast IP address of the MCVideo group;\n2)\tshall include the media-level section for audio component of MCVideo consisting of:\na)\tthe \"m=\" field with the <media> portion set to \"audio\", the <port> portion set to a port number for MCVideo group, the <proto> field set to \"RTP/AVP\" and <fmt> portion set indicating RTP payload type numbers;\nb)\tthe \"i=\" field with the <session description> portion set to \"audio component of MCVideo\";\nc)\tthe \"a=fmtp:\" attribute(s), the \"a=rtpmap:\" attribute(s) or both, indicating the codec(s) and media parameters of the audio component of MCVideo;\nd)\tthe \"a=rtcp:\" attribute indicating port number to be used for RTCP at the MCVideo client selected according to the rules and procedures of IETF RFC 3605 [3], if the media steam uses other than the default IP address;\n3)\tshall include the media-level section for video component of MCVideo consisting of:\na)\tthe \"m=\" field with the <media> portion set to \"video\", the <port> portion set to a port number for MCVideo video of the MCVideo group, the <proto> field set to \"RTP/AVP\" and <fmt> portion set indicating RTP payload type numbers;\nb)\tthe \"i=\" field with the <session description> portion set to \"video component of MCVideo\";\nc)\tthe \"a=fmtp:\" attribute(s), the \"a=rtpmap:\" attribute(s) or both, indicating the codec(s) and media parameters of the MCVideo video;\nd)\tthe \"a=rtcp:\" attribute indicating port number to be used for RTCP at the MCVideo client selected according to the rules and procedures of IETF RFC 3605 [3], if the media stream uses other than the default IP address; and\n4)\tshall include the media-level section for media-transmission control entity consisting of:\na)\tan \"m=\" line, with the <media> portion set to \"application\", the <port> portion set to a port number for media-transmission control entity of the MCVideo group, the <proto> field set to \"udp\" and <fmt> portion set to \"MCVideo\"; and\nb)\tthe \"a=fmtp:MCVideo\" attribute indicating the parameters of the media-transmission control entity as specified in 3GPP TS 24.581 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "9.3.2\tBasic call control",
                            "text_content": "In this release of specification, media streams of off-network group call cannot be modified and the SDP is the same for the entire duration of the call.\nThe maximum number of simultaneous off-network group calls is limited by the value of \"/<x>/Common/MCVideoGroupCall/MaxCallNc4\" leaf node present in the MCVideo UE configuration as specified in 3GPP TS 24.483 [4].\nThe Figure 9.3.2.2-1 gives an overview of the main states and transitions on the UE for call control.\nEach call control state machine is per MCVideo group ID.\n\nThe figure depicts a basic call control state machine, illustrating the flow of calls from the origin to the destination. It includes various states such as Initiate, Call, and End Call, with corresponding actions like Initiate, Call, and End Call. The diagram is a visual representation of the call control process, providing a clear understanding of how calls are initiated, processed, and terminated.\nFigure 9.3.2.2-1: Basic call control state machine\nThe following pieces of information are associated with the basic call control state machine:\na)\tthe stored call identifier of the call;\nb)\tthe probe response value of the call;\nc)\tthe stored refresh interval of the call;\nd)\tthe stored SDP body of the call;\ne)\tthe stored originating MCVideo user ID of the call;\nf)\tthe stored MCVideo group ID of the call; and\nh)\tthe stored call start time of the call.\nThe basic call control state machine has a related call type control state machine described in clause 9.3.3.2.\nWhen sending the message, MCVideo client indicates the stored current ProSe per-packet priority associated with the call type control state machine to the lower layers.\nThis state exists for UE, when the UE is not part of an ongoing call.\nThis state is the start state of this state machine.\nThis state is the stop state of this state machine.\nThis state exists for UE, when the UE has sent a GROUP CALL PROBE message and is waiting for a GROUP CALL ANNOUNCEMENT message.\nThis state exists for UE, when the UE is part of an ongoing group call.\nThis state exists for UE, when the UE has presented a notification to the MCVideo user for the received GROUP CALL ANNOUNCEMENT message, is waiting for a response and is not expected to send confirm indication.\nThis state exists for UE, when the UE has presented a notification to the MCVideo user for the received GROUP CALL ANNOUNCEMENT message, is waiting for a response and is expected to send confirm indication.\nThis state exists for UE, when the group call was rejected or released, GROUP CALL ANNOUNCEMENT message was sent or received and GROUP CALL ANNOUNCEMENT messages continue being received.\nThis state exists for UE, when the group call was released, GROUP CALL ANNOUNCEMENT message was neither sent nor received and GROUP CALL PROBE was sent.\nThe MCVideo client:\n1)\tshall generate a random number, X, with uniform distribution between 0 and 1; and\n2)\tshall set the TFG2 (periodic announcement) timer as follows:\n-\tTFG2 (periodic announcement) = the refresh interval of the call * (2/3 + 2/3*X) seconds.\nThe MCVideo client:\n1)\tshall generate a random number, X, with uniform distribution between 0 and 1; and\n2)\tshall set the TFG2 (periodic announcement) timer as follows:\n-\tTFG2 (periodic announcement) = 1/12*X seconds.\nThe MCVideo client shall set the TFG6 (max duration) timer as follows:\n-\tTFG6 (max duration) = X – (Y – Z) seconds, where:\n-\tX = value of \"/<x>/<x>/OffNetwork/MCVideo/MaxDuration\" leaf node present in group configuration as specified in 3GPP TS 24.483 [4];\n-\tY = current UTC time, in seconds since midnight UTC of January 1, 1970 (not counting leap seconds);\n-\tZ = Call start time IE of the GROUP CALL ANNOUNCEMENT message.\nWhen in the \"S1: start-stop\" state, upon an indication from an MCVideo user to initiate a group call for an MCVideo group ID, the MCVideo client:\n1)\tshall store the MCVideo group ID as the MCVideo group ID of the call;\n2)\tshall create a call type control state machine as described in clause 9.3.3.2;\n3)\tshall generate a GROUP CALL PROBE message as specified in clause 17.1.2. In the GROUP CALL PROBE message, the MCVideo client:\na)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call;\n4)\tshall send the GROUP CALL PROBE message as specified in clause 9.3.1.1.1;\n5)\tshall start timer TFG3 (call probe retransmission);\n6)\tshall start timer TFG1 (wait for call announcement); and\n7)\tshall enter the \"S2: waiting for call announcement\" state.\nWhen in the \"S2: waiting for call announcement\" state, upon expiration of TFG3 (call probe retransmission), the MCVideo client:\n1)\tshall generate a GROUP CALL PROBE message as specified in clause 17.1.2. In the GROUP CALL PROBE message, the MCVideo client:\na)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call;\n2)\tshall send the GROUP CALL PROBE message as specified in clause 9.3.1.1.1;\n3)\tshall start timer TFG3 (call probe retransmission); and\n4)\tshall remain in the \"S2: waiting for call announcement\" state.\nWhen in the \"S3: part of ongoing call\" state, upon receiving a GROUP CALL PROBE message with the MCVideo group ID IE matching the stored MCVideo group ID of the call, the MCVideo client:\n1)\tif the stored probe response value of the call is set to \"false\":\na)\tshall stop timer TFG2 (call announcement);\nb)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.2; and\nc)\tshall set the stored probe response of the call to \"true\"; and\n2)\tshall remain in the \"S3: part of ongoing call\" state.\nWhen in the \"S2: waiting for call announcement\" state, upon expiry of timer TFG1 (wait for call announcement), the MCVideo client:\n1)\tshall stop timer TFG3 (call probe retransmission), if running;\n2)\tshall generate an SDP body as specified in clause 9.3.1.1.2 and store it as the SDP body of the call;\n3)\tshall generate a random number with uniform distribution between 0 and 65535 and store it as the call identifier of the call;\n4)\tshall select refresh interval value and store it as the refresh interval of the call;\n5)\tshall store own MCVideo user ID as the originating MCVideo user ID of the call;\n6)\tshall store the current UTC time as the call start time of the call;\n7)\tshall generate a GROUP CALL ANNOUNCEMENT message as specified in clause 17.1.3. In the GROUP CALL ANNOUNCEMENT message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call;\nb)\tshall set the Call type IE to the stored current call type associated with the call type control state machine;\nc)\tshall set the Refresh interval IE to the stored refresh interval of the call;\nd)\tshall set the SDP IE to the stored SDP body of the call;\ne)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call;\nf)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call;\ng)\tshall set the Call start time IE to the stored call start time of the call;\nh)\tshall set the Last call type change time IE to the stored last call type change time of the call associated with call type control state machine;\ni)\tshall set the Last user to change call type IE to last user to change call type associated with call type control state machine; and\nj)\tmay include the Confirm mode indication IE;\n8)\tshall send the GROUP CALL ANNOUNCEMENT message as specified in clause 9.3.1.1.1;\n9)\tshall establish a media session based on the stored SDP body of the call;\n10)\tshall start transmission control as originating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\n11)\tshall start timer TFG6 (max duration) with value as specified in clause 9.3.2.4.1.2;\n12)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.1; and\n13)\tshall enter the \"S3: part of ongoing call\" state.\nNote: In this release of the specification, the refresh interval of the call is fixed to 10 seconds.\nWhen in the \"S2: waiting for call announcement\" state, upon receiving a GROUP CALL ANNOUNCEMENT message with the MCVideo group ID IE matching the stored MCVideo group ID of the call, the MCVideo client:\n1)\tshall stop timer TFG3 (call probe retransmission);\n2)\tshall stop timer TFG1 (wait for call announcement);\n3)\tshall store the value of the SDP IE of the GROUP CALL ANNOUNCEMENT message as the SDP body of the call;\n4)\tshall store the value of the Call identifier IE of the GROUP CALL ANNOUNCEMENT message as the call identifier of the call;\n5)\tshall store the value of the originating MCVideo user ID IE of the GROUP CALL ANNOUNCEMENT message as the Originating MCVideo user ID of the call;\n6)\tshall store the value of the Refresh interval IE of the GROUP CALL ANNOUNCEMENT message as the refresh interval of the call;\n7)\tshall store the value of the Call start time IE of the GROUP CALL ANNOUNCEMENT message as the call start time of the call;\n8)\tshall establish a media session based on the stored SDP body of the call;\n9)\tshall start transmission control as terminating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\n10)\tshall start timer TFG6 (max duration) with value as specified in clause 9.3.2.4.1.2;\n11)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.1; and\n12)\tshall enter the \"S3: part of ongoing call\" state.\nWhen in the \"S1: start-stop\" state, upon receiving a GROUP CALL ANNOUNCEMENT message with the MCVideo group ID IE not matching MCVideo group ID of the call stored for other state machines, the MCVideo client:\n1)\tshall store the value of the SDP IE of the GROUP CALL ANNOUNCEMENT message as the SDP body of the call;\n2)\tshall store the value of the Call identifier IE of the GROUP CALL ANNOUNCEMENT message as the call identifier of the call;\n3)\tshall store the value of the Originating MCVideo user ID IE of the GROUP CALL ANNOUNCEMENT message as the originating MCVideo user ID of the call;\n4)\tshall store the value of the Refresh interval IE of the GROUP CALL ANNOUNCEMENT message as the refresh interval of the call;\n5)\tshall store the value of the MCVideo group ID IE of the GROUP CALL ANNOUNCEMENT message as the MCVideo group ID of the call;\n6)\tshall store the value of the Call start time IE of the GROUP CALL ANNOUNCEMENT message as the call start time of the call;\n7)\tshall create a call type control state machine as described in clause 9.3.3.2;\n8)\tif the terminating UE is configured that the terminating MCVideo user acknowledgement is required upon a terminating call request reception:\na)\tshall start timer TFG4 (waiting for the user);\nb)\tif the GROUP CALL ANNOUNCEMENT message contains the Confirm mode indication IE, shall enter the \"S5: pending user action with confirm indication\" state; and\nc)\tif the GROUP CALL ANNOUNCEMENT message does not contains the Confirm mode indication IE, shall enter the \"S4: pending user action without confirm indication\" state; and\n9)\tif the terminating UE is configured that the terminating MCVideo user acknowledgement is not required upon a terminating call request reception:\na)\tshall establish a media session based on the stored SDP body of the call;\nb)\tshall start transmission control as terminating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\nc)\tif the GROUP CALL ANNOUNCEMENT message contains the Confirm mode indication IE:\ni)\tshall generate a GROUP CALL ACCEPT message as specified in clause 17.1.4. In the GROUP CALL ACCEPT message, the MCVideo client:\nA)\tshall set the Call identifier IE to the stored call identifier of the call;\nB)\tshall set the Sending MCVideo user ID IE to own MCVideo user id;\nC)\tshall set the Call type IE to the stored current call type associated with the call type control state machine; and\nD)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call; and\nii)\tshall send the GROUP CALL ACCEPT message as specified in clause 9.3.1.1.1;\nd)\tshall start timer TFG6 (max duration) with value as specified in clause 9.3.2.4.1.2;\ne)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.1; and\nf)\tshall enter the \"S3: part of ongoing call\" state.\nWhen in the \"S5: pending user action with confirm indication\" state, upon indication from the MCVideo user to accept the incoming group call, the MCVideo client:\n1)\tshall establish a media session based on the stored SDP body of the call;\n2)\tshall start transmission control as terminating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\n3)\tshall generate a GROUP CALL ACCEPT message as specified in clause 17.1.4. In the GROUP CALL ACCEPT message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call;\nb)\tshall set the Sending MCVideo user ID IE to own MCVideo user id;\nc)\tshall set the Call type IE to the stored current call type associated with the call type control state machine; and\nd)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call; and\n4)\tshall send the GROUP CALL ACCEPT message as specified in clause 9.3.1.1.1;\n5)\tshall start timer TFG6 (max duration) with value as specified in clause 9.3.2.4.1.2;\n6)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.1; and\n7)\tshall enter the \"S3: part of ongoing call\" state.\nWhen in the \"S4: pending user action without confirm indication\" state, upon an indication from the MCVideo user to accept the incoming group call, the MCVideo client:\n1)\tshall establish a media session based on the stored SDP body of the call;\n2)\tshall start transmission control as terminating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\n3)\tshall start timer TFG6 (max duration) with value as specified in clause 9.3.2.4.1.2;\n4)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.1; and\n5)\tshall enter the \"S3: part of ongoing call\" state.\nWhen in the \"S3: part of ongoing call\" state, upon receiving a GROUP CALL ACCEPT message with the MCVideo group ID IE matching the stored MCVideo group ID of the call, the MCVideo client:\n1)\tcan inform the MCVideo user about the call acceptance; and\n2)\tshall remain in the \"S3: part of ongoing call\" state.\nWhen in the \"S5: pending user action with confirm indication\" state or the \"S4: pending user action without confirm indication\" state, upon an indication from the MCVideo user to reject the incoming group call, the MCVideo client:\n1)\tshall stop timer TFG4 (waiting for the user);\n2)\tshall start timer TFG5 (not present incoming call announcements); and\n3)\tshall enter the \"S6: ignoring incoming call announcements\" state.\nWhen in the \"S5: pending user action with confirm indication\" state or the \"S4: pending user action without confirm indication\" state, upon expiration of timer TFG4 (waiting for the user), the MCVideo client:\n1)\tshall start timer TFG5 (not present incoming call announcements); and\n2)\tshall enter the \"S6: ignoring incoming call announcements\" state.\nWhen in the \"S3: part of ongoing call\" state, upon expiry of timer TFG2 (call announcement), the MCVideo client:\n1)\tshall generate a GROUP CALL ANNOUNCEMENT message as specified in clause 17.1.3. In the GROUP CALL ANNOUNCEMENT message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call;\nb)\tshall set the Call type IE to the stored current call type associated with the call type control state machine;\nc)\tshall set the Refresh interval IE to the stored refresh interval of the call;\nd)\tshall set the SDP IE to the stored SDP body of the call;\ne)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call;\nf)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call;\ng)\tshall set the Last call type change time IE to the stored last call type change time of the call associated with call type control state machine;\nh)\tshall set the Last user to change call type IE to last user to change call type associated with call type control state machine;\ni)\tshall set the Call start time IE to the stored call start time of the call;\nj)\tif the stored probe response value of the call is set to \"true\", shall include Probe response IE;\n2)\tshall send the GROUP CALL ANNOUNCEMENT message as specified in clause 9.3.2.1.1.1;\n3)\tif the stored probe response value of the call is set to \"true\", shall set the stored probe response value of the call to \"false\";\n4)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.1; and\n5)\tshall remain in the \"S3: part of ongoing call\" state.\nWhen in the \"S3: part of ongoing call\" state, upon receiving a GROUP CALL ANNOUNCEMENT message with the MCVideo group ID IE matching the stored MCVideo group ID of the call, the Call start time IE being the same as the stored call start time of the call, the Last call type change time IE being the same as the stored last call type change time of the call associated with the call type control state machine, the Last user to change call type IE being the same as the stored last user to change call type of the call associated with the call type control state machine and the Call identifier IE being the same as the stored call identifier of the call and Call type IE same as the stored current call type associated with the call type control state machine and:\n1)\tif the stored probe response value of the call is set to \"true\" and GROUP CALL ANNOUNCEMENT message contains Probe response IE; or\n2)\tif the stored probe response value of the call is set to \"false\":\nthe MCVideo client,\n1)\tshall stop timer TFG2 (call announcement);\n2)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.1;\n3)\tshall set the stored probe response of the call to \"false\", if set to \"true\"; and\n4)\tshall remain in the \"S3: part of ongoing call\" state.\nWhen in the \"S3: part of ongoing call\" state, the \"S5: pending user action with confirm indication\" state, or the \"S4: pending user action without confirm indication\" state, upon an indication from the MCVideo user to release the group call, the MCVideo client:\n1)\tshall release the media session, if established;\n2)\tshall stop timer TFG4 (waiting for the user), if running;\n3)\tshall stop timer TFG2 (call announcement), if running;\n4)\tshall start timer TFG5 (not present incoming call announcements); and\n5)\tshall enter the \"S6: ignoring incoming call announcements\" state.\nWhen in the \"S6: ignoring incoming call announcements\" state, upon receiving a GROUP CALL ANNOUNCEMENT message with the MCVideo group ID IE matching the stored MCVideo group ID of the call, the MCVideo client:\n1)\tshall store the value of the SDP IE of the GROUP CALL ANNOUNCEMENT message as the SDP body of the call;\n2)\tshall store the value of the Call identifier IE of the GROUP CALL ANNOUNCEMENT message as the call identifier of the call;\n3)\tshall store the value of the Originating MCVideo user ID IE of the GROUP CALL ANNOUNCEMENT message as the originating MCVideo user ID of the call;\n4)\tshall store the value of the Refresh interval IE of the GROUP CALL ANNOUNCEMENT message as the refresh interval of the call;\n5)\tshall store the value of the Call start time IE of the GROUP CALL ANNOUNCEMENT message as the call start time of the call;\n6)\tshall stop timer TFG5 (not present incoming call announcements);\n7)\tshall start timer TFG5 (not present incoming call announcements); and\n8)\tshall remain in the \"S6: ignoring incoming call announcements\" state.\nWhen in the \"S6: ignoring incoming call announcements\" state, upon an indication from the MCVideo user to initiate a group call for an MCVideo group ID matching the stored MCVideo group ID of the call, the MCVideo client:\n1)\tstop timer TFG5 (not present incoming call announcements);\n2)\tshall establish a media session based on the stored SDP body of the call;\n3)\tshall start transmission control as terminating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\n4)\tshall start timer TFG6 (max duration) with value as specified in clause 9.3.2.4.1.2;\n5)\tshall start timer TFG2 (call announcement) with value as specified in clause 9.3.2.4.1.1.1; and\n6)\tshall enter the \"S3: part of ongoing call\" state.\nWhen in the \"S6: ignoring incoming call announcements\" state, upon expiration of timer TFG5 (not present incoming call announcements), the MCVideo client:\n1)\tshall release the stored SDP body of the call;\n2)\tshall release the stored call identifier of the call;\n3)\tshall release the stored originating MCVideo user ID of the call;\n4)\tshall release the stored refresh interval of the call;\n5)\tshall release the stored MCVideo group ID of the call;\n6)\tshall release the call start time of the call;\n7)\tshall destroy the call type control state machine; and\n8)\tshall enter the \"S1: start-stop\" state.\nWhen in the \"S2: waiting for call announcement\" state, upon an indication from the MCVideo user to release the group call, the MCVideo client:\n1)\tshall stop timer TFG3 (call probe retransmission); and\n2)\tshall enter the \"S7: Waiting for call announcement after call release\" state.\nWhen in the \"S7: Waiting for call announcement after call release\" state, upon an indication from the MCVideo user to initiate a group call for an MCVideo group ID matching the stored MCVideo group ID of the call, the MCVideo client:\n1)\tshall stop timer TFG1 (wait for call announcement);\n2)\tshall generate a GROUP CALL PROBE message as specified in clause 17.1.2. In the GROUP CALL PROBE message, the MCVideo client:\na)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call; and\n3)\tshall send the GROUP CALL PROBE message as specified in clause 9.3.1.1.1;\n4)\tshall start timer TFG3 (call probe retransmission);\n5)\tshall start timer TFG1 (wait for call announcement); and\n6)\tshall enter the \"S2: waiting for call announcement\" state.\nWhen in the \"S7: Waiting for call announcement after call release\" state, upon receiving a GROUP CALL ANNOUNCEMENT message with the MCVideo group ID IE matching the stored MCVideo group ID of the call, the MCVideo client:\n1)\tshall store the value of the SDP IE of the GROUP CALL ANNOUNCEMENT message as the SDP body of the call;\n2)\tshall store the value of the Call identifier IE of the GROUP CALL ANNOUNCEMENT message as the call identifier of the call;\n3)\tshall store the value of the Originating MCVideo user ID IE of the GROUP CALL ANNOUNCEMENT message as the originating MCVideo user ID of the call;\n4)\tshall store the value of the Refresh interval IE of the GROUP CALL ANNOUNCEMENT message as the refresh interval of the call;\n5)\tshall store the value of the Call start time IE of the GROUP CALL ANNOUNCEMENT message as the call start time of the call;\n6)\tshall stop timer TFG1 (wait for call announcement);\n7)\tshall start timer TFG5 (not present incoming call announcements); and\n8)\tshall enter the \"S6: ignoring incoming call announcements\" state.\nWhen in the \"S7: Waiting for call announcement after call release\" state, upon expiration of timer TFG1 (wait for call announcement), the MCVideo client:\n1)\tshall release the stored MCVideo group ID of the call;\n2)\tshall destroy the call type control state machine; and\n3)\tshall enter the \"S1: start-stop\" state.\nWhen in the \"S3: part of ongoing call\" state, upon expiration of timer TFG6 (max duration), the MCVideo client:\n1)\tshall release the media session;\n2)\tshall stop timer TFG2 (call announcement), if running;\n3)\tshall start timer TFG5 (not present incoming call announcements); and\n4)\tshall enter the \"S6: ignoring incoming call announcements\" state.\nWhen in the \"S3: part of ongoing call\" state, upon receiving a GROUP CALL ANNOUNCEMENT message with the MCVideo group ID IE matching the stored MCVideo group ID of the call and:\n1)\tthe Originating MCVideo user ID IE is different from the stored originating MCVideo user ID of the call; or\n2)\tthe Call identifier IE is different from the stored call identifier of the call;\nthen:\n1)\tif the stored current call type associated with the call type control state machine is \"BASIC GROUP CALL\" and the value of the Call type IE of GROUP CALL ANNOUNCEMENT message is either \"IMMINENT PERIL GROUP CALL\" or \"EMERGENCY GROUP CALL\";\n2)\tif the stored current call type associated with the call type control state machine is \"IMMINENT PERIL GROUP CALL\" and the value of the Call type IE of GROUP CALL ANNOUNCEMENT message is \"EMERGENCY GROUP CALL\";\n3)\tif the stored current call type associated with the call type control state machine being equal to the Call type IE of the GROUP CALL ANNOUNCEMENT message and the Call start time IE of the GROUP CALL ANNOUNCEMENT message being lower than the stored call start time of the call; or\n4)\tif the stored current call type associated with the call type control state machine being equal to the Call type IE of the GROUP CALL ANNOUNCEMENT message and the Call start time IE of the GROUP CALL ANNOUNCEMENT message being equal to the stored call start time of the call and the Call identifier IE of the GROUP CALL ANNOUNCEMENT message being lower than the stored call identifier of the call;\nthe MCVideo client:\n1)\tshall store the value of the SDP IE of the GROUP CALL ANNOUNCEMENT message as the SDP body of the call;\n2)\tshall store the value of the Call identifier IE of the GROUP CALL ANNOUNCEMENT message as the call identifier of the call;\n3)\tshall store the value of the Originating MCVideo user ID IE of the GROUP CALL ANNOUNCEMENT message as the originating MCVideo user ID of the call;\n4)\tshall store the value of the Refresh interval IE of the GROUP CALL ANNOUNCEMENT message as the refresh interval of the call;\n5)\tshall store the value of the Call start time IE of the GROUP CALL ANNOUNCEMENT message as the call start time of the call;\n6)\tshall adjust the media session based on the stored SDP body of the call and restart transmission control as terminating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\n7)\tshall stop timer TFG6 (max duration);\n8)\tshall start timer TFG6 (max duration) with value as specified in clause 9.3.2.4.1.2;\n9)\tshall stop timer TFG2 (call announcement); and\n10)\tshall start timer TFG2 (call announcement) with value according to rules and procedures as specified in clause 9.3.2.4.1.1.1; and\n11)\tshall remain in the \"S3: part of ongoing call\" state.\nUpon receiving an unexpected MONP message or MONP MCVideo message in a state where there is no handling specified for the MONP message or the MONP MCVideo message, the MCVideo client shall discard this message.\nUpon receiving an indication from the MCVideo user in a state where there is no handling specified for the indication, the MCVideo client shall ignore the indication.\nUpon expiration of a timer in a state where there is no handling specified for expiration of the timer, the MCVideo client shall ignore the expiration of the timer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "9.3.3.\tCall type control",
                            "text_content": "This state machine exists in parallel with the basic call control state machine for off-network group call as specified in clause 9.3.2.2.\nThe Figure 9.3.3.2-1 gives an overview of the states and transitions of the state machine.\nThe figure depicts a call type control state machine, which is a crucial component in a call center's call handling system. It is used to manage the flow of calls and ensure that they are handled efficiently and effectively. The state machine is designed to handle various call types, such as incoming calls, outgoing calls, and hold calls. It also includes a queue management system to ensure that calls are processed in the order they are received. The figure provides a visual representation of the state machine, allowing for easy understanding and analysis of its components and their interactions.\nFigure 9.3.3.2-1: Call type control state machine\nThe following pieces of information are associated with the call type control state machine:\na)\tthe stored current call type;\nb)\tthe stored current ProSe per-packet priority;\nc)\tthe stored last call type change time of the call; and\nd)\tthe stored last user to change call type of the call.\nWhen sending the message, MCVideo client indicates the stored current ProSe per-packet priority (as described in 3GPP TS 24.483 [4]) associated with the call type control state machine to the lower layers.\nThis state is the start state of this state machine.\nThis state exists for UE, when the UE is part of an in-progress emergency group call.\nThis state exists for UE, when the UE is part of an in-progress basic group call.\nThis state exists for UE, when the UE is part of an in-progress imminent peril group call.\nThe MCVideo client shall set the TFG13 (implicit downgrade emergency) timer as follows:\n1)\tTFG13 (implicit downgrade emergency) = X – (Y – Z) seconds, where:\na)\tX = value of \"/<x>/<x>/OffNetwork/MCVideo/EmergencyCallCancel\" leaf node present in group configuration as specified in 3GPP TS 24.483 [4];\nb)\tY = current UTC time, in seconds since midnight UTC of January 1, 1970 (not counting leap seconds); and\nc)\tZ = Last call type change time IE of the GROUP CALL ANNOUNCEMENT message or the Last call type change time IE of the GROUP CALL PRIORITY ENDED message.\nThe MCVideo client shall set the TFG14 (implicit downgrade imminent peril) timer as follows:\n1)\tTFG14 (implicit downgrade imminent peril) = X – (Y – Z) seconds, where:\na)\tX = value of \"/<x>/<x>/OffNetwork/MCVideo/ImminentPerilCallCancel\" leaf node present in group configuration as specified in 3GPP TS 24.483 [4];\nb)\tY = current UTC time, in seconds since midnight UTC of January 1, 1970 (not counting leap seconds); and\nc)\tZ = Last call type change time IE of the GROUP CALL ANNOUNCEMENT message or the Last call type change time IE of the GROUP CALL PRIORITY ENDED message.\nWhen in the \"T0: waiting for the call to establish \" state, upon an indication from an MCVideo user to initiate a group call probe for an MCVideo group, the MCVideo client:\n1)\tif the stored emergency state associated with emergency alert state machine described in 11.3.2.2 is set to \"true\" and the value of \"/<x>/<x>/Common/AllowedEmergencyCall\" leaf node present in group configuration as specified in 3GPP TS 24.483 [4] is set to \"true\":\na)\tshall set the stored current call type to \"EMERGENCY GROUP CALL\"; and\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4];\n2)\tif the stored emergency state associated with emergency alert state machine described in 11.3.2.2 is set to \"false\", and:\na)\tif the user initiates an MCVideo emergency call and the values of \"/<x>/<x>/Common/MCVideoGroupCall/EmergencyCall/Enabled\" leaf node present in the user profile and \"/<x>/<x>/Common/AllowedEmergencyCall\" leaf node present in group configuration as specified in 3GPP TS 24.483 [4] are set to \"true\":\ni)\tshall set the stored current call type to \"EMERGENCY GROUP CALL\"; and\nii)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4];\nb)\tif the user initiates an MCVideo imminent peril group call and the value of \"/<x>/<x>/Common/MCVideoGroupCall/ImminentPerilCall/Authorised\" leaf node present in the user profile \"/<x>/<x>/Common/AllowedImminentPerilCall \" leaf node present in group configuration as specified in 3GPP TS 24.483 [4] are set to \"true\":\ni)\tshall set the stored current call type to \"IMMINENT PERIL GROUP CALL\"; and\nii)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network imminent peril group call as described in 3GPP TS 24.483 [4]; and\nc)\tif the user initiates an MCVideo group call which is not an MCVideo emergency call and which is not an MCVideo imminent peril group call:\ni)\tshall set the stored current call type to \"BASIC GROUP CALL\"; and\nii)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4];\n3)\tshall set the stored last call type change time to current UTC time;\n4)\tshall set the last user to change call type to own MCVideo user ID; and\n5)\tshall remain in \"T0: waiting for the call to establish\" state.\nWhen in the \"T0: waiting for the call to establish \" state, upon receipt of a GROUP CALL ANNOUNCEMENT message as a response to GROUP CALL PROBE message, the MCVideo client:\n1)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"EMERGENCY GROUP CALL\":\na)\tshall set the stored current call type to \"EMERGENCY GROUP CALL\";\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4];\nc)\tshall set the stored last call type change time to the Last call type change time IE of the GROUP CALL ANNOUNCEMENT message;\nd)\tshall set the stored last user to change call type to the Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message;\ne)\tshall start timer TFG13 (implicit downgrade emergency) with value as specified in clause 9.3.3.4.1.1; and\nf)\tshall enter \"T1: in-progress emergency group call\" state;\n2)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"IMMINENT PERIL GROUP CALL\", and if the stored current call type is other than \"EMERGENCY GROUP CALL\":\na)\tshall set the stored current call type to \"IMMINENT PERIL GROUP CALL\";\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network imminent peril group call as described in 3GPP TS 24.483 [4];\nc)\tshall set the stored last call type change time to the Last call type change time IE of the GROUP CALL ANNOUNCEMENT message;\nd)\tshall set the stored last user to change call type to the Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message;\ne)\tshall start timer TFG14 (implicit downgrade imminent peril) with value as specified in clause 9.3.3.4.1.2; and\nf)\tshall enter \"T3: in-progress imminent peril group call\" state; and\n3)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"BASIC GROUP CALL\", and if the stored current call type is \"BASIC GROUP CALL\":\na)\tshall set the stored last call type change time to the Last call type change time IE of the GROUP CALL ANNOUNCEMENT message;\nb)\tshall set the stored last user to change call type to the Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message; and\nc)\tshall enter \"T2: in-progress basic group call\" state.\nWhen in the \"T0: waiting for the call to establish\" state, upon receipt of a GROUP CALL ANNOUNCEMENT message by an idle MCVideo client when MCVideo user acknowledgement is required, the MCVideo client:\n1)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"EMERGENCY GROUP CALL\":\na)\tshall set the stored current call type to \"EMERGENCY GROUP CALL\"; and\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4];\n2)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"IMMINENT PERIL GROUP CALL\":\na)\tshall set the stored current call type to \"IMMINENT PERIL GROUP CALL\"; and\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network imminent peril group call as described in 3GPP TS 24.483 [4];\n3)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"BASIC GROUP CALL\":\na)\tshall set the stored current call type to \"BASIC GROUP CALL\";\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4];\n4)\tshall set the stored last call type change time to the Last call type change time IE of the GROUP CALL ANNOUNCEMENT message;\n5)\tshall set the last user to change call type to the Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message; and\n6)\tshall remain in \"T0: waiting for the call to establish\" state.\nWhen in the \"T0: waiting for the call to establish\" state, upon receipt of a GROUP CALL ANNOUNCEMENT message by an idle MCVideo client when MCVideo user acknowledgement is not required, the MCVideo client:\n1)\tshall set the stored last call type change time to the Last call type change time IE of the GROUP CALL ANNOUNCEMENT message;\n2)\tshall set the last user to change call type to the Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message;\n3)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"EMERGENCY GROUP CALL\":\na)\tshall set the stored current call type to \"EMERGENCY GROUP CALL\";\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4];\nc)\tshall start timer TFG13 (implicit downgrade emergency) with value as specified in clause 9.3.3.4.1.1; and\nd)\tshall enter \"T1: in-progress emergency group call\" state;\n4)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"IMMINENT PERIL GROUP CALL\":\na)\tshall set the stored current call type to \"IMMINENT PERIL GROUP CALL\";\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network imminent peril group call as described in3GPP TS 24.483 [4];\nc)\tshall start timer TFG14 (implicit downgrade imminent peril) with value as specified in clause 9.3.3.4.1.2; and\nd)\tshall enter \"T3: in-progress imminent peril group call\" state; and\n5)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"BASIC GROUP CALL\":\na)\tshall set the stored current call type to \"BASIC GROUP CALL\";\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4]; and\nc)\tshall enter \"T2: in-progress basic group call\" state.\nWhen in state \"T0: waiting for the call to establish\", if:\na)\tthe MCVideo user accepts the call when MCVideo user acknowledgement is required; or\nb)\tthe MCVideo client sends a GROUP CALL ANNOUNCEMENT message on expiry of timer TFG1 (wait for call announcement) associated with the basic call control state machine;\nthe MCVideo client:\n1)\tif the stored current call type is set to \"EMERGENCY GROUP CALL\"\na)\tshall start timer TFG13 (implicit downgrade emergency) with value as specified in clause 9.3.3.4.1.1; and\nb)\tshall enter \"T1: in-progress emergency group call\" state;\n2)\tif the stored current call type is set to \"IMMINENT PERIL GROUP CALL\"\na)\tshall start timer TFG14 (implicit downgrade imminent peril) with value as specified in clause 9.3.3.4.1.2; and\nb)\tshall enter \"T3: in-progress imminent peril group call\" state; or\n3)\tif the stored current call type is set to \"BASIC GROUP CALL\"\na)\tshall enter \"T2: in-progress basic group call\" state.\nWhen in the \"T2: in-progress basic group call\" state, upon receiving an indication from the user to upgrade the call to \"IMMINENT PERIL GROUP CALL\" or \"EMERGENCY GROUP CALL\" or when in the \"T3: in-progress imminent peril group call\" state, upon receiving an indication from the user to upgrade the call to \"EMERGENCY GROUP CALL\", the MCVideo client:\n1)\tif the user request is to upgrade the call to \"EMERGENCY GROUP CALL\" and the value of \"/<x>/<x>/OffNetwork/EmergencyCallChange\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\":\na)\tshall set the stored current call type to \"EMERGENCY GROUP CALL\";\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4];\nc)\tshall start timer TFG13 (implicit downgrade emergency) with value as specified in clause 9.3.3.4.1.1;\nd)\tshall stop timer TFG14 (implicit downgrade imminent peril), if running; and\ne)\tshall enter \"T1: in-progress emergency group call\" state;\n2)\tif the user request is to upgrade the call to \"IMMINENT PERIL GROUP CALL\" and the value of \"/<x>/<x>/OffNetwork/ ImminentPerilCallChange\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] set to \"true\":\na)\tshall set the stored current call type to \"IMMINENT PERIL GROUP CALL\";\nb)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network imminent peril group call as described in 3GPP TS 24.483 [4];\nc)\tshall start timer TFG14 (implicit downgrade imminent peril) with value as specified in clause 9.3.3.4.1.2 and\nd)\tshall enter \"T3: in-progress imminent peril group call\" state;\n3)\tshall store the current UTC time as last call type change time of the call;\n4)\tshall store own MCVideo user ID as last user to change call type of the call;\n5)\tshall generate a GROUP CALL ANNOUNCEMENT message as specified in clause 17.1.3. In the GROUP CALL ANNOUNCEMENT message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call associated with the basic call control state machine;\nb)\tshall set the Call type IE to the stored current call type;\nc)\tshall set the Refresh interval IE to the stored refresh interval of the call associated with the basic call control state machine;\nd)\tshall set the SDP IE to the stored SDP body of the call associated with the basic call control state machine;\ne)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call associated with the basic call control state machine;\nf)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call associated with the basic call control state machine;\ng)\tshall set the call start time IE to the stored call start time of the call;\nh)\tshall set the Last call type change time IE to the stored last call type change time of the call; and\ni)\tshall set the Last user to change call type IE to the stored last user to change call type of the call; and\n6)\tshall send the GROUP CALL ANNOUNCEMENT message as specified in clause 9.3.1.1.1;\nWhen in the \"T1: in-progress emergency group call\" state or \"T2: in-progress basic group call\" state or \"T3: in-progress imminent peril group call\" state, upon receiving a GROUP CALL ANNOUNCEMENT message with the MCVideo group ID IE matching with MCVideo group ID of the ongoing call and the Call Identifier IE being the same as the stored call identifier of the call, the MCVideo client:\n1)\tif the stored last user to change call type of the call is same as the Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message and the stored last call type change time is smaller than Last call type change time IE of the GROUP CALL ANNOUNCEMENT message:\na)\tshall set the stored last call type change time of the call to Last call type change time IE of the GROUP CALL ANNOUNCEMENT message;\nb)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"EMERGENCY GROUP CALL\" and the stored call type is other than \"EMERGENCY GROUP CALL\":\ni)\tshall set the stored current call type to \"EMERGENCY GROUP CALL\";\nii)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4];\niii)\tshall stop timer TFG14 (implicit downgrade imminent peril), if running;\niv)\tshall start timer TFG13 (implicit downgrade emergency) with value as specified in clause 9.3.3.4.1.1; and\nv)\tshall enter \"T1: in-progress emergency group call\" state;\nc)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"IMMINENT PERIL GROUP CALL\" and the stored call type is other than \"IMMINENT PERIL GROUP CALL\":\ni)\tshall set the stored current call type to \"IMMINENT PERIL GROUP CALL\";\nii)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network imminent peril group call as described in 3GPP TS 24.483 [4];\niii)\tshall start timer TFG14 (implicit downgrade imminent peril) with value as specified in clause 9.3.3.4.1.2; and\niv)\tshall enter \"T3: in-progress imminent peril group call\" state; and\nd)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"BASIC GROUP CALL\" and the stored call type is other than \"BASIC GROUP CALL\":\ni)\tshall set the stored current call type to \"BASIC GROUP CALL\";\nii)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4];\niii)\tshall stop timer TFG13 (implicit downgrade), if running; and\niv)\tshall enter \"T2: in-progress basic group call\" state; and\n2)\tif the stored last user to change call type of the call is different from the Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message and:\na) if the stored call type is same as Call type IE in the received GROUP CALL ANNOUNCEMENT message and the stored last call type change time is smaller than Last call type change time IE of the GROUP CALL ANNOUNCEMENT message:\ni)\tshall set the stored last call type change time of the call to Last call type change time IE of the GROUP CALL ANNOUNCEMENT message; and\nii)\tshall set the stored last user to change call type of the call to Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message;\nb)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"EMERGENCY GROUP CALL\" and the stored call type is other than \"EMERGENCY GROUP CALL\":\ni)\tshall set the stored last call type change time of the call to Last call type change time IE of the GROUP CALL ANNOUNCEMENT message;\nii)\tshall set the stored last user to change call type of the call to Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message;\niii)\tshall set the stored current call type to \"EMERGENCY GROUP CALL\";\niv)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4];\nv)\tshall stop timer TFG14 (implicit downgrade imminent peril), if running;\nvi)\tshall start timer TFG13 (implicit downgrade emergency) with value as specified in clause 9.3.3.4.1.1; and\nvii)\tshall enter \"T1: in-progress emergency group call\" state; and\nc)\tif the Call type IE of the received GROUP CALL ANNOUNCEMENT message is set to \"IMMINENT PERIL GROUP CALL\" and the stored call type is \"BASIC GROUP CALL\":\ni)\tshall set the stored last call type change time of the call to Last call type change time IE of the GROUP CALL ANNOUNCEMENT message;\nii)\tshall set the stored last user to change call type of the call to Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message;\niii)\tshall set the stored current call type to \"IMMINENT PERIL GROUP CALL \";\niv)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network imminent peril group call as described in 3GPP TS 24.483 [4];\nv)\tshall start timer TFG14 (implicit downgrade imminent peril) with value as specified in clause 9.3.3.4.1.2; and\nvi)\tshall enter \"T3: in-progress imminent peril group call\" state.\nWhen in the \"T1: in-progress emergency group call\" state, upon receiving an indication from:\n1)\tthe MCVideo user who upgraded the MCVideo group call; or\n2)\tan authorized MCVideo user with the value of \"/<x>/<x>/Common/MCVideoGroupCall/EmergencyCall/CancelMCVideoGroup\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\",\nto downgrade \"EMERGENCY GROUP CALL\", the MCVideo client:\n1)\tshall set the stored current call type to \"BASIC GROUP CALL\";\n2)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4];\n3)\tshall set current UTC time as last call type change time of the call;\n4)\tshall store own MCVideo user ID as last user to change call type of the call;\n5)\tshall generate a GROUP CALL EMERGENCY END message as specified in clause 17.1.13. In the GROUP CALL EMERGENCY END message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call associated with the basic call control state machine;\nb)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call associated with the basic call control state machine;\nc)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call associated with the basic call control state machine;\nd)\tshall set the Last call type change time IE to the stored last call type change time of the call; and\ne)\tshall set the Last user to change call type IE to the stored last user to change call type of the call;\n6)\tshall send the GROUP CALL EMERGENCY END message as specified in clause 9.3.1.1.1;\n7)\tshall stop timer TFG13 (implicit downgrade emergency);\n8)\tshall initialize the counter CFG11 (emergency end retransmission) with value set to 1;\n9)\tshall start timer TFG11 (emergency end retransmission); and\n10)\tshall enter the \"T2: in-progress basic group call\" state.\nWhen in the \"T2: in-progress basic group call\" state, upon expiry of timer TFG11 (emergency end retransmission), the MCVideo client:\n1)\tshall generate a GROUP CALL EMERGENCY END message as specified in clause 17.1.13. In the GROUP CALL EMERGENCY END message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call associated with the basic call control state machine;\nb)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call associated with the basic call control state machine;\nc)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call associated with the basic call control state machine;\nd)\tshall set the Last call type change time IE to the stored last call type change time of the call; and\ne)\tshall set the Last user to change call type IE to the stored last user to change call type of the call;\n2)\tshall send the GROUP CALL EMERGENCY END message as specified in clause 9.3.1.1.1;\n3)\tshall increment the value of the counter CFG11 (emergency end retransmission) by 1;\n4)\tshall start timer TFG11 (emergency end retransmission) if the value of the associated counter CFG11 (emergency end retransmission) is less than the upper limit; and\n5)\tshall remain in \"T2: in-progress basic group call\" state.\nWhen in the \"T1: in-progress emergency group call\" state, upon receiving GROUP CALL EMERGENCY END message, the MCVideo client:\n1)\tshall set the stored last call type change time to the Last call type change time IE of the received GROUP CALL EMERGENCY END message;\n2)\tshall set the stored last user to change call type to the Last user to change call type IE of the received GROUP CALL EMERGENCY END message;\n3)\tshall set the stored current call type to \"BASIC GROUP CALL\";\n4)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4];\n5)\tshall stop timer TFG13 (implicit downgrade emergency); and\n6)\tshall enter the \"T2: in-progress basic group call\" state.\nWhen in the \"T3: in-progress imminent peril group call\" state, upon receiving an indication from:\n1)\tthe MCVideo user who upgraded the call; or\n2)\tan authorized user with the value of \"/<x>/<x>/Common/MCVideoGroupCall/ImminentPerilCall/Cancel\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\",\nto downgrade \"IMMINENT PERIL GROUP CALL\", the MCVideo client:\n1)\tshall set the stored current call type to \"BASIC GROUP CALL\";\n2)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4];\n3)\tshall set current UTC time as last call type change time of the call;\n4)\tshall store own MCVideo user ID as last user to change call type of the call;\n5)\tshall generate a GROUP CALL IMMINENT PERIL END message as specified in clause 17.1.12. In the GROUP CALL IMMINENT PERIL END message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call associated with the basic call control state machine;\nb)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call associated with the basic call control state machine;\nc)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call associated with the basic call control state machine;\nd)\tshall set the Last call type change time IE to the stored last call type change time of the call; and\ne)\tshall set the Last user to change call type IE to the stored last user to change call type of the call;\n6)\tshall send the GROUP CALL IMMINENT PERIL END message as specified in clause 9.3.1.1.1;\n7)\tshall stop timer TFG14 (implicit downgrade imminent peril);\n8)\tshall initialize the counter CFG12 (imminent peril end retransmission) with value set to 1;\n9)\tshall start timer TFG12 (imminent peril end retransmission); and\n10)\tshall enter the \"T2: in-progress basic group call\" state.\nWhen in the \"T2: in-progress basic group call\" state, upon expiry of timer TFG12 (imminent peril end retransmission), the MCVideo client:\n1)\tshall generate a GROUP CALL IMMINENT PERIL END message as specified in clause 17.1.12. In the GROUP CALL IMMINENT PERIL END message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call associated with the basic call control state machine;\nb)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call associated with the basic call control state machine;\nc)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call associated with the basic call control state machine;\nd)\tshall set the Last call type change time IE to the stored last call type change time of the call; and\ne)\tshall set the Last user to change call type IE to the stored last user to change call type of the call;\n2)\tshall send the GROUP CALL IMMINENT PERIL END message as specified in clause 9.3.1.1.1;\n3)\tshall increment the value of the counter CFG12 (imminent peril end retransmission) by 1;\n4)\tshall start the timer TFG12 (imminent peril end retransmission) if the value of the associated counter CFG12 (imminent peril end retransmission) is less than the upper limit; and\n5)\tshall remain in \"T2: in-progress basic group call\" state.\nWhen in the \"T3: in-progress imminent peril group call\" state, upon receiving GROUP CALL IMMINENT PERIL END message, the MCVideo client:\n1)\tshall set the stored last call type change time to the Last call type change time IE of the received GROUP CALL IMMINENT PERIL END message;\n2)\tshall set the stored last user to change call type to the Last user to change call type IE of the received GROUP CALL IMMINENT PERIL END message;\n3)\tshall set the stored current call type to \"BASIC GROUP CALL\";\n4)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4];\n5)\tshall stop timer TFG14 (implicit downgrade imminent peril); and\n6)\tshall enter the \"T2: in-progress basic group call\" state.\nWhen in the \"T1: in-progress emergency group call\" state, upon expiry of timer TFG13 (implicit downgrade emergency), the MCVideo client:\n1)\tshall store the current UTC time as the stored last call type change time of the call;\n2)\tshall store the originating MCVideo user ID as the stored last user to change call type of the call;\n3)\tshall set the stored current call type to \"BASIC GROUP CALL\";\n4)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4]; and\n5)\tshall enter the \"T2: in-progress basic group call\" state.\nWhen in the \"T3: in-progress imminent peril call\" state, upon expiry of timer TFG14 (implicit downgrade imminent peril), the MCVideo client:\n1)\tshall store the current UTC time as the stored last call type change time of the call;\n2)\tshall store the originating MCVideo user ID as the stored last user to change call type of the call;\n3)\tshall set the stored current call type to \"BASIC GROUP CALL\";\n4)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network basic group call as described in 3GPP TS 24.483 [4]; and\n5)\tshall enter the \"T2: in-progress basic group call\" state.\nWhen in the \"T1: in-progress emergency group call\" state or \"T2: in-progress basic group call\" state or \"T3: in-progress imminent peril group call\" state, upon receiving a GROUP CALL ANNOUNCEMENT message with the MCVideo group ID IE matching the stored MCVideo group ID of the call and:\n1)\tthe Originating MCVideo user ID IE is different from the stored originating MCVideo user ID of the call; or\n2)\tthe Call identifier IE is different from the stored call identifier of the call;\nthen:\n1)\tif the stored current call type is \"BASIC GROUP CALL\" and the value of the Call type IE of GROUP CALL ANNOUNCEMENT message is either \"IMMINENT PERIL GROUP CALL\" or \"EMERGENCY GROUP CALL\"; or\n2)\tif the stored current call type is \"IMMINENT PERIL GROUP CALL\" and the value of the Call type IE of GROUP CALL ANNOUNCEMENT message is \"EMERGENCY GROUP CALL\"; or\n3)\tif the stored current call type being equal to the Call type IE of the GROUP CALL ANNOUNCEMENT message and the Call start time IE of the GROUP CALL ANNOUNCEMENT message being lower than the stored call start time of the call; or\n4)\tif the stored current call type being equal to the Call type IE of the GROUP CALL ANNOUNCEMENT message and the Call start time IE of the GROUP CALL ANNOUNCEMENT message being equal to the stored call start time of the call and the Call identifier IE of the GROUP CALL ANNOUNCEMENT message being lower than the stored call identifier of the call;\nthe MCVideo client:\n1)\tshall store the value of the Last call type change time IE of the received GROUP CALL ANNOUNCEMENT message as the last call type change time of the call;\n2)\tshall store the value of the Last user to change call type IE of the GROUP CALL ANNOUNCEMENT message as the last user to change call type of the call;\n3)\tshall store the value of the Call type IE of the GROUP CALL ANNOUNCEMENT message as the current call type of the call;\n4)\tif the Call type IE of GROUP CALL ANNOUNCEMENT message is set to \"EMERGENCY GROUP CALL\":\na)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network emergency group call as described in 3GPP TS 24.483 [4]; and\nb)\tshall enter \"T1: in-progress emergency group call\" state; and\n5)\tif the Call type IE of GROUP CALL ANNOUNCEMENT message is set to \"IMMINENT PERIL GROUP CALL\":\na)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network imminent peril group call as described in 3GPP TS 24.483 [4]; and\nb)\tshall enter \"T3: in-progress imminent peril group call\" state.\nWhen in state T1: in-progress emergency group call\" or \"T2: in-progress basic group call\" or \"T3: in-progress imminent peril group call\" or upon receiving an indication from MCVideo user to release the call, the MCVideo client:\n1)\tshall release stored current call type;\n2)\tshall release stored ProSe per-packet priority;\n3)\tshall release Last call type change time;\n4)\tshall release Last user to change call type; and\n5)\tshall enter \"T0: waiting for the call to establish\" state.\nWhen in state \"T0: waiting for the call to establish\", upon receiving an indication from MCVideo user to release or reject the call, the MCVideo client:\n1)\tshall release stored current call type;\n2)\tshall release stored ProSe per-packet priority;\n3)\tshall release Last call type change time;\n4)\tshall release Last user to change call type;\n5)\tshall remain in \"T0: waiting for the call to establish\" state.\nUpon receiving an unexpected MONP message or MONP MCVideo message in a state where there is no handling specified for the MONP message or the MONP MCVideo message, the MCVideo client shall discard this message.\nUpon receiving an indication from the MCVideo user in a state where there is no handling specified for the indication, the MCVideo client shall ignore the indication.\nUpon expiration of a timer in a state where there is no handling specified for expiration of the timer, the MCVideo client shall ignore the expiration of the timer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "9.4\tOff-network Broadcast group call",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "9.4.1\tGeneral",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "9.4.2\tBasic call control",
                            "text_content": "The figure 9.4.2.2-1 gives an overview of the main states and transitions on the UE for broadcast group call call control.\nThe figure depicts a broadcast group call control state machine, illustrating the flow of control and signaling within a broadcast group call. The state machine is composed of four states: Initiate, Call, CallEnd, and CallEndEnd. Each state represents a different stage in the call's progression, with corresponding actions and signaling. The figure provides a visual representation of the complex control logic and signaling mechanisms used in broadcast group calls.\nFigure 9.4.2.2-1: Broadcast group call control state machine\nThis state exists for UE, when the UE is not part of an ongoing broadcast group call.\nThis state exists for UE, when the UE is part of an ongoing broadcast group call.\nThis state exists for the UE, when the UE has presented a notification to the MCVideo user for the received GROUP CALL BROADCAST message, is waiting for a response and is not expected to send confirm indication.\nThis state exists for UE, when the group call was rejected or released and GROUP CALL BROADCAST messages continue being received.\nWhen in the \"B1: start-stop\" state, upon the indication from MCVideo user to initiate the broadcast group call, the MCVideo client:\n1)\tshall generate an SDP body as specified in clause 9.3.1.1.2 and store it as the SDP body of the call;\n2)\tshall generate a random number with uniform distribution between 0 and 65535 and store it as the call identifier of the call;\n3)\tshall store own MCVideo user ID as the originating MCVideo user ID of the call;\n4)\tshall store \"BROADCAST GROUP CALL\" as the current call type;\n5)\tshall generate a GROUP CALL BROADCAST message as specified in clause 17.1.18. In the GROUP CALL BROADCAST message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call;\nb)\tshall set the Call type IE to the stored current call type;\nc)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call;\nd)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call; and\ne)\tshall set the SDP IE to the stored SDP body of the call;\n6)\tshall set the ProSe per-packet priority to the value corresponding to MCVideo off-network broadcast callas described in 3GPP TS 24.483 [4];\n7)\tshall start transmission control as originating transmission participant as described specified in clause a.b in 3GPP TS 24.581 [5];\n8)\tshall send the GROUP CALL BROADCAST message as specified in clause 9.3.1.1.1;\n9)\tshall establish a media session based on the stored SDP body of the call;\n10)\tshall start timer TFB2 (broadcast retransmission); and\n11)\tshall enter the \"B2: in-progress broadcast group call\" state.\nWhen in the \"B1: start-stop\" state, upon receiving a GROUP CALL BROADCAST message with the Call identifier IE not matching any in-progress broadcast group call, the MCVideo client:\n1)\tshall store the value of the Call identifier IE of the GROUP CALL BROADCAST message as the call identifier of the call;\n2)\tshall store the value of the Call type IE of the GROUP CALL BROADCAST message as the received current call type;\n3)\tshall store the value of the SDP IE of the GROUP CALL BROADCAST message as the SDP body of the call;\n4)\tshall store the value of the Originating MCVideo user ID IE of the GROUP CALL BROADCAST message as the originating MCVideo user ID of the call;\n5)\tshall store the value of the MCVideo group ID IE of the GROUP CALL BROADCAST message as the MCVideo group ID of the call;\n6)\tif the terminating UE is configured that the terminating MCVideo user acknowledgement is required upon a terminating call request reception:\ni)\tshall start timer TFB3 (waiting for the user); and\nii)\tshall enter the \"B3: pending user action\" state; and\n7)\tif the terminating UE is configured that the terminating MCVideo user acknowledgement is not required upon a terminating call request reception:\ni)\tshall establish a media session based on the stored SDP body of the call;\nii) shall start transmission control as terminating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\niii)\tshall start timer TFB1 (max duration); and\niv)\tshall enter the \"B2: in-progress broadcast group call\" state.\nWhen in the \"B3: pending user action\" state, upon indication from the MCVideo user to accept the incoming broadcast group call, the MCVideo client:\n1)\tshall establish a media session based on the stored SDP body of the call;\n2)\tshall start transmission control as terminating transmission participant as described specified in clause a.b in 3GPP TS 24.581 [5];\n3)\tshall stop timer TFB3 (waiting for the user);\n4)\tshall start timer TFB1 (max duration); and\n5)\tshall enter the \"B2: in-progress broadcast group call\" state.\nWhen in the \"B3: pending user action\" state, upon an indication from the MCVideo user to reject the incoming broadcast group call, the MCVideo client:\n1)\tshall stop timer TFB3 (waiting for the user); and\n2)\tshall enter the \"B4: ignoring same call ID\" state.\nWhen in the \"B3: pending user action\" state, upon expiration of timer TFB3 (waiting for the user), the MCVideo client:\n1)\tshall enter the \"B4: ignoring same call ID\" state.\nWhen in the \"B2: in-progress broadcast group call\" state, upon an indication from the terminating MCVideo user to release the in-progress broadcast group call, the MCVideo client:\n1)\tshall release the media session;\n2)\tshall stop transmission control; and\n3)\tshall enter the \"B4: ignoring same call ID\" state.\nWhen in the \"B2: in-progress broadcast group call\" state, upon an indication from the originating MCVideo user to release the in-progress broadcast group call, the MCVideo client:\n1)\tshall release the media session;\n2)\tshall generate a GROUP CALL BROADCAST END message as specified in clause 17.1.19. In the GROUP CALL BROADCAST END message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call;\nb)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call; and\nc)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call;\n3)\tshall send the GROUP CALL BROADCAST END message as specified in clause 9.3.1.1.1;\n4)\tshall stop timer TFB2 (broadcast retransmission);\n5)\tshall stop transmission control; and\n6)\tshall enter the \"B1: start-stop\" state.\nWhen in the \"B2: in-progress broadcast group call\" state or \"B4: ignoring same call ID\" state, upon receiving GROUP CALL BROADCAST END message with the same Call identifier IE as the stored call identifier, the MCVideo client:\n1)\tshall release media session;\n2)\tshall stop transmission control, if running; and\n3)\tshall enter the \"B1: start-stop\" state.\nWhen in the \"B2: in-progress broadcast group call\" state, upon expiry of timer TFB2 (broadcast retransmission), the MCVideo client:\n1)\tshall generate a GROUP CALL BROADCAST message as specified in clause 17.1.18. In the GROUP CALL BROADCAST message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier of the call;\nb)\tshall set the Call type IE to the stored current call type;\nc)\tshall set the Originating MCVideo user ID IE to the stored originating MCVideo user ID of the call;\nd)\tshall set the MCVideo group ID IE to the stored MCVideo group ID of the call; and\ne)\tshall set the SDP IE to the stored SDP body of the call;\n2)\tshall send the GROUP CALL BROADCAST message as specified in clause 9.3.1.1.1;\n3)\tshall restart timer TFB2 (broadcast retransmission); and\n4)\tshall remain in the \"B2: in-progress broadcast group call\" state.\nWhen in the \"B4: ignoring same call ID\" state, upon receiving GROUP CALL BROADCAST message and if the call identifier in GROUP CALL BROADCAST message matches with the stored call identifier the MCVideo client:\n1)\tshall restart timer TFB1 (max duration); and\n2)\tshall remain in \"B4: ignoring same call ID\" state.\nWhen in the \"B2: in-progress broadcast group call\" state or \"B4: ignoring same call ID\" state, upon expiry of timer TFB1 (max duration) the MCVideo client:\n1)\tshall release the media session;\n2)\tshall clear the stored call identifier;\n3)\tshall stop transmission control, if running; and\n4)\tshall enter the \"B1: start-stop\" state.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "10\tPrivate call",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "10.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the private call procedures between two MCVideo clients for on-network and off-network.\nFor on-network, private call procedures with transmission control are specified in clause 10.2.2and without transmission control are specified in clause 10.2.3.\nFor on-network, private call procedures are specified for the MCVideo client, the participating MCVideo function and the controlling MCVideo function on the originating side and terminating side..\nFor off-network, only private call procedures are specified in clause 10.3.\nFor off-network, private call procedures are specified for the MCVideo client on the originating side and terminating side.\nFor both on-network and off-network private calls, the use of automatic commencement mode and manual commencement mode are specified.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "10.2\tPrivate call in on-network",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "10.2.1\tGeneral",
                            "text_content": "For on-network, the procedures for private call with transmission control are specified in clause 10.2.2.\nFor on-network, the procedures for private call without transmission control are specified in clause 10.2.3.\nFor on-network, the procedures for ending the private call initiated by MCVideo client are specified in clause 10.2.4.\nFor on-network, the procedures for ending the private call initiated by MCVideo server are specified in clause 10.2.5.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "10.2.2\tPrivate call with transmission control",
                            "text_content": "Clause 10.2.2 specifies the MCVideo client procedures, participating MCVideo function procedures and controlling MCVideo function procedures for on-network private calls with transmission control. The procedures cover on-demand session establishment.\nFor a private call, the MCVideo client shall initiate the call to one MCVideo user\nUpon receiving a request from an MCVideo user to establish an MCVideo private call the MCVideo client shall generate an initial SIP INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tshall set the Request-URI of the SIP INVITE request to a public service identity of the participating MCVideo function serving the MCVideo user;\n2)\tmay include a P-Preferred-Identity header field in the SIP INVITE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n3)\tshall include the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP INVITE request according to IETF RFC 3840 [22];\n4)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n5)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP INVITE request;\n6)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref contain with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n7)\tfor the establishment of a private call shall insert in the SIP INVITE request an application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo user or the functional alias to be called in a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body, according to the rules and procedures of IETF RFC 5366 [37];\nNOTE 1:\tThe MCVideo client indicates whether an MCVideo ID or a functional alias is to be called as specified in step 11) c).\n8)\tif an end-to-end security context needs to be established and if the MCVideo user is initiating a private call then:\na)\tif necessary, shall instruct the key management client to request keying material from the key management server as described in 3GPP TS 33.180 [8];\nb)\tshall use the keying material to generate a PCK as described in 3GPP TS 33.180 [8];\nc)\tshall use the PCK to generate a PCK-ID with the four most significant bits set to \"0001\" to indicate that the purpose of the PCK is to protect private call communications and with the remaining twenty eight bits being randomly generated as described in 3GPP TS 33.180 [8];\nd)\tshall encrypt the PCK to a UID associated to the MCVideo client using the MCVideo ID and KMS URI of the invited user as determined by the procedures of clause 6.2.8.3.9 and a time related parameter as described in 3GPP TS 33.180 [8];\ne)\tshall generate a MIKEY-SAKKE I_MESSAGE using the encapsulated PCK and PCK-ID as specified in 3GPP TS 33.180 [8];\ng)\tshall add the MCVideo ID of the originating MCVideo to the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8]; and\nf)\tshall sign the MIKEY-SAKKE I_MESSAGE using the originating MCVideo user's signing key provided in the keying material together with a time related parameter, and add this to the MIKEY-SAKKE payload, as described in 3GPP TS 33.180 [8];\n9)\tshall include an SDP offer according to 3GPP TS 24.229 [11] with the clarification given in clause 6.2.1 and with a media stream of the offered media-transmission control entity;\n10)\tif implicit transmission control is required, shall comply with the conditions specified in clause 6.4;\n11)\tif the MCVideo user is initiating a private call then:\na)\tif force of automatic commencement mode at the invited MCVideo client is requested by the MCVideo user, shall include in the SIP INVITE request a Priv-Answer-Mode header field with the value \"Auto\" according to the rules and procedures of IETF RFC 5373 [27];\nb)\tif force of automatic commencement mode at the invited MCVideo client is not requested by the MCVideo user and:\ni)\tif automatic commencement mode at the invited MCVideo client is requested by the MCVideo user, shall include in the SIP INVITE request an Answer-Mode header field with the value \"Auto\" according to the rules and procedures of IETF RFC 5373 [27]; and\nii)\tif manual commencement mode at the invited MCVideo client is requested by the MCVideo user, shall include in the SIP INVITE request an Answer-Mode header field with the value \"Manual\" according to the rules and procedures of IETF RFC 5373 [27]; and\nc)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\ni)\tthe <session-type> element set to a value of \"private\"; and\nii)\tan <anyExt> element containing:\nA)\tthe <call-to-functional-alias-ind> element set to \"true\" if the functional alias is used as a target of the call request;\nB)\tif the MCVideo client needs to include an active functional alias in the initial SIP INVITE request, with the <functional-alias-URI> element set to the URI of the used functional alias; and\nNOTE 2:\tThe MCVideo client learns the functional aliases that are activated for an MCVideo ID from procedures specified in clause 20.2.1.3.\nC)\tif the MCVideo user has requested an application priority, the <user-requested-priority> element set to the user provided value;\n12)\tif the MCVideo emergency private call state is set to either \"MVEPC 2: emergency-pc-requested\" or \"MVEPC 3: emergency-pc-granted\" or the MCVideo emergency private priority state for this private call is set to \"MVEPP 2: in-progress\", the MCVideo client shall comply with the procedures in clause 6.2.8.3.3; and\n13)\tshall send SIP INVITE request towards the MCVideo server according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 183(Session Progress) response to the SIP INVITE request the MCVideo client:\n1)\tmay indicate the progress of the session establishment to the inviting MCVideo user.\nUpon receiving a SIP 200 (OK) response to the SIP INVITE request the MCVideo client:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5];\n2)\tif the MCVideo emergency private call state is set to \"MVEPC 2: emergency-pc-requested\" or \"MVEPC 3: emergency-pc-granted\", shall perform the actions specified in clause 6.2.8.3.4; and\n3)\tshall notify the user that the call has been successfully established.\nUpon receiving a SIP 300 (Multiple Choices) response to the SIP INVITE request the MCVideo client shall use the MCVideo ID of the MCVideo user contained in the <mcvideo-request-uri> element of the received application/vnd.3gpp.mcvideo-info MIME body as the MCVideo ID of the invited MCVideo user and shall generate an initial SIP INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given in this clause and with the following additional clarifications:\n1)\tshall insert in the newly generated SIP INVITE request an application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo user in a \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body, where the MCVideo ID is found in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info MIME body in the received SIP 300 (Multiple Choices) response;\n2)\tshall not include a <call-to-functional-alias-ind> element into the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n3)\tshall include a <called-functional-alias-URI> element into the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body with the target functional alias URI used in the initial SIP INVITE request for establishing a private call.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the SIP INVITE request:\n1)\tif the MCVideo emergency private call state is set to \"MVEPC 2: emergency-pc-requested\"; or\n2)\tif the MCVideo emergency private call state is set to \"MVEPC 3: emergency-pc-granted\";\nthe MCVideo client shall perform the actions specified in clause 6.2.8.3.5.\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing session, the MCVideo client shall follow the actions specified in clause 6.2.8.3.7.\nUpon receipt of an initial SIP INVITE request, the MCVideo client shall follow the procedures for termination of multimedia sessions in the IM CN subsystem as specified in 3GPP TS 24.229 [11] with the clarifications below.\nThe MCVideo client:\n1)\tmay reject the SIP INVITE request if any of the following conditions are met:\na)\tMCVideo client is already occupied in another session and the number of simultaneous sessions exceeds the value of the <Max-Simul-Call-Nc10> element of the <MCVideo-Private-Call> element of the <Common> element of the MCVideo UE profile document, the maximum simultaneous MCVideo session for private call, as specified in TS 24.484 [25];\nb)\tMCVideo client does not have enough resources to handle the call; or\nc)\tany other reason outside the scope of this specification;\notherwise, continue with the rest of the steps.\nNOTE 1:\tIf the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\", the participating MCVideo function can choose to accept the request.\n2)\tif the SIP INVITE request is rejected in step 1), shall respond toward participating MCVideo function either with appropriate reject code as specified in 3GPP TS 24.229 [11] and warning texts as specified in clause 4.4.2 or with SIP 480 (Temporarily unavailable) response not including warning texts if the user is authorised to restrict the reason for failure according to <allow-failure-restriction> as specified in 3GPP TS 24.484 [25] and skip the rest of the steps of this clause;\n3)\tif the SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user an indication that this is a SIP INVITE request for an MCVideo emergency private call and:\ni)\tshould display the MCVideo ID of the originator of the MCVideo emergency private call contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tif the <alert-ind> element is set to \"true\", should display to the MCVideo user an indication of the MCVideo emergency alert and associated information; and\nb)\tshall set the MCVideo emergency private priority state to \"MVEPP 2: in-progress\" for this private call;\n4)\tif the SDP offer of the SIP INVITE request contains an \"a=key-mgmt\" attribute field with a \"mikey\" attribute value containing a MIKEY-SAKKE I_MESSAGE:\na)\tshall extract the MCVideo ID of the originating MCVideo client from the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8];\nb)\tshall convert the MCVideo ID to a UID as described in 3GPP TS 33.180 [8];\nc)\tshall use the UID to validate the signature of the MIKEY-SAKKE I_MESSAGE as described in 3GPP TS 33.180 [8];\nd)\tif authentication verification of the MIKEY-SAKKE I_MESSAGE fails, shall reject the SIP INVITE request with a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and include warning text set to \"136 authentication of the MIKEY-SAKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4; and\ne)\tif the signature of the MIKEY-SAKKE I_MESSAGE was successfully validated:\ni)\tshall extract and decrypt the encapsulated PCK using the terminating user's (KMS provisioned) UID key as described in 3GPP TS 33.180 [8]; and\nii)\tshall extract the PCK-ID, from the payload as specified in 3GPP TS 33.180 [8];\nNOTE 2:\tWith the PCK successfully shared between the originating MCVideo client and the terminating MCVideo client, both clients are able to use SRTP/SRTCP to create an end-to-end secure session.\n5)\tmay check if a Resource-Priority header field is included in the incoming SIP INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n6)\tmay display to the MCVideo user the MCVideo ID of the inviting MCVideo user;\n6A)\tmay display to the MCVideo user the functional alias of the inviting MCVideo user, if provided;\n7)\tshall perform the automatic commencement procedures specified in clause 6.2.3.1.1 if one of the following conditions are met:\na)\tSIP INVITE request contains an Answer-Mode header field with the value \"Auto\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to automatic commencement mode;\nb)\tSIP INVITE request contains an Answer-Mode header field with the value \"Auto\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to manual commencement mode, yet the invited MCVideo client is willing to answer the call with automatic commencement mode; or\nc)\tSIP INVITE request contains a Priv-Answer-Mode header field with the value of \"Auto\"; and\n8)\tshall perform the manual commencement procedures specified in clause 6.2.3.2.1 if either of the following conditions are met:\na)\tSIP INVITE request contains an Answer-Mode header field with the value \"Manual\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to manual commencement mode;\nb)\tSIP INVITE request contains an Answer-Mode header field with the value \"Manual\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to automatic commencement mode, yet the invited MCVideo client allows the call to be answered with manual commencement mode; or\nc)\tSIP INVITE request contains a Priv-Answer-Mode header field with the value of \"Manual\".\nUpon receiving the SIP CANCEL request cancelling a SIP INVITE request for which a dialog exists at the MCVideo client and a SIP 200 (OK) response has not yet been sent to the SIP INVITE request then the MCVideo client:\n1)\tshall send a SIP 200 (OK) response to the SIP CANCEL request according to 3GPP TS 24.229 [11]; and\n2)\tshall send a SIP 487 (Request Terminated) response to the SIP INVITE request according to 3GPP TS 24.229 [11].\nUpon receiving a SIP BYE request for an established dialog, the MCVideo client:\n1)\tshall follow the procedures in clause 10.2.5.2.\nThis clause covers on-demand session.\nUpon receipt of a SIP re-INVITE request for an existing private call session, the MCVideo client shall:\n1)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user an indication that this is a SIP re-INVITE request to upgrade this call to an MCVideo emergency private call and:\ni)\tshould display the MCVideo ID of the originator of the MCVideo emergency private call contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tif the <alert-ind> element is set to \"true\", should display to the MCVideo user an indication of the MCVideo emergency alert and associated information; and\nb)\tshall set the MCVideo emergency private priority state to \"MVEPP 2: in-progress\" for this private call;\n2)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <emergency-ind> element set to a value of \"false\":\na)\tshould display to the MCVideo user an indication that this is a SIP re-INVITE request to downgrade this emergency private call to a normal priority private call and:\ni)\tshould display the MCVideo ID of the sender of the SIP re-INVITE request contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tif the <alert-ind> element is set to \"false\" should display to the MCVideo user an indication that the MCVideo emergency alert is cancelled;\niii)\tif the SIP re-INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body including an <originated-by> element:\nA)\tshould display to the MCVideo user the MCVideo ID contained in the <originated-by> element of the MCVideo user that originated the MCVideo emergency alert; and\nB)\tif the MCVideo ID contained in the <originated-by> element is the MCVideo ID of the receiving MCVideo user, shall set the MCVideo emergency alert state to \"MVPEA 1: no-alert\";\nb)\tshall set the MCVideo emergency private priority state to \"MVEPP 1: no-emergency\" for this private call; and\nc)\tif the MCVideo emergency private call state of the call is set to \"MVEPC 3: emergency-call-granted\", shall set the MCVideo emergency private call state of the call to \"MVEPC 1: emergency-pc-capable\";\n3)\tmay check if a Resource-Priority header field is included in the incoming SIP INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n4)\tmay display to the MCVideo user the MCVideo ID of the inviting MCVideo user;\nNOTE 1:\tAs this is a re-INVITE for an existing MCVideo private call session, there is no attempt made to change the answer-mode from its current state.\n4A)\tmay display to the MCVideo user the functional alias of the inviting MCVideo user, if provided;\n5)\tshall accept the SIP re-INVITE request and generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n6)\tif the SIP re-INVITE request was received within an on-demand session, shall include an SDP answer in the SIP 200 (OK) response to the SDP offer in the incoming SIP INVITE request according to 3GPP TS 24.229 [11] with the clarifications given in clause 6.2.2;\n7)\tshall send the SIP 200 (OK) response towards the MCVideo server according to rules and procedures of 3GPP TS 24.229 [11]; and\n8)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nThis clause covers on-demand session.\nUpon receiving a request from an MCVideo user to cancel the in-progress emergency condition on an MCVideo emergency private call, the MCVideo client shall generate a SIP re-INVITE request by following the UE session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tif the MCVideo user is not authorised to cancel the in-progress emergency condition on an MCVideo emergency private call as determined by the procedures of clause 6.2.8.3.1.2, the MCVideo client:\na)\tshould indicate to the MCVideo user that they are not authorised to cancel the in-progress emergency condition on an MCVideo emergency private call; and\nb)\tshall skip the remaining steps of the current clause;\n2)\tshall, if the MCVideo user is cancelling an in-progress emergency condition and optionally an MCVideo emergency alert originated by the MCVideo user,  include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.3.6;\n3)\tshall, if the MCVideo user is cancelling an in-progress emergency condition and optionally an MCVideo emergency alert originated by another MCVideo user, include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.3.8;\n4)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.3.3;\n5)\tshall include in the SIP re-INVITE request an SDP offer the media parameters as currently established;\nNOTE 1:\tThe SIP re-INVITE request can be sent within an on-demand session or a pre-established session associated with an MCVideo group session. If the SIP re-INVITE request is sent within a pre-established session, the media-level section for the offered MCVideo video media stream and the media-level section of the offered media-transmission control entity are expected to be the same as was negotiated in the existing pre-established session.\n6)\tif an implicit transmission request is required, shall indicate this as specified in clause 6.4; and\n7)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request, the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.380 [79];\n2)\tshall set the MCVideo emergency private priority state of the MCVideo private call to \"MVEPP 1: no-emergency\";\n3)\tshall set the MCVideo emergency private call state of the call to \"MVEPC 1: emergency-pc-capable\"; and\n4)\tif the MCVideo emergency alert state is set to \"MVPEA 4: Emergency-alert-cancel-pending\", the sent SIP re-INVITE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body and the SIP 2xx response to the SIP request for a priority group call does not contain a Warning header field as specified in clause 4.4 with the warning text containing the mcvideo-warn-code set to \"149\", shall set the MCVideo emergency alert state to \"MVPEA 1: no-alert\".\nOn receiving a SIP 4xx response, SIP 5xx response or SIP 6xx response to the SIP re-INVITE request:\n1)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response contains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <emergency-ind> element set to a value of \"true\", the MCVideo client shall set the MCVideo emergency private priority state as \"MVEPP 2: in-progress\";\n2)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response contains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element set to a value of \"true\" and the sent SIP re-INVITE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall set the MCVideo emergency alert state to \"MVPEA 3: emergency-alert-initiated\"; and\n3)\tif the SIP 4xx response, SIP 5xx response or SIP 6xx response did not contain an application/vnd.3gpp.mcvideo-info+xml MIME body, shall set the MCVideo emergency private priority state as \"MVEPP 2: in-progress\" and the MCVideo emergency alert (MPEA) state shall revert to its value prior to entering the current procedure.\nNOTE 2:\tIf the in-progress emergency private priority state cancel request is rejected, the state of the session does not change, i.e. continues with MCVideo emergency private call level priority.\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing group session, the MCVideo client shall follow the actions specified in clause 6.2.8.3.7.\nThis clause covers both on-demand session and pre-established sessions.\nUpon receiving a request from an MCVideo user to upgrade the ongoing MCVideo private call to an MCVideo emergency private call, the MCVideo client shall generate a SIP re-INVITE request as specified in 3GPP TS 24.229 [11], with the clarifications given below.\n1)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as specified in clause 6.2.8.3.2;\n2)\tshall include a Resource-Priority header field and comply with the procedures in clause 6.2.8.3.3.\n3)\tshall include an SDP offer with the media parameters as currently established according to 3GPP TS 24.229 [11];\nNOTE:\tThe SIP re-INVITE request can be sent within an on-demand session or a pre-established session associated with an MCVideo private call. If the SIP re-INVITE request is sent within a pre-established session, the media-level section for the offered MCVideo video media stream and the media-level section of the offered media-transmission control entity are expected to be the same as was negotiated in the existing pre-established session.\n4)\tif an implicit transmission request is required, shall indicate this as specified in clause 6.4; and\n5)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.380 [79]; and\n2)\tshall perform the actions specified in clause 6.2.8.3.4.\nOn receiving a SIP 4xx response, SIP 5xx response or SIP 6xx response to the SIP re-INVITE request, the MCVideo client shall perform the actions specified in clause 6.2.8.3.5.\nOn receiving a SIP INFO request where the Request-URI contains an MCVideo session ID identifying an ongoing group session, the MCVideo client shall follow the actions specified in clause 6.2.8.3.7\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"private\", the participating MCVideo function:\n1)\tmay reject the SIP INVITE request depending on the value of the Resource-Priority header field if the Resource-Priority header field is included in the received SIP INVITE request according to the rules and procedures specified in IETF RFC 4412 [33] and shall not continue with the rest of the steps;\n2)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and shall not continue with the rest of the steps;\nNOTE 1:\tIf the received SIP INVITE request contains an emergency indication set to a value of \"true\", the participating MCVideo function can choose to accept the request.\nNOTE 2:\tIf the received SIP INVITE request contains an emergency indication set to a value of \"true\", the participating MCVideo function can choose to allow an exception to the limit on the number of private calls and accept the request.\n3)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP INVITE request and shall authorise the user;\nNOTE 3:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n4)\tif the participating MCVideo function cannot find a binding between the public user identity and an MCVideo ID or if the validity period of an existing binding has expired, then the participating MCVideo function shall reject the SIP INVITE request with a SIP 404 (Not Found) response with the warning text set to \"141 user unknown to the participating function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n5)\tshall:\na)\tif the <session-type> is set to \"private\", determine that the call is a private call;\n6)\tif the call is a:\na)\tprivate call, determine the public service identity of the controlling MCVideo function for the private call service associated with the originating user's MCVideo ID identity;\nNOTE 4:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 5:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 6:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 7:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function for the private call service or first-to-answer call service associated with the originating user or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 8:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n7)\tif the participating MCVideo function is unable to identify the controlling MCVideo function for the private call service, it shall reject the SIP INVITE request with a SIP 404 (Not Found) response with the warning text \"142 unable to determine the controlling function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n8)\tif the incoming SIP INVITE request does not contain an application/resource-lists+xml MIME body, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n9)\tif the call is a private call and the incoming SIP INVITE request contains an application/resource-lists+xml MIME body with a total of more than one <entry> element in the <list> elements in the <resource-lists> element, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n10)\tif the <allow-private-call> element of the <ruleset> element is not present in the MCVideo user profile document on the participating MCVideo function or is present with the value \"false\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]), indicating that the user identified by the MCVideo ID is not authorised to initiate private calls, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response, with warning text set to \"107 user not authorised to make private calls\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n11)\tif the call is a private call and:\na)\tif the received SIP INVITE request includes an Answer-Mode header field as specified in IETF RFC 5373 [27] with the value \"Auto\" and the <allow-automatic-commencement> element of the <ruleset> element is not present in the MCVideo user profile document on the participating MCVideo function or is present with the value \"false\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]) indicating that the user identified by the MCVideo ID is not authorised to initiate private call with automatic commencement, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"125 user not authorised to make private call with automatic commencement\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\nb)\tif the received SIP INVITE request includes an Answer-Mode header field as specified in IETF RFC 5373 [27] with the value \"Manual\" and the <allow-manual-commencement> element of the <ruleset> element is not present in the MCVideo user profile document on the participating MCVideo function or is present with the value \"false\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]), indicating that the user identified by the MCVideo ID is not authorised to initiate private call with manual commencement, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"126 user not authorised to make private call with manual commencement\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\nc)\tif the <PrivateCall> element exists in the MCVideo user profile document with one more <entry> elements (see the MCVideo user profile document in 3GPP TS 24.484 [25]) and:\ni)\tif the \"uri\" attribute of the <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body does not match with one of the <entry> elements of the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]); and\nii)\tif configuration is not set in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) that allows the MCVideo user to make a private call to users not contained within the <entry> elements of the <PrivateCall> element;\nthen:\ni)\tshall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"144 user not authorised to call this particular user\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n11A)\tif the call is a first-to-answer call or a private call, the received SIP INVITE request contains the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element containing the <anyExt> element with the <call-to-functional-alias-ind> element set to \"true\" and a <functional-alias-URI> element, and the <ListOfAllowedFAsToCall> element exists with one or more <entry> elements within the entry of the FunctionalAliasList element corresponding to the calling <functional-alias-URI> element in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) and:\na)\tif the \"uri\" attribute of the <entry> element of a <list> element of the <resource-lists> of the application/resource-lists+xml MIME body does not match with any of the <entry> elements of the <ListOfAllowedFAsToCall> element of the entry within the FunctionalAliasList element corresponding to the calling <functional-alias-URI> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]);\nthen:\na)\tshall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"171 functional alias not allowed to call this particular functional alias\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n12)\tshall validate the media parameters and if the MCVideo video media codec is not offered in the \"SIP INVITE request for originating participating MCVideo function\" shall reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n13)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.3 with the following clarifications:\na)\tif the conditions in step 12) above were executed and the participating MCVideo function determined that the \"uri\" attribute of only one of the <entry> elements a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body matched with an <entry> element of the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) then the <session-type> in the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request generated in clause 6.3.2.1.3 is set to \"private\"; and\nb)\tif the conditions in step 12) above were executed, then only the <entry> element(s) of the <list> elements of the <resource-lists> element of the application/resource-lists+xml MIME body that have a \"uri\" attribute that matched with an <entry> elements of the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) are included in the application/resource-lists+xml MIME body in the SIP INVITE request generated in clause 6.3.2.1.3;\n14)\tshall set the Request-URI to the public service identity of the controlling MCVideo function hosting the private call service as determined by step 6);\n15)\tshall set the <mcvideo-calling-user-id> element in an application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request to the MCVideo ID of the calling user;\n16)\tif the call is a private call and:\na)\tif a Priv-Answer-Mode header field specified in IETF RFC 5373 [27] was received in the incoming SIP INVITE request with a value of \"Manual\", shall not include a Priv-Answer-Mode header field in the outgoing SIP INVITE request;\nb)\tif the <allow-force-auto-answer> element of the <ruleset> element is not present in the MCVideo user profile document on the participating MCVideo function or is present with the value \"false\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]), and the Priv-Answer-Mode header field specified in IETF RFC 5373 [27] was received in the incoming SIP INVITE request with a value of \"Auto\", shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"143 not authorised to force auto answer\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\nc)\tif the <allow-force-auto-answer> element of the <ruleset> element is present in the MCVideo user profile document with the value \"true\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the participating MCVideo function, and the Priv-Answer-Mode header field specified in IETF RFC 5373 [27] was received in the incoming SIP INVITE request with a value of \"Auto\", shall include the Priv-Answer-Mode header field set to a value of \"Auto\" in the outgoing SIP INVITE request;\nd)\tif a Priv-Answer-Mode header field containing the value of \"Auto\" has not been included in the outgoing SIP INVITE request as specified in step 17) above and the incoming \"SIP INVITE request for originating participating MCVideo function\" contained an Answer-Mode header field as specified in IETF RFC 5373 [27], then shall populate the Answer-Mode header field of the outgoing SIP INVITE request with the contents of the Answer-Mode header field from the incoming \"SIP INVITE request for originating participating MCVideo function\";\n17) shall include in the SIP INVITE request an SDP offer based on the SDP offer in the received \"SIP INVITE request for originating participating MCVideo function\", as specified in clause 6.3.2.1.1.1;\n17a)\tif the received SIP INVITE request contains a <functional-alias-URI> element of the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, then shall check if the status of the functional alias is activated for the MCVideo ID. If the functional alias status is activated, then the participating MCVideo function shall set the <functional-alias-URI> element of the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP INVITE request to the received value, otherwise shall not include a <functional-alias-URI> element;\nNOTE 9:\tThe participating MCVideo server learns the functional alias state for an MCVideo ID from procedures specified in clause 20.2.2.2.7.\n18) shall include a Resource-Priority header field according to the rules and procedures of 3GPP TS 24.229 [11] set to the value indicated in the Resource-Priority header field if included in the SIP INVITE request from the MCVideo client; and\n19) shall forward the SIP INVITE request, according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 180 (Ringing) response, the participating MCVideo function:\n1)\tshall generate a SIP 180 (Ringing) response to the SIP INVITE request as specified in the clause 6.3.2.1.4.1;\n2)\tshall include a P-Asserted-Identity header field in the outgoing SIP 180 (Ringing) response set to the public service identity of the participating MCVideo function;\n3)\tshall include Warning header field(s) received in the incoming SIP 180 (Ringing) response; and\n4)\tshall forward the SIP 180 (Ringing) response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response, the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.2.1.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer as specified in the clause 6.3.2.1.2.1;\n3)\tshall include Warning header field(s) received in the incoming SIP 200 (OK) response;\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n5)\tshall include an MCVideo session identity mapped to the MCVideo session identity provided in the Contact header field of the received SIP 200 (OK) response;\n6)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11];\n7)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\n8)\tshall start the SIP session timer according to the rules and procedures of IETF RFC 4028 [23].\nThe participating MCVideo function shall forward any other SIP response that does not contain SDP, including any MIME bodies contained therein, along the signalling path to the originating network according to 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP REFER request for a pre-established session\", with:\n1)\tthe Refer-To header field containing a Content-ID (\"cid\") Uniform Resource Locator (URL) as specified in IETF RFC 2392 [49] that points to an application/resource-lists+xml MIME body as specified in IETF RFC 5366 [37] containing one or more <entry> element(s) in one or more <list> elements in the <resource-lists> elment, where the <entry> elements contain a \"uri\" attribute containing a SIP URI set to the MCVideo ID of the called user(s);\n2)\tan hname \"body\" parameter in the headers portion of the SIP URI specified above containing an application/vnd.3gpp.mcvideo-info MIME body with the <session-type> element set to \"private\"; and\n3)\ta Content-ID header field set to the \"cid\" URL;\nthe participating function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and shall not continue with the rest of the steps;\n2)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP REFER request;\n3)\tif the participating MCVideo function cannot find a binding between the public user identity and an MCVideo ID or if the validity period of an existing binding has expired, then the participating MCVideo function shall reject the SIP REFER request with a SIP 404 (Not Found) response with the warning text set to \"141 user unknown to the participating function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n4)\tif the received SIP REFER request does not contain an application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field, shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n5)\tif the received SIP REFER request contains an application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field with more than one <entry> element in one or more<list> elements in the <resource-lists> element where these <entry> elements each contain an application/vnd.3gpp.mcvideo-info MIME body with the <session-type> element:\na)\tset to \"private\", shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n6)\tif the received SIP REFER request contains an application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field with only one <entry> element in a <list> element in the <resource-lists> element containing an application/vnd.3gpp.mcvideo-info MIME body with the <session-type> element:\na)\tnot set to \"private\", shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps; or\nb)\tset to \"private\", determine that the call is a private call;\n7)\tif the call is a:\na)\tprivate call, shall determine the public service identity of the controlling MCVideo function for the private call service associated with the originating user's MCVideo ID; or\nNOTE 1:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function for the private call service or first-to-answer call service associated with the originating user or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n8)\tif the participating MCVideo function is unable to identify the controlling MCVideo function for the private call service associated with the originating user's MCVideo ID, it shall reject the REFER request with a SIP 404 (Not Found) response with the warning text \"142 unable to determine the controlling function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n9)\tif the <allow-private-call> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the participating MCVideo function or is present with the value \"false\", indicating that the user identified by the MCVideo ID is not authorised to initiate private calls, shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response to the SIP INVITE request, with warning text set to \"107 user not authorised to make private calls\" in a Warning header field as specified in clause 4.4;\n10)\tif the call is a private call:\na)\tif the received SIP REFER request includes an Answer-Mode header field as specified in IETF RFC 5373 [27] set to \"Auto\" contained in the header portion of the SIP URI present in the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field, and the <allow-automatic-commencement> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the participating MCVideo function or is present with the value \"false\" (indicating that the user identified by the MCVideo ID is not authorised to initiate a private call with automatic commencement), shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response including warning text set to \"125 user not authorised to make private call with automatic commencement\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\nb)\tif the received SIP REFER request includes an Answer-Mode header field as specified in IETF RFC 5373 [27] set to \"Manual\" contained in the header portion of the SIP URI present in the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field, and the <allow-manual-commencement> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the participating MCVideo function or is present with the value \"false\" (indicating that the user identified by the MCVideo ID is not authorised to initiate private call with manual commencement), shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response including warning text set to \"126 user not authorised to make private call with manual commencement\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nc)\tif the <allow-force-auto-answer> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the participating MCVideo function or is present with the value \"false\", and the SIP REFER request contained a Priv-Answer-Mode header field as specified in IETF RFC 5373 [27] set to \"Auto\" in the header portion of the SIP URI in the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"143 not authorised to force auto answer\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\nd)\tif the <PrivateCall> element exists in the MCVideo user profile document with one more <entry> elements (see the MCVideo user profile document in 3GPP TS 24.484 [25]) and:\ni)\tif the SIP URI in the \"uri\" attribute of an <entry> element in a <list> element in the <resource-lists> element of the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field not match with one of the <entry> elements of the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]); and\nii)\tif configuration is not set in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) that allows the MCVideo user to make a private call to users not contained within the <entry> elements of the <PrivateCall> element;\nthen:\ni)\tshall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"144 user not authorised to call this particular user\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n10A)\tif the call is a first-to-answer call or a private call, the received SIP REFER request contains the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element containing the <anyExt> element with the <call-to-functional-alias-ind> element set to \"true\" and a <functional-alias-URI> element, the <ListOfAllowedFAsToCall> element exists with one or more <entry> elements within the entry of the FunctionalAliasList element corresponding to the calling <functional-alias-URI> element in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) and:\na)\tif the \"uri\" attribute of the <entry> element in a <list> element in the <resource-lists> element of the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field does not match with any of the <entry> elements of the <ListOfAllowedFAsToCall> element of the entry within the FunctionalAliasList element corresponding to the calling <functional-alias-URI> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]);\nthen:\na)\tshall reject the \"SIP REFER request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"171 functional alias not allowed to call this particular functional alias\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n11)\tif the \"SIP REFER request for a pre-established session\" contained a Refer-Sub header field containing \"false\" value and a Supported header field containing \"norefersub\" value, shall handle the SIP REFER request as specified in 3GPP TS 24.229 [11], IETF RFC 3515 [64] as updated by IETF RFC 6665 [16], and IETF RFC 4488 [31] without establishing an implicit subscription;\n12)\tshall generate a final SIP 200 (OK) response to the \"SIP REFER request for a pre-established session\" according to 3GPP TS 24.229 [11];\nNOTE 6:\tIn accordance with IETF RFC 4488 [31], the participating MCVideo function inserts the Refer-Sub header field containing the value \"false\" in the SIP 200 (OK) response to the SIP REFER request to indicate that it has not created an implicit subscription.\n13)\tshall send the response to the \"SIP REFER request for a pre-established session\" towards the MCVideo client according to 3GPP TS 24.229 [11];\n14)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.4 with the following clarifications:\na)\tif the conditions in step 11) above were executed and the participating MCVideo function determined that the \"uri\" attribute of only one of the <entry> elements in the <lists> elements in the <resource-lists> element of the application/resource-lists+xml MIME body matched with an <entry> element of the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) then the <session-type> in the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request generated in clause 6.3.2.1.4 is set to \"private\"; and\nb)\tif the conditions in step 11) above were executed, then only the <entry> element(s) in the <list> elements in the <resource-lists> element of the application/resource-lists+xml MIME body that have a \"uri\" attribute that matched with an <entry> element of the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) are included in the application/resource-lists+xml MIME body in the SIP INVITE request generated in clause 6.3.2.1.3;\n15)\tshall set the Request-URI of the SIP INVITE request to the public service identity of the controlling MCVideo function hosting the private call service for the calling MCVideo user as determined above in step 7);\n16)\tif the call is a private call:\na)\tif the SIP REFER request contained a Priv-Answer-Mode header field as specified in IETF RFC 5373 [27] set to \"Manual\" in the header portion of the SIP URI in the \"uri\" attribute of a <list> element in the <resource-lists> element in the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field, shall copy the Priv-Answer-Mode header field from the incoming SIP REFER request to the outgoing SIP INVITE request;\nb)\tif the <allow-force-auto-answer> element of the <ruleset> element is present in the MCVideo user profile document with the value \"true\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the participating MCVideo function, and the Priv-Answer-Mode header field specified in IETF RFC 5373 [27] was received in the header portion of the SIP URI in the \"uri\" attribute of a <list> element in the <resource-lists> element in the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field, with a value set to \"Auto\", shall copy the Priv-Answer-Mode header field to the outgoing SIP INVITE request; and\nc)\tif a Priv-Answer-Mode header field containing the value of \"Auto\" has not been copied to the outgoing SIP INVITE request as specified in step 16) above, and the incoming SIP REFER request contained an Answer-Mode header field in the headers portion of the SIP URI in the \"uri\" attribute of a <list> element in the <resource-lists> element in the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field, then copy the Answer-Mode header field to the outgoing SIP INVITE request;\n17)\tif the received SIP REFER request contained a Resource-Priority header field, shall include in the outgoing SIP INVITE request a Resource-Priority header field according to the rules and procedures of 3GPP TS 24.229 [11] set to the value indicated in the Resource-Priority header field of the received SIP REFER request;\n17a)\tif the call is a private call and if the received SIP REFER request contains a <functional-alias-URI> element of the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, then shall check if the status of the functional alias is activated for the MCVideo ID. If the functional alias status is activated, then the participating MCVideo function shall set the <functional-alias-URI> element of the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP INVITE request to the received value, otherwise shall not include a <functional-alias-URI> element; and\nNOTE 7:\tThe participating MCVideo function will leave verification of the Resource-Priority header field to the controlling MCVideo function.\n18)\tshall forward the SIP INVITE request according to 3GPP TS 24.229 [11].\nUpon receiving SIP provisional responses for the SIP INVITE request the participating MCVideo function:\n1)\tshall discard the received SIP responses without forwarding them.\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request the participating MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the above SIP INVITE request the participating MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nThis clause covers both on-demand session and pre-established sessions.\nUpon receipt of a SIP re-INVITE request for an existing MCVideo private call session the participating MCVideo function:\n1)\tmay reject the SIP re-INVITE request depending on the value of the Resource-Priority header field if the Resource-Priority header field is included in the received SIP re-INVITE request according to rules and procedures specified in IETF RFC 4412 [33] and skip the rest of the steps;\n2)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15];\nNOTE 1:\tIf the SIP re-INVITE request contains an emergency indication, the participating MCVideo function can choose to accept the request.\n3)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP INVITE request and shall authorise the user;\nNOTE 2:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n4)\tshall validate the media parameters and if the MCVideo video media codec is not offered in the SIP re-INVITE request shall reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\nNOTE 3:\tIf the received SIP re-INVITE request is received within a pre-established session, associated with an MCVideo private call, the media-level section for the offered MCVideo video media stream and the media-level section of the offered media-transmission control entity are expected to be the same as was negotiated in the existing pre-established session.\n5)\tshall generate a SIP re-INVITE request as specified in clause 6.3.2.1.9;\n6)\tshall set the <mcvideo-calling-user-id> element in an application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP re-INVITE request to the MCVideo ID of the calling user;\n7)\tshall, if the SIP re-INVITE request was received within an on-demand session include in the SIP re-INVITE request an SDP containing the current media parameters used by the existing session;\n8)\tshall, if the SIP re-INVITE request was received within a pre-established session, include in the SIP re-INVITE request an SDP offer based upon the previously negotiated SDP for the pre-established session as specified in clause 6.3.2.1.1.2;\n9)\tshall include a Resource-Priority header field according to rules and procedures of 3GPP TS 24.229 [11] set to the value indicated in the Resource-Priority header field if included in the SIP re-INVITE request from the MCVideo client; and\n10)\tshall forward the SIP re-INVITE request, according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response, the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.2.1.4.2;\n2)\tif the SIP 200 (OK) response is to be sent within an on-demand session shall include in the SIP 200 (OK) response an SDP answer as specified in the clause 6.3.2.1.2.1;\n3)\tif the SIP 200 (OK) response is to be sent within a pre-established session shall include in the SIP 200 (OK) response an SDP answer based upon the previously negotiated SDP for the pre-established session;\n4)\tshall include Warning header field(s) received in the incoming SIP 200 (OK) response;\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n6)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11]; and\n7)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nThe participating MCVideo function shall forward any other SIP response that does not contain SDP, including any MIME bodies contained therein, along the signalling path to the originating network according to 3GPP TS 24.229 [11].\nThis clause covers both on demand session and pre-established session.\nUpon receipt of a \"SIP INVITE request for terminating participating MCVideo function\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the \"SIP INVITE request for terminating participating MCVideo function\" with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15], and shall not continue with the rest of the steps;\n2)\tshall check the presence of the isfocus media feature tag in the URI of the Contact header field and if it is not present then the participating MCVideo function shall reject the request with a SIP 403 (Forbidden) response with the warning text set to \"104 isfocus not assigned\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n3)\tif the <session-type> element of the application/vnd.3gpp.mcvideo-info+xml MIME body is set to \"private\" and the Answer-Mode Indication in the application/poc-settings+xml MIME body has not yet been received from the invited MCVideo client as defined in clause 7.3.3 or clause 7.3.4, shall reject the request with a SIP 480 (Temporarily Unavailable) response with the warning text set to \"146 T-PF unable to determine the service settings for the called user\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n4)\tshall use the MCVideo ID present in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request to retrieve the binding between the MCVideo ID and public user identity;\n5)\tif the binding between the MCVideo ID and public user identity does not exist, then the participating MCVideo function shall reject the SIP INVITE request with a SIP 404 (Not Found) response. Otherwise, continue with the rest of the steps;\n6)\twhen the called user identified by the MCVideo ID is unable to participate in private calls as identified in the called user's MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the terminating participating MCVideo function, shall reject the \"SIP INVITE request for terminating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"127 user not authorised to be called in private call\" in a Warning header field as specified in clause 4.4;\n6A)\tif the <session-type> element of the application/vnd.3gpp.mcvideo-info+xml MIME body is set to \"private\" and if the <IncomingPrivateCallList> element exists in the MCVideo user profile document with one or more <entry> elements (see the MCVideo user profile document in 3GPP TS 24.484 [25]) and:\ni)\tif the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request does not match with one of the <entry> elements of the <IncomingPrivateCallList> element of the MCVideo user profile document; and\nii)\tif configuration is not set in the MCVideo user profile document that allows the MCVideo user to receive a private call by users not contained within the <entry> elements of the <IncomingPrivateCallList> element (see <allow-to-receive-private-call-from-any-user> element in MCVideo user profile document in 3GPP TS 24.484 [25]);\nthen:\ni)\tshall reject the \"SIP INVITE request for terminating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"159 user not authorised to be called by this originating user\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n6B)\tif the call is a first-to-answer call or a private call, the received SIP INVITE request contains the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element containing the <anyExt> element with the <call-to-functional-alias-ind> element set to \"true\" and a <functional-alias-URI> element, the <ListOfAllowedFAsToBeCalledFrom> element exists in the MCVideo user profile document with one or more <entry> elements (see the MCVideo user profile document in 3GPP TS 24.484 [25]) and:\na)\tif the <called-functional-alias-URI> element of the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request does not match with any of the <entry> elements of the <ListOfAllowedFAsToBeCalledFrom> element of the entry within the FunctionalAliasList element corresponding to the called functional alias of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]); and\nthen:\na)\tshall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"172 functional alias not allowed to be called from this functional alias\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n7)\tshall perform the automatic commencement procedures specified in clause 6.3.2.2.5.1 and according to IETF RFC 5373 [27] if one of the following conditions are met:\na)\t\"SIP INVITE request for terminating participating MCVideo function\" contains an Answer-Mode header field with the value \"Auto\";\nb)\t\"SIP INVITE request for terminating participating MCVideo function\" does not contain an Answer-Mode header field and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as per clause 7.3.3 or clause 7.3.4 is set to \"auto-answer\"; or\nc)\t\"SIP INVITE request for terminating participating MCVideo function\" contains a Priv-Answer-Mode header field with the value \"Auto\"; and\n8)\tshall perform the manual commencement procedures specified in clause 6.3.2.2.6.1 and according to IETF RFC 5373 [27] if either of the following conditions are met:\na)\t\"SIP INVITE request for terminating participating MCVideo function\" contains an Answer-Mode header field with the value \"Manual\";\nb)\t\"SIP INVITE request for terminating participating MCVideo function\" does not contain an Answer-Mode header field and Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as per clause 7.3.3 or clause 7.3.4 is set to \"manual-answer\"; or\nc)\t\"SIP INVITE request for terminating participating MCVideo function\" contains a Priv-Answer-Mode header field with the value \"Manual\".\nThis clause covers the on-demand session case only.\nUpon receipt of a SIP re-INVITE request for an existing MCVideo private call session the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP re-INVITE with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\nNOTE 1:\tIf the SIP re-INVITE request contains an emergency indication, the participating MCVideo function can choose to accept the request.\n2)\tshall use the MCVideo ID present in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP re-INVITE request to retrieve the binding between the MCVideo ID and public user identity;\n3)\tif the binding between the MCVideo ID and public user identity does not exist, then the participating MCVideo function shall reject the SIP re-INVITE request with a SIP 404 (Not Found) response and skip the rest of the steps;\n4)\tshall generate a SIP re-INVITE as specified in clause 6.3.2.2.10;\nNOTE 2:\tAs this is the modification of an in-progress MCVideo private call, this procedure does not attempt modification of the existing answer-mode of the call.\n5)\tshall include in the SIP re-INVITE request an SDP offer containing the current media parameters used by the existing session; and\n6)\tshall send the SIP re-INVITE request towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving the SIP 200 (OK) response to the SIP re-INVITE request, the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as described in the clause 6.3.2.2.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer based on the SDP answer in the received SIP 200 (OK) response as specified in clause 6.3.2.2.2.1;\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n4)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\n5)\tshall forward the SIP 200 (OK) response according to 3GPP TS 24.229 [11].\nThe participating MCVideo function shall forward any other SIP response that does not contain SDP along the signalling path to the originating network according to 3GPP TS 24.229 [11].\nThis clause describes the procedures for inviting an MCVideo user to an MCVideo session. The procedure is initiated by the controlling MCVideo function as the result of an action in clause 10.2.2.4.2\nThe controlling MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.3.1.2;\nNOTE 1:\tAs a result of calling clause 6.3.3.1.2, the <mcvideo-calling-user-id> containing the calling user's MCVideo ID is copied into the outgoing SIP INVITE.\n2)\tif the received SIP INVITE request contains an authorised request for an MCVideo emergency private call as determined by clause 6.3.3.1.13.2:\na)\tshall set the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\";\nb)\tif the received SIP INVITE request contains an alert indication set to a value of \"true\" and this is an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, perform the procedures specified in clause 6.3.3.1.12; and\nc)\tif the received SIP INVITE request did not contain an alert indication or contains an alert indication set to a value of \"true\" and is not an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, shall set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\";\n3)\tshall copy the MCVideo ID of the MCVideo user listed in the MIME resources body of the incoming SIP INVITE request, into the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the outgoing SIP INVITE request;\n4)\tshall set the Request-URI to the public service identity of the terminating participating MCVideo function associated to the MCVideo user to be invited;\nNOTE 2:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function for the private call service or first-to-answer call service associated with the originating user or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n5)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the controlling MCVideo function;\n6)\tshall include a Resource-Priority header field populated with the values for an MCVideo emergency private call as specified in clause 6.3.3.1.19, if either of the following conditions is met:\na)\tif the received SIP INVITE request contains an authorised request for an MCVideo emergency private call as determined in step 2 above; or\nb)\tthe originating MCVideo user is in an in-progress emergency private call state with the targeted MCVideo user;\n7)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the originating network according to the procedures specified in clause 6.3.3.1.1;\n8)\tshall send the SIP INVITE request towards the core network according to 3GPP TS 24.229 [11]; and\n9)\tshall start a private call timer with a value set to the configured max private call duration for the user.\nUpon receiving SIP 200 (OK) response for the SIP INVITE request the controlling MCVideo function:\n1)\tshall cache the contact received in the Contact header field; and\n2)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nUpon expiry of the private call timer, the controlling MCVideo function shall follow the procedure for releasing private call session as specified in clause 10.2.5.4.\nIn the procedures in this clause:\n1)\t<emergency–ind> refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body;\n2)\t<alert–ind> refers to the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n3)\t<session-type> refers to the <session-type> element of an application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of:\n-\ta \"SIP INVITE request for controlling MCVideo function of a private call\"; or\nthe controlling MCVideo function:\n1)\tif the <session-type> in the SIP INVITE request is set to \"private\":\na)\tshall check whether the public service identity contained in the Request-URI is allocated for private call and perform the actions specified in clause 6.3.7.1 if it is not allocated and skip the rest of the steps; and\nb)\tshall perform actions to verify the MCVideo ID of the inviting MCVideo user in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request, and authorise the request according to local policy, and if it is not authorised the controlling MCVideo function shall return a SIP 403 (Forbidden) response with the warning text as specified in \"Warning header field\" and skip the rest of the steps;\n2)\tif the incoming SIP INVITE request does not contain an application/resource-lists+xml MIME body shall reject the SIP INVITE request with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n3)\tif the <session-type> is set to \"private\" and the application/resource-lists+xml MIME body contains more than one <entry> element in one or more <list> elements in the <resource-lists>element, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n4)\tshall validate that the received SDP offer includes at least one media stream for which the media parameters and at least one codec or media format is acceptable by the controlling MCVideo function and if not, reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\n5)\tif received SIP INVITE request includes an <emergency-ind>, shall validate the request as described in clause 6.3.3.1.17;\n6)\tif the received SIP INVITE request contains an unauthorised request for an MCVideo emergency private call as determined by clause 6.3.3.1.13.2:\na)\tshall reject the SIP INVITE request with a SIP 403 (Forbidden) response as specified in clause 6.3.3.1.14; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n7)\tif a Resource-Priority header field is included in the received SIP INVITE request and if the Resource-Priority header field is set to the value indicated for emergency calls, shall reject the SIP INVITE request with a SIP 403 (Forbidden) response and skip the remaining steps if neither one of the following conditions are true:\na)\tthe SIP INVITE request does not contain an authorised request for an MCVideo emergency call as determined in step 4 above; or\nb)\tthe originating MCVideo user is not in an in-progress emergency private call state with the targeted MCVideo user;\n7a)\tif the <session-type> in the received SIP INVITE request is set to \"private\" and if the SIP INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element containing the <anyExt> element with the <call-to-functional-alias-ind> element set to a value of \"true\":\na)\tshall identify the MCVideo ID(s) of the MCVideo user(s) that have activated the received called functional alias in the application/resource-lists+xml MIME body of the SIP INVITE request by performing the actions specified in clause 20.2.2.2.8;\nb)\tif unable to determine any MCVideo ID that has activated the received called functional alias in the \"uri\" attribute of an <entry> element in a <list> element in the <resource-lists> element in the application/resource-lists+xml MIME body of the SIP INVITE request, shall reject the \"SIP INVITE request for controlling MCVideo function of a private call\" with a SIP 403 (Forbidden) response including a warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps; and\nc)\tselects one of the identified MCVideo IDs, and shall send a SIP 300 (Multiple Choices) response to the \"SIP INVITE request for controlling MCVideo function of a private call\" populated according to 3GPP TS 24.229 [11], IETF RFC 3261 [15] with:\nA)\ta Contact header field containing a SIP URI for the MCVideo session identity; and\nB)\tan application/vnd.3gpp.mcvideo-info MIME body with an <mcvideo-request-uri> element set to the selected MCVideo ID and shall not continue with the rest of the steps in this clause;\nNOTE 1:\tHow the controlling MCVideo function selects the appropriate MCVideo ID is implementation specific.\n8)\tif:\na)\tthe received SIP INVITE request contains an emergency indication set to a value of \"true\";\nb)\tthe originating MCVideo user is not in an in-progress emergency private call state with the targeted MCVideo user; and\nc)\tif the <session-type> in the SIP INVITE request is set to \"private\";\nthen:\na)\tshall cache the information that the MCVideo user has initiated an MCVideo emergency private call to the targeted user; and\nb)\tshall cache the information that the MCVideo user is in an in-progress emergency private call state with the targeted MCVideo user;\n9)\tshall perform actions as described in clause 6.3.3.2.2;\n10)\tshall allocate an MCVideo session identity for the MCVideo session; and\n11)\tshall invite the MCVideo user(s) listed in the \"uri\" attribute of <entry> elements in the  <list> elements in the <resource-lists> element in the application/resource-lists+xml MIME body of received SIP INVITE request as specified in clause 10.2.2.4.1.\nUpon receiving a SIP 180 (Ringing) response and if the SIP 180 (Ringing) response or the SIP final response has not yet been sent to the inviting MCVideo client, the controlling MCVideo function:\n1)\tif the SIP 180 (Ringing) response is associated with a SIP INVITE that contained a <session-type> set to \"private\", shall generate a SIP 180 (Ringing) response to the SIP INVITE request and send the SIP 180 (Ringing) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11]; and\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request, the SIP dialog was established as a result of receiving a SIP INVITE request with a <session-type> element set to the value of \"private\" and the SIP final response has not yet been sent to the inviting MCVideo client, the controlling MCVideo function:\n1)\tshall generate a SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.3.2.3.2 before continuing with the rest of the steps;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.2;\n3)\tif the received SIP INVITE request contains an alert indication set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\nNOTE 2:\tThis is the case when the MCVideo user's request for an MCVideo emergency private call was granted but the request for the MCVideo emergency alert was denied.\n4)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5]; and\nNOTE 3:\tResulting media plane processing is completed before the next step is performed.\n5)\tshall send a SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request, the SIP dialog was established as a result of receiving a SIP INVITE request with a <session-type> element set to the value of \"first-to-answer\" and the SIP final response has not yet been sent to the inviting MCVideo client the controlling MCVideo function:\n1)\tshall generate a SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.3.2.3.2 before continuing with the rest of the steps;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\n3)\tthe received SIP INVITE request contains an emergency indication set to a value of \"true\":\na)\tshall cache the information that the MCVideo user has initiated an MCVideo emergency private call to the targeted user; and\nb)\tshall cache the information that the MCVideo user is in an in-progress emergency private call state with the targeted MCVideo user;\n4)\tif the received SIP INVITE request contains an alert indication set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\nNOTE 3:\tThis is the case when the MCVideo user's request for an MCVideo emergency private call was granted but the request for the MCVideo emergency alert was denied.\n5)\tshall interact with the media plane as specified in 3GPP TS 24.380 [79];\nNOTE 4:\tResulting media plane processing is completed before the next step is performed.\n6)\tshall send a SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [4]; and\n7)\tif not successful in cancelling or terminating SIP dialogs in step 6) above, may repeat the SIP CANCEL and SIP BYE requests.\nUpon receiving a SIP ACK to the SIP 200 (OK) response sent towards the inviting MCVideo client, where the SIP 200 (OK) response was sent with a Warning header field as specified in clause 4.4 with the warning text containing the mcvideo-warn-code set to \"149\", the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.18.\nThe controlling MCVideo function shall forward any other SIP response that does not contain SDP, including any MIME bodies contained therein, along the signalling path to the originating network according to 3GPP TS 24.229 [11].\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP re-INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\talert indication in an incoming SIP re-INVITE request refers to the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receiving a SIP re-INVITE request with an emergency indication set to a value of \"true\", the controlling MCVideo function:\n1)\tshall validate that the received SDP offer includes at least one media stream for which the media parameters and at least one codec or media format is acceptable by the controlling MCVideo function and if not, reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\n2)\tshall validate the request as described in clause 6.3.3.1.17;\n3)\tif the SIP re-INVITE request contains an unauthorised request for an MCVideo emergency private call as determined by clause 6.3.3.1.13.2:\na)\tshall reject the SIP INVITE request with a SIP 403 (Forbidden) response as specified in clause 6.3.3.1.14; and\nb)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n4)\tif a Resource-Priority header field is included in the received SIP re-INVITE request and if the Resource-Priority header field is set to the value indicated for emergency calls, shall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response and skip the remaining steps if neither of the following conditions are true:\na)\tthe SIP re-INVITE request does contains an authorised request for an MCVideo emergency call as determined in step 2 above; or\nb)\tthe originating MCVideo user is in an in-progress emergency private call state with the targeted MCVideo user;\n5)\tif the SIP re-INVITE request contains an emergency indication set to a value of \"true\" and the originating MCVideo user is not in an in-progress emergency private call state with the targeted MCVideo user:\na)\tshall cache the information that the MCVideo user is in an in-progress emergency private call state with the targeted MCVideo user; and\nb)\tif the SIP re-INVITE request contains an alert indication set to \"true\" and this is an authorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall cache the information that the MCVideo user has sent an MCVideo emergency alert to the targeted user; and\n6)\tshall send a SIP re-INVITE invite towards the MCVideo user listed in the \"uri\" attribute of an <entry> element in a <list> element in the <resource-lists> element in the application/resource-lists+xml MIME body of received SIP re-INVITE request as specified in clause 11.1.1.4.5.\nUpon receiving a SIP 200 (OK) response for the SIP re-INVITE request and if the SIP response has not yet been sent to the inviting MCVideo client, the controlling MCVideo function:\n1)\tshall generate a SIP 200 (OK) response to the SIP re-INVITE request as specified in the clause 6.3.3.2.3 before continuing with the rest of the steps;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP re-INVITE request containing the current media parameters used by the existing session;\n3)\tif the received SIP re-INVITE request contains an alert indication set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4.\nNOTE:\tWhen a SIP 200 (OK) response sent to the originator as a response to a SIP INVITE request that contained authorised request(s) for an MCVideo emergency private call and optionally an MCVideo emergency alert, the originator will consider a SIP 200 (OK) response populated in this manner as confirmation that its request(s) for an upgrade to an MCVideo emergency private call and optionally an MCVideo emergency alert were accepted by the controlling function.\n4)\tshall interact with the media plane as specified in 3GPP TS 24.380 [79]; and\n5)\tshall send the SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP ACK to the SIP 200 (OK) response sent towards the inviting MCVideo client, and the SIP 200 (OK) response was sent with the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.18:\nThe controlling MCVideo function shall forward any other SIP response that does not contain SDP, including any MIME bodies contained therein, along the signalling path to the originating network according to 3GPP TS 24.229 [11].\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP INVITE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\talert indication in an incoming SIP INVITE request refers to the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receiving a SIP re-INVITE request with an emergency indication set to a value of \"false\", the controlling MCVideo function:\n1)\tshall validate that the received SDP offer includes at least one media stream for which the media parameters and at least one codec or media format is acceptable by the controlling MCVideo function and if not, reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\n2)\tshall validate the request as described in clause 6.3.3.1.17;\n3)\tif the SIP re-INVITE request contains an unauthorised request for an MCVideo emergency private call cancellation as determined by clause 6.3.3.1.13.4:\na)\tshall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response;\nb)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with an <emergency-ind> element set to a value of \"true\";\nc)\tif the SIP re-INVITE request contains an alert indication set to \"false\" and this is an unauthorised request for an MCVideo emergency alert cancellation as specified in clause 6.3.3.1.13.3, shall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element set to \"true; and\nd)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n4)\tshall reject the SIP re-INVITE request with a SIP 403 (Forbidden) response if a Resource-Priority header field is included in the received SIP re-INVITE request set to the value configured for emergency calls, and skip the remaining steps; and\n5\tif the SIP re-INVITE request contains an authorised request for an MCVideo emergency private call cancellation as determined by clause 6.3.3.1.13.4:\na)\tshall clear the cache of the MCVideo ID of the originator of the MCVideo emergency private call that is no longer in an in-progress emergency private call state with the targeted MCVideo user; and\nb)\tif the SIP re-INVITE request contains an alert indication set to \"false\" and this is an authorised request for an MCVideo emergency alert cancellation meeting the conditions specified in clause 6.3.3.1.13.3:\ni)\tif the received SIP re-INVITE request contains an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall clear the cache of the MCVideo ID of MCVideo user identified by the <originated-by> element as having an outstandingMCVideo emergency alert; and\nii)\tif the received SIP re-INVITE request does not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, clear the cache of the MCVideo ID of the sender of the SIP re-INVITE request as having an outstanding MCVideo emergency alert;\n6)\tshall send a SIP re-INVITE request towards the MCVideo user listed in the \"uri\" attribute of an <entry> element in a <list> element in the <resource-lists> element in the application/resource-lists+xml MIME body of received SIP re-INVITE request as specified in clause 11.1.1.4.6.\nUpon receiving a SIP 200 (OK) response for the SIP re-INVITE request and if the SIP response has not yet been sent to the inviting MCVideo client, the controlling MCVideo function:\n1)\tshall generate a SIP 200 (OK) response to the SIP re-INVITE request as specified in the clause 6.3.3.2.3 before continuing with the rest of the steps;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP re-INVITE request as specified in the clause 6.3.3.2.2;\n3)\tif the received SIP re-INVITE request contains an alert indication set to a value of \"false\" and this is an unauthorised request for an MCVideo emergency alert cancellation as specified in clause 6.3.3.1.13.3, shall include in the SIP 200 (OK) response the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4;\nNOTE:\tWhen a SIP 200 (OK) response sent to the originator as a response to a SIP INVITE request that contained authorised request(s) for an MCVideo emergency private call cancellation and optionally an MCVideo emergency alert cancellation, the originator will consider a SIP 200 (OK) response populated in this manner as confirmation that its request(s) for cancellation of an MCVideo emergency private call and optionally an MCVideo emergency alert were accepted by the controlling function.\n4)\tshall interact with the media plane as specified in 3GPP TS 24.380 [79]; and\n5)\tshall send the SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP ACK to the SIP 200 (OK) response sent towards the inviting MCVideo client, and the SIP 200 (OK) response was sent with the warning text set to \"149 SIP INFO request pending\" in a Warning header field as specified in clause 4.4, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.18.\nThe controlling MCVideo function shall forward any other SIP response that does not contain SDP, including any MIME bodies contained therein, along the signalling path to the originating network according to 3GPP TS 24.229 [11].\nThis clause describes the procedures for sending a re-INVITE request to an MCVideo user in an MCVideo private call for the purpose of upgrading the session to an emergency private call session. The procedure is initiated by the controlling MCVideo function as the result of an action in clause 11.1.1.4.3.\nThe controlling MCVideo function:\n1)\tshall generate a SIP re-INVITE request as specified in clause 6.3.3.1.9;\n2)\tif the received SIP re-INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body to the outgoing re-INVITE request;\n3)\tif the received SIP re-INVITE request contains an authorised request for an MCVideo emergency private call as determined by clause 6.3.3.1.13.2:\na)\tshall set the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\";\nb)\tif the received SIP INVITE request contains an alert indication set to a value of \"true\" and this is an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, perform the procedures specified in clause 6.3.3.1.12; and\nc)\tif the received SIP INVITE request did not contain an alert indication or contains an alert indication set to a value of \"true\" and is not an authorised request for an MCVideo emergency alert meeting the conditions specified in clause 6.3.3.1.13.1, shall set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\";\n4)\tshall include a Resource-Priority header field populated with the values for an MCVideo emergency private call as specified in clause 6.3.3.1.19, if the received SIP re-INVITE request contains an authorised request for an MCVideo emergency private call as determined in step 2 above; and\n5)\tshall send the SIP re-INVITE request towards the core network according to 3GPP TS 24.229 [11].\nUpon receiving SIP 200 (OK) response for the SIP re-INVITE request the controlling MCVideo function:\n1)\tshall cache the contact received in the Contact header field.\nThis clause describes the procedures for sending a re-INVITE request to an MCVideo user in an MCVideo emergency private call for the purpose of downgrading the session to a normal priority private call session. The procedure is initiated by the controlling MCVideo function as the result of an action in clause 11.1.1.4.4.\nThe controlling MCVideo function:\n1)\tshall generate a SIP re-INVITE request as specified in clause 6.3.3.1.9;\n2)\tif the received SIP re-INVITE request contained an application/vnd.3gpp.mcvideo-info+xml MIME body, shall copy the application/vnd.3gpp.mcvideo-info+xml MIME body to the outgoing re-INVITE request.\n3)\tif the received SIP re-INVITE request contains an authorised request for an MCVideo emergency private call cancellation as determined by clause 6.3.3.1.13.4:\na)\tshall set the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\";\nb)\tif the received SIP INVITE request contains an alert indication set to a value of \"false\" and this is an authorised request for an MCVideo emergency alert cancellation meeting the conditions specified in clause 6.3.3.1.13.3:\ni)\tshall set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"false\"; and\nii)\tif the received SIP request contains an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, copy the contents of the received <originated-by> element to an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP re-INVITE request;\nc)\tif the received SIP INVITE request contains an alert indication set to a value of \"false\" and is not an authorised request for an MCVideo emergency alert cancellation meeting the conditions specified in clause 6.3.3.1.13.3, shall set the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body to a value of \"true\";\n4)\tshall include a Resource-Priority header field populated with the values for a normal MCVideo private call as specified in clause 6.3.3.1.19, if the received SIP re-INVITE request contains an authorised request for an MCVideo emergency private call cancellation as determined in step 3 above; and\n5)\tshall send the SIP re-INVITE request towards the core network according to 3GPP TS 24.229 [11].\nUpon receiving SIP 200 (OK) response for the SIP re-INVITE request the controlling MCVideo function:\n1)\tshall cache the contact received in the Contact header field.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "10.2.3\tPrivate call without transmission control",
                            "text_content": "When the MCVideo user wants to make an on-demand private call without transmission control or first-to-answer call without transmission control, the MCVideo client shall follow the procedures in clause 10.2.2.1.1 with the following exceptions:\n1)\tin step 8) of clause 10.2.2.1.1, the MCVideo client shall not offer a media-level section for a media-transmission control entity; and\n2)\tstep 9) of clause 10.2.2.1.1 shall be ignored.\nUpon receipt of an initial SIP INVITE request for the private call an SDP offer not including a media-level section for a media-transmission control entity, the MCVideo client shall consider it as the request for private call without transmission control and shall follow the procedures as specified in clause 10.2.2.1.2 for on-demand session.\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" or \"SIP REFER request for a pre-established session\" for the private call or first-to-answer call with SDP offer not including media-level section for media-transmission control entity, the participating MCVideo function shall consider it as the request for the private call without transmission control or first-to-answer call without transmission control and shall follow the procedures as specified in clause 10.2.2.4.1.1 for an on-demand session and shall follow the procedures as specified in clause 10.2.2.4.1.2 for initiation using a pre-established session.\nUpon receipt of a \"SIP INVITE request for terminating participating MCVideo function\" for the private call or first-to-answer call with SDP offer not including media-level section for media-transmission control entity, the participating MCVideo shall consider it as the request for the private call without transmission control or first-to-answer call without transmission control and shall follow the procedures as specified in clause 10.2.2.4.2.\nThe controlling MCVideo function shall follow the procedures as specified in clause 10.2.2.4.\nUpon receiving of a \"SIP INVITE request for controlling MCVideo function of a private call\" or a \"SIP INVITE request for controlling MCVideo function of a first-to-answer call\", with SDP offer not including media-level section for media-transmission control entity, the controlling MCVideo function shall consider it as the request for the private call without transmission control or first-to-answer call without transmission control, and shall follow the procedures as specified in clause 10.2.2.4.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "10.2.4\tEnding the private call initiated by MCVideo client",
                            "text_content": "Upon receiving a request from an MCVideo user to release an MCVideo private call session established using on-demand session signalling, the MCVideo client shall follow the procedures as specified in clause 6.2.5.1.\nUpon receiving a SIP BYE request for private call session, the MCVideo client shall follow the procedures as specified in clause 6.2.6.\nUpon receiving from the MCVideo client a SIP BYE request the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.1.6.\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.2.8.1.\nUpon receiving a SIP BYE request the controlling MCVideo function shall follow the procedures as specified in clause 6.3.3.2.4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "10.2.5\tEnding the private call initiated by the MCVideo server",
                            "text_content": "This clause describes the procedures of each functional entity for ending the private call initiated by the MCVideo server.\nNOTE:\tFor private call without transmission control, ending the private call is initiated only by the MCVideo client.\nUpon receiving a SIP BYE request for private call session, the MCVideo client shall follow the procedures as specified in clause 6.2.6.\nWhen the MCVideo session for private call needs to be released as specified in clause 6.3.8.2, the participating MCVideo function shall follow the procedures in clause 6.3.3.1.5.\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.2.8.1.\nWhen the MCVideo session for private call needs to be released as specified in clause 6.3.8.2, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.5.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "10.3\tOff-network private call",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "10.3.1\tGeneral",
                            "text_content": "In order to participate in a private call, the MCVideo client:\n1)\tshall send the MONP MCVideo message transported in a MONP MCVIDEO MESSAGE CARRIER message, specified in 3GPP TS 24.379 [40 ],  as a UDP message to the local IP address of the MCVideo user, on UDP port 8809 (as specified in 3GPP TS 24.379 [40]), with an IP time-to-live set to 255; and\n2)\tshall treat UDP messages received on the port 8809 as received MONP messages.\nNOTE:\tAn MCVideo client that supports IPv6 shall listen to the IPv6 addresses.\nOne off-network MCVideo session includes one media-transmission control entity.\nThe MCVideo client shall generate an SDP body for a private call in accordance with rules and procedures of IETF RFC 4566 [2] and IETF RFC 3264 [7].\nThe MCVideo client:\n1)\tshall include in the session-level section:\na)\tthe \"o=\" field with the <username> portion set to a dash;\nb)\tthe \"s=\" field with the <session name> portion set to a dash; and\nc)\tthe \"c=\" field with the <nettype> portion set to \"IN\", the <addrtype> portion set to the IP version of the unicast IP address of the MCVideo client and the <connection-address> portion set to the unicast IP address of the MCVideo client;\n2)\tshall include the media-level section for audio component of MCVideo consisting of:\na)\tthe \"m=\" field with the <media> portion set to \"audio\", the <port> portion set to a port number for MCVideo group, the <proto> field set to \"RTP/AVP\" and <fmt> portion set indicating RTP payload type numbers;\nb)\tthe \"i=\" field with the <session description> portion set to \"audio component of MCVideo\";\nc)\tthe \"a=fmtp:\" attribute(s), the \"a=rtpmap:\" attribute(s) or both, indicating the codec(s) and media parameters of the audio component of MCVideo;\nd)\tthe \"a=rtcp:\" attribute indicating port number to be used for RTCP at the MCVideo client selected according to the rules and procedures of IETF RFC 3605 [3], if the media stream uses other than the default IP address;\ne)\tif the SDP offer is for video pull call:\ni)\tshall include an \"a=recvonly\" attribute;\n3)\tshall include the media-level section for video component of MCVideo consisting of:\na)\tthe \"m=\" field with the <media> portion set to \"video\", the <port> portion set to a port number for MCVideo video of the MCVideo group, the <proto> field set to \"RTP/AVP\" and <fmt> portion set indicating RTP payload type numbers;\nb)\tthe \"i=\" field with the <session description> portion set to \"video\";\nc)\tthe \"a=fmtp:\" attribute(s), the \"a=rtpmap:\" attribute(s) or both, indicating the codec(s) and media parameters of the video component of MCVideo;\nd)\tthe \"a=rtcp:\" attribute indicating port number to be used for RTCP at the MCVideo client selected according to the rules and procedures of IETF RFC 3605 [3], if the media stream uses other than the default IP address; and\ne)\tif the SDP offer is for video pull call:\ni)\tshall include an \"a=recvonly\" attribute; and\nii)\tshall skip step 4).\n4)\tshall include the media-level section for media-transmission control entity consisting of:\na)\tan \"m=\" line, with the <media> portion set to \"application\", the <port> portion set to a port number for media-transmission control entity of the MCVideo group, the <proto> field set to \"udp\" and <fmt> portion set to \"MCVideo\"; and\nb)\tthe \"a=fmtp:MCVideo\" attribute indicating the parameters of the media-transmission control entity as specified 3GPP TS 24.581 [5]; and\n5)\tshall include the MIKEY-SAKKE I_MESSAGE, if generated by the MCVideo client, in an \"a=key-mgmt\" attribute as a \"mikey\" attribute value in the SDP offer as specified in IETF RFC 4567 [6].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "10.3.2\tBasic call control",
                            "text_content": "The maximum number of simultaneous off-network private calls is limited by the value of \"/<x>/Common/PrivateCall/MaxCallNc10\" leaf node present in the UE configuration as specified in 3GPP TS 24.483 [4].\nThe figure 10.3.2.2-1 gives an overview of the main states and transitions on the UE for private call control.\nEach private call control state machine is per MCVideo user ID.\nThe figure depicts a private call control state machine, which is a crucial component in a telecommunication network. It illustrates the flow of calls from the originating user to the destination, including the initiation of a call, the routing of the call to the appropriate network, and the completion of the call. The figure is a visual representation of the complex network of calls and their control mechanisms, providing a clear understanding of how calls are managed and routed in a telecommunication system.\nFigure 10.3.2.2-1: Private call control state machine\nIn this state, no private call control entity exists.\nThis state exists for UE, when the UE is not part of an ongoing private call.\nThis state exists for UE, when the UE has sent a PRIVATE CALL SETUP REQUEST message and is waiting for a response, PRIVATE CALL ACCEPT or PRIVATE CALL REJECT message.\nThis state exists for UE, when the UE has sent a PRIVATE CALL RELEASE message and is waiting for a PRIVATE CALL RELEASE ACK message.\nThis state exists for UE, when the UE is part of an ongoing private call.\nThis state exists for UE, when the UE has presented a notification to the user for the received PRIVATE CALL SETUP REQUEST message and is waiting for a user indication.\nWhen in the \"P0: start-stop\" state or \"P1: ignoring same call id\", upon an indication from MCVideo User to initiate a private call and the value of \"/<x>/<x>/Common/PrivateCall/Authorised\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\", the MCVideo client:\n1)\tshall generate and store the call identifier as a random number uniformly distributed between (0, 65536);\n2)\tshall store own MCVideo user ID as caller ID;\n3)\tshall store MCVideo user ID of the callee as callee ID;\n4)\tshall store \"AUTOMATIC COMMENCEMENT MODE\" as commencement mode, if requested and the value of \"/<x>/<x>/Common/PrivateCall/AutoCommence\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\". Otherwise, if the value of \"/<x>/<x>/Common/PrivateCall/ManualCommence\" leaf node present in the user profile, as specified in 3GPP TS 24.483 [4] is set to \"true\", store \"MANUAL COMMENCEMENT MODE\" as commencement mode;\n5)\tshall store \"PRIVATE CALL\" as the current call type;;\n6)\tif an end-to-end security context needs to be established then:\na)\tshall use keying material provided by the key management server to generate a PCK as described in 3GPP TS 33.180 [8];\nb)\tshall use the PCK to generate a PCK-ID with the four most significant bits set to \"0001\" to indicate that the purpose of the PCK is to protect private call communications and with the remaining twenty-eight bits being randomly generated as described in 3GPP TS 33.180 [8];\nc)\tshall encrypt the PCK to a UID associated to the MCVideo client using the MCVideo ID of the invited user and a time related parameter as described in 3GPP TS 33.180 [8];\nd)\tshall generate a MIKEY-SAKKE I_MESSAGE using the encapsulated PCK and PCK-ID as specified in 3GPP TS 33.180 [8];\ne)\tshall add the MCVideo ID of the originating MCVideo to the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8];\nf)\tshall sign the MIKEY-SAKKE I_MESSAGE using the originating MCVideo user's signing key provided in the keying material together with a time related parameter, and add this to the MIKEY-SAKKE payload, as described in 3GPP TS 33.180 [8] and;\ng)\tshall store the MIKEY-SAKKE I_MESSAGE for later inclusion in an SDP body;\n7)\tmay store current user location as user location;\n8)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network private call as described in 3GPP TS 24.483 [4].\n9)\tshall generate and store offer SDP, as defined in clause 10.3.1.1.2;\n10)\tshall generate a PRIVATE CALL SETUP REQUEST message as specified in clause 17.1.5. In the PRIVATE CALL SETUP REQUEST message, the MCVideo client:\na)\tshall set the Call identifier IE with the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID;\nd)\tshall set the Commencement mode IE with the stored commencement mode;\ne)\tshall set the Call type IE with the stored current call type;\nf)\tshall set the SDP offer IE with the stored offer SDP; and\ng)\tmay set the User location IE with the stored user location.\n11)\tshall send the PRIVATE CALL SETUP REQUEST message towards other MCVideo client according to rules and procedures as specified in clause 10.3.1.1.1;\n12)\tshall initialize the counter CFP1 (private call request retransmission) with the value set to 1;\n13)\tshall start timer TFP1 (private call request retransmission); and\n14)\tshall enter the \"P2: waiting for call response\" state.\nWhen in the \"P2: waiting for call response\" state, upon expiry of timer TFP1 (private call request retransmission), the MCVideo client:\n1)\tmay update the stored user location with current user location;\n2)\tshall increment the value of counter CFP1 (private call request retransmission) by 1;\n3)\tshall generate a PRIVATE CALL SETUP REQUEST message as specified in clause 17.1.5. In the PRIVATE CALL SETUP REQUEST message, the MCVideo client:\na)\tshall set the Call identifier IE with the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID;\nd)\tshall set the Commencement mode IE with the stored commencement mode;\ne)\tshall set the Call type IE with the stored current call type;\nf)\tshall set the SDP offer IE with the stored offer SDP; and\ng)\tmay set the User location IE with stored user location.\n4)\tshall send the PRIVATE CALL SETUP REQUEST message towards other MCVideo client according to rules and procedures as specified in clause 10.3.1.1.1;\n5)\tshall start timer TFP1 (private call request retransmission); and\n6)\tshall remain in the \"P2: waiting for call response\" state.\nWhen in the \"P2: waiting for call response\" state, upon receiving a PRIVATE CALL RINGING message, the MCVideo client:\n1)\tshall remain in the \"P2: waiting for call response\" state.\nIn the \"P2: waiting for call response\" state, when timer TFP1 (private call request retransmission) expires and the value of the counter CFP1 (private call request retransmission) is equal to the upper limit and the stored commencement mode is \"AUTOMATIC COMMENCEMENT MODE\", the MCVideo client:\n1)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n2)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P2: waiting for call response\" state when timer TFP1 (private call request retransmission) expires and the value of the counter CFP1 (private call request retransmission) is equal to the upper limit and the stored commencement mode is \"MANUAL COMMENCEMENT MODE\", the MCVideo client:\n1)\tshall start timer TFP2 (waiting for call response message); and\n2)\tshall remain in the \"P2: waiting for call response\" state.\nWhen in the \"P2: waiting for call response\" state, upon expiry of timer TFP2 (waiting for call response message), the MCVideo client:\n1)\tshall start timer TFP7 (waiting for any message with same call identifier);\n2)\tshall release the call control state machine; and\n3)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P2: waiting for call response\" state, upon receiving a PRIVATE CALL REJECT message in response to PRIVATE CALL SETUP REQUEST message with Call identifier IE same as the stored call identifier, the MCVideo client:\n1)\tshall stop timer TFP1 (call setup retransmission), if running;\n2)\tshall stop timer TFP2 (waiting for call response message), if running;\n3)\tshall start timer TFP7 (waiting for any message with same call identifier);\n4)\tshall release the call control state machine; and\n5)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P2: waiting for call response\" state, upon receiving a PRIVATE CALL ACCEPT message response to PRIVATE CALL SETUP REQUEST message with the same call identifier, the MCVideo client:\n1)\tshall store the SDP answer IE received in the PRIVATE CALL ACCEPT message as answer SDP;\n2)\tshall generate a PRIVATE CALL ACCEPT ACK message as specified in clause 17.1.11:\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID; and\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID.\n3)\tshall send the PRIVATE CALL ACCEPT ACK message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n4)\tshall stop timer TFP1 (call setup retransmission), if running;\n5)\tshall stop timer TFP2 (waiting for call response message), if running;\n6)\tshall establish a media session based on the SDP body of the stored answer SDP;\n7)\tshall start transmission control as terminating transmission participant as specified in clause a.b in 3GPP TS 24.581 [5];\n8)\tshall start timer TFP5 (max duration); and\n9)\tshall enter the \"P4: part of ongoing call\" state.\nWhen in the \"P2: waiting for call response\" state, upon an indication from MCVideo User to cancel the private call request, the MCVideo client:\n1)\tshall generate a PRIVATE CALL RELEASE message as specified in clause 17.1.9;\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID; and\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID;\n2)\tshall send the PRIVATE CALL RELEASE message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall start timer TFP3 (private call release retransmission); and\n4)\tshall enter the \"P3: waiting for release response\" state.\nWhen in the \"P0: start-stop\" or \"P1: ignoring same call id\" state, upon receiving a PRIVATE CALL SETUP REQUEST message with Call identifier IE different than stored call identifier and media session declared in SDP body of PRIVATE CALL SETUP REQUEST message cannot be established, the MCVideo client:\n1)\tshall store the Call identifier IE in the received message as call identifier;\n2)\tshall store the MCVideo user ID of the caller IE in the received PRIVATE CALL SETUP message as caller ID;\n3)\tshall store own MCVideo user ID as callee ID;\n4)\tshall generate a PRIVATE CALL REJECT message as specified in clause 17.1.8. In the PRIVATE CALL REJECT message, the MCVideo client:\na)\tshall set the Call identifier IE to the cached call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\nc)\tshall set the MCVideo user ID of the callee IE with stored callee ID; and\nd)\tshall set the Reason IE as \"FAILED\", if requested to restrict notification of call failure and the value of \"/<x>/<x>/Common/PrivateCall/FailRestrict\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\". Otherwise, shall set the Reason IE as \"MEDIA FAILURE\".\n5)\tshall send the PRIVATE CALL REJECT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n6)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n7)\tshall enter the \"P1: ignoring same call id\" state if current state is the \"P0: start-stop\" state.\nWhen in the \"P0: start-stop\" or \"P1: ignoring same call id\" state, upon receiving a PRIVATE CALL SETUP REQUEST message with Commencement mode IE set to \"AUTOMATIC COMMENCEMENT MODE\" and Call identifier IE different than stored call identifier and media session declared in SDP body of PRIVATE CALL SETUP REQUEST message can be established, the MCVideo client:\n1)\tshall store the Call identifier IE in the received message as call identifier;\n2)\tshall set the stored current call type to \"PRIVATE CALL\";\n3)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network private call as described in 3GPP TS 24.483 [4].\n4)\tshall store the MCVideo user ID of the caller IE in the received PRIVATE CALL SETUP REQUEST message as caller ID;\n5)\tshall store own MCVideo user ID as callee ID;\n6)\tif the SDP offer contains an \"a=key-mgmt\" attribute field with a \"mikey\" attribute value containing a MIKEY-SAKKE I_MESSAGE:\na)\tshall extract the MCVideo ID of the originating MCVideo user from the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8];\nb)\tshall convert the MCVideo ID to a UID as described in 3GPP TS 33.180 [8];\nc)\tshall use the UID to validate the signature of the MIKEY-SAKKE I_MESSAGE as described in 3GPP TS 33.180 [8];\nd)\tif the validation of the signature failed, shall generate a PRIVATE CALL REJECT message as specified in clause 17.1.8. In the PRIVATE CALL REJECT message, the MCVideo client:\ni)\tshall set the call identifier IE to the stored call identifier;\nii)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\niii)\tshall set the MCVideo user ID of the callee IE with the stored callee ID;\niv)\tshall set the Reason IE as \"FAILED\", if requested to restrict notification of call failure and the value of \"/<x>/<x>/Common/PrivateCall/FailRestrict\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\". Otherwise, shall set the reason IE as \"E2E SECURITY CONTEXT FAILURE\";\nv)\tshall send the PRIVATE CALL REJECT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1; and\nvi)\tshall remain in the current state;\ne)\tif the validation of the signature was successful:\ni)\tshall extract and decrypt the encapsulated PCK using the terminating user's (KMS provisioned) UID key as described in 3GPP TS 33.180 [8];\nii)\tshall extract the PCK-ID, from the payload as specified in 3GPP TS 33.180 [8];\niii)\tshall generate and store answer SDP based on received SDP offer IE in PRIVATE CALL SETUP REQUEST message, as defined in clause 10.3.1.1.2;\niv)\tshall generate a PRIVATE CALL ACCEPT message as specified in clause 17.1.7. In the PRIVATE CALL ACCEPT message, the MCVideo client:\nA)\tshall set the Call identifier IE to the stored call identifier; and\nB)\tshall set the MCVideo user ID of the caller IE with stored caller ID.\nC)\tshall set the MCVideo user ID of the callee IE with stored callee ID; and\nD)\tshall set the SDP answer IE with the stored answer SDP;\nv)\tshall send PRIVATE CALL ACCEPT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\nvi)\tshall establish a media session based on the SDP body of the stored answer SDP;\nvii)\tshall initialize the counter CFP4 with value set to 1;\nviii)\tshall start timer TFP4 (private call accept retransmission); and\nix)\tshall enter the \"P5: pending\" state; and\nNOTE:\tWith the PCK successfully shared between the originating MCVideo client and the terminating MCVideo client, both clients are able to use SRTP/SRTCP to create an end-to-end secure session.\n7)\tif the SDP offer does not contain an \"a=key-mgmt\" attribute, the MCVideo client:\na)\tshall generate and store answer SDP based on received SDP offer IE in PRIVATE CALL SETUP REQUEST message, as defined in clause 10.3.1.1.2;\nb)\tshall generate a PRIVATE CALL ACCEPT message as specified in clause 17.1.7:\ni)\tshall set the Call identifier IE to the stored call identifier;\nii)\tshall set the MCVideo user ID of the caller IE with stored caller ID.\niii)\tshall set the MCVideo user ID of the callee IE with stored callee ID; and\niv)\tshall set the SDP answer IE with the stored answer SDP;\nc)\tshall send PRIVATE CALL ACCEPT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\nd)\tshall establish a media session based on the SDP body of the stored answer SDP;\ne)\tshall initialize the counter CFP4 with value set to 1;\nf)\tshall start timer TFP4 (private call accept retransmission); and\ng)\tshall enter the \"P5: pending\" state.\nWhen in the \"P5: pending\" state, upon expiry of timer TFP4 (private call accept retransmission), the MCVideo client:\n1)\tshall generate a PRIVATE CALL ACCEPT message as specified in clause 17.1.7. In the PRIVATE CALL ACCEPT message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID; and\nd)\tshall set the SDP answer IE with the stored answer SDP;\n2)\tshall send PRIVATE CALL ACCEPT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall increment the value of the counter CFP4 (private call accept retransmission) by 1;\n4)\tshall start timer TFP4 (private call accept retransmission); and\n5)\tshall remain in the \"P5: pending\" state.\nWhen in the \"P5: pending\" state, upon receiving a PRIVATE CALL ACCEPT ACK message or RTP media from originating user, the MCVideo client:\n1)\tshall stop timer TFP4 (private call accept retransmission);\n2)\tshall start transmission control as terminating MCVideo client as specified in clause a.b in 3GPP TS 24.581 [5];\n3)\tshall start timer TFP5 (max duration); and\n4)\tshall enter the \"P4: part of ongoing call\" state.\nIn the \"P5: pending\" state, when timer TFP4 (private call accept retransmission) expires and the value of the counter CFP4 (private call accept retransmission) is equal to the upper limit, the MCVideo client:\n1)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n2)\tshall enter the \"P1: ignoring same call id\" state.\n\nWhen in the \"P0: start-stop\" or \"P1: ignoring same call id\" state, upon receiving a PRIVATE CALL SETUP REQUEST message with Commencement mode IE set to \"MANUAL COMMENCEMENT MODE\" and Call identifier IE different from stored call identifier, the MCVideo client:\n1)\tshall store the Call identifier IE in the received message as call identifier;\n2)\tshall set the stored current call type to \"PRIVATE CALL\";\n3)\tshall set the stored current ProSe per-packet priority to value corresponding to MCVideo off-network private call as described in 3GPP TS 24.483 [4].\n4)\tshall store the MCVideo user ID of the caller IE as received in the PRIVATE CALL SETUP REQUEST as caller ID;\n5)\tshall store own MCVideo user ID as callee ID;\n6)\tshall generate a PRIVATE CALL RINGING message as specified in clause 17.1.6;\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID; and\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID;\n7)\tshall send PRIVATE CALL RINGING message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n8)\tshall start timer TFP2 (waiting for call response message); and\n9)\tshall enter the \"P5: pending\" state.\nWhen in the \"P5: pending\" state, upon expiry of timer TFP2 (waiting for call response message), the MCVideo client:\n1)\tshall generate a PRIVATE CALL REJECT message as specified in clause 17.1.8:\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID; and\nd)\tshall set the Reason IE as \"FAILED\".\n2)\tshall send the PRIVATE CALL REJECT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n4)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P5: pending\" state, upon an indication from MCVideo User to accept the incoming private call, the MCVideo client:\n1)\tif the SDP offer contains an \"a=key-mgmt\" attribute field with a \"mikey\" attribute value containing a MIKEY-SAKKE I_MESSAGE:\na)\tshall extract the MCVideo ID of the originating MCVideo user from the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8];\nb)\tshall convert the MCVideo ID to a UID as described in 3GPP TS 33.180 [8];\nc)\tshall use the UID to validate the signature of the MIKEY-SAKKE I_MESSAGE as described in 3GPP TS 33.180 [8];\nd)\tif the validation of the signature failed, shall generate a PRIVATE CALL REJECT message as specified in clause 17.1.8. In the PRIVATE CALL REJECT message, the MCVideo client:\ni)\tshall set the call identifier IE to the stored call identifier;\nii)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\niii)\tshall set the MCVideo user ID of the callee IE with the stored callee ID;\niv)\tshall set the Reason IE as \"FAILED\", if requested to restrict notification of call failure and the value of \"/<x>/<x>/Common/PrivateCall/FailRestrict\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\". Otherwise, shall set the reason IE as \"E2E SECURITY CONTEXT FAILURE\";\nv)\tshall send the PRIVATE CALL REJECT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1; and\nvi)\tshall enter the \"P1: ignoring same call id\" state;\ne)\tif the validation of the signature was successful:\ni)\tshall extract and decrypt the encapsulated PCK using the terminating user's (KMS provisioned) UID key as described in 3GPP TS 33.180 [8];\nii)\tshall extract the PCK-ID, from the payload as specified in 3GPP TS 33.180 [8];\niii)\tshall generate and store answer SDP based on received SDP offer IE in PRIVATE CALL SETUP REQUEST message, as defined in clause 10.3.1.1.2;\niv)\tshall generate a PRIVATE CALL ACCEPT message as specified in clause 17.1.7. In the PRIVATE CALL ACCEPT message, the MCVideo client:\nA)\tshall set the Call identifier IE to the stored call identifier;\nB)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\nC)\tshall set the MCVideo user ID of the callee IE with the stored callee ID; and\nD)\tshall set the SDP answer IE with the stored answer SDP;\nv)\tshall send the PRIVATE CALL ACCEPT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\nvi)\tshall establish a media session based on the SDP body of the private call;\nvii)\tshall stop timer TFP2 (waiting for call response message);\nviii)\tshall initialize the counter CFP4 with value set to 1;\nix)\tshall start timer TFP4 (private call accept retransmission); and\nx)\tshall remain in the \"P5: pending\" state; and\nNOTE:\tWith the PCK successfully shared between the originating MCVideo client and the terminating MCVideo client, both clients are able to use SRTP/SRTCP to create an end-to-end secure session.\n2)\tif the SDP offer does not contain an \"a=key-mgmt\" attribute, the MCVideo client:\na)\tshall generate and store answer SDP based on received SDP offer IE in PRIVATE CALL SETUP REQUEST message, as defined in clause 10.3.1.1.2;\nb)\tshall generate a PRIVATE CALL ACCEPT message as specified in clause 17.1.7. In the PRIVATE CALL ACCEPT message, the MCVideo client:\ni)\tshall set the Call identifier IE to the stored call identifier;\nii)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\niii)\tshall set the MCVideo user ID of the callee IE with the stored callee ID; and\niv)\tshall set the SDP answer IE with the stored answer SDP;\nc)\tshall send the PRIVATE CALL ACCEPT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\nd)\tshall establish a media session based on the SDP body of the private call;\ne)\tshall stop timer TFP2 (waiting for call response message);\nf)\tshall initialize the counter CFP4 with value set to 1;\ng)\tshall start timer TFP4 (private call accept retransmission); and\nh)\tshall remain in the \"P5: pending\" state.\nWhen in the \"P5: pending\" state, upon expiry of timer TFP4 (private call accept retransmission), the MCVideo client:\n1)\tshall generate a PRIVATE CALL ACCEPT message as specified in clause 17.1.7. In the PRIVATE CALL ACCEPT message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE the stored caller ID;\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID; and\nd)\tshall set the SDP answer IE with the stored answer SDP;\n2)\tshall send PRIVATE CALL ACCEPT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall increment the value of the (counter CFP4 private call accept retransmission) by 1;\n4)\tshall start timer TFP4 (private call accept retransmission); and\n5)\tshall remain in the \"P5: pending\" state.\nWhen in the \"P5: pending\" state, upon receiving a PRIVATE CALL ACCEPT ACK message or RTP media from originating user, the MCVideo client:\n1)\tshall stop timer TFP4 (private call accept retransmission);\n2)\tshall start transmission control as terminating MCVideo client as specified in clause a.b in 3GPP TS 24.581 [5];\n3)\tshall start timer TFP5 (max duration); and\n4)\tshall enter the \"P4: part of ongoing call\" state.\nIn the \"P5: pending\" state, when timer TFP4 (private call accept retransmission) expires and the value of the counter CFP4 (private call accept retransmission) is equal to the upper limit, the MCVideo client:\n1)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n2)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P5: pending\" state, upon an indication from MCVideo User to reject the incoming private call, the MCVideo client:\n1)\tshall generate a PRIVATE CALL REJECT message as specified in clause 17.1.8:\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID;\nc)\tshall set the MCVideo user ID of the callee IE with stored callee ID; and\nd)\tshall set the Reason IE as \"FAILED\", if requested to restrict notification of call failure and the value of \"/<x>/<x>/Common/PrivateCall/FailRestrict\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\". Otherwise, shall set the Reason IE as \"REJECT\";\n2)\tshall send the PRIVATE CALL REJECT message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n4)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P5: pending\" state or \"P1: ignoring same call id\" state, upon receiving a PRIVATE CALL RELEASE message, the MCVideo client:\n1)\tshall generate a PRIVATE CALL RELEASE ACK message as specified in clause 17.1.10. In the PRIVATE CALL RELEASE ACK message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with the stored caller ID; and.\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID.\n2)\tshall send the PRIVATE CALL RELEASE ACK message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall start timer TFP7 (waiting for any message with same call identifier);\n4)\tshall stop timer TFP4 (private call accept retransmission) if running; and\n5)\tshall enter the \"P1: ignoring same call id\" state, if the current state is \"P5: pending\" state.\nWhen in the \"P4: part of ongoing call\" state, upon an indication from MCVideo User to release a private call, the MCVideo client:\n1)\tshall generate a PRIVATE CALL RELEASE message as specified in clause 17.1.9. In the PRIVATE CALL RELEASE message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with stored caller ID; and\nc)\tshall set the MCVideo user ID of the callee IE with stored callee ID.\n2)\tshall send the PRIVATE CALL RELEASE message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall initialize the counter CFP3 (private call release retransmission) with the value set to 1;\n4)\tshall start timer TFP3 (private call release retransmission); and\n5)\tshall enter the \"P3: waiting for release response\" state.\nWhen in the \"P3: waiting for release response\" state, upon expiry of timer TFP3 (private call release retransmission), the MCVideo client:\n1)\tshall generate a PRIVATE CALL RELEASE message as specified in clause 17.1.9. In the PRIVATE CALL RELEASE message, the MCVideo client:\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE with stored caller ID; and\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID.\n2)\tshall send the PRIVATE CALL RELEASE message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall increment the value of timer CFP3 by 1;\n4)\tshall start timer TFP3 (private call release retransmission); and\n5)\tshall remain in the \"P3: waiting for release response\" state.\nIn the \"P3: waiting for release response\" state, when timer TFP3 (private call request retransmission) expires and the value of the counter CFP3 (private call release retransmission) is equal to the upper limit, the MCVideo client:\n1)\tshall terminate the media session;\n2)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n3)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P4: part of ongoing call\" state, upon receiving a PRIVATE CALL RELEASE message, the MCVideo client:\n1)\tshall generate a PRIVATE CALL RELEASE ACK message as specified in clause 17.1.10;\na)\tshall set the Call identifier IE to the stored call identifier;\nb)\tshall set the MCVideo user ID of the caller IE the stored caller ID; and\nc)\tshall set the MCVideo user ID of the callee IE with the stored callee ID.\n2)\tshall send the PRIVATE CALL RELEASE ACK message in response to the request message according to rules and procedures as specified in clause 10.3.1.1.1;\n3)\tshall terminate the media session for private call;\n4)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n5)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P3: waiting for release response\" state, upon receiving a PRIVATE CALL RELEASE ACK to PRIVATE CALL RELEASE message, the MCVideo client:\n1)\tshall stop timer TFP3 (private call release retransmission), if running;\n2)\tshall terminate the media session;\n3)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n4)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P4: part of ongoing call\" state, upon expiry of timer TFP5 (max duration), the MCVideo client:\n1)\tshall terminate the media session;\n2)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n3)\tshall enter the \"P1: ignoring same call id\" state.\nWhen in the \"P1: ignoring same call id\" state, upon expiry of timer TFP7 (waiting for any message with same call identifier) the MCVideo client:\n1)\tshall clear the stored call identifier; and\n2)\tshall enter the \"P0: start-stop\" state.\nIn the \"P4: part of ongoing call\" state, when timer TFP1 (private call request retransmission) expires and the value of the counter CFP1 (private call request retransmission) is equal to the upper limit, the MCVideo client:\n1)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n2)\tshall enter the \"P1: ignoring same call id\" state.\nIn the \"P4: part of ongoing call\" state, when timer TFP6 (emergency private call cancel retransmission) expires and the value of the counter CFP6 (emergency private call cancel retransmission) is equal to the upper limit, the MCVideo client:\n1)\tshall start timer TFP7 (waiting for any message with same call identifier); and\n2)\tshall enter the \"P1: ignoring same call id\" state.\nUpon receiving an unexpected MONP message or MONP MCVideo message in a state where there is no handling specified for the MONP message or the MONP MCVideo message, the MCVideo client shall discard this message.\nUpon receiving an indication from the MCVideo user in a state where there is no handling specified for the indication, the MCVideo client shall ignore the indication.\nUpon expiration of a timer in a state where there is no handling specified for expiration of the timer, the MCVideo client shall ignore the expiration of the timer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "11\tEmergency Alert",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "11.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the emergency alert procedures for on-network and off-network.\nFor on-network emergency alert, the procedures for originating and terminating MCVideo clients, participating MCVideo functions and controlling MCVideo function are specified in clause 11.2. MCVideo emergency call procedures that have emergency alerts as an optional capability shall be performed as defined in clause 9.2 for on-network group call and defined in clause 10.2 for on-network private call.\nFor off-network emergency alert, the procedures for each functional entity is specified in clause 11.3.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "11.2\tOn-network emergency alert",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "11.2.1\tClient procedures",
                            "text_content": "Upon receiving a request from the MCVideo user to send an MCVideo emergency alert to the indicated MCVideo group shall determine whether the group document contains a <list-service> element that contains a <preconfigured-group-use-only> element. If a <preconfigured-group-use-only> element exists and is set to the value \"true\", then the MCVideo client:\n1)\tshould indicate to the MCVideo user that alerts are not allowed on the indicated group; and\n2)\tshall skip the remainder of this procedure.\nIf this is an authorised request for an MCVideo emergency alert as determined by clause 6.2.8.1.6, the MCVideo client shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] with the clarifications given below.\nNOTE 1:\tthis SIP MESSAGE request is assumed to be sent out-of-dialog.\nThe MCVideo client:\n1)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP MESSAGE request;\n2)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tmay include a P-Preferred-Identity header field in the SIP MESSAGE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n4)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-request-uri> element set to the group identity;\nb)\tthe <alert-ind> element set to a value of \"true\";\nc)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client;\nd)\tif the MCVideo client needs to include an active functional alias in the SIP MESSAGE request, the <anyExt> element with the <functional-alias-URI> element set to the URI of the used functional alias; and\nf)\tif the MCVideo user has requested an application priority, the <anyExt> element with the <user-requested-priority> element set to the user provided value.\nNOTE 1A:\tThe MCVideo client learns the functional aliases that are activated for an MCVideo ID from procedures specified in clause 20.2.1.3.\n5)\tshall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body as specified in clause F.3 with a <Report> element included in the <location-info> root element;\n6)\tshall include in the <Report> element the specific location information configured for the MCVideo emergency alert location trigger;\n7)\tshall set the MCVideo emergency state if not already set;\n8)\tshall set the MCVideo emergency alert state to \"MVEA 2: emergency-alert-confirm-pending\";\n9)\tshall set the Request-URI to the public service identity identifying the participating MCVideo function serving the group identity; and\n10)\tshall send the SIP MESSAGE request according to rules and procedures of 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP MESSAGE request, the MCVideo client shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated\".\nOn receiving a SIP 4xx response a SIP 5xx response or a SIP 6xx response to the SIP MESSAGE request, the MCVideo client shall set the MCVideo emergency alert state to \"MVEA 1: no-alert\".\nNOTE 2:\tthe MCVideo emergency state is left set in this case as the MCVideo user presumably is in the best position to determine whether or not they are in a life-threatening condition. The assumption is that the MCVideo user can clear the MCVideo emergency state manually if need be.\nUpon receiving a request from the MCVideo user to send an MCVideo emergency alert cancellation to the indicated MCVideo group and this is an authorised request for an MCVideo emergency alert cancellation as determined by clause 6.2.8.1.6, the MCVideo client shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] with the clarifications given below.\nNOTE 1:\tThis SIP MESSAGE request is assumed to be sent out-of-dialog.\nThe MCVideo client:\n1)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP MESSAGE request;\n2)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tmay include a P-Preferred-Identity header field in the SIP MESSAGE request containing the public user identity of the originator as specified in 3GPP TS 24.229 [11];\n4)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-request-uri> element set to the MCVideo group identity;\nb)\tthe <alert-ind> element set to a value of \"false\";\nc)\tif the MCVideo user is cancelling an MCVideo emergency alert originated by another MCVideo user, include the <originated-by> element set to the MCVideo ID of the MCVideo user who originated the MCVideo emergency alert; and\nd)\tif the MCVideo client needs to include an active functional alias in the SIP MESSAGE request, the <anyExt> element with the <functional-alias-URI> element set to the URI of the used functional alias;\n5)\tif the MCVideo user has additionally requested the cancellation of the in-progress emergency state of the MCVideo group and this is an authorised request for an in-progress emergency group state cancellation as determined by clause 6.2.8.1.7, shall include an <emergency-ind> element set to a value of \"false\" in the <mcvideoinfo> element containing the <mcvideo-Params> element;\n6)\tshall set the Request-URI to the public service identity identifying the participating MCVideo function serving the group identity;\n7)\tif the generated SIP MESSAGE request does not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall set the MCVideo emergency alert state to \"MVEA 4: Emergency-alert-cancel-pending\"; and\n8)\tshall send the SIP MESSAGE request according to rules and procedures of 3GPP TS 24.229 [11].\nOn receipt of a SIP MESSAGE request containing an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind-rcvd> element set to true and an <mcvideo-client-id> matching the MCVideo client ID included in the sent SIP MESSAGE request:\n1)\tif the <alert-ind> element is set to a value of \"false\" in the application/vnd.3gpp.mcvideo-info+xml MIME body of the received SIP MESSAGE request and the sent SIP MESSAGE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall:\na)\tset the MCVideo emergency alert state to \"MVEA 1: no-alert\"; and\nb)\tclear the MCVideo emergency state if not already cleared;\n2)\tif the <alert-ind> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the received SIP MESSAGE request is set to a value of \"true\" and if the MCVideo emergency alert state is set to \"MVEA 4: Emergency-alert-cancel-pending\" and the sent SIP MESSAGE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated\"; and\nNOTE 2:\tIt would appear to be an unusual situation for the initiator of an MCVideo emergency alert to not be able to clear their own alert. Nevertheless, an MCVideo user can be configured to be authorised to initiate MCVideo emergency alerts but not have the authority to clear them. Hence, the case is covered here.\n3)\tif an <emergency-ind> element is present in the application/vnd.3gpp.mcvideo-info+xml MIME body of received SIP MESSAGE request and is set to a value of \"false\":\na)\tshall set the MCVideo emergency group call state of the group to \"MVEGC 1: emergency-gc-capable\"; and\nb)\tshall set the MCVideo emergency group state of the group to \"MVEG 1: no-emergency\".\nNOTE 3:\tThe case where an <emergency-ind> element is set to true is possible but not handled specifically above as it results in no state changes.\nOn receiving a SIP 4xx response, SIP 5xx response or SIP 6xx response to the sent SIP MESSAGE request:\n1)\tif the received SIP 4xx response, SIP 5xx response or SIP 6xx response contains an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <alert-ind> element set to a value of \"true\", the sent SIP MESSAGE request did not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body and the MCVideo emergency alert state is set to \"MVEA 4: Emergency-alert-cancel-pending\", shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated\"; and\nNOTE 4:\tIn this case, an <emergency-ind> element would either not be present or would be set to true. In either case, no change in state would result. Hence, this case is not specified above.\n2)\tif the received SIP 4xx response, SIP 5xx response or a SIP 6xx response to the SIP MESSAGE request does not contain an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind> element, the sent SIP MESSAGE request does not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body and the MCVideo emergency alert state is set to \"MVEA 4: Emergency-alert-cancel-pending\", shall set the MCVideo emergency alert state to \"MVEA 3: emergency-alert-initiated\".\nUpon receipt of a \"SIP MESSAGE request for emergency notification\", the MCVideo client:\n1)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"true\", should display to the MCVideo user an indication of the MCVideo emergency alert and associated information, including:\na)\tthe MCVideo group identity contained in <mcvideo-calling-group-id> element application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tthe originator of the MCVideo emergency alert contained in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nc)\tthe mission critical organization of the MCVideo emergency alert originator contained in the <mc-org> element of the application/vnd.3gpp.mcvideo-info+xml MIME body;\nNOTE 1:\tThis is the case of the MCVideo client receiving the notification of another MCVideo user's emergency alert.\n2)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"false\":\na)\tshould display to the MCVideo user an indication of the MCVideo emergency alert cancellation and associated information, including:\ni)\tthe MCVideo group identity contained in the <mcvideo-calling-group-id> element application/vnd.3gpp.mcvideo-info+xml MIME body;\nii)\tthe originator of the MCVideo emergency alert contained in:\nA)\tif present, the <originated-by> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; or\nB)\tthe <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nb)\tif the MCVideo ID contained in the <originated-by> element is the MCVideo ID of the receiving MCVideo user, shall set the MCVideo emergency alert state to \"MVEA 1: no-alert\"; and\nc)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element is set to a value of \"false\":\ni)\tshall set the MCVideo emergency group state to \"MVEG 1: no-emergency\"; and\nii)\tshall set the MCVideo emergency group call state to \"MVEGC 1: emergency-gc-capable\";\nNOTE 2:\tThis is the case of the MCVideo client receiving the notification of the cancellation by a third party of an MCVideo emergency alert. This can be the MCVideo emergency alert of another MCVideo user or the MCVideo emergency alert of the recipient, as determined by the contents of the <originated-by> element. Optionally, notification of the cancellation of the in-progress emergency state of the MCVideo group can be included.\n3)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user an indication of the additional emergency MCVideo user participating in the MCVideo emergency group call including the following if not already displayed as part of step 1):\ni)\tthe MCVideo group identity contained in the <mcvideo-calling-group-id> element application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tthe <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tshall set the MCVideo emergency group state to \"MVEG 2: in-progress\" if not already set to that value;\nNOTE 3:\tThis is the case of the MCVideo client receiving notification of an additional MCVideo user in an MCVideo emergency state (i.e., not the MCVideo user that originally triggered the in-progress emergency state of the group) joining the in-progress emergency group call. An emergency alert indication, if included, is handled in step 1).\n4)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-ind> element set to a value of \"false\":\na)\tshould display to the MCVideo user an indication of the cancellation of the in-progress emergency state of the MCVideo group call including the following if not already displayed as part of step 2):\ni)\tthe MCVideo group identity contained in the <mcvideo-calling-group-id> element application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tthe <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tshall set the MCVideo emergency group state to \"MVEG 1: no-emergency\"; and\nc)\tshall set the MCVideo emergency group call state to \"MVEGC 1: emergency-gc-capable\";\nNOTE 4:\tThis is the case of the MCVideo client receiving the notification of the cancellation of the in-progress emergency state of the MCVideo group. In this case, the receiving MCVideo client is affiliated with the MCVideo group but not participating in the session. An emergency alert cancellation, if included, is handled in step 2).\n5)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"true\":\na)\tshould display to the MCVideo user an indication of the MCVideo user participating in the MCVideo imminent peril group call including the following if not already displayed as part of step 1):\ni)\tthe MCVideo group identity contained in the <mcvideo-calling-group-id> element application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tthe <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\nb)\tshall set the MCVideo imminent peril group state to \"MVIG 2: in-progress\" if not already set to that value;\nNOTE 5:\tThis is the case of the MCVideo client receiving notification of an additional MCVideo user initiating an imminent peril group call when there is already an in-progress imminent peril state in effect on the group.\n6)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <imminentperil-ind> element set to a value of \"false\":\na)\tshould display to the MCVideo user an indication of the cancellation of the in-progress imminent peril state of the MCVideo group including the following if not already displayed as part of step 2):\ni)\tthe MCVideo group identity contained in the <mcvideo-calling-group-id> element application/vnd.3gpp.mcvideo-info+xml MIME body; and\nii)\tthe <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body;\nb)\tshall set the MCVideo imminent peril group state to \"MVIG 1: no-imminent-peril\"; and\nc)\tshall set the MCVideo imminent peril group call state to \"MVIGC 1: imminent-peril-gc-capable\";\nNOTE 6:\tThis is the case of the MCVideo client receiving notification of the cancellation of the in-progress imminent peril state of the group.\n7)\tshall generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11]; and\n8)\tshall send the SIP 200 (OK) response towards the MCVideo server according to rules and procedures of 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP MESSAGE request for notification of entry into or exit from a group geographic area\", the MCVideo client;\n1)\tshall send a SIP 200 (OK) to the participating MCVideo function that sent the SIP MESSAGE request; and\n2)\tif the <group-geo-area-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body is:\na)\tset to \"true\":\ni)\tmay display to the MCVideo user an indication that a group geographic area has been entered; and\nii)\tshall execute the procedure in clause 8.2.1.2 to affiliate to the group indicated by the participating MCVideo function; and\nb)\tset to \"false\":\ni)\tmay display to the MCVideo user an indication that a group geographic area has been exited; and\nii)\tshall execute the procedure in clause 8.2.1.2 to de-affiliate from the group indicated by the participating MCVideo function.\nUpon receipt of a \"SIP MESSAGE request for notification of entry into or exit from an emergency alert area\", the MCVideo client:\n1)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <emergency-alert-area-ind> element of the value:\na)\tset to \"true\":\ni)\tmay display to the MCVideo user an indication that MCVideo client has entered a pre-defined emergency alert area; and\nii)\tif the MCVideo user is not in emergency state, shall initiate the emergency alert origination procedure as specified in clause 12.1.1.1; or\nb)\tset to \"false\":\ni)\tmay display to the MCVideo user an indication that MCVideo client has exited a pre-defined emergency alert area.\nNOTE:\tIn this case, the MCVideo emergency state remains set, as the MCVideo user is in the best position to determine whether or not they are in a life-threatening condition. The MCVideo user can clear the MCVideo emergency state manually, if needed.\n2)\tshall generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11]; and\n3)\tshall send the SIP 200 (OK) response towards the MCVideo server according to rules and procedures of 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "11.2.2\tParticipating MCVideo function procedures",
                            "text_content": "Upon receipt of a \"SIP MESSAGE request for emergency notification for originating participating MCVideo function\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\nNOTE 1:\tif the SIP MESSAGE request contains an emergency indication set to a value of \"true\" or an alert indication set to a value of \"true\", the participating MCVideo function can, according to local policy, choose to accept the request.\n2)\tshall determine the MCVideo ID of the calling user from the public user identity in the P-Asserted-Identity header field of the SIP MESSAGE request, and shall authorise the calling user;\nNOTE 2:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif the MCVideo user is not affiliated with the MCVideo group as determined by clause 9.2.2.2.11, shall perform the actions specified in clause 9.2.2.2.12 for implicit affiliation;\n4)\tif the actions for implicit affiliation specified in step 3) above were performed but not successful in affiliating the MCVideo user due to the MCVideo user already having N2 simultaneous affiliations (specified in the <MaxAffiliationsN2> element of the <Common> element of the corresponding MCVideo user profile of the served MCVideo ID), shall reject the \"SIP MESSAGE request for emergency notification for originating participating MCVideo function\" with a SIP 486 (Busy Here) response with the warning text set to \"102 too many simultaneous affiliations\" in a Warning header field as specified in clause 4.4. and skip the rest of the steps.\nNOTE 3:\tN2 is the total number of MCVideo groups that an MCVideo user can be affiliated to simultaneously as specified in 3GPP TS 23.379 [78].\nNOTE 4:\tAs this is a request for MCVideo emergency services, the participating MCVideo function can choose to accept the request.\n5)\tshall determine the public service identity of the controlling MCVideo function associated with the group identity in the received SIP MESSAGE request;\nNOTE 5:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 6:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 7:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 8:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 9:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n6)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n7)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the controlling MCVideo function determined in step 5) above;\n8)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 included in the outgoing SIP MESSAGE request;\n8a)\tif the received SIP MESSAGE request contains a <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, shall check the status of the functional alias for the MCVideo ID. If the functional alias status is activated, then the participating MCVideo function shall set the <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request to the received value, otherwise it shall not include a <functional-alias-URI> element;9)\tshall set the <mcvideo-calling-user-id> element of the <mcvideoinfo> element containing the <mcvideo-Params> element to the MCVideo ID determined in step 2) above;\n10)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-location-info+xml MIME body as specified in clause F.3 shall copy the contents of the application/vnd.3gpp.mcvideo-location-info+xml MIME body in the received SIP MESSAGE request into an application/vnd.3gpp.mcvideo-location-info+xml MIME body included in the outgoing SIP MESSAGE request;\n11)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function; and\n12)\tshall send the SIP MESSAGE request as specified to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response in response to the SIP MESSAGE request sent in step 10):\n1)\tshall generate a SIP 200 (OK) response as specified in 3GPP TS 24.229 [11] with the follow clarifications:\na)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n2)\tif the procedures of clause 9.2.2.2.12 for implicit affiliation were performed in the present clause, shall complete the implicit affiliation by performing the procedures of clause 9.2.2.2.13; and\n3)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the sent SIP MESSAGE request and if the implicit affiliation procedures of clause 9.2.2.2.12 were invoked in the present clause, the participating MCVideo function shall perform the procedures of clause 9.2.2.2.14.\nIn the procedures in this clause:\n1)\temergency indication in an incoming SIP MESSAGE request refers to the <emergency-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body; and\n2)\talert indication in an incoming SIP MESSAGE request refers to the <alert-ind> element of the application/vnd.3gpp.mcvideo-info+xml MIME body.\nUpon receipt of a \"SIP MESSAGE requests for emergency notification for terminating participating MCVideo function\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\nNOTE 1:\tif the SIP MESSAGE request contains an emergency indication set to a value of \"true\" or an alert indication set to a value of \"true\", the participating MCVideo function can by means beyond the scope of this specification choose to accept the request.\n2)\tshall use the MCVideo ID present in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP MESSAGE request to retrieve the binding between the MCVideo ID and public user identity;\n3)\tif the binding between the MCVideo ID and public user identity does not exist, then the participating MCVideo function shall reject the SIP MESSAGE request with a SIP 404 (Not Found) response. Otherwise, continue with the rest of the steps;\n4)\tshall generate an outgoing SIP MESSAGE request as specified in clause 6.3.2.2.11; and\n5)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nUpon receipt of SIP 2xx responses to the outgoing SIP MESSAGE requests, the participating MCVideo function shall follow the procedures specified in 3GPP TS 24.229 [11].\nUpon receipt of a SIP MESSAGE request routed to the terminating participating MCVideo function with the Request-URI set to the public service identity of the terminating participating MCVideo function and the SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with an <alert-ind-rcvd> element present, the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\n2)\tshall use the MCVideo ID present in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP MESSAGE request to retrieve the binding between the MCVideo ID and public user identity;\n3)\tif the binding between the MCVideo ID and public user identity does not exist, then the participating MCVideo function shall reject the SIP MESSAGE request with a SIP 404 (Not Found) response. Otherwise, continue with the rest of the steps;\n4)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] and:\na)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nb)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public user identity associated to the MCVideo ID of the MCVideo user that was in the Request-URI of the incoming SIP MESSAGE request;\nc)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request; and\nd)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function; and\n5)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nUpon receipt of SIP 2xx responses to the outgoing SIP MESSAGE requests, the participating MCVideo function shall follow the procedures specified in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "11.2.3\tControlling MCVideo function procedures",
                            "text_content": "Upon receipt of a \"SIP MESSAGE request for emergency notification for controlling MCVideo function\", the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\nNOTE:\tIf the SIP MESSAGE request contains an alert indication set to a value of \"true\", the controlling MCVideo function can, according to local policy, choose to accept the request.\n2)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if an Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n2A)\tif the group document contains a <list-service> element that contains a <preconfigured-group-use-only> element that is set to the value \"true\", shall reject the SIP request with a SIP 403 (Forbidden) response with the warning text set to \"168 alert is not allowed on the preconfigured group\" as specified in clause 4.4 \"Warning header field\" and skip the rest of the steps;\n3)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"false\", shall perform the procedures specified in clause 11.2.3.2 and skip the rest of the steps;\n4)\tif the received SIP MESSAGE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"true\":\na)\tif the received SIP MESSAGE request is an unauthorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1 shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response to the SIP MESSAGE request as specified in 3GPP TS 24.229 [11] with the following clarifications:\ni)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <alert-ind> element set to a value of \"false\"; and\nii)\tshall send the SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps; and\nb)\tif the received SIP MESSAGE request is an authorised request for an MCVideo emergency alert as specified in clause 6.3.3.1.13.1:\ni)\tif the sending MCVideo user identified by the <mcvideo-calling-user-id> element included in the application/vnd.3gpp.mcvideo-info+xml MIME body is not affiliated with the MCVideo group identified by the <mcvideo-request-uri> element of the MIME body as determined by the procedures of clause 6.3.6:\nI)\tshall check if the MCVideo user is eligible to be implicitly affiliated with the MCVideo group as determined by clause 9.2.2.3.6;\nII)\tif the MCVideo user is determined not to be eligible to be implicitly affiliated to the MCVideo group shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response with the warning text set to \"120 user is not affiliated to this group\" in a Warning header field as specified in clause 4.4 and skip the rest of the steps below; or\nIII)\tif the procedures of clause 9.2.2.3.6 determined the MCVideo user to be eligible to be implicitly affiliated to the MCVideo group shall, perform the implicit affiliation as specified in clause 9.2.2.3.7;\nii)\tfor each of the other affiliated members of the group:\nA)\tgenerate an outgoing SIP MESSAGE request notification of the MCVideo user's emergency alert indication as specified in clause 6.3.3.1.11 with the clarifications of clause 6.3.3.1.12;\nB)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <mcvideo-calling-user-id> element set to the value of the <mcvideo-calling-user-id> element in the received SIP MESSAGE request; and\nC)\tsend the SIP MESSAGE request according to according to rules and procedures of 3GPP TS 24.229 [11];\niii)\tshall generate a SIP 200 (OK) response to the received SIP MESSAGE request as specified in 3GPP TS 24.229 [11] with the following clarifications:\nA)\tshall cache the information that the MCVideo user has initiated an MCVideo emergency alert;\niv)\tshall send the SIP 200 (OK) response to the received SIP MESSAGE according to rules and procedures of 3GPP TS 24.229 [11].\nv)\tshall generate a SIP MESSAGE request as described in clause 6.3.3.1.20 to indicate successful receipt of an emergency alert, and shall include in the application/vnd.3gpp.mcvideo-info+xml MIME body:\nA)\tthe <alert-ind> element set to a value of \"true\";\nB)\tthe <alert-ind-rcvd> element set to a value of true; and\nC)\tthe <mcvideo-client-id> element with the MCVideo client ID that was included in the incoming SIP MESSAGE request; and\nvi)\tshall send the SIP MESSAGE request according to according to rules and procedures of 3GPP TS 24.229 [11].\nUpon receipt of SIP 2xx responses to the outgoing SIP MESSAGE requests, the controlling MCVideo function shall follow the procedures specified in 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP MESSAGE request for emergency notification for controlling MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <alert-ind> element set to a value of \"false\", the controlling MCVideo function:\n1)\tif the received SIP MESSAGE request is an unauthorised request for an MCVideo emergency alert cancellation as specified in clause 6.3.3.1.13.1:\na)\tand if the received SIP MESSAGE request does not contain an <emergency-ind> element or is an unauthorised request for an MCVideo emergency call cancellation as specified in clause 6.3.3.1.13.4, shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response to the SIP MESSAGE request as specified in 3GPP TS 24.229 [11] with the following clarifications:\ni)\tshall include in the SIP 403 (Forbidden) response an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <alert-ind> element set to a value of \"true\";\nii)\tif the received SIP MESSAGE request contains an <emergency-ind> element of the <mcvideoinfo> element set to a value of \"false\" and if the in-progress emergency state of the group is set to a value of \"true\" and this is an unauthorised request for an MCVideo emergency call cancellation as determined in step i) above, shall include an <emergency-ind> element set to a value of \"true\" in the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP 403 (Forbidden) response; and\niii)\tshall send the SIP 403 (Forbidden) response according to rules and procedures of 3GPP TS 24.229 [11] and skip the rest of the steps; and\nb)\tand if the received SIP MESSAGE request contains an <emergency-ind> element and is an authorised request for an MCVideo emergency call cancellation as specified in clause 6.3.3.1.13.4 and the in-progress emergency state of the MCVideo group is set to a value of \"true\":\ni)\tshall set the in-progress emergency state of the group to a value of \"false\";\nii)\tshall clear the cache of the MCVideo ID of the MCVideo user that triggered the setting of the in-progress emergency state of the MCVideo group to \"true\";\niii)\tshall generate SIP re-INVITE requests to the other affiliated and joined members of the MCVideo group as specified in clause 6.3.3.1.6. The MCVideo controlling function:\nA)\tfor each affiliated and joined member shall send the SIP re-INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nB)\tUpon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.380 [79];\niv)\tfor each of the affiliated but not joined members of the group shall:\nA)\tgenerate a SIP MESSAGE request notification of the cancellation of the MCVideo user's emergency call as specified in clause 6.3.3.1.11;\nB)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <mcvideo-calling-user-id> element set to the value of the <mcvideo-calling-user-id> element in the received SIP MESSAGE request; and\nC)\tshall include an <emergency-ind> element set to a value of \"false\" in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request;\nv)\tshall generate a SIP 200 (OK) response to the received SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\nvi)\tshall send the SIP 200 (OK) response to the received SIP MESSAGE as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\nvii)\tshall generate a SIP MESSAGE request as described in clause 6.3.3.1.20 to indicate successful receipt of the request for emergency alert cancellation\nviii)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP MESSAGE request:\nA)\tthe <alert-ind> element set to a value of \"true\";\nB)\tthe <alert-ind-rcvd> element set to a value of true;\nC)\tthe <emergency-ind> element set to a value of \"false\"; and\nD)\tthe <mcvideo-client-id> element with the MCVideo client ID that was included in the incoming SIP MESSAGE request; and\nix)\tshall send the SIP MESSAGE request according to according to rules and procedures of 3GPP TS 24.229 [11]; and\n2)\tif the received SIP MESSAGE request is an authorised request for an MCVideo emergency alert cancellation as specified in clause 6.3.3.1.13.1:\na)\tif the received SIP MESSAGE request contains an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall clear the cache of the MCVideo ID of the MCVideo user identified by the <originated-by> element as having an outstanding MCVideo emergency alert;\nb)\tif the received SIP MESSAGE request does not contain an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, clear the cache of the MCVideo ID of the sender of the SIP MESSAGE request as having an outstanding MCVideo emergency alert;\nc)\tif the received SIP MESSAGE request does not contain an <emergency-ind> element or is an unauthorised request for an MCVideo emergency call cancellation as specified in clause 6.3.3.1.13.4, for each of the affiliated but not joined members of the group shall:\ni)\tgenerate a SIP MESSAGE request notification of the cancellation of the MCVideo user's emergency alert as specified in clause 6.3.3.1.11;\nii)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <mcvideo-calling-user-id> element set to the value of the <mcvideo-calling-user-id> element in the received SIP MESSAGE request;\niii)\tif the received SIP MESSAGE request contains an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, copy the contents of the received <originated-by> element to an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request;\niv)\tshall include an <alert-ind> element set to a value of \"false\" in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request; and\nv)\tsend the SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\nd)\tif the received SIP MESSAGE request contains an <emergency-ind> element and is an authorised request for an MCVideo emergency call cancellation as specified in clause 6.3.3.1.13.4 and the in-progress emergency state of the MCVideo group is set to a value of \"true\":\ni)\tshall set the in-progress emergency state of the group to a value of \"false\";\nii)\tcache the information that the MCVideo user has cancelled the outstanding in-progress emergency state of the group;\niii)\tshall generate SIP re-INVITES requests to the other affiliated and joined members of the MCVideo group as specified in clause 6.3.3.1.6. The MCVideo controlling function:\nA)\tfor each affiliated and joined member shall send the SIP re-INVITE request towards the MCVideo client as specified in 3GPP TS 24.229 [11]; and\nB)\tUpon receiving a SIP 200 (OK) response to the SIP re-INVITE request the controlling MCVideo function shall interact with the media plane as specified in 3GPP TS 24.380 [79]; and\niv)\tfor each of the affiliated but not joined members of the group shall:\nA)\tgenerate a SIP MESSAGE request notification of the cancellation of the MCVideo user's emergency call as specified in clause 6.3.3.1.11;\nB)\tinclude in the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <mcvideo-calling-user-id> element set to the value of the <mcvideo-calling-user-id> element in the received SIP MESSAGE request;\nC)\tif the received SIP MESSAGE request contains an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, copy the contents of the received <originated-by> element to an <originated-by> element in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request;\nD)\tinclude in the application/vnd.3gpp.mcvideo-info+xml MIME body an <alert-ind> element set to a value of \"false\"; and\nE)\tshall include an <emergency-ind> element set to a value of \"false\" in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request;\ne)\tshall generate a SIP 200 (OK) response to the received SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\nf)\tshall send the SIP 200 (OK) response to the received SIP MESSAGE as specified in 3GPP TS 24.229 [11].\ng)\tshall generate a SIP MESSAGE request as described in clause 6.3.3.1.20 to indicate successful receipt of the request for emergency alert cancellation;\nh)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body, the <alert-ind> element set to a value of \"false\" and the <alert-ind-rcvd> set to \"true\";\ni)\tshall populate the <mcvideo-client-id> element with the MCVideo client ID that was included in the incoming SIP MESSAGE request;\nj)\tif the received SIP MESSAGE request contains an <emergency-ind> element of the <mcvideoinfo> element set to a value of \"false\":\ni)\tif this is an authorised request for an MCVideo emergency call cancellation as specified in clause 6.3.3.1.13.4, shall include an <emergency-ind> element set to a value of \"false\" in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request; and\nB)\totherwise, if this is an unauthorised request for an MCVideo emergency call cancellation as specified in clause 6.3.3.1.13.4, and the in-progress emergency state of the group is set to a value of \"true\", shall include an <emergency-ind> element set to a value of \"true\" in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request; and\nk)\tshall send the SIP MESSAGE request according to according to the rules and procedures of 3GPP TS 24.229 [11].\nUpon receipt of SIP 2xx responses to the outgoing SIP MESSAGE requests, the controlling MCVideo function shall follow the procedures specified in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "11.3\tOff-network emergency alert",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "11.3.1\tGeneral",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "11.3.2\tBasic state machine",
                            "text_content": "The figure 11.3.2.2-1 gives an overview of the main states and transitions on the UE for emergency alert.\nEach emergency alert state machine is per MCVideo group.\nThe figure depicts an emergency alert state machine, which is a crucial component in the communication system. It is designed to manage the alert state of the system, ensuring that it can respond effectively to potential threats or incidents. The state machine is composed of various states, such as \"on\" and \"off\", which represent the alert status of the system. The figure also includes a flowchart that illustrates the process of transitioning between states, providing a visual representation of the system's response to an alert. This figure is essential for ensuring the smooth operation of the communication system in the event of an emergency.\nFigure 11.3.2.2-1: Emergency alert state machine\nThe following piece of information is associated with the emergency alert state machine:\na)\tthe stored emergency state of the MCVideo group.\nNOTE:\tThe emergency alert state machine is referred by the MCVideo off-network group call and MCVideo off-network private call procedures.\nThis state is the start state of this state machine.\nThe UE stays in this state while not in emergency state.\nThis state exists for UE, when the UE has sent a GROUP EMERGENCY ALERT message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "11.3.3\tProcedures",
                            "text_content": "When in state \"E1: Not in emergency state\", upon receiving an indication from the MCVideo user to transmit an emergency alert for an MCVideo group ID and the value of \"/<x>/<x>/Common/AllowedActivateAlert\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\", the MCVideo client:\n1)\tshall set the stored emergency state as \"true\";\n2)\tshall set the stored MCVideo group ID to the indicated MCVideo group ID;\n3)\tshall generate a GROUP EMERGENCY ALERT message as specified in clause 17.1.14. In the GROUP EMERGENCY ALERT message, the MCVideo client:\na)\tshall set the MCVideo group ID IE to the stored MCVideo group ID;\nb)\tshall set the Originating MCVideo user ID IE to own MCVideo user ID;\nc)\tshall set the Organization name IE to own organization name; and\nd)\tmay set the User location IE with client's current location, if requested;\n4)\tshall send the GROUP EMERGENCY ALERT message as specified in clause 9.3.1.1.1;\n5)\tshall start timer TFE2 (emergency alert retransmission); and\n6)\tshall enter \"E2: Emergency state\" state.\nWhen in state \"E2: Emergency state\", upon expiry of timer TFE2 (emergency alert retransmission), the MCVideo client:\n1)\tshall generate a GROUP EMERGENCY ALERT message as specified in clause 17.1.14. In the GROUP EMERGENCY ALERT message, the MCVideo client:\na)\tshall set the MCVideo group ID IE to the stored MCVideo group ID;\nb)\tshall set the originating MCVideo user ID IE to own MCVideo user ID;\nc)\tshall set the Organization name IE to own organization name; and\nd)\tmay set the Location IE with client's current location, if requested; and\n2)\tshall send the GROUP EMERGENCY ALERT message as specified in clause 9.3.1.1.1;\n3)\tshall start the timer TFE2 (emergency alert retransmission); and\n4)\tshall remain in the current state.\nWhen in state \"E1: Not in emergency state\" or in \"E2: Emergency state\", upon receiving a GROUP EMERGENCY ALERT message with the Originating MCVideo user ID IE not stored in the list of users in emergency, the MCVideo client:\n1)\tshall store the Originating MCVideo user ID IE and location IE in the list of users in emergency;\n2)\tshall generate a GROUP EMERGENCY ALERT ACK message as specified in clause 17.1.15. In the GROUP EMERGENCY ALERT ACK message, the MCVideo client:\na)\tshall set the MCVideo group ID IE to the MCVideo group ID IE of the received GROUP EMERGENCY ALERT message;\nb)\tshall set the Sending MCVideo user ID IE to own MCVideo user ID; and\nc)\tshall set the Originating MCVideo user ID IE to the Originating MCVideo user ID IE of the received GROUP EMERGENCY ALERT message; and\n3)\tshall send the GROUP EMERGENCY ALERT ACK message as specified in clause 9.3.1.1.1;\n4)\tshall start timer TFE1 (Emergency Alert); and\n5)\tshall remain in the current state.\nNOTE:\tEach instance of timer TFE1 is per MCVideo user ID.\nWhen in state \"E1: Not in emergency state\" or in \"E2: Emergency state\", upon receiving a GROUP EMERGENCY ALERT message with the Originating MCVideo user ID IE stored in the list of users in emergency and Location IE different than the stored location of the user, the MCVideo client:\n1)\tmay update the stored location of the user with the received Location IE;\n2)\tshall restart the associated timer TFE1 (Emergency Alert); and\n3)\tshall remain in the current state.\nWhen in \"E2: Emergency state\", upon receiving an indication from the MCVideo user to cancel an emergency alert and the value of \"/<x>/<x>/Common/AllowedCancelAlert\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\", the MCVideo client:\n1)\tshall set the stored emergency state as \"false\";\n2)\tshall generate a GROUP EMERGENCY ALERT CANCEL message as specified in clause 17.1.16. In the GROUP EMERGENCY ALERT CANCEL message, the MCVideo client:\na)\tshall set the MCVideo group ID IE to the stored MCVideo group ID; and\nb)\tshall set the Originating MCVideo user ID IE to own MCVideo user ID; and\n3)\tshall send the GROUP EMERGENCY ALERT CANCEL message as specified in clause 9.3.1.1.1;\n4)\tshall stop timer TFE2 (emergency alert retransmission); and\n5)\tshall enter \"E1: Not in emergency state\" state.\nWhen in state \"E1: Not in emergency state\" or in \"E2: Emergency state\", upon receiving a GROUP EMERGENCY ALERT CANCEL message with the Originating MCVideo user ID IE stored in the list of users in emergency, the MCVideo client:\n1)\tshall remove the MCVideo user ID and associated location information from the stored list of users in emergency;\n2)\tshall generate a GROUP EMERGENCY ALERT CANCEL ACK message as specified in clause 17.1.17. In the GROUP EMERGENCY ALERT CANCEL ACK message, the MCVideo client:\na)\tshall set the MCVideo group ID IE to the MCVideo group ID IE of the received GROUP EMERGENCY ALERT CANCEL message; and\nb)\tshall set the Sending MCVideo user ID IE to own MCVideo user ID; and\nc)\tshall set the Originating MCVideo user ID IE to the Originating MCVideo user ID IE of the received GROUP EMERGENCY ALERT message;\n3)\tshall send the GROUP EMERGENCY ALERT CANCEL ACK message as specified in clause 9.3.1.1.1;\n4)\tshall stop the associated timer TFE1 (Emergency Alert); and\n5)\tshall remain in the current state.\nWhen in state \"E1: Not in emergency state\" or in \"E2: Emergency state\", upon expiry of timer TFE1 (Emergency Alert) associated with a stored MCVideo user ID, the MCVideo client:\n1)\tshall remove the MCVideo user ID and associated location information from the stored list of users in emergency; and\n2)\tshall remain in the current state.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "12\tVideo Pull",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "12.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "12.2\tOn-network video pull",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "12.2.1\tGeneral",
                            "text_content": "A MCVideo user triggers its MCVideo client to pull a video either from another MCVideo client or from a MCVideo server.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "12.2.2\tMCVideo client procedures",
                            "text_content": "In order to pull a video from another MCVideo client, the MCVideo client shall perform the procedures of the clause 10.2.2.2.1, with the following clarifications:\n1)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <session-type> element set to a value of \"one-to-one video pull\".\nUpon receipt of an initial SIP INVITE request for the one-to-one video pull call, the MCVideo client shall perform the procedures of the clause 10.2.2.2.2, with the following clarifications:\n1)\tshall initiate the implicit transmit media request as specified in 3GPP TS 24.581 [5].\nWhen the MCVideo client is in an ongoing one-to-one video pull call, upon an indication from MCVideo user to release the call, the MCVideo client shall perform the procedures of the clause 10.2.4.1.\nIn order to pull a video from a MCVideo server, MCVideo client shall perform the procedures of the clause 10.2.2.2.1, with the following clarifications:\n1)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <session-type> element set to a value of \"one-from-server video pull\";\n2)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <video-pull-url> element set to the URL of the video file to be streamed;\nNOTE:\tHow an MCVideo client is informed the URL of the video file is out of scope of the current document.\n3)\tshall not insert in the SIP INVITE request an application/resource-lists+xml MIME with the MCVideo ID of the invited MCVideo user in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body; and\n4)\tshall use the automatic commencement mode.\nNo procedures specified.\nWhen the MCVideo client is in an ongoing one-from-server video pull call, upon an indication from MCVideo user to release the call, the MCVideo client shall perform the procedures of the clause 10.2.4.1.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "12.2.3\tMCVideo server procedures",
                            "text_content": "Upon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-to-one video pull\", the participating MCVideo function determine that the call is a private call and shall perform the procedures of the clause 10.2.2.3.1.1.\nUpon receipt of a \"SIP INVITE request for terminating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-to-one video pull\", the participating MCVideo function determine that the call is a private call and shall perform the procedures of the clause 10.2.2.3.2.\nUpon receiving from the MCVideo client a SIP BYE request the participating MCVideo function shall follow the procedures as specified in clause 10.2.4.\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 10.2.5.\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-from-server video pull\", the participating MCVideo function determine that the call is a private call and shall perform the procedures of the clause 10.2.2.3.1.1, with the following clarifications:\n1)\tshall not check the  <allow-private-call> element of the <ruleset> element; and\n2)\tshall use the automatic commencement mode.\nNo procedures specified.\nUpon receiving from the MCVideo client a SIP BYE request the participating MCVideo function shall follow the procedures as specified in clause 10.2.4.\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 10.2.5.\nNo procedures specified.\nUpon receipt of a \"SIP INVITE request for controlling MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-to-one video pull\", the controlling MCVideo function determine that the call is a private call and shall perform the procedures of the clause 10.2.2.4.2, with following clarifications:\n1)\tshall check whether the MCVideo ID of the MCVideo calling user in the <mcvideo-calling-user-id> is authorised to initiate the one-to-one video pull call, and if it is not authorised the controlling MCVideo function shall return a SIP 403 (Forbidden) response with the warning text as specified in \"Warning header field\" and skip the rest of the steps; and\n2)\tshall check whether the MCVideo ID of the MCVideo called party user in the <mcvideo-called-party-id> is authorised to receive the one-to-one video pull call, and if it is not authorised the controlling MCVideo function shall return a  SIP 403 (Forbidden) response with the warning text as specified in \"Warning header field\" and skip the rest of the steps.\nWhen the MCVideo session for one-to-one video pull call needs to be released, the controlling MCVideo function shall perform the procedures of the clause 10.2.5.4.\nNo procedures specified.\nUpon receipt of a \"SIP INVITE request for controlling MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-from-server video pull\", the controlling MCVideo function determine that the call is a private call and shall perform the procedures of the clause 10.2.2.4.2, with following clarifications:\n1)\tshall check whether the MCVideo ID of the MCVideo calling user in the <mcvideo-calling-user-id> is authorised to initiate the one-from-server video pull call, and if it is not authorised the controlling MCVideo function shall return a SIP 403 (Forbidden) response with the warning text as specified in \"Warning header field\" and skip the rest of the steps; and\n2)\tshall based on the received URL of the video file contained in <video-pull-url> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, transmit media to the MCVideo client as specified in 3GPP TS 24.380 [79].\nWhen the MCVideo session for one-from-server video pull call needs to be released, the controlling MCVideo function shall perform the procedures of the clause 10.2.5.4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "12.3\tOff-network video pull",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "12.3.1\tGeneral",
                            "text_content": "The MCVideo client uses off network private call setup procedures as defined in subclasue 10.3 with clarifications given in clause 12.3.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "12.3.2\tMCVideo client procedures",
                            "text_content": "When in the \"P0: start-stop\" state or \"P1: ignoring same call id\", upon an indication from MCVideo User to initiate a private call and the value of \"/<x>/<x>/Common/PrivateCall/Authorised\" leaf node present in the user profile as specified in 3GPP TS 24.483 [4] is set to \"true\", the MCVideo client shall follow the procedure as defined in clause 10.3.2.4.2.1 with following clarification:\n1)\tin step 5) of clause 10.3.2.4.2.1, shall store \"PRIVATE VIDEO PULL CALL\" as the current call type.\nWhen in the \"P2: waiting for call response\" state, upon receiving a PRIVATE CALL ACCEPT message response to PRIVATE CALL SETUP REQUEST message with the same call identifier, the MCVideo client shall follow the procedure as defined in clause 10.3.2.4.2.8 with following clarification:\n1)\tin step 7) of clause 10.3.2.4.2.8, shall not start transmission control as terminating transmission participant\nWhen in the \"P0: start-stop\" or \"P1: ignoring same call id\" state, upon receiving a PRIVATE CALL SETUP REQUEST message with Commencement mode IE set to \"AUTOMATIC COMMENCEMENT MODE\" and Call identifier IE different than stored call identifier and Call type IE set to \"PRIVATE VIDEO PULL CALL\" and media session declared in SDP body of PRIVATE CALL SETUP REQUEST message can be established, the MCVideo client shall follow the procedure as defined in clause 10.3.2.4.3.2 with following clarification:\n1)\tin step 2) of clause 10.3.2.4.3.2, shall set the stored current call type to \"PRIVATE VIDEO PULL CALL\".\nWhen in the \"P5: pending\" state, upon receiving a PRIVATE CALL ACCEPT ACK message or RTP media from originating user, the MCVideo client shall follow the procedure as defined in clause 10.3.2.4.3.4 with following clarification:\n1)\tin step 2) of clause 10.3.2.4.3.4, shall not start transmission control as terminating MCVideo client.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "13\tVideo Push",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "13.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "13.2\tOn-network video push",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "13.2.1\tGeneral",
                            "text_content": "A MCVideo user triggers its MCVideo client to push a video to another MCVideo client or a MCVideo server.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "13.2.2\tMCVideo client procedures",
                            "text_content": "In order to push a video to another MCVideo client, the MCVideo client shall perform the procedures of clause 10.2.2.2.1, with the following clarifications:\n1)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <session-type> element set to a value of \"one-to-one video push\"; and\n2)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.2.\nUpon receipt of an initial SIP INVITE request for the one-to-one video push call, the MCVideo client shall perform the procedures of clause 10.2.2.2.2, with the following clarifications:\n1)\tshall display to the MCVideo user an indication that this is a one-to-one video push call; and\n2)\tmay save the MCVideo media stream to a file.\nWhen the MCVideo client is in an ongoing one-to-one video push call, upon an indication from MCVideo user to release the call, the MCVideo client shall perform the procedures of clause 10.2.4.1.\nIn order to push a video to a MCVideo server, the MCVideo client shall perform the procedures of clause 10.2.2.2.1, with the following clarifications:\n1)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <session-type> element set to a value of \"one-to-server video push\";\n2)\tshall not insert in the SIP INVITE request an application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo user in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body; and\n3)\tshall use the automatic commencement mode.\nUpon receiving a SIP INFO request within the dialog of the SIP request for a one-to-server video push call:\n1)\twith the Info-Package header field containing the g.3gpp.mcvido-info package name;\n2)\twith the application/vnd.3gpp.mcvideo-info+xml MIME body associated with the info package according to IETF RFC 6086 [21]; and\n3)\twith one <video-push-url> element set in the application/vnd.3gpp.mcvideo-info+xml MIME body;\nthe MCVideo client shall store the received <video-push-url> element.\nWhen the MCVideo client is in an ongoing one-to-server video push call, upon an indication from MCVideo user to release the call, the MCVideo client shall perform the procedures of clause 10.2.4.1.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "13.2.3\tMCVideo server procedures",
                            "text_content": "Upon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-to-one video push\", the participating MCVideo function shall perform the procedures of clause 10.2.2.3.1.1.\nUpon receipt of a \"SIP INVITE request for terminating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-to-one video push\", the participating MCVideo function shall perform the procedures of clause 10.2.2.3.2.\nUpon receiving from the MCVideo client a SIP BYE request the participating MCVideo function shall follow the procedures as specified in clause 10.2.4.\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 10.2.5.\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-to-server video push\", the participating MCVideo function shall perform the procedures of clause 10.2.2.3.1.1, with the following clarifications:\n1)\tshall not check the <allow-private-call> element of the <ruleset> element; and\n2)\tshall use the automatic commencement mode.\nUpon receiving from the MCVideo client a SIP BYE request the participating MCVideo function shall follow the procedures as specified in clause 10.2.4.\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 10.2.5.\nUpon receipt of a \"SIP INVITE request for controlling MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-to-one video push\", the controlling MCVideo function:\n1)\tshall check whether the public service identity contained in the Request-URI is allocated for one-to-one video push call and perform the actions specified in clause 6.3.7.1 if it is not allocated and skip the rest of the steps;\n2)\tshall check whether the MCVideo ID of the MCVideo calling user in the <mcvideo-calling-user-id> is authorised to initiate the one-to-one video push call, and if it is not authorised the controlling MCVideo function shall return a SIP 403 (Forbidden) response with the warning text as specified in \"Warning header field\" and skip the rest of the steps;\n3)\tshall check whether the MCVideo ID of the MCVideo called party user in the <mcvideo-called-party-id> is authorised to receive the one-to-one video push call, and if it is not authorised the controlling MCVideo function shall return a  SIP 403 (Forbidden) response with the warning text as specified in \"Warning header field\" and skip the rest of the steps;\n4)\tshall allocate an MCVideo session identity for the MCVideo session; and\n5)\tshall invite the MCVideo user listed in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body of received SIP INVITE request as specified in clause 10.2.2.4.1.\nWhen the MCVideo session for one-to-one video push call needs to be released, the controlling MCVideo function shall perform the procedures of clause 10.2.5.4.\nUpon receipt of a \"SIP INVITE request for controlling MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"one-to-server video push\", the controlling MCVideo function:\n1)\tshall check whether the public service identity contained in the Request-URI is allocated for one-to-server video push call and perform the actions specified in clause 6.3.7.1 if it is not allocated and skip the rest of the steps;\n2)\tshall check whether the MCVideo ID of the MCVideo calling user in the <mcvideo-calling-user-id> is authorised to initiate the one-to-server video push call, and if it is not authorised the controlling MCVideo function shall return a SIP 403 (Forbidden) response with the warning text as specified in \"Warning header field\" and skip the rest of the steps;\n3)\tshall allocate an MCVideo session identity for the MCVideo session;\n4)\tshall generate and send a SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11]; and\n5)\tshall save the MCVideo media stream to a file.\nTo send the URL of the file where the MCVideo media stream will be recorded, the controlling MCVideo function:\n1)\tshall generate a SIP INFO request according to rules and procedures of 3GPP TS 24.229 [11] and IETF RFC 6086 [21];\n2)\tshall include the Info-Package header field set to g.3gpp.mcvideo-info in the SIP INFO request;\n3)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in annex F.1 with an <video-push-url> element set to the URL of the file where the MCVideo media stream will be recorded; and\n4)\tshall send the SIP INFO request towards the inviting MCVideo client in the dialog of a SIP request for one-to-server video push call, as specified in 3GPP TS 24.229 [11].\nWhen the MCVideo session for one-to-server video push call needs to be released, the controlling MCVideo function shall perform the procedures of clause 10.2.5.4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "13.3\tOff-network video push",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "13.3.1\tGeneral",
                            "text_content": "In order to participate in Video Push, the MCVideo client:\n1)\tshall send the MONP MCVideo message transported in a MONP MCVIDEO MESSAGE CARRIER message, specified in 3GPP TS 24.379 [40], as a UDP message to the local IP address of the MCVideo user, on UDP port 8809 (as specified in 3GPP TS 24.379 [40]), with an IP time-to-live set to 255; and\n2)\tshall treat UDP messages received on the port 8809 as received MONP messages.\nNOTE:\tAn MCVideo client that supports IPv6 shall listen to the IPv6 addresses.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "13.3.2\tMCVideo client procedures",
                            "text_content": "In order to push a video from authorized MCVideo user to another user, MCVideo client shall perform the procedures of the clause 10.3.2.4.2.1, with the following clarifications:\n1)\tshall store \"PRIVATE VIDEO PUSH CALL\" as the current call type as specified in clause 17.2.11.\nWhen the MCVideo client receives a PRIVATE CALL SETUP REQUEST message with Commencement mode IE set to \"MANUAL COMMENCEMENT MODE\" and the call type IE set to \"PRIVATE VIDEO PUSH CALL\", it SHALL perform the procedures of clause 10.3.2.4.4 with the following clarifications to the clause 10.3.2.4.4.1;\n1)\tshall set the stored current call type to \"PRIVATE VIDEO PUSH CALL\" as specified in clause 17.2.11.\nWhen the MCVideo client is in an ongoing private video push call, upon an indication from MCVideo User to relese the call, the MCVideo client SHALL perform the procedures of clause 10.3.2.4.5.\nWhen the Private call initiator receives the PRIVATE CALL ACCEPT message, the initiator may send a NOTIFY VIDEO PUSH message as per below:\n1)\tshall store NOTIFY VIDEO PUSH as the current message type;\n2)\tshall generate and store the call identifier as a random number uniformly distributed between (0, 65536);\n3)\tshall store own MCVideo user ID as notifier ID;\n4)\tshall store MCVideo user ID of notification recipient user as notification recipient ID;\n5)\tshall store the MCVideo user ID of Video Push recipient user as callee ID, if the video push is intended for an MCVideo user;\n6)\tshall store the MCVideo group ID of Video Push recipient user as group call recipient ID, if the video push is intended for a MCVideo group;\n7)\tshall store the result as \"SUCCESS\" or \"FAILURE\", based on whether the remote push call setup between caller and callee was successful;\n8)\tshall store the failure reason as specified in clause 17.2.8, if the result is set as \"FAILURE\";\n9)\tshall generate a NOTIFY VIDEO PUSH message as specified in clause 17.1.23. In the NOTIFY VIDEO PUSH message, the MCVideo client:\na)\tshall set the Remote video push notification message identity IE with stored current message type;\nb)\tshall set the call identifier IE with the stored call identifier;\nc)\tshall set the MCVideo remote push request notifier IE with stored notifier ID;\nd)\tshall set the MCVideo remote push request notification recipient IE with stored video push requester ID;\ne)\tshall set the MCVideo remote push call recipient user IE with stored callee ID, if the video push is intended for an MCVideo user;\nf)\tshall set the MCVideo remote push call recipient group IE with stored group call recipient ID, if the video push is intended for a MCVideo group;\ng)\tshall set the Result IE with stored result; and\nh)\tif a failure reason was stored in step 8) above, shall set the Reason IE with the stored failure reason; and\n10)\tshall send the NOTIFY VIDEO PUSH message towards other MCVideo client according to rules and procedures as specified in clause 13.3.1.1.1.\nUpon receiving the NOTIFY VIDEO PUSH message MCVideo client may notify the MCVideo user about the video being pushed to another user.\nWhen an authorized MCVideo user requires to push a remote video from one user to another user, the authorized MCVideo client:\n1)\tshall store PRIVATE REMOTE VIDEO PUSH REQUEST as the current message type;\n2)\tshall generate and store the call identifier as a random number uniformly distributed between (0, 65536);\n3)\tshall store own MCVideo user ID as remote video push requester ID;\n4)\tshall store MCVideo user ID of remote video push request recipient as caller ID;\n5)\tshall store the MCVideo user ID of Video Push call recipient as callee ID;\n6)\tshall generate and store the video information as specified in clause 17.2.17;\n7)\tshall generate a PRIVATE REMOTE VIDEO PUSH REQUEST message as specified in clause 17.1.20. In the PRIVATE REMOTE VIDEO PUSH REQUEST message, the MCVideo client:\na)\tshall set the remote video push setup request message identity IE with stored current message type;\nb)\tshall set the call identifier IE with stored call identifier;\nc)\tshall set the MCVideo remote push requester IE with stored remote video push requester ID;\nd)\tshall set the MCVideo remote push call originator IE with stored caller ID;\ne)\tshall set the MCVideo remote push call recipient IE with stored callee ID; and\nf)\tmay set the Video Information IE with stored video information; and\n8)\tshall send the PRIVATE REMOTE VIDEO PUSH REQUEST message towards other MCVideo client according to rules and procedures as specified in clause 13.3.1.1.1.\nUpon receiving the PRIVATE REMOTE VIDEO PUSH REQUEST message, the MCVideo client:\n1)\tshall store VIDEO PUSH TRYING RESPONSE as the current message type;\n2)\tshall generate and store the call identifier as a random number uniformly distributed between (0, 65536);\n3)\tshall generate and store video information as specified in clause 17.2.17;\n4)\tshall generate a VIDEO PUSH TRYING RESPONSE message as specified in clause 17.1.22. In the VIDEO PUSH TRYING RESPONSE message, the MCVideo client:\na)\tshall set the Remote video push trying response message identity IE with stored current message type;\nb)\tshall set the Call identifier IE with the stored call identifier;\nc)\tmay set the Video Information with stored video information; and\n5)\tshall send the VIDEO PUSH TRYING RESPONSE message towards other MCVideo client according to rules and procedures as specified in clause 13.3.1.1.1;\nUpon receiving the PRIVATE REMOTE VIDEO PUSH REQUEST message, MCVideo client shall perform the procedure as specified in clause 10.3.2.4.2.1, with the following clarifications:\n1)\tshall store \"PRIVATE VIDEO PUSH CALL\" as the current call type as specified in clause 17.2.11;\nIf Video Information IE is not present in the received PRIVATE REMOTE VIDEO PUSH REQUEST message, the MCVideo client shall use the camera as source of video.\nWhen the MCVideo client receives a PRIVATE CALL SETUP REQUEST message with Commencement mode IE set to \"MANUAL COMMENCEMENT MODE\" and the call type IE set to \"PRIVATE VIDEO PUSH CALL\", it SHALL perform the procedures of clause 10.3.2.4.4.1 with the following clarifications:\n1)\tshall set the stored current call type to \"PRIVATE VIDEO PUSH CALL\" as specified in clause 17.2.11;\nWhen the MCVideo client is in an ongoing private video push call, upon an indication from MCVideo User to relese the call, the MCVideo client SHALL perform the procedures of clause 10.3.2.4.5;\nWhen the MCVideo client which initiated the private video push receives the PRIVATE CALL ACCEPT message from the recipient of the private call, the MCVideo client:\n1)\tshall store NOTIFY VIDEO PUSH as the current message type;\n2)\tshall generate and store the call identifier as a random number uniformly distributed between (0, 65536);\n3)\tshall store own MCVideo user ID as notifier ID;\n4)\tshall store MCVideo user ID of notification recipient user as notification recipient ID;\n5)\tshall store the MCVideo user ID of Video Push recipient user as callee ID, if the video push is intended for an MCVideo user;\n6)\tshall store the MCVideo group ID of Video Push recipient user as group call recipient ID, if the video push is intended for a MCVideo group;\n7)\tshall store the result as SUCCESS or FAILURE, based on whether the remote push call setup between caller and callee was successful or not;\n8)\tshall store the failure reason as specified in clause 17.2.8, if the result is set as FAILURE;\n9)\tshall generate a NOTIFY VIDEO PUSH message as specified in clause 17.1.23. In the NOTIFY VIDEO PUSH message, the MCVideo client:\na)\tshall set the Remote video push notification message identity IE with stored current message type;\nb)\tshall set the call identifier IE with the stored call identifier;\nc)\tshall set the MCVideo remote push request notifier IE with stored notifier ID;\nd)\tshall set the MCVideo remote push request notification recipient IE with stored video push requester ID;\ne)\tshall set the MCVideo remote push call recipient user IE with stored callee ID, if the video push is intended for an MCVideo user;\nf)\tshall set the MCVideo remote push call recipient group IE with stored group call recipient ID, if the video push is intended for a MCVideo group;\ng)\tshall set the Result IE with stored result; and\nh)\tif a failure reason was stored in step 8) above, shall set the Reason IE with the stored failure reason; and\n10)\tshall send the NOTIFY VIDEO PUSH message towards MCVideo client who initiated the PRIVATE REMOTE VIDEO PUSH REQUEST, according to rules and procedures as specified in clause 13.3.1.1.1.\nUpon receiving the NOTIFY VIDEO PUSH message MCVideo client may notify the MCVideo user about the video being pushed to another user.\nWhen an authorized MCVideo user wishes to push a remote video from one user to a group, authorized MCVideo client:\n1)\tshall store GROUP REMOTE VIDEO PUSH REQUEST as the current message type;\n2)\tshall generate and store the call identifier as a random number uniformly distributed between (0, 65536);\n3)\tshall store own MCVideo user ID as remote video push requester ID;\n4)\tshall store MCVideo user ID of remote video push request recipient as caller ID;\n5)\tshall store the MCVideo group ID of Video Push call recipient as group call recipient ID;\n6)\tshall generate and store the video information as specified in clause 17.2.17;\n7)\tshall generate a GROUP REMOTE VIDEO PUSH REQUEST message as specified in clause 17.1.21. In the GROUP REMOTE VIDEO PUSH REQUEST message, the MCVideo client:\na)\tshall set the remote video push setup request message identity IE with stored current message type;\nb)\tshall set the call identifier IE with the stored call identifier;\nc)\tshall set the MCVideo remote push requester IE with stored remote video push requester ID;\nd)\tshall set the MCVideo remote push call originator IE with stored caller ID;\ne)\tshall set the MCVideo remote push call recipient IE with stored group call recipient ID; and\nf)\tmay set the Video Information IE with stored video information; and\n8)\tshall send the GROUP REMOTE VIDEO PUSH REQUEST message towards the intended MCVideo Group according to rules and procedures as specified in clause 13.3.1.1.1.\nUpon accepting the remote video push request, MCVideo client shall make an Off-network broadcast group call as specified in clause 9.3.\nIf Video Information IE is not present in the received GROUP REMOTE VIDEO PUSH REQUEST message, the MCVideo client shall use the camera as source of video.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "13.3.3\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "14\tCapability information sharing",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "14.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "14.2\tOn-network capability information sharing",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "14.2.1\tGeneral",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "14.2.2\tMCVideo client procedures",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "14.2.3\tMCVideo server procedures",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "14.3\tOff-network capability information sharing",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "14.3.1\tGeneral",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "14.3.2\tMCVideo client procedures",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "14.3.3\tMCVideo server procedures",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "15\tAmbient viewing call",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "15.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause specifies the MCVideo client procedures, participating MCVideo function procedures and controlling MCVideo function procedures for on-network ambient viewing calls. The procedures as specified are applicable to both locally initiated and remotely initiated ambient viewing call.\nThe procedures for originating an ambient viewing call are initiated by the MCVideo user at the MCVideo client in the following circumstances:\n-\tan authorised MCVideo user initiates an ambient viewing call in order to view to the terminating user; or\n-\tan authorised MCVideo user initiates an ambient viewing call in order to be viewed to by the terminating user.\nThe procedures for releasing an ambient viewing call are initiated by the MCVideo user at the MCVideo client in the following circumstances:\n-\ta viewing MCVideo user initiates the ambient viewing call release; or\n-\ta viewed-to MCVideo user who was the originator of the ambient viewing call initiates the ambient viewing call release.\nThe procedures for releasing an ambient viewing call by the controlling MCVideo function are initiated in the following circumstances:\n-\tcan be triggered by the MCVideo administrator by a mechanism outside of the scope of the standard; or\n-\tcan be triggered by a call terminating event occurring at the controlling MCVideo function such as a timer expiration.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "15.2\tMCVideo client procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "15.2.1\tOn-demand ambient viewing call",
                            "text_content": "Upon receiving a request from the MCVideo user to originate a remote initiated ambient viewing call, if the <allow-request-remote-initiated-ambient-viewing> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\", the MCVideo client shall inform the MCVideo user and shall exit this procedure.\nUpon receiving a request from the MCVideo user to originate a locally initiated ambient viewing call, if the <allow-request-locally-initiated-ambient-viewing> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\", the MCVideo client shall inform the MCVideo user and shall exit this procedure.\nUpon receiving a request from an MCVideo user to establish an MCVideo ambient viewing call that has been authorised successfully by the requesting MCVideo client, the MCVideo client shall generate an initial SIP INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client:\n1)\tshall set the Request-URI of the SIP INVITE request to a public service identity of identifying the participating MCVideo function serving the MCVideo user;\n2)\tmay include a P-Preferred-Identity header field in the SIP INVITE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n3)\tshall include the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP INVITE request according to IETF RFC 3840 [22];\n4)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n5)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP INVITE request;\n6)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref contain with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n7)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"ambient-viewing\";\n8)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body an <ambient-viewing-type> element set to a value of:\na)\t\"local-init\", if the MCVideo user has requested a locally initiated ambient viewing call; or\nb)\t\"remote-init\", if the MCVideo user has requested a remotely initiated ambient viewing call;\n9)\tshall insert in the SIP INVITE request an application/resource-lists+xml MIME body with the MCVideo ID of the targeted MCVideo user in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body, according to the rules and procedures of IETF RFC 5366 [37];\nNOTE 1:\tthe targeted MCVideo user is the viewed-to MCVideo user in the case of a remotely initiated ambient viewing call or the viewing MCVideo user in the case of a locally initiated viewing call.\n10)\tif an end-to-end security context needs to be established then:\na)\tif necessary, shall instruct the key management client to request keying material from the key management server as described in 3GPP TS 33.180 [8];\nb)\tshall use the keying material to generate a PCK as described in 3GPP TS 33.180 [8];\nc)\tshall use the PCK to generate a PCK-ID with the four most significant bits set to \"0001\" to indicate that the purpose of the PCK is to protect private call communications and with the remaining twenty eight bits being randomly generated as described in 3GPP TS 33.180 [8];\nd)\tshall encrypt the PCK to a UID associated to the MCVideo client using the MCVideo ID and KMS URI of the invited user and a time related parameter as described in 3GPP TS 33.180 [8];\ne)\tshall generate a MIKEY-SAKKE I_MESSAGE using the encapsulated PCK and PCK-ID as specified in 3GPP TS 33.180 [8];\nf)\tshall add the MCVideo ID of the originating MCVideo to the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8]; and\ng)\tshall sign the MIKEY-SAKKE I_MESSAGE using the originating MCVideo user's signing key provided in the keying material together with a time related parameter, and add this to the MIKEY-SAKKE payload, as described in 3GPP TS 33.180 [8];\n11)\tshall include an SDP offer according to 3GPP TS 24.229 [11] with the clarification given in clause 6.2.1;\n12)\tif this is a locally initiated ambient viewing call, shall comply with the conditions for implicit transmit media request control as specified in clause 6.4;\n13)\tif this is a remotely initiated ambient viewing call, shall comply with the conditions for an implicit transmit media request control to the terminating MCVideo client as specified in clause 6.4;\n14) shall include in the SIP INVITE request a Priv-Answer-Mode header field with the value \"Auto\" according to the rules and procedures of IETF RFC 5373 [27]; and\n15)\tshall send the SIP INVITE request towards the participating MCVideo function according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 183(Session Progress) response to the SIP INVITE request the MCVideo client:\n1)\tif the SIP 183(Session Progress) response includes an alert-info header field as specified in IETF RFC 3261 [15] and as updated by IETF RFC 7462 [66] set to a value of \"<>\" shall not give any indication of the progress of the call setup to the MCVideo user; and\nNOTE 2:\tThe alert-info header field having the value of \"<>\" is intended to result in having a \"null\" alert, i.e. an alert with no content or physical manifestation of any kind.\n2)\tif this is a remotely initiated ambient viewing call, may indicate the progress of the session establishment to the inviting MCVideo user.\nUpon receiving a SIP 200 (OK) response to the SIP INVITE request the MCVideo client:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5];\n2)\tif this is a remotely initiated ambient viewing call, shall notify the user that the call has been successfully established;\n3)\tif this is a locally initiated ambient viewing call, shall not provide any indication to the user that the call has been successfully established;\n4)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the sent SIP INVITE request was set to a value of \"local-init\":\na)\tshall cache the value of \"viewed-to MCVideo user\" as the ambient viewing client role for this call; or\nb)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body was set to a value of \"remote-init\" shall cache the value of \"viewing MCVideo user\" as the ambient viewing client role for this call; and\n5)\tshall cache the value contained in the <ambient-viewing-type> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set in step 8) as the ambient viewing type of this call.\nUpon receipt of an initial SIP INVITE request, the MCVideo client shall follow the procedures for termination of multimedia sessions in the IM CN subsystem as specified in 3GPP TS 24.229 [11] with the clarifications below.\nThe MCVideo client:\n1)\tmay reject the SIP INVITE request if either of the conditions in step a) or b) are met:\na)\tMCVideo client is already occupied in another session and the number of simultaneous sessions exceeds <MaxCall>, the maximum simultaneous MCVideo session for private call, as specified in TS 24.484 [25]; or\nb)\tMCVideo client does not have enough resources to handle the call;\nc)\tif neither condition a) nor b) are met, continue with the rest of the steps;\n2)\tif the SIP INVITE request is rejected in step 1):\na)\tshall respond towards the participating MCVideo function either with:\ni)\tan appropriate reject code as specified in 3GPP TS 24.229 [11] and warning texts as specified in clause 4.4.2; or\nii)\twith a SIP 480 (Temporarily unavailable) response not including warning texts if the user is authorised to restrict the reason for failure according to <allow-failure-restriction> as specified in 3GPP TS 24.484 [25]; and\nb)\tskip the rest of the steps of this clause;\n3)\tif the SDP offer of the SIP INVITE request contains an \"a=key-mgmt\" attribute field with a \"mikey\" attribute value containing a MIKEY-SAKKE I_MESSAGE:\na)\tshall extract the MCVideo ID of the originating MCVideo from the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8];\nb)\tshall convert the MCVideo ID to a UID as described in 3GPP TS 33.180 [8];\nc)\tshall use the UID to validate the signature of the MIKEY-SAKKE I_MESSAGE as described in 3GPP TS 33.180 [8];\nd)\tif authentication verification of the MIKEY-SAKKE I_MESSAGE fails, shall reject the SIP INVITE request with a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and include warning text set to \"136 authentication of the MIKEY-SAKKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4; and\ne)\tif the signature of the MIKEY-SAKKE I_MESSAGE was successfully validated:\ni)\tshall extract and decrypt the encapsulated PCK using the terminating user's (KMS provisioned) UID key as described in 3GPP TS 33.180 [8]; and\nii)\tshall extract the PCK-ID, from the payload as specified in 3GPP TS 33.180 [8];\nNOTE 1:\tWith the PCK successfully shared between the originating MCVideo client and the terminating MCVideo client, both clients are able to use SRTP/SRTCP to create an end-to-end secure session.\n4)\tmay check if a Resource-Priority header field is included in the incoming SIP INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n5)\tif the received SIP INVITE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with the <ambient-viewing-type> element set to a value of \"local-init\", may display to the MCVideo user the MCVideo ID of the inviting MCVideo user;\n6)\tshall perform the automatic commencement procedures specified in clause 6.2.3.1.1;\nNOTE 2:\tAuto-answer is the commencement mode for both participants in locally initiated and remotely initiated ambient viewing calls.\n7)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP INVITE request was set to a value of \"remote-init\":\na)\tshall cache the value of \"viewed-to MCVideo user\" as the ambient viewing client role for this call; or;\nb)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body was set to a value of \"local-init\" \" shall cache the value of \"viewing MCVideo user\" as the ambient viewing client role for this call;\n8)\tif the received SIP INVITE request includes an alert-info header field as specified in IETF RFC 3261 [15] and as updated by IETF RFC 7462 [66] set to a value of \"<file:///dev/null>\" shall not give any indication of the progress of the call to the MCVideo user;\nNOTE 3:\tThe alert-info header field having the value of \"<file:///dev/null>\" is intended to result in having a \"null\" alert, i.e. an alert with no content or physical manifestation of any kind.\n9)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body is set to a value of \"local-init\", should provide an indication to the MCVideo user that the ambient viewing call is in progress; and\nNOTE 4:\tThe terminating user in a remotely initiated ambient viewing is the viewed-to MCVideo user and is intended to be totally unaware that their camera is activated and a call is in progress.\n10)\tshall cache as the ambient viewing type for the call the value contained in the <ambient-viewing-type> element of the application/vnd.3gpp.mcvideo-info+xml MIME body contained in the received SIP INVITE request.\nUpon receiving a request from an MCVideo user to release an MCVideo ambient viewing call:\nThe MCVideo client:\n1)\tif the MCVideo client has not received a g.3gpp.mcvideo.ambient-viewing-call-release feature-capability indicator as described in clause D.3 in the Feature-Caps header field according to IETF RFC 6809 [63] in;\na)\ta received SIP INVITE request for the ambient viewing call; or\nb)\ta received SIP 200 (OK) response to a sent SIP INVITE request for the ambient viewing call;\nthen shall skip the rest of the steps;\n2)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5];\n3)\tshall generate a SIP BYE request according to rules and procedures of 3GPP TS 24.229 [11] and IETF RFC 6086 [21]; and\n4)\tshall send the SIP BYE request within the dialog of the MCVideo ambient call session as specified in 3GPP TS 24.229 [11].\nUpon receipt of the SIP 200 (OK) response to the SIP BYE request the MCVideo client:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5];\n2)\tif the cached ambient viewing client role is equal to \"viewed-to MCVideo user\", shall provide no indication that an ambient viewing call has been terminated;\n3)\tif the cached ambient viewing client role is equal to \"viewing MCVideo user\", may provide an indication to the MCVideo user that the ambient viewing call has been terminated; and\n4)\tshall clear the cache of the data stored as:\na)\tambient viewing client role; and\nb)\tambient viewing type.\nThis clause is referenced from other procedures.\nUpon receipt of a SIP BYE request in the dialog of an ambient viewing session, the MCVideo client:\n1)\tshall comply with the procedures of clause 6.2.6;\n2)\tif the cached ambient viewing client role is equal to \"viewed-to MCVideo user\", shall provide no indication that an ambient viewing call has been terminated;\n3)\tif the cached ambient viewing client role is equal to \"viewing MCVideo user\", may provide an indication to the MCVideo user that the ambient viewing call has been terminated; and\n4)\tshall clear the cache of the data stored as:\na)\tambient viewing client role; and\nb)\tambient viewing type.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "15.2.2\tAmbient viewing call using pre-established session",
                            "text_content": "Upon receiving a request from the MCVideo user to originate a remote initiated ambient viewing call, if the <allow-request-remote-initiated-ambient-viewing> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\", the MCVideo client shall inform the MCVideo user and shall exit this procedure.\nUpon receiving a request from the MCVideo user to originate a locally initiated ambient viewing call, if the <allow-request-locally-initiated-ambient-viewing> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\", the MCVideo client shall inform the MCVideo user and shall exit this procedure.\nUpon receiving a request from an MCVideo user to establish an MCVideo ambient viewing call that has been authorised successfully by the requesting MCVideo client within a pre-established session, the MCVideo client shall generate a SIP REFER request outside a dialog in accordance with the procedures specified in 3GPP TS 24.229 [11], IETF RFC 4488 [31] and IETF RFC 3515 [64] as updated by IETF RFC 6665 [16] and IETF RFC 7647 [65], with the clarifications given below.\nIf an end-to-end security context needs to be established the MCVideo client:\n1)\tif necessary, shall instruct the key management client to request keying material from the key management server as described in 3GPP TS 33.180 [8];\n2)\tshall use the keying material to generate a PCK as described in 3GPP TS 33.180 [8];\n3)\tshall use the PCK to generate a PCK-ID with the four most significant bits set to \"0001\" to indicate that the purpose of the PCK is to protect private call communications and with the remaining twenty eight bits being randomly generated as described in 3GPP TS 33.180 [8];\n4)\tshall encrypt the PCK to a UID associated to the MCVideo client using the MCVideo ID of the invited user and a time related parameter as described in 3GPP TS 33.180 [8];\n5)\tshall generate a MIKEY-SAKKE I_MESSAGE using the encapsulated PCK and PCK-ID as specified in 3GPP TS 33.180 [8];\n6)\tshall add the MCVideo ID of the originating MCVideo to the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8]; and\n7)\tshall sign the MIKEY-SAKKE I_MESSAGE using the originating MCVideo user's signing key provided in the keying material together with a time related parameter, and add this to the MIKEY-SAKKE payload, as described in 3GPP TS 33.180 [8].\nThe MCVideo client populates the SIP REFER request as follows:\n1)\tshall include the Request-URI set to the public service identity identifying the pre-established session on the MCVideo server serving the MCVideo user;\n2)\tshall include the Refer-Sub header field with value \"false\" according to the rules and procedures of IETF RFC 4488 [31];\n3)\tshall include the Supported header field with value \"norefersub\" according to the rules and procedures of 4)\tshall include the option tag \"multiple-refer\" in the Require header field;\n5)\tmay include a P-Preferred-Identity header field in the SIP REFER request containing a public user identity as specified in 3GPP TS 24.229 [11];\n6)\tshall include a P-Preferred-Service header field set to the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), according to IETF RFC 6050 [14];\n7)\tshall set the Refer-To header field of the SIP REFER request as specified in IETF RFC 3515 [64] with a Content-ID (\"cid\") Uniform Resource Locator (URL) as specified in IETF RFC 2392 [49] that points to an application/resource-lists+xml MIME body as specified in IETF RFC 5366 [37], and with the Content-ID header field set to this \"cid\" URL;\n8)\tshall include in the application/resource-lists+xml MIME body a single <entry> element in a <list> element in the <resource-lists> element, where the <entry> element contains a \"uri\" attribute set to the MCVideo ID of the targeted user, extended with hname \"body\" parameter containing:\na)\tan application/vnd.3gpp.mcvideo-info MIME body containing:\ni)\ta <session-type> element set to \"ambient-viewing\";\nii)\tif the MCVideo user has requested a locally initiated ambient viewing call, an <ambient-viewing-type> element set to a value of \"local-init\"; or\niii)\tif the MCVideo user has requested a remotely initiated ambient viewing call, an <ambient-viewing-type> element set to a value of \"remote-init\";\nb)\ta Priv-Answer-Mode header field with the value \"Auto\" according to the rules and procedures of IETF RFC 5373 [27];\nc)\tif end-to-end security is required for the ambient viewing call, an application/sdp MIME body containing the SDP parameters of the pre-established session according to 3GPP TS 24.229 [11] with the clarification given in clause 6.2.1;\nd)\tif this is a locally initiated ambient viewing call, shall comply with the implicit transmit media request as specified in clause 6.4; and\ne)\tif this is a remotely initiated ambient viewing call, shall comply with the implicit transmit media reqeust to the terminating MCVideo client as specified in clause 6.4; and\n9)\tshall include a Target-Dialog header field as specified in IETF RFC 4538 [32] identifying the pre-established session.\nUpon receiving a final SIP 2xx response to the SIP REFER request the MCVideo client:\n1)\tshall interact with media plane as specified in 3GPP TS 24.581 [5]; and\n2)\tif this is a locally initiated ambient viewing call, shall not provide any indication to the user that the call setup is in progress.\nOn video establishment by interaction with the media plane as specified in 3GPP TS 24.581 [5] if the sent SIP REFER request the MCVideo client:\nEditor's Note [CT1#108, CR0033, C1-180501]:\tThe call setup and release over the pre-established session need defined in the 3GPP TS 24.581 [5].\n1)\tif the MCVideo user has requested a locally initiated ambient viewing call shall provide no indication to the MCVideo user that the ambient viewing call has been successfully established;\n2)\tif the MCVideo user has requested a remotely initiated ambient viewing call shall provide an indication to the MCVideo user that the ambient viewing call has been successfully established;\n3)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the sent SIP REFER request was set to a value of \"local-init\":\na)\tshall cache the value of \"viewed-to MCVideo user\" as the ambient viewing client role for this call; or\nb)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body was set to a value of \"remote-init\" shall cache the value of \"viewing MCVideo user\" as the ambient viewing client role for this call; and\n4)\tshall cache the value contained in the <ambient-viewing-type> element of the application/vnd.3gpp.mcvideo-info+xml MIME body set in step 8) as the ambient viewing type of this call.\nThe MCVideo client shall follow the procedures for termination of multimedia sessions for ambient viewing calls as specified in clause 15.2.1.2.\nNOTE:\tThe terminating MCVideo client in an ambient viewing call receives a SIP INVITE request with Replaces header field when using a pre-established session.\nUpon receiving a request from an MCVideo user to release an MCVideo ambient viewing call when using a pre-established MCVideo session:\nThe MCVideo client:\n1)\tif the MCVideo client has not received a g.3gpp.mcvideo.ambient-viewing-call-release feature-capability indicator as described in clause D.3 in the Feature-Caps header field according to IETF RFC 6809 [63] in;\na)\ta received SIP INVITE request for the ambient viewing call; or\nb)\ta received SIP 200 (OK) response to a sent SIP INVITE request or SIP REFER request for the ambient viewing call;\nthen shall skip the rest of the steps; and\n2)\tshall perform the actions specified in clause 6.2.5.2.\nIf the procedures of clause 6.2.5.2 were successful:\n1)\tif the cached ambient viewing client role is equal to \"viewed-to MCVideo user\", shall provide no indication that an ambient viewing call has been terminated;\n2)\tif the cached ambient viewing client role is equal to \"viewing MCVideo user\", may provide an indication to the MCVideo user that the ambient viewing call has been terminated; and\n3)\tshall clear the cache of the data stored as:\na)\tambient viewing client role; and\nb)\tambient viewing type.\nUpon receiving a SIP INFO request containing an application/vnd.3gpp.mcvideo-info+xml MIME body containing a <release-reason> element, the MCVideo client:\n1)\tif the cached ambient viewing client role is equal to \"viewed-to MCVideo user\", shall provide no indication that an ambient viewing call is being terminated;\n2)\tif the cached ambient viewing client role is equal to \"viewing  MCVideo user\", should provide an indication to the MCVideo user that an ambient viewing call is being terminated;\n3)\tshall generate and send a SIP 200 OK response to the SIP INFO request according to 3GPP TS 24.229 [11]; and\n4)\tshall comply with the procedures of clause 15.2.2.5.\nThis clause is referenced from other procedures.\nUpon receiving an interaction with the media plane indicating release of the ambient viewing call but preservation of the pre-established session as specified in 3GPP TS 24.581 [5], the MCVideo client:.\nEditor's Note [CT1#108, CR0033, C1-180501]:\tThe call setup and release over the pre-established session need defined in the 3GPP TS 24.581 [5].\n1)\tif the cached ambient viewing client role is equal to \"viewed-to MCVideo user\", shall provide no indication that an ambient viewing call has been terminated;\n2)\tif the cached ambient viewing client role is equal to \"viewing MCVideo user\", may provide an indication to the MCVideo user that the ambient viewing call has been terminated; and\n3)\tshall clear the cache of the data stored as:\na)\tambient viewing client role; and\nb)\tambient viewing type.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "15.3\tParticipating MCVideo function procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "15.3.1\tOriginating procedures",
                            "text_content": "Upon receipt of a \"SIP INVITE request for originating participating MCVideo function” containing an application/vnd.3gpp.mcvideot-info+xml MIME body with the <session-type> element set to a value of \"ambient-viewing”, the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the “SIP INVITE request for originating participating MCVideo function” with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and shall not continue with the rest of the steps;\n2)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP INVITE request and shall authorise the user;\nNOTE 1:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif the participating MCVideo function cannot find a binding between the public user identity and an MCVideo ID or if the validity period of an existing binding has expired, then the participating MCVideo function shall reject the SIP INVITE request with a SIP 404 (Not Found) response with the warning text set to “141 user unknown to the participating function” in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n4)\tif the <ambient-viewing-type> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP INVITE request is set to a value of:\na)\t“remote-init” and an <allow-request-remote-initiated-ambient-viewing> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of “false”; or\nb)\t\"local-init\" and an <allow-request-locally-initiated-ambient-viewing> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of “false\";\nthen shall reject the “SIP INVITE request for originating participating MCVideo function” with a SIP 403 (Forbidden) response, with warning text set to “154 The MCVideo user is not authorised to make an ambient viewing call” in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n5)\tshall determine the public service identity of the controlling MCVideo function for the ambient viewing call service associated with the originating user's MCVideo ID identity. If the participating MCVideo function is unable to identify the controlling MCVideo function for the ambient viewing call service associated with the originating user's MCVideo ID identity, it shall reject the SIP INVITE request with a SIP 404 (Not Found) response with the warning text “142 unable to determine the controlling function” in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n6)\tif the incoming SIP INVITE request does not contain an application/resource-lists+xml MIME body or contains an application/resource-lists+xml MIME body with more than one <entry> element in one or more <list> elements in the <resource-lists> element, shall reject the ”SIP INVITE request for originating participating MCVideo function” with a SIP 403 (Forbidden) response including warning text set to “145 unable to determine called party” in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n7)\tif the <allow-private-call> element of the <ruleset> element is not present in the MCVideo user profile document on the participating MCVideo function or is present with the value “false” (see the MCVideo user profile document in 3GPP TS 24.484 [25]), indicating that the user identified by the MCVideo ID is not authorised to initiate private calls, shall reject the ”SIP INVITE request for originating participating MCVideo function” with a SIP 403 (Forbidden) response, with warning text set to “107 user not authorised to make private calls\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n8)\tif the <PrivateCall> element exists in the MCVideo user profile document with one or more <entry> elements (see the MCVideo user profile document in 3GPP TS 24.484 [25]) and:\na)\tif the “uri” attribute of the <entry> element in a <list> element in the <resource-lists> element of the application/resource-lists+xml MIME body does not match with one of the <entry> elements of the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]); and\nb)\tif configuration is not set in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) that allows the MCVideo user to make a private call to users not contained within the <entry> elements of the <PrivateCall> element;\nthen:\na)\tshall reject the “SIP INVITE request for originating participating MCVideo function” with a SIP 403 (Forbidden) response including warning text set to “144 user not authorised to call this particular user” in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n9)\tshall validate the media parameters and if the MCVideo video codec is not offered in the “SIP INVITE request for originating participating MCVideo function” shall reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n10)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.3;\n11)\tshall set the Request-URI to the public service identity of the controlling MCVideo function hosting the private call service;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the handled MCVideo group ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n12)\tshall set the <mcvideo-calling-user-id> element in an application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request to the MCVideo ID of the calling user;\n13)\tif the Priv-Answer-Mode header field specified in IETF RFC 5373 [27] was received in the incoming SIP INVITE request with a value of \"Auto\" or if no Priv-Answer-Mode header field was received in the incoming SIP INVITE request or a Priv-Answer-Mode header field was received containing a value other than \"Auto\", shall include the Priv-Answer-Mode header field set to a value of \"Auto\" in the outgoing SIP INVITE request;\n14)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received \"SIP INVITE request for originating participating MCVideo function\", as specified in clause 6.3.2.1.1.1; and\n15)\tshall forward the SIP INVITE request, according to 3GPP TS 24.229 [11].\nUpon receiving from the MCVideo client a SIP BYE request the participating MCVideo function:\n1)\tshall follow the procedures as specified in clause 10.2.4.2.1.1.\nUpon receiving from the MCVideo client a SIP REFER request when using a pre-established session with the \"method\" SIP URI parameter set to value \"BYE\" in the URI in the Refer-To header field the participating MCVideo function shall follow the procedures as specified in clause X1.\nEditor's Note [CT1#108, CR0034, C1-180568]:\tThe procedures will defined in the future.\nUpon receipt of a \"SIP REFER request for a pre-established session\", with:\n1)\tthe Refer-To header field containing a Content-ID (\"cid\") Uniform Resource Locator (URL) as specified in IETF RFC 2392 [49] that points to an application/resource-lists+xml MIME body as specified in IETF RFC 5366 [37] containing one <entry> element in a <list> element in the <resource-lists> element where the <entry> element contains a \"uri\" attribute containing a SIP URI set to the MCVideo ID of the called user(s);\n2)\ta \"body\" parameter of the SIP URI specified above containing an application/vnd.3gpp.mcvideo-info MIME body with the <session-type> element set to \"ambient-viewing\"; and\n3)\ta Content-ID header field set to the \"cid\" URL;\nthe participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and shall not continue with the rest of the steps;\n2)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP REFER request;\n3)\tif the participating MCVideo function cannot find a binding between the public user identity and an MCVideo ID or if the validity period of an existing binding has expired, then the participating MCVideo function shall reject the SIP REFER request with a SIP 404 (Not Found) response with the warning text set to \"141 user unknown to the participating function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n4)\tif the received SIP REFER request does not contain an application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field, shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n5)\tif the received SIP REFER request contains an application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field with more than one <entry> element in one or more <list> elements in the <resource-lists> element where each <entry> element contains an application/vnd.3gpp.mcvideo-info MIME body with the <session-type> element, shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n6)\tif the received SIP REFER request contains an application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field with only one <entry> element in a <list> element in the <rersource-lists> element where that <entry> element contains an application/vnd.3gpp.mcvideo-info MIME body with the <session-type> element not set to \"ambient-viewing\", shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response including warning text set to \"145 unable to determine called party\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n7)\tif the <ambient-viewing-type> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP REFER request is set to a value of:\na)\t\"remote-init\" and an <allow-request-remote-initiated-ambient-viewing> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\"; or\nb)\t\"local-init\" and an <allow-request-locally-initiated-ambient-viewing> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\";\nthen shall reject the \"SIP REFER request for a pre-established session\" with a SIP 403 (Forbidden) response, with warning text set to \"154 The MCVideo user is not authorised to make an ambient viewing call\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n8)\tshall determine the public service identity of the controlling MCVideo function for the ambient viewing call service associated with the originating user's MCVideo ID;\nNOTE 1:\tHow the participating MCVideo server discovers the public service identity of the controlling MCVideo function associated with the ambient viewing call service of the calling user is out of scope of the current document.\n9)\tif the participating MCVideo function is unable to identify the controlling MCVideo function for the ambient viewing call service associated with the originating user's MCVideo ID, it shall reject the REFER request with a SIP 404 (Not Found) response with the warning text \"142 unable to determine the controlling function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n10)\tif the <allow-private-call> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the participating MCVideo function or is present with the value \"false\", indicating that the user identified by the MCVideo ID is not authorised to initiate private calls, shall reject the \"SIP REFER request for pre-established session\"with a SIP 403 (Forbidden) response to the SIP INVITE request, with warning text set to \"107 user not authorised to make private calls\" in a Warning header field as specified in clause 4.4;\n11)\tif the <PrivateCall> element exists in the MCVideo user profile document with one or more <entry> elements (see the MCVideo user profile document in 3GPP TS 24.484 [25]) and:\na)\tthe \"uri\" attribute of each and every <entry> element of all <list> elements in the <resource-lists> element of the application/resource-lists+xml MIME body referenced by a \"cid\" URL in the Refer-To header field does not match with any of the <entry> elements of the <PrivateCall> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]); and\nb)\tif configuration is not set in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) that allows the MCVideo user to make a private call to users not contained within the <entry> elements of the <PrivateCall> element;\nthen:\na)\tshall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"144 user not authorised to call this particular user\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\n12)\tif the \"SIP REFER request for a pre-established session\" contained a Refer-Sub header field containing \"false\" value and a Supported header field containing \"norefersub\" value, shall handle the SIP REFER request as specified in 3GPP TS 24.229 [11], IETF RFC 3515 [64] as updated by IETF RFC 6665 [16], and IETF RFC 4488 [31] without establishing an implicit subscription;\n13)\tshall generate a final SIP 200 (OK) response to the \"SIP REFER request for a pre-established session\" according to 3GPP TS 24.229 [11];\nNOTE 2:\tIn accordance with IETF RFC 4488 [31], the participating MCVideo function inserts the Refer-Sub header field containing the value \"false\" in the SIP 200 (OK) response to the SIP REFER request to indicate that it has not created an implicit subscription.\n14)\tshall include in the SIP 200 (OK) response the g.3gpp.mcvideo.ambient-viewing-call-release feature-capability indicator as described in clause D.3 in the Feature-Caps header field according to IETF RFC 6809 [63];\nNOTE 3: The originator of the ambient viewing call is either the initiator of a \"remote-init\" ambient viewing type call or the originator of a \"local-init\" ambient viewing type call. In either case, the originating user is allowed to release the ambient viewing call.\n15)\tshall send the response to the \"SIP REFER request for a pre-established session\" towards the MCVideo client according to 3GPP TS 24.229 [11];\n16)\tshall generate a SIP INVITE request as specified in clause X2;\nEditor's Note [CT1#108, CR0034, C1-180568]:\tThe procedures will defined in the future.\n17)\tshall include a Priv-Answer-Mode header field set to a value of \"Auto\" in the outgoing SIP INVITE request;\n18)\tshall set the Request-URI of the SIP INVITE request to the public service identity of the controlling MCVideo function hosting the ambient viewing call service for the calling MCVideo user as determined above in step 7); and\nNOTE 4:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 5:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 6:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 7:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the handled MCVideo group ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 8:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nNOTE 9:\tThe participating MCVideo function will leave verification of the Resource-Priority header field to the controlling MCVideo function.\n19)\tshall forward the SIP INVITE request according to 3GPP TS 24.229 [11].\nUpon receiving SIP provisional responses for the SIP INVITE request the participating MCVideo function:\n1)\tshall discard the received SIP responses without forwarding them.\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request the participating MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "15.3.2\tTerminating procedures",
                            "text_content": "Upon receipt of a \"SIP INVITE request for terminating participating MCVideo function\", the participating MCVideo function:\nNOTE:\tThe procedures in the present clause are applicable for both on-demand and pre-established sessions.\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the \"SIP INVITE request for terminating participating MCVideo function\" with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15], and shall not continue with the rest of the steps;\n2)\tshall check the presence of the isfocus media feature tag in the URI of the Contact header field and if it is not present then the participating MCVideo function shall reject the request with a SIP 403 (Forbidden) response with the warning text set to \"104 isfocus not assigned\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n3)\tshall use the MCVideo ID present in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request to retrieve the binding between the MCVideo ID and public user identity;\n4)\tif the binding between the MCVideo ID and public user identity does not exist, then the participating MCVideo function shall reject the SIP INVITE request with a SIP 404 (Not Found) response. Otherwise, continue with the rest of the steps;\n5)\twhen the called user identified by the MCVideo ID is unable to participate in private calls as identified in the called user's MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) on the terminating participating MCVideo function, shall reject the \"SIP INVITE request for terminating participating MCVideo function\" with a SIP 403 (Forbidden) response including warning text set to \"127 user not authorised to be called in private call\" in a Warning header field as specified in clause 4.4; and\n6)\tshall perform the automatic commencement procedures specified in clause 6.3.2.2.5.1 and according to IETF RFC 5373 [27].\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 10.2.4.2.2.1.\nUpon receiving a SIP BYE request from the controlling MCVideo function for an ambient viewing call and if the MCVideo session id refers to an MCVideo user that has a pre-established session with the participating MCVideo function, the participating MCVideo function:\n1)\tif the SIP BYE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body:\na)\tshall generate a SIP INFO request according to rules and procedures of 3GPP TS 24.229 [11] and IETF RFC 6086 [21];\nb)\tshall include the Info-Package header field set to g.3gpp.mcvideo-info in the SIP INFO request;\nc)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP BYE request to the SIP INFO request; and\nd)\tshall send the SIP INFO request towards the targeted MCVideo client in the dialog of the pre-established session according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 2xx response for the sent SIP INFO request, shall perform the procedures specified in clause X3.\nEditor's Note [CT1#108, CR0034, C1-180568]:\tThe procedures will defined in the future.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "15.4\tControlling MCVideo function procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "15.4.1\tOriginating procedures",
                            "text_content": "This clause describes the procedures for inviting an MCVideo user to an MCVideo ambient viewing session. The procedure is initiated by the controlling MCVideo function as the result of an action in clause 15.4.2.\nThe controlling MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.3.1.2;\nNOTE 1:\tAs a result of calling clause 6.3.3.1.2, the <mcvideo-calling-user-id> containing the calling user's MCVideo ID is copied into the outgoing SIP INVITE.\n2)\tshall copy the MCVideo ID of the MCVideo user listed in the MIME resources body of the incoming SIP INVITE request, into the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the outgoing SIP INVITE request;\n3)\tshall set the Request-URI to the public service identity of the terminating participating MCVideo function associated to the MCVideo user to be invited;\nNOTE 2:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the handled MCVideo group ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the controlling MCVideo function;\n5)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the originating network according to the procedures specified in clause 6.3.3.1.1;\n6)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP INVITE request is set to a value of \"local-init\", shall include the g.3gpp.mcvideo.ambient-viewing-call-release feature-capability indicator as described in clause D.3 in the Feature-Caps header field according to IETF RFC 6809 [63];\nNOTE 4:\tThe only case where the terminating user can release the ambient viewing call is when the terminating client is the \"viewing MCVideo user\";\n7)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP INVITE request is set to a value of \"remote-init\", shall include in the outgoing SIP INVITE request an alert-info header field set to a value of \"<file:///dev/null>\" according to IETF RFC 3261 [15];\n8)\tshall send the SIP INVITE request towards the core network according to 3GPP TS 24.229 [11]; and\n9)\tshall start a private call timer with a value set to the configured max private call duration for the user.\nUpon receiving SIP 200 (OK) response for the SIP INVITE request the controlling MCVideo function:\n1)\tshall cache the contact received in the Contact header field; and\n2)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nUpon expiry of the private call timer, the controlling MCVideo function shall follow the procedure for releasing the ambient viewing call session as specified in clause 15.4.3 with the clarification that the <release-reason> element included in the SIP BYE request shall be set to \"private-call-timer-expiry\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "15.4.2\tTerminating procedures",
                            "text_content": "Upon receiving of a \"SIP INVITE request for controlling MCVideo function of an ambient viewing call\" the controlling MCVideo function:\n1)\tshall check whether the public service identity contained in the Request-URI is allocated for ambient viewing call and perform the actions specified in clause 6.3.7.1 if it is not allocated and skip the rest of the steps;\n2)\tshall perform actions to verify the MCVideo ID of the inviting MCVideo user in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request, and authorise the request according to local policy;\n3)\tif the request is not authorised as determined by step 2) above, the controlling MCVideo function shall return a SIP 403 (Forbidden) response with the warning text as specified in \"Warning header field\" and skip the rest of the steps;\n4)\tshall validate that the received SDP offer includes at least one media stream for which the media parameters and at least one codec or media format is acceptable by the controlling MCVideo function and if not, reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\n5)\tshall perform actions as described in clause 6.3.3.2.2;\n6)\tshall allocate an MCVideo session identity for the MCVideo ambient viewing call session; and\n7)\tshall invite the MCVideo user listed in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body of received SIP INVITE request as specified in clause 15.4.1.\nIf the procedures of clause 15.4.1 were successful in inviting the MCVideo user listed in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body of received SIP INVITE request, the controlling MCVideo function:\n1)\tshall generate a SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.3.2.3.2 before continuing with the rest of the steps;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.2;\n3)\tshall include in the SIP 200 (OK) response the g.3gpp.mcvideo.ambient-viewing-call-release feature-capability indicator as described in clause D.3 in the Feature-Caps header field according to IETF RFC 6809 [63];\nNOTE:\tThe originator of the ambient viewing call is either the initiator of a \"remote-init\" ambient viewing type call or the originator of a \"local-init\" ambient viewing type call. In either case, the originating user is allowed to release the ambient viewing call.\n4)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5];\n5)\tshall send a SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11];\n6)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP INVITE request is set to a value of \"remote-init\":\na)\tshall cache the MCVideo ID contained in the <mcvideo-calling-user-id> element of the received SIP INVITE request as the viewing MCVideo user of the ambient viewing call and cache the MCVideo ID contained in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body of the received SIP INVITE request as the viewed-to MCVideo user; and\nb)\tshall cache the ambient viewing type of the ambient viewing call as \"remote-init\"; and\n7)\tif the <ambient-viewing-type> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP INVITE request is set to a value of \"local-init\":\na)\tshall cache the MCVideo ID contained in the <mcvideo-calling-user-id> element of the received SIP INVITE request as the viewed-to MCVideo user of the ambient viewing call and cache the MCVideo ID contained in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body of the received SIP INVITE request as the viewing MCVideo user; and\nb)\tshall cache the ambient viewing type of the ambient viewing call as \"local-init\".\nIf the procedures of clause 15.4.1 were not successful in inviting the MCVideo user listed in the \"uri\" attribute of an <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body of the received SIP INVITE request, the controlling MCVideo function shall reject the received SIP INVITE request with a SIP 480 (Temporarily Unavailable) response and skip the remaining procedures of the present clause.\nThe controlling MCVideo function shall forward any other SIP response that does not contain SDP, including any MIME bodies contained therein, along the signalling path to the originating network according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "15.4.3\tServer initiated ambient call release",
                            "text_content": "The ambient viewing call release is triggered by an MCVideo administrator by a mechanism outside of the scope of the standard, or directly by the controlling MCVideo function.\nThis clause is referenced from other procedures.\nUpon receipt of a trigger to release an ongoing ambient viewing call identified by the MCVideo ID of the viewing MCVideo user, the MCVideo ID of the viewed-to MCVideo user and the ambient viewing type of the call, the controlling MCVideo function:\n1)\tshall identify the MCVideo sessions of the viewing MCVideo user and the MCVideo ID of the viewed-to MCVideo user for the ambient viewing call to be released;\n2)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] for the MCVideo session release;\n3)\tshall generate a SIP BYE request according to rules and procedures of 3GPP TS 24.229 [11] to be sent in the dialog for the ambient viewing call with the MCVideo client of the viewed-to MCVideo user; and\n4)\tshall send the SIP BYE request in the dialog for the ambient viewing call with the MCVideo client of the viewed-to MCVideo user.\nUpon receipt of a SIP 200 (OK) response to the SIP BYE request the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] for the MCVideo session release;\n2)\tshall generate a SIP BYE requests according to 3GPP TS 24.229 [11];\n3)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP BYE request including a <release-reason> element set to a value of:\na)\t\"administrator-action\" if triggered by an MCVideo administrator;\nb)\t\"private-call-expiry\" if the ambient viewing call is released due to the expiry of the private call timer;\nc)\t\"call-request-for-viewed-to-client\" if there is a call request targeted to the viewed-to client; or\nd)\t\"call-request-initiated-by-viewed-to-client\" if there is a call request initiated by the viewed-to client; and\n4)\tshall send the SIP BYE requests in the dialog for the ambient viewing call with the MCVideo client of the viewing MCVideo user according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 200 (OK) response to the SIP BYE request sent to the MCVideo client of the viewing MCVideo user the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in clause 6.3 in 3GPP TS 24.581 [5] for releasing media plane resources associated with the SIP sessions with the MCVideo clients; and\n2)\tshall delete the following cached data for the ambient viewing call:\na)\tthe MCVideo ID of the viewed-to MCVideo user;\nb)\tthe MCVideo ID of the viewing MCVideo user; and\nc)\tthe value of the ambient viewing type.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "15.4.4\tReception of a SIP BYE request",
                            "text_content": "Upon receipt of a SIP BYE request for an ambient viewing session the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in clause 6.3 in 3GPP TS 24.581 [5] for releasing the media plane resource associated with the SIP session towards the MCVideo client;\n2)\tshall generate a SIP BYE request according to 3GPP TS 24.229 [11]; and\n3)\tshall send the SIP BYE request in the dialog of the other participant in the ambient viewing call according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response to the sent SIP BYE request the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in clause 6.3 in 3GPP TS 24.581 [5] for releasing media plane resources associated with the SIP session with the MCVideo ambient viewing call participant;\n2)\tshall generate a SIP 200 (OK) response to the received SIP BYE request and send the SIP 200 (OK) response towards the MCVideo client according to 3GPP TS 24.229 [11]; and\n3)\tshall delete the following cached data for the ambient viewing call:\na)\tthe MCVideo ID of the viewed-to MCVideo user;\nb)\tthe MCVideo ID of the viewing MCVideo user; and\nc)\tthe value of the ambient viewing type.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "16\tUse of MBMS transmission (on-network)",
            "description": "\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "16.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the participating MCVideo function and the MCVideo client procedure for:\n1)\tMBMS bearer announcements;\n2)\tMBMS bearer listening status; and\n3)\tMBMS bearer suspension status.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "16.2\tMCVideo client procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "16.2.1\tGeneral",
                            "text_content": "This clause describes the procedures in the MCVideo client for:\n1)\treceiving an MBMS bearer announcement from the participating MCVideo function;\n2)\tsending an MBMS bearer listening status report to the participating MCVideo function; and\n3)\tsending an MBMS bearer suspension status report to the participating MCVideo function.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16.2.2\tReceiving an MBMS bearer announcement",
                            "text_content": "The MCVideo client associates each received application/sdp MIME body and each received security key with a general purpose MBMS subchannel announced in the same MBMS Bearer Announcement message. When receiving a MapGroupToBearer message, the MCVideo client interprets its content (e.g. the m= line number) in the context of the application/sdp MIME body associated with the general purpose MBMS subchannel on which the MapGroupToBearer was received.\nWhen the MCVideo client receives a SIP MESSAGE request containing:\n1)\ta P-Asserted-Service header field containing the \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\n2)\tan application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body containing one or more <announcement> element(s);\nthen the MCVideo client for each <announcement> element in the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body:\n1)\tif the <mbms-service-areas> element is present:\na)\tif an <announcement> element with the same value of the <TMGI> element is already stored:\ni)\tshall replace the old <announcement> element with the <announcement> element received in the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body;\nb)\tif there is no <announcement> element with the same value of the <TMGI> element stored:\ni)\tshall store the received <announcement> element;\nc)\tshall associate the received announcement with the received application/sdp MIME body;\nd)\tshall associate the received announcement with the received <GPMS> element;\ne)\tshall store the MBMS public service identity of the participating MCVideo function received in the P-Asserted-Identity header field and associate the MBMS public service identity with the new <announcement> element;\nf)\tif a \"a=key-mgmt\" media-level attribute with the \"mikey\" key management and protocol identifier and a MIKEY-SAKKE I_MESSAGE is included for the general purpose MBMS subchannel defined in the \"m=application\" media line in the application/sdp MIME body in the received SIP MESSAGE request,\ni)\tshall extract the initiator URI from the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8]. If the initiator URI deviates from the public service identity of the participating MCVideo function serving the MCVideo user, shall reject the SIP MESSAGE request with a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and include warning text set to \"136 authentication of the MIKEY-SAKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nii)\tshall convert the initiator URI to a UID as described in 3GPP TS 33.180 [8];\niii)\tshall use the UID to validate the signature of the MIKEY-SAKKE I_MESSAGE as described in 3GPP TS 33.180 [8];\niv)\tif authentication verification of the MIKEY-SAKKE I_MESSAGE fails, shall reject the SIP MESSAGE request with a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and include warning text set to \"136 authentication of the MIKEY-SAKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nv)\tshall extract and decrypt the encapsulated MSCCK using the participating MCVideo function's (KMS provisioned) UID key as described in 3GPP TS 33.180 [8]; and\nvi)\tshall extract the MSCCK-ID, from the payload as specified in 3GPP TS 33.180 [8];\nNOTE:\tWith the MSCCK successfully shared between the participating MCVideo function and the served UEs, the participating MCVideo function is able to securely send MBMS subchannel control messages to the MCVideo clients.\ng)\tshall listen to the general purpose MBMS subchannel defined in the \"m=application\" media line in the application/sdp MIME body in the received SIP MESSAGE request when entering an MBMS service area where the announced MBMS bearer is available; and\nh)\tshall check the condition for sending a listening status report as specified in the clause 16.2.3; and\n2)\tif no <mbms-service-areas> element is present:\na)\tshall discard a previously stored <announcement> element identified by the value of the <TMGI>;\nb)\tshall remove the association with the stored application/sdp MIME body and stop listening to the general purpose MBMS subchannel;\nc)\tif no more <announcement> elements associated with the stored application/sdp MIME body are stored in the MCVideo client, shall remove the stored application/sdp MIME body; and\nd)\tcheck the condition for sending a listening status report as specified in the clause 16.2.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16.2.3\tThe MBMS bearer listening status and suspension report procedures",
                            "text_content": "If one of the following conditions is fulfilled:\n1)\tif the MCVideo client:\na)\treceives a Map Group To Bearer message over the general purpose MBMS channel;\nb)\tparticipates in a group session identified by the Map Group To Bearer message; and\nc)\tthe status \"listening\" is not already reported; or\n2)\tif the MCVideo client:\na)\treceives an MBMS bearer announcement as described in clause 16.2.2;\nb)\tenters an MBMS service area where a general purpose MBMS is available; and\nc)\texperiences good MBMS bearer radio condition;\nthen the MCVideo client shall report that the MCVideo client is listening to the MBMS bearer as specified in clause 16.2.3.2.\nIf one of the following conditions is fulfilled:\n1)\tif the MCVideo client:\na)\treceives an MBMS bearer announcement as described in the clause 16.2.2;\nb)\tthe MBMS bearer announcement contains a cancellation of an <announcement> element identified by the same TMGI value as received in a Map Group To Bearer message in an ongoing transmission; and\nc)\tthe status \"not-listening\" is not already reported;\n2)\tif the MCVideo client:\na)\treceives an MBMS bearer announcement as described in the clause 16.2.2;\nb)\tthe MBMS bearer announcement contains a cancellation of an <announcement> element;\nc)\tdoes not participate in an ongoing transmission;\nd)\tthe MCVideo client has reported the \"listening\" status due to the availability of the general purpose MBMS subchannel in the <announcement> element; and\ne)\tthe status \"not-listening\" is not already reported; or\n3.\tif the MCVideo client:\na)\tsuffers from bad MBMS bearer radio condition,\nthen the MCVideo client shall report that the MCVideo client is not listening to the MBMS subchannels as specified in clause 16.2.3.2.\nIf all the following conditions are fulfilled:\n1)\tthe MCVideo client has reported \"listening\" as the most recent listening status relative to an MBMS bearer;\n2)\tthe MCVideo client is notified that the MBMS bearer is about to be suspended by the RAN; and\n3)\tthe MCVideo client has not received an MBMS bearer announcement containing a <report-suspension> element set to \"false\",\nthen the MCVideo client shall report that the MBMS bearer is about to be suspended, as specified in clause 16.2.3.2.\nIf all the following conditions are fulfilled:\n1)\tthe MCVideo client has reported \"listening\" as the most recent listening status relative to an MBMS bearer;\n2)\tthe MCVideo client has reported that the MBMS bearer is about to be suspended, but the suspension of the bearer has not been detected yet by the MCVideo client;\n3)\tthe MCVideo client is notified that the MBMS bearer is no longer to be suspended by the RAN; and\n4)\tthe MCVideo client has not received an MBMS bearer announcement containing a <report-suspension> element set to \"false\",\nthen the MCVideo client shall report that the MBMS bearer is no longer to be suspended, as specified in clause 16.2.3.2.\nWhen the MCVideo client wants to report the MBMS bearer listening status, the MCVideo client:\nNOTE 1:\tThe application/vnd.3gpp.mcvideo-mbms-usage-info+xml can contain both the listening status \"listening\" and \"not listening\" at the same time.\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]; and\na)\tshall include in the Request-URI the MBMS public service identity of the participating MCVideo function received in the P-Asserted-Identity header field of the announcement message;\nb)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\nc)\tshould include a public user identity in the P-Preferred-Identity header field as specified in 3GPP TS 24.229 [11];\nd)\tshall include a P-Preferred-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\ne)\tshall include an application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body with the <version> element set to \"1\";\nf)\tif the MCVideo client is listening to the MBMS bearer, the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body:\ni)\tshall include an <mbms-listening-status> element set to \"listening\";\nii)\tif the intention is to report that the MCVideo client is listening to the MBMS subchannel for an ongoing transmission in a session (e.g. as the response to the Map Group To Bearer message), shall include the MCVideo session identity of the ongoing transmission in a <session-id> element;\niii)\tshall include one or more <TMGI> elements for which the listening status applies; and\niv)\tif the intention is to report that the MCVideo client is listening to the general purpose MBMS subchannel, shall include the <general-purpose> element set to \"true\";\ng)\tif the MCVideo client is not listening, the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body:\ni)\tshall include an <mbms-listening-status> element set to \"not-listening\";\niii)\tshall include one or more <TMGI> elements for which the listening status applies;\niii)\tif the intention is to report that the MCVideo client is no longer listening to the MBMS subchannel in an ongoing session (e.g. as the response to Unmap Group to Bearer message), shall include the MCVideo session identity in a <session-id> element; and\niv)\tif the intention is to report that the MCVideo client is no longer listening to general purpose MBMS subchannel, shall include the <general-purpose> element set to \"false\"; and\nNOTE 2:\tIf the MCVideo client reports that the MCVideo client is no longer listening to the general purpose MBMS subchannel, it is implicitly understood that the MCVideo client no longer listens to any MBMS subchannel in ongoing transmissions that the MCVideo client previously reported status \"listening\".\nh)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-request-uri> set to the MCVideo ID of the user; and\n2)\tshall send the SIP MESSAGE request according to 3GPP TS 24.229 [11].\nWhen the MCVideo client meets all the conditions specified in clause 16.2.3.1 for reporting a change in an MBMS bearer suspension status, the MCVideo client:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]; and\na)\tshall include in the Request-URI the MBMS public service identity of the participating MCVideo function received in the P-Asserted-Identity header field of the announcement message;\nb)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\nc)\tshould include a public user identity in the P-Preferred-Identity header field as specified in 3GPP TS 24.229 [11];\nd)\tshall include a P-Preferred-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\ne)\tshall include an application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body with the <version> element set to \"1\";\nf)\tif at least one MBMS bearer is about to be suspended, the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body:\ni)\tshall include an <mbms-suspension-status> element set to \"suspending\";\nii)\tshall set the <number-of-reported-bearers> element to the total number of the included <suspended-TMGI> elements and <other-TMGI> elements;\niii)\tshall include <suspended-TMGI> element(s) set to the TMGI value for each of the MTCHs on the same MCH corresponding to the MBMS bearers about to be suspended; and\niv)\tmay include <other-TMGI> elements, if available, corresponding to the TMGI values for other MTCHs on the same MCH as the MBMS bearers to be suspended\nNOTE 3:\tTo report the suspension of MTCHs on different MCHs, the MCVideo client sends a separate message for each of the involved MCHs.\ng)\tif the MBMS bearer is no longer about to be suspended, the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body:\ni)\tshall include an <mbms-suspension-status> element set to \"not-suspending\";\nii)\tshall set the <number-of-reported-bearers> element to the number of included <suspended-TMGI> elements; and\niii)\tshall include a <suspended-TMGI> element set to the corresponding TMGI value for each of the MTCHs of the MBMS bearers that are no longer about to be suspended; and\nh)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-request-uri> set to the MCVideo ID of the user; and\n2)\tshall send the SIP MESSAGE request according to 3GPP TS 24.229 [11].\nNOTE 4:\tThe MCVideo client reports in separate messages the MBMS bearers that are about to be suspended and the MBMS bearers that are no longer about to be suspended.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16.2.4\tReceiving a MuSiK download message",
                            "text_content": "When the MCVideo client receives a SIP MESSAGE request containing:\n1)\ta P-Asserted-Service header field containing the \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\n2)\twith one of the following:\na)\tan application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body containing an <mbms-explicitMuSiK-download> element with at least one <group> subelement; or\nb)\tan application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body containing an <mbms-defaultMuSiK-download> element with zero or more <group> subelements;\nthe MCVideo client shall:\n1)\tif the received message contains an <mbms-explicitMuSiK-download> element, set the impacted groups to be those groups identified by the <group> subelements;\n2)\tif the received message contains an <mbms-defaultMuSiK-download> element without <group> subelements, set the impacted groups to be all groups not associated with currently valid explicit MuSiK downloads; and\n3)\tif the received message contains an <mbms-defaultMuSiK-download> element with <group> subelements, first dissociate those groups identified by the <group> subelements from currently valid associations with explicit MuSiK downloads and then set the impacted groups to be all groups not associated with currently valid explicit MuSiK downloads.\nIf the key identifier within the CSB-ID of the MIKEY payload is a MuSiK-ID (4 most-significant bits have the value '6'), the MCVideo client:\n1)\tshall process the MIKEY payload according to 3GPP TS 33.180 [8], as follows:\na)\tif the initiator field (IDRi) has type 'URI' (identity hiding is not used), the client:\ni)\tshall extract the initiator URI from the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8]. If the initiator URI deviates from the public service identity of the participating MCVideo function serving the MCVideo client, shall reject the SIP MESSAGE request by sending a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and including warning text set to \"136 authentication of the MIKEY-SAKKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps; and\nii)\tshall convert the initiator URI to a UID as described in 3GPP TS 33.180 [8];\nb)\totherwise, if the initiator field (IDRi) has type 'UID' (identity hiding in use), the client:\ni)\tshall convert the public service identity of participating MCVideo function serving the MCVideo user to a UID as described in 3GPP TS 33.180 [8]; and\nii)\tshall compare the generated UID with the UID in the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8]. If the two initiator UIDs deviate from each other, shall reject the SIP MESSAGE request by sending a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and including warning text set to \"136 authentication of the MIKEY-SAKKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nc)\totherwise, shall reject the SIP MESSAGE request by sending a SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and including warning text set to \"136 authentication of the MIKEY-SAKKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps;\nd)\tshall use the UID to validate the signature of the I_MESSAGE as described in 3GPP TS 33.180 [8];\ne)\tif authentication verification of the I_MESSAGE fails or the I_MESSAGE does not contain a Status attribute, shall reject the SIP MESSAGE request by sending SIP 488 (Not Acceptable Here) response as specified in IETF RFC 4567 [6], and including warning text set to \"136 authentication of the MIKEY-SAKKE I_MESSAGE failed\" in a Warning header field as specified in clause 4.4 and shall not continue with the rest of the steps; and\nf)\tshall examine the Status attribute and shall either mark the associated security functions as \"not in use\" or shall extract and store the encapsulated MuSiK and the corresponding MuSiK-ID from the payload as specified in 3GPP TS 33.180 [8]; and\n2)\tfor each of the impacted groups, shall either associate the status 'security not in use' or shall add/replace in the storage associated with the group the MuSiK-ID and the MuSiK, for use (decrypted) as security key for floor control.\nNOTE:\tIt is expected that the MCVideo client is capable of storing a different MuSiK for each MCVideo group of interest.\nThe MCVideo client shall respond with SIP 200 (OK) only if it finds the message syntactically correct and recognizes it as a valid and error-free MuSiK download (default or explicit) message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "16.3\tParticipating MCVideo server procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "16.3.1\tGeneral",
                            "text_content": "This clause describes the procedures in the participating MCVideo function for:\n1)\tsending an MBMS bearer announcements to the MCVideo client;\n2)\treceiving an MBMS bearer listening status from the MCVideo client; and\n3)\treceiving an MBMS bearer suspension status from the MCVideo client.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16.3.2\tSending MBMS bearer announcement procedures",
                            "text_content": "The availability of an MBMS bearer is announced to MCVideo clients by means of an MBMS bearer announcement message. One or more MBMS bearer announcement elements are included in an application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body.\nAn MBMS bearer announcement message can contain new MBMS bearer announcements, updated MBMS bearer announcements or cancelled MBMS bearer announcements or a mix of all of them at the same time in an application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body. Each initial MBMS bearer announcement message announces one MBMS bearer intended to carry a general purpose MBMS subchannel used for application level multicast signalling in a specified MBMS service area and additionally, the message could also announce zero or more extra MBMS bearers intended to carry media and media control.\nNOTE:\tA new MBMS bearer announcement does not implicitly remove previously sent MBMS bearer announcements if the previously sent MBMS bearer announcement is not included in an MBMS bearer announcement message. However, the application/sdp MIME body, if included in the new MBMS bearer announcement message, fully replaces the existing application/sdp MIME body (which includes the MSCCK security key used to protect the general purpose MBMS subchannel).\nWhen and to whom the participating MCVideo function sends the MBMS bearer announcement is based on local policy in the participating MCVideo function.\nThe following clauses describe how the participating MCVideo function:\n1.\tsends an initial MBMS bearer announcement message;\n2.\tupdates a previously sent announcement of MBMS bearer(s);\n3.\tcancels a previously sent announcement of MBMS bearer(s); and\n4.\tkeys, re-keys or un-keys MCVideo groups using Multicast Signalling Key (MuSiK) via a key download procedure.\nPrior to the participating MCVideo function transmitting on an MBMS bearer, the participating MCVideo function:\n1.\tif necessary, shall instruct the local key management client to request keying material from the key management server as described in 3GPP TS 33.180 [8];\n2.\tshall generate MSCCK(s) with the corresponding MSCCK-ID(s) and MuSiK(s) with the corresponding MuSiK-ID(s) as necessary; and\n3.\tshall distribute MSCCKs, MSCCK-IDs, MuSiKs and MuSiK-IDs to the MCVideo clients, as needed, using the keying material received from the key management server for security protection, as described in 3GPP TS 33.180 [8].\nFor each MCVideo client that the participating MCVideo function is sending an MBMS bearer announcement to, the participating MCVideo function:\n1)\tshall generate an SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n2)\tshall set the Request-URI to the URI received in the To header field in a third-party SIP REGISTER request;\n3)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n4)\tshall include a P-Asserted-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n5)\tshall include one application/sdp MIME body conforming to 3GPP TS 24.229 [11] where the application/sdp MIME body and:\na)\tshall include the Content-Disposition header field with the value \"render\"; and\nb)\tif FEC is applied to protect one of the following media lines\ni)\tshall include a \"a=FEC-declaration\" session attribute set to \"0\", with the the \"encoding-id\" parameter set to \"1\", as specified in [67].\nii)\tshall include a \"a=FEC-OTI-extension\" session attribute, providing the FEC object transmission information, specified in clause 8.2.2.10a in [67].\niii) should include an \"a=mbms-repair\" session attribute, as specified in clause 8.2.2.10a in [67].\nc)\tshould include one or more \"m=video\" media lines and media line attributes as defined in 3GPP TS 24.581 [5] to be used as the MBMS subchannel for video. Additional the participating MCVideo function:\ni)\tshall set c-line to the unspecified address (0.0.0.0), if IPv4, or to a domain name within the \"invalid\" DNS top-level domain, if IPv6;\nii)\tshall set port number of the media line to 9;\niii)\tif transmission control and media control is multiplexed with video, shall include the \"a=rtcp-mux\" attribute as specified in IETF RFC 5761 [72]; and shall include the \"a=rtcp:9\" as specified in IETF RFC 5761 [72].\niv) if the declared media is protected by FEC, shall include a \"a=FEC\" attribute, set to 0.\nd)\tshould include one or more\" m=audio\" media lines and media line attributes as defined in 3GPP TS 24.581 [5] to be used as the MBMS subchannel for audio. Additional the participating MCVideo function:\ni)\tshall set c-line to the unspecified address (0.0.0.0), if IPv4, or to a domain name within the \"invalid\" DNS top-level domain, if IPv6;\nii)\tshall set port number of the media line to 9;\niii)\tif media control is multiplexed with audio, shall include the \"a=rtcp-mux\" attribute as specified in IETF RFC 5761 [72]; and shall include the \"a=rtcp:9\" as specified in IETF RFC 5761 [72].\niv) if the declared media is protected by FEC, shall include a \"a=FEC\" attribute, set to 0.\ne)\tif \"m=video\" media lines to be used in an MBMS subchannel for video without multiplexing transmission control are included above, shall include one or more \"m=application\" media line as defined in 3GPP TS 24.581 [5] to be used as the MBMS subchannel for transmission control messages. The media line:\ni)\tshall set c-line to the unspecified address (0.0.0.0), if IPv4, or to a domain name within the \".invalid\" DNS top-level domain, if IPv6; and\nii)\tshall set the port number of the media line to 9;\nf)\tshould include one or more\" m=application\" media lines and media line attributes as defined in 3GPP TS 24.581 [5] to be used as the MBMS subchannel for FEC repair packets. Additionally the participating MCVideo function:\ni)\tshall set c-line to the unspecified address (0.0.0.0), if IPv4, or to a domain name within the \"invalid\" DNS top-level domain, if IPv6;\nii)\tshall set port number of the media line to 9;\niii) shall include a \"a=FEC\" attribute, set to 0.\ng)\tshall include one \"m=application\" media line as defined in clause 4.3.3.1 from 3GPP TS 24.581 [5] to be used as the general purpose MBMS subchannel. The media line shall include a valid multicast IP address and a valid port number. If the protection of MBMS subchannel control messages sent over the general purpose MBMS subchannel of the MBMS bearer is required, the participating MCVideo function also includes an \"a=key-mgmt\" media-level attribute. The participating MCVideo function:\ni)\tshall encrypt the MSCCK to a UID associated to the targeted MCVideo ID and a time related parameter as described in 3GPP TS 33.180 [8];\nii)\tshall generate a MIKEY-SAKKE I_MESSAGE using the encapsulated MSCCK and MSCCK-ID as specified in 3GPP TS 33.180 [8];\niii)\tshall add the public service identity of the participating MCVideo function to the initiator field (IDRi) of the I_MESSAGE as described in 3GPP TS 33.180 [8];\niv)\tshall sign the MIKEY-SAKKE I_MESSAGE using the public service identity of the participating MCVideo function signing key provided in the keying material together with a time related parameter, and add this to the MIKEY-SAKKE payload, as described in 3GPP TS 33.180 [8]; and\nv)\tshall include the \"mikey\" key management and protocol identifier and the signed MIKEY-SAKKE I_MESSAGE in the value of the a=key-mgmt\" media-level attribute according to IETF RFC 4567 [6];\nNOTE 4:\tThe port number 9 used in this clause indicates that the final address and port has not yet been determined. The final address and port information will be sent in the Map Group To Bearer message and MapGroupToSessionStream message.\n6)\tshall include an application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body defined in clause F.2 with the <version> element set to \"1\" and one or more <announcement> elements associated with the pre-activated MBMS bearers. Each set of an <announcement> element:\na)\tshall include a TMGI value in the <TMGI> element;\nNOTE 5:\tThe same TMGI value can only appear in one <announcement> element. The TMGI value is also used to identify the <announcement> when updating or cancelling the <announcement> element.\nNOTE 6:\tThe security key active for the general purpose MBMS subchannel on which the mapping (i.e. the MapGroupToBearer message) of media or media control to this MBMS bearer was indicated, is used for MBMS subchannels on this MBMS bearer, unless a different key or an indication of not using encryption is in place.\nb)\tshall include the QCI value in the <QCI> element;\nc)\tif multiple carriers are supported, shall include the frequency to be used in the <frequency> element;\nNOTE 7:\tIn the current release if the <frequency> element is included, the frequency in the <frequency> element is the same as the frequency used for unicast.\nd)\tshall include one or more MBMS service area IDs in <mbms-service-area-id> elements in the <mbms-service-areas> element;\nNOTE 8:\tInitial mappings of groups to MBMS subchannels on an MBMS bearer for the purpose of carrying media or media control can occur only where the MBMS service area for this bearer and the MBMS service area for the bearer carrying the general purpose MBMS subchannel on which the MapGroupToBearer message is sent intersect. However, once media or media control were successfully mapped to this bearer, the reception by the MCVideo client can continue (until UnmapGroupToBearer is received or until timeout) throughout the entire MBMS service area of this bearer.\ne)\tmay include the <report-suspension> element and set it to \"true\" value or the \"false\" value; and\nNOTE 9:\tThe participating function can choose to direct some clients not to send an MBMS bearer suspension report when notified by RAN, by including the <report-suspension> element set to \"false\". The purpose is to prevent an avalanche of identical reports sent by clients roughly at the same time, to report the suspension of the same MBMS bearer. The way the participation function determines which clients are to send or not to send the report is outside the scope of the present document.\nf)\tif the MBMS bearer is carrying the general purpose MBMS subchannel, shall include one <GPMS>element, giving the number of the \"m=application\" media line in the application/sdp MIME body generated in step 5 above to be used for the general purpose MBMS subchannel;\n7)\tshall include the MBMS public service identity of the participating MCVideo function in the P-Asserted-Identity header field;\n8)\tshall include in a MIME body with Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\", the <mcvideo-request-uri> element set to the MCVideo ID of the user; and\n9)\tshall send the SIP MESSAGE request towards the MCVideo client according to 3GPP TS 24.229 [11].\nWhen the participating MCVideo function wants to update a previously sent announcement, the participating MCVideo function sends an MBMS bearer announcement in an SIP MESSAGE request as specified in clause 16.3.2.2 where the participating MCVideo function in the <announcement> element to be updated:\n1)\tshall include the same TMGI value as in the MBMS bearer announcement to be updated in the <TMGI> element;\nNOTE 1:\tTMGI value is used to identify the <announcement> when updating or cancelling the <announcement> element and can't be changed.\n2)\tshall include the same or an updated value of the QCI in the <QCI> element;\n3)\tif a frequency was included in the previously sent announcement, shall include the same value in the <frequency> element;\n4)\tshall include the same list of MBMS service area IDs or an updated list of MBMS service area IDs in the <mbms-service-areas> element;\n5)\tmay include the same or an updated value in the <report-suspension> element;\n6)\tshall include the <GPMS> element with the same value as in the initial <announcement> element; and\n7)\tshall include the same application/sdp MIME body as included in the initial MBMS announcement.\nWhen the participating MCVideo function wants to cancel an MBMS bearer announcement associated with an <announcement> element, the participating MCVideo function sends an MBMS bearer announcement as specified in clause 16.3.2.2 where the participating MCVideo function in the <announcement> element to be cancelled:\n1)\tshall include the same TMGI value as in the <announcement> element to be cancelled in the <TMGI> element;\n2)\tshall not include an <mbms-service-areas> element;\n3)\tif the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body only contains <announcement> elements that are to be cancelled, shall not include an <GPMS> element; and\n4)\tif the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body only contains <announcement> elements that are to be cancelled, shall not include an application/sdp MIME body.\nFor each MCVideo client that the participating MCVideo function is intending to use an MBMS bearer to transmit confidentiality protected transmission control signalling (SRTCP) to the client, the participating MCVideo function shall perform a key download procedure for each Multicast Signalling Key (MuSiK). Two kinds of MuSiK download are possible: default MuSiK download and explicit MuSiK download. The default MuSiK download is used to set, reset or unset a MuSiK and its corresponding MuSiK-ID and is applicable to all groups supported by the MCVideo client, except for certain identified groups for which MuSiKs and MUSiK-IDs are assigned, reassigned or unassigned separately via explicit MuSiK download. The default MuSiK and MUSiK-ID can apply to all the MCVideo clients supported by the participating MCVideo function and can be overridden by the explicit MuSiK download which is selectively applied only to the MCVideo clients using the explicitly identified groups. A group subject to explicit MuSiK download, can be switched to the default MuSiK protection via a default MuSiK download identifying that group. The participating MCVideo function:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n2)\tshall set the Request-URI to the URI received in the To header field in a third-party SIP REGISTER request;\n3)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n4)\tshall include a P-Asserted-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n5)\tshall include an application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body defined in clause F.2 with the <version> element set to \"1\", and either\na)\tcontaining an <mbms-explicitMuSiK-download> element with at least one <group> element associated with the MuSiK being downloaded; or\nb)\tcontaining an <mbms-defaultMuSiK-download> element with zero or more <group> elements associated with the MuSiK being downloaded;\n6)\tif the transmission control signaling for the group(s) in the specified list is to be protected using the MuSiK, shall include an application/mikey MIME body with the MIKEY message containing the encrypted MuSiK and the corresponding MuSiK-ID, constructed as described in clauses 5.8.1 and 5.2.2 of 3GPP TS 33.180 [8];\nNOTE:\tClause 9.2.1.3 of 3GPP TS 33.180 [8] shows an example on how to include an application/mikey MIME body in a SIP message.\n7)\tshall send the SIP MESSAGE request towards the MCVideo client according to 3GPP TS 24.229 [11].\nThe participating MCVideo function shall consider the key download successful on receipt of a 200 (OK) message in response to the SIP MESSAGE request sent in step 7).\nA participating MCVideo function that does not receive a 200 (OK) message from a specific MCVideo client shall use unicast signalling for transmission control towards that MCVideo client for the groups for which the MuSiK was intended.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16.3.3\tReceiving an MBMS bearer listening status from an MCVideo client",
                            "text_content": "Upon receiving a \"SIP MESSAGE request for an MBMS listening status update\", the participating MCVideo function shall handle the request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17].\nIf the SIP MESSAGE request contains:\n1)\tan application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body with an <mbms-listening-status> element; and\n2)\tan application/vnd.3gpp.mcvideo-info+xml MIME body containing an MCVideo ID in the <mcvideo-request-uri> served by the participating MCVideo function;\nthen the participating MCVideo function:\n1)\tshall verify that the public user identity in the P-Asserted-Identity header field is bound to the MCVideo ID in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, and if that is the case:\na)\tif the <mbms-listening-status> element is set to \"listening\":\ni)\tif <session-identifier> elements are included, shall indicate to the media plane that the MCVideo client in the session identified by the <session-identifier> element is now listening to the MBMS subchannel; and\nii)\tif <general-purpose> element is included with the value \"true\", shall indicate to the media plane that the MCVideo client is now listening to the general purpose MBMS subchannel; and\nb)\tif the <mbms-listening-status> element is set to \"not-listening\":\ni)\tif <session-identifier> elements are included, shall indicate to the media plane that the MCVideo client in the sessions identified by the <session-identifier> elements is not listening to the MBMS subchannel;\nii)\tif <general-purpose> element is included with the value \"false\", shall indicate to the media plane that the MCVideo client is no longer listening to the general purpose MBMS bearer; and\niii)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5].\nNOTE 1:\tIf the MCVideo client reports that the MCVideo client is no longer listening to the general purpose MBMS subchannel it is implicitly understood that the MCVideo client no longer listens to any MBMS subchannel in ongoing transmissions that the MCVideo client previously reported status \"listening\".\nIf the SIP MESSAGE request contains:\n1)\tan application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body with an <mbms-suspension-status> element; and\n2)\tan application/vnd.3gpp.mcvideo-info+xml MIME body containing an MCVideo ID in the <mcvideo-request-uri> served by the participating MCVideo function;\nthen the participating MCVideo function:\n1)\tshall verify that the public user identity in the P-Asserted-Identity header field is bound to the MCVideo ID in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, and if that is the case:\na)\tif the <mbms-suspension-status> element is set to \"suspending\":\ni)\tshall consider that the bearer identified by the <suspended-TMGI> element is about to be suspended and that the reduction or elimination of traffic on that bearer and/or on some of the bearers indicated in the <other-TMGI> elements can potentially avoid the suspension; and\nNOTE 2:\tAn MBMS bearer is about to be suspended when RAN has notified the clients of the decision to suspend the bearer, but the actual suspension, which would occur at the end of the MCCH modification period, has not taken place yet because the MCCH modification period has not yet expired.\nii)\tmay take implementation/configuration specific immediate action for the MCVideo client that reports the suspension as well as other MCVideo clients that listen to the same bearer (e.g. moving traffic to unicast bearer(s)), reducing transmission rate, eliminating traffic, modifying pre-emption priority).\nb)\tif the <mbms-suspension-status> element is set to \"not-suspending\":\ni)\tshall consider that the bearer identified by the <suspended-TMGI> element is no longer about to be suspended; and\nNOTE 3:\tAn MBMS bearer is no longer about to be suspended when RAN has notified the clients of the decision to no longer suspend the bearer after having previously notified the clients that the bearer would be suspended at the end of the MCCH modification period. The RAN notifications to first suspend and subsequently not to suspend the same MBMS bearer would have to come within the same MCCH modification period.\nii)\tmay take implementation/configuration specific immediate action for the MCVideo client that reports the suspension as well as other MCVideo clients that listen to the same bearer (e.g. restoring traffic previously reduced or eliminated from MBMS bearers upon reception of suspension information).\nNOTE 4:\tIf the MCVideo client reports that the MCVideo client is no longer listening to MBMS subchannels associated with the MBMS bearer indicated in the suspension information, it is implicitly understood that the suspension of that MBMS bearer has actually occurred.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16.3.4\tAbnormal cases",
                            "text_content": "Upon receipt of a SIP MESSAGE request with an application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body:\n1)\twhere the P-Asserted-Identity identifies a public user identity not associated with MCVideo user served by the participating MCVideo function; or\n2)\twith the application/vnd.3gpp.mcvideo-info+xml MIME body and with a <mcvideo-request-uri> element containing an MCVideo ID that identifies an MCVideo user served by the participating MCVideo function and an application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body containing one or more <announcement> elements;\nthen the participating MCVideo function shall send a SIP 403 (Forbidden) response as specified in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "16A\tUse of 5G MBS transmission (on-network)",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "16A.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the participating MCVideo function and the MCVideo client procedure for:\n1)\tMBS session announcement;\n2)\tMBS listening status report;\n3)\tUE session join notification; and\n4)\tMBS session de-announcement.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "16A.2\tMCVideo client procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "16A.2.1\tGeneral",
                            "text_content": "This clause describes the procedures in the MCVideo client for:\n1)\treceiving an MBS session announcement from the participating MCVideo function;\n2)\tsending a UE session join notification to the participating MCVideo function;\n3)\tsending an MBS listening status report to the participating MCVideo function; and\n4)\tsending an MBS session de-announcement acknowledgement to the participating MCVideo function.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.2.2\tReceiving an MBS session announcement",
                            "text_content": "The participating MCVideo client follows the procedure in clause 16.2.2 with the terminology mapping specified in clause J.3.3.\nWhen the MCVideo client for each <announcement> element in the application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body:\n1)\tif the <mbs-service-areas> element is present:\na)\tif an <announcement> element with the same value of the <mbs-session-id> element is already stored:\ni)\tshall replace the old <announcement> element with the <announcement> element received in the application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body;\nb)\tif there is no <announcement> element with the same value of the <mbs-session-id> element stored:\ni)\tshall store the received <announcement> element;\nc)\tremaining parts in step 1) of clause 16.2.2 applies also for MBS, with the clarification that terminology mapping specified in clause J.3.3 applies.\n2)\tif no <mbs-service-areas> element is present:\na)\tshall discard a previously stored <announcement> element identified by the value of the <mbs-session-id>; and\nb)\tremaining parts in step 2) of clause 16.2.2 applies also for MBS,with the clarification that terminology mapping specified in clause J.3.3 applies;\n3)\tfor 5G MBS and 4G MBMS co-existence, the <eMBMS-bearer-infoType> is performed as specified in clause 16.2.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.2.3\tSending an MBS listening status report",
                            "text_content": "If one of the following conditions is fulfilled:\n1)\tif the MCVideo client:\na)\treceives an announcement as described in clause 16.2.2;\nb)\tfor multicast MBS session, sends a UE session join notification as described in clause 16.2.4;\n2.\tif the MCVideo client:\na)\tenters an MBS service area where a specific MBS session stream is available; and\nb)\texperiences good MBS session radio condition;\n3.\tif the MCVideo client:\na)\tsuffers from bad MBMS bearer radio condition,\nthen the MCVideo client shall report that the MCVideo client is listening to the MBS session as specified in clause 16A.2.3.2.\nWhen the MCVideo client wants to report the MBS listening status, the MCVideo client shall generate a SIP MESSAGE request as specified \"MBMS bearer listening status\" in clause 16.2.3.2 with the terminology mapping specified in clause L.3.4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.2.4\tReceiving a MuSiK download message",
                            "text_content": "The MCVideo client follows the procedure in clause 16.3.4 with the terminology mapping specified in clause J.3.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.2.5\tSending a UE session join notification",
                            "text_content": "For multicast MBS sessions, if one of the following conditions is fulfilled:\n1)\tif the MCVideo client:\na)\treceives a Map Group To Session Stream message over the general purpose MBS channel;\nb)\tparticipates in a group session identified by the Map Group To Session Stream message; and\nc)\tthe status \"ue-session-join\" is not already reported; or\n2)\tif the MCVideo client:\na)\treceives an announcement as described in clause 16A.2.2;\nb)\tenters an MBS service area where a specific MBS session stream is available; and\nc)\texperiences good MBS session radio condition;\nthen the MCVideo client shall report that the MCVideo client indicates to MCVideo server that such MCVideo client wants to receive multicast data identified by a specific MBS session ID, as specified in clause 16A.3.5.2.\nFor multicast MBS sessions, if one of the following conditions is fulfilled:\n1)\tif the MCVideo client:\na)\treceives an MBS session announcement as described in the clause 16A.2.2;\nb)\tthe MBS session announcement contains a deletion of an <announcement> element identified by the same MBS session ID value as received in a Map Group To Session Stream message in an ongoing conversation; and\nc)\tthe status \"ue-session-leave\" is not already reported;\n2)\tif the MCVideo client:\na)\treceives an MBS session announcement as described in the clause 16A.2.2;\nb)\tthe MBS session announcement contains a deletion of an <announcement> element;\nc)\tdoes not participate in an ongoing conversation;\nd)\tthe MCVideo client has reported the \"ue-session-join\" status due to the availability of the general purpose MBS subchannel in the <announcement> element; and\ne)\tthe status \"ue-session-leave\" is not already reported; or\n3)\tif the MCVideo client:\na)\tsuffers from bad MBS session radio condition,\nthen the MCVideo client shall report that the MCVideo client no longer wants to receive multicast data identified by a specific MBS session ID, as specified in clause 16A.3.5.2.\nWhen the MCVideo client wants to send the UE session join notification, the MCVideo client:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [4] and IETF RFC 3428 [33] and\na)\tshall include in the Request-URI the MBS public service identity of the participating MCVideo function received in the P-Asserted-Identity header field of the announcement message;\nb)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [6];\nc)\tshould include a public user identity in the P-Preferred-Identity header field as specified in 3GPP TS 24.229 [4];\nd)\tshall include a P-Preferred-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\ne)\tshall include an application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body with the <version> element set to \"1\";\nf)\tif the MCVideo client is successfully joining a certain multicast MBS session procedure, the application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body:\ni)\tshall include an <mbs-multicast-joining-status> element set to \"ue-session-join\";\nii)\tif the intention is to report that the MCVideo client is joining a certain multicast MBS session procedure, shall include the MCVideo session identity of the ongoing conversation in a <session-id> element; and\niii)\tshall include one or more <mbs-session-id> elements for which the listening status applies;\ng)\tif the MCVideo client is not joining a certain multicast MBS session procedure, the application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body:\ni)\tshall include an <mbs-multicast-joining-status> element set to \"ue-session-leave\";\nii)\tif the intention is to report that the MCVideo client is not joining a certain multicast MBS session procedure, shall include the MCVideo session identity in a <session-id> element; and\niii)\tshall include one or more <mbs-session-id> elements for which the listening status applies;\nh)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-request-uri> set to the MCVideo ID; and\n2)\tshall send the SIP MESSAGE request according to 3GPP TS 24.229 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.2.6\tSending an MBS session de-announcement acknowledgement",
                            "text_content": "When the participating MCVideo function indicates an acknowledgement to the MBS session de-announcement messge, the MCVideo client:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]; and\na)\tshall include in the Request-URI the MBMS public service identity of the participating MCVideo function received in the P-Asserted-Identity header field of the announcement message;\nb)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\nc)\tshould include a public user identity in the P-Preferred-Identity header field as specified in 3GPP TS 24.229 [11];\nd)\tshall include a P-Preferred-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\ne)\tshall include an application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body with the <version> element set to \"1\";\nf)\tif at least one MBS session is about to be deleted, the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body:\ni)\tshall include an <mbs-session-de-announcement-status> element set to \"deleting\";\nii)\tshall set the <number-of-reported-sessions> element to the total number of the included <deleted-mbs-session-id> elements and <other-mbs-session-id> elements;\niii)\tshall include <deleted-mbs-session-id> element(s) set to the MBS session ID value for each of the MBS sessions about to be deleted; and\niv)\tmay include <other-mbs-session-id> elements, if available, corresponding to the MBS session ID values for other MBS sessions to be deleted;\ng)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideo-request-uri> set to the MCVideo ID of the user; and\n2)\tshall send the SIP MESSAGE request according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "16A.3\tParticipating MCVideo server procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "16A.3.1\tGeneral",
                            "text_content": "This clause describes the procedures in the participating MCVideo function for:\n1)\tsending an MBS session announcement to the MCVideo client;\n2)\treceiving an MBS listening status report from the MCVideo client;\n3)\treceiving a UE session join notification from the MCVideo client; and\n5)\treceiving an MBS session de-announcement acknowledgement from the MCVideo client.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.3.2\tSending an MBS session announcement to the MCVideo client",
                            "text_content": "The participating MCVideo function follows the procedure in clause 16.3.2.1 with the terminology mapping specified in clause J.3.3.\nShall generate a SIP MESSAGE request as specified in clause 16.3.2.2 with the following clarifications/exceptions.\nAll steps of clause 16.3.2.2 apply also for MBS except step 6), with the clarification that terminology mapping specified in clause J.3.3 applies.\nIn place of step 6) of clause 16.3.2.2, the following step 6) shall be used:\n6) shall include an application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body defined in clause F.2A with the <version> element set to \"1\" and one or more <announcement> elements associated with the pre-activated MBS sessions. Each set of an <announcement> element:\na) in case of the MCVideo server is able to provide the MC services to the client over 5G MBS sessions (either broadcast or multicast), shall include <mbs-session-infoType> providing the MBS session related information:\ni)\t\tshall include an MBS session ID value in the <mbs-session-id> element;\nNOTE 1:\tThe identity of the MBS session used to deliver MC service group communication data. It is either TMGI for broadcast MBS and multicast MBS sessions, or source specific IP multicast address for multicast MBS session.\nii)\t\tshall include the <mbs-session-mode> element and set it to \"multicast\" value or the \"broadcast\" value;\niii)\tshall include a MC service group ID value in the <mc-service-group-id> element;\niv)\tif the MBS sessions is carrying the general purpose MBS subchannel, shall include one <GPMS>element, giving the number of the \"m=application\" media line in the application/sdp MIME body generated in above to be used for the general purpose MBS subchannel;\nv)\tmay include one or more MBS service area IDs in <mbs-service-area-id> elements in the <mbs-service-areas> element;\nvi)\tfor multicast MBS session, may include the <report-ue-session-join-notification> element and set it to \"true\" value or the \"false\" value;\nvii)\tmay include <multicast-mbs-session-related-info>, additional information to be used by the MC service client to join the multicast MBS session such as PLMN ID of the default PLMN service provider in case of source specific IP multicast address, DNN, and SNSSAI of the PDU session associated with the multicast MBS session;\nNOTE 2:\tSuch information may be pre-configured in the MC service UE, or provided in any other implementation specific way.\nviii)\tfor broadcast MBS session, shall include an MBS Frequency Selection Area ID value in the <mbs-fsa-id> element;\nix)\tif multiple carriers are supported, shall include the frequency to be used in the <frequency> element; and\nNOTE 3:\tIn the current release if the <frequency> element is included, the frequency in the <frequency> element is the same as the frequency used for unicast.\nx)\tmay include the <mbs-session-de-announcement-acknowledgement> element and set it to \"true\" value or the \"false\" value;\nb) in case of LTE eMBMS and 5G MBS co-existence, shall include <eMBMS-bearer-infoType> providing the 4G eMBMS bearer related information:\ni)\tmay include a list of additional alternative TMGI which may be used in roaming scenarios in the <Alternative-TMGI> element; and\nii)\tthe remaining elements are generated as specified in the clause 16.3.2.2 step 6;\nWhen the participating MCVideo function wants to update a previously sent announcement, the participating MCVideo function sends an MBS session announcement in a SIP MESSAGE request as specified in clause 16A.3.2.2 where the participating MCVideo function in the <announcement> element to be updated:\n1)\t<mbs-session-infoType> to be updated as specified in clause 16.3.2.3 with the terminology mapping specified in clause J.3.3; and\n2)\t<eMBMS-bearer-infoType> to be updated as specified in clause 16.3.2.3.\nWhen the participating MCVideo function wants to delete an MBS session announcement associated with an <announcement> element, the participating MCVideo function sends an MBS session announcement as specified in clause 16A.3.2.2 where the participating MCVideo function in the <announcement> element to be deleted:\n1)\t<mbs-session-infoType> to be deleted as specified in clause 16.3.2.4 with the terminology mapping specified in clause J.3.4; and\n2)\t<eMBMS-bearer-infoType> to be deleted as specified in clause 16.3.2.4.\nThe participating MCVideo function follows the procedure in clause 16.3.2.5 with the terminology mapping specified in clause J.3.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.3.3\tReceiving an MBS listening status report from the MCVideo client",
                            "text_content": "If the SIP MESSAGE request contains:\n1)\tan application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body with an <mbs-listening-status> element; and\n2)\tan application/vnd.3gpp.mcvideo-info+xml MIME body containing an MCVideo ID in the <mcvideo-request-uri> served by the participating MCVideo function;\nthen the participating MCVideo function follows the procedure \"MBMS bearer listening status\" in clause 16.3.3 with the terminology mapping specified in clause J.3.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.3.4\tReceiving a UE session join notification from the MCVideo client",
                            "text_content": "Upon receiving a \"SIP MESSAGE request for a UE session join notification\", the participating MCVideo function shall handle the request in accordance with 3GPP TS 24.229 [4] and IETF RFC 3428 [33].\nIf the SIP MESSAGE request contains:\n1)\tan application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body with an <mbs-multicast-joining-status> element; and\n2)\tan application/vnd.3gpp.mcvideo-info+xml MIME body containing an MCVideo ID in the <mcvideo-request-uri> served by the participating MCVideo function;\nthen the participating MCVideo function:\n1)\tshall verify that the public user identity in the P-Asserted-Identity header field is bound to the MCVideoT ID in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, and if that is the case:\na)\tif the <mbs-multicast-joining-status> element is set to \"ue-session-join\":\ni)\tif a <session-id> element is included, shall indicate to the media plane that the MCVideo client in the session identified by the <session-id> element wants to receive multicast data identified by a specific MBS session ID; and\nb)\tif the <mbs-multicast-joining-status> element is set to \"ue-session-leave\":\ni)\tif a <session-id> element is included, shall indicate to the media plane that the MCVifdeo client in the sessions identified by the <session-id> elements no longer wants to receive multicast data identified by a specific MBS session ID;\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "16A.3.5\tReceiving an MBS session de-announcement from the MCVideo client",
                            "text_content": "If the SIP MESSAGE request contains:\n1)\tan application/vnd.3gpp.mcvideo-mbs-usage-info+xml MIME body with an <mbs-session-de-announcement-status> element; and\n2)\tan application/vnd.3gpp.mcvideo-info+xml MIME body containing an MCVideo ID in the <mcvideo-request-uri> served by the participating MCVideo function;\nthen the participating MCVideo function:\n1)\tshall verify that the public user identity in the P-Asserted-Identity header field is bound to the MCVideo ID in the <mcvideo-request-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, and if that is the case:\na)\tif the <mbs-session-de-announcement-status> element is set to \"deleting\":\ni)\tshall consider that the MBS session identified by the <de-announcement-mbs-session-id> element is about to be deleted and that the reduction or elimination of traffic on that MBS session and/or on some of the MBS sessions indicated in the <other-mbs-session-id> elements can potentially avoid the deletion; and\nii)\tmay take implementation/configuration specific immediate action for the MCVideo client that reports the deletion as well as other MCVideo clients that listen to the same MBS session(e.g. moving traffic to unicast delivery), reducing transmission rate, eliminating traffic, modifying pre-emption priority); or\nb)\tif the <mbs-session-de-announcement-status> element is set to \"not-deleting\":\ni)\tshall consider that the MBS session identified by the <de-announcement-mbs-session-id> element is no longer about to be deleted; and\nii)\tmay take implementation/configuration specific immediate action for the MCVideo client that reports the deletion as well as other MCVideo clients that listen to the same MBS session(e.g. restoring traffic previously reduced or eliminated from MBS session upon reception of deletion information).\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "17\tOff-network message formats",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "17.1\tMONP MCVIDEO message functional definitions and contents",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "17.1.1\tGeneral",
                            "text_content": "The following clauses describe the MONP MCVideo message functional definitions and contents transported in an MONP MCVIDEO MESSAGE CARRIER message as defined in 3GPP TS 24.379 [40]. Each message consists of a series of information elements. Annex I of 3GPP TS 24.379 [40] describes the standard format of a MONP message and the encoding rules for each type of information element.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "17.1.2\tGROUP CALL PROBE message",
                            "text_content": "This message is sent by the UE to other UEs to check for an ongoing group call. For contents of the message see Table 17.1.2.1-1.\nMessage type:\tGROUP CALL PROBE\nDirection:\tUE to other UEs\nTable 17.1.2.1-1: GROUP CALL PROBE message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.2.1-1: GROUP CALL PROBE message content",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.3\tGROUP CALL ANNOUNCEMENT message",
                            "text_content": "This message is sent by the UE to other UEs to announce an ongoing group call to other UEs. For contents of the message see Table 17.1.3.1-1.\nMessage type:\tGROUP CALL ANNOUNCEMENT\nDirection:\tUE to other UEs\nTable 17.1.3.1-1: GROUP CALL ANNOUNCEMENT message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.3.1-1: GROUP CALL ANNOUNCEMENT message content",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.4\tGROUP CALL ACCEPT message",
                            "text_content": "This message is sent by the UE to other UEs to indicate acceptance of a group call. For contents of the message see Table 17.1.4.1-1.\nMessage type:\tGROUP CALL ACCEPT\nDirection:\tUE to other UEs\nTable 17.1.4.1-1: GROUP CALL ACCEPT message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.4.1-1: GROUP CALL ACCEPT message content",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.5\tPRIVATE CALL SETUP REQUEST message",
                            "text_content": "This message is sent by a UE to another UE to request setup of a private call. For contents of the message see Table 17.1.5.1-1.\nMessage type:\tPRIVATE CALL SETUP REQUEST\nDirection:\tUE to another UE\nTable 17.1.5.1-1: PRIVATE CALL SETUP REQUEST message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.5.1-1: PRIVATE CALL SETUP REQUEST message content",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.6\tPRIVATE CALL RINGING message",
                            "text_content": "This message is automatically sent by a UE to another UE in response to a PRIVATE CALL SETUP REQUEST message. This message indicates that the UE has presented the incoming call notification to the user and is awaiting user response. For contents of the message see Table 17.1.6.1-1.\nMessage type:\tPRIVATE CALL RINGING\nDirection:\tUE to another UE\nTable 17.1.6.1-1: PRIVATE CALL RINGING message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.6.1-1: PRIVATE CALL RINGING message content",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.7\tPRIVATE CALL ACCEPT message",
                            "text_content": "This message is sent by a UE to another UE in response to a PRIVATE CALL SETUP REQUEST message when user accepts the call. This message indicates that the UE accepts the call setup request. For contents of the message see Table 17.1.7.1-1.\nMessage type:\tPRIVATE CALL ACCEPT\nDirection:\tUE to another UE\nTable 17.1.7.1-1: PRIVATE CALL ACCEPT message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.7.1-1: PRIVATE CALL ACCEPT message content",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.8\tPRIVATE CALL REJECT message",
                            "text_content": "This message is sent by a UE to another UE in response to a PRIVATE CALL SETUP REQUEST message when user rejects the call. This message indicates that the UE rejects the call setup request. For contents of the message see Table 17.1.8.1-1.\nMessage type:\tPRIVATE CALL REJECT\nDirection:\tUE to another UE\nTable 17.1.8.1-1: PRIVATE CALL REJECT message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.8.1-1: PRIVATE CALL REJECT message content",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.9\tPRIVATE CALL RELEASE message",
                            "text_content": "This message is sent by a UE to another UE to terminate an ongoing private call. For contents of the message see Table 17.1.9.1-1.\nMessage type:\tPRIVATE CALL RELEASE\nDirection:\tUE to another UE\nTable 17.1.9.1-1: PRIVATE CALL RELEASE message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.9.1-1: PRIVATE CALL RELEASE message content",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.10\tPRIVATE CALL RELEASE ACK message",
                            "text_content": "This message is sent by a UE to another UE in response to a PRIVATE CALL RELEASE message. This message indicates that the UE has terminated the call. For contents of the message see Table 17.1.10.1-1.\nMessage type:\tPRIVATE CALL RELEASE ACK\nDirection:\tUE to another UE\nTable 17.1.10.1-1: PRIVATE CALL RELEASE ACK message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.10.1-1: PRIVATE CALL RELEASE ACK message content",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.11\tPRIVATE CALL ACCEPT ACK message",
                            "text_content": "This message is sent by a UE to another UE in response to a PRIVATE CALL ACCEPT message. This message acknowledges the receipt of PRIVATE CALL ACCEPT message. For contents of the message see Table 17.1.11.1-1.\nMessage type:\tPRIVATE CALL ACCEPT ACK\nDirection:\tUE to another UE\nTable 17.1.11.1-1: PRIVATE CALL ACCEPT ACK message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.11.1-1: PRIVATE CALL ACCEPT ACK message content",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.12\tGROUP CALL IMMINENT PERIL END message",
                            "text_content": "This message is sent by the UE to other UEs to indicate termination of imminent peril mode in the group call. For contents of the message see Table 17.1.12.1-1.\nMessage type:\tGROUP CALL IMMINENT PERIL END\nDirection:\tUE to other UEs\nTable 17.1.12.1-1: GROUP CALL IMMINENT PERIL END message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.12.1-1: GROUP CALL IMMINENT PERIL END message content",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.13\tGROUP CALL EMERGENCY END message",
                            "text_content": "This message is sent by the UE to other UEs to indicate termination of emergency mode in the group call. For contents of the message see Table 17.1.13.1-1.\nMessage type:\tGROUP CALL EMERGENCY END\nDirection:\tUE to other UEs\nTable 17.1.13.1-1: GROUP CALL EMERGENCY END message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.13.1-1: GROUP CALL EMERGENCY END message content",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.14\tGROUP EMERGENCY ALERT message",
                            "text_content": "This message is sent by the UE to other UEs to indicate an emergency situation. For contents of the message see Table 17.1.14.1-1.\nMessage type:\tGROUP EMERGENCY ALERT\nDirection:\tUE to other UEs\nTable 17.1.14.1-1: GROUP EMERGENCY ALERT message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.14.1-1: GROUP EMERGENCY ALERT message content",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.15\tGROUP EMERGENCY ALERT ACK message",
                            "text_content": "This message is sent by the UE to other UEs to indicate receipt of emergency alert. For contents of the message see Table 17.1.15.1-1.\nMessage type:\tGROUP EMERGENCY ALERT ACK\nDirection:\tUE to other UEs\nTable 17.1.15.1-1: GROUP EMERGENCY ALERT ACK message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.15.1-1: GROUP EMERGENCY ALERT ACK message content",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.16\tGROUP EMERGENCY ALERT CANCEL message",
                            "text_content": "This message is sent by the UE to other UEs to indicate end of emergency situation. For contents of the message see Table 17.1.16.1-1.\nMessage type:\tGROUP EMERGENCY ALERT CANCEL\nDirection:\tUE to other UEs\nTable 17.1.16.1-1: GROUP EMERGENCY ALERT CANCEL message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.16.1-1: GROUP EMERGENCY ALERT CANCEL message content",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.17\tGROUP EMERGENCY ALERT CANCEL ACK message",
                            "text_content": "This message is sent by the UE to other UEs to indicate receipt of emergency alert cancel. For contents of the message see Table 17.1.17.1-1.\nMessage type:\tGROUP EMERGENCY ALERT CANCEL ACK\nDirection:\tUE to other UEs\nTable 17.1.17.1-1: GROUP EMERGENCY ALERT CANCEL ACK message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.17.1-1: GROUP EMERGENCY ALERT CANCEL ACK message content",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.18\tGROUP CALL BROADCAST message",
                            "text_content": "This message is sent by the UE to other UEs to announce a broadcast group call to other UEs. For contents of the message see Table 17.1.18.1-1.\nMessage type:\tGROUP CALL BROADCAST\nDirection:\tUE to other UEs\nTable 17.1.18.1-1: GROUP CALL BROADCAST message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.18.1-1: GROUP CALL BROADCAST message content",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.19\tGROUP CALL BROADCAST END message",
                            "text_content": "This message is sent by the UE to other UEs to indicate termination of a broadcast group call. For contents of the message see Table 17.1.19.1-1.\nMessage type:\tGROUP CALL BROADCAST END\nDirection:\tUE to other UEs\nTable 17.1.19.1-1: GROUP CALL BROADCAST END message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.19.1-1: GROUP CALL BROADCAST END message content",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.20\tPRIVATE REMOTE VIDEO PUSH REQUEST message",
                            "text_content": "This message is sent by the UE to another UE to request Private Video Push communication. For contents of message see Table 17.1.20.1-1.\nMessage type:\tPRIVATE REMOTE VIDEO PUSH REQUEST\nDirection:\tUE to another UE\nTable 17.1.20.1-1: PRIVATE REMOTE VIDEO PUSH REQUEST message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.20.1-1: PRIVATE REMOTE VIDEO PUSH REQUEST message content",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.21\tGROUP REMOTE VIDEO PUSH REQUEST message",
                            "text_content": "This message is sent by the UE to another UE to request Group Video Push communication. For contents of message see Table 17.1.21.1-1.\nMessage type:\tGROUP REMOTE VIDEO PUSH REQUEST\nDirection:\tUE to another UE\nTable 17.1.21.1-1: GROUP REMOTE VIDEO PUSH REQUEST message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.21.1-1: GROUP REMOTE VIDEO PUSH REQUEST message content",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.22\tVIDEO PUSH TRYING RESPONSE message",
                            "text_content": "This message is sent by the UE to another UE in response to a PRIVATE REMOTE VIDEO PUSH REQUEST message. This message indicates that the UE has accepted the Video Push request and is setting up a private/group call for Video Push. For contents of message see Table 17.1.22.1-1.\nMessage type:\tVIDEO PUSH TRYING RESPONSE\nDirection:\tUE to another UE\nTable 17.1.22.1-1: VIDEO PUSH TRYING RESPONSE message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.22.1-1: VIDEO PUSH TRYING RESPONSE message content",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.1.23\tNOTIFY VIDEO PUSH message",
                            "text_content": "This message is sent by the UE to another UE in response to a PRIVATE REMOTE VIDEO PUSH REQUEST message. This message indicates whether the UE has successfully setup a private/group call for Video Push. For contents of message see Table 17.1.23.1-1.\nMessage type:\tNOTIFY VIDEO PUSH\nDirection:\tUE to another UE\nTable 17.1.23.1-1: NOTIFY VIDEO PUSH message content\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.1.23.1-1: NOTIFY VIDEO PUSH message content",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "17.2\tGeneral message format and information elements coding",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "17.2.1\tGeneral",
                            "text_content": "The MONP MCVideo message is transported in a MONP MCVIDEO MESSAGE CARRIER message defined in 3GPP TS 24.379 [40]. Each MONP MCVideo message consists of a series of information elements. A MONP MCVideo message consists of the following parts:\nThe least significant bit of a field is represented by the lowest numbered bit of the highest numbered octet of the field. When the field extends over more than one octet, the order of bit values progressively decreases as the octet number increases.\nFigure 17.2.1-1 shows an example of a field where the most significant bit of the field is marked MSB and the least significant bit of the field is marked LSB.\nFigure 17.2.1-1: Example of bit ordering of a field\nWithin the protocols defined in the present document, the message consists of the following parts:\na)\tmessage type information element; and\nb)\tother information elements, as required.\nThe organization of a message is illustrated in the example shown in Figure 17.2.1-2.\nFigure 17.2.1-2: General message organization example\nUnless specified otherwise in the message descriptions of clause 17.1, a particular information element shall not be present more than once in a given message.\nThe sending entity shall set value of a spare bit to zero. The receiving entity shall ignore value of a spare bit\nThe sending entity shall not set a value of an information element to a reserved value. The receiving entity shall discard message containing an information element set to a reserved value.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Figure 17.2.1-1 shows an example of a field where the most significant bit of the field is marked MSB and the least significant bit of the field is marked LSB.",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "The organization of a message is illustrated in the example shown in Figure 17.2.1-2.",
                                    "table number": 30,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.2\tMessage type",
                            "text_content": "The purpose of the Message type information element is to identify the type of the message.\nThe value part of the Message type information element is coded as shown in Table 17.2.2-1.\nThe Message type information element is a type 3 information element with a length of 1 octet.\nTable 17.2.2-1: Message types\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.2.2-1: Message types",
                                    "table number": 31,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.3\tCall identifier",
                            "text_content": "The purpose of the Call identifier information element is to uniquely identify the call.\nThe Call identifier information element is coded as shown in Figure 17.2.3-1 and Table 17.2.3-1.\nThe Call identifier information element is a type 3 information element with a length of 2 octets.\n\n\nFigure 17.2.3-1: Call identifier information element\nTable 17.2.3-1: Call identifier information element\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 32,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.3-1: Call identifier information element",
                                    "table number": 33,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.4\tRefresh interval",
                            "text_content": "The refresh interval information identifier is used to indicate the minimum time period between successive periodic messages;\nThe Refresh interval information element is coded as shown in Figure 17.2.4-1 and Table 17.2.4-1.\nThe Refresh interval information element is a type 3 information element with a length of 2 octets.\nFigure 17.2.4-1: Refresh interval\nTable 17.2.4-1: Refresh interval information element\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The Refresh interval information element is a type 3 information element with a length of 2 octets.",
                                    "table number": 34,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.4-1: Refresh interval information element",
                                    "table number": 35,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.5\tMCVideo group ID",
                            "text_content": "The MCVideo group ID information element is used to indicate the destination MCVideo group identifier;\nThe MCVideo group ID information element is coded as shown in Figure 17.2.5-1 and Table 17.2.5-1.\nThe MCVideo group ID information element is a type 6 information element.\n\nFigure 17.2.5-1: MCVideo group ID information element\nTable 17.2.5-1: MCVideo group ID information element\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 36,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.5-1: MCVideo group ID information element",
                                    "table number": 37,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.6\tSDP",
                            "text_content": "The purpose of the SDP information element is to contain SDP message.\nThe SDP information element is coded as shown in Figure 17.2.6-1 and Table 17.2.6-1.\nThe SDP information element is a type 6 information element.\n\n\nFigure 17.2.6-1: SDP information element\nTable 17.2.6-1: SDP information element\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 38,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.6-1: SDP information element",
                                    "table number": 39,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.7\tCommencement mode",
                            "text_content": "The purpose of the Commencement mode information element is to identify the type of the commencement mode of the private call.\nThe value part of the Commencement mode information element is coded as shown in Table 17.2.7-1.\nThe Commence mode information element is a type 3 information element with a length of 1 octet.\nTable 17.2.7-1: Commencement mode\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.2.7-1: Commencement mode",
                                    "table number": 40,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.8\tReason",
                            "text_content": "The purpose of the Reason information element is to indicate the reason of the reject.\nThe Reason information element is coded as shown in figure 17.2.8-1.\nThe Reason information element is a type 3 information element.\n\nFigure 17.2.8-1: Reason information element\nTable 17.2.8-1: Reason type\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The Reason information element is a type 3 information element.",
                                    "table number": 41,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.8-1: Reason type",
                                    "table number": 42,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.9\tConfirm mode indication",
                            "text_content": "The purpose of the Confirm mode indication information element is to indicate that the terminating MCVideo client is expected to confirm call acceptance.\nThe Confirm mode indication information element is coded as shown in figure 17.2.9-1.\nThe Confirm mode indication information element is a type 2 information element.\n\nFigure 17.2.9-1: Confirm mode indication information element\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The Confirm mode indication information element is a type 2 information element.",
                                    "table number": 43,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.10\tMCVideo user ID",
                            "text_content": "The MCVideo user ID information element is used to indicate an MCVideo user ID.\nThe MCVideo user ID information element is coded as shown in Figure 17.2.10-1 and Table 17.2.10-1.\nThe MCVideo user ID information element is a type 6 information element.\nFigure 17.2.10-1: MCVideo user ID information element\nTable 17.2.10-1: MCVideo user ID information element\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The MCVideo user ID information element is a type 6 information element.",
                                    "table number": 44,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.10-1: MCVideo user ID information element",
                                    "table number": 45,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.11\tCall type",
                            "text_content": "The purpose of the Call type information element is to identify the type of the call.\nThe value part of the Call type information element is coded as shown in Table 17.2.11-1.\nThe Call type information element is a type 3 information element with a length of 1 octet.\nTable 17.2.11-1: Call type\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 17.2.11-1: Call type",
                                    "table number": 46,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.12\tUser location",
                            "text_content": "The User location information element is used to indicate the current location of the MCVideo client;\nThe User location information element is coded as shown in Figure 17.2.12-1 and Table 17.2.12-1.\nThe User location information element is a type 6 information element.\nFigure 17.2.12-1: User location information element\nTable 17.2.12-1: User location information element\n\nThe User location information element contains the LocationInfo structure defined in clause 7.4 of 3GPP TS 29.199-9 [9].\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The User location information element is a type 6 information element.",
                                    "table number": 47,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.12-1: User location information element",
                                    "table number": 48,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.13\tOrganization name",
                            "text_content": "The Organization name information element is used to indicate the name of the organization to which the user belongs.\nThe Organization name information element is coded as shown in Figure 17.2.13-1 and Table 17.2.13-1.\nThe Organization name information element is a type 6 information element.\nFigure 17.2.13-1: Organization name information element\nTable 17.2.13-1: Organization name information element\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The Organization name information element is a type 6 information element.",
                                    "table number": 49,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.13-1: Organization name information element",
                                    "table number": 50,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.14\tCall start time",
                            "text_content": "The Call start time information element is used to indicate the UTC time when a call was started.\nThe Call start time information element is coded as shown in Figure 17.2.14-1 and Table 17.2.14-1.\nThe Call start time information element is a type 3 information element with a length of 5 octets.\nFigure 17.2.14-1: Call start time value\nTable 17.2.14-1: Call start time value\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The Call start time information element is a type 3 information element with a length of 5 octets.",
                                    "table number": 51,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.14-1: Call start time value",
                                    "table number": 52,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.15\tLast call type change time",
                            "text_content": "The Last call type change time information identifier is used to indicate the last UTC time when a call priority was changed.\nThe Last call type change time information element is coded as shown in Figure 17.2.15-1 and Table 17.2.15-1.\nThe Last call type change time information element is a type 3 information element with a length of 5 octets.\nFigure 17.2.15-1: Last call type change time value\nTable 17.2.15-1: Last call type change time value\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The Last call type change time information element is a type 3 information element with a length of 5 octets.",
                                    "table number": 53,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.15-1: Last call type change time value",
                                    "table number": 54,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.16\tProbe response",
                            "text_content": "The purpose of the probe response information element is to indicate that the GROUP CALL ANNOUNCEMENT message was sent in response of a GROUP CALL PROBE message.\nThe probe response information element is coded as shown in figure 17.2.16-1.\nThe probe response is a type 2 information element.\n\nFigure 17.2.16-1: Probe response information element\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The probe response is a type 2 information element.",
                                    "table number": 55,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.17\tVideo Information",
                            "text_content": "The Video Information IE is used to indicate the source (user/group) of the video being pushed.\nThe Video Information IE is coded as shown in Figure 17.2.17-1, Table 17.2.17-1 and Table 17.2.17-2.\nThe Video Information IE is a type 6 information element.\n\nFigure 17.2.17-1: Video Information IE\nTable 17.2.17-1: Source ID type\n\nTable 17.2.17-2: Source ID contents\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 56,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.17-1: Source ID type",
                                    "table number": 57,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.17-2: Source ID contents",
                                    "table number": 58,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "17.2.18\tResult",
                            "text_content": "The purpose of the Result information element is to indicate the result of the remote video push request.\nThe Result information element is coded as shown in figure 17.2.18-1.\nThe Result information element is a type 3 information element.\n\nFigure 17.2.18-1: Result information element\nTable 17.2.18-1: Result type\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "The Result information element is a type 3 information element.",
                                    "table number": 59,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 17.2.18-1: Result type",
                                    "table number": 60,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "18\tLocation procedures",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "18.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "If the participating MCVideo function needs to obtain location information, the participating MCVideo function configures the MCVideo client upon successful service authorization. The configuration contains information the MCVideo client uses to set up filter criteria for when the MCVideo client shall send location reports to the participating MCVideo function.\nThe participating MCVideo function can also explicitly request the MCVideo client to send a location report.\nThe MCVideo client will, based on the received configuration or when explicitly requested, send location reports.\nThe location information is used by the participating MCVideo function to determine whether to use MBMS bearers or not as described in clause 16.\nIn case of LTE MBMS and 5G MBS co-existence, the inter-RAT information contained in the location information is used by the participating MCVideo function to determine how to receive MCVideo services after inter-RAT change.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "18.2\tParticipating MCVideo function location procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "18.2.1\tGeneral",
                            "text_content": "The participating MCVideo function has procedures to:\n-\tconfigure the location reporting at the UE;\n-\trequest the UE to report the location of the UE; and\n-\treceive a location information report from the UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "18.2.2\tLocation reporting configuration",
                            "text_content": "The participating MCVideo function may configure the location reporting in the MCVideo client by generating a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]. The participating MCVideo function:\n1)\tshall include a Request-URI set to the URI corresponding to the identity of the MCVideo client;\n2)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref set to the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" in accordance with IETF RFC 3841 [20];\n3)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-request-uri> element containing the MCVideo ID of the MCVideo user to receive the configuration;\n4)\tshall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body with the <Configuration> element contained in the <location-info> root element set to the desired configuration;\n5)\tshall include the TriggerId attribute where defined for the sub-elements defining the trigger criterion;\n6)\tshall include the public service identity of the participating MCVideo function in the P-Asserted-Identity header field;\n7)\tshall include a P-Asserted-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\n8)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "18.2.3\tLocation information request",
                            "text_content": "If the participating MCVideo function needs to request the MCVideo client to report its location, the participating MCVideo functions shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]. The participating MCVideo function:\n1)\tshall include a Request-URI set to the URI corresponding to the identity of the MCVideo client;\n2)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref set to the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" in accordance with IETF RFC 3841 [20];\n3)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body with an <mcvideo-request-uri> element containing the MCVideo ID of the MCVideo user;\n4)\tshall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Request> element contained in the <location-info> root element;\n5)\tshall include a P-Asserted-Service header field with the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\n6)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "18.2.4\tLocation information report",
                            "text_content": "If the participating MCVideo function receives a SIP request containing:\n1)\ta Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\"; and\n2)\tan application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element;\nthen the participating MCVideo function shall authorise the location report based on the MCVideo ID received. If the MCVideo user is authorised to send a location report the participating MCVideo function:\n1)\tshall use the location information as needed;\n2)\tshall follow the procedure of clause 6.3.3.1.20, if the MCVideo client has entered into or exited from an emergency alert area; and\n3)\tshall follow the procedure of clause 6.3.3.1.21, if the MCVideo client has entered into or exited from a group geographic area.\nNOTE:\tThe <Report> element contains the event triggering identity in the location information report from the UE, and can contain location information.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "18.2.5\tAbnormal cases",
                            "text_content": "Upon receipt of a SIP request:\n1)\twhere the P-Asserted-Identity identifies a public user identity not associated with an MCVideo user served by the participating MCVideo function; or\n2)\twith a MIME body with Content-Type header field set to \"application/vnd.3gpp.mcvideo-info+xml\" and with a <mcvideo-request-URI> element containing an MCVideo ID that identifies an MCVideo user served by the participating MCVideo function;\nthen, when the SIP request contains:\n1)\tan Accept-Contact header field with the g.3gpp.mcvideo media feature tag;\n2)\tan Accept-Contact header field with the g.3gpp.icsi-ref media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\n3)\tan application/vnd.3gpp.mcvideo-location-info+xml MIME body containing a <Request> element or a <Configuration> element;\nthe participating MCVideo function shall remove the application/vnd.3gpp.mcvideo-location-info+xml MIME body when sending a SIP request.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "18.3\tMCVideo client location procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "18.3.1\tGeneral",
                            "text_content": "The MCVideo client sends a location report when one of the trigger criteria is fulfilled or when it receives a request from the participating MCVideo function to send a location report. To send the location report the MCVideo client can use an appropriate SIP message that it needs to send for other reasons, or it can include the location report in a SIP MESSAGE request.\nTo send a location report, the MCVideo client includes in the SIP MESSAGE request an application/vnd.3gpp.mcvideo-location-info+xml MIME body as specified in clause F.3. The MCVideo client populates the elements in accordance with its reporting configuration. Further location information may also be included in the P-Access-Network-Info header field.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "18.3.2\tLocation reporting configuration",
                            "text_content": "Upon receiving a SIP MESSAGE request containing:\n1)\tan Accept-Contact header field with the media feature tag g.3gpp.icsi-ref set to the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n2)\ta Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\"; and\n3)\tan application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Configuration> root element included in the <location-info> root element;\nthen the MCVideo client:\n1)\tshall store the contents of the <Configuration> elements;\n2)\tshall set the location reporting triggers accordingly; and\n3)\tshall start the minimumReportInterval timer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "18.3.3\tLocation information request",
                            "text_content": "Upon receiving a SIP MESSAGE request containing\n1)\tan Accept-Contact header field with the media feature tag g.3gpp.icsi-ref set to the value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n2)\ta Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\"; and\n3)\tan application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Request> element included in the <location-info> root element;\nthen the MCVideo client:\n1)\tshall send a location report as specified in clause 18.3.4; and\n2)\tshall reset the minimumReportInterval timer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "18.3.4\tLocation information report",
                            "text_content": "If a location reporting trigger fires the MCVideo client checks if the minimumReportInterval timer is running. If the timer is running the MCVideo client waits until the timer expires. When the minimumReportInterval timer expires, the MCVideo client:\n1)\tshall, if any of the reporting triggers are still true, send a location information report as specified in clause 18.3.4.2.\nIf the MCVideo client receives a location information request as specified in clause 18.3.3, the MCVideo client shall send a location report as specified in clause 18.3.4.2.\nIf the MCVideo client needs to send a SIP request for other reasons (e.g. a SIP MESSAGE request containing an MBMS listening report as described in clause 16), the MCVideo client:\n1)\tshall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body and in the <location-info> root element the MCVideo client shall include:\na)\ta <Report> element and if the Report was triggered by a location request include the <ReportID> attribute set to the value of the <RequestID> attribute in the received Request;\nb)\t<TriggerId> child elements, where each element is set to the value of the <Trigger-Id> attribute associated with the trigger that have fired; and\nc)\tthe location reporting elements corresponding to the triggers that have fired;\n2)\tshall set the minimumReportInterval timer to the minimumReportInterval time and start the timer; and\n3)\tshall reset all triggers.\nIf the MCVideo client does not need to send a SIP request for other reasons, the MCVideo client shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]. The MCVideo client;\n1)\tshall include in the Request-URI, the SIP URI received in the P-Asserted-Identity header field in the received SIP MESSAGE request for location report configuration;\n2)\tshall include a Content-Type header field set to \"application/vnd.3gpp.mcvideo-location-info+xml\";\n3)\tshall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body and in the <location-info> root element include:\na)\ta <Report> element and if the Report was triggered by a location request include the <ReportID> attribute set to the value of the <RequestID> attribute in the received Request;\nb)\ta <TriggerId> child element set to the value of each <Trigger-Id> value of the triggers that have fired; and\nc)\tthe location reporting elements corresponding to the triggers that have fired;\n4)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.mcvideo along with parameters \"require\" and \"explicit\" in accordance with IETF RFC 3841 [20];\n5)\tshall set the minimumReportInterval timer to the minimumReportInterval time and start the timer;\n6)\tshall reset all triggers; and\n7)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "19\tMCVideo Service Continuity",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "19.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the procedures for service continuity of an ongoing SIP session supporting an MCVideo private call or MCVideo group call when:\n-\tthe MCVideo UE (referred to as the remote UE) is connected to the network via E-UTRAN and decides to connect to a UE-to-network relay, e.g. because it realises that it is losing connection to the network and wants to ensure seamless service; and\n-\tthe remote UE is connected to the network via the UE-to-network-relay and decides to disconnect from the UE-to-network relay, e.g. because the remote UE realises that it is losing connection to UE-to-network relay or because the LTE-Uu link quality goes above a certain threshold, and decides to connect to the network via E-UTRAN for seamless service.\nMCVideo service continuity follows the principles of 3GPP TS 24.237 [60] for PS-PS service continuity. In particular:\n1)\tthe SIP session is anchored at a Service Centralisation and Continuity Application Server (SCC AS) before and after the handover. This requires that initial filter criteria is configured to ensure that the SCC AS is in the registration path, is the first application server in the path of an originating session, and the last AS in the path of a terminating session;\n2)\tthe remote UE is an SC UE that supports PS-PS access transfer as per 3GPP TS 24.237 [60]; and\n3)\tthe remote UE is either configured with a static PS to PS STI as specified in 3GPP TS 24.216 [73] that it uses when initiating the session transfer request, or it uses a dynamic PS to PS STI which is the URI contained in the Contact header field returned at the creation of the dialog over the Source Access Leg, as specified in 3GPP TS 24.237 [60].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "19.2\tService continuity from on-network MCVideo service to UE-to-network relay MCVideo service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "19.2.1\tRemote UE",
                            "text_content": "When performing service continuity from on-network MCVideo service to UE-to-network relay MCVideo service, the remote UE:\n1)\tshall perform ProSe UE-to-network relay discovery over PC5 as specified in clause 10A of 3GPP TS 24.334 [59];\nNOTE 1:\tDepending on the model (A or B) used for discovery as specified in 3GPP TS 24.334 [59], the remote UE can perform UE-to-network relay discovery while still in coverage (when model A is used), or while still in coverage if the LTE-Uu link quality drops below a certain threshold (when model B is used).\nNOTE 2:\tAs part of the discovery process, service authorisation is performed as specified in 3GPP TS 24.334 [59]. The UE-to-network relay is provisioned with relay service code(s) associated with allowed MCVideo group(s) as specified in 3GPP TS 24.483 [4] and 3GPP TS 24.484 [25]. To find a permitted UE-to-network relay for group communications, a remote UE is provisioned with the relay service code(s) associated with the MCVideo group(s) which the MCVideo user is part of, in the MCVideo group configuration MO as specified in 3GPP TS 24.483 [4].\n2)\tshall select a suitable UE-to-network relay by performing the UE-to-network relay selection procedure specified in clause 10A.2.12 of 3GPP TS 24.334 [59];\n3)\tshall establish a direct link to the relay as specified in clause 10.4.2 of 3GPP TS 24.334 [59];\nNOTE 3:\tAs part of this process the remote UE is assigned a /64 IPv6 Prefix by the relay.\n4)\tshall initiate IMS registration over the UE-to-network relay target access leg by following the procedures in clause 10.2.0 of 3GPP TS 24.237 [60];\nNOTE 4:\tAs part of this process the remote UE needs to discover the P-CSCF address to connect to via the UE-to-network relay. The remote UE either uses mechanism I or mechanism III of clause 9.2.1 in 3GPP TS 24.229 [11] to discover the P-CSCF address. The details of how mechanism I or mechanism III are used to discover the P-CSCF address are not covered by the present document.\n5)\tshall initiate session transfer by following the procedures specified in clause 10.2.1 of 3GPP TS 24.237 [60];\n6)\tafter successful session transfer if MCVideo content is being distributed on the target side using MBMS bearers, shall send a MBMS bearer listening status report procedure to the participating MCVideo function by performing the procedures in clause 16; and\nNOTE 5:\tUpon receiving the MBMS bearer listening status from an MCVideo client indicating that the MCVideo UE is now listening to a MBMS subchannel, the participating MCVideo function performs the procedures in clause 16 to switch to MBMS bearer.\n7)\tafter successful session transfer if the remote UE still has an connection in the source access, may perform IMS de-registration of the contact address of the IMS public user identity registered on the source access leg by following the procedures in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "19.2.2\tSCC AS",
                            "text_content": "The SCC AS follows the procedures in clause 10.3.2 of 3GPP TS 24.237 [60].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "19.3\tService continuity from UE-to-network relay MCVideo service to on-network MCVideo service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "19.3.1\tRemote UE",
                            "text_content": "When performing access transfer between UE-to-network relay MCVideo service and on-network MCVideo service, the remote UE:\n1)\tshall initiate IMS registration over the on-network target access leg by following the procedures in clause 10.2.0 of 3GPP TS 24.237 [60]; and\nNOTE:\tThe remote UE uses option II procedures for P-CSCF discovery as defined in clause L.2.2.1 of 3GPP TS 24.229 [11] to discover the P-CSCF address when connecting to EPC.\n2)\tfollows the procedures in steps 5), 6) and 7) of clause 14.A.2.1.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "19.3.2\tSCC AS",
                            "text_content": "The SCC AS follows the procedures in clause 19.2.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "20\tFunctional alias",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "20.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "Clause 20.2 contains the procedures for management of functional alias at the MCVideo client, the MCVideo server serving the MCVideo user and the MCVideo server owning the functional alias.\nClause 20.3 describes the coding used for management of functional aliases.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "20.2\tProcedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "20.2.1\tMCVideo client procedures",
                            "text_content": "The MCVideo client procedures consist of:\n-\ta functional alias status change procedure;\n-\ta functional alias status determination procedure; and\n-\ta location based functional alias status change procedure.\nIn order to obtain information about success or rejection of changes triggered by the functional alias status change procedure for an MCVideo user, the MCVideo client needs to initiate the functional alias status determination procedure for the MCVideo user before starting the functional alias status change procedure for the MCVideo user.\nIn order:\n-\tto indicate that an MCVideo user requests to activate one or more functional aliases;\n-\tto indicate that the MCVideo user requests to deactivate one or more functional aliases;\n-\tto refresh indication of an MCVideo user interest in one or more functional aliases due to near expiration of the expiration time of a functional alias with the status set to the \"activated\" state received in a SIP NOTIFY request in clause 20.2.1.3;\n-\tto indicate that the MCVideo client entering into or exiting from a location area triggers one or more functional aliases to be activated;\n-\tto indicate that the MCVideo client entering into or exiting from a location area triggers one or more functional aliases to be deactivated; or\n-\tany combination of the above;\nthe MCVideo client shall generate a SIP PUBLISH request according to TS 24.229 [11], IETF RFC 3903 [12], and IETF RFC 3856 [13].\nWhen the MCVideo user requests to deactivate a functional alias, the MCVideo client shall first check the <manual-deactivation-not-allowed-if-location-criteria-met> element within the <anyExt> element of the <entry> element corresponding to the functional alias within the <FunctionalAliasList> list element of the <anyExt> element of the <OnNetwork> element of the MCVideo user profile document (see the MCVideo user profile document in TS 24.484 [25]). If the functional alias has been activated due to a location area trigger and the <manual-deactivation-not-allowed-if-location-criteria-met> element is set to a value of \"true\", the MCVideo client shall suppress the MCVideo user's request.\nNOTE 1:\tIf the request is suppressed, a notification message can be displayed to the user.\nIn the SIP PUBLISH request, the MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tshall include an application/vnd.3gpp.MCVideo-info+xml MIME body. In the application/vnd.3gpp.MCVideo-info+xml MIME body, the MCVideo client shall include the <mcvideo-request-uri> element set to the MCVideo ID of the MCVideo user;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n4)\tif the MCVideo client requests to activate one or more functional aliases, shall set the Expires header field according to IETF RFC 3903 [12], to 4294967295;\nNOTE 2:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif the MCVideo client requests to deactivate one or more functional aliases, shall set the Expires header field according to IETF RFC 3903 [12], to zero; and\nNOTE 3:\tActivation and deactivation of functional alias cannot be performed with the same PUBLISH request.\n6)\tshall include an application/pidf+xml MIME body indicating per-user functional alias information according to clause 20.3.1. In the MIME body, the MCVideo client:\na)\tshall include all functional aliases where the MCVideo user requests activation for the MCVideo ID;\nb)\tshall include the MCVideo client ID of the targeted MCVideo client;\nc)\tshall not include the \"status\" attribute and the \"expires\" attribute in the <functionalalias> element;\nd)\tif the MCVideo client has received an indication that take over of a functional alias is possible and intends to take over a functional alias, shall include a <take-over> child element set to \"true\"; and\ne)\tshall set the <p-id-fa> child element of the <presence> root element to a globally unique value.\nThe MCVideo client shall send the SIP PUBLISH request according to TS 24.229 [11].\nNOTE 1:\tThe MCVideo UE also uses this procedure to determine which functional alias have been successfully activated for the MCVideo ID.\nIn order to discover functional aliases:\n1)\twhich are activated for the MCVideo user; or\n2)\twhich another MCVideo user has activated;\nthe MCVideo client shall generate an initial SIP SUBSCRIBE request according to TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16].\nIn the SIP SUBSCRIBE request, the MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo client shall include:\na)\tthe <mcvideo-request-uri> element set to the MCVideo ID of the targeted MCVideo user; and\nb)\tthe <request-type> element in the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element set to the value \"functional-alias-status-determination\";\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n4)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 2:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif the MCVideo client wants to fetch the current state only, shall set the Expires header field according to IETF RFC 6665 [16], to zero;\n6)\tshall include an Events header field set to \"presence\"; and\n7)\tshall include an Accept header field containing the application/pidf+xml MIME type.\nIn order to re-subscribe or de-subscribe, the MCVideo client shall generate an in-dialog SIP SUBSCRIBE request according to TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16]. In the SIP SUBSCRIBE request, the MCVideo client:\n1)\tif the MCVideo client wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 3:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n2)\tif the MCVideo client wants to de-subscribe, shall set the Expires header field according to IETF RFC 6665 [16], to zero;\n3)\tshall include an Events header field set to \"presence\"; and\n4)\tshall include an Accept header field containing the application/pidf+xml MIME type.\nUpon receiving a SIP NOTIFY request according to TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16], if SIP NOTIFY request contains an application/pidf+xml MIME body indicating per-user functional alias information  constructed according to clause 20.3.1, then the MCVideo client shall determine the status of the MCVideo user for each functional alias in the MIME body. If the <p-id-fa> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP NOTIFY request is included, the <p-id-fa> element value indicates the SIP PUBLISH request which triggered sending of the SIP NOTIFY request.\nIf the MCVideo client detected a functional alias activation or deactivation, it shall perform the procedure specified in clause 8.2.1.7.\nIf a location criterion for functional alias activation or de-activation is met, the MCVideo client shall initiate the functional alias status change procedure as specified in clause 20.2.1.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "20.2.2\tMCVideo server procedures",
                            "text_content": "The MCVideo server procedures consist of:\n-\tprocedures of MCVideo server serving the MCVideo user; and\n-\tprocedures of MCVideo server owning the functional alias.\nThe procedures of MCVideo server serving the MCVideo user consist of:\n-\ta receiving functional alias status change from MCVideo client procedure;\n-\ta receiving subscription to functional alias status procedure;\n-\ta sending notification of change of functional alias status procedure;\n-\ta sending functional alias  status change towards MCVideo server owning the functional procedure; and\n-\ta functional alias status determination from MCVideo server owning the functional alias procedure.\nThe MCVideo server shall maintain a list of MCVideo user information entries. The list of the MCVideo user information entries contains one MCVideo user information entry for each served MCVideo ID.\nIn each MCVideo user information entry, the MCVideo server shall maintain:\n1)\tan MCVideo ID. This field uniquely identifies the MCVideo user information entry in the list of the MCVideo user information entries; and\n2)\ta list of functional alias information entries.\nIn each functional alias information, the MCVideo server shall maintain:\n1)\ta functional alias ID. This field uniquely identifies the functional alias information entry in the list of the functional alias information entries;\n2)\ta functional alias status;\n3)\tan expiration time;\n4)\ta functional alias p-id-fa; and\n5)\ta next publishing time.\nUpon receiving a SIP PUBLISH request such that:\n1)\tRequest-URI of the SIP PUBLISH request contains either the public service identity identifying the originating participating MCVideo function serving the MCVideo user, or the public service identity identifying the terminating participating MCVideo function serving the MCVideo user;\n2)\tthe SIP PUBLISH request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the<mcvideo-request-uri> element which identifies an MCVideo ID served by the MCVideo server;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tthe Event header field of the SIP PUBLISH request contains the \"presence\" event type; and\n5)\tSIP PUBLISH request contains an application/pidf+xml MIME body indicating per-user functional alias information according to clause 20.3.1;\nthen the MCVideo server:\n1)\tshall identify the served MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n2)\tif the Request-URI of the SIP PUBLISH request contains the public service identity identifying the originating participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID from public user identity in the P-Asserted-Identity header field of the SIP PUBLISH request;\n3)\tif the Request-URI of the SIP PUBLISH request contains the public service identity identifying the terminating participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n4)\tif the originating MCVideo ID is different than the served MCVideo ID or the originating MCVideo ID is not authorized to modify functional alias status of the served MCVideo ID, shall send a SIP 403 (Forbidden) response and shall not continue with the rest of the steps;\n5)\tif the Expires header field of the SIP PUBLISH request is not included or has nonzero value lower than 4294967295, shall send a SIP 423 (Interval Too Brief) response to the SIP PUBLISH request, where the SIP 423 (Interval Too Brief) response contains a Min-Expires header field set to 4294967295, and shall not continue with the rest of the steps;\n6)\tif the Expires header field of the SIP PUBLISH request has nonzero value, shall determine the candidate expiration interval to according to IETF RFC 3903 [12];\n7)\tif the Expires header field of the SIP PUBLISH request has zero value, shall set the candidate expiration interval to zero;\n8)\tshall respond with SIP 200 (OK) response to the SIP PUBLISH request according to TS 24.229 [11], IETF RFC 3903 [12]. In the SIP 200 (OK) response, the MCVideo server:\na)\tshall set the Expires header field according to IETF RFC 3903 [12], to the candidate expiration time;\n9)\tif the \"entity\" attribute of the <presence> element of the application/pidf+xml MIME body of the SIP PUBLISH request is different than the served MCVideo ID, shall not continue with the rest of the steps;\n10)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 20.2.2.2.2; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the served MCVideo ID;\nas the served MCVideo user information entry;\n11)\tshall consider a copy of the list of the MCVideo functional alias entries of the served MCVideo user information entry as the served list of the MCVideo functional alias information entries;\n12)\tif the candidate expiration interval is nonzero, shall construct the candidate list of the MCVideo functional alias entries as follows:\na)\tfor each functional alias ID which has a functional alias information entry in the served list of the functional alias information entries, such that the expiration time of the functional alias information entry has not expired yet, and which is indicated in a \"functionalAliasID\" attribute of a <functionalAlias> element of the <status> element of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request:\ni)\tshall copy the functional alias information entry into a new functional alias information entry of the candidate list of the functional alias information entries;\nii)\tif the functional alias status of the functional alias information entry is \"deactivating\" or \"deactivated\", shall set the functional alias status of the new functional alias information entry to the \"activated\" state and shall set the activating p-id-fa of the new functional alias information entry to the value of the <p-id-fa> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request; and\niii)\tshall set the expiration time of the new functional alias information entry to the current time increased with the candidate expiration interval;\nb)\tfor each functional alias ID which has a functional alias information entry in the served list of the functional alias information entries, such that the expiration time of the functional alias information entry has not expired yet, and which is not indicated in any \"functionalAliasID\" attribute of the <functionalAlias> element of the <status> element of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request:\ni)\tshall copy the functional alias information entry into a new functional alias information entry of the candidate list of the functional alias information entries; and\nii)\tif the functional alias status of the functional alias information entry is \"activated\" or \"activating\":\n-\tshall set the functional alias status of the new functional alias entry to the \"deactivating\" state; and\n-\tshall set the expiration time of the new functional alias information entry to the current time increased with twice the value of timer F; and\nc)\tfor each functional alias ID:\ni)\twhich does not have a functional alias information entry in the served list of the functional alias entries; or\nii)\twhich has a functional alias information entry in the served list of the functional alias information entries, such that the expiration time of the functional alias information entry has already expired;\nand which is indicated in a \"functionalAliasID\" element of the <functionalAlias> element of the <status> element of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request:\ni)\tshall add a new functional alias information entry in the candidate list of the functional alias information list for the functional alias ID;\nii)\tshall set the functional alias status of the new functional alias information entry to the \"activating\" state;\niii)\tshall set the expiration time of the new functional alias information entry to the current time increased with the candidate expiration interval; and\niv)\tshall set the activating p-id-fa of the new functional alias information entry to the value of the <p-id-fa> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request;\n13)\tif the candidate expiration interval is zero, constructs the candidate list of the functional alias information entries as follows:\na)\tfor each functional alias ID which has an entry in the served list of the functional alias information entries:\ni)\tshall copy the functional alias entry of the served list of the functional alias information into a new functional alias information entry of the candidate list of the functional alias information entries;\nii)\tshall set the functional alias status of the new functional alias information entry to the \"de-activating\" state; and\niii)\tshall set the expiration time of the new functional alias information entry to the current time increased with twice the value of timer F;\n14)\tshall replace the list of the functional alias information entries stored in the served MCVideo user information entry with the candidate list of the functional alias information entries;\n15)\tshall perform the procedures specified in clause 20.2.2.2.6 for the served MCVideo ID and each functional alias:\na)\twhich does not have a functional alias information entry in the served list of the functional alias information entries and which has a functional alias information entry in the candidate list of the functional alias information entries with the functional alias status set to the \"activating\" state;\nb)\twhich has a functional alias information entry in the served list of the functional alias information entries with the expiration time already expired, and which has a functional alias information entry in the candidate list of the functional alias information entries with the functional alias status set to the \"activating\" state;\nc)\twhich has a functional alias information entry in the served list of the functional alias information entries with the functional alias status set to the \"deactivating\" state or the \"deactivated\" state and with the expiration time not expired yet, and which has an functional alias information entry in the candidate list of the functional alias information entries with the functional alias status set to the \"activating\" state; or\nd)\twhich has a functional alias information entry in the served list of the functional alias information entries with the functional alias status set to the \"activated\" state and with the expiration time not expired yet, and which has an functional alias information entry in the candidate list of the functional alias information entries with the functional alias status set to the \"deactivating\" state;\n16)\tshall identify the handled p-id-fa in the <p-id-fa> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request; and\n17)\tshall perform the procedures specified in clause 20.2.2.2.5 for the served MCVideo ID.\nUpon receiving a SIP SUBSCRIBE request such that:\n1)\tRequest-URI of the SIP SUBSCRIBE request contains either the public service identity identifying the originating participating MCVideo function serving the MCVideo user, or the public service identity identifying the terminating participating MCVideo function serving the MCVideo user;\n2)\tthe SIP SUBSCRIBE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing:\na)\tthe<mcvideo-request-uri> element which identifies an MCVideo ID served by the MCVideo server; and\nb)\tthe <request-type> element in the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element set to the value \"functional-alias-status-determination\";\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14]; and\n4)\tthe Event header field of the SIP SUBSCRIBE request contains the \"presence\" event type;\nthe MCVideo server:\n1)\tshall identify the served MCVideo ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n2)\tif the Request-URI of the SIP SUBSCRIBE request contains the public service identity identifying the originating participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID from public user identity in the P-Asserted-Identity header field of the SIP SUBSCRIBE request;\n3)\tif the Request-URI of the SIP SUBSCRIBE request contains the public service identity identifying the terminating participating MCVideo function serving the MCVideo user, shall identify the originating MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n4)\tif the originating MCVideo ID is different than the served MCVideo ID and the originating MCVideo ID is not authorized to modify functional alias status of the served MCVideo ID, shall send a SIP 403 (Forbidden) response and shall not continue with the rest of the steps; and\n5)\tshall generate a SIP 200 (OK) response to the SIP SUBSCRIBE request according to TS 24.229 [11], IETF RFC 6665 [16].\nFor the duration of the subscription, the MCVideo server shall notify the subscriber about changes of the information of the served MCVideo ID, as described in clause 20.2.2.2.5.\nIn order to notify the subscriber about changes of functional aliases of the served MCVideo ID, the MCVideo server:\n1)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 20.2.2.2.2; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the served MCVideo ID;\nas the served MCVideo user information entry;\n2)\tshall generate an application/pidf+xml MIME body indicating per-user functional alias information according to clause 20.3.1 and the served list of the MCVideo user information entries with the following clarifications:\na)\tthe MCVideo server shall not include information from functional alias information entry with the expiration time already expired;\nb)\tthe MCVideo server shall not include information from a functional alias information entry with the functional alias status set to the \"deactivated\" state;\nc)\tif this procedures is invoked by procedure in clause 20.2.2.2.3 where the handled p-id-fa value was identified, the MCVideo server shall set the <p-id-fa> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP NOTIFY request to the handled p-id-fa value; and\n3)\tsend a SIP NOTIFY request according to 3GPP TS 24.229 [11], and IETF RFC 6665 [16] for the subscription created in clause 20.2.2.2.4. In the SIP NOTIFY request, the MCVideo server shall include the generated application/pidf+xml MIME body indicating per-user functional alias information.\nNOTE 1:\tUsage of one SIP PUBLISH request to carry information about change of functional alias state of several MCVideo users served by the same MCVideo server is not supported in this version of the specification.\nIn order:\n-\tto send an activation request of a served MCVideo ID for a handled functional alias ID;\n-\tto send a deactivation request of a served MCVideo ID for a handled functional alias ID;\n-\tto send a take over request of a served MCVideo ID for a handled functional alias ID due to take over; or\n-\tto send an activation request of a served MCVideo ID for a handled functional alias ID due to near expiration of the previously published information;\nthe MCVideo server shall generate a SIP PUBLISH request according to TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13]. In the SIP PUBLISH request, the MCVideo server:\n1)\tshall set the Request-URI to the public service identity of the controlling MCVideo function associated with the handled functional alias ID;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the MCVideo server determines the public service identity of the controlling MCVideo function associated with the handled functional alias ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo server:\na)\tshall include the <mcvideo-request-uri> element set to the handled functional alias ID; and\nb)\tshall include the <mcvideo-calling-user-id> element set to the served MCVideo ID;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tif sending an activation request, shall set the Expires header field according to IETF RFC 3903 [12], to 4294967295;\nNOTE 7:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif sending a deactivation request, shall set the Expires header field according to IETF RFC 3903 [12], to zero;\n6)\tshall include a P-Asserted-Identity header field set to the public service identity of the MCVideo server according to 3GPP TS 24.229 [11];\n7)\tshall set the current p-id-fa to a globally unique value;\n8)\tshall consider an MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 20.2.2.2.2; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the served MCVideo ID;\nas the served MCVideo user information entry;\n9)\tfor each functional alias information entry such that:\na)\tthe functional alias information entry has the \"activating\" functional alias status, the functional alias ID set to the handled functional alias ID, the expiration time has not expired yet and the activating p-id-fa is not set; and\nb)\tthe functional alias information entry is in the list of the functional alias information entries of the served MCVideo user information entry;\nshall set the activating p-id-fa of the functional alias information entry to the current p-id-fa; and\n10)\tshall include an application/pidf+xml MIME body indicating per-functional alias status information constructed according to clause 20.3.1.2. The MCVideo server shall indicate all served MCVideo user IDs, such that:\na)\tthe functional alias status is set to \"activating\" with or without \"take-over\" element or \"activated\", and the expiration time has not expired yet in a functional alias information entry with the functional alias ID set to the handled functional alias;\nb)\tthe functional alias information entry is in the list of the functional alias information entries of an MCVideo user information entry; and\nc)\tthe MCVideo user information entry is a served MCVideo user information entry.\nThe MCVideo server shall set the <p-id-fa> child element of the <presence> root element to the current p-id-fa.\nThe MCVideo server shall not include the \"expires\" attribute in the <functionalAlias> element.\nNOTE 8:\tThe MCVideo server sets the \"status\" attribute in the <functionalAlias> element to indicate whether the request is for functional alias take over.\nThe MCVideo server shall send the SIP PUBLISH request according to 3GPP TS 24.229 [11].\nIf timer F expires for the SIP PUBLISH request sent for a (de)activation request of served MCVideo ID for the functional alias ID or upon receiving a SIP 3xx, 4xx, 5xx or 6xx response to the SIP PUBLISH request, the MCVideo server:\n1)\tshall remove each functional alias ID entry such that:\na)\tthe functional alias information entry has the functional alias ID set to the handled functional alias ID; and\nb)\tthe functional alias information entry is in the list of the functional alias information entries of the served MCVideo user information entry.\nNOTE 1:\tUsage of one SIP SUBSCRIBE request to subscribe for notification about change of functional alias state of several MCVideo users served by the same MCVideo server is not supported in this version of the specification.\nIn order to discover whether a served MCVideo user successfully activated a handled functional alias in the MCVideo server owning the functional alias, the MCVideo server shall generate an initial SIP SUBSCRIBE request according to TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16].\nIn the SIP SUBSCRIBE request, the MCVideo server:\n1)\tshall set the Request-URI to the public service identity of the controlling MCVideo function associated with the handled functional alias;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the MCVideo server determines the public service identity of the controlling MCVideo function associated with the handled functional alias ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo server:\na)\tshall include the <mcvideo-request-uri> element set to the handled functional alias ID; and\nb)\tshall include the <mcvideo-calling-user-id> element set to the served MCVideo ID;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tif the MCVideo server wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 7:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n5)\tif the MCVideo server wants to fetch the current state only, shall set the Expires header field according to IETF RFC 6665 [16], to zero;\n6)\tshall include an Accept header field containing the application/pidf+xml MIME type;\n7)\tshall include an Events header field set to \"presence\"; and\n8)\tshall include an application/simple-filter+xml MIME body indicating per-user restrictions of presence event package notification information according to clause 20.3.2, indicating the served MCVideo ID.\nIn order to re-subscribe or de-subscribe, the MCVideo server shall generate an in-dialog SIP SUBSCRIBE request according to TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16]. In the SIP SUBSCRIBE request, the MCVideo server:\n1)\tif the MCVideo server wants to receive the current status and later notification, shall set the Expires header field according to IETF RFC 6665 [16], to 4294967295;\nNOTE 8:\t4294967295, which is equal to 232-1, is the highest value defined for Expires header field in IETF RFC 3261 [15].\n2)\tif the MCVideo server wants to de-subscribe, shall set the Expires header field according to IETF RFC 6665 [16], to zero;\n3)\tshall include an Events header field set to \"presence\"; and\n4)\tshall include an Accept header field containing the application/pidf+xml MIME type.\nUpon receiving a SIP NOTIFY request according to TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16], if SIP NOTIFY request contains an application/pidf+xml MIME body indicating per-functional alias information constructed according to clause 20.3.1, then the MCVideo server:\n1)\tfor each served MCVideo ID such that the application/pidf+xml MIME body of SIP NOTIFY request contains:\na)\ta <tuple> element of the root <presence> element;\nb)\tthe \"id\" attribute of the <tuple> element indicating the served MCVideo ID;\nc)\tan <functionalAlias> child element of the <status> element of the <tuple> element; and\nd)\tthe \"expires\" attribute of the <functionalAlias> element indicating expiration of activation of functional alias;\nperform the following:\na)\tif a functional alias information entry exists such that:\ni)\tthe functional alias information entry has the \"activating\" functional alias status, the functional alias ID set to the handled functional alias ID, and the expiration time has not expired yet;\nii)\tthe functional alias information entry is in the list of the functional alias information entries of an MCVideo user information entry with the MCVideo ID set to the served MCVideo ID; and\niii)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 20.2.2.2.2;\nshall set the functional alias status of the functional alias information entry to \"activated\"; and\nshall set the next publishing time of the functional alias information entry to the current time and half of the time between the current time and the expiration of the functional alias; and\n2) for each functional alias information entry such that:\na)\tthe functional alias information entry has the \"activated\" functional alias status or the \"deactivating\" functional alias status, the functional alias ID set to the handled functional alias ID, and the expiration time has not expired yet;\nb)\tthe functional alias information entry is in the list of the functional alias information entries of an MCVideo user information entry with the MCVideo ID set to a served MCVideo ID; and\nc)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 20.2.2.2.2; and\nfor which the application/pidf+xml MIME body of SIP NOTIFY request does not contain:\na)\ta <tuple> element of the root <presence> element;\nb)\tthe \"id\" attribute of the <tuple> element indicating the served MCVideo ID; and\nc)\tan <functionalAlias> child element of the <status> child element of the <tuple> element.\nperform the following:\na)\tshall set the functional alias status of the functional alias information entry to \"deactivated\"; and\nb)\tshall set the expiration time of the functional alias information entry to the current time; and\n3)\tif a <p-id-fa> element is included in the <presence> root element of the application/pidf+xml MIME body of the SIP NOTIFY request, then for each functional alias information entry such that:\na)\tthe functional alias information entry has the \"activating\" functional alias status, the functional alias ID set to the handled functional alias ID, the expiration time has not expired yet and with the activating p-id-fa set to the value of the <p-id-fa> element;\nb)\tthe functional alias information entry is in the list of the functional alias information entries of an MCVideo user information entry with the MCVideo ID set to a served MCVideo ID; and\nd)\tthe MCVideo user information entry is in the list of MCVideo user information entries described in clause 20.2.2.2.2; and\nfor which the application/pidf+xml MIME body of SIP NOTIFY request does not contain:\na)\ta <tuple> element of the root <presence> element;\nb)\tthe \"id\" attribute of the <tuple> element indicating the served MCVideo ID; and\nc)\tan <functionalAlias> child element of the <status> child element of the <tuple> element;\nperform the following:\na)\tshall set the functional alias status of the functional alias information entry to \"deactivated\"; and\nb)\tshall set the expiration time of the functional alias information entry to the current time.\nIn order to discover the MCVideo users that have successfully activated a handled functional alias in the MCVideo server owning the functional alias, the MCVideo server shall generate an initial SIP SUBSCRIBE request according to 3GPP TS 24.229 [11], IETF RFC 3856 [13], and IETF RFC 6665 [16].\nIn the SIP SUBSCRIBE request, the MCVideo server:\n1)\tshall set the Request-URI to the public service identity of the controlling MCVideo function associated with the handled functional alias;\n2)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body. In the application/vnd.3gpp.mcvideo-info+xml MIME body, the MCVideo server shall include the <mcvideo-request-uri> element set to the handled functional alias ID;\n3)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tshall set the Expires header field according to IETF RFC 6665 [16] to zero;\n5)\tshall include an Accept header field containing the application/pidf+xml MIME type;\n6)\tshall include an Events header field set to \"presence\"; and\n7)\tshall include an application/simple-filter+xml MIME body indicating per-functional alias restrictions of presence event package notification information indicating the served functional alias.\nThe procedures of MCVideo server owning the functional alias consist of:\n-\treceiving functional alias status change procedure;\n-\treceiving subscription to functional alias status procedure;\n-\tsending notification of change of functional alias status procedure; and\n-\tmodification of functional alias eligibility check procedure.\nThe MCVideo server shall maintain a list of functional alias information entries.\nIn each functional alias information entry, the MCVideo server shall maintain:\n1)\ta functional alias ID. This field uniquely identifies the functional alias information entry in the list of the functional alias information entries; and\n2)\ta list of MCVideo user information entries.\nIn each MCVideo user information entry, the MCVideo server shall maintain:\n1)\tan MCVideo ID. This field uniquely identifies the MCVideo user information entry in the list of the MCVideo user information entries;\n2)\ta take-over possible indication; and\n3)\tan expiration time.\nUpon receiving a SIP PUBLISH request such that:\n1)\tRequest-URI of the SIP PUBLISH request contains the public service identity of the controlling MCVideo function associated with the served functional alias;\n2)\tthe SIP PUBLISH request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the <mcvideo-request-uri> element and the <mcvideo-calling-user-id> element;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tthe Event header field of the SIP PUBLISH request contains the \"presence\" event type; and\n5)\tSIP PUBLISH request contains an application/pidf+xml MIME body indicating per-functional alias information constructed according to clause 20.3.1.2;\nthen the MCVideo server:\n1)\tshall identify the served functional alias in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n2)\tshall identify the handled MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP PUBLISH request;\n3)\tif the Expires header field of the SIP PUBLISH request is not included or has nonzero value lower than 4294967295, shall send a SIP 423 (Interval Too Brief) response to the SIP PUBLISH request, where the SIP 423 (Interval Too Brief) response contains a Min-Expires header field set to 4294967295, and shall not continue with the rest of the steps;\n4)\tif the functional alias does not exist in the MCVideo server, shall reject the SIP PUBLISH request with SIP 403 (Forbidden) response to the SIP PUBLISH request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n4a)\tif SIP PUBLISH request is for activation of a functional alias then:\na)\tif handled MCVideo ID does not match with any of the entries in the <mcvideo-user-list> which contains the MCVideo IDs of MCVideo users which are allowed to activate the functional alias; or\nb)\tif no local policy exists that authorizes the request by the handled MCVideo ID;\nshall reject the SIP PUBLISH request with SIP 403 (Forbidden) response according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n5)\tif SIP PUBLISH request is for activation of a functional alias and the number of activations for the handled functional alias is equal <max-simultaneous-activations>, shall reject the SIP PUBLISH request with SIP 403 (Forbidden) response to the SIP PUBLISH request according to 3GPP TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n6)\tif SIP PUBLISH request is for take over of a functional alias, the MCVideo server shall use the <allow-takeover> and <allow-takeover-functional-alias-other-user> elements to determine if take over is possible. If take over is not possible, the MCVideo server shall reject the SIP PUBLISH request with SIP 403 (Forbidden) response to the SIP PUBLISH request according to TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n7)\tshall respond with SIP 200 (OK) response to the SIP PUBLISH request according to TS 24.229 [11], IETF RFC 3903 [12]. In the SIP 200 (OK) response, the MCVideo server:\na)\tshall set the Expires header field according to IETF RFC 3903 [12], to the selected expiration time;\n8)\tif the \"entity\" attribute of the <presence> element of the application/pidf+xml MIME body of the SIP PUBLISH request is different than the served functional alias ID, shall not continue with the rest of the steps;\n9)\tif the handled MCVideo ID is different from the MCVideo ID in the \"id\" attribute of the <tuple> element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request, shall not continue with the rest of the steps;\n10)\tshall consider a functional alias information entry such that:\na)\tthe functional alias information entry is in the list of functional alias information entries described in clause 20.2.2.3.2; and\nb)\tthe functional alias ID of the functional alias information entry is equal to the served functional alias ID;\nas the served functional alias information entry;\n11)\tif the selected expiration time is zero:\na)\tshall remove the MCVideo user information entry such that:\ni)\tthe MCVideo user information entry is in the list of the MCVideo user information entries of the served functional alias information entry; and\nii)\tthe MCVideo user information entry has the MCVideo ID set to the served MCVideo ID;\n12)\tif the selected expiration time is not zero:\na)\tshall consider an MCVideo user information entry such that:\ni)\tthe MCVideo user information entry is in the list of the MCVideo user information entries of the served functional alias information entry; and\nii)\tthe MCVideo ID of the MCVideo user information entry is equal to the handled MCVideo ID;\nas the served MCVideo user information entry;\nb)\tif the MCVideo user information entry does not exist:\ni)\tshall insert an MCVideo user information entry with the MCVideo ID set to the handled MCVideo ID into the list of the MCVideo user information entries of the served functional alias information entry; and\nii)\tshall consider the inserted MCVideo user information entry as the served MCVideo user information entry; and\nc)\tshall set the expiration time in the served MCVideo user information entry according to the selected expiration time;\n13)\tshall identify the handled p-id-fa in the <p-id-fa> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP PUBLISH request; and\n14)\tshall perform the procedures specified in clause 20.2.2.3.5 for the served functional alias ID.\nNOTE:\tUsage of one SIP SUBSCRIBE request to subscribe for notification about change of functional alias state of several MCVideo users served by the same MCVideo server is not supported in this version of the specification.\nUpon receiving a SIP SUBSCRIBE request such that:\n1)\tRequest-URI of the SIP SUBSCRIBE request contains the public service identity of the controlling MCVideo function associated with the served functional alias;\n2)\tthe SIP SUBSCRIBE request contains an application/vnd.3gpp.mcvideo-info+xml MIME body containing the<mcvideo-request-uri> element and the <mcvideo-calling-user-id> element;\n3)\tthe ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in TS 24.229 [11]), in a P-Asserted-Service header field according to IETF RFC 6050 [14];\n4)\tthe Event header field of the SIP SUBSCRIBE request contains the \"presence\" event type; and\n5)\tthe SIP SUBSCRIBE request contains an application/simple-filter+xml MIME body indicating per-user restrictions of presence event package notification information according to clause 20.3.2 indicating the same MCVideo ID as in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\nthen the MCVideo server:\n1)\tshall identify the served functional alias ID in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n2)\tshall identify the handled MCVideo ID in the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP SUBSCRIBE request;\n3)\tif the Expires header field of the SIP SUBSCRIBE request is not included or has nonzero value lower than 4294967295, shall send a SIP 423 (Interval Too Brief) response to the SIP SUBSCRIBE request, where the SIP 423 (Interval Too Brief) response contains a Min-Expires header field set to 4294967295, and shall not continue with the rest of the steps;\n4)\tif a functional alias does not exist in the MCVideo server, shall reject the SIP PUBLISH request with SIP 403 (Forbidden) response to the SIP PUBLISH request according to TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps;\n5)\tif the handled MCVideo ID based on local policy is not authorized for notifications of the functional alias identified by the served functional alias ID, shall reject the SIP SUBSCRIBE request with SIP 403 (Forbidden) response to the SIP SUBSCRIBE request according to TS 24.229 [11], IETF RFC 3903 [12] and IETF RFC 3856 [13] and skip the rest of the steps; and\n6)\tshall generate a SIP 200 (OK) response to the SIP SUBSCRIBE request according to TS 24.229 [11], IETF RFC 6665 [16].\nFor the duration of the subscription, the MCVideo server shall notify subscriber about changes of the information of the served MCVideo ID, as described in clause 20.2.2.3.5.\nIn order to notify the subscriber identified by the handled MCVideo ID about changes of the functional alias status of the served functional alias ID, the MCVideo server:\n1)\tshall consider a functional alias information entry such that:\na)\tthe functional alias information entry is in the list of functional alias information entries described in clause 20.2.2.3.2; and\nb)\tthe functional alias ID of the functional alias information entry is equal to the served functional alias ID;\n2)\tshall consider an MCVideo user information entry such:\na)\tthe MCVideo user information entry is in the list of the MCVideo user information entries of the served functional alias information entry; and\nb)\tthe MCVideo ID of the MCVideo user information entry is equal to the handled MCVideo ID;\nas the served MCVideo user information entry;\n3)\tshall generate an application/pidf+xml MIME body indicating per-functional alias information according to clause 20.3.1 and the served list of the served MCVideo user information entry of the functional alias information entry with following clarifications:\na)\tthe MCVideo server shall include the \"expires\" attribute in the <functionalAlias> element; and\nb)\tif this procedures is invoked by procedure in clause 20.2.2.3.3 where the handled p-id-fa was identified, the MCVideo server shall set the <p-id-fa> child element of the <presence> root element of the application/pidf+xml MIME body of the SIP NOTIFY request to the handled p-id-fa value; and\n4)\tsend a SIP NOTIFY request according to 3GPP TS 24.229 [11], and IETF RFC 6665 [16] for the subscription created in clause 20.2.2.3.4. In the SIP NOTIFY request, the MCVideo server shall include the generated application/pidf+xml MIME body indicating per-functional alias information.\nIn order to deactivate a functional alias associated with a target MCVideo ID:\n1)\texternally triggered by an MCVideo administrator by a mechanism outside of the scope of the standard; or\n2)\tdirectly by the MCVideo function owning the functional alias as a result of an internal trigger like the expiration of the functional alias association;\nthe MCVideo server\n1)\tshall consider a functional alias information entry such that:\na)\tthe functional alias information entry is in the list of functional alias information entries described in clause 20.2.2.3.2; and\nb)\tthe functional alias ID of the functional alias information entry is equal to the served functional alias ID;\nas the served functional alias information entry;\n2)\tshall remove the MCVideo user information entry such that:\na)\tthe MCVideo user information entry is in the list of the MCVideo user information entries of the served functional alias information entry; and\nb)\tthe MCVideo user information entry has the MCVideo ID set to the target MCVideo ID; and\n3)\tshall perform the procedures specified in clause 20.2.2.3.5 for the served functional alias ID.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "20.3\tCoding",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "20.3.1\tExtension of application/pidf+xml MIME type",
                            "text_content": "The clauses of the parent clause describe an extension of the application/pidf+xml MIME body specified in IETF RFC 3863 [18]. The extension is used to indicate:\n-\tper-user functional alias information; and\n-\tper-functional alias status information.\nThe application/pidf+xml MIME body indicating per-user functional alias information is constructed according to IETF RFC 3863 [18] and:\n1)\tcontains a <presence> root element according to IETF RFC 3863 [18];\n2)\tcontains an \"entity\" attribute of the <presence> element set to the MCVideo ID of the MCVideo user;\n3)\tcontains one <tuple> child element according to IETF RFC 3863 [18] per <presence> element;\n4)\tcan contain a <p-id-fa> child element defined in the XML schema defined in table 20.3.1.2-1, of the <presence> element set to an identifier of a SIP PUBLISH request;\n5)\tcontains an \"id\" attribute of the <tuple> element set to the MCVideo client ID;\n6)\tcontains one <status> child element of each <tuple> element;\n7)\tcontains one <functionalAlias> child element defined in the XML schema defined in table 20.3.1.2-1, of the <status> element, for each functional alias in which the MCVideo user is interested;\n8)\tcontains a \"functionalAliasID\" attribute of each <fucntionalAlias> element set to the functional alias ID of the functional alias in which the MCVideo user is interested;;\n9)\tcan contain a \"status\" attribute of each <functionalAliasID> element indicating the activation status of functional alias for the MCVideo user; and\n10)\tcan contain an \"expires\" attribute of each <functionalAlias> element indicating expiration of activation of the functional alias for the MCVideo user.\nThe application/pidf+xml MIME body indicating per-functional alias status information is constructed according to IETF RFC 3856 [13] and:\n1)\tcontains the <presence> root element according to IETF RFC 3863 [18];\n2)\tcontains an \"entity\" attribute of the <presence> element set to the functional alias ID of the functional alias;\n3)\tcontains one <tuple> child element according to IETF RFC 3863 [18] of the <presence> element;\n4)\tcan contain a <p-id-fa> child element defined in the XML schema defined in table 20.3.1.2-1, of the <presence> element set to an identifier of a SIP PUBLISH request;\n5)\tcontains an \"id\" attribute of the <tuple> element set to the MCVideo ID;\n6)\tcontains one <status> child element of each <tuple> element;\n7)\tcontains one <functionalAlias> child element defined in the XML schema defined in table 20.3.1.2-1, of the <status> element, for each MCVideo ID for which functional alias information is provided;\n8)\tcontains one \"user\" attribute defined in the XML schema defined in table 20.3.1.2-2, of the <functionalAlias> element set to the MCVideo client ID; and\n9)\tcan contain an \"expires\" attribute defined in the XML schema defined in table 20.3.1.2-2, of the <functionalAlias> element indicating expiration of activation of the functional alias for the MCVideo user.\nTable 20.3.1.2-1: XML schema with elements and attributes extending the application/pidf+xml MIME body\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema\ntargetNamespace=\"urn:3gpp:ns:mcvideoPresInfoFA:1.0\"\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\nxmlns:mcvideoPIFA10=\"urn:3gpp:ns:mcvideoPresInfoFA:1.0\"\nelementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\n\n<!-- MCVideo functional alias specific child elements of tuple element -->\n<xs:element name=\"functionalAlias\" type=\"mcvideoPIFA10:functionalAliasType\"/>\n<xs:complexType name=\"functionalAliasType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n<xs:attribute name=\"functionalAliasID\" type=\"xs:anyURI\" use=\"optional\"/>\n<xs:attribute name=\"user\" type=\"xs:anyURI\" use=\"optional\"/>\n<xs:attribute name=\"status\" type=\"mcvideoPIFA10:statusType\" use=\"optional\"/>\n<xs:attribute name=\"expires\" type=\"xs:dateTime\" use=\"optional\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:simpleType name=\"statusType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"activating\"/>\n<xs:enumeration value=\"activated\"/>\n<xs:enumeration value=\"deactivating\"/>\n<xs:enumeration value=\"take-over-possible\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:element name=\"p-id-fa\" type=\"xs:string\"/>\n\n<xs:element name=\"take-over\" type=\"xs:boolean\"/>\n\n</xs:schema>\nThe application/pidf+xml MIME body refers to namespaces using prefixes specified in table 20.3.1.2-2.\nTable 20.3.1.2-2: Assignment of prefixes to namespace names in the application/pidf+xml MIME body\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 20.3.1.2-2: Assignment of prefixes to namespace names in the application/pidf+xml MIME body",
                                    "table number": 61,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "20.3.2\tExtension of application/simple-filter+xml MIME type",
                            "text_content": "The clauses of the parent clause describe an extension of the application/simple-filter+xml MIME body specified in IETF RFC 4661 [19].\nThe extension is used to indicate per-user restrictions of presence event package notification information for functional alias information.\nThe application/simple-filter+xml MIME body indicating per-user restrictions of presence event package notification information is constructed according to IETF RFC 4661 [19] and:\n1)\tcontains a <filter-set> root element according to IETF RFC 4661 [19];\n2)\tcontains an <ns-bindings> child element according to IETF RFC 4661 [19], of the <filter-set> element;\n3)\tcontains an <ns-binding> child element according to IETF RFC 4661 [19], of the <ns-bindings> element where the <ns-binding> element:\nA)\tcontains a \"prefix\" attribute according to IETF RFC 4661 [19] set to \"pidf\"; and\nB)\tcontains a \"urn\" attribute set to the \"urn:ietf:params:xml:ns:pidf\" value;\n4)\tcontains a <ns-binding> child element according to IETF RFC 4661 [19], of the <ns-bindings> element where the <ns-binding> element:\nA)\tcontains a \"prefix\" attribute according to IETF RFC 4661 [19], set to \"mcvideoPIFA10\"; and\nB)\tcontains an \"urn\" attribute according to IETF RFC 4661 [19], set to the \"urn:3gpp:ns:mcvideoPresInfoFA:1.0\" value;\n5)\tcontains a <filter> child element according to IETF RFC 4661 [19], of the <filter-set> element where the <filter> element;\nA)\tcontains an \"id\" attribute set to a value constructed according to IETF RFC 4661 [19];\nB)\tdoes not contain a \"uri\" attribute of the <filter> child element according to IETF RFC 4661 [19]; and\nC)\tdoes not contain a \"domain\" attribute according to IETF RFC 4661 [19];\n6)\tcontains a <what> child element according to IETF RFC 4661 [19], of the <filter> element; and\n7)\tcontains an <include> child element according to IETF RFC 4661 [19], of the <what> element where the <include> element;\nA)\tdoes not contain a \"type\" attribute according to IETF RFC 4661 [19]; and\nB)\tcontains the value, according to IETF RFC 4661 [19], set to concatenation of the '//pidf:presence/pidf:tuple[@id=\"' string, the MCVideo ID, and the '\"]' string.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "20.4\tFunctional alias to group binding for the MCVideo user procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "20.4.1\tGeneral",
                            "text_content": "This clause describes the functional alias to group binding for the MCVideo user procedures for on-network.\nFor on-network functional alias to group binding for the MCVideo user, the procedures for originating MCVideo clients, participating MCVideo functions and controlling MCVideo function are specified in clause 20.4.2.\nAn MCVideo user can bind the same functional alias with multiple MCVideo groups but an MCVideo user cannot bind multiple functional aliases to the same MCVideo group.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "20.4.2\tOn-network functional alias to group binding",
                            "text_content": "On request from an MCVideo user at MCVideo client, a request to create binding of a functional alias with group for the MCVideo user is initiated by the MCVideo client towards the participating MCVideo function.\nUpon receiving a request from an MCVideo user to bind a functional alias with an MCVideo group or a list of MCVideo groups for the MCVideo user, if the <allow-functional-alias-binding-with-group> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\", the MCVideo client shall inform the MCVideo user and shall exit this procedure.\nUpon receiving a request from an MCVideo user to bind a functional alias with an MCVideo group or a list of MCVideo groups for the MCVideo user, if the requested functional alias is not activated by MCVideo user at MCVideo client, the MCVideo client shall inform the MCVideo user and shall exit this procedure.\nUpon receiving a request from an MCVideo user to bind a functional alias with an MCVideo group or a list of MCVideo groups for the MCVideo user, the MCVideo client shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] with the clarifications given below.\nThe MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the participating MCVideo function serving the MCVideo user;\n2)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n3)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n4)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according IETF RFC 3841 [20];\n5)\tmay include a P-Preferred-Identity header field in the SIP MESSAGE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n6)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na) the <request-type> element set to a value of \"fa-group-binding-req\";\nb) the <binding-ind> element set to a value of \"true\";\nc) the <binding-fa-uri> element set to the URI of an activated functional alias that shall be bound with the specified list of MCVideo groups in an application/resource-lists+xml MIME body;\nd) the <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\ne) if the MCVideo client needs to include an active functional alias in the SIP MESSAGE request, the <anyExt> element with the <functional-alias-URI> element set to the URI of the used functional alias;\n7)\tshall include an application/resource-lists+xml MIME body with one or more <entry> elements in one or more <list> elements in the <resource-lists> element where the <entry> elements each contain a \"uri\" attribute set to an MCVideo group ID; and\n8)\tshall send the SIP MESSAGE request according to the rules and procedures of 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP MESSAGE request, the MCVideo client shall inform the MCVideo user of success in binding of a functional alias with the MCVideo group or list of MCVideo groups for the MCVideo user.\nOn receiving a SIP 4xx response a SIP 5xx response or a SIP 6xx response to the SIP MESSAGE request, the MCVideo client shall inform the MCVideo user of unsuccess in binding of a functional alias with the MCVideo group or list of MCVideo groups for the MCVideo user, possibly taking into account Warning header information for the failure reason.\nUpon receiving a request from an MCVideo user to unbind a functional alias with an MCVideo group or a list of MCVideo groups for the MCVideo user, if the <allow-functional-alias-binding-with-group> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\", the MCVideo client shall inform the MCVideo user and shall exit this procedure.\nUpon receiving a request from an MCVideo user to unbind a functional alias with an MCVideo group or a list of MCVideo groups for the MCVideo user, the MCVideo client shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] with the clarifications given below.\nThe MCVideo client:\n1)\tshall set the Request-URI to the public service identity identifying the participating MCVideo function serving the MCVideo user;\n2)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14];\n3)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n4)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according IETF RFC 3841 [20];\n5)\tmay include a P-Preferred-Identity header field in the SIP MESSAGE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n6)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na) the <request-type> element set to a value of \"fa-group-binding-req\";\nb) the <binding-ind> element set to a value of \"false\";\nc) the <unbinding-fa-uri> element set to the URI of a functional alias that shall be unbound from the specified list of MCVideo groups in an application/resource-lists+xml MIME body;\nd) the <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\ne) if the MCVideo client needs to include an active functional alias in the SIP MESSAGE request, the <anyExt> element with the <functional-alias-URI> element set to the URI of the used functional alias;\n7)\tshall include an application/resource-lists+xml MIME body with one or more <entry> elements in one or more <list> elements in the <resource-lists> element where the <entry> elements each contain a \"uri\" attribute set to an MCVideo group ID; and\n8)\tshall send the SIP MESSAGE request according to the rules and procedures of 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP MESSAGE request, the MCVideo client shall inform the MCVideo user of success in unbinding the functional alias with the MCVideo group or list of MCVideo groups for the MCVideo user.\nOn receiving a SIP 4xx response a SIP 5xx response or a SIP 6xx response to the SIP MESSAGE request, the MCVideo client shall inform the MCVideo user of unsuccess in unbinding of a functional alias with the MCVideo group or list of MCVideo groups for the MCVideo user, possibly taking into account Warning header information for the failure reason.\nThe participating MCVideo function has procedures to:\n-\treceive a request for binding/unbinding of a functional alias with the MCVideo group(s) for the MCVideo user from the MCVideo Client.\nUpon receipt of a \"SIP MESSAGE request for binding of a functional alias with the MCVideo group(s) for the MCVideo user for originating participating MCVideo function\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\n2)\tshall determine the MCVideo ID of the calling user from the public user identity in the P-Asserted-Identity header field of the SIP MESSAGE request;\nNOTE 1:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif the participating MCVideo function cannot find a binding between the public user identity and an MCVideo ID or if the validity period of an existing binding has expired, then the participating MCVideo function shall reject the SIP MESSAGE request with a SIP 404 (Not Found) response with the warning text set to \"141 user unknown to the participating function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n4)\tif the <request-type> element in the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP MESSAGE request is set to a value of \"fa-group-binding-req\" and:\na)\tthe <allow-functional-alias-binding-with-group> element of the <ruleset> element is not present in the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) or is set to a value of \"false\", shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response including warning text set to \"176 user not authorized to request for binding/unbinding of a functional alias with the MCVideo group(s) for the MCVideo user\" in a Warning header field, and shall not continue with the rest of the steps in this clause;\nb)\tthe SIP MESSAGE request does not contain an application/resource-lists+xml MIME body or the <binding-ind> element and the <binding-fa-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response including warning text set to \"177 unable to determine target functional alias or group for creating/removing a binding information for the MCVideo user\" in a Warning header field, and shall not continue with the rest of the steps in this clause; and\nc)\tthe SIP MESSAGE request does not contain an application/resource-lists+xml MIME body or the <binding-ind> element and the <unbinding-fa-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response including warning text set to \"177 unable to determine target functional alias or group for creating/removing a binding information for the MCVideo user\" in a Warning header field, and shall not continue with the rest of the steps in this clause;\n5)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n6)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the controlling MCVideo function for the binding of a functional alias with the MCVideo group(s) for the MCVideo user service associated with the originating user's MCVideo ID identity;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the handled functional alias ID or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n7)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body in the received SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body as specified in clause F.1 included in the outgoing SIP MESSAGE request;\n8)\tif the received SIP MESSAGE request contains a <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, shall check the status of the functional alias for the MCVideo ID. If the functional alias status is activated, then the participating MCVideo function shall set the <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request to the received value, otherwise it shall not include a <functional-alias-URI> element;\n9)\tshall set the <mcvideo-calling-user-id> element of the <mcvideoinfo> element containing the <mcvideo-Params> element to the MCVideo ID determined in step 2) above;\n10)\tshall copy the contents of the application/resource-lists+xml MIME body in the received SIP MESSAGE request into an application/resource-lists+xml MIME body in the outgoing SIP MESSAGE request;\n11)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function;\n12)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n13)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n14)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), into the P-Asserted-Service header field of the outgoing SIP MESSAGE request; and\n15)\tshall send the SIP MESSAGE request as specified to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response in response to the SIP MESSAGE request sent in step 15), the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as specified in 3GPP TS 24.229 [11] with the following clarifications:\na)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function; and\n2)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the SIP MESSAGE request, the participating MCVideo function shall forward the error response to the MCVideo client.\nThe participating MCVideo function has procedures to:\n-\treceive a request for binding/unbinding of a functional alias with the MCVideo group(s) for the MCVideo user from the MCVideo Client.\nUpon receiving a:\n-\t\"SIP MESSAGE request for binding of a functional alias with the MCVideo group(s) for the MCVideo user for controlling MCVideo function\";\nthe controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\n2)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if an Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n3)\tthe SIP MESSAGE request does not contain an application/resource-lists+xml MIME body or the <binding-ind> element and the <binding-fa-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response including warning text set to \"177 unable to determine target functional alias or group for creating/removing a binding information for the MCVideo user \" in a Warning header field, and shall not continue with the rest of the steps in this clause;\n4)\tthe SIP MESSAGE request does not contain an application/resource-lists+xml MIME body or the <binding-ind> element and the <unbinding-fa-uri> element in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response including warning text set to \"177 unable to determine target functional alias or group for creating/removing a binding information for the MCVideo user \" in a Warning header field, and shall not continue with the rest of the steps in this clause;\n5)\tif any of the <entry> elements of a <list> element of the <resource-lists> element in the application/resource-lists+xml MIME body of the incoming SIP MESSAGE request contains a \"uri\" attribute set to an MCVideo group ID where the indicated MCVideo group has an existing binding with any other functional alias from same MCVideo user, shall reject the SIP MESSAGE request with a SIP 403 (Forbidden) response including warning text set to \"178 MCVideo group binding already exists with other functional alias\" in a Warning header field as specified in clause 4.4, and shall skip the rest of the steps;\n6)\tif the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP MESSAGE request contains the <request-type> element set to a value of \"fa-group-binding-req\" and:\na) if the <binding-ind> element set to a value of \"true\", shall update or store the record for the MCVideo client, and create a binding information for the functional alias specified in the <binding-fa-uri> element with the list of the MCVideo group(s) included in an application/resource-lists+xml MIME body; or\nb) if the <binding-ind> element set to a value of \"false\", shall update or store the record for the MCVideo client, and remove a binding information of the functional alias specified in the <unbinding-fa-uri> element from the list of the MCVideo group(s) included in an application/resource-lists+xml MIME body;\n7)\tshall generate a SIP 200 (OK) response as specified in 3GPP TS 24.229 [11] with the following clarifications:\na)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the controlling MCVideo function; and\n8)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "21\tRegroup using a preconfigured group",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "21.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "In the procedures in this clause:\n1)\ttemporary group identity in an incoming SIP MESSAGE request refers to the temporary group identity from the <mcvideo-regroup-uri> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body of the incoming SIP MESSAGE request; and\n2)\tpreconfigured group identity in an incoming SIP MESSAGE request refers to the the group identity from the <preconfigured-group> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body of the incoming SIP MESSAGE request.\nRegroup using a preconfigured group refers to the creation of a user/group regroup based on the configuration information associated with an existing group that is referred to as the preconfigured group. A regroup takes its entire configuration from the preconfigured group, including security keys. If the preconfigured group document contains a <listserv> element that contains a <preconfigured-group-use-only> element, that <preconfigured-group-use-only> element is not included in the configuration of the regroup.\nAll MCVideo servers and all MCVideo clients are configured with the preconfigured group to allow immediate use of the regroup for a call upon creation of the regroup.\nA regroup using a preconfigured group is initiated by the MCVideo client referencing a preconfigured group document in the GMS. The advantage of regroup using a preconfigured group is speed of setup of the group, especially when large numbers of users (e.g., thousands) are involved. Control of the regroup using a preconfigured group is focused in the controlling MCVideo function. Creation and removal of a regoup is normally initiated by an MCVideo client. Removal can also be initiated by the controlling MCVideo function.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "21.2\tGroup regroup using a preconfigured group",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "21.2.1\tClient procedures",
                            "text_content": "Upon receiving a request from an MCVideo user to establish an MCVideo group regroup using a preconfigured group, the MCVideo client shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] and:\n1)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n2)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n3)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n4)\tmay include a P-Preferred-Identity header field in the SIP MESSAGE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n5)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14];\n6)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client;\nb)\tif the MCVideo client is aware of active functional aliases, and an active functional alias is to be included in the SIP MESSAGE request, the <anyExt> element with the <functional-alias-URI> element set to the URI of the used functional alias; and\nc)\tif the MCVideo user has requested an application priority, the <anyExt> element with the <user-requested-priority> element set to the user provided value;\n7)\tshall contain an application/vnd.3gpp.mcvideo-regroup+xml MIME body with:\na)\tthe <regroup-action> element set to the value \"create\";\nb)\tthe <mcvideo-regroup-uri> element set to a unique temporary group identity URI;\nNOTE:\tHow the unique temporary group identity URI is formed is an implementation decision.\nc)\tthe <preconfigured-group> element set to the group identity of the preconfigured group; and\nd)\tthe <groups-for-regroup> element set to the list of MCVideo group identities of groups that are to be included in the regroup; and\n8)\tshall send the SIP MESSAGE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP MESSAGE request, the MCVideo client:\n1)\tshould notify the MCVideo user of the successful creation of the group regroup using preconfigured group.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the SIP INVITE request:\n1)\tshould notify the MCVideo user of the failure to create the group regroup using preconfigured group.\nUpon receiving a request from an MCVideo user to remove a user or group regroup using a preconfigured group, the MCVideo client:\n1)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]:\n2)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n3)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n4)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n5)\tmay include a P-Preferred-Identity header field in the SIP INVITE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n6)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14];\n7)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\nb)\tif the MCVideo client is aware of active functional aliases, and an active functional alias is to be included in the SIP MESSAGE request, the <anyExt> element with the <functional-alias-URI> element set to the URI of the used functional alias; and\n8)\tshall contain an application/vnd.3gpp.mcvideo-regroup+xml MIME body with:\na)\tthe <mcvideo-regroup-uri> element set to the unique temporary group identity URI representing the regroup to be removed; and\nb)\tthe <regroup-action> element set to \"remove\"; and\n9)\tshall send the SIP MESSAGE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP MESSAGE request, the MCVideo client:\n1)\tshould notify the MCVideo user of the successful removal of the regroup using preconfigured group.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the SIP INVITE request:\n1)\tshould notify the MCVideo user of the failure to remove the regroup using preconfigured group.\nUpon receiving a \"SIP MESSAGE request to the MCVideo client to request creation of a regroup using preconfigured group\", the MCVideo client:\n1)\tshould notify the MCVideo user of the creation of the regroup using preconfigured group;\n2)\tshall send a 200 (OK) response to the MCVideo server according to 3GPP TS 24.229 [11];\n3)\tin the application/vnd.3gpp.mcvideo-regroup+xml MIME body contained in the incoming SIP MESSAGE request:\na)\tshall store the value of the <mcvideo-regroup-uri> element as the temporary group identity and associate that with the group identity received in the <mcvideo-regroup-uri> element;\nb)\tif a <users-for-regroup> element is included in that MIME body, should store the contents of the <users-for-regroup> element as the list of the users that are part of that regroup and shall consider the regroup as a user regroup; and\nNOTE 1:\tThe MCVideo client can choose to display the list of users in the user regroup to the MCVideo user.\nc)\tif a <groups-for-regroup> element is included in that MIME body, should store the contents of the <groups-for-regroup> element as the list of groups that are part of that group regroup and shall consider the regroup as a group regroup;\nNOTE 2:\tThe MCVideo client can choose to display the list of groups in the group regroup to the MCVideo user.\n4)\tshall consider that the MCVideo Client is affiliated with the regroup;\n5)\tshould not initiate calls targeting any of the constituent groups but instead target the regroup for the duration of a group regroup; and\n6)\tif the regroup is a chat group, the MCVideo client should join the regroup when this notification of creation is received.\nUpon receiving a \"SIP MESSAGE request to the MCVideo client to request removal of a regroup using preconfigured group\", the MCVideo client:\n1)\tshould notify the MCVideo user of the removal of the regroup using preconfigured group;\n2)\tshall send a 200 (OK) response to the MCVideo server according to 3GPP TS 24.229 [11]; and\n3)\tshall consider that the MCVideo client is de-affiliated from the regroup.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "21.2.2\tParticipating MCVideo function procedures",
                            "text_content": "In the procedures in this clause:\n1)\ttemporary group identity in an incoming SIP MESSAGE request refers to the temporary group identity from the <mcvideo-regroup-uri> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body of the incoming SIP MESSAGE request; and\n2)\tpreconfigured group identity in an incoming SIP MESSAGE request refers to the the group identity from the <preconfigured-group> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body of the incoming SIP MESSAGE request.\nUpon receipt of a “SIP MESSAGE request to the originating participating MCVideo function to request creation of a group regroup using preconfigured group”, the originating participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The originating participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The originating participating MCVideo function shall skip the rest of the steps;\n2)\tshall determine the MCVideo ID of the user from the public user identity in the P-Asserted-Identity header field of the SIP MESSAGE request;\n3)\tshall authorise the user. If the user profile identified by the MCVideo ID does not contain an <allow-regroup> element set to “true”, the originating participating MCVideo function shall reject the “SIP MESSAGE request to the originating participating MCVideo function to request creation of a group regroup using preconfigured group” with a SIP 403 (Forbidden) response to the SIP MESSAGE request, with warning text set to “160 user not authorised to request creation of a group regroup” in a Warning header field as specified in clause 4.9, and shall not continue with the rest of these steps;\n4)\tshall select a controlling MCVideo function to manage the regroup and determine the public service identity of that controlling MCVideo function;\nNOTE 1:\tHow the originating participating MCVideo function selects a controlling MCVideo function to manage the regroup is a deployment decision.\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the originating participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n5)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] and:\na)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nb)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the controlling MCVideo function selected in step 4);\nc)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request; and\ne)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function; and\n6)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nUpon receipt of a SIP 480 (Temporarily Unavailable) response to the above SIP MESSAGE request, the originating participating MCVideo function:\n1)\tshall select a different controlling MCVideo function to manage the regroup and determine the public service identity of that controlling MCVideo function;\nNOTE 7:\tHow the originating participating MCVideo function whether it decides to retry is a deployment decision.\n2)\tshall generate a SIP MESSAGE request as specified in this clause with the Request-URI of the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function selected in step 1); and\n3)\tshall forward the SIP MESSAGE request according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response to the above SIP MESSAGE request, the originating participating MCVideo function shall send a SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of any SIP 4xx response other than a 480 response, or a SIP 5xx or 6xx response to the above SIP MESSAGE request, the originating participating MCVideo function:\n1)\tshall generate a SIP response according to 3GPP TS 24.229 [11];\n2)\tshall include Warning header field(s) that were received in the incoming SIP response; and\n3)\tshall forward the SIP response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP MESSAGE request to the originating participating MCVideo function to remove a regroup using preconfigured group\" for a temporary group identity, the originating participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The originating participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The originating participating MCVideo function shall skip the rest of the steps;\n2)\tshall determine the MCVideo ID of the user from the public user identity in the P-Asserted-Identity header field of the SIP MESSAGE request;\n3)\tshall authorise the user. If the user profile identified by the MCVideo ID does not contain an <allow-regroup> element set to \"true\", the originating participating MCVideo function shall reject the \"SIP MESSAGE request to remove a regroup using preconfigured group\" with a SIP 403 (Forbidden) response to the SIP MESSAGE request, with warning text set to \"161 user not authorised to request removal of a regroup \" in a Warning header field as specified in clause 4.9, and shall skip the rest of these steps;\n4)\tshall determine the public service identity of the controlling MCVideo function associated with the regroup identity in the SIP MESSAGE request;\nNOTE 1:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the originating participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n5)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] and:\na)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nb)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the controlling MCVideo function determined in step 4;\nc)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request; and\ne)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function; and\n6)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response to the above SIP MESSAGE request, the originating participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.2.1.4.2;\n2)\tshall include Warning header field(s) that were received in the incoming SIP 200 (OK) response;\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function; and\n4)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the above SIP MESSAGE request, the originating participating MCVideo function:\n1)\tshall generate a SIP response according to 3GPP TS 24.229 [11];\n2)\tshall include Warning header field(s) that were received in the incoming SIP response; and\n3)\tshall forward the SIP response to the MCVideo client according to 3GPP TS 24.229 [11].\nWhen receiving a \"SIP MESSAGE request to the terminating participating MCVideo function to create a group regroup using preconfigured group\", the terminating participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The terminating participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The terminating participating MCVideo function shall skip the rest of the steps;\n2)\tshall send a SIP 200 (OK) response as specified in 3GPP TS 24.229 [11];\n3)\tfor each MCVideo ID contained in the <users-for-regroup> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body, the terminating participating MCVideo function:\na)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]:\nb)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nc)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public user identity associated with the MCVideo ID;\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\ne)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request with the exception that any <users-for-regroup> elements shall not be copied;\nf)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function;\ng)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\nh)\tshall consider the MCVideo ID as affiliated with the temporary group identity representing the regroup identified in the <mcvideo-regroup-uri> element in the incoming SIP MESSAGE request; and\n4)\tshall store:\na)\tthe value of the <mcvideo-regroup-uri> element as the identity of the regroup based on a preconfigured group;\nb)\tthe value of the <preconfigured-group> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body as the identity of the preconfigured group; and\nc)\tthe set of MCVideo IDs contained in the <users-for-regroup> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body as the list of the users that are members of the group regroup;\nuntil the regroup is removed.\nWhen receiving a \"SIP MESSAGE request to the terminating participating MCVideo function to remove a regroup using preconfigured group\", the terminating participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The terminating participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The terminating participating MCVideo function shall skip the rest of the steps;\n2)\tshall generate a SIP 200 (OK) response in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] and shall send the SIP 200 (OK) response as specified in 3GPP TS 24.229 [11];\n3)\tfor each served MCVideo ID affiliated with the temporary group identity in the incoming SIP MESSAGE, the terminating participating MCVideo function:\na)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]:\nb)\tinclude in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nc)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public user identity associated with the MCVideo ID;\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\ne)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request, with the exceptions that any <users-for-regroup> or <groups-for-regroup> elements shall not be copied;\nf)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function;\ng)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\nh)\tshall consider the MCVideo ID as deaffiliated from the regroup.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "21.2.3\tControlling MCVideo function procedures",
                            "text_content": "When receiving a \"SIP MESSAGE request to the controlling MCVideo function to request creation of a group regroup using preconfigured group\" the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response,may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15], and shall skip the rest of the steps;\n2)\tif the controlling MCVideo function is not able to handle the regroup based on the MCVideo group indicated in the <preconfigured-group> element in an application/vnd.3gpp.mcvideo-regroup+xml MIME body:\na)\tshall generate a SIP 480 (Temporarily Unavailable) response to the incoming SIP MESSAGE request; and\nb)\tshall send the SIP 480 (Temporarily Unavailable) response as specified in 3GPP TS 24.229 [11] and skip the rest of the steps;\n3)\tif the controlling MCVideo function determines that the proposed group ID for the regroup is already in use, shall reject the \"SIP MESSAGE request to the controlling MCVideo function to request creation of a group regroup using preconfigured group\" with a SIP 403 (Forbidden) response to the SIP MESSAGE request, with warning text set to \"165 group ID for regroup already in use\" in a Warning header field as specified in clause 4.9, and shall skip the rest of the steps;\n4)\tfor each group identified in the <groups-for-regroup> element:\na)\tshall determine the controlling MCVideo function serving that group;\nNOTE 1:\tThe controlling MCVideo function serving a consitituent group assumes the role of a non-controlling MCVideo function for the regroup.\nb)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nc)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nd)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the non-controlling MCVideo function;\nNOTE 2:\tThe public service identity can identify the non-controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the controlling MCVideo function determines the public service identity of the non-controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\ne)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\nf)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request;\ng)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function; and\nh)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\n5)\tshall wait to receive SIP responses from all of the non-controlling MCVideo functions that were sent a SIP MESSAGE request above;\n6)\tif all of the SIP responses received above are SIP 200 (OK) responses:\na)\tshall send a SIP 200 (OK) response in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nb)\tshall store the list of group identities contained in the <groups-for-regroup> element;\nc)\tshall store the value of the <mcvideo-regroup-uri> element as the identity of the group regroup based on a preconfigured group; and\nd)\tshall store the value of the preconfigured-group> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body as the identity of the preconfigured group; and\n7)\tif at least one of the SIP responses received above is not a SIP 2xx response:\na)\tshall send a SIP 480 (Temporarily Unavailable) response in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nb)\tfor each non-controlling MCVideo function that returned a SIP 200 (OK) response in step 4:\ni)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nii)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the non-controlling MCVideo function;\niii)\tshall include an application/vnd.3gpp.mcvideo-regroup+xml MIME body in the outgoing SIP MESSAGE request with;\nA)\tan <mcvideo-regroup-uri> element set to the identity of the regroup; and\nB)\ta <regroup-action> element set to \"remove\"; and\niv)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nWhen receiving a \"SIP MESSAGE request to the controlling MCVideo function to remove a regroup using preconfigured group\" the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The controlling MCVideo function shall skip the rest of the steps;\n2)\tif the controlling MCVideo function determines that the requested group ID for the regroup removal does not exist, shall reject the \"SIP MESSAGE request to the controlling MCVideo function to remove a regroup using preconfigured group\" with a SIP 403 (Forbidden) response to the SIP MESSAGE request, with warning text set to \"163 the group identity indicated in the request does not exist\" in a Warning header field as specified in clause 4.9, and shall skip the rest of the steps;\n3)\tshall send a SIP 200 (OK) response in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n4)\tif the regroup is a group regroup based on preconfigured group, then:\na)\tfor each constituent group belonging to the regroup:\ni)\tshall determine the non-controlling MCVideo function serving that group;\nii)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\niii)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\niv)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the non-controlling MCVideo function;\nNOTE 1:\tThe public service identity can identify the non-controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the non-controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nv)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\nvi)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request;\nvii)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function; and\nviii)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\n5)\tif the regroup is a user regroup based on preconfigured group, then for each user belonging to the regroup, the controlling MCVideo function shall create a separate list of MCVideo IDs for users belonging to and affiliated with the regroup who are served by the same terminating participating MCVideo function and for each terminating participating MCVideo function;\na)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nb)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nc)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the terminating participating MCVideo function;\nNOTE 6:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 7:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 8:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 9:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 10:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\ne)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request;\nf)\tshall use the list of affiliated MCVideo IDs for this terminating participating MCVideo function to create and include a <users-for-regroup> element contained in the application/vnd.3gpp.mcvideo-regroup+xml MIME body;\ng)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function; and\nh)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nWhen the controlling MCVideo function decides to remove a regroup using preconfigured group, the controlling MCVideo function:\n1)\tif the regroup is a group regroup based on preconfigured group, then:\na)\tfor each constituent group belonging to the regroup:\ni)\tshall determine the non-controlling MCVideo function serving that group;\nii)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\niii)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the non-controlling MCVideo function determined in step i);\nNOTE 1:\tThe public service identity can identify the non-controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the non-controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the non-controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\niv)\tshall create an application/vnd.3gpp.mcvideo-regroup+xml MIME body and include it in the outgoing SIP MESSAGE request with:\nA)\tan <mcvideo-regroup-uri> element set to the identity of the regroup;\nB)\ta <regroup-action> element set to \"remove\"; and\nv)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11]; and\n2)\tif the regroup is a user regroup based on preconfigured group, then the controlling MCVideo function shall create a list of terminating participating MCVideo functions serving users belonging to and affiliated with the regroup and shall create a list of MCVideo IDs that are affiliated to the regroup and served by the same terminating partificpating MCVideo function for each of the members of the list of terminating participating MCVideo functions, and for each terminating participating MCVideo function in the list:\na)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nb)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the terminating participating MCVideo function;\nNOTE 6:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 7:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 8:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 9:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 10:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nc)\tshall create an application/vnd.3gpp.mcvideo-regroup+xml MIME body and include it in the outgoing SIP MESSAGE request with:\ni)\tan <mcvideo-regroup-uri> element set to the identity of the regroup;\nii)\ta <regroup-action> element set to \"remove\"; and\niii)\ta <users-for-regroup> element set to the list of MCVideo IDs served by this terminating participating MCVideo function that are affiliated to the regroup; and\nd)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "21.2.4\tNon-controlling MCVideo function procedures",
                            "text_content": "When receiving a \"SIP MESSAGE request to a non-controlling MCVideo function to request creation of a group regroup using preconfigured group\" the non-controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response, may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15], and shall skip the rest of the steps;\n2)\tor each group identified in the <groups-for-regroup> element of an application/vnd.3gpp.mcvideo-regroup+xml MIME body in the incoming SIP MESSAGE request for which the MCVideo function is the non-controlling MCVideo function:\na)\tshall determine if the group is already regrouped, and if the group is already regrouped:\ni)\tshall reject the SIP request with a SIP 403 (Forbidden) response including warning text set to \"148 group is regrouped\" in a Warning header field as specified in clause 4.9; and\nii)\tshall not process the remaining steps;\n3)\tshall store:\na)\tthe list of group identities contained in the <groups-for-regroup> element;\nb)\tthe value of the <mcvideo-regroup-uri> element as the identity of the group regroup;\nc)\tthe value of the <preconfigured-group> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body as the identity of the preconfigured group; and\nd)\tinformation that each of the groups identified in the <groups-for-regroup> element has been regrouped using a preconfigured group;\n4)\tshall send a SIP 200 (OK) response in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]:\n5)\tfor each group identified in the <groups-for-regroup> element of an application/vnd.3gpp.mcvideo-regroup+xml MIME body in the incoming SIP MESSAGE request for which the MCVideo function is the non-controlling MCVideo function shall create a separate list of MCVideo IDs for users belonging to and affiliated with the identified group who are served by the same terminating participating MCVideo function;\n6)\tshall merge the lists of MCVideo IDs associated with each terminating participating MCVideo function such that the resulting list associated with a terminating participating MCVideo function contains the MCVideo IDs of all users served by the participating MCVideo function that belong to and are affiliated with any of the groups identified in the <groups-for-regroup> element; and\n7)\tfor each terminating participating MCVideo function identified above:\na)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nb)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nc)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the terminating participating MCVideo function;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the non-controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\ne)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request;\nf)\tshall use the list of MCVideo IDs for this terminating participating MCVideo function as generated in step 6) to create and include the <users-for-regroup> element in the application/vnd.3gpp.mcvideo-regroup+xml MIME body;\ng)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the non-controlling MCVideo function; and\nh)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nWhen receiving a \"SIP MESSAGE request to the non-controlling MCVideo function to remove a group regroup using preconfigured group\" the non-controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The non-controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The non-controlling MCVideo function shall skip the rest of the steps;\n2)\tshall send a SIP 200 (OK) response in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]:\n3)\tshall identify the constituent groups belonging to the regroup identified in the <mcvideo-regroup-uri> in the application/vnd.3gpp.mcvideo-regroup+xml MIME body contained in the incoming SIP MESSAGE for which this MCVideo function is the non-controlling MCVideo function  and shall create a list of terminating participating MCVideo functions serving MCVideo IDs belonging to the identified constituent groups and for each member of the list of terminating participating MCVideo functions in the list shall create a list of MCVideo IDs affiuliated to the regroup and served by that terminating participating MCVideo function;\n4)\tfor each terminating participating MCVideo function identified in step 3):\na)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nb)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nc)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the terminating participating MCVideo function;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the non-controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\ne)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request;\ni) shall create and include a <users-for-regroup> element containing the list of MCVideo IDs affiliated to the regroup that are served by this terminating participating MCVideo function as determined in step 3); and\nf)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the non-controlling MCVideo function; and\ng)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nWhen a non-controlling MCVideo function becomes aware of an MCVideo client affiliating with a group that it controls, where that group is a constituent group of a group regroup using preconfigured group, the non-controlling MCVideo function:\n1)\tshall create a list of MCVideo IDs for users belonging to and affiliated with the identified constituent group who are served by the same terminating participating MCVideo function as the MCVideo client affiliating with the constituent group;\n2)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n3)\tshall create in the SIP MESSAGE request copies of all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the SIP MESSAGE request received from the controlling MCVideo function for the group regroup to notify creation of the group regroup using preconfigured group;\n4)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the terminating participating MCVideo function;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the non-controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n5)\tshall create an application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP MESSAGE request using the information from the application/vnd.3gpp.mcvideo-info+xml MIME body originally included in the SIP MESSAGE request received from the controlling MCVideo function for the group regroup to notify creation of the group regroup using preconfigured group;\n6)\tshall create an application/vnd.3gpp.mcvideo-regroup+xml MIME body in the outgoing SIP MESSAGE request using the information from the application/vnd.3gpp.mcvideo-regroup+xml MIME body originally included in the SIP MESSAGE request received from the controlling MCVideo function for the group regroup to notify creation of the group regroup using preconfigured group;\n7)\tshall use the list of MCVideo IDs as generated in step 1) to create and include the <users-for-regroup> element in the application/vnd.3gpp.mcvideo-regroup+xml MIME body;\n8)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the non-controlling MCVideo function; and\n9)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "21.3\tUser regroup using a preconfigured group",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "21.3.1\tClient procedures",
                            "text_content": "Upon receiving a request from an MCVideo user to establish an MCVideo user regroup using a preconfigured group, the MCVideo client shall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] and:\n1)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n2)\tshall include an Accept-Contact header field with the media feature tag g.3gpp.icsi-ref with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with parameters \"require\" and \"explicit\" according to IETF RFC 3841 [20];\n3)\tshall set the Request-URI to the public service identity identifying the originating participating MCVideo function serving the MCVideo user;\n4)\tmay include a P-Preferred-Identity header field in the SIP MESSAGE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n5)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Asserted-Service-Id header field according to IETF RFC 6050 [14];\n6)\tshall contain an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client;\nb)\tif the MCVideo client is aware of active functional aliases, and an active functional alias is to be included in the SIP MESSAGE request, the <anyExt> element with the <functional-alias-URI> element set to the URI of the used functional alias; and\nc)\tif the MCVideo user has requested an application priority, the <anyExt> element with the <user-requested-priority> element set to the user provided value;\n7)\tshall contain an application/vnd.3gpp.mcvideo-regroup+xml MIME body with:\na)\tthe <mcvideo-regroup-uri> element set to a unique temporary group identity URI;\nNOTE:\tHow the unique temporary group identity URI is formed is an implementation decision.\nb)\tthe <preconfigured-group> element set to the group identity of the preconfigured group;\nc)\tthe <regroup-action> element set to \"create\"; and\nd)\tthe <users-for-regroup> element set to the list of MCVideo IDs of users that are to be included in the regroup; and\n8)\tshall send the SIP MESSAGE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP MESSAGE request, the MCVideo client:\n1)\tshould notify the MCVideo user of the successful creation of the user regroup using preconfigured group.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the SIP INVITE request:\n1)\tshould notify the MCVideo user of the failure to create the user regroup using preconfigured group.\nWhen the user requests the MCVideo client to remove a user regroup, the MCVideo client uses the procedure in clause 21.2.1.2.\nThe procedure in clause 21.2.1.3 is used by the MCVideo client when the MCVideo server notifies the MCVideo client of the creation of a user regroup using preconfigured group.\nThe procedure in clause 21.2.1.4 is used by the MCVideo client when the MCVideo server notifies the MCVideo client of the removal of a user regroup using preconfigured group.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "21.3.2\tParticipating MCVideo function procedures",
                            "text_content": "In the procedures in this clause:\n1)\ttemporary group identity in an incoming SIP MESSAGE request refers to the temporary group identity from the <mcvideo-regroup-uri> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body of the incoming SIP MESSAGE request; and\n2)\tpreconfigured group identity in an incoming SIP MESSAGE request refers to the the group identity from the <preconfigured-group> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body of the incoming SIP MESSAGE request.\nUpon receipt of a \"SIP MESSAGE request to the originating participating MCVideo function to request creation of a user regroup using preconfigured group\", the originating participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The originating participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The originating participating MCVideo function shall skip the rest of the steps;\n2)\tshall determine the MCVideo ID of the user from the public user identity in the P-Asserted-Identity header field of the SIP MESSAGE request;\n3)\tshall authorise the user. If the user profile identified by the MCVideo ID does not contain an <allow-regroup> element set to \"true\", the originating participating MCVideo function shall reject the \"SIP MESSAGE request to the originating participating MCVideo function to request creation of a user regroup using preconfigured group\" with a SIP 403 (Forbidden) response to the SIP MESSAGE request, with warning text set to \"160 user not authorised to request creation of a regroup\" in a Warning header field as specified in clause 4.9, and shall not continue with the rest of these steps;\n4)\tshall select a controlling MCVideo function to manage the regroup and determine the public service identity of the controlling MCVideo function;\nNOTE 1:\tHow the originating participating MCVideo function selects a controlling MCVideo function to manage the regroup is a deployment decision.\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 3:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 4:\tIf the controlling MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 5:\tHow the originating participating MCVideo function determines the public service identity of the controlling MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 6:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\n5)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17] and:\na)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nb)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the controlling MCVideo function associated with the preconfigured group identity in the incoming SIP MESSAGE request;\nc)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request; and\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request; and\ne)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the participating MCVideo function; and\n6)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11].\nUpon receipt of a SIP 480 (Temporarily Unavailable) response to the above SIP MESSAGE request, the originating participating MCVideo function:\n1)\tshall select a different controlling MCVideo function to manage the regroup and determine the public service identity of that controlling MCVideo function;\n2)\tshall generate a SIP MESSAGE request as specified in this clause with the Request-URI of the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function selected in step 1); and\n3)\tshall forward the SIP MESSAGE request according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response to the above SIP MESSAGE request, the originating participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.2.1.4.2;\n2)\tshall include Warning header field(s) that were received in the incoming SIP 200 (OK) response;\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function; and\n4)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 4xx response that is not a 480 response, or a SIP 5xx or 6xx response to the above SIP MESSAGE request, the originating participating MCVideo function:\n1)\tshall generate a SIP response according to 3GPP TS 24.229 [11];\n2)\tshall include Warning header field(s) that were received in the incoming SIP response; and\n3)\tshall forward the SIP response to the MCVideo client according to 3GPP TS 24.229 [11].\nWhen the originating participating MCVideo function needs to remove a user regroup, the originating participating MCVideo function uses the procedure in clause 21.2.2.3.\nWhen receiving a \"SIP MESSAGE request to the terminating participating MCVideo function to create a user regroup using preconfigured group\", the terminating participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The terminating participating MCVideo function shall skip the rest of the steps;\n2)\tshall send a SIP 200 (OK) response in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\n3)\tfor each MCVideo ID contained in the <users-for-regroup> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body, the terminating participating MCVideo function is aware from stored information that the MCVideo client has not previously been notified of the creation of the user regroup:\na)\tshall generate a SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17]:\nb)\tinclude in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nc)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public user identity associated with the MCVideo ID;\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\ne)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request, with the exceptions that any <groups-for-regroup> elements shall not be copied;\nf)\tshall copy the contents of the P-Asserted-Identity header field of the incoming SIP MESSAGE request to the P-Asserted-Identity header field of the outgoing SIP MESSAGE request;\ng)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\nh)\tshall consider the MCVideo ID as affiliated with the temporary group identity representing the regroup identified in the <mcvideo-regroup-uri> element in the incoming SIP MESSAGE request; and\n4)\tshall store:\na)\tthe value of the <mcvideo-regroup-uri> element as the identity of the regroup based on a preconfigured group;\nb)\tthe value of the preconfigured-group> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body as the identity of the preconfigured group; and\nc)\tthe list of the users that are members of the user regroup;\nuntil the regroup is removed.\nWhen the terminating participating MCVideo function receives a request to remove a user regroup it uses the procedure in clause 21.2.2.5.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "21.3.3\tControlling MCVideo function procedures",
                            "text_content": "When receiving a \"SIP MESSAGE request to the controlling MCVideo function to request creation of a user regroup using preconfigured group\" the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP MESSAGE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. The controlling MCVideo function shall skip the rest of the steps;\n2)\tif the controlling MCVideo function is unable to handle the user regroup it shall send a SIP 480 (Temporarily Unavailable) response to the incoming SIP MESSAGE request and shall skip the rest of the steps;\n3)\tif the controlling MCVideo function determines that the proposed group ID for the regroup is already in use, shall reject the \"SIP MESSAGE request to the controlling MCVideo function to request creation of a user regroup using preconfigured group\" with a SIP 403 (Forbidden) response to the SIP MESSAGE request, with warning text set to \"165 group ID for regroup already in use\" in a Warning header field as specified in clause 4.9, and shall skip the rest of the steps;\n4)\tshall create a separate list of MCVideo IDs containing all users identified in the <users-for-regroup> element in the application/vnd.3gpp.mcvideo-regroup+xml MIME body who are served by the same terminating participating MCVideo function;\n5)\tfor each terminating participating MCVideo function identified in step 3):\na)\tshall generate an outgoing SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17];\nb)\tshall include in the SIP MESSAGE request all Accept-Contact header fields and all Reject-Contact header fields, with their feature tags and their corresponding values along with parameters according to rules and procedures of IETF RFC 3841 [20] that were received (if any) in the incoming SIP MESSAGE request;\nc)\tshall set the Request-URI of the outgoing SIP MESSAGE request to the public service identity of the terminating participating MCVideo function;\nNOTE 1:\tThe public service identity can identify the terminating participating MCVideo function in the local MCVideo system or in an interconnected MCVideo system.\nNOTE 2:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the public service identity can identify the MCVideo gateway server that acts as an entry point in the interconnected MCVideo system from the local MCVideo system.\nNOTE 3:\tIf the terminating participating MCVideo function is in an interconnected MCVideo system in a different trust domain, then the local MCVideo system can route the SIP request through an MCVideo gateway server that acts as an exit point from the local MCVideo system to the interconnected MCVideo system.\nNOTE 4:\tHow the controlling MCVideo function determines the public service identity of the terminating participating MCVideo function associated with the group identity or of the MCVideo gateway server in the interconnected MCVideo system is out of the scope of the present document.\nNOTE 5:\tHow the local MCVideo system routes the SIP request through an exit MCVideo gateway server is out of the scope of the present document.\nd)\tshall copy the contents of the application/vnd.3gpp.mcvideo-info+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-info+xml MIME body included in the outgoing SIP MESSAGE request;\ne)\tshall copy the contents of the application/vnd.3gpp.mcvideo-regroup+xml MIME body received in the incoming SIP MESSAGE request into an application/vnd.3gpp.mcvideo-regroup+xml MIME body included in the outgoing SIP MESSAGE request;\nf)\tshall use the list of MCVideo IDs for this participating MCVideo function as generated in step 3) to create and include a <users-for-regroup> element contained in the application/vnd.3gpp.mcvideo-regroup+xml MIME body;\ng)\tshall include a P-Asserted-Identity header field in the outgoing SIP MESSAGE request set to the public service identity of the controlling MCVideo function; and\nh)\tshall send the SIP MESSAGE request as specified in 3GPP TS 24.229 [11];\n6)\twhen the controlling MCVideo function receives a SIP 200 (OK) response from any of the terminating participating MCVideo functions that were sent a SIP MESSAGE request in step 4) the controlling MCVideo function shall:\na)\tsend a SIP 200 (OK) response to the incoming SIP MESSAGE request; and\nb)\tstore the the value of the <mcvideo-regroup-uri> element as the identity of the user regroup based on a preconfigured group;\nc)\tthe value of the preconfigured-group> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body as the identity of the preconfigured group; and\nd)\tstore the set of MCVideo IDs contained in the <users-for-regroup> element of the application/vnd.3gpp.mcvideo-regroup+xml MIME body as the the list of the users that are members of the user regroup; and\n7)\tif no SIP 200 (OK) response is received for a SIP MESSAGE sent in step 4), the controlling MCVideo function shall send a SIP 480 (Temporarily Unavailable) response to the incoming SIP MESSAGE request in accordance with 3GPP TS 24.229 [11] and IETF RFC 3428 [17].\nWhen the controlling MCVideo function receives a request to remove a user regroup it uses the procedure in clause 21.2.3.2.\nWhen the controlling MCVideo function decides to remove a user regroup it uses the procedure in clause 21.2.3.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "22\tAdhoc group call",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "22.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the adhoc group call procedures for on-network across single or multiple MCVideo systems, and associated functions such as emergency calls, Imminent peril calls, broadcast calls and others.\nThe adhoc group calls can use the participant list provided by either an initiator of the call or the MCVideo server. The MCVideo server can use the criteria provided by the initiator of the call to determine the participant list along with local criteria or local policies. The resulting adhoc group uses the configuration of a separate preconfigured MCVideo group.\nNOTE:\tA preconfigured group that is intended only to provide configuration for the adhoc group is identified by a parameter in the group configuration described in 3GPP TS 23.280 [74].\nThe preconfigured MCVideo group that provides the configuration is not used for the MCVideo group communication, it only provides configuration for one or more adhoc group calls. The MCVideo group ID of the adhoc group call is provided by the MCVideo server when the adhoc group call originated. To establish a security context for the end-to-end secured adhoc group call, the security related information is used from this preconfigured group.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "22.2\tMCVideo client procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "22.2.1\tGeneral",
                            "text_content": "This clause describes the adhoc group call procedures using on-demand and pre-established sessions to setup adhoc group calls, release the ongoing adhoc group calls, and modify the ongoing adhoc group calls participants.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.2.2\tAdhoc group call setup",
                            "text_content": "This clause describes the originating, and terminating call setup procedures.\nUpon receiving a request from an MCVideo user to establish an MCVideo adhoc group session, the MCVideo client shall determine whether the service configuration document contains an <on-network> element that contains an <anyExt> element that contains an <adhoc-group-call> element that contains an <allow-adhoc-group-call-support> element and if an <allow-adhoc-group-call-support> element does not exist, or is set to a value of \"false, then the MCVideo client:\n1)\tshould indicate to the MCVideo user that adhoc group calls are not allowed; and\n2)\tshall skip the remainder of this procedure.\nThe MCVideo client shall generate an initial SIP INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below:\n1)\tshall set the Request-URI of the SIP INVITE request to a public service identity identifying the participating MCVideo function serving the MCVideo user;\n2)\tshall include the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP INVITE request according to IETF RFC 3840 [22];\n3)\tshall include an Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n4)\tshall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), in a P-Preferred-Service header field according to IETF RFC 6050 [14] in the SIP INVITE request;\n5)\tshall include an Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\n6)\tshould include the \"timer\" option tag in the Supported header field;\n7)\tshould include the Session-Expires header field according to IETF RFC 4028 [23]. It is recommended that the \"refresher\" header field parameter is omitted. If included, the \"refresher\" header field parameter shall be set to \"uac\";\n8)\tmay include a P-Preferred-Identity header field in the SIP INVITE request containing a public user identity as specified in 3GPP TS 24.229 [11];\n9)\tif the MCVideo user has requested the origination of a broadcast group call, the MCVideo client shall comply with the procedures in clause 6.2.8.2;\n10)\tshall contain in an application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <session-type> element set to a value of \"adhoc\";\nb)\tif the MCVideo client needs to include an identity of adhoc group, the <mcvideo-request-uri> element set to the identity of the ad hoc group;\nNOTE 1:\tIf the call setup request follows an emergency alert for an ad hoc group then this element is included and the identity of adhoc group learned during an ad hoc group emergency alert procedures is used.\nNOTE 2:\tThe MCVideo client can optionally include an identity of adhoc group if it learns by any other means or generated by the MCVideo client using required parameters.\nc)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\nNOTE 3:\tThe MCVideo client does not include the MCVideo ID of the originating MCVideo user in the body, as this will be inserted into the body of the SIP INVITE request that is sent from the originating participating MCVideo function.\nd)\tan <anyExt> element containing:\ni)\tif the MCVideo client is aware of active functional aliases, and an active functional alias is to be included in the initial SIP INVITE request, the <functional-alias-URI> element set to the URI of the used functional alias;\nNOTE 4:\tThe MCVideo client learns the functional aliases that are activated for an MCVideo ID from procedures specified in clause 20.2.1.3.\nii)\tif the MCVideo user has requested an application priority, the <user-requested-priority> element set to the user provided value; and\niii)\tif end-to-end security needs to be established for the MCVideo adhoc group session, the <end-to-end-security> element set to \"true\";\n11)\tif the MCVideo user has requested to include the list of MCVideo users to be called and the call setup request does not follow an ad hoc group for emergency alert, shall insert in the SIP INVITE request an application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo users to be called, according to rules and procedures of IETF RFC 5366 [37];\n12)\tif the MCVideo user has requested to include the criteria for determining the list of MCVideo users to be called and the call setup request does not follow an ad hoc group for emergency alert, shall insert a <call-participants-criteria> with one or more criteria as a comma separated list into <anyExt> element of <mcvideo-Params> element of <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP INVITE request;\nNOTE 5:\tThe MCVideo client can include either a list of MCVideo users or the criteria for determining the list of MCVideo users to be called. These two information elements are not included if the call setup request follows an ad hoc group for emergency alerts.\n13)\tshall include an SDP offer according to 3GPP TS 24.229 [11] with the clarifications given in clause 6.2.1;\n14)\tif an implicit transmission request is required, shall indicate this as specified in clause 6.4; and\n15)\tshall send the SIP INVITE request towards the MCVideo server according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP INVITE request, the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5];\n2)\tmay notify the answer state to the user (i.e. \"Unconfirmed\" or \"Confirmed\") if received in the P-Answer-State header field;\n3)\tif the <preconfigured-group-id> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall use the security related information from the group configuration associated with the received preconfigured group identity; and\n4)\tmay notify the user with the adhoc group identity received in the <mcvideo-calling-group-id> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the SIP INVITE request:\n1)\tmay notify the user about call setup failure with an appropriate response along with the description.\nUpon receipt of an initial SIP INVITE request, the MCVideo client shall follow the procedures for termination of multimedia sessions in the IM CN subsystem as specified in 3GPP TS 24.229 [11] with the clarifications below.\nThe MCVideo client:\n1)\tmay reject the SIP INVITE request if any of the following conditions are met:\na)\tMCVideo client does not have enough resources to handle the call; or\nb)\tany other reason outside the scope of this specification;\n2)\tif the SIP INVITE request is rejected in step 1), shall respond toward participating MCVideo function either with appropriate reject code as specified in 3GPP TS 24.229 [11] and warning texts as specified in clause 4.4.2 or with SIP 480 (Temporarily unavailable) response not including warning texts if the user is authorised to restrict the reason for failure and skip the rest of the steps of this clause;\n3)\tshall check if a Resource-Priority header field is included in the incoming SIP INVITE request and may perform further actions outside the scope of this specification to act upon an included Resource-Priority header field as specified in 3GPP TS 24.229 [11];\n4)\tmay display to the MCVideo user the MCVideo ID of the inviting MCVideo user;\n5)\tmay display to the MCVideo user the functional alias of the inviting MCVideo user, if present;\n6)\tif the <preconfigured-group-id> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall use the security related information from the group configuration associated with the received preconfigured group identity;\n7)\tmay notify the user with the adhoc group identity received in the <mcvideo-calling-group-id> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body;\n8)\tshall perform the automatic commencement procedures specified in clause 6.2.3.1.2 if one of the following conditions are met:\na)\tSIP INVITE request contains an Answer-Mode header field with the value \"Auto\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to automatic commencement mode; or\nb)\tSIP INVITE request contains an Answer-Mode header field with the value \"Auto\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to manual commencement mode, yet the invited MCVideo client allows the call to be answered with automatic commencement mode; and\n9)\tshall perform the manual commencement procedures specified in clause 6.2.3.2.2 if one of the following conditions are met:\na)\tSIP INVITE request contains an Answer-Mode header field with the value \"Manual\" and the MCVideo service setting at the invited MCVideo client for answering the call is to use manual commencement mode; or\nb)\tSIP INVITE request contains an Answer-Mode header field with the value \"Manual\" and the MCVideo service setting at the invited MCVideo client for answering the call is set to automatic commencement mode, yet the invited MCVideo client allows the call to be answered with manual commencement mode.\nEditor's Note:\tThe pre-established session establishment and common procedures based on pre-established sessions refered in the below procedures will be defined in the future.\nUpon receiving a request from an MCVideo user to establish an MCVideo adhoc group session within the pre-established session, the MCVideo client shall determine whether the service configuration document contains an <on-network> element that contains an <anyExt> element that contains an <adhoc-group-call> element that contains an <allow-adhoc-group-call-support> element and if an <allow-adhoc-group-call-support> element does not exist, or is set to a value of \"false\", then the MCVideo client:\n1)\tshould indicate to the MCVideo user that adhoc group calls are not allowed; and\n2)\tshall skip the remainder of this procedure.\nThe MCVideo client shall generate a SIP REFER request outside a dialog in accordance with the procedures specified in 3GPP TS 24.229 [11], IETF RFC 4488 [31] and IETF RFC 3515 [64] as updated by IETF RFC 6665 [22] and IETF RFC 7647 [65], with the clarifications given below.\nThe MCVideo client:\n1)\tshall include the Request-URI set to the public service identity identifying the pre-established session on the MCVideo server serving the MCVideo user;\n2)\tshall include the Refer-Sub header field with value \"false\" according to rules and procedures of IETF RFC 4488 [31];\n3)\tshall include the Supported header field with value \"norefersub\" according to rules and procedures of IETF RFC 4488 [31];\n4)\tshall include the option tag \"multiple-refer\" in the Require header field;\n5)\tmay include a P-Preferred-Identity header field in the SIP REFER request containing a public user identity as specified in 3GPP TS 24.229 [11];\n6)\tshall include a P-Preferred-Service header field set to the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" (coded as specified in 3GPP TS 24.229 [11]), according to IETF RFC 6050 [14];\n7)\tif the MCVideo user has requested to include the list of MCVideo users to be called and the call setup request does not follow an adhoc group for emergency alert:\na)\tshall set the Refer-To header field of the SIP REFER request as specified in IETF RFC 3515 [64] with a Content-ID (\"cid\") Uniform Resource Locator (URL) as specified in IETF RFC 2392 [49] that points to an application/resource-lists+xml MIME body as specified in IETF RFC 5366 [37], and with the Content-ID header field set to this \"cid\" URL and Content-Type header filed set to \"application/resource-lists+xml\";\nb)\tshall include in the application/resource-lists MIME body an <entry> element for each of the targeted MCVideo users, with each <entry> element containing a \"uri\" attribute set to the MCVideo ID of the targeted user, extended with hname \"body\" parameter in the headers portion of the SIP URI containing:\nNOTE 1:\tCharacters that are not formatted as ASCII characters are escaped in the following parameters in the headers portion of the SIP URI.\ni)\tthe Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\nii)\tan Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20]; and\niii)\tan hname \"body\" parameter populated with:\nA)\tan application/sdp MIME body containing an SDP offer, if the session parameters of the pre-established session require modification or if implicit transmission control is requested, according to the conditions specified in clause 6.4;\nB)\tan application/vnd.3gpp.mcvideo-info MIME body with:\nI)\tthe <session-type> element set to a value of \"adhoc\";\nII)\tthe MCVideo client may include the identity of adhoc group with the <mcvideo-request-uri> element set to the identity of the adhoc group;\nNOTE 2:\tThe MCVideo client can optionally include an identity of adhoc group if it learns by any other means or generated by the MCVideo client using required parameters.\nIII)\tif the MCVideo user has requested the origination of a broadcast adhoc group call, the <broadcast-ind> element set to \"true\";\nIV)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\nV)\tan <anyExt> element containing:\nAA)\tif the MCVideo client needs to include an active functional alias in the SIP REFER request, the <functional-alias-URI> element set to the URI of the used functional alias;\nNOTE 3:\tThe MCVideo client learns the functional aliases that are activated for an MCVideo ID from procedures specified in clause 20.2.1.3.\nBB)\tif the MCVideo user has requested an application priority, the <user-requested-priority> element set to the user provided value; and\nCC)\tif end-to-end security needs to be established for the MCVideo adhoc group session, the <end-to-end-security> element set to \"true\";\nC)\tif:\nI)\timplicit transmission control is requested; and\nII)\tif the <allow-location-info-when-talking> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\";\nthen shall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element; and\nD)\tif several MIME bodies to be included in the hname \"body\" parameter, shall include the MIME bodies according to the procedures specified in clause 6.5;\n8)\tif the MCVideo user has requested to include the criteria for determining the list of MCVideo users to be called and the call setup request does not follow an adhoc group for emergency alert:\na)\tshall set the Refer-To header field of the SIP REFER request as specified in IETF RFC 3515 [64] with a Content-ID (\"cid\") Uniform Resource Locator (URL) as specified in IETF RFC 2392 [49] that points to an MIME body section which conatins one or more MIME bodies, and with the Content-ID header field set to this \"cid\" URL and Content-Type header filed set to \"application/vnd.3gpp.mcvideo-info+xml\" or according to the procedures specified in clause 6.5 if several MIME bodies needs to be included;\nb)\tthe Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\nc)\tan Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\nd)\tshall include an application/sdp MIME body containing an SDP offer, if the session parameters of the pre-established session require modification or if implicit transmission control is requested, according to the conditions specified in clause 6.4;\ne)\tshall include an application/vnd.3gpp.mcvideo-info MIME body with:\ni)\tthe <session-type> element set to a value of \"adhoc\";\nii)\tthe MCVideo client may include the identity of adhoc group with the <mcvideo-request-uri> element set to the identity of the adhoc group;\nNOTE 4:\tThe MCVideo client can optionally include an identity of adhoc group if it learns by any other means or generated by the MCVideo client using required parameters.\niii)\tif the MCVideo user has requested the origination of a broadcast adhoc group call, the <broadcast-ind> element set to \"true\";\niv)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\nv)\tan <anyExt> element containing:\nA)\tif the MCVideo client needs to include an active functional alias in the SIP REFER request, the <functional-alias-URI> element set to the URI of the used functional alias;\nNOTE 5:\tThe MCVideo client learns the functional aliases that are activated for an MCVideo ID from procedures specified in clause 20.2.1.3.\nB)\tthe <call-participants-criterias> element set to one or more criteria as a comma separated list;\nC)\tif the MCVideo user has requested an application priority, the <user-requested-priority> element set to the user provided value; and\nD)\tif end-to-end security needs to be established for the MCVideo adhoc group session, the <end-to-end-security> element set to \"true\";\nv)\tif:\nA)\timplicit transmission control is requested; and\nB)\tif the <allow-location-info-when-talking> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\";\nthen shall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element;\n9)\tif the call setup request follows an emergency alert for an adhoc group:\na)\tshall set the Refer-To header field of the SIP REFER request as specified in IETF RFC 3515 [64] with a Content-ID (\"cid\") Uniform Resource Locator (URL) as specified in IETF RFC 2392 [49] that points to an application/resource-lists+xml MIME body as specified in IETF RFC 5366 [37], and with the Content-ID header field set to this \"cid\" URL and Content-Type header filed set to \"application/resource-lists+xml\";\nb)\tshall include in the application/resource-lists+xml MIME body a single <entry> element in a <list> element in the <resource-lists> element where the <entry> elment contains a \"uri\" attribute set to the identity of the adhoc group learned during an adhoc group emergency alert procedure, extended with hname \"body\" parameter in the headers portion of the SIP URI containing:\nNOTE 6:\tCharacters that are not formatted as ASCII characters are escaped in the following parameters in the headers portion of the SIP URI.\ni)\tthe Accept-Contact header field containing the g.3gpp.mcvideo media feature tag along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20];\nii)\tan Accept-Contact header field with the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" along with the \"require\" and \"explicit\" header field parameters according to IETF RFC 3841 [20]; and\niii)\tan hname \"body\" parameter populated with:\nA)\tan application/sdp MIME body containing an SDP offer, if the session parameters of the pre-established session require modification or if implicit floor control is required, according to the conditions specified in clause 6.4;\nB)\tan application/vnd.3gpp.mcvideo-info MIME body with:\nI)\tthe <session-type> element set to a value of \"adhoc\";\nII)\tthe <mcvideo-client-id> element set to the MCVideo client ID of the originating MCVideo client; and\nIII)\tan <anyExt> element containing:\naa)\tif the MCVideo client needs to include an active functional alias in the SIP REFER request, the <functional-alias-URI> element set to the URI of the used functional alias;\nNOTE 7:\tThe MCVideo client learns the functional aliases that are activated for an MCVideo ID from procedures specified in clause 20.2.1.3.\nbb)\tif the MCVideo user has requested an application priority, the <user-requested-priority> element set to the user provided value;\ncc)\tthe <adhoc-grp-emg-alert-grp-ind> element set to \"true\"; and\ndd)\tif end-to-end security needs to be established for the MCVideo adhoc group session, the <end-to-end-security> element set to \"true\";\nC)\tif:\nI)\timplicit transmission control is requested; and\nII)\tif the <allow-location-info-when-talking> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the calling MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"true\";\nthen shall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element; and\nD)\tif several MIME bodies to be included in the hname \"body\" parameter, shall include the MIME bodies according to the procedures specified in clause 6.5;\nNOTE 8:\tThe MCVideo client can include either a list of MCVideo users or the criteria for determining the list of MCVideo users to be called. These two information elements are not included if the call setup request follows an adhoc group for emergency alerts.\n10)\tshall include a Target-Dialog header field as specified in IETF RFC 4538 [32] identifying the pre-established session;\n11)\tshall include the g.3gpp.mcvideo media feature tag and the g.3gpp.icsi-ref media feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\" in the Contact header field of the SIP REFER request according to IETF RFC 3840 [22]; and\n12)\tshall send the SIP REFER request according to 3GPP TS 24.229 [11].\nOn receiving a final SIP 2xx response to the SIP REFER request, the MCVideo client:\n1)\tshall interact with the user plane as specified in 3GPP TS 24.581 [5];\n2)\tif the <preconfigured-group-id> element received in the application/vnd.3gpp.mcvideo-info+xml MIME body, shall use the security related information from the group configuration associated with the received preconfigured group identity; and\n3)\tmay notify the user with the adhoc group identity received in the <mcvideo-calling-group-id> element contained in the application/vnd.3gpp.mcvideo-info+xml MIME body.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the SIP REFER request:\n1)\tmay notify the user about call setup failure with an appropriate response along with the description.\nUpon receiving a SIP re-INVITE request within a pre-established Session without an associated MCVideo session or when generating SIP responses to the SIP re-INVITE request, the MCVideo client shall follow the procedures as specified in clause 22.2.2.1.2.\nNOTE:\tIn clause 22.2.2.1.2, the reader is assumed to replace occurrences of SIP INVITE request with SIP re-INVITE request.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.2.3\tAdhoc group call release",
                            "text_content": "This clause describes the originating, and terminating call release procedures.\nUpon receiving a request from an MCVideo user to release an MCVideo adhoc group session established using on-demand session, the MCVideo client shall follow the procedures as specified in clause 6.2.5.1.\nUpon receiving a SIP BYE request for releasing the MCVideo adhoc group session, the MCVideo client shall follow the procedures as specified in clause 6.2.6.\nUpon receiving a request from an MCVideo user to release an MCVideo adhoc group session established using pre-established session, the MCVideo client shall follow the procedures as specified in clause 6.2.5.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.2.4\tAdhoc group call leave",
                            "text_content": "This clause describes the originating, and terminating call leave procedures.\nUpon receiving a request from an MCVideo user to leave an MCVideo adhoc group session established using on-demand session, the MCVideo client shall follow the procedures as specified in clause 6.2.4.1.\nUpon receiving a SIP BYE request for leave the MCVideo adhoc group session, the MCVideo client shall follow the procedures as specified in clause 6.2.6.\nUpon receiving a request from an MCVideo user to leave an MCVideo adhoc group session established using pre-established session, the MCVideo client shall follow the procedures as specified in clause 6.2.4.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.2.5\tAdhoc group call rejoin",
                            "text_content": "This clause describes the originating, and terminating call rejoin procedures.\nUpon receiving a request from an MCVideo user to rejoin an ongoing MCVideo session or triggered by coming back from out of coverage, the MCVideo client shall generate an initial SIP INVITE request by following the UE originating session procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nNOTE:\tHow an MCVideo client is informed whether it comes back from out of coverage is out of scope of present document.\nThe MCVideo client shall follow the procedures specified in clause 22.2.2.1.1 with the clarification in step 1) of clause 22.2.2.1.1 that the Request-URI of the SIP INVITE request shall contain a URI of the MCVideo session identity to rejoin.\nUpon receiving a request from an MCVideo user to rejoin an ongoingMCVideo call within the pre-established session or triggered by coming back from out of coverage, the MCVideo client shall generate a SIP REFER request as specified in IETF RFC 3515 [64] as updated by IETF RFC 6665 [22] and IETF RFC 7647 [65], and in accordance with the UE procedures specified in 3GPP TS 24.229 [11], with the clarifications given below.\nThe MCVideo client shall follow the procedures specified in clause 22.2.2.2.1 with the clarification in step 7, step 8 and step 9 of clause 22.2.2.2.1 that the Refer-To header field of the SIP REFER request:\n1)\tshall contain a URI of the MCVideo session identity to rejoin; and\n2)\tshall contain a Content-Type header field in the headers portion of the SIP URI containing an application/vnd.3gpp.mcvideo-info+xml MIME type of the hname \"body\" parameter in the headers portion of the SIP URI and the hname \"body\" parameter in the headers portion of the SIP URI containing the <mcvideoinfo> element with the <mcvideo-Params> element and with the <session-type> element set to a value of \"adhoc\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.2.6\tAdhoc group call participants modify",
                            "text_content": "This clause describes the originating adhoc group call participants modify procedures.\nUpon receiving a request from an authorized MCVideo user to modify an ongoing MCVideo session to update the participants list, the MCVideo client shall generate a SIP re-INVITE request as specified in 3GPP TS 24.229 [11], with the clarifications given below.\n1)\tshall include an application/vnd.3gpp.mcvideo-info+xml MIME body populated as currently established session;\n2)\tif the currently established session is based on the MCVideo user requested to include the list of MCVideo users to be called, shall insert in the SIP re-INVITE request an application/resource-lists+xml MIME body with:\na)\tif MCVideo users to be invited to a call, the MCVideo ID of the invited MCVideo users to be called with the \"method\" SIP URI parameter set to the value \"INVITE\" in the \"uri\" attribute of the each <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body; and\nb)\tif MCVideo users to be removed from a call, the MCVideo ID of the MCVideo users to be removed with the \"method\" SIP URI parameter with the value \"BYE\" in the \"uri\" attribute of the each <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body;\n3)\tshall include an SDP offer with the media parameters as currently established according to 3GPP TS 24.229 [11]; and\n4)\tshall send the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nOn receiving a SIP 2xx response to the SIP re-INVITE request, the MCVideo client:\n1)\tmay notify the user about successful call modification request.\nOn receiving a SIP 4xx response, a SIP 5xx response or a SIP 6xx response to the re-SIP INVITE request, the MCVideo client:\n1)\tmay notify the user about call participants modify request failure with an appropriate response along with the description.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "22.3\tParticipating MCVideo function procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "22.3.1\tGeneral",
                            "text_content": "This clause describes the adhoc group call participating MCVideo function procedures using on-demand and pre-established sessions to setup adhoc group calls, release the ongoing adhoc group calls, and modify the ongoing adhoc group calls participants.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.3.2\tAdhoc group call setup",
                            "text_content": "This clause describes the originating, and terminating call setup participating MCVideo function procedures.\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"adhoc\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\n2)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP INVITE request, and shall authorise the calling user;\nNOTE 1:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif the participating MCVideo function cannot find a binding between the public user identity and an MCVideo ID or if the validity period of an existing binding has expired, then the participating MCVideo function shall reject the SIP INVITE request with a SIP 404 (Not Found) response with the warning text set to \"141 user unknown to the participating function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n4)\tif through local policy in the participating MCVideo function, the user identified by the MCVideo ID is not authorised to initiate adhoc group calls, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response to the SIP INVITE request, with warning text set to \"184 user not authorised to make adhoc group calls\" in a Warning header field as specified in clause 4.4;\n5)\tshall validate the media parameters and if the MCVideo codecs are not offered in the SIP INVITE request shall reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n6)\tshall check if the number of maximum simultaneous MCVideo group calls supported for the MCVideo user as specified in the <MaxSimultaneousCallsN6> element of the <MCVideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) has been exceeded. If exceeded, the participating MCVideo function shall respond with a SIP 486 (Busy Here) response with the warning text set to \"103 maximum simultaneous MCVideo group calls reached\" in a Warning header field as specified in clause 4.4. Otherwise, continue with the rest of the steps;\n7)\tshall determine the public service identity of the controlling MCVideo function for the adhoc group call service associated with the originating user's identity i.e. MCVideo ID;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the primary MCVideo system.\nNOTE 3:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function for the adhoc group call service associated with the originating user is out of the scope of the present document.\n8)\tif the participating MCVideo function is unable to identify the controlling MCVideo function for the adhoc group call service associated with the originating user's MCVideo ID identity, it shall reject the SIP INVITE request with a SIP 404 (Not Found) response with the warning text \"142 unable to determine the controlling function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n9)\tif the <allow-adhoc-group-call> element of the <ruleset> element is not present in the MCVideo user profile document on the participating MCVideo function or is present with the value \"false\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]), indicating that the user identified by the MCVideo ID is not authorised to initiate adhoc group calls, shall reject the \"SIP INVITE request for originating participating MCVideo function\" with a SIP 403 (Forbidden) response, with warning text set to \"185 user is not authorised to initiate the adhoc group call\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n10)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.3;\n11)\tshall set the Request-URI to the public service identity of the controlling MCVideo function as determined in step 7;\n12)\tshall not copy the following header fields from the incoming SIP INVITE request to the outgoing SIP INVITE request, if they were present in the incoming SIP INVITE request:\na)\tAnswer-Mode header field as specified in IETF RFC 5373 [27]; and\nb)\tPriv-Answer-Mode header field as specified in IETF RFC 5373 [27];\n13)\tshall set the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP INVITE request to the MCVideo ID of the calling user;\n14)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the MCVideo client as specified in clause 6.3.2.1.1.1;\n15)\tif the received SIP request contains a <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, then check if the status of the functional alias is activated for the MCVideo ID. If the functional alias status is activated, then set the <functional-alias-URI> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP INVITE request to the received value, if the status is unequal activated then do not include a <functional-alias-URI> element;\nNOTE 4:\tThe participating MCVideo server learns the functional alias state for an MCVideo ID from procedures specified in clause 20.2.2.2.7.\n16)\tif a Resource-Priority header field was included in the received SIP INVITE request, shall include a Resource-Priority header field according to rules and procedures of 3GPP TS 24.229 [11] set to the value indicated in the Resource-Priority header field of the SIP INVITE request from the MCVideo client;\nNOTE 5:\tThe participating MCVideo function will leave the verification of the Resource-Priority header field to the controlling MCVideo function.\n17)\tif, according to clause 6.4, the SIP INVITE request is regarded as being received with an implicit request to grant permission to send media to the originating MCVideo client:\nif:\na)\tthe incoming SIP INVITE request contained an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element;\nthen shall copy the application/vnd.3gpp.mcvideo-location-info+xml MIME body from the received SIP INVITE request into the outgoing SIP INVITE request;\notherwise:\nif:\na)\tthe participating MCVideo function has the location of the originating MCVideo client available;\nthen shall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element; and\n18)\tshall send the SIP INVITE request, according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response in response to the above SIP INVITE request, the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as in clause 6.3.2.1.4.2 with the clarification that if an <MKFC-GKTPs> element was contained in the received SIP 2xx response it is not included in the generated SIP 200 (OK) response;\nNOTE 6:\tIf an <MKFC-GKTPs> element is received in a SIP 2xx response, the participating MCVideo function essentially ignores it and does not forward it, resulting in unicast media plane transmission being used for the originating client.\n2)\tshall include in the SIP 200 (OK) response an SDP answer as specified in the clause 6.3.2.1.2.1;\n3)\tshall include Warning header field(s) that were received in the incoming SIP 200 (OK) response;\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function;\n5)\tshall include an MCVideo session identity mapped to the MCVideo session identity provided in the Contact header field of the received SIP 200 (OK) response;\n6)\tshall include the answer state into the P-Answer-State header field of the outgoing SIP 200 (OK) response, if received in the P-Answer-State header field of the incoming SIP 200 (OK) response;\n7)\tshall send the SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11];\n8)\tshall interact with Media Plane as specified in 3GPP TS 24.581 [5]; and\n9)\tshall start the SIP Session timer according to rules and procedures of IETF RFC 4028 [23].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the above SIP INVITE request, the participating MCVideo function:\n1)\tshall generate a SIP response according to 3GPP TS 24.229 [11];\n2)\tshall include Warning header field(s) that were received in the incoming SIP response; and\n3)\tshall forward the SIP response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP INVITE request for terminating participating MCVideo function\", the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15], and shall not continue with the rest of the steps;\n2)\tshall check the presence of the isfocus media feature tag in the URI of the Contact header field and if it is not present then the participating MCVideo function shall reject the request with a SIP 403 (Forbidden) response with the warning text set to \"104 isfocus not assigned\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n3)\tif the Answer-Mode Indication in the application/poc-settings+xml MIME body has not yet been received from the invited MCVideo client as defined in clause 7.3.3 or clause 7.3.4, shall reject the request with a SIP 480 (Temporarily Unavailable) response with the warning text set to \"146 T-PF unable to determine the service settings for the called user\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n4)\tshall use the MCVideo ID present in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request to retrieve the binding between the MCVideo ID and public user identity;\n5)\tif the binding between the MCVideo ID and public user identity does not exist, then the participating MCVideo function shall reject the SIP INVITE request with a SIP 404 (Not Found) response. Otherwise, continue with the rest of the steps;\nNOTE:\tIf an <MKFC-GKTPs> element is received in a SIP INVITE request, the participating MCVideo function essentially ignores it and does not forward it, resulting in unicast media plane transmission being used for the terminating client.\n6)\tif the <allow-adhoc-group-call-participation> element of the <ruleset> element is not present in the MCVideo user profile document on the participating MCVideo function or is present with the value \"false\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]), indicating that the user identified by the MCVideo ID is not authorised to participate in adhoc group calls, shall reject the \"SIP INVITE request for terminating participating MCVideo function\" with a SIP 403 (Forbidden) response, with warning text set to \"188 user is not allowed to participate in adhoc group call\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n7)\tshall perform the automatic commencement procedures specified in clause 6.3.2.2.5.1 and according to IETF RFC 5373 [27] if the \"SIP INVITE request for terminating participating MCVideo function\" does not contain an Answer-Mode header field and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as per clause 7.3.3 or clause 7.3.4 is set to \"auto-answer\"; and\n8)\tshall perform the manual commencement procedures specified in clause 6.3.2.2.6.1 and according to IETF RFC 5373 [27] if the \"SIP INVITE request for terminating participating MCVideo function\" does not contain an Answer-Mode header field and the Answer-Mode Indication received in the application/poc-settings+xml MIME body received from the invited MCVideo client as per clause 7.3.3 or clause 7.3.4 is set to \"manual-answer\".\nUpon receipt of a \"SIP REFER request for a pre-established session\", with:\n1)\tthe Refer-To header field containing a Content-ID (\"cid\") Uniform Resource Locator (URL) as specified in IETF RFC 2392 [49] that:\na)\tpoints to an application/resource-lists+xml MIME body as specified in IETF RFC 5366 [37] containing one or more <entry> element(s) in the <list> element in the <resource-lists> element, where the <entry> element contains a \"uri\" attribute containing a SIP URI set to the MCVideo ID of the called user(s) or ;\nb)\tpoints to an MIME body section which conatins one or more MIME bodies and Content-Type header filed set to \"application/vnd.3gpp.mcvideo-info+xml\" or set to \"multipart/mixed\";\n2)\tan hname \"body\" parameter in the headers portion of the SIP URI specified above containing an application/vnd.3gpp.mcvideo-info MIME body with the <session-type> element set to \"adhoc\"; and\n3)\ta Content-ID header field set to the \"cid\" URL;\nthe participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP REFER request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [24] and shall not continue with the rest of the steps;\n2)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP REFER request;\nNOTE 1:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif the participating MCVideo function cannot find a binding between the public user identity and an MCVideo ID or if the validity period of an existing binding has expired, then the participating MCVideo function shall reject the SIP REFER request with a SIP 404 (Not Found) response with the warning text set to \"141 user unknown to the participating function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n4)\tif through local policy in the participating MCVideo function, the user identified by the MCVideo ID is not authorised to initiate adhoc group calls, shall reject the \"SIP REFER request for pre-established session\" with a SIP 403 (Forbidden) response to the SIP REFER request, with warning text set to \"184 user not authorised to make adhoc group calls\" in a Warning header field as specified in clause 4.4;\n5)\tshall check if the number of maximum simultaneous MCVideo group calls supported for the MCVideo user as specified in the <MaxSimultaneousCallsN6> element of the <mcvideo-group-call> element of the MCVideo user profile document (see the MCVideo user profile document in 3GPP TS 24.484 [25]) has been exceeded. If exceeded, the participating MCVideo function shall respond with a SIP 486 (Busy Here) response with the warning text set to \"103 maximum simultaneous MCVideo group calls reached\" in a Warning header field as specified in clause 4.4. Otherwise, continue with the rest of the steps;\n6)\tshall determine the public service identity of the controlling MCVideo function for the adhoc group call service associated with the originating user's identity i.e. MCVideo ID;\nNOTE 2:\tThe public service identity can identify the controlling MCVideo function in the primary MCVideo system.\nNOTE 3:\tHow the participating MCVideo function determines the public service identity of the controlling MCVideo function for the adhoc group call service associated with the originating user is out of the scope of the present document.\n7)\tif the participating MCVideo function is unable to identify the controlling MCVideo function for the adhoc group call service associated with the originating user's MCVideo ID identity, it shall reject the SIP REFER request with a SIP 404 (Not Found) response with the warning text \"142 unable to determine the controlling function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n8)\tif the <allow-adhoc-group-call> element of the <ruleset> element is not present in the MCVideo user profile document on the participating MCVideo function or is present with the value \"false\" (see the MCVideo user profile document in 3GPP TS 24.484 [25]), indicating that the user identified by the MCVideo ID is not authorised to initiate adhoc group calls, shall reject the \"SIP REFER request for a pre-established session\" with a SIP 403 (Forbidden) response, with warning text set to \"185 user is not authorised to initiate the adhoc group call\" in a Warning header field as specified in clause 4.4, and shall not continue with the rest of the steps;\n9)\tif the \"SIP REFER request for a pre-established session\" contained a Refer-Sub header field containing \"false\" value and a Supported header field containing \"norefersub\" value, shall handle the SIP REFER request as specified in 3GPP TS 24.229 [11], IETF RFC 3515 [64] as updated by IETF RFC 6665 [22], and IETF RFC 4488 [31] without establishing an implicit subscription;\n10)\tshall generate a final SIP 200 (OK) response to the \"SIP REFER request for a pre-established session\" according to 3GPP TS 24.229 [11];\nNOTE 4:\tIn accordance with IETF RFC 4488 [31], the participating MCVideo function inserts the Refer-Sub header field containing the value \"false\" in the SIP 200 (OK) response to the SIP REFER request to indicate that it has not created an implicit subscription.\n11)\tshall wait for the receipt of a SIP response to the SIP INVITE request that will be generated and sent in subsequent steps;\n12)\tshall generate a SIP INVITE request as specified in clause 6.3.2.1.4 with the following clarifications:\na)\tif the <adhoc-grp-emg-alert-grp-ind> element of the <anyExt> element of <mcvideo-Params> element of <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP INVITE request set to a value of \"true\", shall copy the identity of adhoc group from the \"uri\" attribute of the <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body pointed to by the \"cid\" URL in the Refer-to header field of the SIP REFER request, to the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP INVITE request and do not include application/resource-lists+xml MIME body;\nNOTE 5:\tThe MCVideo client can include either a list of MCVideo users or the criteria for determining the list of MCVideo users to be called. These two information elements are not included if the call setup request follows an adhoc group for emergency alerts.\n13)\tshall set the Request-URI to the public service identity of the controlling MCVideo function as determined in step 6;\n14)\tshall not copy the following header fields from the incoming SIP INVITE request to the outgoing SIP INVITE request, if they were present in the incoming SIP INVITE request:\na)\tAnswer-Mode header field as specified in IETF RFC 5373 [27]; and\nb)\tPriv-Answer-Mode header field as specified in IETF RFC 5373 [27];\n15)\tif the received SIP REFER request contained a Resource-Priority header field, shall include in the outgoing SIP INVITE request a Resource-Priority header field according to rules and procedures of 3GPP TS 24.229 [11] set to the value indicated in the Resource-Priority header field of the received SIP REFER request from the MCVideo client;\nNOTE 6:\tThe participating MCVideo function will leave verification of the Resource-Priority header field to the controlling MCVideo function.\n16) if, according to clause 6.4, the SIP REFER request is regarded as being received with an implicit request to grant permission to send media to the originating MCVideo client:\nif:\na)\tthe incoming SIP REFER request contained an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element;\nthen shall copy the application/vnd.3gpp.mcvideo-location-info+xml MIME body from the received SIP REFER request into the outgoing SIP INVITE request;\notherwise:\nif:\na)\tthe participating MCVideo function has available the location of the initiating MCVideo client;\nthen shall include an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element; and\n17)\tshall forward the SIP INVITE request according to 3GPP TS 24.229 [11].\nUpon receiving SIP provisional responses for the SIP INVITE request, the participating MCVideo function:\n1)\tshall discard the received SIP responses without forwarding them.\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request the participating MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.380 [5];\n2)\tshall include the application/vnd.3gpp.mcvideo-info+xml MIME body received in the SIP 200 (OK) response into the generated final SIP 200 (OK) response to the \"SIP REFER request for a pre-established session\";\n3)\tshall send the generated final SIP 200 (OK) response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the above SIP INVITE request, the participating MCVideo function:\n1)\tshall generate a SIP response according to 3GPP TS 24.229 [11]; and\n2)\tshall forward the SIP response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a \"SIP INVITE request for terminating participating MCVideo function\", the participating MCVideo function shall follow the procedures as specified in clause 22.3.2.1.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.3.3\tAdhoc group call release",
                            "text_content": "This clause describes the originating, and terminating call release participating MCVideo function procedures.\nUpon receiving from the MCVideo client a SIP BYE request the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.1.6.\nUpon receiving a SIP BYE request from the controlling MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.2.8.1.\nUpon receiving from the MCVideo client a SIP REFER request when using a pre-established session with the \"method\" SIP URI parameter set to value \"BYE\" in the URI in the Refer-To header field the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.1.7.\nUpon receiving a SIP BYE request from the controlling MCVideo function and if the MCVideo session id refers to an MCVideo user that has a pre-established session with the participating MCVideo function, the participating MCVideo function shall follow the procedures as specified in clause 6.3.2.2.8.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.3.4\tAdhoc group call rejoin",
                            "text_content": "This clause describes the originating, and terminating call rejoin participating MCVideo function procedures.\nUpon receipt of a \"SIP INVITE request for originating participating MCVideo function\" containing an application/vnd.3gpp.mcvideo-info+xml MIME body with the <session-type> element set to a value of \"adhoc\", the participating MCVideo function shall follow the procedures specified in clause 22.3.2.1.1 with the clarification in step 10) of clause 22.3.2.1.1 that the Request-URI of the SIP INVITE request shall contain a URI of the MCVideo session identity which mapped to the MCVideo session identity provided in Request-URI of the \"SIP INVITE request for originating participating MCVideo function\".\nUpon receipt of a \"SIP REFER request for a pre-established session\", with the Refer-To header containing an application/vnd.3gpp.mcvideo-info+xml MIME type content in an hname \"body\" parameter in the headers portion of the SIP URI and with the <session-type> element set to \"adhoc\", the participating MCVideo function shall follow the procedures specified in clause 22.3.2.2.1 with the clarification in step 13) of clause 22.3.2.2.1 that the Request-URI of the SIP INVITE request shall contain a URI of the MCVideo session identity which mapped to the MCVideo session identity provided in the Refer-To header field of the \"SIP REFER request for a pre-established session\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.3.5\tAdhoc group call participants modify",
                            "text_content": "This clause describes the originating adhoc group call participants modify participating MCVideo function procedures.\nUpon receipt of a SIP re-INVITE request for an MCVideo session identifying an on-demand MCVideo adhoc group session, the participating MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP re-INVITE request with a SIP 500 (Server Internal Error) response. The participating MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\n2)\tshall determine the MCVideo ID of the calling user from public user identity in the P-Asserted-Identity header field of the SIP re-INVITE request;\nNOTE:\tThe MCVideo ID of the calling user is bound to the public user identity at the time of service authorisation, as documented in clause 7.3.\n3)\tif the participating MCVideo function cannot find a binding between the public user identity and an MCVideo ID or if the validity period of an existing binding has expired, then the participating MCVideo function shall reject the SIP re-INVITE request with a SIP 404 (Not Found) response with the warning text set to \"141 user unknown to the participating function\" in a Warning header field as specified in clause 4.4, and shall not continue with any of the remaining steps;\n4)\tshall validate the media parameters and if the MCVideo codecs are not offered in the SIP re-INVITE request shall reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n5)\tshall generate an outgoing SIP re-INVITE request according to 3GPP TS 24.229 [11];\n6)\tshall copy the application/vnd.3gpp.mcvideo-info+xml MIME body from the received SIP re-INVITE request into the outgoing SIP re-INVITE request;\n7)\tshall include the MCVideo ID of the originating user in <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the SIP re-INVITE request;\n8)\tshall include in the SIP re-INVITE request an SDP offer based on the SDP offer in the received SIP re-INVITE request as specified in clause 6.3.2.1.1;\n9)\tshall copy the application/resource-lists+xml MIME body from the received SIP re-INVITE request into the outgoing SIP re-INVITE request; and\n10)\tshall forward the SIP re-INVITE request according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 2xx response in response to the above SIP re-INVITE request, the participating MCVideo function:\n1)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.2.1.4.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer as specified in the clause 6.3.2.1.2.1;\n3)\tshall include Warning header field(s) that were received in the incoming SIP 200 (OK) response;\n4)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the participating MCVideo function; and\n5)\tshall send the SIP 200 (OK) response towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 403 (Forbidden) response to the above SIP re-INVITE request, the participating MCVideo function:\n1)\tshall generate a SIP 403 (Forbidden) response according to 3GPP TS 24.229 [11];\n2)\tshall copy, if included in the received SIP 403 (Forbidden) response, the application/vnd.3gpp.mcvideo-info+xml MIME body MIME body to the outgoing SIP 403 (Forbidden) response;\n3)\tshall include Warning header field(s) that were received in the incoming SIP 403 (Forbidden) response; and\n4)\tshall forward the SIP 403 (Forbidden) response to the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receipt of a SIP 4xx, 5xx or 6xx response to the above SIP re-INVITE request, the participating MCVideo function:\n1)\tshall generate a SIP response according to 3GPP TS 24.229 [11];\n2)\tshall include Warning header field(s) that were received in the incoming SIP response; and\n3)\tshall forward the SIP response to the MCVideo client according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "22.4\tControlling MCVideo function procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "22.4.1\tGeneral",
                            "text_content": "This clause describes the adhoc group calls controlling MCVideo function procedures using on-demand and pre-established sessions to setup adhoc group calls, release the ongoing adhoc group calls, and modify the ongoing adhoc group calls participants.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.4.2\tAdhoc group call setup",
                            "text_content": "This clause describes the originating, and terminating call setup controlling MCVideo function procedures.\nThis clause describes the procedures for inviting an MCVideo user to an MCVideo session. The procedure is initiated by the controlling MCVideo function as the result of an action in clause 22.4.2.2 or as the result of receiving a SIP 403 (Forbidden) response as described in this clause.\nThe controlling MCVideo function:\n1)\tshall generate a SIP INVITE request as specified in clause 6.3.3.1.2;\n2)\tshall set the Request-URI to the public service identity of the terminating participating MCVideo function associated to the MCVideo user to be invited;\nNOTE 1:\tHow the controlling MCVideo function finds the address of the terminating MCVideo participating function is out of the scope of the present document.\n3)\tshall include a P-Asserted-Identity header field in the outgoing SIP INVITE request set to the public service identity of the controlling MCVideo function;\n4)\tshall include in the application/vnd.3gpp.mcvideo-info+xml MIME body in the outgoing SIP INVITE request with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-request-uri> element set to the MCVideo ID of the terminating user;\nb)\tthe <mcvideo-calling-group-id> element set to the adhoc group identity as determined in the clause 22.4.2.2; and\nNOTE 2:\tThe <mcvideo-calling-user-id> is already included in the MIME body as a result of calling clause 6.3.3.1.2 in step 1).\nc)\tif end-to-end security is requested for the call, the <anyExt> element with the <preconfigured-group-id> element set to the preconfigured group identity as determined in the clause 22.4.2.2;\n5)\tshall include in the SIP INVITE request an SDP offer based on the SDP offer in the received SIP INVITE request from the originating network according to the procedures specified in clause 6.3.3.1.1;\n6)\tshall copy the application/vnd.3gpp.mcvideo-location-info+xml MIME body from the received SIP INVITE request into the outgoing SIP INVITE request; and\n7)\tshall send the SIP INVITE request towards the terminating network in accordance with 3GPP TS 24.229 [11].\nUpon receiving a SIP 183 (Session Progress) response containing a Require header field with the option tag \"100rel\" to the SIP INVITE request the controlling MCVideo function:\n1)\tshall send a SIP PRACK request towards the MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request the controlling MCVideo function:\n1)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3; and\n2)\tshall increment the local counter of the number of SIP 200 (OK) responses received from invited members, by 1.\nNOTE 3:\tThe procedures executed by the controlling MCVideo function prior to sending a response to the inviting MCVideo client are specified in clause 22.4.2.2.\nIn the procedures in this clause:\n1)\tMCVideo ID in an incoming SIP INVITE request refers to the MCVideo ID of the originating user from the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request;\n2)\tadhoc group identity in an incoming SIP INVITE request if included refers to the adhoc group identity from the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request; and\n3)\tMCVideo ID in an outgoing SIP INVITE request refers to the MCVideo ID of the called user in the <mcvideo-request-uri> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the outgoing SIP INVITE request.\nUpon receipt of a \"SIP INVITE request for controlling MCVideo function of a MCVideo adhoc group call\", the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\n2)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\n3)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideo media feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n4)\tif the originating user identified by the MCVideo ID is not authorised to initiate the adhoc group session, if the <allow-adhoc-group-call> element of the <actions> element of a <rule> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the originating MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"false\", shall send a SIP 403 (Forbidden) response with the warning text set to: \"185 user is not authorised to initiate the adhoc group call\" in a Warning header field as specified in clause 4.4 and skip the rest of the steps below;\n5)\tif the MCVideo service does not support the adhoc group call, which is indicated by the <allow-adhoc-group-call-support> element of the <adhoc-group-call> element of the <anyExt> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]) is set to a value of \"false\" or if it does not exists, shall send a SIP 403 (Forbidden) response with the warning text set to: \"186 the MCVideo system do not support adhoc group call\" in a Warning header field as specified in clause 4.4 and skip the rest of the steps below;\n6)\tif the application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo users to be called exists in the incoming SIP INVITE request, shall check if the number of invited participants is within the configured limit as specified in the <max-no-participants> element of the <adhoc-group-call> element of the <anyExt> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]). If not within the configured limit, shall send a SIP 403 (Forbidden) response including warning text set to \"189 maximum number of allowed adhoc group participants exceeded\" in a Warning header field as specified in clause 4.4 and shall skip the rest of the steps;\n7)\tif the application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo users to be called exists in the incoming SIP INVITE request and the <call-participants-criteria> element with one or more criteria as a comma separated into <anyExt> element of <mcvideo-Params> element of <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body in the SIP INVITE request exists, shall send a SIP 403 (Forbidden) response including warning text set to \"187 can't determine the adhoc group participants\" in a Warning header field as specified in clause 4.4 and shall skip the rest of the steps;\n8)\tshall perform the actions as described in clause 6.3.3.2.2;\n9)\tshall maintain a local counter of the number of SIP 200 (OK) responses received from invited members and shall initialise this local counter to zero;\n10)\tshall create the adhoc group and generate the group identity to be associated with the adhoc group if the identity of adhoc group included in the <mcvideo-request-uri> element of the <mcvideo-Params> element of the <mcvideoinfo> element containing in an application/vnd.3gpp.mcvideo-info+xml MIME body received in the SIP INVITE request is not acceptable or not included;\n11)\tif originating MCVideo user has requested for end-to-end security by including the <end-to-end-security> element in the <anyExt> element of the <mcvideo-Params> element of the <mcvideoinfo> element containing in an application/vnd.3gpp.mcvideo-info+xml MIME body received in the SIP INVITE request with the value set to \"true\", shall determine the preconfigured group from which security related materials can be used by the adhoc group call participants to communicate securely in the adhoc group session;\n12)\tshall determine the members to invite to the adhoc group session:\na)\tif the application/resource-lists+xml MIME body with the MCVideo ID of the invited MCVideo users to be called exists in the incoming SIP INVITE request, shall consider the each entry of the MCVideo users to be invited to the adhoc group session; or\nb)\tif the application/vnd.3gpp.mcvideo-info+xml MIME body with the criteria for determining the list of MCVideo users to be called exists in the incoming SIP INVITE request included in the <call-participants-criteria> element of the <anyExt> element of <mcvideo-Params> element of <mcvideoinfo> element of the application/vnd.3gpp.mcvideo-info+xml MIME body, shall consider each of the MCVideo users meeting the specified criteria and also may be based on the local policy to be invited to the adhoc group session;\n13)\tshall create an adhoc group session and allocate an MCVideo session identity for the adhoc group call, and shall start timer TNG3 (group call timer) with the value obtained from the <max-duration-of-call> element of the <adhoc-group-call> element of the <anyExt> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]). When the last MCVideo client leaves the MCVideo session, shall stop timer TNG3 and on expiry of timer TNG3, shall release the MCVideo session;\n14)\tif the received SIP INVITE request contains an application/vnd.3gpp.mcvideo-location-info+xml MIME body with a <Report> element included in the <location-info> root element, the controlling MCVideo function can remember the location information contained in the <location-info> root element;\n15) shall invite each adhoc group member determined in step 15) above, to the adhoc group session, as specified in clause 22.4.2.1.1;\n16) shall consider all the invited members as implicitly affiliated to the adhoc group; and\n17) shall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3.\nUpon receiving a SIP 183 (Session Progress) response to the SIP INVITE request specified in clause 22.4.2.1.1 containing a P-Answer-State header field with the value \"Unconfirmed\" as specified in IETF RFC 4964 [30], the controlling MCVideo function supports media buffering and the SIP final response is not yet sent to the inviting MCVideo client:\n1)\tshall generate a SIP 200 (OK) response to SIP INVITE request as specified in the clause 6.3.3.2.3.2;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\n3)\tshall include a P-Answer-State header field with the value \"Unconfirmed\";\n4)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nNOTE 1:\tResulting user plane processing is completed before the next step is performed.\n5)\tshall include the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-calling-group-id> element set to the adhoc group identity as determined in this clause; and\nb)\tif end-to-end security is requested for the call, the <anyExt> element with the <preconfigured-group-id> element set to the preconfigured group identity as determined in this clause; and\n6)\tshall send the SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11].\nUpon receiving a SIP 200 (OK) response for the SIP INVITE request, and the SIP final response has not yet been sent to the inviting MCVideo client the controlling MCVideo function:\n1)\tshall generate a SIP 200 (OK) response to the SIP INVITE request as specified in the clause 6.3.3.2.3.2 before continuing with the rest of the steps;\n2)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\n3)\tshall interact with the media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nNOTE 2:\tResulting media plane processing is completed before the next step is performed.\n4)\tshall include the application/vnd.3gpp.mcvideo-info+xml MIME body with the <mcvideoinfo> element containing the <mcvideo-Params> element with:\na)\tthe <mcvideo-calling-group-id> element set to the adhoc group identity as determined in this clause; and\nb)\tif end-to-end security requested for the call, the <anyExt> element with the <preconfigured-group-id> element set to the preconfigured group identity as determined in this clause; and\n5)\tshall send a SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.4.3\tAdhoc group call release",
                            "text_content": "This clause describes the originating, and terminating call release controlling MCVideo function procedures.\nWhen the MCVideo session for group call needs to be released as specified in clause 6.3.8.1, the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.5 with the clarifications given below for the clause 6.3.8.1 that:\n1)\tthe condition \"minimum number of affiliated MCVideo group members is not present\" is not applicable;\nWhen an MCVideo client needs to be removed from the MCVideo session (e.g. user no longer meeting the criteria), the controlling MCVideo function shall follow the procedures in clause 6.3.3.1.5.\nUpon receiving a SIP BYE request the controlling MCVideo function shall follow the procedures as specified in clause 6.3.3.2.4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.4.4\tAdhoc group call rejoin",
                            "text_content": "This clause describes the originating, and terminating call rejoin controlling MCVideo function procedures.\nUpon receipt of a SIP INVITE request that includes an MCVideo session identity of an ongoing MCVideo session in the Request-URI the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15]. Otherwise, continue with the rest of the steps;\n2)\tshall reject the SIP request with a SIP 404 (Not Found) response if the MCVideo adhoc group call represented by the MCVideo session identity in Request-URI is not present;\n3)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not, reject the request with a SIP 488 (Not Acceptable Here) response. Otherwise, continue with the rest of the steps;\n4)\tshall reject the SIP request with a SIP 403 (Forbidden) response and not process the remaining steps if:\na)\tan Accept-Contact header field does not include the g.3gpp.mcvideomedia feature tag; or\nb)\tan Accept-Contact header field does not include the g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\";\n5)\tshall determine the MCVideo ID of the calling user;\n6)\tshall perform the actions on receipt of an initial SIP INVITE request as described in clause 6.3.3.2.2;\n7)\tif the user identified by the MCVideo ID is no longer meeting the criteria if the adhoc group participants are determined using criteria while establishing adhoc group call, shall return a SIP 403 (Forbidden) response with the warning text set to \"188 user is not allowed to participate in adhoc group call\" in a Warning header field as specified in clause 4.4;\n8)\tif the user identified by the MCVideo ID is not affiliated to the MCVideo adhoc group ID associated with the MCVideo session identity as specified in clause 6.3.6, shall return a SIP 403 (Forbidden) response with the warning text set to \"120 user is not affiliated to this group\" in a Warning header field as specified in clause 4.4;\n9)\tshall generate a SIP 200 (OK) response as specified in the clause 6.3.3.2.3.2;\n10)\tshall include in the SIP 200 (OK) response an SDP answer to the SDP offer in the incoming SIP INVITE request as specified in the clause 6.3.3.2.1;\n11)\tshall interact with media plane as specified in 3GPP TS 24.581 [5] clause 6.3;\nNOTE:\tResulting media plane processing is completed before the next step is performed.\n12)\tshall send the SIP 200 (OK) response towards the inviting MCVideo client according to 3GPP TS 24.229 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "22.4.5\tAdhoc group call participants modify",
                            "text_content": "This clause describes the terminating adhoc group call participants modify controlling MCVideo function procedures.\nIn the procedures in this clause:\n1)\tMCVideo ID in an incoming SIP re-INVITE request refers to the MCVideo ID of the originating user from the <mcvideo-calling-user-id> element of the application/vnd.3gpp.mcvideo-info+xml MIME body of the incoming SIP INVITE request;\n2)\tMCVideo ID in an incoming SIP re-INVITE request refers to the MCVideo ID of the MCVideo user to be invited to a call from the \"uri\" attribute with the \"method\" SIP URI parameter set to the value \"INVITE” of the <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body of the incoming SIP re-INVITE request; and\n3)\tMCVideo ID in an incoming SIP re-INVITE request refers to the MCVideo ID of the MCVideo user to be removed from a call from the \"uri\" attribute with the \"method\" SIP URI parameter set to the value \"BYE” of the <entry> element of a <list> element of the <resource-lists> element of the application/resource-lists+xml MIME body of the incoming SIP re-INVITE request.\nUpon receipt of a SIP re-INVITE request for an MCVideo session identifying an on-demand MCVideo adhoc group session, the controlling MCVideo function:\n1)\tif unable to process the request due to a lack of resources or a risk of congestion exists, may reject the SIP re-INVITE request with a SIP 500 (Server Internal Error) response. The controlling MCVideo function may include a Retry-After header field to the SIP 500 (Server Internal Error) response as specified in IETF RFC 3261 [15] and skip the rest of the steps;\n2)\tshall determine if the media parameters are acceptable and the MCVideo codecs are offered in the SDP offer and if not reject the request with a SIP 488 (Not Acceptable Here) response and skip the rest of the steps;\n3)\tif the originating user identified by the MCVideo ID is not authorised to modify the adhoc group session participants if the <allow-adhoc-group-call-modify> element of the <actions> element of a <rule> element of the <ruleset> element of the MCVideo user profile document identified by the MCVideo ID of the originating MCVideo user (see the MCVideo user profile document in 3GPP TS 24.484 [25]) is set to a value of \"false\", shall send a SIP 403 (Forbidden) response with the warning text set to: \"190 user is not authorised to initiate modify adhoc group call participants\" in a Warning header field as specified in clause 4.4 and skip the rest of the steps below;\n4)\tif the application/resource-lists+xml MIME body with the MCVideo ID of the MCVideo users to be invited to a call or the MCVideo ID of the MCVideo users to be removed from a call exists in the incoming SIP re-INVITE request, shall check if the number of existing call participants and newly inviting MCVideo users is within the configured limit as specified in the <max-no-participants> element of the <adhoc-group-call> element of the <anyExt> element contained in the <OnNetwork> element of the MCVideo service configuration document (see the service configuration document in 3GPP TS 24.484 [25]). If not within the configured limit, shall send a SIP 403 (Forbidden) response including warning text set to \"189 maximum number of allowed adhoc group participants exceeded\" in a Warning header field as specified in clause 4.4 and shall skip the rest of the steps;\n5)\tshall determine the members to invite to the adhoc group session or remove from the adhoc group session based on the local policy and:\na)\tif the application/resource-lists+xml MIME body with the MCVideo ID of the MCVideo users to be invited to a call exists in the incoming SIP re-INVITE request, shall consider each entry of the MCVideo users to be invited to the adhoc group session; or\nb)\tif the application/resource-lists+xml MIME body with the MCVideo ID of the MCVideo user to be removed from a call exists in the incoming SIP re-INVITE request, shall consider the each entry of the MCVideo users to be removed from the adhoc group session;\n6)\tif the determined members in step 6) above are to be invited to the adhoc group session, shall be invited to the adhoc group session, as specified in clause 22.4.2.1.1;\n7)\tif the determined members in step 6) above are to be removed from the adhoc group session, shall be removed from the adhoc group session, as specified in clause 22.4.3.1;\n8)\tshall consider all the invited members as implicitly affiliated to the adhoc group and remove the affiliation of the user who are removed from the adhoc group session;\n9)\tshall generate a SIP 200 (OK) response according to rules and procedures of 3GPP TS 24.229 [11];\n10)\tshall include in the SIP 200 (OK) response an SDP answer according to 3GPP TS 24.229 [11] with the clarifications specified in clause 6.3.3.2.1;\n11)\tshall include the \"norefersub\" option tag in a Supported header field according to IETF RFC 4488 [31];\n12)\tshall include the \"tdialog\" option tag in a Supported header field according to IETF RFC 4538 [32];\n13)\tshall include a P-Asserted-Identity header field in the outgoing SIP 200 (OK) response set to the public service identity of the controlling MCVideo function;\n14) shall include the following in the Contact header field:\na)\tthe g.3gpp.mcvideo media feature tag;\nb)\tthe g.3gpp.icsi-ref media feature tag containing the value of \"urn:urn-7:3gpp-service.ims.icsi.mcvideo\"; and\nc)\tthe isfocus media feature tag; and\n15)\tshall send the SIP 200 (OK) response towards the MCVideo client according to 3GPP TS 24.229 [11].\nNOTE:\tthe current version of this specification does not include example signalling flows.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "B.1\tGeneral",
            "description": "The following tables give a brief description of the timers used in the present document.\nFor the on-network timers described in the present document, the following timer families are used:\n-\tTNGx: Timer oN-network Group call x\nFor the off-network timers described in the present document, the following timer families are used:\n-\tTFGx:\tTimer oFf-network Group call x\n-\tTFPy:\tTimer oFf-network Private call y\n-\tTFBz:\tTimer oFf-network Broadcast group call z\nwhere x, y and z represent numbers.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.2\tOn-network timers",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.2.1\tTimers in the controlling MCVideo function",
                    "description": "",
                    "summary": "",
                    "text_content": "The table B.2.1-1 provides a description of the timers used by the controlling MCVideo function, specifies the timer values, describes the reason for starting of the timer, normal stop and the action on expiry.\nTable B.2.1-1: controlling MCVideo function timers\n\n",
                    "tables": [
                        {
                            "description": "Table B.2.1-1: controlling MCVideo function timers",
                            "table number": 62,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "B.3\tOff-network timers",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.3.1\tTimers in off-network group call",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.1.1\tBasic call control",
                            "text_content": "The table B.3.1.1-1 lists the timers used in basic call control, their start values, their limits, describes the cause of the start, and the action to take on normal stop and on expiry.\nTable B.3.1.1-1: Timers in basic call control\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table B.3.1.1-1: Timers in basic call control",
                                    "table number": 63,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "B.3.1.2\tCall type control",
                            "text_content": "The table B.3.1.2-1 lists the timers used in call type control, their star values, describes the cause of start, and the action to take on normal stop and on expiry.\nTable B.3.1.2-1: Call type control\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table B.3.1.2-1: Call type control",
                                    "table number": 64,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "B.3.2\tTimers in off-network private call",
                    "description": "",
                    "summary": "",
                    "text_content": "The table B.3.2-1 lists the timers used in off-network private call, their start values, their limits, describes the cause of start, and the action to take on normal stop and on expiry.\nTable B.3.2-1: Timers in off-network private call\n\n",
                    "tables": [
                        {
                            "description": "Table B.3.2-1: Timers in off-network private call",
                            "table number": 65,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "B.3.3\tTimers in off-network broadcast call",
                    "description": "",
                    "summary": "",
                    "text_content": "The table B.3.3-1 lists the timers used in off-network broadcast call, their start values, their limits, describes the cause of start, and the action to take on normal stop and on expiry.\nTable B.3.3-1: Timers in off-network broadcast call\n\n",
                    "tables": [
                        {
                            "description": "Table B.3.3-1: Timers in off-network broadcast call",
                            "table number": 66,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "B.3.4\tTimers in off-network emergency alert",
                    "description": "",
                    "summary": "",
                    "text_content": "The table B.3.4-1 lists the timers used in off-network emergency alert, their start values, their limits, describes the cause of start, and the action to take on normal stop and on expiry.\nTable B.3.4-1: Timers in off-network emergency alert\n\n",
                    "tables": [
                        {
                            "description": "Table B.3.4-1: Timers in off-network emergency alert",
                            "table number": 67,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "C.1\tGeneral",
            "description": "The following tables give a brief description of the counters used in the present document.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.2\tOff-network counters",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "C.2.1\tCounters in off-network group call",
                    "description": "",
                    "summary": "",
                    "text_content": "The table C.2.1-1 lists the counters used in off-network group call, their default upper limits and the action to take upon reaching the upper limit. The counters start at 1.\nTable C.2.1-1: Counters in off-network group call\n\n",
                    "tables": [
                        {
                            "description": "Table C.2.1-1: Counters in off-network group call",
                            "table number": 68,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "C.2.2\tCounters in off-network private call",
                    "description": "",
                    "summary": "",
                    "text_content": "The table C.2.2-1 lists the counters used in off-network private call, their default upper limits and the action to take upon reaching the upper limit. The counters start at 1.\nTable C.2.2-1: Counters in off-network private call\n\n",
                    "tables": [
                        {
                            "description": "Table C.2.2-1: Counters in off-network private call",
                            "table number": 69,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "D.1\tGeneral",
            "description": "This clause describes the media feature tag definitions that are applicable for the 3GPP IM CN Subsystem for the realisation of the Mission Critical Video (MCVideo) service.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "D.2\tDefinition of media feature tag g.3gpp.mcvideo",
            "description": "Media feature tag name: g.3gpp.mcvideo\nASN.1 Identifier: 1.3.6.1.8.2.31\nSummary of the media feature indicated by this media feature tag: This media feature tag when used in a SIP request or a SIP response indicates that the function sending the SIP message supports Mission Critical Video (MCVideo) communication.\nValues appropriate for use with this media feature tag: Boolean\nThe media feature tag is intended primarily for use in the following applications, protocols, services, or negotiation mechanisms: This media feature tag is most useful in a communications application, for describing the capabilities of a device, such as a phone or PDA.\nExamples of typical use: Indicating that a mobile phone supports the Mission Critical Video (MCVideo) communication.\nRelated standards or documents: 3GPP TS 24.281: \"Mission Critical Video (MCVideo) signalling control; Protocol specification\"\nSecurity Considerations: Security considerations for this media feature tag are discussed in clause 11.1 of IETF RFC 3840 [22].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "D.3\tDefinition of feature-capability indicator g.3gpp.mcvideo.ambient-viewing-call-release",
            "description": "Feature-capability indicator name: g.3gpp.mcvideo.ambient-viewing-call-release\nSummary of the feature indicated by this feature-capability indicator:\nThis feature-capability indicator when included in a Feature-Caps header field as specified in IETF RFC 6809 [63] in a SIP INVITE request or a SIP 200 (OK) response to a SIP INVITE request indicates that the MCVideo server is capable of receiving a SIP BYE from an MCVideo client to release an ambient-viewing call.\nFeature-capability indicator specification reference:\n3GPP TS 24.281, http://www.3gpp.org/ftp/Specs/archive/24_series/24.281/\nValues appropriate for use with this feature-capability indicator: None\nExamples of typical use: Indicating that the MCVideo server can support receiving a SIP BYE from an MCVideo client to release an ambient viewing call.\nSecurity Considerations: Security considerations for this feature-capability indicator are discussed in clause 9 of IETF RFC 6809 [63].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "E.1\tGeneral",
            "description": "This clause describes the IMS communications service identifier definitions that are applicable for the 3GPP IM CN subsystem for the realisation of the Mission Critical Video (MCVideo) service.\nNOTE:\tThe template has been created using the headers of the table in http://www.3gpp.org/specifications-groups/34-uniform-resource-name-urn-list\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "E.2\tDefinition of ICSI value for MCVideo service",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "E.2.1\tURN",
                    "description": "",
                    "summary": "",
                    "text_content": "urn:urn-7:3gpp-service.ims.icsi.mcvideo\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "E.2.2\tDescription",
                    "description": "",
                    "summary": "",
                    "text_content": "This URN indicates that the device has the capabilities to support the mission critical video (MCVideo) service.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "E.2.3\tReference",
                    "description": "",
                    "summary": "",
                    "text_content": "3GPP TS 24.281: \"Mission Critical Video (MCVideo) call control Protocol specification\"\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "E.2.3\tContact",
                    "description": "",
                    "summary": "",
                    "text_content": "Name:\t<MCC name>\nEmail:\t<MCC email address>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "E.2.4\tRegistration of subtype",
                    "description": "",
                    "summary": "",
                    "text_content": "Yes\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "E.2.5\tRemarks",
                    "description": "",
                    "summary": "",
                    "text_content": "None\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "F.1\tXML schema for MCVideo Information",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "F.1.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines XML schema and MIME type for MCVideo information.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.1.2\tXML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\ntargetNamespace=\"urn:3gpp:ns:mcvideoInfo:1.0\"\nxmlns:mcvideoinfo=\"urn:3gpp:ns:mcvideoInfo:1.0\"\nelementFormDefault=\"qualified\"\nattributeFormDefault=\"unqualified\"\nxmlns:xenc=\"\"\nxmlns:mvgktp=\"urn:3gpp:ns:mcvideoGKTP:1.0\">\n\n<xs:import namespace=\"http://www.w3.org/2001/04/xmlenc#\"/>\n<xs:import namespace=\"urn:3gpp:ns:mcvideoGKTP:1.0\"/>\n\n<!-- root XML element -->\n<xs:element name=\"mcvideoinfo\" type=\"mcvideoinfo:mcvideoinfo-Type\" id=\"info\"/>\n\n<xs:complexType name=\"mcvideoinfo-Type\">\n<xs:sequence>\n<xs:element name=\"mcvideo-Params\" type=\"mcvideoinfo:mcvideo-ParamsType\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoinfo:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n\n<xs:complexType name=\"mcvideo-ParamsType\">\n<xs:sequence>\n<xs:element name=\"mcvideo-access-token\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"session-type\" type=\"xs:string\" minOccurs=\"0\"/>\n<xs:element name=\"mcvideo-request-uri\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"mcvideo-calling-user-id\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"mcvideo-called-party-id\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"mcvideo-calling-group-id\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"required\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"emergency-ind\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"alert-ind\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"imminentperil-ind\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"broadcast-ind\" type=\"xs:boolean\" minOccurs=\"0\"/>\n<xs:element name=\"mc-org\" type=\"xs:string\" minOccurs=\"0\"/>\n<xs:element name=\"associated-group-id\" type=\"xs:string\" minOccurs=\"0\"/>\n<xs:element name=\"originated-by\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"MKFC-GKTPs\" type=\"mvgktp:singleTypeGKTPsType\" minOccurs=\"0\"/>\n<xs:element name=\"mcvideo-client-id\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"alert-ind-rcvd\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"multiple-devices-ind\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"video-pull-url\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:element name=\"partner-mcvideo-id\" type=\"mcvideoinfo:contentType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoinfo:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<!--    anyExt elements for MCVideo-Params-->\n<xs:element name=\"release-reason\" type=\"mcvideoinfo:releaseReasonType\"/>\n<xs:simpleType name=\"releaseReasonType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"private-call-expiry\"/>\n<xs:enumeration value=\"administrator-action\"/>\n<xs:enumeration value=\"not selected for call\"/>\n<xs:enumeration value=\"call-request-for-viewed-to-client\"/>\n<xs:enumeration value=\"call-request-initiated-by-viewed-to-client\"/>\n<xs:enumeration value=\"authentication of the MIKEY-SAKE I_MESSAGE failed\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:element name=\"request-type\" type=\"mcvideoinfo:requestTypeType\"/>\n<xs:simpleType name=\"requestTypeType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"group-selection-change-request\"/>\n<xs:enumeration value=\"fa-group-binding-req\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:element name=\"response-type\" type=\"mcvideoinfo:responseTypeType\"/>\n<xs:simpleType name=\"responseTypeType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"group-selection-change-response\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:element name=\"selected-group-change-outcome\" type=\"mcvideoinfo:selectedGroupChangeOutcomeType\"/>\n<xs:simpleType name=\"selectedGroupChangeOutcomeType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"success\"/>\n<xs:enumeration value=\"fail\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:element name=\"affiliation-required\" type=\"xs:boolean\"/>\n\n<xs:element name=\"ambient-viewing-type\" type=\"mcvideoinfo:ambientViewingType\"/>\n<xs:simpleType name=\"ambientViewingType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"remote-init\"/>\n<xs:enumeration value=\"local-init\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:element name=\"video-push-url\" type=\"xs:anyURI\"/>\n\n<xs:element name=\"functional-alias-URI\" type=\"mcvideoinfo:contentType\"/>\n\n<xs:element name=\"user-requested-priority\" type=\"xs:nonNegativeInteger\"/>\n\n\n<xs:element name=\"emergency-alert-area-ind\" type=\"xs:boolean\"/>\n\n<xs:element name=\"call-to-functional-alias-ind\" type=\"xs:boolean\"/>\n\n<xs:element name=\"group-geo-area-ind\" type=\"xs:boolean\"/>\n<xs:element name=\"binding-ind\" type=\"xs:boolean\"/>\n<xs:element name=\"binding-fa-uri\" type=\"xs:anyURI\"/>\n<xs:element name=\"unbinding-fa-uri\" type=\"xs:anyURI\"/>\n<xs:element name=\"adhoc-grp-emg-alert-grp-ind\" type=\"xs:boolean\"/>\n\n<xs:element name=\"end-to-end-security\" type=\"xs:boolean\"/>\n<xs:element name=\"call-participants-criteria\" type=\"xs:string\"/>\n<xs:element name=\"preconfigured-group-id\" type=\"xs:anyURI\"/>\n\n<xs:simpleType name=\"protectionType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"Normal\"/>\n<xs:enumeration value=\"Encrypted\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:complexType name=\"contentType\">\n<xs:choice>\n<xs:element name=\"mcvideoURI\" type=\"xs:anyURI\"/>\n<xs:element name=\"mcvideoString\" type=\"xs:string\"/>\n<xs:element name=\"mcvideoBoolean\" type=\"xs:boolean\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoinfo:anyExtType\" minOccurs=\"0\"/>\n</xs:choice>\n<xs:attribute name=\"type\" type=\"mcvideoinfo:protectionType\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"anyExtType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.1.3\tSemantic",
                    "description": "",
                    "summary": "",
                    "text_content": "The <mcvideoinfo> element is the root element of the XML document. The <mcvideoinfo> element can contain subelements.\nNOTE 1:\tThe subelements of the <mcvideo-info> are validated by the <xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/> particle of the <mcvideo-info> element.\nIf the <mcvideoinfo> contains the <mcvideo-Params> element then:\n1)\tthe <mcvideo-access-token>, <mcvideo-request-uri>, <mcvideo-calling-user-id>, <mcvideo-called-party-id>, <mcvideo-calling-group-id>, <emergency-ind>, <alert-ind>, <imminentperil-ind>, <originated-by> and <mcvideo-client-id>, <functional-alias-URI> , <multiple-devices-ind> , and <partner-mcvideo-id> elements can be included with encrypted content;\n2)\tfor each element in 1) that is included with content that is not encrypted:\na)\tthe element has the \"type\" attribute set to \"Normal\";\nb)\tif the element is the <mcvideo-request-uri>, <mcvideo-calling-user-id>, <mcvideo-called-party-id> or <mcvideo-calling-group-id>, <originated-by>, <functional-alias-URI>, and <partner-mcvideo-id> then the <mcvideoURI> element is included;\nc)\tif the element is <mcvideo-access-token> or <mcvideo-client-id>, then the <mcvideoString> element is included; and\nd)\tif the element is <emergency-ind>, <alert-ind>, <imminentperil-ind> or <multiple-devices-ind> then the <mcvideoBoolean> element is included; and\n3)\tfor each element in 1) that is included with content that is encrypted:\na)\tthe element has the \"type\" attribute set to \"Encrypted\";\nb)\tthe <xenc:EncryptedData> element from the \"\" namespace is included and:\ni)\tcan have a \"Type\" attribute can be included with a value of \"\";\nii)\tcan include an <EncryptionMethod> element with the \"Algorithm\" attribute set to value of \"http://www.w3.org/2009/xmlenc11#aes128-gcm\";\niii)\tcan include a <KeyInfo> element with a <KeyName> element containing the base 64 encoded XPK-ID; and\niv)\tincludes a <CipherData> element with a <CipherValue> element containing the encrypted data.\nNOTE 2:\tWhen the optional attributes and elements are not included within the <xenc:EncryptedData> element, the information they contain is known to sender and the receiver by other means.\nIf the <mcvideoinfo> contains the <mcvideo-Params> element then:\n1)\tthe <mcvideo-access-token> element can be included with the access token received during authentication procedure as described in 3GPP TS 24.482 [52];\n2)\tthe <session-type> element can be included and set to:\na)\t\"chat\" to indicate that the MCVideo client wants to join a chat group call;\nb)\t\"prearranged\" to indicate the MCVideo client wants to make a prearranged group call;\nc)\t\"private\" to indicate the MCVideo client wants to make a private call;\nd)\t\"ambient-viewing\" to indicate the MCVideo client wants to make an ambient viewing call;\ne)\t\"pull-from-server\" to indicate the MCVideo client wants to pull video file from MCVideo server;\nf)\t\"pull-from-user\" to indicate the MCVideo client wants to to pull video media from another MCVideo client;\ng)\t\"push-to-server\" to indicate the MCVideo client wants to push video media to MCVideo server, save as a file;\nh)\t\"one-to-one video push\" to indicate the MCVideo client wants to push video media to another MCVideo client;\ni)\t\"one-to-server video push\" to indicate the MCVideo client wants to push video media to a MCVideogroup; or\nj)\ta value of \"adhoc\" to indicate the MCVideo client wants to make an adhoc group call;\n3)\tthe <mcvideo-request-uri> element can be included with:\na)\tthe value set to an MCVideo group ID or temporary MCVideo group ID when the <session-type> element is set to a value of \"prearranged\" or \"chat\";\nb)\tthe value set to the MCVideo ID of the called MCVideo user when the <session-type> element is set to a value of \"private\"; and\nc)\ta value set to the MCVideo ID of the called MCVideo user or MCVideo group ID of adhoc group when the <session-type> is set to a value of \"adhoc\";\n4)\tthe <mcvideo-calling-user-id> element can be included, set to the MCVideo ID of the originating user;\n5)\tthe <mcvideo-called-party-id> element can be included, set to the MCVideo ID of the terminating user;\n6)\tthe <mcvideo-calling-group-id> element can be included to indicate the MCVideo group identity or MCVideo adhoc group identity to the terminating user;\n7)\tthe <required> element can be included in a SIP 183 (Session Progress) from a non-controlling MCVideo function of an MCVideo group to inform the controlling MCVideo function that the group on the non-controlling MCVideo function has group members in the group document which are marked as <on-network-required>, as specified in 3GPP TS 24.481 [24];\n8)\tthe <emergency-ind> element can be set to:\na)\t\"true\" to indicate that the call that the MCVideo client is initiating is an emergency MCVideo call; or\nb)\t\"false\" to indicate that the MCVideo client is cancelling an emergency MCVideo call (i.e. converting it back to a non-emergency call);\n9)\tthe <alert-ind> element can be set to:\na)\t\"true\" in an emergency call initiation to indicate that an alert to be sent; or\nb)\t\"false\" when cancelling an emergency call which requires an alert to be cancelled also;\n10)\tif the <session-type> element is set to \"chat\" or \"prearranged\":\na)\tthe <imminentperil-ind> element can be set to \"true\" to indicate that the call that the MCVideo client is initiating is an imminent peril group MCVideo call;\n11)\tthe <broadcast-ind> element can be set to:\na)\t\"true\" indicates that the MCVideo client is initiating a broadcast group call; or\nb)\t\"false\" indicates that the MCVideo client is initiating a non-broadcast group call;\n12)\tthe <mc-org> element can be:\na)\tset to the MCVideo user's Mission Critical Organization in an emergency alert sent by the MCVideo server to terminating MCVideo clients;\n13)\tVoid;\n14)\tthe <associated-group-id> element:\na)\tif the <mcvideo-request-uri> element contains a group identity then this element can include an MCVideo group ID associated with the group identity in the <mcvideo-request-uri> element. E.g. if the <mcvideo-request-uri> element contains a temporary group identity (TGI), then the <associated-group-id> element can contain the constituent MCVideo group ID;\n15)\tthe <originated-by> element:\na)\tcan be included, set to the MCVideo ID of the originating user of an MCVideo emergency alert when being cancelled by another authorised MCVideo user;\n16)\tthe <MKFC-GKTPs> element:\na)\tcontains a group key transport payload carrying one or more MKFC(s) and MKFC-ID(s) as described in3GPP TS 24.481 [24] clause 7.4, to be used for protection of multicast transmission control signalling when the UE operates on the network;\nNOTE 3:\tA GMS (Group Management Server) compliant to Release 14 of the present document does not send a group key transport payload carrying MKFC and MKFC-ID. A GMC (Group Management Client) can receive MKFC and MKFC-ID from a GMS compliant only to Release 13 of the present document.\n17)\tthe <mcvideo-client-id> element:\na)\tcan be included, set to the MCVideo client ID of the MCVideo client that originated a SIP INVITE request, SIP REFER request, SIP REGISTER request, SIP PUBLISH request or SIP MESSAGE request;\n18)\tthe <alert-ind-rcvd> element:\na)\tcan be set to true and included in a SIP MESSAGE to indicate that the emergency alert or cancellation was received successfully;\n18a)\tthe <multiple-devices-ind> element set to:\na)\t\"true\" to indicate to the client that multiple clients are registered for the MCVideo user; or\nb)\t\"false\" to indicate to the client that no other clients are registered for the MCVideo user;\n18b)\tthe <video-pull-url> element:\na)\tcan be set to the URL of the video file located in the MCVideo server;\n18c)\tthe <partner-mcvideo-id> can be included and set to the MCVideo ID of a migrating user in the partner MCVideo system; and\n19)\tthe <anyExt> can be included with the following elements:\na)\ta <release-reason> element set to:\ni)\t\"authentication of the MIKEY-SAKE I_MESSAGE failed\" by a MCVideo client when the signature cannot be verified;\nii)\t\"private-call-expiry\" when the ambient viewing call is release due to the expiry of the private call timer;\niii)\t\"administrator-action\" when the ambient viewing call is released by an MCVideo administrator;\niv)\t\"call-request-for-viewed-to-client\" when there is a call request targeted to the viewed-to client; or\nv)\t\"call-request-initiated-by-viewed-to-client\" when there is a call request initiated by the viewed-to client;\nb)\ta <request-type> element set to:\ni)\t\"group-selection-change-request\" when a client initiates a group selection change request;\nii)\t\"functional-alias-status-determination\" when a client initiates a subscription to FA status request; or\niii)\t\"fa-group-binding-req\" when a client initiates a request for binding of a functional alias with the MCVideo group(s) for the MCVideo user;\nc)\ta <response-type> element set to:\ni)\t\"group-selection-change-response\" when a client responds to a group selection change request;\nd)\ta <selected-group-change-outcome> element set to:\ni)\t\"success\" when a client reports that it has successfully changed its selected group as requested by a received group selection change request; or\nii)\t\"fail\" when a client reports that it has failed to change its selected group as requested by a received group selection change request;\ne)\tan<affiliation-required> element set to:\ni)\t\"true\" when received by a client in a group-selection-change-request indicates that the client needs to affiliate to the specified group;\nf)\tan <ambient-viewing-type> element set to:\ni)\t\"remote-init\" when the viewing MCVideo user of an ambient viewing call initiates the call; or\nii)\t\"local-init\" when the viewed-to MCVideo user of an ambient viewing call initiates the call;\ng)\tan <video-push-url> element:\ni)\tset to the URL of the video file located in the MCVideo server; and\nh)\ta <functional-alias-URI> element set to the value of the functional alias that is used together with the \"mcvideo-calling-user-id\";\ni)\tan <emergency-alert-area-ind> element set to:\ni)\t\"true\" when the MCVideo client has entered an emergency alert area; or\nii)\t\"false\" when the MCVideo client has exited an emergency alert area;\nj)\ta <group-geo-area-ind> element set to:\ni)\t\"true\" when the MCVideo client has entered a group geographic area; or\nii)\t\"false\" when the MCVideo client has exited a group geographic area;\nk)\ta <binding-ind> element set to:\ni)\t\"true\" when the user wants to create a binding of a particular functional alias with the specified list of MCVideo groups for the MCVideo client; or\nii)\t\"false\" when the user wants to remove a binding of a particular functional alias from the specified list of MCVideo groups for the MCVideo client;\nl)\ta <binding-fa-uri> element set to:\ni)\ta URI of a functional alias that shall be bound with the specified list of MCVideo groups for the MCVideo client;\nm)\ta <unbinding-fa-uri> element set to:\ni)\ta URI of a functional alias that shall be unbound from the specified list of MCVideo groups for the MCVideo client;\nn)\ta <call-to-functional-alias-ind> element set to:\ni)\t\"true\" when the MCVideo client is using a functional alias to identify the MCVideo IDs of the potential target MCVideo users; or\nii)\t\"false\" when the MCVideo client is using MCVideo IDs to identify the potential target MCVideo users; and\no)\ta <user-requested-priority> element set to the non-negative integer value requested by the user as priority.\np)\ta<end-to-end-security> element set to:\ni)\t\"true\" to indicate that end to end security is requested by the initiating user, which instructs the controlling function to determine the preconfigured group from which security related informations are used for securing the adhoc group call; or\nii)\t\"false\" to indicate that end to end security is not requested by the initiating user, which instructs the controlling function not to determine the preconfigured group from which security related informations are used for securing the adhoc group call;\nq)\ta <call-participants-criteria> element set to the criteria for determining the list of MCVideo users to be called in adhoc group call. The comma (,) is used as a delimiter between the criteria;\nr)\ta <preconfigured-group-id> element set to the preconfigured group identity of the preconfigured group from which security related materials can be used by the adhoc group call participants to communicate securely in the adhoc group session; and\ns)\ta <adhoc-grp-emg-alert-grp-ind> element set to:\ni)\t\"true\" to indicate that the identity of adhoc group used in the adhoc group call setup request is learned during an adhoc group emergency alert procedures.\nAbsence of the <emergency-ind>, <alert-ind> and <imminentperil-ind> elements in a SIP INVITE request indicates that the MCVideo client is initiating a non-emergency private call or non-emergency group call.\nAbsence of the <broadcast-ind> element in a SIP INVITE request indicates that the MCVideo client is initiating a non-broadcast group call.\nAbsence of the <call-to-functional-alias-ind> in a SIP INVITE or a SIP REFER request for a first-to-answer call indicates the use of the MCVideo IDs of the potential target MCVideo users.\nThe recipient of the XML ignores any unknown element and any unknown attribute.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.1.4\tIANA registration template",
                    "description": "",
                    "summary": "",
                    "text_content": "Your Name:\n<MCC name>\nYour Email Address:\n<MCC email address>\nMedia Type Name:\nApplication\nSubtype name:\nvnd.3gpp.mcvideo-info+xml\nRequired parameters:\nNone\nOptional parameters:\n\"charset\"\tthe parameter has identical semantics to the charset parameter of the \"application/xml\" media type as specified in section 9.1 of IETF RFC 7303.\nEncoding considerations:\nbinary.\nSecurity considerations:\nSame as general security considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. In addition, this media type provides a format for exchanging information in SIP, so the security considerations from IETF RFC 3261 apply.\nThe information transported in this media type does not include active or executable content.\nMechanisms for privacy and integrity protection of protocol parameters exist. Those mechanisms as well as authentication and further security mechanisms are described in 3GPP TS 24.229.\nThis media type does not include provisions for directives that institute actions on a recipient's files or other resources.\nThis media type does not include provisions for directives that institute actions that, while not directly harmful to the recipient, may result in disclosure of information that either facilitates a subsequent attack or else violates a recipient's privacy in any way.\nThis media type does not employ compression.\nInteroperability considerations:\nSame as general interoperability considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any unknown XML attributes are to be ignored by recipient of the MIME body.\nPublished specification:\n3GPP TS 24.281 \"Mission Critical Video (MCVideo) signalling control\" version 14.0.0, available via http://www.3gpp.org/specs/numbering.htm.\nApplications which use this media type:\nApplications supporting the service continuity as described in the published specification.\nFragment identifier considerations:\nThe handling in section 5 of IETF RFC 7303 applies.\nRestrictions on usage:\nNone\nProvisional registration? (standards tree only):\nN/A\nAdditional information:\n1.\tDeprecated alias names for this type: none\n2.\tMagic number(s): none\n3.\tFile extension(s): none\n4.\tMacintosh File Type Code(s): none\n5.\tObject Identifier(s) or OID(s): none\nIntended usage:\nCommon\nPerson to contact for further information:\n-\tName: <MCC name>\n-\tEmail: <MCC email address>\n-\tAuthor/Change controller:\ni)\tAuthor: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1@LIST.ETSI.ORG\nii)\tChange controller: <MCC name>/<MCC email address>\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "F.2\tXML schema for MBMS usage information",
            "description": "\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "F.2.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines XML schema and MIME type for application/vnd.3gpp.mcvideo-mbms-usage-info+xml.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.2.2\tXML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\"\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\ntargetNamespace=\"urn:3gpp:ns:mcvideoMbmsUsage:1.0\"\nxmlns:mcvidmbms=\"urn:3gpp:ns:mcvideoMbmsUsage:1.0\">\n<!-- the root element -->\n<xs:element name=\"mcvideo-mbms-usage-info\" type=\"mcvidmbms:mcvideo-mbms-usage-info-Type\" id=\"mbms\"/>\n<xs:complexType name=\"mcvideo-mbms-usage-info-Type\">\n<xs:sequence>\n<xs:element name=\"mbms-listening-status\" type=\"mcvidmbms:mbms-listening-statusType\" \n\tminOccurs=\"0\"/>\n<xs:element name=\"mbms-suspension-status\" type=\"mcvidmbms:mbms-suspension-statusType\" \n\tminOccurs=\"0\"/>\n<xs:element name=\"announcement\" type=\"mcvidmbms:announcementTypeParams\" minOccurs=\"0\"/>\n<xs:element name=\"version\" type=\"xs:integer\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvidmbms:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"mbms-listening-statusType\">\n<xs:sequence>\n<xs:element name=\"mbms-listening-status\" type=\"xs:string\"/>\n<xs:element name=\"session-id\" type=\"xs:anyURI\" minOccurs=\"0\"/>\n<xs:element name=\"general-purpose\" type=\"xs:boolean\" minOccurs=\"0\"/>\n<xs:element name=\"TMGI\" type=\"xs:hexBinary\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvidmbms:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"mbms-suspension-statusType\">\n<xs:sequence>\n<xs:element name=\"mbms-suspension-status\" type=\"xs:string\" minOccurs=\"0\" maxOccurs=\"1\"/>\n<xs:element name=\"number-of-reported-bearers\" type=\"xs:integer\" minOccurs=\"0\" maxOccurs=\"1\"/>\n<xs:element name=\"suspended-TMGI\" type=\"xs:hexBinary\" minOccurs=\"0\"/>\n<xs:element name=\"other-TMGI\" type=\"xs:hexBinary\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvidmbms:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"announcementTypeParams\">\n<xs:sequence>\n<xs:element name=\"TMGI\" type=\"xs:hexBinary\" minOccurs=\"1\"/>\n<xs:element name=\"QCI\" type=\"xs:integer\" minOccurs=\"0\"/>\n<xs:element name=\"frequency\" type=\"xs:unsignedLong\" minOccurs=\"0\"/>\n<xs:element name=\"mbms-service-areas\" type=\"mcvidmbms:mbms-service-areasType\"  minOccurs=\"0\"/>\n<xs:element name=\"GPMS\" type=\"xs:positiveInteger\" minOccurs=\"0\"/>\n<xs:element name=\"report-suspension\" type=\"xs:boolean\" minOccurs=\"0\" maxOccurs=\"1\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvidmbms:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<!-- anyEXT elements for the announcement element – begin -->\n<xs:element name=\"mcvid-mbms-rohc\" type=\"mcvidmbms:emptyType\"/>\n<!-- empty complex type -->\n<xs:complexType name=\"emptyType\"/>\n<xs:element name=\"max-cid\" type=\"mcvidmbms:max-cidType\"/>\n<xs:simpleType name=\"max-cidType\">\n<xs:restriction base=\"xs:integer\">\n<xs:minInclusive value=\"1\"/>\n<xs:maxInclusive value=\"16383\"/>\n</xs:restriction>\n</xs:simpleType>\n<!-- anyEXT elements for the announcement element – end -->\n\n<xs:complexType name=\"mbms-service-areasType\">\n<xs:sequence>\n<xs:element name=\"mbms-service-area-id\" type=\"xs:hexBinary\"\n\tminOccurs=\"1\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvidmbms:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute/>\n</xs:complexType>\n\n<xs:complexType name=\"anyExtType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n<!-- anyEXT element for the mcvideo-mbms-usage-info element – begin -->\n<xs:element name=\"mbms-defaultMuSiK-download\" type=\"mcvidmbms:mbms-default-ctrlkey-downloadType\"/>\n<xs:complexType name=\"mbms-default-ctrlkey-downloadType\">\n<xs:sequence>\n<xs:element type=\"xs:anyURI\" name=\"group\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvidmbms:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:element name=\"mbms-explicitMuSiK-download\" type=\"mcvidmbms:mbms-explicit-ctrlkey-downloadType\"/>\n<xs:complexType name=\"mbms-explicit-ctrlkey-downloadType\">\n<xs:sequence>\n<xs:element type=\"xs:anyURI\" name=\"group\" minOccurs=\"1\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvidmbms:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<!-- anyEXT element for the mcvideo-mbms-usage-info element – end -->\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.2.3\tSemantic",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the elements of the MBMS usage information XML Schema.\n<mbms-listening-status>:\tThe <mbms-listening-status> element is used to indicate the MCVideo listening status.\n-\tThe value \"listening\" indicates that the MCVideo client now is receiving RTP media packets and transmission control messages over the MBMS subchannel in the session identified by the <session-id> element or if the <general-purpose> element is set to \"true\", that the MCVideo client is now listening to the general purpose MBMS subchannel.\n-\tThe value \"not-listening\" indicates that the MCVideo client has stopped listening to the MBMS subchannel in the session identified by the <session-id> element or, if the <general-purpose> element is set to \"false\", that the MCVideo client no longer listens to the general purpose MBMS subchannel.\nTable F.2.3-1 shows the ABNF of the <mbms-listening-status> element.\nTable F.2.3-1: ABNF syntax of values of the <mbms-listening-status> element\nmbms-listening-status = listening-value / not-listening-value\nlistening-value = %x6c.69.73.74.65.6e.69.6e.67 ; \"listening\"\nnot-listening-value = %x6e.6f.74.2d.6c.69.73.74.65.6e.69.6e.67 ; \"not-listening\"\n\n<session-id>:\tcontains the value of the URI received in the Contact header field received from the controlling MCVideo function when an on-demand session was established, or from the participating MCVideo function in the Connect message when the session was established over a pre-established session. This element is mandatory if the <general-purpose> element is not present in the application/vnd.3gpp.mcvideo-mbms-usage-info+xml MIME body.\n<TMGI>:\tContains the TMGI. The <TMGI> element is coded as described in 3GPP TS 24.008 [68] clause 10.5.6.13 excluding the Temporary Mobile Group Identity IEI and Length of Temporary Mobile Group Identity contents (octet 1 and octet 2 in 3GPP TS 24.008 [68] clause 10.5.6.13).\n<QCI>:\tQCI information used by the ProSe UE-Network Relay to determine the ProSe Per-Packet Priority value to be applied for the multicast packets relayed to Remote UE over PC5. QCI values are defined in 3GPP TS 23.203 [69].\n<mbms-service-areas>:\tA list of MBMS service area IDs for the applicable MBMS broadcast area as specified in 3GPP TS 23.003 [47] for Service Area Identifier (SAI), and with the encoding as specified in 3GPP TS 29.061 [70] for the MBMS-Service-Area AVP.\n<Frequency>:\tIdentification of frequency in case of multi carrier support. The <Frequency> element is coded as specified in 3GPP TS 29.468 [44].\n<SDP-ref>:\tA URL with a cid url as specified in IETF RFC 5368 [71] referring to an SDP MIME body in the SIP MESSAGE request.\n<general-purpose>\tTrue indicates that the MCVideo client is listening to the general purpose MBMS subchannel associated to the TMGI(s) in the <TMGI> element(s) but have not yet received a Map Group To bearer message for any session that the MCVideo client is involved in. False indicates that the MCVideo client is not listening to the general purpose MBMS subchannel any longer. Absence of the element requires that the <session-id> element is present in the application/vnd.3gpp.mcvideo-mbms-usage-info+xml.\n<GPMS>\tA positive integer that gives the number of the media line containing the general purpose MBMS subchannel in the application/sdp MIME body attached to the SIP MESSAGE request containing the MBMS announcements.\n<version>\tthis element indicates the version of the application/vnd.3gpp.mbms-usage-info MIME body. In this version the <version element> indicates \"1\".\n<report-suspension>:\tTrue indicates that the MCVideo client is instructed to notify the MCVideo server when it becomes aware of an intended change in the suspension status of a listened MBMS bearer. False indicates that the MCVideo client is instructed not to notify the MCVideo server if it becomes aware of an intended change in the suspension status of a listened MBMS bearer.\n<mbms-suspension-status>:\tThe <mbms-suspension-status> element is used to indicate the MBMS bearers intended suspension status.\n-\tThe value \"suspending\" indicates that the RAN has decided to suspend the referenced MBMS bearer(s) at the beginning of the next MCCH modification period.\n-\tThe value \"not-suspending\" indicates that the RAN has decided to revoke its decision to suspend the referenced MBMS bearer(s) before the beginning of the next MCCH modification period.\nTable F.2.3-2 shows the ABNF of the <mbms-suspension-status> element.\nTable F.2.3-2: ABNF syntax of values of the <mbms-suspension-status> element\nmbms-suspension-status = suspending-value / not-suspending-value\nsuspending-value = %x73.75.73.70.65.6e.64.69.6e.67 ; \"suspending\"\nnot-suspending-value = %x6e.6f.74.2d.73.75.73.70.65.6e.64.69.6e.67 ; \"not-suspending\"\n\n<number-of-reported-bearers>:\tthe total number of occurrences of the <suspended-TMGI> and <other-TMGI> elements reported as part of the MBMS bearer suspension status.\n<suspended-TMGI>:\tContains a TMGI that is being reported as about to be suspended or as no longer about to be suspended.\n<other-TMGI>:\tContains a TMGI that is not being reported as about to be suspended or as no longer about to be suspended, but which shares the same MCH with MBMS bearers reported in the <suspended-TMGI> elements.\n<mbms-defaultMuSiK-download>\tis included in <anyExt> element of the <mcvideo-mbms-usage-info-Type> element and provides information for default MuSiK download.\nNOTE 2:\tWhen included, the <mbms-defaultMuSiK-download> element is validated by the <xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/> particle of the <anyExt> element.\n<mbms-explicitMuSiK-download>\tis included in <anyExt> element of the <mcvideo-mbms-usage-info-Type> element and provides information for explicit MuSiK download.\nNOTE 3:\tWhen included, the <mbms-explicitMuSiK-download> element is validated by the <xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/> particle of the <anyExt> element.\n<group>:\tContains the identity, in the form of a URI, of a group for which the MuSiK download is performed.\nThe recipient of the XML ignores any unknown element and any unknown attribute.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.2.4\tIANA registration template",
                    "description": "",
                    "summary": "",
                    "text_content": "Your Name:\n<MCC name>\nYour Email Address:\n<MCC email address>\nMedia Type Name:\nApplication\nSubtype name:\nvnd.3gpp.mcvideo-mbms-usage-info+xml\nRequired parameters:\nNone\nOptional parameters:\n\"charset\"\tthe parameter has identical semantics to the charset parameter of the \"application/xml\" media type as specified in section 9.1 of IETF RFC 7303.\nEncoding considerations:\nbinary.\nSecurity considerations:\nSame as general security considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. In addition, this media type provides a format for exchanging information in SIP, so the security considerations from IETF RFC 3261 apply.\nThe information transported in this media type does not include active or executable content.\nMechanisms for privacy and integrity protection of protocol parameters exist. Those mechanisms as well as authentication and further security mechanisms are described in 3GPP TS 24.229.\nThis media type does not include provisions for directives that institute actions on a recipient's files or other resources.\nThis media type does not include provisions for directives that institute actions that, while not directly harmful to the recipient, may result in disclosure of information that either facilitates a subsequent attack or else violates a recipient's privacy in any way.\nThis media type does not employ compression.\nInteroperability considerations:\nSame as general interoperability considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any unknown XML attributes are to be ignored by recipient of the MIME body.\nPublished specification:\n3GPP TS 24.281 \" Mission Critical Video (MCVideo) signalling control;\nProtocol specification\" version 15.1.0, available via http://www.3gpp.org/specs/numbering.htm.\nApplications which use this media type:\nApplications supporting the mission critical video as described in the published specification.\nFragment identifier considerations:\nThe handling in section 5 of IETF RFC 7303 applies.\nRestrictions on usage:\nNone\nProvisional registration? (standards tree only):\nN/A\nAdditional information:\n1.\tDeprecated alias names for this type: none\n2.\tMagic number(s): none\n3.\tFile extension(s): none\n4.\tMacintosh File Type Code(s): none\n5.\tObject Identifier(s) or OID(s): none\nIntended usage:\nCommon\nPerson to contact for further information:\n-\tName: <MCC name>\n-\tEmail: <MCC email address>\n-\tAuthor/Change controller:\ni)\tAuthor: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1@LIST.ETSI.ORG\nii)\tChange controller: <MCC name>/<MCC email address>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "F.2A\tXML schema for 5G MBS usage information",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "F.2A.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines XML schema and MIME type for application/vnd.3gpp.mcvideo-mbs-usage-info+xml.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.2A.2\tXML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\"\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\ntargetNamespace=\"urn:3gpp:ns:mcvideoMbsUsage:1.0\"\nxmlns:mcvideombs=\"urn:3gpp:ns:mcvideoMbsUsage:1.0\">\n<!-- the root element -->\n<xs:element name=\"mcvideo-mbs-usage-info\" type=\"mcvideombs:mcvideo-mbs-usage-info-Type\" id=\"mbs\"/>\n<xs:complexType name=\"mcvideo-mbs-usage-info-Type\">\n<xs:sequence>\n<xs:element name=\"mbs-listening-status\" type=\"mcvideombs:mbs-listening-statusType\" minOccurs=\"0\"/>\n<xs:element name=\"mbs-session-de-announcement-status\" type=\"mcvideombs:mbs-session-de-announcement-statusType\" minOccurs=\"0\"/>\n<xs:element name=\"ue-session-join-notification\" type=\"mcvideombs:ue-session-join-notificationType\" minOccurs=\"0\"/>\n<xs:element name=\"announcement\" type=\"mcvideombs:announcementTypeParams\" minOccurs=\"0\"/>\n<xs:element name=\"version\" type=\"xs:integer\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"mbs-listening-statusType\">\n<xs:sequence>\n<xs:element name=\"mbs-listening-status\" type=\"xs:string\"/>\n<xs:element name=\"unicast-listening-status\" type=\"xs:string\"/>\n<xs:element name=\"session-id\" type=\"xs:anyURI\" minOccurs=\"0\"/>\n<xs:element name=\"general-purpose\" type=\"xs:boolean\" minOccurs=\"0\"/>\n<xs:element name=\"mbs-session-id\" type=\"xs:hexBinary\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"mbs-session-de-announcement-statusType\">\n<xs:sequence>\n<xs:element name=\"mbs-session-de-announcement-status\" type=\"xs:string\" minOccurs=\"0\"/>\n<xs:element name=\"number-of-reported-sessions\" type=\"xs:integer\" minOccurs=\"0\"/>\n<xs:element name=\"deleted-mbs-session-id\" type=\"xs:hexBinary\" minOccurs=\"0\"/>\n<xs:element name=\"other-mbs-session-id\" type=\"xs:hexBinary\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"ue-session-join-notificationType\">\n<xs:sequence>\n<xs:element name=\"mbs-multicast-joining-status\" type=\"xs:string\"/>\n<xs:element name=\"mbs-session-id\" type=\"xs:hexBinary\"/>\n<xs:element name=\"session-id\" type=\"xs:anyURI\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"announcementTypeParams\">\n<xs:sequence>\n<xs:element name=\"mbs-session-info\" type=\"mcvideombs:mbs-session-infoType\" minOccurs=\"0\"/>\n<xs:element name=\"eMBMS-bearer-info\" type=\"mcvideombs:eMBMS-bearer-infoType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"mbs-session-infoType\">\n<xs:sequence>\n<xs:element name=\"mbs-session-id\" type=\"xs:hexBinary\"/>\n<xs:element name=\"mbs-session-mode\" type=\"mcvideombs:sessionType\"/>\n<xs:element name=\"mc-service-group-id\" type=\"xs:integer\" minOccurs=\"0\"/>\n<xs:element name=\"frequency\" type=\"xs:unsignedLong\" minOccurs=\"0\"/>\n<xs:element name=\"GPMS\" type=\"xs:positiveInteger\" minOccurs=\"0\"/>\n<xs:element name=\"mbs-service-areas\" type=\"mcvideombs:mbs-service-areasType\" minOccurs=\"0\"/>\n<xs:element name=\"report-ue-session-join-notification\" type=\"xs:boolean\" minOccurs=\"0\"/>\n<xs:element name=\"multicast-mbs-session-related-info\" type=\"mcvideombs:multicast-mbs-session-related-infoType\"/>\n<xs:element name=\"mbs-fsa-id\" type=\"xs:hexBinary\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"mbs-session-de-announcement-acknowledgement\" type=\"xs:boolean\" minOccurs=\"0\" maxOccurs=\"1\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"eMBMS-bearer-infoType\">\n<xs:sequence>\n<xs:element name=\"TMGI\" type=\"xs:hexBinary\"/>\n<xs:element name=\"Alternative-TMGI\" type=\"mcvideombs:Alternative-TMGI-Type\" minOccurs=\"0\"/>\n<xs:element name=\"QCI\" type=\"xs:integer\" minOccurs=\"0\"/>\n<xs:element name=\"frequency\" type=\"xs:unsignedLong\" minOccurs=\"0\"/>\n<xs:element name=\"mbms-service-areas\" type=\"mcvideombs:mbms-service-areasType\" minOccurs=\"0\"/>\n<xs:element name=\"GPMS\" type=\"xs:positiveInteger\" minOccurs=\"0\"/>\n<xs:element name=\"report-suspension\" type=\"xs:boolean\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<!-- anyEXT elements for the eMBMS announcement element – begin -->\n<xs:element name=\"mcvideo-mbs-rohc\" type=\"mcvideombs:emptyType\"/>\n<!-- empty complex type -->\n<xs:complexType name=\"emptyType\"/>\n<xs:element name=\"max-cid\" type=\"mcvideombs:max-cidType\"/>\n<xs:simpleType name=\"max-cidType\">\n<xs:restriction base=\"xs:integer\">\n<xs:minInclusive value=\"1\"/>\n<xs:maxInclusive value=\"16383\"/>\n</xs:restriction>\n</xs:simpleType>\n<!-- anyEXT elements for the eMBMS announcement element – end -->\n<xs:simpleType name=\"sessionType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"multicast\"/>\n<xs:enumeration value=\"broadcast\"/>\n</xs:restriction>\n</xs:simpleType>\n<xs:complexType name=\"Alternative-TMGI-Type\">\n<xs:sequence>\n<xs:element name=\"Alternative-TMGI-id\" type=\"xs:hexBinary\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute/>\n</xs:complexType>\n<xs:complexType name=\"mbs-service-areasType\">\n<xs:sequence>\n<xs:element name=\"mbs-service-area-id\" type=\"xs:hexBinary\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute/>\n</xs:complexType>\n<xs:complexType name=\"mbms-service-areasType\">\n<xs:sequence>\n<xs:element name=\"mbms-service-area-id\" type=\"xs:hexBinary\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute/>\n</xs:complexType>\n<xs:complexType name=\"multicast-mbs-session-related-infoType\">\n<xs:sequence>\n<xs:element name=\"PlmnId\" type=\"mcvideombs:tPlmnIdentity\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"DNN\" type=\"xs:string\" minOccurs=\"0\"/>\n<xs:element name=\"IPInformation\" type=\"mcvideombs:IPInformationType\" minOccurs=\"0\"/>\n<xs:element name=\"MC-ID-ref-SNSSAI\" type=\"xs:string\" minOccurs=\"0\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute/>\n</xs:complexType>\n<xs:simpleType name=\"tPlmnIdentityFormat\">\n<xs:restriction base=\"xs:string\">\n<xs:pattern value=\"\\d{3}\\d{3}\"/>\n</xs:restriction>\n</xs:simpleType>\n<xs:complexType name=\"tPlmnIdentity\">\n<xs:simpleContent>\n<xs:extension base=\"mcvideombs:tPlmnIdentityFormat\">\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"IPInformationType\">\n<xs:sequence>\n<xs:element name=\"IPInformationListEntry\" type=\"mcvideombs:IPInformationListEntryType\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"IPInformationListEntryType\">\n<xs:choice>\n<xs:element name=\"IPv4Address\" type=\"xs:token\"/>\n<xs:element name=\"IPv6Address\" type=\"xs:token\"/>\n<xs:element name=\"FQDN\" type=\"xs:anyURI\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:choice>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"anyExtType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n<!-- anyEXT elements for the mcvideo-mbs-usage-info – begin -->\n<xs:element name=\"mbs-defaultMuSiK-download\" type=\"mcvideombs:mbs-default-ctrlkey-downloadType\"/>\n<xs:complexType name=\"mbs-default-ctrlkey-downloadType\">\n<xs:sequence>\n<xs:element name=\"group\" type=\"xs:anyURI\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:element name=\"mbs-explicitMuSiK-download\" type=\"mcvideombs:mbs-explicit-ctrlkey-downloadType\"/>\n<xs:complexType name=\"mbs-explicit-ctrlkey-downloadType\">\n<xs:sequence>\n<xs:element name=\"group\" type=\"xs:anyURI\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideombs:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<!-- anyEXT elements for the mcvideo-mbs-usage-info – end -->\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.2A.3\tSemantic",
                    "description": "",
                    "summary": "",
                    "text_content": "The <mcvideo-mbs-usage-info> element is the root element of the XML document. The <mcvideo-mbs-usage-info> element contains the subelements:\n1)\t<mbs-listening-status> contains subelements as specified <mbms-listening-status> in clause F.2.3 with the terminology mapping specified in clause J.3.3;\n2)\t<mbs-session-de-announcement-status>: contains the following subelements:\na)\t<mbs-session-de-announcement-status>: element is a string used to indicate the MBS sessions intended deletion status:\n-\tThe value \"deleting\" indicates that the MC client UE has decided to stop monitoring the broadcast MBS session or leaves the multicast MBS session.\n-\tThe value \"not-deleting\" indicates that the MC client UE has decided to revoke its decision to stop monitoring the broadcast MBS session or leaves the multicast MBS session.\nb)\t<number-of-reported-sessions>: a hex binary number denoting the total number of occurrences of the <deleted-mbs-session-id> and <other-mbs-session-id> elements reported as part of the MBS session de-announcement status;\nc)\t<deleted-mbs-session-id>: contains a MBS session ID that is being reported as about to be deleted or as no longer about to be deleted; and\nd)\t<other-mbs-session-id>: contains a MBS session ID that is not being reported as about to be deleted or as no longer about to be deleted;\n3)\t<ue-session-join-notification> containing the following elements:\na)\t<mbs-multicast-joining-status> element contains a string used to indicate the MCVideo join MBS session status:\n-\tThe value \"ue-session-join\" indicates that a MCVideo client joins an MBS session, i.e. the MCVideo client indicates to MCVideo server that such MCVideo client wants to receive multicast data identified by a specific MBS session ID.\n-\tThe value \"ue-session-leave\" indicates that a MCVideo client leaves a MBS session, i.e. the MCVideo client no longer wants to receive multicast data identified by a specific MBS session ID.\nb)\t<mbs-session-id>: element is coded as described in 3GPP TS 23.247 [84] clause 6.5.1. The MBS session ID is used to identify a Multicast/Broadcast MBS session by the 5G system on external interface towards AF and between AF and UE, and towards the UE;\nc)\t<session-id> element contains the value of the URI received in the Contact header field received from the controlling MCVideo function when an on-demand session was established, or from the participating MCVideo function in the Connect message when the session was established over a pre-established session. This element is mandatory if the <mbs-multicast-joining-status> element is not present in the application/vnd.3gpp.mcvideo-mms-usage-info+xml MIME body.\n4)\t<announcement> element containing <mbs-session-infoType> and <eMBMS-bearer-infoType>.\na)\t<mbs-session-infoType> element containing the following elements:\ni)\t<mbs-session-id>: element is coded as described in 3GPP TS 23.247 [84] clause 6.5.1. The MBS session ID is used to identify a Multicast/Broadcast MBS Session by the 5G system on external interface towards AF and between AF and UE, and towards the UE;\nii)\t<mbs-session-mode>: element is a string used to indicate the service type of the MBS session, either a multicast MBS session or a broadcast MBS session:\niii)\t<mc-service-group-id>: element is a string used to indicate the MC service group ID associated to the MBS session;\niv)\t<GPMS>\telement is a positive integer that gives the number of the media line containing the general purpose MBS subchannel in the application/sdp MIME body attached to the SIP MESSAGE request containing the MBS announcements;\nv)\t<mbs-service-areas>: element is a list of MBS service area IDs for the applicable MBS multicast area as specified in 3GPP TS 23.247 [84] for Service Area Identifier (SAI);\nvi)\t<report-ue-session-join-notification>: element is a boolean with the following meaning:\n-\tTrue indicates that the MC service server requires a notification from the MC service client once it has joined the multicast MBS session.\n-\tFalse indicates that the MC service server not requires a notification from the MC service client once it has joined the multicast MBS session; and\nvii)\t<multicast-mbs-session-related-info> that can contain:\n-\tshall contain an optional element specifying a PLMN Id which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\n-\tshall contain an <IPInformation> element containing (see the MCVideo user profile document in 3GPP TS 24.484 [50]);\n-\tshall contain a <DNN> element (see the MCVideo user profile document in 3GPP TS 24.484 [50]); and\n-\tshall containan a <MC-ID-ref-SNSSAI> element (see the MCVideo user profile document in 3GPP TS 24.484 [50]);\nviii)\t<mbs-fsa-id>: contains the MBS Frequency Selection Area ID. The <mbs-fsa-id> element is coded as described in 3GPP TS 23.247 [84] clause 6.5.4. The MBS Frequency Selection Area (FSA) ID is used for broadcast MBS session to guide the frequency selection of the UE.MBS FSA ID identifies a preconfigured area within, and in proximity to, which the cell(s) announces the MBS FSA ID and the associating frequency. MBS FSA ID and their mapping to frequencies are provided to RAN nodes via OAM;\nix)\t<frequency>: element containing identification of frequency in case of multi carrier support. The <frequency> element is coded as specified in 3GPP TS 29.468 [42]; and\nNOTE 1:\tIn the current release the frequency in the <frequency> element is the same as the frequency used for unicast.\nx)\t<mbs-session-de-announcement-acknowledgement>: element is a boolean with the following meaning:\n-\tTrue indicates that the MCVideo client is instructed to notify the MCVideo server when it becomes aware of an intended change in the de-announcement status of a listened MBS session.\n-\tFalse indicates that the MCVideo client is instructed not to notify the MCVideo server if it becomes aware of an intended change in the de-announcement status of a listened MBS session.\nb)\t<eMBMS-bearer-infoType> element as specified in clause F.2.3 <announcement> elements with the following clarifications/exceptions:\ni)\t<Alternative-TMGI>: contains a list of additional alternative TMGI which may be included and used in roaming scenarios;\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.2A.4\tIANA registration template",
                    "description": "",
                    "summary": "",
                    "text_content": "Editor’s note: The MIME type \"application/vnd.3gpp.mcvideo-mbs-usage-info+xml\" as defined in this subclause is to be registered in the IANA registry for Application Media Types based upon the following template. The registration is to be started after completion of release 18.\nYour Name:\n<MCC name>\nYour Email Address:\n<MCC email address>\nMedia Type Name:\nApplication\nSubtype name:\nvnd.3gpp.mcvideo-mbs-usage-info+xml\nRequired parameters:\nNone\nOptional parameters:\n\"charset\"\tthe parameter has identical semantics to the charset parameter of the \"application/xml\" media type as specified in section 9.1 of IETF RFC 7303.\nEncoding considerations:\nbinary.\nSecurity considerations:\nSame as general security considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. In addition, this media type provides a format for exchanging information in SIP, so the security considerations from IETF RFC 3261 apply.\nThe information transported in this media type does not include active or executable content.\nMechanisms for privacy and integrity protection of protocol parameters exist. Those mechanisms as well as authentication and further security mechanisms are described in 3GPP TS 24.229.\nThis media type does not include provisions for directives that institute actions on a recipient's files or other resources.\nThis media type does not include provisions for directives that institute actions that, while not directly harmful to the recipient, may result in disclosure of information that either facilitates a subsequent attack or else violates a recipient's privacy in any way.\nThis media type does not employ compression.\nInteroperability considerations:\nSame as general interoperability considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any unknown XML attributes are to be ignored by recipient of the MIME body.\nPublished specification:\n3GPP TS 24.379 \"Mission Critical Push To Talk (MCVideo) call control\" version 18.x.x, available via http://www.3gpp.org/specs/numbering.htm.\nApplications which use this media type:\nApplications supporting the mission critical push to talk as described in the published specification.\nFragment identifier considerations:\nThe handling in section 5 of IETF RFC 7303 applies.\nRestrictions on usage:\nNone\nProvisional registration? (standards tree only):\nN/A\nAdditional information:\n1.\tDeprecated alias names for this type: none\n2.\tMagic number(s): none\n3.\tFile extension(s): none\n4.\tMacintosh File Type Code(s): none\n5.\tObject Identifier(s) or OID(s): none\nIntended usage:\nCommon\nPerson to contact for further information:\n-\tName: <MCC name>\n-\tEmail: <MCC email address>\n-\tAuthor/Change controller:\ni)\tAuthor: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1@LIST.ETSI.ORG\nii)\tChange controller: <MCC name>/<MCC email address>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "F.3\tXML schema for MCVideo location information",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "F.3.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines the XML schema and the MIME type for location information.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.3.2\tXML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:mcvideoloc=\"urn:3gpp:ns:mcvideoLocationInfo:1.0\" targetNamespace=\"urn:3gpp:ns:mcvideoLocationInfo:1.0\" elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\"\nxmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\">\n\n<xs:import namespace=\"http://www.w3.org/2001/04/xmlenc#\"/>\n\n<xs:element name=\"location-info\" id=\"loc\">\n<xs:annotation>\n<xs:documentation>Root element, contains all information related to location configuration, location request and location reporting for the MCVideo service</xs:documentation>\n</xs:annotation>\n<xs:complexType>\n<xs:choice>\n<xs:element name=\"Configuration\" type=\"mcvideoloc:tConfigurationType\"/>\n<xs:element name=\"Request\" type=\"mcvideoloc:tRequestType\"/>\n<xs:element name=\"Report\" type=\"mcvideoloc:tReportType\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:choice>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n</xs:element>\n<xs:complexType name=\"tConfigurationType\">\n<xs:sequence>\n<xs:element name=\"NonEmergencyLocationInformation\" type=\"mcvideoloc:tRequestedLocationType\" minOccurs=\"0\"/>\n<xs:element name=\"EmergencyLocationInformation\" type=\"mcvideoloc:tRequestedLocationType\" minOccurs=\"0\"/>\n<xs:element name=\"TriggeringCriteria\" type=\"mcvideoloc:TriggeringCriteriaType\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:attribute name=\"ConfigScope\">\n<xs:simpleType>\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"Full\"/>\n<xs:enumeration value=\"Update\"/>\n</xs:restriction>\n</xs:simpleType>\n</xs:attribute>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"tRequestType\">\n<xs:complexContent>\n<xs:extension base=\"mcvideoloc:tEmptyType\">\n<xs:attribute name=\"RequestId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:complexContent>\n</xs:complexType>\n<xs:complexType name=\"tReportType\">\n<xs:sequence>\n<xs:element name=\"TriggerId\" type=\"xs:string\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"CurrentLocation\" type=\"mcvideoloc:tCurrentLocationType\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:attribute name=\"ReportID\" type=\"xs:string\" use=\"optional\"/>\n<xs:attribute name=\"ReportType\" use=\"required\">\n<xs:simpleType>\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"Emergency\"/>\n<xs:enumeration value=\"NonEmergency\"/>\n</xs:restriction>\n</xs:simpleType>\n</xs:attribute>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"TriggeringCriteriaType\">\n<xs:sequence>\n<xs:element name=\"CellChange\" type=\"mcvideoloc:tCellChange\" minOccurs=\"0\"/>\n<xs:element name=\"TrackingAreaChange\" type=\"mcvideoloc:tTrackingAreaChangeType\" minOccurs=\"0\"/>\n<xs:element name=\"PlmnChange\" type=\"mcvideoloc:tPlmnChangeType\" minOccurs=\"0\"/>\n<xs:element name=\"MbmsSaChange\" type=\"mcvideoloc:tMbmsSaChangeType\" minOccurs=\"0\"/>\n<xs:element name=\"MbsfnAreaChange\" type=\"mcvideoloc:tMbsfnAreaChangeType\" minOccurs=\"0\"/>\n<xs:element name=\"PeriodicReport\" type=\"mcvideoloc:tIntegerAttributeType\" minOccurs=\"0\"/>\n<xs:element name=\"TravelledDistance\" type=\"mcvideoloc:tIntegerAttributeType\" minOccurs=\"0\"/>\n<xs:element name=\"McvideoSignallingEvent\" type=\"mcvideoloc:tSignallingEventType\" minOccurs=\"0\"/>\n<xs:element name=\"GeographicalAreaChange\" type=\"mcvideoloc:tGeographicalAreaChange\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<!-- anyExt elements for \"TriggeringCriteriaType\" -->\n<xs:element name=\"RatTypeChange\" type=\"mcvideoloc:tRatTypeChange\"/>\n\n\n\n<xs:complexType name=\"tCellChange\">\n<xs:sequence>\n<xs:element name=\"AnyCellChange\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"EnterSpecificCell\" type=\"mcvideoloc:tSpecificCellType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"ExitSpecificCell\" type=\"mcvideoloc:tSpecificCellType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"tEmptyType\"/>\n<xs:simpleType name=\"tEcgi\">\n<xs:restriction base=\"xs:string\">\n<xs:pattern value=\"\\d{3}\\d{3}[0-1]{28}\"/>\n</xs:restriction>\n</xs:simpleType>\n<xs:complexType name=\"tSpecificCellType\">\n<xs:simpleContent>\n<xs:extension base=\"mcvideoloc:tEcgi\">\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"tEmptyTypeAttribute\">\n<xs:complexContent>\n<xs:extension base=\"mcvideoloc:tEmptyType\">\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:complexContent>\n</xs:complexType>\n<xs:complexType name=\"tTrackingAreaChangeType\">\n<xs:sequence>\n<xs:element name=\"AnyTrackingAreaChange\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"EnterSpecificTrackingArea\" type=\"mcvideoloc:tTrackingAreaIdentity\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"ExitSpecificTrackingArea\" type=\"mcvideoloc:tTrackingAreaIdentity\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:simpleType name=\"tTrackingAreaIdentityFormat\">\n<xs:restriction base=\"xs:string\">\n<xs:pattern value=\"\\d{3}\\d{3}[0-1]{16}\"/>\n</xs:restriction>\n</xs:simpleType>\n<xs:complexType name=\"tTrackingAreaIdentity\">\n<xs:simpleContent>\n<xs:extension base=\"mcvideoloc:tTrackingAreaIdentityFormat\">\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"tPlmnChangeType\">\n<xs:sequence>\n<xs:element name=\"AnyPlmnChange\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"EnterSpecificPlmn\" type=\"mcvideoloc:tPlmnIdentity\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"ExitSpecificPlmn\" type=\"mcvideoloc:tPlmnIdentity\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:simpleType name=\"tPlmnIdentityFormat\">\n<xs:restriction base=\"xs:string\">\n<xs:pattern value=\"\\d{3}\\d{3}\"/>\n</xs:restriction>\n</xs:simpleType>\n<xs:complexType name=\"tPlmnIdentity\">\n<xs:simpleContent>\n<xs:extension base=\"mcvideoloc:tPlmnIdentityFormat\">\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"tMbmsSaChangeType\">\n<xs:sequence>\n<xs:element name=\"AnyMbmsSaChange\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"EnterSpecificMbmsSa\" type=\"mcvideoloc:tMbmsSaIdentity\" minOccurs=\"0\"/>\n<xs:element name=\"ExitSpecificMbmsSa\" type=\"mcvideoloc:tMbmsSaIdentity\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:simpleType name=\"tMbmsSaIdentityFormat\">\n<xs:restriction base=\"xs:integer\">\n<xs:minInclusive value=\"0\"/>\n<xs:maxInclusive value=\"65535\"/>\n</xs:restriction>\n</xs:simpleType>\n<xs:complexType name=\"tMbmsSaIdentity\">\n<xs:simpleContent>\n<xs:extension base=\"mcvideoloc:tMbmsSaIdentityFormat\">\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"tMbsfnAreaChangeType\">\n<xs:sequence>\n<xs:element name=\"EnterSpecificMbsfnArea\" type=\"mcvideoloc:tMbsfnAreaIdentity\" minOccurs=\"0\"/>\n<xs:element name=\"ExitSpecificMbsfnArea\" type=\"mcvideoloc:tMbsfnAreaIdentity\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:simpleType name=\"tMbsfnAreaIdentityFormat\">\n<xs:restriction base=\"xs:integer\">\n<xs:minInclusive value=\"0\"/>\n<xs:maxInclusive value=\"255\"/>\n</xs:restriction>\n</xs:simpleType>\n<xs:complexType name=\"tMbsfnAreaIdentity\">\n<xs:simpleContent>\n<xs:extension base=\"mcvideoloc:tMbsfnAreaIdentityFormat\">\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"tIntegerAttributeType\">\n<xs:simpleContent>\n<xs:extension base=\"xs:integer\">\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"tTravelledDistanceType\">\n<xs:sequence>\n<xs:element name=\"TravelledDistance\" type=\"xs:positiveInteger\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"tSignallingEventType\">\n<xs:sequence>\n<xs:element name=\"InitialLogOn\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"GroupCallNonEmergency\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"PrivateCallNonEmergency\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"LocationConfigurationReceived\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"tEmergencyEventType\">\n<xs:sequence>\n<xs:element name=\"GroupCallEmergency\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"GroupCallImminentPeril\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"PrivateCallEmergency\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"InitiateEmergencyAlert\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"tRequestedLocationType\">\n<xs:sequence>\n<xs:element name=\"ServingEcgi\" type=\"mcvideoloc:tEmptyType\" minOccurs=\"0\"/>\n<xs:element name=\"NeighbouringEcgi\" type=\"mcvideoloc:tEmptyType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"MbmsSaId\" type=\"mcvideoloc:tEmptyType\" minOccurs=\"0\"/>\n<xs:element name=\"MbsfnArea\" type=\"mcvideoloc:tEmptyType\" minOccurs=\"0\"/>\n<xs:element name=\"GeographicalCoordinate\" type=\"mcvideoloc:tEmptyType\" minOccurs=\"0\"/>\n<xs:element name=\"minimumIntervalLength\" type=\"xs:positiveInteger\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"tCurrentLocationType\">\n<xs:sequence>\n<xs:element name=\"CurrentServingEcgi\" type=\"mcvideoloc:tLocationType\" minOccurs=\"0\"/>\n<xs:element name=\"NeighbouringEcgi\" type=\"mcvideoloc:tLocationType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"MbmsSaId\" type=\"mcvideoloc:tLocationType\" minOccurs=\"0\"/>\n<xs:element name=\"MbsfnArea\" type=\"mcvideoloc:tLocationType\" minOccurs=\"0\"/>\n<xs:element name=\"CurrentCoordinate\" type=\"mcvideoloc:tPointCoordinate\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<!-- anyExt elements for \"tCurrentLocationType\" -->\n<xs:element name=\"locTimestamp\" type=\"xs:dateTime\"/>\n<xs:element name=\"InterRatType\" type=\"mcvideoloc:tInterRatType\"/>\n\n<xs:simpleType name=\"tInterRatType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"5G-MBS-to-LTE-MBMS\"/>\n<xs:enumeration value=\"5G-MBS-to-LTE-unicast\"/>\n<xs:enumeration value=\"LTE-MBMS-to-5G-MBS\"/>\n<xs:enumeration value=\"LTE-MBMS-to-5G-unicast\"/>\n</xs:restriction>\n</xs:simpleType>\n\n\n<xs:simpleType name=\"protectionType\">\n<xs:restriction base=\"xs:string\">\n<xs:enumeration value=\"Normal\"/>\n<xs:enumeration value=\"Encrypted\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:complexType name=\"tLocationType\">\n<xs:choice minOccurs=\"1\" maxOccurs=\"1\">\n<xs:element name=\"Ecgi\" type=\"mcvideoloc:tEcgi\" minOccurs=\"0\"/>\n<xs:element name=\"SaId\" type=\"mcvideoloc:tMbmsSaIdentity\" minOccurs=\"0\"/>\n<xs:element name=\"MbsfnAreaId\" type=\"mcvideoloc:tMbsfnAreaIdentity\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:choice>\n<xs:attribute name=\"type\" type=\"mcvideoloc:protectionType\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"tGeographicalAreaChange\">\n<xs:sequence>\n<xs:element name=\"AnyAreaChange\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:element name=\"EnterSpecificAreaType\" type=\"mcvideoloc:tSpecificAreaType\" minOccurs=\"0\"/>\n<xs:element name=\"ExitSpecificAreaType\" type=\"mcvideoloc:tSpecificAreaType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"tSpecificAreaType\">\n<xs:sequence>\n<xs:element name=\"GeographicalArea\" type=\"mcvideoloc:tGeographicalAreaDef\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:attribute name=\"TriggerId\" type=\"xs:string\" use=\"required\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"tRatTypeChange\">\n<xs:sequence>\n<xs:element name=\"AnyRatTypeChange\" type=\"mcvideoloc:tEmptyTypeAttribute\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n\n<xs:complexType name=\"tPointCoordinate\">\n<xs:sequence>\n<xs:element name=\"longitude\" type=\"mcvideoloc:tCoordinateType\"/>\n<xs:element name=\"latitude\" type=\"mcvideoloc:tCoordinateType\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<!-- anyExt elements for \"tPointCoordinate\" -->\n<xs:element name=\"altitude\" type=\"mcvideoloc:tCoordinateType2Bytes\"/>\n<xs:element name=\"horizontalaccuracy\" type=\"mcvideoloc:tCoordinateType1Byte\"/>\n<xs:element name=\"verticalaccuracy\" type=\"mcvideoloc:tCoordinateType1Byte\"/>\n\n<xs:complexType name=\"tCoordinateType\">\n<xs:choice minOccurs=\"1\" maxOccurs=\"1\">\n<xs:element name=\"threebytes\" type=\"mcvideoloc:tThreeByteType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:choice>\n<xs:attribute name=\"type\" type=\"mcvideoloc:protectionType\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"tCoordinateType2Bytes\">\n<xs:choice minOccurs=\"1\" maxOccurs=\"1\">\n<xs:element name=\"twobytes\" type=\"mcvideoloc:tTwoByteType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:choice>\n<xs:attribute name=\"type\" type=\"mcvideoloc:protectionType\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"tCoordinateType1Byte\">\n<xs:choice minOccurs=\"1\" maxOccurs=\"1\">\n<xs:element name=\"onebyteunsignedhalfrange\" type=\"mcvideoloc:tOneByteUnsignedHalfRangeType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:choice>\n<xs:attribute name=\"type\" type=\"mcvideoloc:protectionType\"/>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:simpleType name=\"tThreeByteType\">\n<xs:restriction base=\"xs:integer\">\n<xs:minInclusive value=\"0\"/>\n<xs:maxInclusive value=\"16777215\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:simpleType name=\"tTwoByteType\">\n<xs:restriction base=\"xs:integer\">\n<xs:minInclusive value=\"-32768\"/>\n<xs:maxInclusive value=\"32767\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:simpleType name=\"tOneByteUnsignedHalfRangeType\">\n<xs:restriction base=\"xs:integer\">\n<xs:minInclusive value=\"0\"/>\n<xs:maxInclusive value=\"127\"/>\n</xs:restriction>\n</xs:simpleType>\n\n<xs:complexType name=\"tGeographicalAreaDef\">\n<xs:sequence>\n<xs:element name=\"PolygonArea\" type=\"mcvideoloc:tPolygonAreaType\" minOccurs=\"0\"/>\n<xs:element name=\"EllipsoidArcArea\" type=\"mcvideoloc:tEllipsoidArcType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"tPolygonAreaType\">\n<xs:sequence>\n<xs:element name=\"Corner\" type=\"mcvideoloc:tPointCoordinate\" minOccurs=\"3\" maxOccurs=\"15\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"tEllipsoidArcType\">\n<xs:sequence>\n<xs:element name=\"Center\" type=\"mcvideoloc:tPointCoordinate\"/>\n<xs:element name=\"Radius\" type=\"xs:nonNegativeInteger\"/>\n<xs:element name=\"OffsetAngle\" type=\"xs:unsignedByte\"/>\n<xs:element name=\"IncludedAngle\" type=\"xs:unsignedByte\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoloc:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"anyExtType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n<!-- anyEXT elements for the Configuration element – begin -->\n<xs:element name=\"EmergencyTriggeringCriteria\" type=\"mcvideoloc:TriggeringCriteriaType\"/>\n<!-- anyEXT elements for the Configuration element – end -->\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.3.3\tSemantic",
                    "description": "",
                    "summary": "",
                    "text_content": "The <location-info> element is the root element of the XML document. The <location-info> element contains the <Configuration>, <Request> and <Report> subelements, of which only one can be present.\n<Configuration> element has a <ConfigScope> attribute that can assume the values \"Full\" and \"Update\". The value \"Full\" means that the Configuration> element contains the full location configuration which replaces any previous location configuration. The value \"Update\" means that the location configuration is in addition to any previous location configuration. To remove configuration elements a \"Full\" configuration is needed. The <Configuration> element contains the following child elements:\n1)\t<NonEmergencyLocationInformation>, an optional element that specifies the location information requested in non-emergency situations. The <NonEmergencyLocationInformation> has the subelements:\na)\t<ServingEcgi>, an optional element specifying that the serving E-UTRAN Cell Global Identity (ECGI) needs to be reported;\nb)\t<NeighbouringEcgi>, an optional element that can occur multiple times, specifying that neighbouring ECGIs need to be reported;\nc)\t<MbmsSaId>, an optional element specifying that the serving MBMS Service Area Id needs to be reported;\nd)\t<MbsfnArea>, an optional element specifying that the MBSFN area Id needs to be reported;\ne)\t<GeographicalCoordinate>, an optional element specifying that the geographical coordinate specified in clause 6.1 in 3GPP TS 23.032 [39] needs to be reported; and\nf)\t<minimumIntervalLength>, a mandatory element specifying the minimum time the MCVideo client needs to wait between sending location reports. The value is given in seconds;\n2)\t<EmergencyLocationInformation>, an optional element that specifies the location information requested in emergency situations. The <EmergencyLocationInformation> has the subelements:\na)\t<ServingEcgi>, an optional element specifying that the serving ECGI needs to be reported;\nb)\t<NeighbouringEcgi>, an optional element that can occur multiple times, specifying that neighbouring ECGIs need to be reported;\nc)\t<MbmsSaId>, an optional element specifying that the serving MBMS Service Area Id needs to be reported;\nd)\t<MbsfnArea>, an optional element specifying that the MBSFN area Id needs to be reported;\ne)\t<GeographicalCoordinate>, an optional element specifying that the geographical coordinate specified in clause 6.1 in 3GPP TS 23.032 [39] needs to be reported; and\nf)\t<minimumIntervalLength>, a mandatory element specifying the minimum time the MCVideo client needs to wait between sending location reports. The value is given in seconds; and\n3)\t<TriggeringCriteria>, a mandatory element specifying the triggers for the MCVideo client to perform reporting in non emergency status. The <TriggeringCriteria> element contains the following sub-elements:\na)\t<CellChange>, an optional element specifying what cell changes trigger location reporting. Consists of the following sub-elements:\nI)\t<AnyCellChange>, an optional element. The presence of this element specifies that any cell change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nII)\t<EnterSpecificCell>, an optional element specifying an ECGI which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nIII)\t<ExitSpecificCell>, an optional element specifying an ECGI which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nb)\t<TrackingAreaChange>, an optional element specifying what tracking area changes trigger location reporting. Consists of the following sub-elements:\nI)\t<AnyTrackingAreaChange>, an optional element. The presence of this element specifies that any tracking area change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nII)\t<EnterSpecificTrackingArea>, an optional element specifying a Tracking Area Id which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nIII)\t<ExitSpecificTrackingArea>, an optional element specifying a Tracking Area Id which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nc)\t<PlmnChange>, an optional element specifying what PLMN changes trigger location reporting. Consists of the following sub-elements:\nI)\t<AnyPlmnChange>, an optional element. The presence of this element specifies that any PLMN change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nII)\t<EnterSpecificPlmn>, an optional element specifying a PLMN Id which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nIII)\t<ExitSpecificPlmn>, an optional element specifying a PLMN Id which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nd)\t<MbmsSaChange>, an optional element specifying what MBMS changes trigger location reporting. Consists of the following sub-elements:\nI)\t<AnyMbmsSaChange>, an optional element. The presence of this element specifies that any MBMS SA change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nII)\t<EnterSpecificMbmsSa>, an optional element specifying an MBMS Service Area Id which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nIII)\t<ExitSpecificMbmsSa>, an optional element specifying an MBMS Service Area Id which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\ne)\t<MbsfnAreaChange>, an optional element specifying what MBSFN changes trigger location reporting. Consists of the following sub-elements:\nI)\t<AnyMbsfnAreaChange>, an optional element. The presence of this element specifies that any MBSFN area change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nII)\t<EnterSpecificMbsfnArea>, an optional element specifying an MBSFN area which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nIII)\t<ExitSpecificMbsfnArea>, an optional element specifying an MBSFN area which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nf)\t<PeriodicReport>, an optional element specifying that periodic location reports shall be sent. The value in seconds specifies the reporting interval. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\ng)\t<TravelledDistance>, an optional element specifying that the travelled distance shall trigger a report. The value in metres specified the travelled distance. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nh)\t<McvideoSignallingEvent>, an optional element specifying what signalling events triggers a location report. The <McvideoSignallingEvent> element has the following sub-elements:\nI)\t<InitialLogOn>, an optional element specifying that an initial log on triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nII)\t<GroupCallNonEmergency>, an optional element specifying that a non-emergency group call triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nIII)\t<PrivateCallNonEmergency>, an optional element specifying that a non-emergency private call triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nIV)\t<LocationConfigurationReceived>, an optional element specifying that a received location configuration triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\ni)\t<GeographicalAreaChange>, an optional element specifying what geographical are changes trigger location reporting. Consists of the following sub-elements:\nI)\t<AnyAreaChange>, an optional element. The presence of this element specifies that any geographical area change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nII)\t<EnterSpecificArea>, an optional element specifying a geographical area which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string. The <EnterSpecificArea> element has the following sub-elements:\nA)\t<GeographicalArea>, an optional element containing a <TriggerId> attribute and the following two subelements:\nx1)\t<PolygonArea>, an optional element specifying the area as a polygon specified in clause 5.2 in 3GPP TS 23.032 [39]; and\nx2)\t<EllipsoidArcArea>, an optional element specifying the area as an Ellipsoid Arc specified in clause 5.7 in 3GPP TS 23.032 [39]; and\nIII)\t<ExitSpecificAreaType>, an optional element specifying a geographical area which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string.\nj)\t<RatTypeChange>, an optional element specifying what inter-RAT changes trigger location reporting. Consists of the following sub-elements:\nI)\t<AnyRatTypeChange>, an optional element. The presence of this element specifies that the inter-system RAT changes is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\n4)\tthe <anyExt> shall be included with the following element not declared in the XML schema:\na)\t<EmergencyTriggeringCriteria>, a mandatory element specifying the triggers for the MCVideo client to perform reporting in emergency status. The <TriggeringCriteria> element contains the following sub-elements:\nI)\t<CellChange>, an optional element specifying what cell changes trigger location reporting. Consists of the following sub-elements:\nA)\t<AnyCellChange>, an optional element. The presence of this element specifies that any cell change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nB)\t<EnterSpecificCell>, an optional element specifying an ECGI which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nC)\t<ExitSpecificCell>, an optional element specifying an ECGI which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nII)\t<TrackingAreaChange>, an optional element specifying what tracking area changes trigger location reporting. Consists of the following sub-elements:\nA)\t<AnyTrackingAreaChange>, an optional element. The presence of this element specifies that any tracking area change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nB)\t<EnterSpecificTrackingArea>, an optional element specifying a Tracking Area Id which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nC)\t<ExitSpecificTrackingArea>, an optional element specifying a Tracking Area Id which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nIII)\t<PlmnChange>, an optional element specifying what PLMN changes trigger location reporting. Consists of the following sub-elements:\nA)\t<AnyPlmnChange>, an optional element. The presence of this element specifies that any PLMN change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nB)\t<EnterSpecificPlmn>, an optional element specifying a PLMN Id which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nC)\t<ExitSpecificPlmn>, an optional element specifying a PLMN Id which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nIV)\t<MbmsSaChange>, an optional element specifying what MBMS changes trigger location reporting. Consists of the following sub-elements:\nA)\t<AnyMbmsSaChange>, an optional element. The presence of this element specifies that any MBMS SA change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nB)\t<EnterSpecificMbmsSa>, an optional element specifying an MBMS Service Area Id which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nC\t<ExitSpecificMbmsSa>, an optional element specifying an MBMS Service Area Id which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nV)\t<MbsfnAreaChange>, an optional element specifying what MBSFN changes trigger location reporting. Consists of the following sub-elements:\nA)\t<AnyMbsfnAreaChange>, an optional element. The presence of this element specifies that any MBSFN area change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nB)\t<EnterSpecificMbsfnArea>, an optional element specifying an MBSFN area which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nC)\t<ExitSpecificMbsfnArea>, an optional element specifying an MBSFN area which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nVI)\t<PeriodicReport>, an optional element specifying that periodic location reports shall be sent. The value in seconds specifies the reporting interval. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nVII)\t<TravelledDistance>, an optional element specifying that the travelled distance shall trigger a report. The value in metres specified the travelled distance. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nVIII)\t<McvideoSignallingEvent>, an optional element specifying what signalling events triggers a location report. The <McvideoSignallingEvent> element has the following sub-elements:\nA)\t<InitialLogOn>, an optional element specifying that an initial log on triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nB)\t<GroupCallNonEmergency>, an optional element specifying that a non-emergency group call triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nC)\t<PrivateCallNonEmergency>, an optional element specifying that a non-emergency private call triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nD)\t<LocationConfigurationReceived>, an optional element specifying that a received location configuration triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string; and\nIX)\t<GeographicalAreaChange>, an optional element specifying what geographical are changes trigger location reporting. Consists of the following sub-elements:\nA)\t<AnyAreaChange>, an optional element. The presence of this element specifies that any geographical area change is a trigger. Contains a mandatory <TriggerId> attribute that shall be set to a unique string;\nB)\t<EnterSpecificArea>, an optional element specifying a geographical area which when entered triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string. The <EnterSpecificArea> element has the following sub-elements:\nx1)\t<GeographicalArea>, an optional element containing a <TriggerId> attribute and the following two subelements:\ni1)\t<PolygonArea>, an optional element specifying the area as a polygon specified in clause 5.2 in 3GPP TS 23.032 [39]; and\ni2)\t<EllipsoidArcArea>, an optional element specifying the area as an Ellipsoid Arc specified in clause 5.7 in 3GPP TS 23.032 [39]; and\nC)\t<ExitSpecificAreaType>, an optional element specifying a geographical area which when exited triggers a location report. Contains a mandatory <TriggerId> attribute that shall be set to a unique string.\n<Request> is an element with a <RequestId> attribute. The <Request> element is used to request a location report. The value of the <RequestId> attribute is returned in the corresponding <ReportId> attribute in order to correlate the request and the report.\n<Report> is an element used to include the location report. It contains a <ReportId> attribute and a <ReportType> attribute. The <ReportId> attribute is used to return the value in the <RequestId> attribute in the <Request> element. The <ReportType> attribute has two values \"Emergency\" and \"NonEmergency\" used to inform whether the client is sending the report in an emergency situation or not. The <Report> element contains the following sub-elements:\n1)\t<TriggerId>, an optional element which can occur multiple times that contain the value of the <TriggerId> attribute associated with a trigger that has fired; and\n2)\t<CurrentLocation>, a mandatory element that contains the location information. The <CurrentLocation> element contains the following sub-elements:\na)\t<CurrentServingEcgi>, an optional element containing the ECGI of the serving cell;\nb)\t<NeighbouringEcgi>, an optional element that can occur multiple times. It contains the ECGI of any neighbouring cell the MCVideo client can detect;\nc)\t<MbmsSaId>, an optional element containing the MBMS Service Area Id the MCVideo client is using;\nd)\t<MbsfnArea>, an optional element containing the MBSFN area the MCVideo is located in;\ne)\t<CurrentCoordinate>, an optional element containing:\ni)\tthe longitude and latitude coded as in clause 6.1 in 3GPP TS 23.032 [39]; and\nii)\tan optional <anyExt> element containing:\nA)\tan <altitude> element coded as in clause 6.3 in 3GPP TS 23.032 [39];\nB)\tan optional <horizontalaccuracy> element where the <onebyteunsignedhalfrange> subelement is coded as in clause 6.2 in 3GPP TS 23.032 [39], which describes the uncertainty for latitude and longitude; and\nC)\tan optional <verticalaccuracy> element where the <onebyteunsignedhalfrange> subelement is coded as in clause 6.2 in 3GPP TS 23.032 [39], which describes the uncertainty for altitude; and\nf)\t<anyExt>, an optional element containing:\ni)\tan optional <locTimestamp> element containing the date and time the location measurement was made; and\nii)\tan optional <InterRatType> element containing the inter-RAT change type. The <InterRatType> element set to:\nA)\t\"5G-MBS-to-LTE-MBMS\" when the inter-system switching from 5G MBS session to LTE MBMS bearer;\nB)\t\"5G-MBS-to-LTE-unicast\" when the inter-system switching from 5G MBS session to LTE unicast bearer;\nC)\t\"LTE-MBMS-to-5G-MBS\" when the inter-system switching from LTE MBMS to 5G MBS session; or\nD)\t\"LTE-MBMS-to-5G-unicast\" when the inter-system switching from LTE MBMS to 5G unicast PDU session.\nThe contents of the subelements in the <CurrentLocation> subelement of the <Report> element can be encrypted. The following rules are applied when any of these elements are included:\n1)\tif confidentiality protection is not required, then:\na)\tthe \"type\" attributes associated with the <CurrentServingEcgi>, <NeighbouringEcgi>, <MbmsSaId>, and <MbsfnArea> elements of the <Report> element have the value \"Normal\" and\ni)\tthe <Ecgi> subelement of the <CurrentServingEcgi> element contains the unencrypted value of the ECGI of the serving cell;\nii)\tthe <Ecgi> subelement of the <NeighbouringEcgi> element contains the unencrypted value of the ECGI of any neighbouring cell;\niii)\tthe <SaId> subelement of the <MbmsSaId> element contains the unencrypted value of the MBMS Service Area Id the MCVideo client is using; and\niv)\tthe <MbsfnAreaId> subelement of the <MbsfnArea>, element contains the unencrypted value of the MBSFN area the MCVideo is located in;\nb)\tthe \"type\" attributes associated with the <longitude>, <latitude>, <altitude>, <horizontalaccuracy>, and <verticalaccuracy> subelements of the <CurrentCoordinate> element have the value \"Normal\" and the <three-bytes> subelements of <longitude> and <latitude> subelements, the <twobytes> subelement of the <altitude> subelement, the <onebyteunsignedhalfrange> subelement of the <horizontalaccuracy>, and the <onebyteunsignedhalfrange> subelement of the <verticalaccuracy> subelement contain the unencrypted value of longitude, latitude, altitude, horizontalaccuracy, and verticalaccuracy respectively; and\n2)\tif confidentiality protection is required, then:\na)\tthe \"type\" attributes associated with the <CurrentServingEcgi>, <NeighbouringEcgi>, <MbmsSaId>, and <MbsfnArea> elements have the value \"Encrypted\";\nb)\tthe \"type\" attributes associated with the <longitude>, <latitude>, <altitude>, <horizontalaccuracy>, and <verticalaccuracy> subelements of the <CurrentCoordinate> element have the value \"Encrypted\";\nc)\tfor each of the elements described in 2a) and subelements described in 2b) above, the <xenc:EncryptedData> element from the \"\" namespace is included and:\ni)\tcan have a \"Type\" attribute can be included with a value of \"\";\nii)\tcan include an <EncryptionMethod> element with the \"Algorithm\" attribute set to value of \"http://www.w3.org/2009/xmlenc11#aes128-gcm\";\niii)\tcan include a <KeyInfo> element with a <KeyName> element containing the base 64 encoded XPK-ID; and\niv)\tincludes a <CipherData> element with a <CipherValue> element containing the encrypted data.\nNOTE:\tWhen the optional attributes and elements are not included within the <xenc:EncryptedData> element, the information they contain is known to sender and the receiver by other means.\nThe recipient of the XML ignores any unknown element and any unknown attribute.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.3.4\tIANA registration template",
                    "description": "",
                    "summary": "",
                    "text_content": "Your Name:\n<MCC name>\nYour Email Address:\n<MCC email address>\nMedia Type Name:\nApplication\nSubtype name:\nvnd.3gpp. mcvideo-location-info+xml\nRequired parameters:\nNone\nOptional parameters:\n\"charset\"\tthe parameter has identical semantics to the charset parameter of the \"application/xml\" media type as specified in section 9.1 of IETF RFC 7303.\nEncoding considerations:\nbinary.\nSecurity considerations:\nSame as general security considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. In addition, this media type provides a format for exchanging information in SIP, so the security considerations from IETF RFC 3261 apply.\nThe information transported in this media type does not include active or executable content.\nMechanisms for privacy and integrity protection of protocol parameters exist. Those mechanisms as well as authentication and further security mechanisms are described in 3GPP TS 24.229.\nThis media type does not include provisions for directives that institute actions on a recipient's files or other resources.\nThis media type does not include provisions for directives that institute actions that, while not directly harmful to the recipient, may result in disclosure of information that either facilitates a subsequent attack or else violates a recipient's privacy in any way.\nThis media type does not employ compression.\nInteroperability considerations:\nSame as general interoperability considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any unknown XML attributes are to be ignored by recipient of the MIME body.\nPublished specification:\n3GPP TS 24.281 \"Mission Critical Video (MCVideo) signalling control; Protocol specification\" version 14.0.0, available via http://www.3gpp.org/specs/numbering.htm.\nApplications which use this media type:\nApplications supporting the mission critical video as described in the published specification.\nFragment identifier considerations:\nThe handling in section 5 of IETF RFC 7303 applies.\nRestrictions on usage:\nNone\nProvisional registration? (standards tree only):\nN/A\nAdditional information:\n1.\tDeprecated alias names for this type: none\n2.\tMagic number(s): none\n3.\tFile extension(s): none\n4.\tMacintosh File Type Code(s): none\n5.\tObject Identifier(s) or OID(s): none\nIntended usage:\nCommon\nPerson to contact for further information:\n-\tName: <MCC name>\n-\tEmail: <MCC email address>\n-\tAuthor/Change controller:\ni)\tAuthor: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1@LIST.ETSI.ORG\nii)\tChange controller: <MCC name>/<MCC email address>\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "F.4\tXML schema for MCVideo (de)-affiliation requests",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "F.4.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines XML schema and MIME type for MCVideo (de)-affiliation requests.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.4.2\tXML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\ntargetNamespace=\"urn:3gpp:ns:affiliationCommand:1.0\"\nxmlns:mcvideoaff=\"urn:3gpp:ns:affiliationCommand:1.0\"\nattributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\">\n<xs:complexType name=\"affiliate-command\" id=\"affil\">\n<xs:sequence>\n<xs:element type=\"xs:anyURI\" name=\"group\" minOccurs=\"1\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoaff:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"de-affiliate-command\">\n<xs:sequence>\n<xs:element type=\"xs:anyURI\" name=\"group\" minOccurs=\"1\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoaff:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:element name=\"command-list\">\n<xs:complexType>\n<xs:sequence>\n<xs:element name=\"affiliate\" type=\"mcvideoaff:affiliate-command\" minOccurs=\"0\" maxOccurs=\"1\"/>\n<xs:element name=\"de-affiliate\" type=\"mcvideoaff:de-affiliate-command\" minOccurs=\"0\" maxOccurs=\"1\"/>\n<xs:element name=\"anyExt\" type=\"mcvideoaff:anyExtType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n</xs:element>\n<xs:complexType name=\"anyExtType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.4.3\tSemantic",
                    "description": "",
                    "summary": "",
                    "text_content": "The <command-list> element is the root element of the XML document. The <command-list> element may contain <affiliate-command>, or <de-affiliate-command> subelements or both.\nIf the <command-list> contains the <affiliate-command> element then:\n1)\tthe <affiliate-command> element contains a list of <group> subelements having at least one subelement. The recipient shall perform an affiliation for all the MCVideo groups contained in the list for the clients for which the <command-list> applies.\nIf the <command-list> contains the <de-affiliate-command> element then:\n1)\tthe <de-affiliate-command> element contains a list of <group> subelements having at least one subelement. The recipient shall perform a de-affiliation for all the MCVideo groups contained in the list for the clients for which the <command-list> applies.\nThe recipient of the XML ignores any unknown element and any unknown attribute.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.4.4\tIANA registration template",
                    "description": "",
                    "summary": "",
                    "text_content": "Your Name:\n<MCC name>\nYour Email Address:\n<MCC email address>\nMedia Type Name:\nApplication\nSubtype name:\nvnd.3gpp.mcvideo-affiliation-command+xml\nRequired parameters:\nNone\nOptional parameters:\n\"charset\"\tthe parameter has identical semantics to the charset parameter of the \"application/xml\" media type as specified in section 9.1 of IETF RFC 7303.\nEncoding considerations:\nbinary.\nSecurity considerations:\nSame as general security considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. In addition, this media type provides a format for exchanging information in SIP, so the security considerations from IETF RFC 3261 apply.\nThe information transported in this media type does not include active or executable content.\nMechanisms for privacy and integrity protection of protocol parameters exist. Those mechanisms as well as authentication and further security mechanisms are described in 3GPP TS 24.229.\nThis media type does not include provisions for directives that institute actions on a recipient's files or other resources.\nThis media type does not include provisions for directives that institute actions that, while not directly harmful to the recipient, may result in disclosure of information that either facilitates a subsequent attack or else violates a recipient's privacy in any way.\nThis media type does not employ compression.\nInteroperability considerations:\nSame as general interoperability considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any unknown XML attributes are to be ignored by recipient of the MIME body.\nPublished specification:\n3GPP TS 24.281 \"Mission Critical Video (MCVideo) signalling control; Protocol specification\" version 15.0.0, available via http://www.3gpp.org/specs/numbering.htm.\nApplications which use this media type:\nApplications supporting the mission critical video as described in the published specification.\nFragment identifier considerations:\nThe handling in section 5 of IETF RFC 7303 applies.\nRestrictions on usage:\nNone\nProvisional registration? (standards tree only):\nN/A\nAdditional information:\n1.\tDeprecated alias names for this type: none\n2.\tMagic number(s): none\n3.\tFile extension(s): none\n4.\tMacintosh File Type Code(s): none\n5.\tObject Identifier(s) or OID(s): none\nIntended usage:\nCommon\nPerson to contact for further information:\n-\tName: <MCC name>\n-\tEmail: <MCC email address>\n-\tAuthor/Change controller:\ni)\tAuthor: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1@LIST.ETSI.ORG\nii)\tChange controller: <MCC name>/<MCC email address>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "F.5\tXML schema for the transmission request",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "F.5.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines XML schema and MIME type for application/vnd.3gpp.transmission-request+xml.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.5.2\tXML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=\"urn:3gpp:ns:transmissionRequest:1.0\" xmlns:mcvideotransmission=\"urn:3gpp:ns:transmissionRequest:1.0\">\n<!-- the root element -->\n<xs:element name=\"transmission-request\" type=\"mcvideotransmission:transmission-request-Type\" minOccurs=\"1\" maxOccurs=\"2\"/>\n<xs:complexType name=\" transmission-request-Type\">\n<xs:sequence>\n<xs:element name=\"ssrc\" type=\"xs:unsignedLong\"/>\n<xs:element name=\"transmission-priority\" type=\"xs:unsignedByte\"/>\n<xs:element name=\"user-id\" type=\"xs:anyURI\"/>\n<xs:element name=\"track-info\" type=\"mcvideotransmission:track-info-Type\"/>\n<xs:element name=\"transmission-indicator\" type=\"xs:unsignedLong\"/>\n<xs:element name=\"anyExt\" type=\"mcvideotransmission:anyExtType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"anyExtType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n<xs:complexType name=\"track-info-Type\">\n<xs:sequence>\n<xs:element name=\"queueing-capability\" type=\"xs:byte\"/>\n<xs:element name=\"participant-type\" type=\"xs:string\"/>\n<xs:element name=\"transmission-participant-reference\" type=\"xs:unsignedLong\" minOccurs=\"1\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideotransmission:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.5.3\tSemantic",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the elements of the transmission request XML Schema.\n<ssrc>:\tContains the SSRC of the transmission participant. The content of the SSRC field shall be coded as specified in IETF RFC 3550 [80].\n<transmission-priority>:\tContains the level of priority of the transmission request. The <transmission-priority> element is coded as specified in 3GPP TS 24.380 [79].\n<user-id>:\tContains the MCVideo ID of the MCVideo user requesting the permission to send media.\n<track-info>:\tContains the <queueing-capability> element, the <participant-type> element and the <transmission-participant-reference>.\n<transmission-indicator>:\tContains additional information. The <transmission-indicator> element is coded as specified in 3GPP TS 24.581 [5].\n<participant-type>:\tContains the participant type assigned to the MCVideo user identified by the <user-id> element. The <participant-type> element is coded as specified in3GPP TS 24.581 [5].\nNOTE:\tThe reference to the transmission participant is a value only understandable by the transmission control server interface in the non-Controlling function of an MCVideo group.\n<queueing-capability>:\tContains the queueing capability of the MCVideo client. The <queueing-capability> element is coded as specified in 3GPP TS 24.581 [5].\nThe recipient of the XML ignores any unknown element and any unknown attribute.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.5.4\tIANA registration template",
                    "description": "",
                    "summary": "",
                    "text_content": "Your Name:\n<MCC name>\nYour Email Address:\n<MCC email address>\nMedia Type Name:\nApplication\nSubtype name:\nvnd.3gpp.mcvideo-transmission-request+xml\nRequired parameters:\nNone\nOptional parameters:\n\"charset\"\tthe parameter has identical semantics to the charset parameter of the \"application/xml\" media type as specified in section 9.1 of IETF RFC 7303.\nEncoding considerations:\nbinary.\nSecurity considerations:\nSame as general security considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. In addition, this media type provides a format for exchanging information in SIP, so the security considerations from IETF RFC 3261 apply.\nThe information transported in this media type does not include active or executable content.\nMechanisms for privacy and integrity protection of protocol parameters exist. Those mechanisms as well as authentication and further security mechanisms are described in 3GPP TS 24.229.\nThis media type does not include provisions for directives that institute actions on a recipient's files or other resources.\nThis media type does not include provisions for directives that institute actions that, while not directly harmful to the recipient, may result in disclosure of information that either facilitates a subsequent attack or else violates a recipient's privacy in any way.\nThis media type does not employ compression.\nInteroperability considerations:\nSame as general interoperability considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any unknown XML attributes are to be ignored by recipient of the MIME body.\nPublished specification:\n3GPP TS 24.281 \"Mission Critical Video (MCVideo) call control\" version 14.1.0, available via http://www.3gpp.org/specs/numbering.htm.\nApplications which use this media type:\nApplications supporting the mission critical video as described in the published specification.\nFragment identifier considerations:\nThe handling in section 5 of IETF RFC 7303 applies.\nRestrictions on usage:\nNone\nProvisional registration? (standards tree only):\nN/A\nAdditional information:\n1.\tDeprecated alias names for this type: none\n2.\tMagic number(s): none\n3.\tFile extension(s): none\n4.\tMacintosh File Type Code(s): none\n5.\tObject Identifier(s) or OID(s): none\nIntended usage:\nCommon\nPerson to contact for further information:\n-\tName: <MCC name>\n-\tEmail: <MCC email address>\n-\tAuthor/Change controller:\ni)\tAuthor: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1@LIST.ETSI.ORG\nii)\tChange controller: <MCC name>/<MCC email address>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "F.6\tXML schema for regroup using preconfigured group",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "F.6.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines the XML schema and MIME type for regroup using preconfigured group.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.6.2\tXML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\ntargetNamespace=\"urn:3gpp:ns:preconfiguredRegroup:1.0\"\nxmlns:mcvideorgrp=\"urn:3gpp:ns:preconfiguredRegroup:1.0\"\nattributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\">\n\n<!-- root XML element -->\n<xs:element name=\"mcvideoregroup\" type=\"mcvideorgrp:mcvideoregroup-Type\" id=\"info\"/>\n\n<xs:complexType name=\"mcvideoregroup-Type\">\n<xs:sequence>\n<xs:element name=\"mcvideoregroup-Params\" type=\"mcvideorgrp:mcvideoregroup-ParamsType\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideorgrp:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"mcvideoregroup-ParamsType\">\n<xs:sequence>\n<xs:element name=\"preconfig-group-id\" type=\"mcvideorgrp:preconfig-group-Type\"/>\n<xs:element name=\"mcvideo-regroup-uri\" type=\"mcvideorgrp:mcvideo-regroup-uri-Type\"/>\n<xs:element name=\"groups-for-regroup\" type=\"mcvideorgrp:groups-for-regroup-Type\" minOccurs=\"0\"/>\n<xs:element name=\"users-for-regroup\" type=\"mcvideorgrp:users-for-regroup-Type\" minOccurs=\"0\"/>\n<xs:element name=\"regroup-action\" type=\"xs:string\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideorgrp:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"preconfig-group-Type\">\n<xs:sequence>\n<xs:element type=\"xs:anyURI\" name=\"preconfigured-group\" minOccurs=\"0\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideorgrp:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"mcvideo-regroup-uri-Type\">\n<xs:sequence>\n<xs:element type=\"xs:anyURI\" name=\"mcvideo-regroup-uri\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideorgrp:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"groups-for-regroup-Type\">\n<xs:sequence>\n<xs:element type=\"xs:anyURI\" name=\"group\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideorgrp:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"users-for-regroup-Type\">\n<xs:sequence>\n<xs:element type=\"xs:anyURI\" name=\"user\" maxOccurs=\"unbounded\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"anyExt\" type=\"mcvideorgrp:anyExtType\" minOccurs=\"0\"/>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"anyExtType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.6.3\tSemantic",
                    "description": "",
                    "summary": "",
                    "text_content": "The <preconfigured-group> element shall contain a URI identifying the preconfigured MCVideo group.\nThe <mcvideo-regroup-uri> element shall contain a URI containing the temporary group identity identifying the regroup.\nThe <groups-for-regroup> element shall contain one or more <group> elements that shall each contain a URI of a group that is to be a constituent group of the regroup.\nThe <users-for-regroup> element shall contain one or more <user> elements that shall each contain an MCVideo ID of a user that is to be affiliated to the regroup.\nThe XML document shall have either one <groups-for-regroup> element or one <users-for-regroup> element, but not both.\nIf the <regroup-action> element contains the string \"create\" then:\n1)\tif a <groups-for-regroup> element exists in the received XML, then:\na)\tif the recipient is the controlling MCVideo function for the MCVideo group identified in the <preconfigured-group> element the recipient shall follow the procedures to create a group regroup with identity equal to the value contained in the <mcvideo-regroup-uri> element based on the configuration of the preconfigured MCVideo group identified in the <preconfigured-group> element;\nb)\tif the recipient is a non-controlling MCVideo function, the recipient shall follow the procedures to affiliate users belonging to any constituent groups of the group regroup with identity equal to the value contained in the <mcvideo-regroup-uri> element based on the configuration of the preconfigured MCVideo group identified in the <preconfigured-group> element; and\nc)\tif the recipient is the terminating participating MCVideo function for one or more MCVideo users affiliated to a constituent group of the group regroup, the recipient shall follow the procedures to notify each MCVideo user in the list of users in the <users-for-regroup> element that it serves of the group regroup and affiliate those users to the group regroup; and\n2)\tif a <users-for-regroup> element exists in the received XML, then:\na)\tif the recipient is the controlling MCVideo function for the MCVideo group identified in the <preconfigured-group> element, the recipient shall follow the procedures to create a user regroup with identity equal to the value contained in the <mcvideo-regroup-uri> element based on the configuration of the preconfigured MCVideo group identified in the <preconfigured-group> element; and\nb)\tif the recipient is the terminating participating MCVideo function for one or more MCVideo users identified in the <users-for-regroup> element, the recipient shall follow the procedures to notify each MCVideo user in the list of users in the <users-for-regroup> element that it serves of the user regroup and affiliate those users to the user regroup.\nIf the <regroup-action> element contains the string \"remove\" then:\n1)\tthe recipient shall follow the procedures to remove the regroup identified in the <mcvideo-regroup-uri> element.\nThe recipient of the XML ignores any unknown element and any unknown attribute.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.6.4\tIANA registration template",
                    "description": "",
                    "summary": "",
                    "text_content": "Editor's Note:\t[enh3MCPTT-CT, CR 0096] MCC is requested to submit the IANA registration.\nYour Name:\n<MCC name>\nYour Email Address:\n<MCC email address>\nMedia Type Name:\nApplication\nSubtype name:\nvnd.3gpp.mcvideo-regroup+xml\nRequired parameters:\nNone\nOptional parameters:\n\"charset\"\tthe parameter has identical semantics to the charset parameter of the \"application/xml\" media type as specified in section 9.1 of IETF RFC 7303.\nEncoding considerations:\nbinary.\nSecurity considerations:\nSame as general security considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. In addition, this media type provides a format for exchanging information in SIP, so the security considerations from IETF RFC 3261 apply.\nThe information transported in this media type does not include active or executable content.\nMechanisms for privacy and integrity protection of protocol parameters exist. Those mechanisms as well as authentication and further security mechanisms are described in 3GPP TS 24.229.\nThis media type does not include provisions for directives that institute actions on a recipient's files or other resources.\nThis media type does not include provisions for directives that institute actions that, while not directly harmful to the recipient, may result in disclosure of information that either facilitates a subsequent attack or else violates a recipient's privacy in any way.\nThis media type does not employ compression.\nInteroperability considerations:\nSame as general interoperability considerations for application/xml media type as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any unknown XML attributes are to be ignored by recipient of the MIME body.\nPublished specification:\n3GPP TS 24.282 \"Mission Critical Data (MCVideo) signalling control\" version 17.0.0, available via http://www.3gpp.org/specs/numbering.htm.\nApplications which use this media type:\nApplications supporting the mission critical push to talk as described in the published specification.\nFragment identifier considerations:\nThe handling in section 5 of IETF RFC 7303 applies.\nRestrictions on usage:\nNone\nProvisional registration? (standards tree only):\nN/A\nAdditional information:\n1.\tDeprecated alias names for this type: none\n2.\tMagic number(s): none\n3.\tFile extension(s): none\n4.\tMacintosh File Type Code(s): none\n5.\tObject Identifier(s) or OID(s): none\nIntended usage:\nCommon\nPerson to contact for further information:\n-\tName: <MCC name>\n-\tEmail: <MCC email address>\n-\tAuthor/Change controller:\ni)\tAuthor: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1@LIST.ETSI.ORG\nii)\tChange controller: <MCC name>/<MCC email address>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "G.1\tMCVideo emergency state",
            "description": "The MCVideo emergency state is managed by the MCVideo client and MCVideo user. High-level characteristics of this state are captured in table G-1.1.\nTable G.1-1: MCVideo emergency state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.1-1: MCVideo emergency state",
                    "table number": 70,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.2\tIn-progress emergency group state",
            "description": "This state is described in both 3GPP TS 22.281 [36] and 3GPP TS 23.281 [26]. It is managed by the controlling MCVideo function. High-level characteristics of this state are captured in table G.2-1.\nTable G.2-1: in-progress emergency group state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.2-1: in-progress emergency group state",
                    "table number": 71,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.3\tMCVideo emergency group state",
            "description": "The MCVideo emergency group state is the MCVideo client's perspective of the in-progress emergency group state which is managed by the controlling MCVideo function. The MCVideo emergency group (MVEG) state is managed by the MCVideo client to enable the requesting of MCVideo emergency-level priority as early as possible in the origination of an MCVideo emergency group call. High-level characteristics of this state are captured in table G.3-1.\nTable G.3-1: MCVideo emergency group state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.3-1: MCVideo emergency group state",
                    "table number": 72,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.4\tMCVideo emergency group call state",
            "description": "Table G.4-1 provides the semantics of the MCVideo emergency group call (MVEGC) state values. This internal state of the MCVideo client and is managed by the MCVideo client. These states aid in the managing of the information elements of MCVideo emergency group calls and MCVideo emergency alerts and their cancellations.\nTable G.4-1: MCVideo emergency group call state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.4-1: MCVideo emergency group call state",
                    "table number": 73,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.5\tMCVideo emergency alert state",
            "description": "Table G.5-1provides the semantics of the MCVideo emergency alert (MVEA) state values. This is an internal state of the MCVideo client and is managed by the MCVideo client. These states aid in the managing of the information elements of MCVideo emergency group calls and MCVideo emergency alerts and their cancellations.\nTable G.5-1: MCVideo emergency alert state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.5-1: MCVideo emergency alert state",
                    "table number": 74,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.6\tIn-progress imminent peril group state",
            "description": "This state is described in both 3GPP TS 22.281 [36] and 3GPP TS 23.281 [26]. It is managed by the controlling MCVideo function. High-level characteristics of this state are captured in table G.6-1.\nTable G.6-1: in-progress imminent peril group state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.6-1: in-progress imminent peril group state",
                    "table number": 75,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.7\tMCVideo imminent peril group state",
            "description": "The MCVideo imminent peril group state is the MCVideo client's perspective of the in-progress imminent peril group state which is managed by the controlling MCVideo function. The MCVideo imminent peril group (MVIG) state is managed by the MCVideo client to enable the requesting of MCVideo imminent peril-level priority as early as possible in the origination of an MCVideo imminent peril group call. High-level characteristics of this state are captured in table G.7-1.\nTable G.7-1: MCVideo imminent peril group state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.7-1: MCVideo imminent peril group state",
                    "table number": 76,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.8\tMCVideo imminent peril group call state",
            "description": "Table G.8-1 provides the semantics of the MCVideo imminent peril group call (MVIGC) state values. This internal state of the MCVideo client and is managed by the MCVideo client. These states aid in the managing of the information elements of MCVideo imminent peril group calls and their cancellations.\nTable G.8-1: MCVideo imminent peril group call state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.8-1: MCVideo imminent peril group call state",
                    "table number": 77,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.9\tIn-progress emergency private call state",
            "description": "This state is managed by the controlling MCVideo function. All private calls originated between an initiator and the target MCVideo user when they are in an in-progress emergency private call state are MCVideo emergency private calls until this state is cancelled, whether or not the originator of the private call is in an MCVideo emergency state.\nTable G.9-1: in-progress emergency private call state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.9-1: in-progress emergency private call state",
                    "table number": 78,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.10\tMCVideo emergency private priority state",
            "description": "The MCVideo emergency private priority state is the MCVideo client's perspective of the in-progress emergency private call state which is managed by the controlling MCVideo function. The MCVideo emergency private priority (MVEPP) state is managed by the MCVideo client to enable the requesting of MCVideo emergency-level priority as early as possible in the origination of an MCVideo emergency private call. High-level characteristics of this state are captured in table G.10-1.\nTable G.10-1: MCVideo emergency private priority state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.10-1: MCVideo emergency private priority state",
                    "table number": 79,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.11\tMCVideo emergency private call state",
            "description": "Table G.11-1 provides the semantics of the MCVideo emergency private call (MEPC) state values. This is an internal state of the MCVideo client and is managed by the MCVideo client. This state aids in the managing of the information elements of MCVideo emergency private calls and MCVideo emergency alerts and their cancellations.\nTable G.11-1: MCVideo emergency private call state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.11-1: MCVideo emergency private call state",
                    "table number": 80,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "G.12\tMCVideo private emergency alert state",
            "description": "Table G.5-1provides the semantics of the MCVideo private emergency alert (MVPEA) state values. This is an internal state of the MCVideo client and is managed by the MCVideo client. These states aid in the managing of the information elements of MCVideo emergency private calls and MCVideo emergency alerts and their cancellations. MCVideo private emergency alerts are targeted to an MCVideo user.\nTable G.12-1: MCVideo private emergency alert state\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table G.12-1: MCVideo private emergency alert state",
                    "table number": 81,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "H.1\tGeneral",
            "description": "The following clauses summarise the identities placed into SIP headers and SIP bodies during session establishment.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "H.2\tGroup Call",
            "description": "Table H.2-1 describes the contents of the SIP headers and SIP bodies inserted by MCVideo clients and MCVideo servers involved in a group call.\nTable H.2-1: Routing considerations for group call\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table H.2-1: Routing considerations for group call",
                    "table number": 82,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "H.3\tPrivate Call",
            "description": "Table H.3-1 describes the contents of the SIP headers and SIP bodies inserted by MCVideo clients and MCVideo servers involved in a private call.\nTable H.3-1: Routing considerations for private call\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table H.3-1: Routing considerations for private call",
                    "table number": 83,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "I.1\tInfo package for transfer of transmission participants requests",
            "description": "Editor's note:\t[CT1#133-e, C1-217178, CR0146 rev 1]: The info package type \"application/vnd.3gpp.mcvideo-transmission-request+xml\" as defined in this clause is to be registered in the IANA registry for Application Media Types based upon the following template. The registration is to be started at the completion of 3GPP release 17.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "I.1.1\tScope",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause contains the information required for the IANA registration of info package g.3gpp.mcvideo-transmission-request in accordance with IETF RFC 6086 [21].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "I.1.2\tg.3gpp.mcvideo-transmission-request info package",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "I.1.2.1\tOverall description",
                            "text_content": "When a temporary group call includes constituent MCVideo groups in partner systems where an MCVideo call is ongoing and if there is a participant with permission to transmit, the non-controlling MCVideo function of an MCVideo group needs to transfer information of the currently transmitting user(s) to the controlling MCVideo function hosting the temporary group. The information is transferred in the form of a transmission request.The controlling MCVideo function will then determine if the participant will be permitted to continue to transmit or if the permission to transmit is revoked.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.2\tApplicability",
                            "text_content": "This package is used to transport a transmission request from the non-controlling MCVideo function of an MCVideo group to the controlling MCVideo function hosting the temporary group.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.3\tAppropriateness of INFO Package Usage",
                            "text_content": "A number of solutions were discussed for the transportation of the transmission request to the controlling MCVideo function hosting the temporary MCVideo group. The solutions were:\n1)\tUse of the session related methods (e.g. SIP 200 (OK) response to the SIP INVITE request).\n2)\tUse of the SIP MESSAGE method.\n3)\tUse of the SIP INFO method as described in IETF RFC 6086 [21], by defining a new info package.\nThe result of the evaluation of the above solutions were:\n1)\tTo include such a large amount of data in a SIP 200 (OK) response to an SIP INVITE request could cause problems with the size of the SIP 200 (OK) response resulting in packet fragmentation.\n2)\tThe use of the SIP MESSAGE request would result in that the recommended value of size of the information transferred by the SIP MESSAGE request would be exceeded.\n3)\tThe use of SIP INFO request was found as the most appropriate solution since the SIP INFO request could be sent in the existing SIP session.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.4\tInfo package name",
                            "text_content": "g.3gpp.mcvideo-transmission-request\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.5\tInfo package parameters",
                            "text_content": "None defined\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.6\tvoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.7\tINFO message body parts",
                            "text_content": "The MIME type of the message body carrying participant identities is application/vnd.3gpp.mvideo-transmission-request+xml. The application/vnd.3gpp.mcvideo-transmission-request+xml MIME type is defined in 3GPP TS 24.281.\nWhen associated with the g.3gpp.mcvideo-transmission-request info package, the Content-Disposition value of the message body carrying the floor request is \"info-package\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.8\tInfo package usage restrictions",
                            "text_content": "None defined.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.9\tRate of INFO Requests",
                            "text_content": "Single INFO request generated after session set up.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.10\tInfo package security considerations",
                            "text_content": "The security is based on the generic security mechanism provided for the underlying SIP signalling. No additional security mechanism is defined.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.1.2.11\tImplementation details and examples",
                            "text_content": "UAC generation of INFO requests: See 3GPP TS 24.281: \"Mission Critical Video (MCVideo) signalling control; Protocol specification\".\nUAS processing of INFO requests: See 3GPP TS 24.281: \"Mission Critical Video (MCVideo) signalling control; Protocol specification\".\nEXAMPLE:\tA controlling MCVideo function hosting a temporary MCVideo group inviting a constituent MCVideo group hosted by a non-controlling MCVideo function of an MCVideo group in a partner system where an MCVideo call is ongoing with one or two of the participants granted to transmit. Then the non-controlling MCVideo function of the constituent MCVideo group sends a SIP INFO request carrying a transmission request in an application/vnd.3gpp.mcvideo-transmission-request+xml MIME body using the g.3gpp.mcvideo-transmission-request info package.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "I.2\tInfo package for transfer of MCVideo information",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "I.2.1\tScope",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause contains the information required for the IANA registration of info package g.3gpp.mcvideo-info in accordance with IETF RFC 6086 [21].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "I.2.2\tg.3gpp.mcvideo-info info package",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "I.2.2.1\tOverall description",
                            "text_content": "The MCVideo client request for MCVideo emergency call origination can also optionally request the origination of an MCVideo emergency alert.  Similarly, the MCVideo client request for MCVideo emergency call cancellation can also optionally request the cancellation of an MCVideo emergency alert. A mechanism to inform the MCVideo client that one of the requested actions has been rejected by the controlling MCVideo function is needed to both inform the MCVideo user that one of their requested actions has been rejected and to keep the emergency and imminent peril related state machines maintained by the MCVideo client updated appropriately. Note that a SIP 200 OK has to be sent in the case where the MCVideo emergency call origination request or cancellation request is accepted by the controller to allow the MCVideo user to initiate the MCVideo emergency call and receive updated priority even if the accompanying MCVideo alert request is rejected.\nAn MCVideo client request for an MCVideo imminent peril call when the targeted MCVideo group is in an in-progress emergency state also needs special handling, as in this case, the call request will be accepted but the MCVideo client needs to be informed that the MCVideo user will be joined to an in-progress MCVideo emergency group call instead of the requested MCVideo imminent peril group call to keep the emergency and imminent peril related state machines maintained by the MCVideo client updated appropriately.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.2\tApplicability",
                            "text_content": "This package is used to transport emergency call, imminent peril and emergency alert indications from the controlling function to the MCVideo client\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.3\tAppropriateness of INFO Package Usage",
                            "text_content": "A number of solutions were discussed for the transportation of the emergency call, imminent peril and emergency alert indications from the controlling function to the MCVideo client. The solutions were:\n1)\tUse of the session related methods (e.g. SIP 200 (OK) response to the SIP INVITE request).\n2)\tUse of the SIP MESSAGE method.\n3)\tUse of the SIP INFO method as described in IETF RFC 6086, by defining a new info package.\nThe result of the evaluation of the above solutions were:\n1)\tTo include such a large amount of data in a SIP 200 (OK) response to an SIP INVITE request could cause problems with the size of the SIP 200 (OK) response resulting in packet fragmentation.\n2)\tThe use of the SIP MESSAGE request would result in that the recommended value of size of the information transferred by the SIP MESSAGE request would be exceeded.\n3)\tThe use of SIP INFO request was found as the most appropriate solution since the SIP INFO request could be sent in the existing SIP session.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.4\tInfo package name",
                            "text_content": "g.3gpp.mcvideo-info\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.5\tInfo package parameters",
                            "text_content": "None defined\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.6\tvoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.7\tINFO message body parts",
                            "text_content": "The MIME type of the message body carrying participant identities is application/vnd.3gpp.mcvideo-info+xml. The application/vnd.3gpp.mcvideo-info+xml MIME type is defined in 3GPP TS 24.379.\nWhen associated with the g.3gpp.mcvideo-info info package, the Content-Disposition value of the message body carrying mcvideo information is \"info-package\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.8\tInfo package usage restrictions",
                            "text_content": "None defined.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.9\tRate of INFO Requests",
                            "text_content": "Single INFO request generated after session set up.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.10\tInfo package security considerations",
                            "text_content": "The security is based on the generic security mechanism provided for the underlying SIP signalling. No additional security mechanism is defined.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "I.2.2.11\tImplementation details and examples",
                            "text_content": "UAC generation of INFO requests: See 3GPP TS 24.281: \"Mission Critical Video (MCVideo) call control; Protocol specification\".\nUAS processing of INFO requests: See 3GPP TS 24.281: \"Mission Critical Video (MCVideo) call control; Protocol specification\"\nEXAMPLE:\tA controlling MCVideo function will receive a SIP INVITE request or SIP (re-)INVITE request containing a request for an emergency call (with or without an alert) or an imminent peril call. When an emergency call has been authorised but an optional request for an emergency alert has been determined to be unauthorised, the controller will respond with a SIP 200 (OK) response to indicate acceptance of the call request and return an indication of the rejection of the emergency alert request in a SIP INFO request carrying the application/vnd.3gpp.mcvideo-info+xml MIME body using the g.3gpp.mcvideo-info info package.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "J.1\tGeneral",
            "description": "The present document applies to both EPS and 5GS. This annex lists the aspects of MCVideo session control protocols which are different in 5GS from EPS. Certain aspects that are only applicable to EPS are described in clause J.2. A mapping of EPS-specific terms to their 5GS equivalents is provided in clause J.3.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "J.2\tAspects not applicable to 5GS",
            "description": "The following aspects of EPS mentioned in the present document are not applicable to 5GS:\n-\tProximity-services (ProSe) and the corresponding procedures are replaced by 5G ProSe and the corresponding procedures in 5GS; and\n-\tMultimedia Broadcast and Multicast Service (MBMS) and the corresponding procedures.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "J.3\tMapping of EPS-specific terms to 5GS",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "J.3.1\tSession aspects",
                    "description": "",
                    "summary": "",
                    "text_content": "In 5GS, the PDU session is the equivalent of a PDN connection in EPS. The requirements and configurations for a PDN connection throughout this document shall also apply to PDU sessions.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "J.3.2\tBearer aspects",
                    "description": "",
                    "summary": "",
                    "text_content": "When using the 5GS, a bearer is provided by a 5GS QoS flow. The requirements, procedures, and configurations for a bearer throughout this document, including those stating EPS explicitly (e.g., EPS bearer priority), shall also apply also to QoS flows.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "J.3.3\tMapping of MBMS terms to MBS",
                    "description": "",
                    "summary": "",
                    "text_content": "In the EPS, using the MBMS procedures, in the 5GS or eMBMS and 5G MBS co-existence, using the MBS procedures;\n-\tin the MBS procedures, references to 4G \"MBMS\" is understood to be references to 5G \"MBS\";\n-\tin the MBS procedures, references to 4G \"TMGI\" is understood to be references to 5G \"MBS session ID\";\n-\tin the MBS procedures, references to 4G \"application/vnd.3gpp.mcvideo-mbms-usage-info+xml\" is understood to be references to 5G \"application/vnd.3gpp.mcvideo-mbs-usage-info+xml\"; and\n-\tin the MBS procedures, MapGroupToSessionStream is similar to the Map Group To Bearer in eMBMS, as specified in 3GPP TS 23.289 [85].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "J.3.4\tMapping of ProSe terms to 5G ProSe",
                    "description": "",
                    "summary": "",
                    "text_content": "The procedures defined in this specification are reused for off-network communication and on-network communication (i.e. UE-to-network relay) for MCVideo service over 5G ProSe with the following differences:\n-\tProSe direct discovery for public safety shall be replaced with 5G ProSe direct discovery, as specified in 3GPP TS 24.554 [87].\n-\tProSe direct communication shall be replaced with 5G ProSe direct communication, as specified in 3GPP TS 24.554 [87].\n-\tProSe UE-to-network relay shall be replaced with 5G ProSe UE-to-network relay, as specified in 3GPP TS 24.554 [87].\n-\tPPPP (ProSe Per-Packet Priority) shall be replaced with PQI, as specified in 3GPP TS 24.554 [87]\n\n\n\n",
                    "tables": [
                        {
                            "description": "",
                            "table number": 84,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        }
    ]
}