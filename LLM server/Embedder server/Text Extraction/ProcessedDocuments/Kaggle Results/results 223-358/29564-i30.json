{
    "document_name": "29564-i30.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document specifies the stage 3 protocol and data model for the Nupf Service Based Interface. It provides stage 3 protocol definitions and message flows, and specifies the API for each service offered by the UPF.\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.548[14].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", .\n[7]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[8]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[9]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[10]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[11]\tIETF RFC 9113: \"HTTP/2\".\n[12]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[13]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[14]\t3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".\n[15]\t3GPP TS 29.244: \"Interface between the Control Plane and the User Plane Nodes; Stage 3\".\n[16]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[17]\t3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to support network data analytics services\".\n[18]\t3GPP TS 24.539: \"5G System (5GS); Network to TSN translator (TT) protocol aspects; Stage 3\".\n[19]\t3GPP TS 29.512: \"5G System; Session Management Policy Control Service; Stage 3\".\n[20]\t3GPP TS 29.122: \"Technical Specification Group Core Network and Terminals; T8 reference point for Northbound APIs\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tSymbols",
                    "description": "",
                    "summary": "",
                    "text_content": "None in this release.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.3\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nAF\tApplication Function\nDCCF\tData Collection Coordination Function\nL-UPF\tLocal User Plane Function\nL-NEF\tLocal Network Exposure Function\nMFAF\tMessaging Framework Adaptor Function\nNEF\tNetwork Exposure Function\nNWDAF\tNetwork Data Analytics Function\nUPF\tUser Plane Function\nSMF\tSession Management Function\nTSCTSF\tTime Sensitive Communication and Time Synchronization Function\nTSN\tTime Sensitive Networking\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tOverview",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "Within the 5GC, the UPF offers services to the NEF, AF, SMF, NWDAF, DCCF, MFAF, TSCTSF and TSN AF via the Nupf service based interface (see 3GPP TS 23.501 [2], 3GPP TS 23.502 [3], 3GPP TS 23.288 [17] and 3GPP TS 23.548 [14]).\nFigure 4.1-1 provides the reference model (in service based interface representation and in reference point representation), with focus on the UPF.\nThe figure depicts a reference model for a 5G network, showing the various components and their interconnections. The model includes a base station (gNB), user equipment (UE), and scatterers. Key components include the base station, which is responsible for transmitting signals, and the user equipment, which receives and processes the signals. Scatterers are the physical elements that reflect the signals, such as buildings and other structures. The figure highlights the importance of beamforming techniques to mitigate interference and ensure reliable communication.\nFigure 4.1-1: Reference model – UPF\nThe UPF supports the following functionalities which are provided via Service Based Interface:\n-\tSubscription to notifications of events exposed by the UPF;\n-\tNotification about UPF events; and\n-\tTranslation of (NATed) Public UE IP address and port to (5GC) Private UE IP address.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tServices offered by the UPF",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The UPF offers the following services via the Nupf interface:\n-\tNupf_EventExposure Service\n-\tNupf_GetPrivateUEIPaddr Service\nTable 5.1-1 summarizes the SBI services produced by the UPF:\nTable 5.1-1: NF Services provided by UPF\n\nTable 5.2-1 summarizes the corresponding APIs defined for this specification.\nTable 5.2-1: API Descriptions\n\n",
                    "tables": [
                        {
                            "description": "Table 5.1-1: NF Services provided by UPF",
                            "table number": 3,
                            "summary": "",
                            "name": ""
                        },
                        {
                            "description": "Table 5.2-1: API Descriptions",
                            "table number": 4,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tNupf_EventExposure Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tService Description",
                            "text_content": "The Nupf_EventExposure service enables NF service consumers to subscribe to UPF events and/or the UPF to send notifications about UPF events to NF service consumers.\nThe Nupf_EventExposure service supports the service operations defined in Table 5.2.1.1-1.\nTable 5.2.1.1-1: Service operations supported by the Nupf_EventExposure service\n\nThe UPF exposes UPF events via the Nupf_EventExposure service as defined in Table 5.2.1.2-1.\nTable 5.2.1.2-1: Subscriptions to UPF events\n\nClause 5.2.1.3 decribes which of the above subscriptions shall be used for each event type supported by the Nupf_EventExposure service.\nThe Nupf_EventExposure service supports the events defined in this clause.\nSee also clauses 4.15.4.5.1 and 5.2.26.2.1 of 3GPP TS 23.502 [3].\nTable 5.2.1.3.2-1: QoS Monitoring event\n\nTable 5.2.1.3.3-1: User Data Usage Measures event\n\nTable 5.2.1.3.4-1: User Data Usage Trends event\n\nTable 5.2.1.3.5-1: TSC Management Information event\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.1.1-1: Service operations supported by the Nupf_EventExposure service",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.2-1: Subscriptions to UPF events",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.3.2-1: QoS Monitoring event",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.3.3-1: User Data Usage Measures event",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.3.4-1: User Data Usage Trends event",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.3.5-1: TSC Management Information event",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.2\tService Operations",
                            "text_content": "The service operations defined for the Nupf_EventExposure service are as follows:\n-\tSubscribe: It enables an NF service consumer to subscribe to UPF event exposure notifications..\n-\tUnsubscribe: It enables an NF service consumer to unsubscribe from UPF event exposure notifications.\n-\tNotify: It allows the UPF to send event notifications directly to NF service consumers.\nNOTE:\tThe Subscribe and Unsubscribe service operations only apply to UPF events that can be subscribed using the Nupf service based interface (see clauses 5.2.1.2 and 5.2.1.3).\nThe Subscribe service operation is used by a NF Service Consumer to subscribe to UPF event exposure notifications, e.g. for the purpose of UPF data collection for a specified PDU session or any UE.\nNOTE:\tNF service consumers can only be SMF, NWDAF or DCCF in this release of the specification.\nAn NF Service Consumer shall invoke the Subscribe service operation towards the UPF to create a subscription to monitor at least one UPF event. The NF Service Consumer may subscribe to multiple events in a subscription. A subscription may be associated with one UE's PDU session or with any UE.\nThe NF Service Consumer shall request to create a new subscription by using the HTTP method POST with the URI of the subscriptions collection, see clause 6.1.3.2.\nFigure 5.2.2.2.2-1: Subscription creation in the telecommunication network.\nFigure 5.2.2.2.2-1 Subscription creation\n1.\tThe NF Service Consumer shall send a POST request to create a subscription resource in the UPF. The content of the POST request shall contain a representation of the individual subscription resource to be created.\nThe NF Service Consumer shall include the following information in the HTTP message body:\n-\tNF ID, indicating the identity of the network function instance creating the subscription;\n-\tTarget of Event Reporting, indicating the target(s) to be monitored, i.e.\n-\ta specific PDU Session of a UE identified with a UE IP address; or\n-\tany UE (identified by the \"anyUE\" flag);\n-\tList of UPF events requested to be subscribed;\n-\tEvent Reporting Mode, indicating how the events shall be reported (One-time Report or Periodic Report); and\n-\tUPF event consumer notification URI, indicating the address where to send the event notifications generated by the subscription.\nThe NF Service Consumer may include the following information in the HTTP message body:\n-\ta SUPI, PEI or GPSI identifying a specific UE;\n-\tone or more S-NSSAI(s) and/or DNN(s) of PDU sessions to which the subscription applies;\n-\tone or more Application ID(s) or traffic filters identifying the traffic to be monitored by the subscription (only applicable to a subscription targeting a specific PDU Session of a UE identified with a UE IP address);\n-\tType of measurement, for UPF events supporting multiple types of measurement (e.g. UserDataUsageMeasures event)\n-\tGranularity of Measurement, indicating that the granularity of the required measurements is per PDU Session, per data flow or per application;\n-\tReporting period, defining the period for periodic reporting;\n-\tMaximum number of reports, defining the maximum number of reports after which the event subscription ceases to exist;\n-\tExpiry time, suggested by the NF Service Consumer representing the time up to which the subscription is desired to be kept active and the time after which the subscribed event(s) shall stop generating report;\n-\tReporting suggestion information, i.e. Report urgency indicating whether the event report can be delayed (i.e. it is delay-tolerant) and if so, the Reporting time information defining the last valid reporting time for the UPF to report the detected event;\n-\tDeactivate notification flag, indicating that the notification of the available events shall be muted until the event consumer NF (e.g. NWDAF or DCCF) provides the retrieval notification flag to retrieve the events stored;\n-\tImmediate Report Flag per event, indicating an immediate report to be generated with the current event status; and/or\n-\tNotification Correlation ID, indicating the correlation identity to be signaled in the event notifications generated by the subscription.\n-\tSampling ratio, defining the random subset of PDU sessions among target PDU sessions, and the UPF only report the event(s) related to the selected subset of PDU sessions;\n-\tpartitioningCriteria, defining the criteria for partitioning PDU sessions before applying sampling ratio;\n-\tMuting Exception Instructions, which specify instructions to apply to the subscription and the stored events when an exception occurs at the UPF while the event is muted (e.g., the buffer of stored event reports is full, or the number of stored event reports exceeds a certain number), if the EEMM feature is supported (see clause 6.1.8).\n2a.\tOn success (i.e. if the request is accepted), the UPF shall include a HTTP Location header to provide the location of the newly created resource (subscription) together with the status code 201 indicating the requested resource is created in the response message.\n\nIf the NF Service Consumer has included more than one events in the event subscription and some of the events cannot be subscribed, the UPF shall accept the request and provide the successfully subscribed event(s) in the CreatedEventSubscription.\n\nIf the NF Service Consumer has included the Immediate Report Flag with the value true in the event subscription, and if the current status of the events subscribed are available, the UPF shall include the current status of the events subscribed in the response. Otherwise, the UPF shall generate reports for the events and notify the NF service consumer using the Nupf_EventExposure_Notify service operation. If the events with the Immediate Report Flag set to true are subscribed via an SMF, the notification shall be sent to the actual NF service consumer directly, i.e. the current status of the events subscribed shall not be included in the subscription creation response.\nIf the NF Service Consumer has set the event reporting option to ONE_TIME and if the UPF has included the current status of the events subscribed in the response, then the UPF shall not do any subsequent event notification for the corresponding events.\nThe response, based on operator policy and taking into account the expiry time included in the request, may contain the expiry time, as determined by the UPF, after which the subscription becomes invalid. Once the subscription expires, if the NF Service Consumer wants to keep receiving notifications, it shall create a new subscription in the UPF. The UPF shall not provide the same expiry time for many subscriptions in order to avoid all of them expiring and recreating the subscription at the same time. If the expiry time is not included in the response, the NF Service Consumer shall consider the subscription to be valid without an expiry time.\nIf the sampling ratio (\"sampRatio\") attribute is included in the subscription without a partitioningCriteria, the UPF shall select a random subset of PDU sessions among target PDU sessions according to the sampling ratio and only report the event(s) related to the selected subset of PDU sessions. If the partitioningCriteria attribute is also included along with sampling ratio, the UPF shall apply the sampling ratio on the group of PDU sessions determined according to the partitioning criteria.\nIf the \"notifFlag\" attribute is included and set to \"DEACTIVATE\" in the request by e.g. the NWDAF or DCCF, the UPF shall mute the event notification and store the available events. Additionally, if the UPF supports the EEMM feature (see clause 6.1.8) and if the NF service consumer includes event muting instructions in the request, the UPF should evaluate the received event muting instructions against to local actions (if configured) and, if the subscription creation request is accepted, the UPF may indicate the following information to the NF service consumer in the response:\n-\tthe maximum number of notifications that the UPF expects to be able to store for the subscription;\n-\tan estimate of the duration for which notifications can be buffered.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.2.3.1-3.\nIf the UPF supports the EEMM features (see clause 6.1.8), the NF service consumer sets the \"notifFlag\" attribute to \"DEACTIVATE\" and event muting instructions in the request, but the UPF cannot accept the received instructions, the UPF may reject the request with a 403 Forbidden response and the application error \"MUTING_EXC_INSTR_NOT_ACCEPTED\".\nThe service operation is invoked by a NF Service Consumer, towards the UPF, when it needs to modify an existing subscription previously created at the UPF.\nThe NF Service Consumer shall modify the subscription by using the HTTP method PATCH with the URI of the individual subscription resource (see clause 6.1.3.3) to be modified.\n\nThe figure depicts a subscription modification process, showing how a user can modify their subscription plan. The process involves selecting the desired plan, entering the new plan details, and submitting the change. The figure illustrates the user interface and the steps involved in the modification process.\nFigure 5.2.2.2.3-1: Modification of a subscription\n1.\tThe NF service consumer shall send a PATCH request to the resource representing a subscription. The modification may be for the events subscribed or for updating the event report options, or the NF Id.\n2a.\tOn success, the request is accepted, and all the modification instructions in the PATCH request have been implemented, the UPF shall respond with \"204 No Content\".\n2b.\tOn success, the request is accepted, but some of the modification instructions in the PATCH request have been discarded, the UPF shall respond with \"200 OK\" including PatchResult to indicate the failed modifications.\n2c.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.3.2-3 shall be returned. For a 4xx/5xx response, the message body may contain a ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.3.3.2-3.\nThe Unsubscribe service operation is invoked by a NF Service Consumer towards the UPF to delete an existing subscription previously created at the UPF.\nThe NF Service Consumer shall unsubscribe from a subscription by using the HTTP method DELETE with the URI of the individual subscription resource (see clause 6.1.3.3) to be deleted.\nThe figure depicts a network topology with various components, including a base station (gNB), user equipment (UE), and scatterers. The diagram illustrates the signal propagation in a 5G network, with key components such as the base station, user equipment, and scatterers. The figure also highlights beamforming techniques to mitigate interference.\nFigure 5.2.2.2A.1-1 Unsubscribing from UPF events\n1.\tThe NF Service Consumer shall send a DELETE request to delete an existing subscription resource in the UPF.\n2a.\tOn success (i.e. if the request is accepted), the UPF shall reply with the status code 204 in the response message to indicate that the resource identified by the subscription ID has been successfully deleted.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.3.1-3 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.3.3.1-3.\nThe Notify service operation is invoked by the UPF, to send a notification, towards the notification URI, when certain event included in the subscription has taken place.\nFor the events \"USER_DATA_USAGE_MEASURES\" and \"USER_DATA_USAGE_TRENDS\", the UPF shall use the HTTP method POST, using the notification URI received in the subscription creation as specified in clause 5.2.2.2.2, including e.g. the subscription ID, Event ID(s) for which event has happened, notification correlation ID provided by the NF service consumer at the time of event subscription, to send a notification.\nIf the subscription is targeting PDU sessions of any UE, i.e. the \"anyUe\" is set to true, the UPF shall perform the requested measurements per PDU session and send notification(s) with multiple NotificationItem IEs within the NotificationData wherein each NotificationItem shall correspond to a report on one subscribed event per PDU session. See Figure 5.2.2.3.2-1. If the subscription request included a sampling ratio, the notification may include the sampling ratio achieved by the UPF.\nFor the events \"QOS_MONITORING\" and \"TSC_MNGT_INFO\", the UPF shall use the HTTP method POST, using the notification URI received from the SMF via N4 interface, see clause 5.33.5 of 3GPP TS 29.244 [15].\nFor the event \"USER_DATA_USAGE_MEASURES\", the event notification may contain following information:\n-\tVolume Measurement: measures of data volume exchanged (UL, DL and/or overall) and/or number of packets exchanged (UL, DL and/or overall).\n-\tThroughput Measurement: measures of data throughput (UL and DL).\n-\tApplication related Information: URLs and/or Domain names and Domain name protocols detected in the traffic identified by the information included in the subscription request, e.g. an application id.\nWhen the granularity of the measurement is per data flow, the notification includes the packet filter set and the Applications Identifier if available.\nFor the event \"USER_DATA_USAGE_TRENDS\", the event notification may contain following information:\n-\tThroughput Statistic Measurement (average and/or peak throughput) over the measurement.\nWhen the granularity of the measurement is per data flow, the notification includes the packet filter set and the Applications Identifier if available.\nFor the event \"QOS_MONITORING\", this service operation is used by the UPF to send the following kinds of event notification:\n-\tPeriodic notification on the downlink packet delay, uplink packet delay, and/or the round trip packet delay between the UPF (PSA) and UE;\n-\tEvent triggered notification on the downlink packet delay, uplink packet delay, and/or the round trip packet delay between the UPF (PSA) and UE, i.e. when the packet delay exceeds a defined threshold;\n-\tNotification on the downlink packet delay, uplink packet delay, and/or the round trip packet delay between the UPF (PSA) and UE when the PDU session is released.\n-\tEvent triggered notification of congestion information of the QoS flow on the UL and/or DL directions received from the NG-RAN, upon a change of the congestion information.\nFor the event \"TSC_MNGT_INFO\", the event notification may contain the following information:\n-\tPort Management Information Container(s) for one or more NW-TT ports and/or\n-\ta User Plane Node Management Information Container;\nThe event notification shall also contain the following information:\n-\tthe related NW-TT port number(s), if Port Management Information Container(s) is present; and\n-\tthe notification correlation ID received from the SMF, if any.\nThe figure depicts a network topology with a 3-tier architecture, specifically highlighting the use of a Universal Plug and Play (UPF) system for event notification. The UPF system is designed to send notifications on subscribed events, ensuring efficient communication and coordination within the network.\nFigure 5.2.2.3.2-1: UPF sends notification on subscribed events\n1.\tThe UPF shall send a POST request to the eventNotificationUri as provided by the SMF during the provisioning of Session Reporting Rule (see clause 7.5.2.9 of 3GPP TS 29.244 [15]) or received in the subscription creation as specified in clause 5.2.2.2.2.\n2a.\tUpon success, the NF Service Consumer responds with \"204 No Content\".\n2b.\tOn failure or redirection:\n-\tIf the NF Service Consumer does not consider the \"eventNotificationUri\" as a valid notification URI, the NF Service Consumer shall return \"404 Not Found\" status code with the ProblemDetails IE providing details of the error.\n-\tIn the case of redirection, the NF service consumer shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another NF service consumer endpoint.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.3\tNupf_GetPrivateUEIPaddr Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tService Description",
                            "text_content": "The Nupf_GetPrivateUEIPaddr Service enables the UPF to provide the UE IP address information of a PDU session, e.g. to provide the (private) UE IP address when being queried with a NATed UE IP Address, to the NF service consumer, e.g. a NEF.\nTable 5.3.1-1 lists the service operations that are supported by the Nupf_GetPrivateUEIPaddr service.\nTable 5.3.1-1: Service operations supported by the Nupf_GetPrivateUEIPaddr service\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.1-1: Service operations supported by the Nupf_GetPrivateUEIPaddr service",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.3.2\tService Operations",
                            "text_content": "See Table 5.3.1-1 for an overview of the service operations supported by the Nupf_GetPrivateUEIPaddr service.\nThe Get service operation is used in the following procedure:\n-\tAF specific UE ID retrieval as specified in clause 4.15.10 of 3GPP TS 23.502 [3]\nThis service operation is consumed by querying the \"ue-ip-info\" resource. The request is sent to the UPF hosting the IP address in the query.\nThe figure depicts a network setup with a PDU (Point-to-Point Unit) session, showing the process of retrieving UE (User Equipment) IP information. The figure illustrates the steps involved in obtaining the IP address of the PDU session, including the use of a router, a PDU, and a network interface card (NIC). The figure also highlights the importance of network security and the need for proper network management to ensure reliable communication.\nFigure 5.3.2.2.1-1: Retrieval of UE IP Info for a PDU session\n1.\tThe NF Service Consumer shall send an HTTP GET request to the resource URI of \"ue-ip-info\". The input filter criteria for the discovery request shall be included in query parameters, e.g. the UE (public) IP address and Port Number, and optionally DNN and S-NSSAI.\n2a.\tOn success, \"200 OK\" shall be returned. The response body shall include a UeIpInfo object which contains relevant attributes matching the query parameters included in the request message.\n2b.\tOn failure, one of the HTTP status code listed in Table 6.2.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body may contain a ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.2.3.2.3.1-3, where applicable.\nOn redirection, \"307 Temporary Redirect\" or \"308 Permanent Redirect\" shall be returned. A RedirectResponse IE may be included in the content of POST response.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tAPI Definitions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tNupf_EventExposure Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tAPI URI",
                            "text_content": "The Nupf_EventExposure shall use the Nupf_EventExposure API.\nThe API URI of the Nupf_EventExposure API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nupf-ee\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Nupf_EventExposure API is contained in Annex A.\nSee clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.\nJSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].\nThe mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\nIn this release of this specification, no custom headers specific to the Nupf_EventExposure service are defined.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.3\tResources",
                            "text_content": "The figure depicts the structure of the nupf-ee API's resource URI, which is a crucial component of the API's architecture. The structure includes a base URI, a path, and a scheme, all of which are essential for accessing and managing resources within the API. The figure provides a clear and concise representation of the API's structure, making it easier for developers to understand and interact with the API.\nFigure 6.1.3.1-1: Resource URI structure of the nupf-ee API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\n\nThis resource represents a collection of subscriptions created by NF service consumers of Nupf_EventExposure service.\nThis resource is modelled as the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/nupf-ee/<apiVersion>/ee-subscriptions\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\n\n6.1.3.2.3.1\tPOST\nThis method shall support the URI query parameters specified in table 6.1.3.2.3.1-1.\nTable 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.2.3.1-2 and the response data structures and response codes specified in table 6.1.3.2.3.1-3.\nTable 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\nTable 6.1.3.2.3.1-5: Headers supported by the 307 Response Code on this endpoint\n\nTable 6.1.3.2.3.1-6: Headers supported by the 308 Response Code on this endpoint\n\nNone.\nThis resource represents an individual of subscription created by NF service consumers of Nupf_EventExposure service.\nThis resource is modelled as the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/nupf-ee/<apiVersion>/ee-subscriptions/{subscriptionId}\nThis resource shall support the resource URI variables defined in table 6.1.3.3.2-1.\nTable 6.1.3.3.2-1: Resource URI variables for this resource\n\n6.1.3.3.3.1\tDELETE\nThis method shall support the URI query parameters specified in table 6.1.3.3.3.1-1.\nTable 6.1.3.3.3.1-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.3.3.1-2 and the response data structures and response codes specified in table 6.1.3.3.3.1-3.\nTable 6.1.3.3.3.1-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 6.1.3.3.3.1-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this endpoint\n\nTable 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this endpoint\n\n6.1.3.3.3.2\tPATCH\nThis method shall support the URI query parameters specified in table 6.1.3.3.3.2-1.\nTable 6.1.3.3.3.2-1: URI query parameters supported by the PATCH method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.3.3.2-2 and the response data structures and response codes specified in table 6.1.3.3.3.2-3.\nTable 6.1.3.3.3.2-2: Data structures supported by the PATCH Request Body on this resource\n\nTable 6.1.3.3.3.2-3: Data structures supported by the PATCH Response Body on this resource\n\nTable 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this endpoint\n\nTable 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this endpoint\n\nNone.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.3.1-1: Resources and methods overview",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-5: Headers supported by the 307 Response Code on this endpoint",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-6: Headers supported by the 308 Response Code on this endpoint",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.2-1: Resource URI variables for this resource",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this endpoint",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this endpoint",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-1: URI query parameters supported by the PATCH method on this resource",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-2: Data structures supported by the PATCH Request Body on this resource",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-3: Data structures supported by the PATCH Response Body on this resource",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this endpoint",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this endpoint",
                                    "table number": 30,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.4\tvoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.5\tNotifications",
                            "text_content": "Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nTable 6.1.5.1-1: Notifications overview\n\nThe Event Notification is used by the UPF to report one or several observed Events to a NF service consumer that has subscribed to such Notifications.\nThe POST method shall be used for Event Notification and the URI shall be the Event Notification URI provided by the SMF during the provisioning of Session Reporting Rule, see clause 5.33.5 of 3GPP TS 29.244 [15], or by NF Service Consumer during creation of the subscription as specified in clause 5.2.2.2.2.\nResource URI: {eventNotificationUri}\nSupport of URI query parameters is specified in table 6.1.5.2.2-1.\nTable 6.1.5.2.2-1: Callback URI variables\n\nSupport of request data structures is specified in table 6.1.5.2.2-2, and support of response data structures and response codes is specified in table 6.1.5.2.2-3.\nTable 6.1.5.2.2-2: Data structures supported by the POST Request Body\n\nTable 6.1.5.2.2-3: Data structures supported by the POST Response Body\n\nTable 6.1.5.2.2-4: Headers supported by the 307 Response Code on this endpoint\n\nTable 6.1.5.2.2-5: Headers supported by the 308 Response Code on this endpoint\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.5.1-1: Notifications overview",
                                    "table number": 31,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-1: Callback URI variables",
                                    "table number": 32,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-2: Data structures supported by the POST Request Body",
                                    "table number": 33,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-3: Data structures supported by the POST Response Body",
                                    "table number": 34,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-4: Headers supported by the 307 Response Code on this endpoint",
                                    "table number": 35,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-5: Headers supported by the 308 Response Code on this endpoint",
                                    "table number": 36,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Nupf_EventExposure service.\n\nTable 6.1.6.1-1: Nupf_EventExposure specific Data Types\n\nTable 6.1.6.1-2 specifies data types re-used by the Nupf_EventExposure service from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Nupf_EventExposure service.\nTable 6.1.6.1-2: Nupf_EventExposure re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.1.6.2.2-1: Definition of type NotificationData\n\nTable 6.1.6.2.3-1: Definition of type NotificationItem\n\nTable 6.1.6.2.3-1: Definition of type QosMonitoringMeasurement\n\nEditor's note: the encoding of the dlCongestion and ulCongestion IEs  is FFS.\n\n\nTable 6.1.6.2.5-1: Definition of type UserDataUsageMeasurements\n\nTable 6.1.6.2.6-1: Definition of type VolumeMeasurement\n\nTable 6.1.6.2.7-1: Definition of type ThroughputMeasurement\n\nTable 6.1.6.2.8-1: Definition of type ApplicationRelatedInformation\n\nTable 6.1.6.2.9-1: Definition of type ThroughputStatisticMeasurement\n\nTable 6.1.6.2.10-1: Definition of type: DomainInformation\n\nTable 6.1.6.2.11-1: Definition of type UpfEventSubscription\n\nEditor's Note: Whether one DNN and/or one S-NSSAI shall be present when subscription is for any UE is FFS. The cardinality and description of DNN and S-NSSAI are FFS.\nTable 6.1.6.2.12-1: Definition of type UpfEventMode\n\n\nTable 6.2.6.2.13-1: Definition of type UpfEvent\n\nTable 6.2.6.2.14-1: Definition of type CreateEventSubscription\n\nTable 6.1.6.2.15-1: Definition of type CreatedEventSubscription\n\nTable 6.1.6.2.16-1: Definition of type ReportingSuggestionInformation\n\nTable 6.1.6.2.17-1: Definition of type TscManagementInfo\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nNo specific simple data types are defined in this release.\nThe enumeration EventType represents the type of event to which the NF service consumer may subscribe to and for which the notification is generated. It shall comply with the provisions defined in table 6.1.5.3.3-1.\nTable 6.1.6.3.3-1: Enumeration EventType\n\nTable 6.1.6.3.4-1: Enumeration UpfEventTrigger\n\n\nTable 6.1.6.3.5-1: Enumeration MeasurementType\n\nTable 6.1.6.3.6-1: Enumeration GranularityOfMeasurement\n\nTable 6.1.6.3.7-1: Enumeration DnProtocol\nTable 6.1.6.3.8-1: Enumeration ReportingUrgency\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.6.1-1: Nupf_EventExposure specific Data Types",
                                    "table number": 37,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.1-2: Nupf_EventExposure re-used Data Types",
                                    "table number": 38,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.2-1: Definition of type NotificationData",
                                    "table number": 39,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.3-1: Definition of type NotificationItem",
                                    "table number": 40,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.3-1: Definition of type QosMonitoringMeasurement",
                                    "table number": 41,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.5-1: Definition of type UserDataUsageMeasurements",
                                    "table number": 42,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.6-1: Definition of type VolumeMeasurement",
                                    "table number": 43,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.7-1: Definition of type ThroughputMeasurement",
                                    "table number": 44,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.8-1: Definition of type ApplicationRelatedInformation",
                                    "table number": 45,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.9-1: Definition of type ThroughputStatisticMeasurement",
                                    "table number": 46,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.10-1: Definition of type: DomainInformation",
                                    "table number": 47,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.11-1: Definition of type UpfEventSubscription",
                                    "table number": 48,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.12-1: Definition of type UpfEventMode",
                                    "table number": 49,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.13-1: Definition of type UpfEvent",
                                    "table number": 50,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.14-1: Definition of type CreateEventSubscription",
                                    "table number": 51,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.15-1: Definition of type CreatedEventSubscription",
                                    "table number": 52,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.16-1: Definition of type ReportingSuggestionInformation",
                                    "table number": 53,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.17-1: Definition of type TscManagementInfo",
                                    "table number": 54,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.3-1: Enumeration EventType",
                                    "table number": 55,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.4-1: Enumeration UpfEventTrigger",
                                    "table number": 56,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.5-1: Enumeration MeasurementType",
                                    "table number": 57,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.6-1: Enumeration GranularityOfMeasurement",
                                    "table number": 58,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.7-1: Enumeration DnProtocol",
                                    "table number": 59,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.8-1: Enumeration ReportingUrgency",
                                    "table number": 60,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.7\tError Handling",
                            "text_content": "For the Nupf_EventExposure API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Nupf_EventExposure API.\nNo specific procedures for the Nupf_EventExposure service are specified in this release.\nThe common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500 [4] may also be used for the Nupf_EventExposure service, and the following application errors listed in Table 6.1.7.3-1 are specific for the Nupf_EventExposure service.\nTable 6.2.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.7.3-1: Application errors",
                                    "table number": 61,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.8\tFeature negotiation",
                            "text_content": "The optional features listed in table 6.2.8-1 are defined for the Nupf_EventExposure API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.8-1: Supported Features",
                                    "table number": 62,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [8], the access to the Nupf_EventExposure API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf Oauth2 authorization is used, an NF Service Consumer, prior to consuming services offered by the Nupf_EventExposure API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nupf_EventExposure service.\nThe Nupf_EventExposure API defines scopes for OAuth2 authorization as specified in 3GPP TS 33.501 [8]; it defines a single scope consisting on the name of the service (i.e., \"nupf-ee\"), and it does not define any additional scopes at resource or operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.10\tHTTP redirection",
                            "text_content": "An HTTP request may be redirected to a different UPF service instance when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different UPF producer instance will return the NF Instance ID of the new UPF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an UPF redirects a service request to a different UPF using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new UPF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.2\tNupf_GetPrivateUEIPaddr Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tIntroduction",
                            "text_content": "The Nupf_GetPrivateUEIPaddr service shall use the Nupf_GetPrivateUEIPaddr API.\nThe API URI of the Nupf_GetPrivateUEIPaddr Service API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URI used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nupf_gueip\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 5.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Nupf_GetPrivateUEIPaddr API is contained in Annex A.\nSee clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.\nJSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].\nThe mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.3\tResources",
                            "text_content": "The figure depicts the resource URI structure of the Nupf_GetPrivateUEIPaddr API, which is used to retrieve private UE IP addresses. The API is used to obtain the IP address of a specific UE in a network. The structure includes the resource URI, the resource type, and the resource identifier. The figure provides a clear and concise representation of the API's structure, making it easy to understand and use.\nFigure 6.2.3.1-1: Resource URI structure of the Nupf_GetPrivateUEIPaddr API\nTable 6.2.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.2.3.1-1: Resources and methods overview\n\nThis resource represents the UE IP Address Info of all the PDU sessions served by the UPF.\nThis resource is modelled with the Document archetype (see clause C.2 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/nupf_gueip/<apiVersion>/ue-ip-info\nThis resource shall support the resource URI variables defined in table 6.2.3.2.2-1.\nTable 6.2.3.2.2-1: Resource URI variables for this resource\n\n6.2.3.2.3.1\tGET\nThis operation retrieves the UE IP Info of a PDU session, which contains the UE's PDU Session (private) IP address, by querying the UPF with the NATed UE's public IP address and an optional Port number.\nThis method shall support the URI query parameters specified in table 6.2.3.2.3.1-1.\nTable 6.2.3.2.3.1-1: URI query parameters supported by the GET method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.2.3.1-2 and the response data structures and response codes specified in table 6.2.3.2.3.1-3.\nTable 6.2.3.2.3.1-2: Data structures supported by the GET Request Body on this resource\n\nTable 6.2.3.2.3.1-3: Data structures supported by the GET Response Body on this resource\n\nTable 6.2.3.2.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.2.3.1-5: Headers supported by the 308 Response Code on this resource\n\nNone.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.3.1-1: Resources and methods overview",
                                    "table number": 63,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 64,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-1: URI query parameters supported by the GET method on this resource",
                                    "table number": 65,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-2: Data structures supported by the GET Request Body on this resource",
                                    "table number": 66,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-3: Data structures supported by the GET Response Body on this resource",
                                    "table number": 67,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 68,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 69,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.4\tCustom Operations without associated resources",
                            "text_content": "None\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.5\tNotifications",
                            "text_content": "None.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.2.6.1-1 specifies the data types defined for the Nupf_GetPrivateUEIPaddr service based interface protocol.\nTable 6.2.6.1-1: Nupf_GetPrivateUEIPaddr specific Data Types\n\nTable 6.2.6.1-2 specifies data types re-used by the Nupf_GetPrivateUEIPaddr service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the N<NF> service based interface.\nTable 6.2.6.1-2: Nupf_GetPrivateUEIPaddr re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.2.6.2.2-1: Definition of type UeIpInfo\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.6.1-1: Nupf_GetPrivateUEIPaddr specific Data Types",
                                    "table number": 70,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.1-2: Nupf_GetPrivateUEIPaddr re-used Data Types",
                                    "table number": 71,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.2-1: Definition of type UeIpInfo",
                                    "table number": 72,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.7\tError Handling",
                            "text_content": "For the Nupf_GetPrivateUEIPaddr API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Nupf_GetPrivateUEIPaddr API.\nNo specific procedures for the Nupf_GetPrivateUEIPaddr service are specified.\nThe application errors defined for the Nupf_GetPrivateUEIPaddr service are listed in Table 6.2.7.3-1.\nTable 6.2.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.7.3-1: Application errors",
                                    "table number": 73,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.8\tFeature negotiation",
                            "text_content": "The optional features in table 6.2.8-1 are defined for the Nupf_GetPrivateUEIPaddr API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.2.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.8-1: Supported Features",
                                    "table number": 74,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Nupf_GetPrivateUEIPaddr API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nupf_GetPrivateUEIPaddr API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nupf_GetPrivateUEIPaddr service.\nThe Nupf_GetPrivateUEIPaddr API defines a single scope \"nupf_gueip\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.10\tHTTP redirection",
                            "text_content": "An HTTP request may be redirected to a different UPF service instance when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different UPF producer instance will return the NF Instance ID of the new UPF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an UPF redirects a service request to a different UPF using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new UPF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "This Annex specifies the formal definition of the API(s) defined in the present specification. It consists of OpenAPI specifications in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE 1:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tNupf_EventExposure API",
            "description": "openapi: 3.0.0\n\ninfo:\ntitle: 'UPF Event Exposure Service'\nversion: 1.1.0-alpha.4\ndescription: |\nUPF Event Exposure Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: 3GPP TS 29.564 V18.3.0; 5G System; User Plane Function Services; Stage 3.\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.564/\n\nservers:\n- url: '{apiRoot}/nupf-ee/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nupf-ee\n\npaths:\n/ee-subscriptions:\npost:\nsummary: Nupf_EventExposure Subscribe service Operation\noperationId: CreateSubscription\ntags:\n- Subscriptions (Collection)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/CreateEventSubscription'\nresponses:\n'201':\ndescription: Successful creation of an UPF Event Subscription\nheaders:\nLocation:\ndescription: 'Contains the URI of the newly created resource, according to the structure: {apiRoot}/nupf-ee/<apiVersion>/ee-subscriptions/{subscriptionId}'\nrequired: true\nschema:\ntype: string\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/CreatedEventSubscription'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\neeNotification:\n'{eventNotificationUri}':\n# The URI in {eventNotificationUri} is provided via N4 interface during provisioning of Session Reporting Rule or in the Nupf_EventExposure Subscribe request.\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/NotificationData'\nresponses:\n'204':\ndescription: No Content, Notification was succesfull\n'307':\ndescription: Temporary Redirect\ncontent:\napplication/json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RedirectResponse'\nheaders:\nLocation:\ndescription: 'The URI pointing to the resource located on the redirect target NF service consumer'\nrequired: true\nschema:\ntype: string\n'308':\ndescription: Permanent Redirect\ncontent:\napplication/json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RedirectResponse'\nheaders:\nLocation:\ndescription: 'The URI pointing to the resource located on the redirect target NF service consumer'\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/ee-subscriptions/{subscriptionId}:\npatch:\nsummary: Nupf_EventExposure Subscribe Modify service Operation\noperationId: ModifySubscription\nparameters:\n- name: subscriptionId\nin: path\nrequired: true\ndescription: Unique ID of the subscription to be modified\nschema:\ntype: string\nrequestBody:\ncontent:\napplication/json-patch+json:\nschema:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchItem'\nminItems: 1\nrequired: true\nresponses:\n'200':\ndescription: Expected response to a valid request\ncontent:\napplication/json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchResult'\n'204':\ndescription: Successful response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ndelete:\nsummary: Nupf_EventExposure UnSubscribe service Operation\noperationId: DeleteSubscription\nparameters:\n- name: subscriptionId\nin: path\nrequired: true\ndescription: Unique ID of the subscription to be deleted\nschema:\ntype: string\nresponses:\n'204':\ndescription: Subsription deleted successfully\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnupf-ee: Access to the Nupf_EventExposure API\n\nschemas:\n# API specific definitions\n\n# STRUCTURED DATA TYPES\n\nNotificationData:\ndescription: the list of NotificationItems\ntype: object\nrequired:\n- notificationItems\nproperties:\nnotificationItems:\ntype: array\nitems:\n$ref: '#/components/schemas/NotificationItem'\nminItems: 1\ncorrelationId:\ntype: string\nachievedSampRatio:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'\n\nNotificationItem:\ndescription: represents a report on one subscribed event\ntype: object\nrequired:\n- eventType\n- timeStamp\nanyOf:\n- required: [ ueIpv4Addr ]\n- required: [ ueIpv6Prefix ]\n- required: [ ueMacAddr ]\nproperties:\neventType:\n$ref: '#/components/schemas/EventType'\nueIpv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nueIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nueMacAddr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MacAddr48'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ntimeStamp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nstartTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nqosMonitoringMeasurement:\n$ref: '#/components/schemas/QosMonitoringMeasurement'\ntscMngtInfo:\n$ref: '#/components/schemas/TscManagementInfo'\nuserDataUsageMeasurements:\ntype: array\nitems:\n$ref: '#/components/schemas/UserDataUsageMeasurements'\nminItems: 1\n\n\nUpfEventSubscription:\ndescription: UPF Event Subscription\ntype: object\nproperties:\neventList:\ntype: array\nitems:\n$ref: '#/components/schemas/UpfEvent'\nminItems: 1\neventNotifyUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnotifyCorrelationId:\ntype: string\neventReportingMode:\n$ref: '#/components/schemas/UpfEventMode'\nnfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nueIpAddress:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/IpAddr'\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nanyUe:\ntype: boolean\ndefault: false\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nrequired:\n- eventList\n- eventNotifyUri\n- notifyCorrelationId\n- eventReportingMode\n- nfId\n\nUpfEventMode:\ndescription: UPF Event Mode\ntype: object\nproperties:\ntrigger:\n$ref: '#/components/schemas/UpfEventTrigger'\nmaxReports:\ntype: integer\nexpiry:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrepPeriod:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nsampRatio:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'\npartitioningCriteria:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PartitioningCriteria'\nminItems: 1\nnotifFlag:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NotificationFlag'\nmutingExcInstructions:\nwriteOnly: true\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/MutingExceptionInstructions'\nmutingNotSettings:\nreadOnly: true\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/MutingNotificationsSettings'\nrequired:\n- trigger\n\nUpfEvent:\ndescription: UPF Event\ntype: object\nproperties:\ntype:\n$ref: '#/components/schemas/EventType'\nimmediateFlag:\ntype: boolean\ndefault: false\nmeasurementTypes:\ntype: array\nitems:\n$ref: '#/components/schemas/MeasurementType'\nminItems: 1\nappIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApplicationId'\nminItems: 1\ntrafficFilters:\ntype: array\nitems:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/FlowInformation'\nminItems: 1\ngranularityOfMeasurement:\n$ref: '#/components/schemas/GranularityOfMeasurement'\nreportingSuggestionInfo:\n$ref: '#/components/schemas/ReportingSuggestionInformation'\nrequired:\n- type\n\nCreateEventSubscription:\ndescription: Data within UPF Create Event Subscription Request\ntype: object\nproperties:\nsubscription:\n$ref: '#/components/schemas/UpfEventSubscription'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- subscription\n\nCreatedEventSubscription:\ndescription: Data within UPF Create Event Subscription Response\ntype: object\nproperties:\nsubscription:\n$ref: '#/components/schemas/UpfEventSubscription'\nsubscriptionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nreportList:\ntype: array\nitems:\n$ref: '#/components/schemas/NotificationItem'\nminItems: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- subscription\n- subscriptionId\n\nReportingSuggestionInformation:\ndescription: Reporting Suggestion Information\ntype: object\nproperties:\nreportingUrgency:\n$ref: '#/components/schemas/ReportingUrgency'\nreportingTimeInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nrequired:\n- reportingUrgency\n\nQosMonitoringMeasurement:\ndescription: QoS Monitoring Measurement information\ntype: object\nproperties:\nflowInfos:\ntype: array\nitems:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/FlowInformation'\nminItems: 1\nappIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApplicationId'\nminItems: 1\ndlPacketDelay:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint32'\nulPacketDelay:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint32'\nrtrPacketDelay:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint32'\nmeasureFailure:\ntype: boolean\nenum:\n- true\ndlAveThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nulAveThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\ndlCongestion:\ntype: string\nulCongestion:\ntype: string\ndefaultQosFlowInd:\ntype: boolean\ndefault: false\n\n# Editor's note: the encoding of the dlCongestion and ulCongestion IEs is FFS\n\nTscManagementInfo:\ndescription: TSC Management Information\ntype: object\nproperties:\npmics:\ntype: array\nitems:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/PortManagementContainer'\nminItems: 1\numic:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/BridgeManagementContainer'\n\nUserDataUsageMeasurements:\ndescription: >\nUser Data Usage Measurements either for the PDU session, or the app-id, or the data flow\ntype: object\nproperties:\nappId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApplicationId'\nflowInfo:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/FlowInformation'\nvolumeMeasurement:\n$ref: '#/components/schemas/VolumeMeasurement'\nthroughputMeasurement:\n$ref: '#/components/schemas/ThroughputMeasurement'\napplicationRelatedInformation:\n$ref: '#/components/schemas/ApplicationRelatedInformation'\nthroughputStatisticsMeasurement:\n$ref: '#/components/schemas/ThroughputStatisticsMeasurement'\n\nVolumeMeasurement:\ndescription: Volume Measurement information\ntype: object\nproperties:\ntotalVolume:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TrafficVolume'\nulVolume:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TrafficVolume'\ndlVolume:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TrafficVolume'\ntotalNbOfPackets:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint64'\nulNbOfPackets:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint64'\ndlNbOfPackets:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint64'\n\nThroughputMeasurement:\ndescription: Throughput Measurement information\ntype: object\nproperties:\nulThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\ndlThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nulPacketThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketRate'\ndlPacketThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketRate'\n\nApplicationRelatedInformation:\ndescription: Application Related Information\ntype: object\nproperties:\nurls:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nminItems: 1\ndomainInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/DomainInformation'\nminItems: 1\n\n\nThroughputStatisticsMeasurement:\ndescription: Throughput Statistics Measurement\ntype: object\nproperties:\nulAverageThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\ndlAverageThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nulPeakThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\ndlPeakThroughPut:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nulAveragePacketThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketRate'\ndlAveragePacketThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketRate'\nulPeakPacketThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketRate'\ndlPeakPacketThroughput:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketRate'\n\nDomainInformation:\ndescription: Domain Information\ntype: object\nproperties:\ndomainName:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\ndomainNameProtocol:\n$ref: '#/components/schemas/DnProtocol'\nrequired:\n- domainName\n\n\n# ENUMS\n\nEventType:\ndescription: Event Type\nanyOf:\n- type: string\nenum:\n- QOS_MONITORING\n- USER_DATA_USAGE_MEASURES\n- USER_DATA_USAGE_TRENDS\n- TSC_MNGT_INFO\n- type: string\n\nUpfEventTrigger:\ndescription: Upf Event Trigger\nanyOf:\n- type: string\nenum:\n- ONE_TIME\n- PERIODIC\n- type: string\n\n\nMeasurementType:\ndescription: Measurement Type\nanyOf:\n- type: string\nenum:\n- VOLUME_MEASUREMENT\n- THROUGHPUT_MEASUREMENT\n- APPLICATION_RELATED_INFO\n- type: string\n\nGranularityOfMeasurement:\ndescription: Granularity Of Measurement\nanyOf:\n- type: string\nenum:\n- PER_APPLICATION\n- PER_SESSION\n- PER_FLOW\n- type: string\n\nDnProtocol:\ndescription: Domain Name Protocol\nanyOf:\n- type: string\nenum:\n- DNS_QNAME\n- TLS_SNI\n- TLS_SAN\n- TLS_SCN\n- type: string\n\nReportingUrgency:\ndescription: Reporting Urgency\nanyOf:\n- type: string\nenum:\n- DELAY_TOLERANT\n- NON_DELAY_TOLERANT\n- type: string\n\n\n# SIMPLE TYPES\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.3\tNupf_GetPrivateUEIPaddr API",
            "description": "openapi: 3.0.0\n\ninfo:\nversion: '1.0.0-alpha.3'\ntitle: 'UPF GET Private UE IP address Service'\ndescription: |\nNupf_GetPrivateUEIPaddr Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: 3GPP TS 29.564 V18.3.0; 5G System; 5G System; User Plane Function Services; Stage 3\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.564/'\n\nservers:\n- url: '{apiRoot}/nupf-gueip/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nupf-gueip\n\npaths:\n/ue-ip-info:\nget:\nsummary: Search UeIpInfo for a PDU session from the UeIpInfo\noperationId: SearchUeIpInfo\ntags:\n- UE IP Info_Get\nparameters:\n- name: snssai\nin: query\ndescription: Slice of the PDU session\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\n- name: dnn\nin: query\ndescription: Dnn of the PDU session\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\n- name: ue-ipv4-address\nin: query\ndescription: IPv4 address of the UE\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\n- name: ue-ipv6-prefix\nin: query\ndescription: IPv6 prefix of the UE\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\n- name: port-number\nin: query\ndescription: UDP or TCP port associated with the public address\nschema:\ntype: integer\nminimum: 0\nmaximum: 65535\nresponses:\n'200':\ndescription: Successful response\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/UeIpInfo'\n'307':\ndescription: Temporary Redirect\ncontent:\napplication/json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RedirectResponse'\nheaders:\nLocation:\ndescription: The URI pointing to the resource located on the redirect target UPF\nschema:\ntype: string\n'308':\ndescription: Permanent Redirect\ncontent:\napplication/json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RedirectResponse'\nheaders:\nLocation:\ndescription: The URI pointing to the resource located on the redirect target UPF\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnupf-gueip: Access to the Nupf_GetPrivateUEIPaddr API\n\nschemas:\nUeIpInfo:\ndescription: a UE IP Address Info for a PDU session\ntype: object\nproperties:\nprivateIpv4Address:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nipDomain:\ntype: string\nprivateIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\npublicIpv4Address:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\npublicIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nportNumber:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint16'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nhplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\n\n\n\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "",
                    "table number": 75,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        }
    ]
}