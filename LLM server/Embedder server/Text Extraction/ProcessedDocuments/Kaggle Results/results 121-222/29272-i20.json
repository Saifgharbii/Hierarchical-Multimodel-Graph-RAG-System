{
    "document_name": "29272-i20.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document describes the Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) related diameter-based interfaces towards the Home Subscriber Server (HSS) or the CSG Subscriber Server (CSS), and the MME and the SGSN related diameter-based interface towards the Equipment Identity Register (EIR).\nThis specification defines the Diameter application for the MME-HSS, S6a reference point, for the MME-CSS, S7a reference point, for the SGSN-HSS, S6d reference point, and for the SGSN-CSS, S7d reference point. The interactions between the HSS/CSS and the MME/SGSN are specified, including the signalling flows.\nThis specification defines the Diameter application for the MME-EIR, S13 reference point, and for the SGSN-EIR, S13' reference point. The interactions between the MME/SGSN and the EIR are specified, including the signalling flows.\nIn this specification, if there is no specific indication, the following principles apply:\n-\t\"SGSN\" refers to an SGSN which at least supports the S4 interface and may support Gn and Gp interfaces.\n-\t\"S4-SGSN\" refers to an SGSN which supports the S4 interface and does not support Gn and Gp interfaces.\n-\tGn/Gp-SGSN refers to an SGSN which supports the Gn and Gp interfaces and does not support S4 interface.\n-\t\"GPRS subscription data\" refers to the parameters in the HLR column in Table 5.2. in 3GPP TS 23.008 [30].\n-\t\"EPS subscription data\" refers to the parameters in the HSS column in Table 5.2A-1 in 3GPP TS 23.008 [30].\nThe Evolved Packet System stage 2 description (architecture and functional solutions) is specified in 3GPP TS 23.401 [2] and in 3GPP TS 23.060 [12].\nSGSN CAMEL Subscription Data are not supported over S6d interface.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.401: \"GPRS enhancements for E-UTRAN access \".\n[3]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[4]\tVoid.\n[5]\t3GPP TS 33.401: \"3GPP System Architecture Evolution: Security Architecture\".\n[6]\tVoid\".\n[7]\tIETF RFC 2234: \"Augmented BNF for syntax specifications\".\n[8]\t3GPP TS 32.299: \"Charging management; Diameter charging applications\".\n[9]\t3GPP TS 29.229: \"Cx and Dx interfaces based on the Diameter protocol\".\n[10]\t3GPP TS 29.212: \"Policy and Charging Control (PCC); Reference points\".\n[11]\t3GPP TS 29.214: \"Policy and Charging Control over Rx reference point\".\n[12]\t3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service description; Stage 2\".\n[13]\t3GPP TS 22.016: \"International Mobile station Equipment Identities (IMEI)\".\n[14]\tIETF RFC 4960: \"Stream Control Transmission Protocol\".\n[15]\tVoid\n[16]\t3GPP TS 33.210: \"3G Security; Network Domain Security; IP Network Layer Security\"..\n[17]\t3GPP TS 29.228: \"IP multimedia (IM) Subsystem Cx and Dx Interfaces; Signalling flows and Message Elements\".\n[18]\t3GPP TS 33.102: \" Security; Security Architecture\".\n[19]\t3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network (E-UTRAN); S1 Application Protocol (S1AP)\".\n[20]\tIETF RFC 5778: \"Diameter Mobile IPv6: Support for Home Agent to Diameter Server Interaction\".\n[21]\t3GPP TS 29.061: \"Interworking between the Public Land Mobile Network (PLMN) supporting packet based services and Packet Data Networks (PDN)\".\n[22]\t3GPP TS 32.298: \"Charging Management; CDR parameter description\".\n[23]\t3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment trace; Trace control and configuration management\".\n[24]\t3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".\n[25]\t3GPP TS 29.329: \"Sh Interface based on the Diameter protocol\".\n[26]\tIETF RFC 5447: \"Diameter Mobile IPv6: Support for Network Access Server to Diameter Server Interaction\".\n[27]\tIETF RFC 4004: \"Diameter Mobile IPv4 Application\".\n[28]\t3GPP2 A.S0022: \"Interoperability Specification (IOS) for Evolved High Rate Packet Data (eHRPD) Radio Access Network Interfaces and Interworking with Enhanced Universal Terrestrial Radio Access Network (E-UTRAN)\".\n[29]\t3GPP TS 23.011: \"Technical realization of Supplementary Services - General Aspects\".\n[30]\t3GPP TS 23.008: \"Organization of subscriber data\".\n[31]\t3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core network protocols; Stage 3\".\n[32]\tIETF RFC 5516: \"Diameter Command Code Registration for Third Generation Partnership Project (3GPP) Evolved Packet System (EPS)\".\n[33]\t3GPP TS 32.251: \"Telecommunication management; Charging management; Packet Switched (PS) domain charging\".\n[34]\t3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) centralized services \".\n[35]\t3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC)\".\n[36]\t3GPP TS 23.015:\"Technical realization of Operator Determined Barring (ODB)\".\n[37]\t3GPP TS 29.173: \"Diameter-based SLh interface for Control Plane LCS\".\n[38]\t3GPP TS 29.303: \"Domain Name System Procedures; Stage 3\".\n[39]\t3GPP TS 29.060: \"General Packet Radio Service (GPRS); GPRS Tunnelling Protocol (GTP) across the Gn and Gp Interface\".\n[40]\t3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall description; Stage 2\".\n[41]\tITU-T Recommendation E.164: \"The international public telecommunication numbering plan\".\n[42]\t3GPP TS 22.042: \"Network Identity and TimeZone (NITZ); Service description; Stage 1\".\n[43]\t3GPP TS 23.007: \"Restoration procedures\".\n[44]\t3GPP TS 23.272: \"Circuit Switched (CS) fallback in Evolved Packet System (EPS); Stage 2\".\n[45]\t3GPP TS 29.010: \"Information element mapping between Mobile Station - Base Station System (MS - BSS) and Base Station System - Mobile-services Switching Centre (BSS - MSC)\".\n[46]\t3GPP TS 29.118: \"Mobility Management Entity (MME) –Visitor Location Register (VLR)SGs interface specification \".\n[47]\t3GPP TS 29.172: \"Evolved Packet Core (EPC) LCS Protocol (ELP) between the Gateway Mobile Location Centre (GMLC) and the Mobile Management Entity (MME)\".\n[48]\t3GPP TS 29.338: \"Diameter based protocols to support Short Message Service (SMS) capable Mobile Management Entities (MMEs)\".\n[49]\t3GPP TS 29.344: \"Proximity-services (ProSe) Function to Home Subscriber Server (HSS) aspects; Stage 3\".\n[50]\tIETF RFC 7683: \"Diameter Overload Indication Conveyance\".\n[51]\t3GPP TS 23.380: \"IMS Restoration Procedures\".\n[52]\t3GPP TS 22.153: \"Multimedia Priority Service\".\n[53]\t3GPP TS 23.221: \"Architectural requirements\".\n[54]\t3GPP TS 29.336: \"Home Subscriber Server (HSS) diameter interfaces for interworking with packet data networks and applications\".\n[55]\t3GPP TS 23.682: \"Architecture enhancements to facilitate communications\nwith packet data networks and applications \".\n[56]\t3GPP TS 29.217: \"Congestion reporting over Np reference point\".\n[57]\tIETF RFC 7944: \"Diameter Routing Message Priority\".\n[58]\t3GPP TS 43.020: \"Security related network functions\".\n[59]\t3GPP TS 29.273: \"Evolved Packet System (EPS); 3GPP EPS AAA interfaces\".\n[60]\tIETF RFC 8583: \"Diameter Load Information Conveyance\".\n[61]\tIETF RFC 6733: \"Diameter Base Protocol\".\n[62]\t3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA); Radio Resource Control (RRC); Protocol specification\".\n[63]\t3GPP TS 29.128: \"Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) interfaces for interworking with packet data networks and applications\".\n[64]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[65]\t3GPP TS 36.423: \"Evolved Universal Terrestrial Radio Access Network (E-UTRAN); X2 Application Protocol (X2AP)\".\n[66]\t3GPP TS 29.503: \"Unified Data Management Services\".\n[67]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[68]\t3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to support Vehicle-to-Everything (V2X) services\".\n[69]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[70]\t3GPP TS 29.563: \"5G System; Home Subscriber Server (HSS) services for interworking with Unified Data Management (UDM); Stage 3\".\n[71]\tGSMA PRD IR.73: \"Steering of Roaming Implementation Guidelines\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nCSG subscription data from CSS: It identifies the CSG subscription data that a MME or a SGSN has received from a CSS for a subscriber identified by its IMSI.\nCSG subscription data from HSS: It identifies the CSG subscription data that a MME or a SGSN has received from a HSS for a subscriber identified by its IMSI.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\nAVP\tAttribute Value Pair\nC\tConditional\nCSS\tCSG Subscriber Server\nDCN\tDedicated Core Network\nDRMP\tDiameter Routing Message Priority\nDSCP\tDifferentiated Services Code Point\nEIR\tEquipment Identity Register\nESM\tEPS Session Management\nHSS\tHome Subscriber Server\nIAB\tIntegrated Access and Backhaul\nIE\tInformation Element\nLAA\tLicensed Assisted Access\nLWA\tLTE/WLAN Aggregation\nLWIP\tLTE/WLAN Radio Level Integration with IPsec Tunnel\nM\tMandatory\nMME\tMobility Management Entity\nNR\tNew Radio\nO\tOptional\nODB\tOperator Determined Barring\nSCEF\tService Capability Exposure Function\nURRP-MME\tUser Reachability Request Parameter for MME\nURPP-SGSN\tUser Reachability Request Parameter for SGSN\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tGeneral Description",
            "description": "This document describes the S6a/S6d and S13/S13' interfaces related procedures, message parameters and protocol specifications.\nThe procedures, message parameters and protocol are similar between S and S6d. S6a is used for location changes of the MME, while S6d is for location changes of the SGSN. Refer to clause 5 for the differences, especially clause 5.2.1.\nThe procedures, message parameters and protocol are identical as for the S13 and S13'. See clause 6 for details.\nIn the tables that describe the Information Elements transported by each Diameter command, each Information Element is marked as (M) Mandatory, (C) Conditional or (O) Optional in the \"Cat.\" column. For the correct handling of the Information Element according to the category type, see the description detailed in clause 6 of the 3GPP TS 29.228 [17].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "5\tMME – HSS (S6a) and SGSN – HSS (S6d)",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The S interface enables the transfer of subscriber related data between the MME and the HSS as described in the 3GPP TS 23.401 [2].\nThe S6d interface enables the transfer of subscriber related data between the SGSN and the HSS as described in 3GPP TS 23.060 [12].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tMobility Services",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tLocation Management Procedures",
                            "text_content": "The Update Location Procedure shall be used between the MME and the HSS and between the SGSN and the HSS to update location information in the HSS. The procedure shall be invoked by the MME or SGSN and is used:\n-\tto inform the HSS about the identity of the MME or SGSN currently serving the user, and optionally in addition;\n-\tto update MME or SGSN with user subscription data; subscription data that are applicable to MMEs but not to SGSNs should not be sent to the SGSN unless the SGSN is known to be a combined MME/SGSN; similarly subscription data that are applicable to SGSNs but not to MMEs should not be sent to the MME unless the MME is known to be a combined MME/SGSN.\n-\tto provide the HSS with other user data, such as Terminal Information or UE SRVCC Capability.\nThis procedure is mapped to the commands Update-Location-Request/Answer (ULR/ULA) in the Diameter application specified in clause 7.\nTable 5.2.1.1.1/1 specifies the involved information elements for the request.\nTable 5.2.1.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.1.1.1/1: Update Location Request\n\nTable 5.2.1.1.1/2: Update Location Answer\n\nThe MME shall make use of this procedure to update the MME identity stored in the HSS (e.g. at initial attach, inter MME tracking area update or radio contact after HSS reset).\nThe SGSN shall make use of this procedure to update the SGSN identity stored in the HSS (e.g. at initial attach, inter SGSN routing area update or radio contact after HSS reset).\nThe MME shall make use of this procedure to request SMS data and to become registered for SMS.\nThe SGSN shall make use of this procedure to request to become registered for SMS.\nA combined MME/SGSN which uses different Diameter Identities for the MME and SGSN parts shall not send a second ULR when in a first ULA the ULA-Flag \"Separation Indication\" was not set.\nFor UEs receiving emergency services, in which the UE was not successfully authenticated, the MME or SGSN shall not make use of the Update Location procedure.\nIf the Update Location request is to be sent due to an inter node (SGSN to MME) update and the previous SGSN is a Gn/Gp SGSN, the MME shall set the \"Single-Registration-Indication\" flag in the ULR-Flags information element in the request.\nIf the Update Location request is to be sent due to an initial attach, the MME or SGSN shall set the \"Initial-Attach-Indicator\" flag in the ULR-Flags information element in the request.\nIf the Update Location request is sent due to a Tracking Area Update following intra-PLMN inter-MME or AMF to MME handover, then the MME may set the Intra-PLMN-inter-MME handover flag in the ULR-Flags information element in the request.\nIf the Update Location request is sent due to a Tracking Area Update following inter-PLMN inter-MME or AMF to MME handover, then the MME may set the Inter-PLMN-inter-MME handover flag in the ULR-Flags information element in the request.\nIn order to avoid handovers failing (including the cases of emergency and non-emergency EPS fallback voice handovers), the Intra-PLMN-inter-MME handover flag and Inter-PLMN-inter-MME handover flags are required if the HPLMN deploys Steering of Roaming functionality that interferes with the Diameter signalling procedures e.g. as described in the section 6.1 of GSMA PRD IR.73 [71]. Otherwise, these flags are left to be configured based on operator policy.\nNOTE 0:\tIt is useful if the HPLMN discloses how they do Steering of Roaming to the VPLMN. The VPLMN can be configured to comply if they support this feature in the MME.\nWhen receiving and supporting Reset-ID AVPs in the response, the MME or SGSN shall delete all the stored Reset-IDs, if there are any, and then store all the received Reset-IDs.\nA combined MME/SGSN shall set the \"Skip Subscriber Data\" flag in the ULR-Flags if subscriber data are already available due to a previous identical location update. Otherwise the MME/SGSN shall not set the \"Skip Subscriber Data\" flag in the ULR-Flags.\nA combined MME/SGSN that has advertised its support for the combined MME/SGSN capability, by either including the SGSN Number within ULR sent over S6a or including the Coupled-Node-Diameter-ID within ULR sent over S6a/S6d or by using same Diameter identity over S6a and S6d interfaces, shall be prepared to receive a single subscription data update message (IDR or DSR) from the HSS when the subscription data is modified.\nIf the MME or SGSN knows about the homogeneity of the support of IMS Voice over PS Sessions in all TAs or RAs associated to that serving node (i.e., it is supported in all the TA/RAs or it is not supported in any of the TA/RAs) and for the serving subscriber taking into account roaming relationship for IMS Voice over PS Sessions, it shall include this indication to the HSS in the \"Homogeneous Support of IMS Voice over PS Sessions\" IE.\nThe MME or SGSN may include dynamic APN and PGW ID data in the list of Active-APN AVPs, in order to restore this information in the HSS after a Reset procedure.\nThe MME/SGSN may include an equivalent PLMN list to request the CSG Subscription data of the equivalent PLMNs.\nA standalone MME shall not indicate its support for any SGSN specific features, and it shall not request explicitly the download of GPRS data (via the GPRS-Subscription-Data-Indicator flag; see clause 7.3.7). A standalone MME that does not support the \"SMS in MME\" feature shall not provide its MME Number for MT SMS, \"SMS only\" indication or SMS Registration Request and therefore not indicate its support for any SMS related features (such as ODB or barring services).\nFor an SGSN, if a DIAMETER_ERROR_CAMEL_SUBSCRIPTION_PRESENT is received, the SGSN shall initiate the update location procedure with MAP over Gr interface and use Gr for the subsequent mobility procedures.\nFor a standalone MME or SGSN, if EPS or GPRS subscription data is received, the standalone MME or SGSN shall replace all of the EPS or GPRS subscription data of the user in the MME or SGSN. Any optional EPS or GPRS data not received, but stored in the standalone MME or SGSN, shall be deleted.\nFor a combined MME/SGSN, if EPS subscription data of the user is received, it shall replace all of the EPS subscription data of the user. Any optional EPS data not received by the combined MME/SGSN, but stored in the MME/SGSN, shall be deleted.\nFor a combined MME/SGSN, if GPRS subscription data of the user is received, it shall replace all of the GPRS subscription data of the user. Any optional GPRS data not received by the combined MME/ SGSN, but stored in the MME/SGSN, shall be deleted.\nWhen receiving an Update Location response from the HSS, the MME or SGSN shall check the result code. If it indicates success the MME or SGSN shall store the received subscription profile (if any), and it shall store the HSS identity as received in the Origin-Host AVP.\nIf an Additional MSISDN (A-MSISDN) is available in the subscription data and downloaded in the A-MSISDN AVP to the MME/SGSN in an Update Location and if the MME or SGSN supports the additional MSISDN feature, the MME or SGSN shall use the Additional MSISDN as C-MSISDN.\nFor UEs receiving emergency services (i.e. emergency attached UEs or normal attached UEs with a UE Requested PDN Connection for emergency services), and if the MME or SGSN supports emergency services for users in limited service state, the MME or SGSN shall proceed even if the Update Location procedure fails (e.g. authenticated users with roaming restrictions or RAT-Type restrictions in HSS).\nWhen receiving GPRS-Subscription-Data AVP in the response, the SGSN or combined MME/SGSN shall delete all the stored PDP-Contexts, if there are any, and then store all the received PDP-Contexts.\nWhen receiving the APN-Configuration-Profile AVP in a ULA, the MME or SGSN shall delete all the stored APN-Configurations, if there are any, and then store all the received APN-Configurations.\nFor each of the received APN-Configurations in the APN-Configuration-Profile, if both the MIP6-Agent-Info and the PDN-GW-Allocation-Type AVPs are absent in the APN-Configuration AVP and the MME or SGSN does not have any associated PGW information, the MME or SGSN shall perform the PGW selection (static or dynamic) according to the local configuration. If MIP6-Agent-Info is present, and PDN-GW-Allocation-Type is not present, this means that the PDN GW address included in MIP6-Agent-Info has been statically allocated. If the MIP6-Agent-Info contains an FQDN of the PDN GW, the MME shall retrieve the PGW PLMN ID from the MIP-Home-Agent-Host AVP within the MIP6-Agent-Info AVP.\nWhen receiving an Update Location response from the HSS in the TAU or RAU procedure, for each of the received APN-Configurations in the APN-Configuration-Profile, if both the MIP6-Agent-Info and the PDN-GW-Allocation-Type AVPs are absent in the APN-Configuration AVP and the MME or SGSN has associated PGW information and the UE-level access restriction \"HO-To-Non-3GPP-Access Not Allowed\" is not set, the MME or SGSN should send a Notify Request if HO to the WLAN is supported in the network, including the APN and PDN GW identity to the HSS in order to restore this information in the HSS e.g. after a Reset procedure.\nIf the MME/SGSN supports interworking with Gn/Gp-SGSNs, it shall ensure that the Context -Identifier sent over GTPv1 for each of the received APN-Configurations is within the range of 1 and 255.\nNOTE 1:\tIf the MME/SGSN receives from HSS a Context-Identifier value higher than 255, how this value is mapped to a value between 1 and 255 is implementation specific.\nIf the subscriber is not roaming and the SIPTO-Permission information for an APN is present, the MME or SGSN shall allow SIPTO above RAN for that APN only if the SIPTO-Permission information indicates so.\nIf the subscriber is not roaming and the SIPTO-Permission information for an APN is not present, the MME or SGSN may allow SIPTO above RAN for that APN.\nIf the subscriber is roaming and the SIPTO-Permission information for an APN is present, the MME or SGSN shall allow SIPTO above RAN for that APN only if the SIPTO-Permission information indicates so and the VPLMN Dynamic Address is allowed and the MME or SGSN selects a PDN GW in the VPLMN.\nIf the subscriber is roaming and the SIPTO-Permission information for an APN is not present, the MME or SGSN shall not allow SIPTO above RAN for that APN.\nNOTE 2:\tBased on local configuration, the MME or SGSN can determine not to allow SIPTO above RAN for an APN, regardless if the SIPTO-Permission information is present.\nIf the subscriber is not roaming and the SIPTO-Local-Network-Permission information for an APN is present, the MME or SGSN shall allow SIPTO at the local network for that APN only if the SIPTO-Local-Network-Permission information indicates so.\nIf the subscriber is not roaming and the SIPTO-Local-Network-Permission information for an APN is not present, the MME or SGSN may allow SIPTO at the local network for that APN.\nIf the subscriber is roaming and the SIPTO-Local-Network-Permission information for an APN is present, the MME or SGSN shall allow SIPTO at the local network for that APN only if the SIPTO-Local-Network-Permission information indicates so and the VPLMN Dynamic Address is allowed and the MME or SGSN selects a L-GW in the VPLMN.\nIf the subscriber is roaming and the SIPTO-Local-Network-Permission information for an APN is not present, the MME or SGSN shall not allow SIPTO at the local network for that APN.\nNOTE 3:\tBased on local configuration, the MME or SGSN can determine not to allow SIPTO at the local network for an APN, regardless if the SIPTO-Local-Network-Permission information is present.\nIf MPS-Priority AVP is present and the UE is subscribed to the eMLPP or 1x RTT priority service in the CS domain as indicated by the MPS-CS-Priority bit of the AVP, the MME shall allow the UE to initiate the RRC connection with higher priority than other normal UEs during CS Fallback procedure. If the MPS-Priority AVP is present and the UE is subscribed to MPS in the EPS domain as indicated by the MPS-EPS-Priority bit of the AVP, the MME shall allow the UE to initiate the RRC connection with higher priority than other normal UEs.\nIf the subscriber is not roaming, the MME or SGSN may allow or prohibit the UE to use LIPA as indicated by LIPA-Permission for a specific APN.\nIf the subscriber is roaming and the VPLMN-LIPA-Allowed AVP indicates that the UE is not allowed to use LIPA in the VPLMN where the UE is attached, the MME or SGSN shall not provide LIPA for the UE and shall not consider the LIPA-Permission AVP. If the VPLMN-LIPA-Allowed AVP indicates that the UE is allowed to use LIPA in the VPLMN, the MME or SGSN may allow or prohibit the UE to use LIPA as indicated by LIPA-Permission for a specific APN. The VPLMN-Dynamic-Address-Allowed AVP shall not be considered if it is received when the MME or SGSN establishes a PDN connection with LIPA.\nIf the LIPA-Permission information for an APN indicates LIPA only, the MME or SGSN shall only allow LIPA for that APN via the authorized CSGs according to the CSG Subscription Data. If the LIPA-Permission information for an APN indicates LIPA prohibited, the MME or SGSN shall not allow LIPA for that APN. If the LIPA-Permission information for an APN indicates LIPA conditional, the MME or SGSN shall allow non LIPA, and LIPA for that APN via the authorized CSGs according to the CSG Subscription Data. If the LIPA-Permission AVP is not present for a specific APN, the APN shall not be allowed to use LIPA.\nThe LIPA-Permission information for the Wildcard APN shall apply to any APN that is not explicitly present in the subscription data.\nThe SIPTO-Permission information for the Wildcard APN shall apply to any APN that is not explicitly present in the subscription data.\nThe SIPTO-Local-Network-Permission information for the Wildcard APN shall apply to any APN that is not explicitly present in the subscription data.\nIf the subscription data received for a certain APN indicates that the APN was authorized as a consequence of having the Wildcard APN in the user subscription in HSS, then the MME shall not store this APN data beyond the lifetime of the UE session and the MME shall delete them upon disconnection of the UE.\nIf the MME supports the Relay Node functionality (see 3GPP TS 36.300 [40]) and the subscription data indicates that the subscriber is not a relay, the MME shall reject the attach request from a device attempting to attach to EPS as a Relay Node. If a device requests to be attached to EPS as an UE, the MME shall proceed with the attach procedure regardless of the content of the Relay Node Indicator.\nIf trace data are received in the subscriber data, the MME or SGSN shall start a Trace Session. For details, see 3GPP TS 32.422 [23].\nIf the Ext-PDP-Type AVP is present in the PDP-Context AVP, the SGSN or combined MME/SGSN shall ignore the value of the PDP-Type AVP.\nIf the subscriber is not roaming and the Subscribed-Periodic-RAU-TAU-Timer information is present, the MME or SGSN shall allocate the subscribed value to the UE as periodic RAU or TAU timer. If the subscriber is roaming and the Subscribed-Periodic-RAU-TAU-Timer information is present, the MME or SGSN may use the subscribed periodic RAU/TAU timer value as an indication to decide for allocating a locally configured periodic RAU/TAU timer value to the UE.\nFor a combined MME/SGSN, the node may include the Coupled-Node-Diameter-ID AVP to allow the HSS to determine if the UE is served by the MME and SGSN parts of the same combined MME/SGSN. When the message is sent over S6a interface and if this AVP is included, the MME shall include the Diameter identity of the coupled SGSN which is used by the SGSN over S6d interface. When the message is sent over S6d interface and if this AVP is included, the SGSN shall include the Diameter identity of the coupled MME which is used by the MME over S6a interface.\nNOTE 4:\tThe Coupled-Node-Diameter-ID AVP allows the HSS to determine if the UE is served by the MME and SGSN parts of the same combined MME/SGSN, when the SGSN number is not available and when Diameter identity of S6a and S6d interfaces of the combined MME/SGSN are not the same.\nIf the MME supports the \"SMS in MME\" feature and the UE has requested a combined EPS/IMSI attach or Combined TA/LA Update (see 3GPP TS 23.272 [44]) and the MME is not currently registered for SMS, the MME requests to be registered for SMS by indicating its MME Number for MT SMS in the request, including the SMS-Register-Request AVP and the SMS-Only-Indication flag set in the ULR-Flags AVP if UE indicates \"SMS only\".\nIf the MME supports the \"SMS in MME\" feature, when receving an EPS attach or a TAU from a UE accessing NB-IoT which requests SMS by indicating \"SMS transfer without Combined Attach\" (see 3GPP TS 23.401 [2]), and if the MME is not currently registered for SMS, the MME requests to be registered for SMS by indicating its MME Number for MT SMS in the request, including the SMS-Register-Request AVP.\nIf the HSS provides the MME with SMS data in the ULA and the ULA-Flags is received with \"MME Registered for SMS\" flag set, the MME shall store this data for providing SMS in MME service and consider itself registered for SMS.\nIf the SGSN supports the \"SMS in SGSN\" feature as specified in 3GPP TS 23.060 [12], clause 5.3.18, and wishes to provide SMS via SGSN it shall set the \"SMS in SGSN\" flag in the Feature-List AVP, and include SMS-Register-Request AVP. If the SGSN supports the Diameter based Gdd interface for SMS in SGSN, it shall set the \"Gdd-in-SGSN\" flag in the Feature-List AVP. If the UE has indicated \"SMS-Only\" this shall be indicated to the HSS setting the SMS-Only–Indication flag in the ULR-Flags AVP.\nNOTE 5:\tthe setting of the \"SMS in SGSN\" feature bit reflects the \"SMS in SGSN Offered\" as described in stage 2 above.\nIf the SMS-In-SGSN-Allowed-Indication flag is set in the received Subscription-Data-Flags AVP, the SGSN shall store the subscription data for providing SMS in SGSN service.\nIf the subscriber is not roaming and the Restoration-Priority information for a certain APN is present, the MME or SGSN shall consider the subscribed value as the relative priority of the user's PDN connection among PDN connections to the same APN when restoring PDN connections affected by an SGW or PGW failure/restart (see 3GPP TS 23.007 [43]). If the subscriber is roaming and the Restoration-Priority information for a certain APN is present, the MME or SGSN may use the subscribed value as an indication of the relative priority of the user's PDN connection among PDN connections to the same APN based on service level agreements. The MME/SGSN may use a locally configured value as default restoration priority if the Restoration-Priority AVP for a certain APN is not present, or if it is not permitted by service level agreements for an in-bound roamer.\nIf the subscription data received for a certain APN includes WLAN-offloadability AVP, then the MME or SGSN shall determine the offloadability of the UE's PDN Connection(s) to that APN based on subscription data and locally configured policy (e.g. for roaming users or when the subscription data does not include any offloadability indication).\nNOTE 6:\tAs indicated in clause 7.3.31, if the UE-level access restriction \"HO-To-Non-3GPP-Access Not Allowed\" is set, the offload of PDN Connections to WLAN is not allowed for any APN.\nIf the subscription data received for the user includes the DL-Buffering-Suggested-Packet-Count AVP, then the MME or SGSN should take into account the subscription data, in addition to local policies, to determine whether to invoke extended buffering of downlink packets at the SGW for High Latency Communication. Otherwise, the MME or SGSN shall make this determination based on local policies only.\nWhen receiving IMSI-Group-Id AVP(s) within the Subscription-Data AVP, the MME or SGSN shall replace stored IMSI-Group Ids (if any) with the received information rather than add the received information to the stored information.\nWhen receiving one or more Monitoring-Event-Configuration AVP(s) in the ULA, the MME or SGSN shall start the detection of the Monitoring events indicated in those AVP(s), if not already started, and shall stop the detection and delete the previous monitoring events (if any) which are not indicated in those AVP(s). If there is a failure when starting the detection (e.g. maximum resources exceeded), the MME or SGSN shall not store the failed configuration(s) and shall send a notification of those events whose configuration have failed, as described in clause 5.2.5.1.2 (NOR/NOA commands). If the Subscription-Data AVP is received in the ULA but it does not contain any Monitoring-Event-Configuration AVP(s), the MME or SGSN shall stop the detection and delete all stored monitoring event configurations (if any).\nIf the MME/SGSN supports Monitoring, the MME/SGSN shall include the Supported-Services AVP with Supported-Monitoring-Events included in the ULR command.\nIf the MME and the UE support Attach without PDN connection (i.e. EMM-REGISTERED without PDN connection) and the PDN-Connection-Restricted flag is set in the received Subscription-Data-Flags AVP, the MME shall not establish any non-emergency PDN connectionand shall tear down any existing non-emergency PDN connection for this user.\nIf the subscription data received for the user includes the Preferred-Data-Mode AVP, for an IP APN configuration or for a non-IP APN configuration with SGi based delivery, then the MME should (if the subscriber is not roaming) or may (if the subscriber is roaming) take into account the subscription data, in addition to local policies and the UE's Preferred Network Behaviour, to determine whether to transmit the traffic associated with this APN over the User Plane and/or over the Control Plane.Otherwise, the MME shall make this determination based on local policies and the UE's Preferred Network Behaviour only.\nIf the MME receives from the HSS an Update Location response containing the Emergency-Info AVP in the Subscription-Data, the MME shall use the PDN-GW identity included in Emergency-Info as the PDN-GW used to establish emergency PDN connections with the emergency APN, for non-roaming authenticated UEs requesting the handover of an emergency PDN connection if the MME is configured to use a dynamic PDN-GW for emergency services for such user.\nWhen receiving V2X-Subscription-Data in the ULA, the MME shall determine whether the UE is authorized to use V2X communication over PC5 according to V2X subscription data and UE provided network capability. If the UE is authorized to use V2X communication over PC5, the MME shall store the \"V2X service authorized\" indication together with the UE AMBR used for PC5 interface (i.e. UE-PC5-AMBR), and provide such information to the eNodeB when needed.\nIf the MME/SGSN receives from the HSS an Update Location response without the bit set for \"NR as Secondary RAT\" in the Feature-List AVP, the MME/SGSN, based on local policy, may restrict access for NR as secondary RAT when all relevant entities except HSS supports it.\nIf the MME receives from the HSS an Update Location response containing in the subscription data the Core-Network-Restrictions AVP with the bit \"5GC not allowed\" set, the MME shall restrict mobility towards 5GC.\nWhen receiving an Update Location request the HSS shall check whether subscription data exists for the IMSI.\nIf the HSS determines that there is not any type of subscription for the IMSI (including EPS, GPRS and CS subscription data), a Result Code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the Update Location Request is received over the S interface, and the subscriber has not any APN configuration, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nIf the Update Location Request is received over S6a, from an MME that does not support the \"Non-IP PDN Type APNs\" feature, and the user's subscripton profile contains only APN configurations of type \"Non-IP\", the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nIf the Update Location Request is received over the S6d interface, and the subscriber has neither an APN configuration profile nor GPRS subscription data, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nWhen sending DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION, an Error Diagnostic information may be added to indicate whether or not GPRS subscription data are subscribed (i.e. whether or not Network Access Mode stored in the HSS indicates that only CS service is allowed).\nThe HSS shall check whether the RAT type the UE is using is allowed for the subscriber in the serving PLMN. If it is not, a Result Code of DIAMETER_ERROR_RAT_NOT_ALLOWED shall be returned.\nThe HSS shall check whether access to EPC is allowed, based on the active Core Network Restrictions of the subscriber. If access to EPC is restricted, a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION shall be returned.\nThe HSS shall check whether roaming is not allowed in the VPLMN due to ODB. If so a Result Code of DIAMETER_ERROR_ROAMING_NOT_ALLOWED shall be returned. When this error is sent due to the MME or SGSN not supporting a certain ODB category, an Error Diagnostic information element may be added to indicate the type of ODB; if this error is sent due to the ODB indicating \"Barring of Roaming\", Error Diagnostic shall not be included.\nIf the Update Location Request is received over the S6d interface and the HSS supports the \"SGSN CAMEL Capability\" feature, and the SGSN indicates support of SGSN CAMEL capability, the HSS shall check if the subscriber has SGSN CAMEL Subscription data. If the subscriber has SGSN CAMEL Subscription data, the HSS shall return a Result Code of DIAMETER_ERROR_CAMEL_SUBSCRIPTION_PRESENT.\nIf the Update Location Request is received over the S interface, the HSS shall send a Cancel Location Request with a Cancellation-Type of MME_UPDATE_PROCEDURE (CLR; see clause 7.2.7) to the previous MME (if any) and replace the stored MME-Identity with the received value (the MME-Identity is received within the Origin-Host AVP). The HSS shall reset the \"UE purged in MME\" flag and delete any stored last known MME location information of the (no longer) purged UE. If the \"Single-Registration-Indication\" flag was set in the received request, the HSS shall send a Cancel Location Request with a Cancellation-Type of SGSN_UPDATE_PROCEDURE to the SGSN (MAP Cancel Location), and delete the stored SGSN address and SGSN number. If the \"Initial-Attach-Indicator\" flag was set in the received request, and the \"Single-Registration-Indication\" flag was not set, the HSS shall send a Cancel Location Request with a Cancellation-Type of INITIAL_ATTACH_PROCEDURE (CLR; see clause , or MAP Cancel Location) to the SGSN if there is an SGSN registration.\nIf the Update Location Request is received over the S6d interface, the HSS shall send a Cancel Location Request with a Cancellation-Type of SGSN_UPDATE_PROCEDURE (CLR; see clause , or MAP Cancel Location) to the previous SGSN (if any) and replace the stored SGSN-Identity with the received value (the SGSN-Identity is received within the Origin-Host AVP). The HSS shall reset the \"UE purged in SGSN\" flag and delete any stored last known SGSN location information of the (no longer) purged UE. If the \"Initial-Attach-Indicator\" flag was set in the received request, the HSS shall send a Cancel Location Request with a Cancellation-Type of INITIAL_ATTACH_PROCEDURE (CLR; see clause ) to the MME if there is an MME registration.\nWhen the HSS receives the Update Location Request, if a 15th digit of the IMEI AVP is received, the HSS may discard the digit.\nIf the Update Location Request includes either the ULR-flag Inter-PLMN-inter-MME or the ULR-flag intra-PLMN-inter-MME, then the HSS may ignore this information.\nNOTE 1:\tThese flags are intended for use by Steering of Roaming functions that are not standardised by 3GPP and which operate by interfering with the Diameter procedures.\nIf the Update Location Request includes the list of active APNs, the HSS shall delete all the stored dynamic PDN GW information, if there are any, and then replace them by the PDN GW information received in the list of Active-APN AVPs.\nIf the Update Location Request includes an equivalent PLMN list, the HSS shall return the CSG list (if any) for each equivalent PLMN to the MME with the subscription data, and Visited-PLMN-Id AVP shall be present in the CSG-Subscription-Data AVP to indicate the corresponding PLMN. If there is no equivalent PLMN list received, the HSS may not include Visited-PLMN-Id AVP in the CSG-Subscription-Data AVP, and the CSG-Subscription-Data AVP shall contain the CSG subscription data of the registered PLMN of the MME or the SGSN.\nIf the Update Location Request is received over the S6a interface for a user for which the URRP-MME parameter is set in the HSS, the HSS shall clear the URRP-MME parameter and send an indication to the corresponding Service Related Entities.\nIf the Update Location Request is received over the S6d interface for a user for which the URRP-SGSN parameter is set in the HSS, the HSS shall clear the URRP-SGSN parameter and send an indication to the corresponding Service Related Entities.\nIf no result code has been sent to the MME or SGSN so far, the HSS shall include the subscription data in the ULA command according to the ULR-Flags and the supported/unsupported features of the MME or SGSN, unless an explicit \"skip subscriber data\" indication has been received in the request, and shall return a Result Code of DIAMETER_SUCCESS.\nWhen the APN-Configuration-Profile AVP is present in the Subscription-Data AVP sent within a ULA, the AVP shall contain at least the default APN Configuration and a Context-Identifier AVP that identifies the per subscriber's default APN configuration. The default APN Configuration shall not contain the Wildcard APN (see 3GPP TS 23.003 [3], clause 9.2); the default APN shall always contain an explicit APN.\nThe GPRS Subscription data (if available in the HSS) shall only be present in the ULA command if it was indicated by the serving node in the ULR-Flags AVP (see clause 7.3.7), or when the subscription data is returned by a Pre-Rel-8 HSS (via an IWF) or when the Update Location Request is received over the S6d interface and there is no APN configuration profile stored for the subscriber.\nThe HSS shall use the indication received in the GPRS-Subscription-Data-Indicator for future use in the subscriber data update procedures.\nThe HSS shall store the new terminal information and/or the new UE SRVCC capability, if they are present in the request. If the UE SRVCC capability is not present, the HSS shall store that it has no knowledge of the UE SRVCC capability.\nIf the MME/SGSN indicates support of the Additional-MSISDN feature and an additional MSISDN (A-MSISDN) is available in the subscription data, the HSS shall send the provisioned additional MSISDN together with the MSISDN.\nIf the MME/SGSN does not support the Additional-MSISDN feature, the HSS shall populate the MSISDN AVP either with the subscribed  MSISDN or the subscribed additional MSISDN based on operator policy and availability.\nNOTE 2:\tWhen the MME/SGSN does not support the Additional-MSISDN feature, the MME/SGSN will use the MSISDN from the MSISDN AVP as C-MSISDN.\nLCS-Info, Teleservice-List and Call-Barring-Info data shall be included according to the list of supported features indicated by the serving node (see clause 7.3.10).\nIf the HSS supports the \"SMS in MME\" feature and receives the indication that the MME supports the \"SMS in MME\" feature and requests to be registered for SMS by including the MME Number for MT SMS, SMS-Register-Request AVP and/or setting the SMS-Only-Indication flag in the ULR-Flags AVP if indicated from the UE, the HSS shall determine if SMS can be provided via the MME as described in 3GPP TS 23.272 [44]. If SMS in MME is accepted the HSS shall register the MME for SMS, store the \"MME number for MT SMS\" as the corresponding MSC number to be used for MT SMS and return an indication of MME registered for SMS in ULA-Flags AVP.\nIf the MME is successfully registered for SMS the HSS shall download the available SMS related subscription data that may comprise SMS teleservice, MSISDN, ODB and barring services for SMS according to supported features. Also, if the user is considered as not reachable (i.e., MNRF flag is set in HSS for that user), and the UE is considered to have free available memory (i.e., MCEF flag is not set in HSS for that user), the HSS shall send a MAP-Alert-Service-Centre message or S6c-Alert-Service-Centre-Request to the SMS-IWMSC (see 3GPP TS 29.338 [48]).\nIf the HSS supports the \"SMS in SGSN\" feature as described in 3GPP TS 23.060 [12], clause 5.3.18 and receives the indication from the SGSN that it supports \"SMS in SGSN\" feature, and SMS-Register-Request AVP and/or the SMS-Only-Indication flag in the ULR-Flags AVP if indicated from the UE, and the PS subscriber data allow for SMS services (e.g. the subscription information indicates \"PS and SMS-Only\"), the HSS shall determine if SMS can be provided via the SGSN as described in 3GPP TS 23.060 [12]. If \"SMS in SGSN\" is accepted the HSS shall indicate in the ULA that \"SMS in SGSN\" is allowed to the SGSN and shall handle MT SMS as described in 3GPP TS 23.060 [12], clause 5.3.18. If the HSS supports the \"Gdd-in-SGSN\" feature and receives the indication from the SGSN that it supports the \"Gdd-in-SGSN\" feature, the HSS shall store the information that the SGSN supports the Gdd interface. Also, if the user is considered as not reachable (i.e., MNRG flag is set in HSS for that user), and the UE is considered to have free available memory (i.e., MCEF flag is not set in HSS for that user), the HSS shall send a MAP-Alert-Service-Centre message or S6c-Alert-Service-Centre-Request to the SMS-IWMSC (see 3GPP TS 29.338 [48]).\nThe HSS may use the indication received in the Node-Type-Indicator for future use in the subscriber data update procedures.\nSubscriber-Status AVP shall be present in the Subscription-Data AVP when sent within a ULA. If the value \"OPERATOR_DETERMINED_BARRING\" is sent, the Operator-Determined-Barring AVP or HPLMN-ODB AVP shall also be present in the Subscription-Data AVP, or vice versa.\nAccess-Restriction-Data AVP shall be present within the Subscription-Data AVP sent within a ULA if at least one of the defined restrictions applies.\nThe AMBR AVP shall be present in the Subscription-Data AVP when the APN-Configuration-Profile AVP is sent within a ULA (as part of the Subscription-Data AVP) and may be present in the Subscription-Data AVP when the GPRS-Subscription-Data AVP is present.\nThe EPS-Subscribed-QoS-Profile AVP and the AMBR AVP shall be present in the APN-Configuration AVP when the APN-Configuration AVP is sent in the APN-Configuration-Profile AVP and when the APN-Configuration-Profile AVP is sent within a ULA (as part of the Subscription-Data AVP).\nFor those APNs that have been authorized as a consequence of having the Wildcard APN in the user subscription, the HSS shall include the specific APN name and associated PDN-GW identity inside the APN context of the Wildcard APN. This indicates to the MME that the particular APN shall not be cached in the MME and it shall be deleted when the UE session is terminated.\nIf a Result Code of DIAMETER_SUCCESS is returned, the HSS shall set the Separation Indication in the response.\nIf the HSS receives an indication in the ULR command about the homogeneous support of IMS Voice over PS Sessions in all TA/RAs associated to a serving node, it may use this information in the future in order to skip the T-ADS data retrieval, as described in clause 5.2.2.1 (IDR/IDA commands).\nSubscribed-VSRVCC AVP shall be present within the Subscription-Data AVP sent within a ULA only if the user is subscribed to the SRVCC and vSRVCC.\nIf the UE is allowed to use Proximity-based Services in the visited PLMN, the HSS shall include ProSe-Subscription-Data AVP within the Subscription-Data AVP sent within a ULA.\nIf the HSS receives the SGs MME identity and if the HSS supports this information element, the HSS shall store it for use with VLR restoration.\nIf the HSS receives Update Location Request over both the S6a and S6d interfaces then based on the following conditions the HSS concludes if the UE is served by the MME and SGSN parts of the same combined MME/SGSN:\n-\tif both the messages contain the same SGSN number; or\n-\tif the Diameter identity received over S6a matches with the Diameter identity received over S6d; or\n-\tif the Coupled-Node-Diameter-ID AVP received over S6a interface matches with the Diameter identity received within Origin-Host AVP over S6d interface OR if the Coupled-Node-Diameter-ID AVP received over S6d interface matches with the Diameter identity received within Origin-Host AVP over S6a interface.\nIf the HSS supports the handling of access restrictions for adjacent PLMNs, and it receives a list of adjacent PLMNs from the MME/SGSN, the HSS may send the associated Access Restriction Data, according to local operator policies, in the Adjacent-Access-Restriction-Data AVP, so the MME/SGSN can use this information to allow, or prevent, inter-RAT inter-PLMN handovers towards any of the PLMNs indicated by the HSS. The HSS shall not include in the list of Adjacent-Access-Restriction-Data the PLMN-ID, and its access restrictions, of the current PLMN where the MME/SGSN is located, since this information is already conveyed in the Access-Restriction-Data AVP inside the Subscription-Data AVP.\nIf the HSS supports Monitoring events and receives a Supported-Services AVP it shall only trigger those services which are supported by the MME/SGSN.\nIf the HSS has previously received over SWx (see 3GPP TS 29.273 [59]) the identity of the PDN-GW to be used for the establishment of emergency PDN connections, it shall include it as part of the Subscription-Data AVP (in the Emergeny-Info AVP), in the Update Location response to the MME.\nIf the UE is allowed to use V2X service in the visited PLMN and the MME supports V2X service, the HSS shall include V2X-Subscription-Data AVP into Subscription-Data AVP within the ULA command.\nIf the MME/SGSN supports the \"External-Identifier\" feature, the HSS shall include the External-Identifier associated with Monitoring Event Configuration in the External-Identifier AVP if populated in the subscription. When multiple External Identifiers are defined for a same subscription, the HSS shall send a default External Identifier in the External-Identifier AVP of the Subscription-Data AVP, and shall include a specific External Identifier (if different from the default External Identifier) associated to each Monitoring Event Configuration in the External-Identifier AVP of each Monitoring-Event-Configuration AVP occurrence inside the Subscription-Data AVP.\nThe Aerial-UE-Subscription-Information AVP shall be present within the Subscription-Data AVP sent within a ULA only if the user has Aerial UE subscription information.\nThe Cancel Location Procedure shall be used between the HSS and the MME and between the HSS and the SGSN to delete a subscriber record from the MME or SGSN. The procedure shall be invoked by the HSS and is used:\n-\tto inform the MME or SGSN about a subscription withdrawal, or a change in the subscriber profile that does not allow PS services anymore (e.g., the Network Access Mode does not allow PS services), or a change in the subscriber profile that does not allow access to EPC anymore, or\n-\tto inform the MME or SGSN about an ongoing update procedure i.e. MME or SGSN change or\n-\tto inform the MME or SGSN about an initial attach procedure.\nThis procedure is mapped to the commands Cancel-Location-Request/Answer (CLR/CLA) in the Diameter application specified in clause 7.\nTable 5.2.1.2.1/1 specifies the involved information elements for the request.\nTable 5.2.1.2.1/2 specifies the involved information elements for the answer.\nTable 5.2.1.2.1/1: Cancel Location Request\n\nTable 5.2.1.2.1/2: Cancel Location Answer\n\nWhen receiving a Cancel Location request the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_SUCCESS is returned.\nIf it is known, the MME or SGSN shall check the Cancellation Type and act accordingly.\nIf the Cancellation Type is \"Subscription Withdrawal\", the MME or SGSN shall delete the subscription data and detach the UE; in addition, if the Reattach-Required flag is set, the MME or SGSN shall indicate to the UE to initiate an immediate re-attach procedure, as described in 3GPP TS 23.401 [2] and 3GPP TS 23.060 [12]. A result code of DIAMETER_SUCCESS shall be returned.\nIf a cancellation type of \"Initial Attach Procedure\" is received, the MME or SGSN shall not delete the subscription data. For details see 3GPP TS 23.401 [2] and 3GPP TS 23.060 [12]. If the MME receives this cancelation type, and it is registered for SMS, it shall consider itself as unregistered for SMS. Also in this case a result code of DIAMETER_SUCCESS shall be returned.\nWhen a UE is served by a single combined MME/SGSN for both E-UTRAN and non-E-UTRAN access, the combined MME/SGSN shall check the Cancellation-Type. If it indicates Subscription Withdrawal or Update Procedure_IWF, the CLR is processed both in the MME part and in the SGSN part of the combined node. If it indicates Initial Attach Procedure, and if the CLR-Flags AVP is received and supported by the combined MME/SGSN, the CLR is processed only in the affected part of the combined node as indicated by the \"S6a/S6d-Indicator\" flag in the CLR-Flags AVP. Otherwise, the CLR is processed only in the affected part of the combined node and subscription data are kept for the not affected part.\nThe HSS shall make use of this procedure when the subscription is withdrawn by the HSS operator, and when the HSS detects that the UE has moved to a new MME or SGSN area, and when EPC access is not allowed due to Core Network Restrictions.\nThe HSS+UDM shall also make use of this procedure when the HSS+UDM detects that the UE has moved to a new AMF area, if the AMF indicates to the HSS+UDM to cancel MME and/or SGSN. The HSS+UDM shall include a cancellation type as specified in clause 5.4.2.2 of 3GPP TS 29.563 [70].\nThe HSS shall include a cancellation type of \"Subscription Withdrawal\" if the subscription is withdrawn by the operator, or if the subscriber profile does not allow PS services anymore, or if the Core Network Restrictions do not allow access to EPC anymore; the HSS may set the Reattach-Required flag in order to request the MME or the SGSN to trigger an immediate reattachment of the UE.\nThe HSS shall include a cancellation type of \"MME Update Procedure\" if the UE moved to a new MME area.\nThe HSS shall include a cancellation type of \"SGSN Update Procedure\" if the UE moved to a new SGSN area.\nThe HSS shall include a cancellation type of \"Initial Attach Procedure\" if the cancel location is initiated due to an Initial Attach from the UE.\nThe HSS shall include the CLR-Flags with the \"S6a/S6d-Indicator\" flag indicating the affected part of the combined node if the cancel location is to be sent to a combined MME/SGSN during initial attach procedure.\nThe Purge UE Procedure shall be used between the MME and the HSS and between the SGSN and the HSS to indicate that the subscriber's profile has been deleted from the MME or SGSN either by an MMI interaction or automatically, e.g. because the UE has been inactive for several days.\nThis procedure is mapped to the commands Purge-UE-Request/Answer (PUR/PUA) in the Diameter application specified in clause 7.\nTable 5.2.1.3.1/1 specifies the involved information elements for the request.\nTable 5.2.1.3.1/2 specifies the involved information elements for the answer.\nTable 5.2.1.3.1/1: Purge UE Request\n\nTable 5.2.1.3.1/2: Purge UE Answer\n\nThe MME shall make use of this procedure to set the \"UE Purged in the MME\" flag in the HSS when the subscription profile is deleted from the MME database due to MMI interaction or after long UE inactivity.\nThe SGSN shall make use of this procedure to set the \"UE Purged in SGSN\" flag in the HSS when the subscription profile is deleted from the SGSN database due to MMI interaction or after long UE inactivity.\nThe combined MME/SGSN when using a single Origin-Host identity shall make use of this procedure to set the \"UE Purged in MME\" and \"UE Purged in SGSN\" flags in the HSS when the subscription profile is deleted from the common MME/SGSN database due to MMI interaction or after long UE inactivity on all registered accesses. If the HSS has indicated support for the Partial Purge feature (see clause 7.3.10), the combined MME/SGSN may also indicate to the HSS a Purge of the UE in only one of the serving nodes in the combined node (either in the MME or in the SGSN).\nThe combined MME/SGSN when using different Origin-Host identities for MME and SGSN shall send two Purge UE Requests as if it was not combined.\nWhen receiving a Purge UE response from the HSS the MME shall check the Result Code. If it indicates success, the MME shall check the PUA flag \"freeze M-TMSI\", and if set freeze the M-TMSI i.e. block it for immediate re-use.\nWhen receiving a Purge UE response from the HSS the SGSN shall check the Result Code. If it indicates success, the SGSN shall check the PUA flag \"freeze P-TMSI\", and if set freeze the P-TMSI i.e. block it for immediate re-use.\nWhen receiving a Purge UE response from the HSS the combined MME/SGSN shall check the Result Code. If it indicates success, the combined MME/SGSN shall check the PUA flag \"freeze M-TMSI\" and \"freeze P-TMSI\", and if set freeze the M-TMSI and/or the P-TMSI i.e. block it for immediate re-use.\nWhen receiving a Purge UE request the HSS shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, the HSS shall set the result code to DIAMETER_SUCCESS and compare the received identity in the Origin-Host with the stored MME-Identity and with the stored SGSN-Identity.\nIf the received identity matches the stored MME-identity and the stored SGSN-Identity (no matter whether the node type indicator bit in ULR-Flags was set or clear), then:\n-\tif the HSS supports the Partial Purge feature (see clause 7.3.10), and the combined MME/SGSN indicated that the UE was purged in only one of the serving nodes, the HSS shall set the PUA flags according to the serving node where the purge was done (i.e., either \"freeze M-TMSI\" if the purge was done in the MME, or \"freeze P-TMSI\" if the purge was done in the SGSN); similarly, the HSS shall either set the \"UE purged in MME\" flag and store the received last known MME Location information of the purged UE, or set the \"UE purged in SGSN\" flag and store the received last known SGSN-Location Information of the purged UE, accordingly;\n-\tif the HSS does not support the Partial Purge feature, or the combined MME/SGSN did not indicate that the UE was purged in only one of the serving nodes, the HSS shall set the PUA flags \"freeze M-TMSI\" and \"freeze P-TMSI\" in the answer message and set the flag \"UE purged in MME\" and \"UE purged in SGSN\" and store the received last known EPS Location Information of the purged UE;\nIf the received identity matches the stored MME-identity but not the stored SGSN-identity, the HSS shall set the PUA flag \"freeze M-TMSI\" and clear the PUA flag \"freeze P-TMSI\" in the answer message, set the flag \"UE purged in MME\" and store the received last known MME location information of the purged UE;\nIf the received identity matches the stored SGSN-identity but not the stored MME-identity, the HSS shall set the PUA flag \"freeze P-TMSI\" and clear the PUA flag \"freeze M-TMSI\" in the answer message and set the flag \"UE purged in SGSN\" and store the received last known SGSN location information of the purged UE;\nIf the received identity does not match the stored MME-identity and does not match the stored SGSN-identity, the HSS shall clear the PUA flags \"freeze M-TMSI\" and \"freeze P-TMSI in the answer message.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.1.1.1/1: Update Location Request",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.1.1/2: Update Location Answer",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.2.1/1: Cancel Location Request",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.2.1/2: Cancel Location Answer",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.3.1/1: Purge UE Request",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.3.1/2: Purge UE Answer",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.2\tSubscriber Data Handling Procedures",
                            "text_content": "The Insert Subscriber Data Procedure shall be used between the HSS and the MME and between the HSS and the SGSN for updating and/or requesting certain user data in the MME or SGSN in the following situations:\n-\tdue to administrative changes of the user data in the HSS and the user is now located in an MME or SGSN, i.e. if the user was given a subscription and the subscription has changed; subscription data that are applicable to MMEs but not to SGSNs should not be sent to the SGSN unless the SGSN is known to be a combined MME/SGSN; similarly subscription data that are applicable to SGSNs but not to MMEs should not be sent to the MME unless the MME is known to be a combined MME/SGSN.\n-\tthe operator has applied, changed or removed Operator Determined Barring for this user;\n-\tactivate subscriber tracing in the MME or the SGSN;\n-\tto indicate to the MME or SGSN that the HSS has requested to be notified when the UE has become reachable;\n-\tto request from the MME or SGSN the necessary data to support the T-ADS functionality;\n-\tto retrieve location information and/or state information from the MME or the SGSN;\n-\tto retrieve from the MME or the SGSN the Local Time Zone of the location in the visited network where the UE is attached;\n-\tto update the STN-SR (e.g., as a result of an Sh interaction with an SCC-AS).\n-\tto update the MME/SGSN with the identity of a dynamically allocated PDN GW as a result of the first PDN connection establishment associated with an APN over non 3GPP access or 5GS..\n-\tto update the MME with the identity of a PDN GW for Emergency Services as a result of the PDN connection establishment for Emergency Services over non 3GPP access.\n-\tto indicate to the MME that the HSS has deregistered the MME for SMS.\n-\tto indicate to the MME/SGSN that the HSS-based P-CSCF restoration procedure, as described in 3GPP TS 23.380 [51] clause 5.4, shall be executed.\n-\tto request the MME or the SGSN to configure and report the detection of Monitoring events, or delete stored Monitoring events configuration.\n-\tto update the MME with the O&M configured desired Active Time for power saving mode (PSM), or with the value received from the SCEF if Active Time is provided as part of the Suggested-Network-Configuration AVP.\n-\tto update the MME with the O&M configured desired Core Network Restrictions to restrict/allow mobility to 5GC.\nIf the HSS knows that the UE has attached to the MME and SGSN parts of the same combined MME/SGSN via both the E-UTRAN and UTRAN/GERAN (refer to clause 5.2.1.1.2, 5.2.1.1.3 for further details), the HSS should invoke this procedure for a single time to update and/or request certain user data in the combined MME/SGSN, i.e. the HSS should not invoke this procedure for each of the MME and the SGSN registered respectively.\nIf the Node-Type-Indicator information has been previously received as cleared in the ULR-Flags and if the MME has not been registered for SMS during update location procedure for the MME, the HSS may skip any change of the SMS related subscription data and consequently does not have to make use of the Insert Subscriber Data procedure to update the SMS subscription data in the MME.\nThis procedure is mapped to the commands Insert Subscriber Data-Request/Answer (IDR/IDA) in the Diameter application specified in clause 7.\nTable 5.2.2.1.1/1 specifies the involved information elements for the request.\nTable 5.2.2.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.2.1.1/1: Insert Subscriber Data Request\n\nTable 5.2.2.1.1/2: Insert Subscriber Data Answer\n\nWhen receiving an Insert Subscriber Data request the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, the MME or SGSN shall replace the specific part of the stored subscription data with the received data, or shall add the received data to the stored data.\nWhen receiving the APN-Configuration-Profile AVP within the Subscription-Data AVP, the MME or SGSN shall check the All-APN-Configurations-Included-Indicator value. If it indicates \"All_APN_CONFIGURATIONS_INCLUDED\", the MME or SGSN shall delete all stored APN-Configurations and then store all received APN-Configurations. Otherwise, the MME or SGSN shall check the Context-Identifier value of each received APN-Configuration. If the Context-Identifier of a received APN-Configuration matches a Context-Identifier of a stored APN-Configuration, the MME or SGSN shall replace the stored APN-Configuration with the received APN-Configuration. If the Context-Identifier of a received APN-Configuration does not match a Context-Identifier of a stored APN-Configuration, the MME or SGSN shall add the received APN-Configuration to the stored APN-Configurations. If the addition or update of the subscription data succeeds in the MME or SGSN, the Result-Code shall be set to DIAMETER_SUCCESS. The MME or SGSN shall then acknowledge the Insert Subscriber Data message by returning an Insert Subscriber Data Answer.\nFor each of the received APN-Configurations in the APN-Configuration-Profile, if both the MIP6-Agent-Info and the PDN-GW-Allocation-Type AVPs are absent in the APN-Configuration AVP, the MME or SGSN shall perform the PGW selection (static or dynamic) according to the local configuration. If MIP6-Agent-Info is present, and PDN-GW-Allocation-Type is not present, this means that the PDN GW address included in MIP6-Agent-Info has been statically allocated.\nIf the MME/SGSN supports interworking with Gn/Gp-SGSNs, it shall ensure that the context identifier sent over GTPv1 for each of the received APN-Configurations is within the range of 1 and 255.\nNOTE 1:\tIf the MME/SGSN receives from HSS a Contex-Identifier value higher than 255, how this value is mapped to a value between 1 and 255 is implementation specific.\nIf the MME is requested to notify the HSS when the UE becomes reachable, the MME shall set the URRP-MME parameter to indicate the need to inform the HSS about UE reachability, e.g. when the next NAS activity from the UE is detected. If the SGSN is requested to notify the HSS when the UE becomes reachable, the SGSN shall set the URRP-SGSN parameter to indicate the need to inform the HSS about UE reachability, e.g. when the next NAS activity from the UE is detected.\nWhen receiving GPRS-Subscription-Data AVP within the Subscription-Data AVP, the SGSN or combined MME/SGSN shall check the Complete-Data-List-Included-Indicator value. If it indicates \"All_PDP_CONTEXTS_INCLUDED\", the SGSN or combined MME/SGSN shall delete all stored PDP-Contexts and then store all received PDP-Contexts. Otherwise, the SGSN or combined MME/SGSN shall check the Context-Identifier value of each received PDP-Context. If the Context-Identifier of a received PDP-Context matches a Context-Identifier of a stored PDP-Context, the SGSN or combined MME/SGSN shall replace the stored PDP-Context with the received PDP-Context. If the Context-Identifier of a received PDP-Context does not match a Context-Identifier of a stored PDP-Context, the SGSN or combined MME/SGSN shall add the received PDP-Context to the stored PDP-Contexts.\nIf the MME or SGSN receives an empty Subscription-Data AVP, it shall take no action with regard to the stored subscription data.\nWhen receiving HPLMN-ODB AVP within the Subscription-Data AVP, the MME or SGSN shall replace stored HPLMN-ODB data (if any) with the received information rather than add the received information to the stored information. Unsupported Barring categories need not be stored.\nWhen receiving Operator-Determined-Barring AVP within the Subscription-Data AVP, the MME or SGSN shall replace stored ODB subscription information (if any) with the received information rather than add the received information to the stored information. Unsupported Barring categories need not be stored.\nWhen receiving Access-Restriction-Data or Adjacent-Access-Restriction-Data AVPs within the Subscription-Data AVP, the MME or SGSN shall replace the corresponding stored information (if any) with the new received information, rather than adding received information to stored information. The handling of access restrictions per-PLMN is defined in 3GPP TS 23.221 [53], clause 6.3.5a and in 3GPP TS 23.401 [2] clause 4.3.28.\nWhen receiving APN-OI-Replacement AVP within the Subscription-Data AVP, the MME or SGSN shall replace the stored information (if any) with the received information.\nWhen receiving Regional-Subscription-Zone-Code AVP within the Subscription-Data AVP, the MME or SGSN shall replace stored Zone Codes (if any) with the received information rather than add the received information to the stored information. MMEs and SGSNs that do not support regional subscription need not store zone codes. If due to regional subscription restrictions or access restrictions the entire SGSN area is restricted, SGSN shall report it to the HSS by returning the \"SGSN Area Restricted\" indication within the IDA flags.\nWhen receiving CSG-Subscription-Data AVPs within the Subscription-Data AVP the MME or SGSN shall replace all stored information from previously received CSG-Subscription-Data AVPs (if any) with the received information rather than add the received information to the stored information.\nWhen receiving Teleservice-List AVP, Call-Barring-Info, or LCS-Info AVP, the MME or SGSN shall replace stored information (if any) with the received information rather than add the received information to the stored information.\nWhen receiving ProSe-Subscription-Data AVP, the MME or combined MME/SGSN shall replace stored information (if any) with the received information rather than add the received information to the stored information.\nWhen receiving and supporting Reset-ID AVPs within the request, the MME or SGSN shall replace stored information (if any) with received information rather than add received information to stored information.\nWhen receiving the IDR-Flags with the \"T-ADS Data Request\" bit set, and the UE is in attached state, the MME or SGSN or combined MME/SGSN shall return in the IDA message the time stamp of the UE's most recent radio contact and the associated RAT Type, and an indication of whether or not IMS Voice over PS is supported in the current (and most recently used) TA or RA. If the UE is in detached state, the MME or SGSN or combined MME/SGSN shall answer successfully to the T-ADS request from HSS, but it shall not include any of the T-ADS IEs in the response (IMS Voice over PS Sessions Supported, RAT Type and Last UE Activity Time).\nWhen receiving the IDR-Flags with the \"EPS User State Request\" bit and/or \"EPS Location Information Request\" bits set the MME or SGSN shall return the corresponding user information to the HSS. If the serving node is a combined MME/SGSN, and the UE is attached via both E-UTRAN and UTRAN/GERAN on the same node, the combined MME/SGSN shall provide the corresponding user information relevant for both MME and SGSN. If the Current Location Request bit was also set and the UE is in idle mode and is expected to be reachable even when it uses a power saving feature (e.g. extended idle mode DRX or PSM as defined in 3GPP TS 23.685 [55]), then the MME or SGSN or combined MME/SGSN shall page the UE in order to return the most up-to-date corresponding user information. If the Current Location Request bit was also set and either paging is unsuccessful or the UE is not expected to be reachable, then the last known location of the UE shall be returned to the HSS. If the Current Location Request bit was also set and the UE (attached via E-UTRAN) is in connected mode, then the MME or combined MME/SGSN shall use S1AP Location Reporting Control procedure towards the eNB prior to reporting the E-UTRAN Cell Global Identification in order to return the UE's most up-to-date cell information. When the location is returned to the HSS, the MME or the combined MME/SGSN shall provide the age of location information if stored in the MME or the combined MME/SGSN or received from eNB.\nWhen receiving the IDR-Flags with only the \"Current Location Request\" bit set (i.e. the \"EPS Location Information Request\" bit is not set), the MME or SGSN or combined MME/SGSN shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY.\nIf the \"Local Time Zone Request\" bit was set the MME or SGSN if supported shall provide the Local Time Zone corresponding to the location (e.g. TAI or RAI) of the UE to the HSS.\nIf the MME or SGSN cannot fulfil the received request, e.g. due to a database error or any of the required actions cannot be performed, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY. If subscription data are received, the MME or SGSN shall mark the subscription record \"Subscriber to be restored in HSS\".\nIf trace data are received in the subscriber data, the MME or SGSN shall start a Trace Session. For details, see 3GPP TS 32.422 [23].\nIf the Ext-PDP-Type AVP is present in the PDP-Context AVP, the SGSN or combined MME/SGSN shall ignore the value of the PDP-Type AVP.\nWhen receiving the IDR-Flags with the bit \"Remove SMS Registration\" set, the MME shall consider itself unregistered for SMS.\nIf the subscription data received for a certain APN includes WLAN-offloadability AVP, then the MME or SGSN shall determine the offloadability of the UE's PDN Connection(s) to that APN based on subscription data and locally configured policy (e.g. for roaming users or when the subscription data does not include any offloadability indication).\nNOTE 2:\tAs indicated in clause 7.3.31, if the UE-level access restriction \"HO-To-Non-3GPP-Access Not Allowed\" is set, the offload of PDN Connections to WLAN is not allowed for any APN.\nWhen receiving the IDR-Flags with the \"P-CSCF Restoration Request\" bit set, the MME or SGSN or combined MME/SGSN shall execute the procedures for HSS-based P-CSCF Restoration, as described in 3GPP TS 23.380 [51] clause 5.4.\nIf the subscription data received for the user includes the DL-Buffering-Suggested-Packet-Count AVP, then the MME or SGSN should take into account the subscription data, in addition to local policies, to determine whether to invoke extended buffering of downlink packets at the SGW for High Latency Communication. Otherwise, the MME or SGSN shall make this determination based on local policies only.\nWhen receiving IMSI-Group-Id AVP(s) within the Subscription-Data AVP, the MME or SGSN shall replace stored IMSI-Group Ids (if any) with the received information rather than add the received information to the stored information.\nIn the present clause, if the feature \"Extended Reference IDs\" (see clause 7.3.10) is supported by the HSS and the MME/SGSN, the term \"SCEF Reference ID\" shall refer to the content of the 64-bit long \"SCEF-Reference-ID-Ext\" AVP, and the term \"SCEF Reference ID for Deletion\" shall refer to the content of the 64-bit long \"SCEF-Reference-ID-for-Deletion-Ext\" AVP.\nWhen receiving a Monitoring-Event-Configuration in the IDR:\n-\tif the SCEF Reference ID for Deletion is present in the IDR, the MME or SGSN shall stop the detection of the Monitoring event related to the SCEF Reference ID for Deletion and SCEF-ID pair, and shall delete the corresponding Monitoring event configuration data;\n-\tif the SCEF Reference ID is present in the IDR but not stored in the MME or SGSN, the MME or SGSN shall store the received Monitoring event configuration data  related  to the SCEF Reference ID and SCEF-ID pair, and shall start the detection for the specified Monitoring event(s).\n-\tif the SCEF Reference ID is present in the IDR and stored in the MME or SGSN, the MME or SGSN shall replace the stored Monitoring event configuration data related to the SCEF Reference ID and SCEF-ID pair with the received information.\nNOTE 3:\tIn roaming scenarios the MME/SGSN can reply immediately to the HSS without waiting for the outcome of the interaction with the IWK-SCEF.\nFor the monitoring event configurations for which the configuration status have changed since the last status informed to the HSS, the MME/SGSN shall notify the HSS about the outcome of the interaction with the IWK-SCEF as specified in clause 5.2.5.1.2.\nIf the HSS indicates the support of Monitoring event feature to the MME/SGSN and the MME/SGSN supports Monitoring, the MME/SGSN shall include the Supported-Services AVP with Supported-Monitoring-Event included in the IDA command.\nWhen receiving the Maximum-Response-Time in Monitoring-Event-Configuration in IDR, the MME shall use the Maximum-Response-Time as the Active Time for the usage of PSM in UE. If not, when the MME receives the Active-Time in subscription data, the MME shall use the Active-Time as the Active Time for the usage of PSM in UE.\nWhen receiving AESE-Communication-Pattern AVP(s) within the Subscription-Data AVP with an SCEF Reference ID for which the MME has already stored data, it shall delete the stored data (CP set(s)) and store the received ones.\nWhen receiving AESE-Communication-Pattern AVP(s) within the Subscription-Data AVP with one or more SCEF Reference ID for deletion the MME shall delete the data related to the indicated SCEF Reference ID.\nIf the MME and the UE support an Attach without PDN connection (i.e. EMM-REGISTERED without PDN connection) and the PDN-Connection-Restricted flag is set in the received Subscription-Data-Flags AVP, the MME shall not establish any non-emergency PDN connection and shall tear down any existing non-emergency PDN connection for this user.\nIf the subscription data received for the user includes the Preferred-Data-Mode AVP, for an IP APN configuration or for a non-IP APN configuration with SGi based delivery, then the MME should (if the subscriber is not roaming) or may (if the subscriber is roaming) take into account the subscription data, in addition to local policies and the UE's Preferred Network Behaviour, to determine whether to transmit the traffic associated with this APN over the User Plane and/or over the Control Plane. Otherwise, the MME shall make this determination based on local policies and the UE's Preferred Network Behaviour only.\nIf the MME subscription data received for the user includes the Emergency-Info AVP, the MME shall use the PDN-GW identity contained in such AVP as the PDN-GW used to establish emergency PDN connections with the emergency APN, for non-roaming authenticated UEs requesting the handover of an emergency PDN connection if the MME is configured to use a dynamic PDN-GW for emergency services for such user.\nWhen receiving V2X-Subscription-Data in the IDR, the MME shall determine whether the UE is authorized to use V2X communication over PC5 according to V2X subscription data and UE provided network capability. If the UE is authorized to use V2X communication over PC5, the MME shall store the \"V2X service authorized\" indication together with the UE AMBR used for PC5 interface (i.e. UE-PC5-AMBR), and provide such information to the eNodeB when needed.\nIf the MME/SGSN receives from the HSS an Insert Subscriber Data request without the bit set for \"NR as Secondary RAT\" in the Feature-List AVP, the MME/SGSN, based on local policy, may restrict access for NR as secondary RAT when all relevant entities except HSS supports it.\nIf the MME receives from the HSS Insert Subscriber Data request containing in the subscription data the Core-Network-Restrictions AVP with the bit \"5GC not allowed\" set, the MME shall restrict mobility towards 5GC.\nWhen receiving Paging-Time-Window AVPs within the Subscription-Data AVP, the MME or SGSN shall replace stored information (if any) with the received information rather than add the received information to the stored information.\n\nThe HSS shall make use of this procedure to replace a specific part of the user data stored in the MME or SGSN with the data sent, or to add a specific part of user data to the data stored in the MME or SGSN. The HSS shall also make use of this procedure to indicate to the MME that it is no longer registered for SMS.\nNOTE:\tWhen a Cancel Location message is required for other reasons, the use of IDR to indicate that the MME is no longer registered for SMS is not needed (see clause 5.2.1.2).\nSubscriber-Status AVP shall be present in the Subscription-Data AVP, sent within IDR, if the current value in the MME or SGSN needs to be changed. To remove all Operator Determined Barring Categories the Subscriber-Status shall be set to \"SERVICE_GRANTED\". If Subscriber-Status AVP is present and set to OPERATOR_DETERMINED_BARRING, the Operator-Determined-Barring AVP or HPLMN-ODB AVP shall also be present in the Subscription-Data AVP.\nAccess-Restriction-Data AVP shall be present within the Subscription-Data AVP send within an IDR if the information stored in the MME or SGSN needs to be modified.\nAPN-OI-Replacement AVP shall be present in the Subscription-Data AVP sent within an IDR, if the UE level APN-OI-Replacement has been added or modified in the HSS.\nThe APN-Configuration-Profile AVP shall be present in the Subscription-Data AVP sent within an IDR if the Context-Identifier associated with the default APN configuration is changed or at least one APN-Configuration is added or modified by the HSS. If the default APN is changed in the HSS, the APN-Configuration-Profile AVP shall contain the Context-Identifier associated with the default APN and the APN-Configuration AVP for the default APN. The default APN Configuration shall not contain the Wildcard APN (see 3GPP TS 23.003 [3], clause 9.2); the default APN shall always contain an explicit APN.\nThe EPS-Subscribed-QoS-Profile AVP and the AMBR AVP shall be present in the APN-Configuration AVP when the APN-Configuration AVP is sent in the APN-Configuration-Profile AVP and when the APN-Configuration-Profile AVP is sent within a IDR (as part of the Subscription-Data AVP).\nIf the GPRS-Subscription-Data-Indicator information has been previously received as set in the ULR-Flags during update location procedure for the SGSN or combined MME/SGSN, the HSS shall make use of this procedure to replace the GPRS Subscription Data stored in the SGSN or combined MME/SGSN with the data sent or to add a PDP-Context to the data stored in the SGSN or combined MME/SGSN.\nProSe-Subscription-Data AVP shall be present in the Subscription-Data AVP sent within an IDR, if the ProSe Subscription data has been added or modified in the HSS.\nIf the HSS receives a message (e.g. via MAP ATM or Sh Sh-Subs-Notif) from a Service Related Entity (e.g. IP-SM-GW) indicating that the UE is unreachable,\n-\tthe HSS shall associate the subscription to UE reachability of the service-related entity to the URRP-MME and the URRP-SGSN parameters (if not already done)\n-\tand if the URRP-MME and/or the URRP-SGSN parameters were not already set (i.e. at least one service-related entity already listed as subscribed), the HSS shall\n-\tset the URRP-MME and/or URRP-SGSN parameters and\n-\tsend an IDR command to the registered MME and/or to the registered SGSN including the \"UE Reachability Request flag\" in the IDR Request Flags in order to request the MME and/or SGSN to notify the HSS when the UE becomes reachable again, unless the HSS knows from the previous ULR command that the registered MME and/or the registerd SGSN do not support UE reachability notifications.\nIf the IDR is sent for the only purpose to request the MME and/or SGSN about the UE reachability status notification, the Subscription-Data AVP shall be included empty.\nIf the HSS has received a message from a service related entity requesting EPS User State and/or EPS Location Information without the Serving Node Indication IE, the HSS shall set the \"EPS User State Request\" bit and/or \"EPS Location Information Request\" bit respectively in the IDR-Flags. The HSS may optionally also set the \"Current Location Request\" bit along with the \"EPS Location Information Request\" bit in the IDR-Flags, if the most up-to-date set of information is needed, unless the HSS knows from the previous ULR command that the registered MME and/or the registered SGSN do not support State/Location Information retrieval. If the IDR is sent only for the purpose of requesting the MME or the SGSN User State or Location Information, the Subscription-Data AVP included shall be empty.\nIf the HSS cannot request EPS Location Information from the MME/SGSN e.g. because the UE is purged from the MME/SGSN, the HSS may make use of stored EPS Location information received in a previous IDA or PUR message.\nIf the HSS has received a message from an AS requesting the current access network's support status of \"IMS Voice over PS Sessions\", and there is no indication about homogeneous support of IMS Voice over PS Sessions in all the serving nodes currently registered in HSS for the UE, the HSS shall set the \"T-ADS Data Request flag\" in the IDR Request Flags, unless the HSS knows from the previous ULR command that the registered MME and/or the registered SGSN do not support T-ADS data retrieval. If the IDR is sent for the only purpose to retrieve the \"IMS Voice over PS Sessions Supported\" indication from the MME or SGSN, the Subscription-Data AVP included shall be empty.\nIf the HSS has received a message from an AS requesting the Local Time Zone, the HSS shall set the \" Local Time Zone Request\" bit in the IDR-Flags, unless the HSS knows from the previous ULR command that the registered MME and/or the registered SGSN do not support Local Time Zone retrieval. If the IDR is sent only for the purpose of requesting the Local Time Zone, the Subscription-Data AVP included shall be empty.\nIf the HSS received an indication in a former ULR command from the MME or SGSN about homogeneous support of IMS Voice over PS Sessions in all TA/RAs associated to that serving node, it may use this information to skip the retrieval of T-ADS data. This can only be done if all the registered serving nodes in HSS for the UE indicated in ULR the same type of homogeneous support (i.e. both serving nodes indicated \"SUPPORTED\", or both serving nodes indicated \"NOT_SUPPORTED\"); otherwise, the retrieval of T-ADS data shall be done, to receive the time of the last radio contact with the UE.\nAll APN and PGW-ID pairs stored in the HSS not associated with an explicit APN subscription, (i.e. the access to that APN has been authorized as a consequence of having the Wildcard APN in the user subscription), shall be included by the HSS inside the APN context of the Wildcard APN, as multiple instances of the Specific-APN-Info AVP.\nWhen receiving an Insert Subscriber Data answer with \"SGSN Area Restricted\" the HSS shall set the SGSN area restricted flag as \"SGSN area restricted\".\nSubscribed-VSRVCC AVP may be present within the Subscription-Data AVP sent within an ISR only if the user is subscribed to the SRVCC and vSRVCC.\nIf the HSS determines that the MME shall be unregistered for SMS it shall set the \"Remove SMS Registration\" bit in the IDR-Flags. If the IDR is sent for the only purpose to indicate that the MME is no longer registered for SMS, the Subscription-Data AVP shall be included empty.\nIf the HSS needs to request to the MME/SGSN the execution of the HSS-based P-CSCF restoration procedure, as described in 3GPP TS 23.380 [51] clause 5.4, the HSS shall set the \"P-CSCF Restoration Request\" bit in the IDR-Flags, if supported by the MME/SGSN. If the IDR is sent only for the purpose of requesting the execution of the HSS-based P-CSCF restoration procedures, the Subscription-Data AVP included shall be empty.\nIf the HSS receives a SCEF request to configure Monitoring events for the UE to be handled by the MME/SGSN or receives a SCEF request for deleting Monitoring events for the UE in the MME/SGSN, the HSS shall include Monitoring-Event-Configuration AVP(s) in the Subscription-Data AVP sent within the IDR. If the HSS has registered both an MME and an SGSN as serving nodes for a given user, and both nodes are not part of a same combined MME/SGSN node, the HSS shall send the Monitoring-Event-Configuration AVP(s) to each one of the serving nodes that supports the Monitoring event service. If the HSS receives the IDA with Monitoring-Event-Report AVP(s), the HSS shall forward the Monitoring-Event-Report AVP(s) to the SCEF associated to those Monitoring events.\nIf the HSS does not receive a SCEF request to configure Monitoring events for the UE to be handled by the MME/SGSN and does not receive an Active Time with the Suggested-Network-Configuration AVP , the HSS may send an O&M configured desired Active Time value within the Active-Time AVP.\nIf the HSS receives a Supported-Services AVP it shall only trigger those services which are supported by the MME/SGSN.\nIf the HSS has previously received over SWx (see 3GPP TS 29.273 [59]) the identity of the PDN-GW to be used for the establishment of emergency PDN connections, it shall send it to the registered MME (if any) in the IDR command as part of the Subscription-Data AVP (in the Emergeny-Info AVP).\nIf V2X subscription data has been added or modified in the HSS, the HSS shall include the V2X-Subscription-Data AVP in the Subscription-Data AVP sent within an IDR.\nIf the External-Identifier associated with Monitoring Event Configuration for the UE has been added or modified in the HSS and the MME/SGSN supports the \"External-Identifier\" feature, the HSS shall include the External-Identifier AVP in the Subscription-Data AVP. When multiple External Identifiers are defined for a same subscription, the HSS shall send a default External Identifier in the External-Identifier AVP of the Subscription-Data AVP, and shall include a specific External Identifier (if different from the default External Identifier) associated to each Monitoring Event Configuration in the External-Identifier AVP of each Monitoring-Event-Configuration AVP occurrence inside the Subscription-Data AVP.\nThe Aerial-UE-Subscription-Information AVP may be present within the Subscription-Data AVP sent within an IDR only if the user has Aerial UE subscription information.\nIf Core Network Restrictions in subscription data (5GC allowed/not allowed) has been added or modified in the HSS, the HSS shall include the Core-Network-Restrictions AVP in the Subscription-Data AVP sent within an IDR.\nThis procedure shall be used between the MME and the HSS and between the SGSN and the HSS, to remove some data of the HSS user profile stored in the MME or SGSN. The procedure shall be invoked by the HSS and it corresponds to the functional level operation Delete Subscriber Data (see 3GPP TS 23.401 [2]).\nIt shall be used to remove:\n-\ta subset (wich may or may not be the complete set of APN configurations) of the APN Configuration Profile for the subscriber from the SGSN or combined MME/SGSN;\n-\ta proper subset (i.e. a subset that is not equal to the complete set of APN configurations and does not contain the default APN configuration) of the APN Configuration Profile for the subscriber from the MME;\n-\tthe regional subscription;\n-\tthe subscribed charging characteristics;\n-\tSession Transfer Number for SRVCC;\n-\ttrace data;\n-\tProSe subscription data;\n-\tReset-IDs;\n-\tMSISDN;\n-\tUE Usage Type;\n-\tV2X subscription data.\n-\tExternal Identifier(s).\nIf the HSS knows that the UE has attached to the MME and SGSN parts of the same combined MME/SGSN via both E-UTRAN and UTRAN/GERAN(refer to clause 5.2.1.1.2, 5.2.1.1.3 for further details), the HSS should invoke this procedure for a single time to remove some or all data of the HSS user profile stored in the combined MME/SGSN, i.e. not invoke this procedure for each of the MME and the SGSN registered respectively.\nIf the Node-Type-Indicator information has been previously received as cleared in the ULR-Flags and if the MME has not been registered for SMS during update location procedure for the MME, the HSS may skip any removal of the SMS related subscription data and consequently does not have to make use of the Delete Subscriber Data procedure to update the SMS subscription data in the MME.\nThis procedure is mapped to the commands Delete-Subscriber-Data-Request/Answer (DSR/DSA) in the Diameter application specified in clause 7.\nTable 5.2.2.2.1/1 specifies the involved information elements for the request.\nTable 5.2.2.2.1/2 specifies the involved information elements for the answer.\nTable 5.2.2.2.1/1: Delete Subscriber Data Request\n\nTable 5.2.2.2.1/2: Delete Subscriber Data Answer\n\nWhen receiving a Delete Subscriber Data request, the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, but the Context-Identifier is associated with the default APN configuration, the MME shall not delete the PDN subscription context, and return an error with a Result-Code set to DIAMETER_UNABLE_TO_COMPLY. Otherwise, the MME or SGSN shall delete the corresponding data according to the indication as sent in the request, and acknowledge the Delete Subscriber Data message by returning a Delete Subscriber Data Answer.\nIf an MME receives a Delete Subscriber Data Request with the \"Complete APN Configuration Profile Withdrawal\" bit set in the DSR-Flags AVP, it shall return an error with a Result-Code set to DIAMETER_UNABLE_TO_COMPLY.\nIf the deletion of the subscription data succeeds in the MME or SGSN, the Result-Code shall be set to DIAMETER_SUCCESS.\nIf the Regional Subscription is deleted from the subscription data, the SGSN shall check for its routing areas whether they are allowed or not. If the entire SGSN area is restricted, SGSN shall report it to the HSS by returning the \"SGSN Area Restricted\" indication within the DSA flags.\nIf the EPS Subscription Data is deleted from the subscription data, the MME or SGSN shall check whether all EPS Subscription Data for the subscriber is deleted or if only a subset of the stored EPS Subscription Data for the subscriber is deleted, the MME or SGSN may then deactivate the associated affected active EPS bearers.\nIf the Subscribed Charging Characteristics are deleted from the subscription data, the Gn/Gp-SGSN shall maintain the existing Subscribed Charging Characteristics throughout the lifetime of the existing MM and PDP contexts, see 3GPP TS 32.251 [33].\nIf the Subscribed Charging Characteristics are deleted from the subscription data, the MME or S4-SGSN shall maintain the existing Subscribed Charging Characteristics throughout the lifetime of the existing IP CAN bearer, see 3GPP TS 32.251 [33].\nIf the MSISDN is deleted from the subscription data, the MME or SGSN shall maintain the existing MSISDN throughout the lifetime of the existing PDN connections that were established prior to the deletion of the MSISDN (i.e., other network nodes, such as PDN-GW, are not informed of such deletion for the existing PDN connections). The MME/SGSN shall also delete those monitoring events related to the deleted MSISDN.\nIf the MME or SGSN cannot fulfil the received request for other reasons, e.g. due to a database error, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY. In this case, the MME or SGSN shall mark the subscription record \"Subscriber to be restored in HSS\".\nIf trace data are deleted from the subscription data, the MME or SGSN shall deactivate the Trace Session identified by the trace reference. For details, see 3GPP TS 32.422 [23].\nIf External Identifiers are requested to be deleted from the subscription data, the MME/SGSN shall check whether any of the identifiers to be deleted match the default External-Identifier provided by HSS in the Subscrition-Data AVP (unless all External Identifiers are requested to be deleted from the subscription); in such case, the MME/SGSN shall reject the request and return an error with a Result-Code set to DIAMETER_UNABLE_TO_COMPLY (if default External Identifier is wanted to be deleted, no External Identifier must be provided in the request). The MME/SGSN shall also delete those monitoring events related to the deleted External Identifiers, or all monitoring events associated to any External Identifier if default External Identifier is deleted.\nThe HSS shall make use of this procedure to remove deleted subscription data from the MME or SGSN.\nThe HSS shall make use of this procedure to remove deleted GPRS Subscription Data from the SGSN or combined MME/SGSN if the GPRS-Subscription-Data-Indicator information has been previously received as set in the ULR-Flags during update location procedure for the MME.\nThe HSS shall not set the \"Complete APN Configuration Profile Withdrawal\" bit in the DSR-Flags AVP when sending a Delete Subscriber Data Request to an MME, since the default APN shall always be present in an MME.\nWhen receiving a Delete Subscriber Data Answer with \"SGSN Area Restricted\" the HSS shall set the SGSN area restricted flag as \"SGSN area restricted\".\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.2.1.1/1: Insert Subscriber Data Request",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.2.1.1/2: Insert Subscriber Data Answer",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.2.2.1/1: Delete Subscriber Data Request",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.2.2.1/2: Delete Subscriber Data Answer",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.3\tAuthentication Procedures",
                            "text_content": "The Authentication Information Retrieval Procedure shall be used by the MME and by the SGSN to request Authentication Information from the HSS.\nThis procedure is mapped to the commands Authentication-Information-Request/Answer (AIR/AIA) in the Diameter application specified in clause 7.\nTable 5.2.3.1.1/1 specifies the involved information elements for the request.\nTable 5.2.3.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.3.1.1/1: Authentication Information Request\n\nTable 5.2.3.1.1/2: Authentication Information Answer\n\nThe MME or SGSN shall make use of this procedure in order to retrieve the Authentication Vectors from the HSS.\nIf the MME or SGSN supports Emergency services for users in limited service state, and the user's IMSI is not available from the UE, or the user's IMSI is marked as unauthenticated, the MME or SGSN shall not make use of the Authentication Information Retrieval procedure.\nIf the request is triggered by a synchronization failure during E-UTRAN authentication, the MME or combined MME/SGSN shall include the Re-Synchronization Information in the Requested-EUTRAN-Authentication-Info AVP in the request.\nIf the request is triggered by a synchronization failure during UTRAN or GERAN authentication, the SGSN or combined MME/SGSN shall include the Re-Synchronization Information in the Requested-UTRAN-GERAN-Authentication-Info AVP in the request.\nRe-Synchronization Information shall not be present in both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP.\nA stand alone MME shall include the Requested-EUTRAN-Authentication-Info AVP and shall not include the Requested-UTRAN-GERAN-Authentication-Info AVP in the request. The Immediate-Response-Preferred AVP should be present if a EUTRAN-Vector is needed for immediate use.\nA stand alone SGSN shall not include the Requested-EUTRAN-Authentication-Info AVP and shall include the Requested-UTRAN-GERAN-Authentication-Info AVP in the request. The Immediate-Response-Preferred AVP should be present if a UTRAN/GERAN-Vector is needed for immediate use.\nA combined MME/SGSN may include both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP in the request. If both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP are present in the request, the Immediate-Response-Preferred AVP shall be present if the requested authentication vectors are needed for immediate use.  The content of the Immediate-Response-Preferred AVP shall correspond to the access type which the UE is currently to be authenticated. The Immediate-Response-Preferred AVP shall not be present in both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP. The presence of an Immediate-Response-Preferred AVP shall indicate that a vector is needed for immediate use.\nWhen EUTRAN-AVs and UTRAN-AVs or GERAN-AVs are requested, presence of Immediate-Response-Preferred AVP within the Requested-EUTRAN-Authentication-Info AVP shall indicate that EUTRAN-AVs are requested for immediate use in the MME/SGSN; presence of Immediate-Response-Preferred AVP within the Requested-UTRAN-GERAN-Authentication-Info AVP shall indicate that UTRAN-AVs or GERAN-AVs are requested for immediate use in the MME/SGSN. It may be used by the HSS to determine the number of vectors to be obtained from the AuC and the number of vectors downloaded to the MME or SGSN.\nIf the MME or SGSN supports the Dedicated Core Networks functionality, and the MME or SGSN needs to retrieve the UE Usage Type from the HSS, it shall set the \"Send UE Usage Type\" flag in the AIR-Flags AVP in the AIR command.\nWhen receiving an Authentication Information response from the HSS, the MME or SGSN shall check the Result Code. If it indicates success and Authentication Information is present in the result, the MME or SGSN shall use the received vectors. For details see 3GPP TS 33.401 [5].\nIf the MME or SGSN supports Emergency services for users in limited service state, the MME or SGSN shall proceed even if the Authentication Information Retrieval procedure has failed. In this case, the MME or SGSN shall mark the user's IMSI as unauthenticated.\nVectors with lower Item Number should be used before Vectors with higher Item Number are used in the MME or SGSN. For Vectors received within different requests those received by the earlier request should be used before those received by the later request.\nWhen receiving an Authentication Information request the HSS shall check whether subscription data exists for the IMSI.\nIf the HSS determines that there is not any type of subscription for the IMSI (including EPS, GPRS and CS subscription data), a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the Authentication Information Request contains a Requested-EUTRAN-Authentication-Info AVP but no Requested-UTRAN-GERAN-Authentication-Info AVP, and the subscriber has not any APN configuration, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nIf the Authentication Information Request contains a Requested-UTRAN-GERAN-Authentication-Info AVP but no Requested-EUTRAN-Authentication-Info AVP, and the subscriber has neither an APN configuration profile nor GPRS subscription data, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nIf the Authentication Information Request contains both Requested-EUTRAN-Authentication-Info AVP and Requested-UTRAN-GERAN-Authentication-Info AVP, and the Requested-EUTRAN-Authentication-Info AVP does not contain an Immediate-Response-Preferred AVP, and the subscriber has not any APN configuration, the HSS shall not return E-UTRAN vectors.\nIf the Authentication Information Request contains both Requested-EUTRAN-Authentication-Info AVP and Requested-UTRAN-GERAN-Authentication-Info AVP, and the Requested-EUTRAN-Authentication-Info AVP contains an Immediate-Response-Preferred AVP, and the subscriber does not have any APN configuration, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nWhen sending DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION, an Error Diagnostic information may be added to indicate whether or not GPRS subscription data are subscribed (i.e. whether or not Network Access Mode stored in the HSS indicates that only circuit service is allowed).\nIf EUTRAN-Authentication-Info is requested, the HSS shall check if serving nodes within the realm identified by the received Origin-Realm AVP are allowed to request authentication information for use in the serving network identified by the received Visited-PLMN-Id AVP.\nThe HSS shall then request the AuC to generate the corresponding requested Authentication Vectors (AVs). Subject to load considerations and/or other implementation specific considerations which may be based on the presence of an Immediate-Response-Preferred AVP, less AVs than the requested number of AVs may be generated.\nIf EUTRAN-Authentication-Info is requested, when receiving AVs from the AuC, the HSS shall generate the KASME before sending the response to the MME or combined MME-SGSN.\nIf the AuC is unable to calculate any corresponding AVs due to unallowed attachment for the UE, e.g. the UE is attaching via E-UTRAN with a SIM card equipped, the HSS shall return an error DIAMETER_AUTHORIZATION_REJECTED, the HSS shall not return any AV to the requesting node in the response. Otherwise, if no corresponding pre-computed AV is available, and the AuC is unable to calculate any corresponding AVs due to unknown failures, such as the internal database error, the result code shall be set to DIAMETER_AUTHENTICATION_DATA_UNAVAILABLE. The MME or the SGSN may request authentication vectors again.\nFor details see 3GPP TS 33.401 [5]. KASME generation is not performed before sending the response to the SGSN.\nIf the Requested-EUTRAN-Authentication-Info AVP is present in the request, the HSS shall download E-UTRAN authentication vectors to the MME. If the Requested-UTRAN-GERAN-Authentication-Info AVP is present in the request, the HSS shall download UTRAN or GERAN authentication vectors to the SGSN.\nIf the Immediate Response Preferred parameter has been received, the HSS may use it together with the number of requested vectors and the number of vectors stored in the HSS that are pre-computed to determine the number of vectors to be obtained from the AuC. The HSS may return less number of vectors than requested to the MME or SGSN. If both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP are in the request, and one of them includes the Immediate Response Preferred parameter, the HSS may omit the vectors request that are not for immediate use. If both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP are in the request, and both of them includes the Immediate Response Preferred parameter, the HSS may return E-UTRAN authentication vectors and UTRAN or GERAN authentication vectors. KASME is always computed for each E-UTRAN vector due to the PLMN-binding before sending the response to the MME independent of the presence of the Immediate Response Preferred parameter.\nIf the Re-Synchronization-Info AVP has been received, the HSS shall check the AUTS parameter before sending new authentication vectors to the MME or the SGSN. For details see 3GPP TS 33.102 [18]. If both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP are in the request, and both of them include the Re-Synchronization-Info AVP, the HSS shall not check the AUTS parameter and return the result code of DIAMETER_UNABLE_TO_COMPLY. Any authentication vectors shall not be sent by the HSS to the requesting node in the response.\nIf more than one EPS or UTRAN or GERAN Vector is to be included within one Authentication-Info AVP, the Item-Number AVP shall be present within each Vector.\nIf the HSS supports the Dedicated Core Networks functionality, and the MME or SGSN has set the \"Send UE Usage Type\" flag in the AIR-Flags AVP in the AIR command:\n-\tif the UE Usage Type value is available in the subscription data of the user:\n-\tif the Immediate Response Preferred parameter is not present in the Requested-EUTRAN-Authentication-Info nor in the Requested-UTRAN-GERAN-Authentication-Info, the HSS may return no authentication vectors in the response; the HSS shall then return the result code DIAMETER_SUCCESS and may return the generated AVs (if any) to the MME or SGSN;\n-\tthe HSS shall include the UE-Usage-Type AVP in the AIA response command if the result code is DIAMETER_SUCCESS or DIAMETER_AUTHENTICATION_DATA_UNAVAILABLE.\n-\tif the UE Usage Type value is not available in the subscription data of the user, the HSS shall answer as if the MME/SGSN had not requested the UE Usage Type parameter.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.3.1.1/1: Authentication Information Request",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.3.1.1/2: Authentication Information Answer",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.4\tFault Recovery Procedures",
                            "text_content": "The Reset Procedure shall be used by the HSS, after a restart, to indicate to the MME and to the SGSN that a failure has occurred.\nThe Reset Procedure may also be used by the HSS as part of operation and maintenance actions e.g. to allow planned HSS outage without service interruption, or to update subscription data shared by multiple subscribers.\nThis procedure is mapped to the commands Reset-Request/Answer (RSR/RSA) in the Diameter application specified in clause 7.\nTable 5.2.4.1.1/1 specifies the involved information elements for the request.\nTable 5.2.4.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.4.1.1/1: Reset Request\n\nTable 5.2.4.1.1/2: Reset Answer\n\nWhen receiving a Reset message neither containing Subscription-Data nor Subscription-Data-Deletion the MME or SGSN or combined MME/SGSN shall mark all impacted subscriber records \"Location Information Confirmed in HSS \" as \"Not Confirmed\".\nWhen receiving a Reset message containing Subscription-Data or Subscription-Data-Deletion the MME or SGSN or combined MME/SGSN shall update all impacted subscriber records accordingly, i.e. each impacted subscriber record is updated as if an individual IDR or DSR for that subscriber was received; for details see clauses 5.2.2.1.2 and 5.2.2.2.2. The MME or SGSN or combined MME/SGSN shall not mark successfully updated subscriber records \"Location Information Confirmed in HSS \" as \"Not Confirmed\". If an impacted subscriber record cannot be updated for any reason (e.g. the updated data is considered not shareable by the MME or SGSN or combined MME/SGSN, or the update requires an individual acknowledgement to be sent to the HSS), the MME or SGSN or combined MME/SGSN shall mark that record \"Location Information Confirmed in HSS \" as \"Not Confirmed\".\nNOTE:\tWhich subscription data are considered by the MME or SGSN or combined MME/SGSN not shareable by multiple subscribers is implementation specific.\nIf the update of shared subscription data requires only local updates in the MME or SGSN or combined MME/SGSN (i.e., the update of the profile does not imply to initiate any signalling interaction towards other network nodes), the updates should be performed immediately (e.g. deleting an Operator Determined Barring).\nIf the update of shared subscription data implies initiating a signalling interaction towards other nodes (e.g. towards the PGW/PCRF for the change of an APN configuration parameter, such as APN-AMBR), depending on the UE's state the following shall apply:\n-\tIf the UE is in CONNECTED state, the updates shall be performed immediately including signalling towards other nodes.\n-\tIf the UE is in IDLE state, the signalling towards other nodes should be deferred to the next authenticated radio contact with that UE.\nNOTE:\tThe rational for the recommendation to defer signalling towards other nodes until the next authenticated radio contact is to consider impacts to the network only when the updates are required, and to spread the signalling towards other nodes over some time, based on user's activity.\nIn both cases, to avoid high processing/signalling load resulting from shared subscription data update, processing/signalling actions resulting from data updates in the MME or SGSN or combined MME/SGSN may take a maximum operator configuration-depending time.\nIf the Reset-IDs IE is supported and received, the MME or SGSN or combined MME/SGSN shall make use of the Reset-IDs (together with the HSS's realm) in order to determine which subscriber records are impacted (i.e. check whether at least one received Reset-ID is associated with the subscriber); otherwise the MME or SGSN or combined MME/SGSN shall make use of the HSS Identity received in the Origin-Host AVP (by comparing it with the value stored after successful ULA) and may make use of the received User-Id-List (if any) in order to determine which subscriber records are impacted.\nAt the next authenticated radio contact with the UE concerned, if the subscriber record \"Location Information Confirmed in HSS\" is marked as \"Not Confirmed\", the restoration procedure shall be triggered.\nSee also 3GPP TS 29.118 [46] clause 5.9.2.\nThe HSS shall make use of this procedure in order to indicate to all relevant MMEs, SGSN, and combined MME/SGSNs that the HSS has restarted and may have lost the current MME-Identity and SGSN-Identity of some of its subscribers who may be currently roaming in the MME area and/or SGSN area, and that the HSS, therefore, cannot send a Cancel Location messages or Insert Subscriber Data messages when needed.\nThe HSS may make use of this procedure in order to indicate to all relevant MMEs, SGSN, and combined MME/SGSNs that the HSS has updated subscription data shared by some of its subscribers who may be currently roaming in the MME area and/or SGSN area.\nIf the Reset-ID feature is not supported by the MME/SGSN and HSS, the HSS optionally may include a list of Ids identifying a subset of subscribers served by the HSS, if the occurred failure is limited to those subscribers.\nIf the Reset-ID feature is supported by the MME or SGSN, the HSS optionally may include one (or several) Reset-ID AVPs identifying e.g. failed hardware components if the occured failure is limited to those subscribers associated with e.g. the identified failed hardware components.\nThe HSS should invoke this procedure towards a combined MME/SGSN only for a single time even if some of the impacted subscribers are attached to the combined MME/SGSN via UTRAN/GERAN and some of the impacted subscribers are attached to the combined MME/SGSN via E-UTRAN.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.4.1.1/1: Reset Request",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.4.1.1/2: Reset Answer",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.5\tNotification Procedures",
                            "text_content": "The Notification Procedure shall be used between the MME and the HSS and between the SGSN and the HSS when an inter MME or SGSN location update does not occur but the HSS needs to be notified about\n-\tan update of terminal information;\n-\tan update of the UE SRVCC capability (only if the MME/SGSN supports SRVCC).\nThe Notification Procedure shall also be used between the MME and the HSS and between the SGSN and the HSS if the HSS needs to be notified about:\n-\tan assignment/change of a dynamically allocated PDN GW for an APN, if such a notification is needed taking into account the access restrictions and the type of PDN;\nNOTE:\tIf the PDN is of type \"non-IP\", the APN is not accessible via non-3GPP access and therefore the PDN-GW ID does not need to be conveyed across accesses.\n-\tan assignment/change of a dynamically allocated PDN GW for the establishment of emergency PDN connections, if such notification is needed for a non roaming authenticated user, based on operator policy (e.g. on whether the operator uses static PDN GW or not for emergency services) taking into account the access restrictions and feature support;\n-\tthe failed monitoring event configurations at the MME or SGSN (if received in ULA) or the status of the monitoring event configurations at the IWK-SCEF;\n-\tthe deletion of a monitoring event configuration in SCEF for a UE (i.e. due to an SCEF restart, see 3GPP TS 23.007 [43]).\nThe Notification Procedure shall be used between the MME and the HSS when an inter MME location update does not occur but the HSS needs to be notified about\n-\tthe need to send a Cancel Location to the current SGSN.\nThe Notification Procedure shall be used between the MME and the HSS when the \"SMS in MME\" feature is applied and between the SGSN and the HSS when an earlier short message delivery failed and the HSS needs to be notified about:\n-\tthe UE is reachable or the UE has memory capacity available to receive one or more short messages.\nThe Notification Procedure shall be used between the MME and the HSS and between the SGSN and the HSS when the HSS has requested to be notified about:\n-\tthe UE is reachable.\nThe Notification Procedure shall be used between the MME and the HSS and between the SGSN and the HSS to notify the HSS about:\n-\tan update of the Homogeneous Support of IMS Voice Over PS Sessions.\nThe Notification Procedure shall be used between the MME and the HSS to notify the HSS about:\n-\tremoval of MME registration for SMS.\nThis procedure is mapped to the commands Notify-Request/Answer (NOR/NOA) in the Diameter application specified in clause 7.\nTable 5.2.5.1.1/1 specifies the involved information elements for the request.\nTable 5.2.5.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.5.1.1/1: Notify Request\n\nTable 5.2.5.1.1/2: Notify Answer\n\nIf the MME or SGSN supports Emergency services, the MME or SGSN shall not make use of the Notification procedure for emergency attached unauthenticated UEs; for authenticated UEs, the MME shall make use of the Notification procedure to inform the HSS about the PDN-GW selected to establish emergency PDN connections, if the MME is configured to use a dynamic PGW for emergency services for such UEs.\nThe MME or SGSN shall not make use of the Notification procedure to inform the HSS about the identity of the dynamically selected PDN-GW, if the access restrictions indicate that the user is not allowed to get service via non-3GPP access, or the PDN type of the APN is of type \"non-IP\".\nThe MME or SGSN shall include conditional AVPs in NOR according to the description given in table 5.2.5.1.1/1.\nIf the MME sends a Notify Request to inform the HSS that the UE has become reachable again, the MME shall clear the corresponding URRP-MME for the UE.\nIf the SGSN sends a Notify Request to inform the HSS that the UE has become reachable again, the SGSN shall clear the corresponding URRP-SGSN for the UE.\nIf the MME sends a Notify Request to inform the HSS about the presence of the UE to receive one or more short messages, the MME shall clear the corresponding MNRF for the UE.\nIf the SGSN sends a Notify Request to inform the HSS about the presence of the UE to receive one or more short messages, the SGSN shall clear the corresponding MNRG for the UE.\nIf the MME or SGSN determines that it needs to update the Homogeneous Support of IMS Voice Over PS Sessions in the HSS, the MME or SGSN shall send a Notify Request with the \"Homogeneous Support of IMS Voice Over PS Sessions\" bit set in the NOR-Flags AVP; if there is homogeneous support, or homogeneous non-support, of IMS Voice Over PS Sessions, the MME or SGSN shall report it by including the updated Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions AVP; if the support is not homogeneous, the MME or SGSN shall report it by leaving such AVP absent in the Notify Request to the HSS. MME or SGSN shall ensure the status of Homogeneous Support of IMS Voice Sessions in HSS does not contradict with the value of \"IMS voice over PS session indicator\" provided to UE over NAS as specified in 3GPP TS 24.008 [31] and 3GPP TS 24.301 [64];\nif \"IMS voice over PS session indicator\" sent to UE has changed from \"not supported\" to \"supported\" when status Homogenous Support of IMS Voice in HSS is \"not supported\", MME or SGSN shall immediately send Notify Request indicating as either homogenous support or not homogeneous;\nif \"IMS voice over PS session indicator\" sent to UE has changed from \"supported\" to \"not supported\" when status Homogenous Support of IMS Voice in HSS is \"supported\", MME or SGSN shall immediately send Notify Request indicating as either homogenous non-support or not homogeneous.\nIf the MME needs to indicate to the HSS that it is no longer registered for SMS in the HSS, the MME shall send a Notify Request with \"Removal of MME Registration for SMS\" flag set in the NOR-Flags AVP.\nWhen receiving a Notify response from the HSS, if the result code indicates DIAMETER_ERROR_UNKNOWN_SERVING_NODE, the MME or SGSN shall consider the Notification procedure as failed, and it shall mark the subscriber record as \"Subscriber to be restored in HSS\".\nWhen receiving a Notify response from the HSS, if the result code indicates DIAMETER_ERROR_USER_UNKNOWN, the MME or SGSN shall detach the subscriber and remove the subscriber from its database.\nIf the MME/SGSN has received the monitoring event configurations in an ULA command and one, several or all event detections fail to be started (e.g due to maximum resources exceeded), the MME/SGSN shall send the Notify Request command with the Monitoring-Event-Config-Status AVP for the failed monitoring event configurations.\nIf the MME or SGSN receives a failure response, e.g. DIAMETER_UNABLE_TO_COMPLY, corresponding to a Notify Request to notify the HSS about the selected PDN-GW, the MME or SGSN shall not trigger a detach for the subscriber based only on this failure.\nNOTE 1:\tA failure to indicate the selected PDN-GW to the HSS does not impact connectivity provided via 3GPP access.\nWhen the MME/SGSN has received the Configuration-Information-Answer from the IWK-SCEF during the monitoring event configuration procedure, the MME/SGSN shall send the Notify Request command with the Monitoring-Event-Config-Status AVP as received from the IWK-SCEF in the Configuration-Information-Answer, for the monitoring event configurations whose status have changed (due to authorization performed by the IWK-SCEF) since last informed to the HSS.\nNOTE 2:\tIf the Monitoring-Event-Configuration was received at the MME/SGSN in the ULA command, then the HSS is not yet informed of any status of the monitoring event configuration. In this case, the entire Monitoring-Event-Config-Status as received from IWK-SCEF has to be transferred to the HSS through a Notify Request Command.\nIf the MME or SGSN determines that a Monitoring Event Configuration for a UE is to be deleted in the HSS (i.e. SCEF responds to a Monitoring Event Report with DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN), the MME or SGSN shall send a Notify Request with the Monitoring-Event-Config-Status AVP. The Monitoring-Event-Config-Status AVP shall include the error as received from SCEF.\nWhen receiving a Notify request the HSS shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the IMSI is known, and the source MME or SGSN originating the Notify message is not currently registered in HSS for that UE, a result code of DIAMETER_ ERROR_ UNKNOWN_SERVING_NODE shall be returned.\nIf the IMSI is known, and the source MME or SGSN is currently registered in HSS, the HSS shall set the result code to DIAMETER_SUCCESS, unless otherwise stated, and\n-\tstore the new terminal information if present in the request;\n-\tstore the new UE SRVCC capability if present in the request;\n-\tstore the new PDN GW and PLMN ID for an APN if present in the request and the APN is present in the subscription and if PDN GW is dynamically allocated; otherwise the HSS shall not store the new PDN GW data and shall set the result code to DIAMETER_ UNABLE_TO_COMPLY;\n-\tstore the new PDN GW and PLMN ID, and the APN itself, if both are present in the request, and the APN is not present in the subscription but a wild card APN is present in the subscription;\n-\tif the Emergency Services IE is present, with the Emergency-Indication flag set, store the new PDN GW, as the PDN GW used to establish emergency PDN connections; the HSS shall store this information not bound to any specific APN;\n-\tmark the location area as \"restricted\" if so indicated in the request;\n-\tsend Cancel Location to the current SGSN if so indicated in the request;\n-\tif the UE has become reachable again, and NOR is received on S6a from an MME or on S6d from an SGSN, the HSS shall respectively clear the URRP-MME or the URPP-SGSN parameter for the UE and send an indication t of UE reachability from MME or SGSN o the Service Related Entities if there is any;\n-\twhen NOR is received on S6d from an SGSN (with the Alert Reason present), the HSS shall reset the MNRG flag and send a MAP-Alert-Service-Centre message or S6c-Alert-Service-Centre-Request (see 3GPP TS 29.338 [48], i.e. the behaviour in the HSS should be the same as when a MAP-Ready for SM is received from an SGSN;\n-\twhen NOR is received on S6a from an MME (with the Alert Reason present), the HSS shall reset the MNRF flag and send a MAP-Alert-Service-Centre message or S6c-Alert-Service-Centre-Request (see 3GPP TS 29.338 [48], i.e. the behaviour in the HSS should be the same as when a MAP-Ready for SM is received from a VLR/MSC;\n-\twhen NOR is received on S6a from an MME or on S6d from an SGSN to update the Homogeneous Support of IMS Voice Over PS Sessions, the HSS shall store the updated Homogeneous Support of IMS Voice Over PS Sessions and may use this information in the future in order to skip the T-ADS data retrieval, as described in clause 5.2.2.1 (IDR/IDA commands). If the \"Homogeneous Support of IMS Voice Over PS Sessions\" bit is set in the NOR-Flags AVP received but without Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions AVP present in the NOR message, the HSS shall take the Homogeneous Support of IMS Voice Over PS Sessions as unknown to the serving node. If the \"Homogeneous Support of IMS Voice Over PS Sessions\" bit is not set in the NOR-Flags AVP, the HSS shall ignore (if present) the Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions AVP;\n-\twhen NOR is received on S6a from an MME for removal of MME registration for SMS, the HSS shall remove the MME registration for SMS and the \"MME number for SMS\" as the corresponding MSC number to be used for MT SMS.\n-\twhen NOR is received on S6a from an MME or on S6d from an SGSN with the Monitoring-Event-Config-Status AVP, the HSS shall either trigger a Monitoring event cancelation procedure for the monitoring events that were not successfully authorized at the MME/SGSN by the IWK-SCEF or a Monitoring event suspension procedure for the monitoring events that were not successfully configured at the MME/SGSN, as specified in clause 7.2.2.2 of 3GPP TS 29.336 [54]. The HSS shall trigger a Monitoring event cancelation or suspension procedure based on the result code as indicated by MME/SGSN (e.g. DIAMETER_ERROR_UNAUTHORIZED_REQUESTING_ENTITY (5510) returned by IWK-SCEF triggers a Monitoring event cancelation procedure in HSS).\n-\twhen NOR is received on S6a from an MME or on S6d from an SGSN with an indication of the deletion of a monitoring event configuration in SCEF (DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN in the Monitoring-Event-Config-Status AVP), the HSS shall locally delete the corresponding Monitoring Event Configuration and shall not trigger a Monitoring event cancelation procedure.\nand then send the response to the MME or SGSN.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.5.1.1/1: Notify Request",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.5.1.1/2: Notify Answer",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "5A\tMME – CSS (S7a) and SGSN – CSS (S7d)",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5A.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The S7a interface enables the transfer of subscriber related CSG data in the VPLMN between the MME and the CSS as described in 3GPP TS 23.401 [2].\nThe S7d interface enables the transfer of subscriber related CSG data in the VPLMN between the SGSN and the CSS as described in 3GPP TS 23.060 [12].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5A.2\tMobility Services",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5A.2.1\tLocation Management Procedures",
                            "text_content": "The Update VCSG Location Procedure shall be used between the MME and the CSS or between the SGSN and the CSS to update location information in the CSS or retrieve the CSG subscription data of the UE from the CSS. The procedure allows:\n-\tto inform the CSS about the identity of the MME or SGSN currently serving the user,\n-\tto update MME or SGSN with user CSG subscription data received from the CSS.\nThis procedure is mapped to the commands Update-VCSG-Location-Request/Answer (UVR/UVA) in the Diameter application specified in clause 7.\nTable 5A.2.1.1.1/1 specifies the involved information elements for the request.\nTable 5A.2.1.1.1/2 specifies the involved information elements for the answer.\nTable 5A.2.1.1.1/1: Update VCSG Location Request\n\nTable 5A.2.1.1.1/2: Update VCSG Location Answer\n\nThe MME or SGSN shall make use of this procedure to register the UE in the CSS and to retrieve the \"CSG subscription data from CSS\" when:\n-\tthe VPLMN supports Autonomous CSG Roaming\n-\tand the HPLMN has enabled Autonomous CSG Roaming in the VPLMN\n-\tand the UE has requested an initial attach or a tracking area procedure or a routing area procedure to a CSG cell\n-\tand the MME or SGSN have not yet registered the UE in the CSS.\nIf the Autonomous CSG Roaming in the VPLMN is not supported or is not allowed by the HPLMN of the subscriber, the MME or SGSN shall not make use of the Update CSG Location procedure.\nFor UEs receiving emergency services, in which the UE was not successfully authenticated, the MME or SGSN shall not make use of the Update VCSG Location procedure.\nA combined MME/SGSN shall set the \"Skip Subscriber Data\" flag in the UVR-Flags if the \"CSG subscription data from CSS\" are already available due to a previously VCSG Location updating.\nA combined MME/SGSN that has chosen the option to include the SGSN Number within an Update VCSG Request sent over S7a shall be prepared to receive a single CSG subscription data update message from the CSS when the CSG subscription data is modified in the CSS.\nWhen receiving an Update VCSG Location Answer from the CSS, the MME or SGSN shall check the result code. If it indicates success the MME or SGSN shall delete all the stored \"CSG subscription data from CSS\" (if any) and then store the received \"CSG subscription data from the CSS\" (if any), and it shall store the CSS identity as received in the Origin-Host AVP.\nIf the same CSG Id exists in both \"CSG subscription data from CSS\" and \"CSG subscription data from HSS\", the \"CSG subscription data from HSS\" shall take precedence over the \"CSG subscription data from CSS\" in further use.\nIf an error response is received from the CSS, the MME or SGSN shall not reject the UE and shall end the procedure when the UE is attaching to a normal cell. If the UE is attaching to a CSG cell, in this case the MME or SGSN shall check if there is such CSG Id from the HSS. If there is no such CSG Id, the MME or SGSN shall reject the UE.\nWhen receiving an Update VCSG Location request the CSS shall check whether the user is known.\nIf the user is not known, and if the Update VCSG Location Request is received over the S7a/S7d interface, the CSS may:\n-\tstore the MME or SGSN identity received within the Origin-Host AVP, and include the UVA-Flags AVP with \"Temporary Empty VPLMN CSG Subscription Data\" flag set, and return a Result Code of DIAMETER_ SUCCESS, or\n-\treturn a Result Code of DIAMETER_ERROR_USER_UNKNOWN.\nNOTE:\tA mechanism is needed in the CSS to associate the CSG subscription data of the user with the received IMSI.\nIf the Update VCSG Location Request is received over the S7a/S7d interface, the CSS shall replace the stored MME or SGSN identity with the received value (the identity is received within the Origin-Host AVP).\nIf no result code indicating an error is sent to the MME or SGSN, the CSS shall include the VPLMN CSG subscription data in the Update VCSG Location Answer unless an explicit \"skip subscriber data\" indication has been received in the request, and shall return a Result Code of DIAMETER_SUCCESS.\nThe Cancel VCSG Location Procedure shall be used between the CSS and the MME and between the CSS and the SGSN. The procedure shall be invoked by the CSS and is used:\n-\tto inform the MME or SGSN about the subscriber's VCSG subscription withdrawal by the CSS operator and the removal of their registration in the CSS.\nThis procedure is mapped to the commands Cancel-VCSG-Location-Request/Answer (CVR/CVA) in the Diameter application specified in clause 7.\nTable 5A.2.1.2.1/1 specifies the involved information elements for the request.\nTable 5A.2.1.2.1/2 specifies the involved information elements for the answer.\nTable 5A.2.1.2.1/1: Cancel VCSG Location Request\n\nTable 5A.2.1.2.1/2: Cancel VCSG Location Answer\n\nWhen receiving a Cancel VCSG Location request the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_SUCCESS is returned.\nIf it is known, the MME or SGSN shall check if the Cancellation Type is Subscription Withdrawal.  In this case, the MME or SGSN shall remove the information of their registration in the CSS and the stored VPLMN CSG subscription if any. Also in this case a result code of DIAMETER_SUCCESS is returned.\nWhen a UE is served by a single combined MME/SGSN for both E-UTRAN and non-E-UTRAN access, the combined MME/SGSN shall check if the Cancellation Type is Subscription Withdrawal. In this case, the Cancel VCSG Location request is processed both in the MME part and in the SGSN part of the combined node.\nThe CSS shall make use of this procedure when the user's VPLMN CSG subscription is withdrawn by the CSS operator and shall include a cancellation type of \"Subscription Withdrawal.\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5A.2.1.1.1/1: Update VCSG Location Request",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5A.2.1.1.1/2: Update VCSG Location Answer",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5A.2.1.2.1/1: Cancel VCSG Location Request",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5A.2.1.2.1/2: Cancel VCSG Location Answer",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5A.2.2\tSubscriber Data Handling Procedures",
                            "text_content": "The Insert VCSG Subscriber Data Procedure shall be used between the CSS and the MME and between the CSS and the SGSN for updating CSG subscription data in the MME or SGSN in the following situations:\n-\tdue to administrative changes of the user data in the CSS and the user is now located in an MME or SGSN, i.e. if the user was given a CSG subscription and the CSG subscription has changed;\nIf the CSS knows that the UE has attached to the same combined MME/SGSN via both the E-UTRAN and UTRAN/GERAN, i.e. the CSS has received the Update VCSG Location Request over both the S7a interface and S7d interface respectively with the same SGSN number, the CSS should invoke this procedure for a single time to update CSG subscription data in the combined MME/SGSN, i.e. the CSS should not invoke this procedure for each of the MME and the SGSN registered respectively.\nThis procedure is mapped to the commands Insert-Subscriber Data-Request/Answer (IDR/IDA) in the Diameter application specified in clause 7.\nTable 5A.2.2.1.1/1 specifies the involved information elements for the request.\nTable 5A.2.2.1.1/2 specifies the involved information elements for the answer.\nTable 5A.2.2.1.1/1: Insert VCSG Subscriber Data Request\n\nTable 5A.2.2.1.1/2: Insert VCSG Subscriber Data Answer\n\nWhen receiving an Insert VCSG Subscriber Data request, the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the request does not contain any CSG-Subscription-Data AVP, Experimental-Result shall be set to DIAMETER_ERROR_SUBS_DATA_ABSENT.\nIf the request contains at least one CSG-Subscription-Data AVPs, the MME or SGSN shall delete all the stored \"CSG subscription data from CSS\" (if any), and then store the received \"CSG subscription data from CSS\".\nIf the MME or SGSN cannot fulfil the received request, e.g. due to a database error, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY.\nIf the same CSG Id exists in both \"CSG subscription data from CSS\" and \"CSG subscription data from HSS\", the \"CSG subscription data from HSS\" shall take precedence over the \"CSG subscription data from CSS\" in further use.\nThe CSS shall make use of this procedure to delete the \"CSG subscription data from CSS\" stored in the MME or SGSN and replace them with the CSG subscription data sent.\nIf the CSS receives a Insert VCSG Subscriber Data answer with the Result Code DIAMETER_ERROR_USER_UNKNOWN, the CSS shall clear the stored MME or SGSN identity.\nThis procedure shall be used between the CSS and the MME or between the CSS and the SGSN, to remove all the \"CSG subscription data from CSS\" stored in the MME or SGSN. The procedure shall be invoked by the CSS.\nIf the CSS knows that the UE has attached to the same combined MME/SGSN via both E-UTRAN and UTRAN/GERAN, i.e. the CSS has received the Update VCSG Location Request over both the S7a interface and S7d interface respectively with the same SGSN number, the CSS should invoke this procedure for a single time to remove all the \"CSG subscription data from CSS\" stored in the combined MME/SGSN, i.e. not invoke this procedure for each of the MME and the SGSN registered respectively.\nThis procedure is mapped to the commands Delete-Subscriber-Data-Request/Answer (DSR/DSA) in the S7a/S7d Diameter application specified in clause 7.\nTable 5A.2.2.2.1/1 specifies the involved information elements for the request.\nTable 5A.2.2.2.1/2 specifies the involved information elements for the answer.\nTable 5A.2.2.2.1/1: Delete VCSG Subscriber Data Request\n\nTable 5A.2.2.2.1/2: Delete VCSG Subscriber Data Answer\n\nWhen receiving a Delete VCSG Subscriber Data request, the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, the MME or SGSN shall delete all the stored \"CSG subscription data from CSS\".\nIf the deletion of the subscription data succeeds in the MME or SGSN, the Result-Code shall be set to DIAMETER_SUCCESS.\nIf the MME or SGSN cannot fulfil the received request for other reasons, e.g. due to a database error, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY.\nThe CSS shall make use of this procedure to remove all the CSG subscription data associated to CSS from the MME or SGSN.\nNOTE: When a Delete VCSG Subscriber Data procedure occurs, the MME or SGSN remains registered in the CSS\nIf the CSS receives a Delete VCSG Subscriber Data answer with the Result Code DIAMETER_ERROR_USER_UNKNOWN from the MME or SGSN, the CSS shall clear the stored MME or SGSN identity.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5A.2.2.1.1/1: Insert VCSG Subscriber Data Request",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5A.2.2.1.1/2: Insert VCSG Subscriber Data Answer",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5A.2.2.2.1/1: Delete VCSG Subscriber Data Request",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5A.2.2.2.1/2: Delete VCSG Subscriber Data Answer",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5A.2.3\tFault Recovery Procedures",
                            "text_content": "The VCSG Reset Procedure shall be used by the CSS, after a restart, to indicate to the MME and to the SGSN that a failure has occurred.\nThis procedure is mapped to the commands Reset-Request/Answer (RSR/RSA) in the S7a/S7d Diameter application specified in clause 7.\nTable 5A.2.3.1.1/1 specifies the involved information elements for the request.\nTable 5A.2.3.1.1/2 specifies the involved information elements for the answer.\nTable 5A.2.3.1.1/1: VCSG Reset Request\n\nTable 5A.2.3.1.1/2: VCSG Reset Answer\n\nWhen receiving a VCSG Reset message, the MME or SGSN or combined MME/SGSN, for all roaming users for which they have a registration in CSS, shall mark \"Location Information Confirmed in CSS\" record as \"Not Confirmed\". The MME or SGSN or combined MME/SGSN shall make use of the CSS Identity received in the Origin-Host AVP (by comparing it with the value stored after successful ULA) in order to determine which user records are impacted.\nWhen, as described in 3GPP TS 23.007 [43], an event requiring the MME or SGSN to check the \"CSG subscription data from CSS\" occurs, and if the user record \"Location Information Confirmed in CSS\" is marked as \"Not Confirmed\", the restoration procedure shall be triggered.\nThe CSS shall make use of this procedure in order to indicate to all relevant MMEs, SGSNs, and combined MME/SGSNs that the CSS has restarted and may have lost the current MME-Identity and SGSN-Identity of some of its users who may be currently roaming in the MME area and/or SGSN area, and to which the CSS, therefore, cannot send e.g. Insert VCSG Subscriber Data messages when needed.\nThe CSS should invoke this procedure towards a combined MME/SGSN only for a single time even if some of the impacted subscribers are attached to the combined MME/SGSN via UTRAN/GERAN and some of the impacted subscribers are attached to the combined MME/SGSN via E-UTRAN.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5A.2.3.1.1/1: VCSG Reset Request",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5A.2.3.1.1/2: VCSG Reset Answer",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tMME – EIR (S13) and SGSN – EIR (S13')",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The S13 interface shall enable the ME Identity check procedure between the MME and the EIR as described in the 3GPP TS 23.401 [2].\nThe S13' interface shall enable the ME Identity check procedure between the SGSN and the EIR as described in the 3GPP TS 23.060 [12].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.2\tME Identity Check Procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tME Identity Check",
                            "text_content": "This Mobile Equipment Identity Check Procedure shall be used between the MME and the EIR and between the SGSN and the EIR to check the Mobile Equipment's identity status (e.g. to check that it has not been stolen, or, to verify that it does not have faults).\nThis procedure is mapped to the commands ME-Identity-Check-Request/Answer (ECR/ECA) in the Diameter application specified in clause 6.\nTable 6.2.1.1/1 specifies the involved information elements for the request.\nTable 6.2.1.1/2 specifies the involved information elements for the answer.\nTable 6.2.1.1/1: ME Identity Check Request\n\nTable 6.2.1.1/2: ME Identity Check Answer\n\nThe MME or the SGSN shall make use of this procedure to check the ME identity, if the MME or the SGSN is configured to check the IMEI with the EIR.\nTerminal-Information, when sent by the MME/SGSN to the EIR, shall contain the IMEI AVP, and it may contain also the Software-Version AVP.\nIMSI may be sent together with Terminal Information to the EIR for operator-determined purposes.\nWhen receiving the ME Identity Check answer from the EIR, the MME or the SGSN shall check the result code and the equipment status. Dependent upon the result, the MME or the SGSN will decide its subsequent actions (e.g. sending an Attach Reject if the EIR indicates that the Mobile Equipment is unknown or prohibited listed).\nWhen receiving an ME Identity Check request, the EIR shall check whether the mobile equipment is known.\nThe EIR shall identify the mobile equipment based on the first 14 digits of the IMEI AVP; if a 15th digit is received in the IMEI AVP, this digit shall be ignored by the EIR.\nBased on operator policies, the EIR may also use the Software-Version AVP, in addition to the first 14 digits of the IMEI AVP, to check the equipment identity against prohibited and tracking lists (see 3GPP TS 22.016 [13]).\nIf the mobile equipment identity is not known, a result code of DIAMETER_ERROR_ EQUIPMENT_UNKNOWN is returned.\nIf it is known, the EIR shall return DIAMETER_SUCCESS with the equipment status.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.1.1/1: ME Identity Check Request",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.1.1/2: ME Identity Check Answer",
                                    "table number": 30,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "7\tProtocol Specification and Implementation",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "7.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.1.1\tUse of Diameter base protocol",
                            "text_content": "The Diameter base protocol as specified in IETF RFC 6733 [61] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as specified in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.1.2\tSecuring Diameter Messages",
                            "text_content": "For secure transport of Diameter messages, see 3GPP TS 33.210 [16].\nIf there are no intermediate Diameter Agent networks located between the visited PLMN and the home PLMN, the HSS or the first Diameter Agent located in the home PLMN which has direct connection with the serving network is required to check that the realm contained in the Origin-Realm AVP in the request from the serving network corresponds to the right serving network.\nIf there are intermediate Diameter Agent networks located between the visited PLMN and home PLMN, the first Diameter Agent which has direct connection with the serving network is required to check that the realm contained in the Origin-Realm AVP in the request from the serving network corresponds to the right serving network.\nNOTE 1:\tHow to do the above check is implementation specific, e.g. it may be done by checking if the IP addresses of the serving network nodes match with the realm received in the Origin-Realm AVP in the request.\nNOTE 2:\tNetwork configurations where a (potential) visited PLMN acts as intermediate Diameter Agent network are not allowed.\nNOTE 3:\tIn the case there are intermediate Diameter Agent networks, the home network has to trust these intermediate Diameter agent networks to do the check and other hop by hop security check. This trust is usually substantiated by contracts since there are no remote technical means to verify if the checks were actually performed.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.1.3\tAccounting functionality",
                            "text_content": "Accounting functionality (Accounting Session State Machine, related command codes and AVPs) shall not be used on the S6a, S6d, S13 and S13' interfaces.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.1.4\tUse of sessions",
                            "text_content": "Between the MME and the HSS and between the SGSN and the HSS and between the MME and the EIR, Diameter sessions shall be implicitly terminated. An implicitly terminated session is one for which the server does not maintain state information. The client shall not send any re-authorization or session termination requests to the server.\nThe Diameter base protocol specified in IETF RFC 6733 [61] includes the Auth-Session-State AVP as the mechanism for the implementation of implicitly terminated sessions.\nThe client (server) shall include in its requests (responses) the Auth-Session-State AVP set to the value NO_STATE_MAINTAINED (1), as described in IETF RFC 6733 [61]. As a consequence, the server shall not maintain any state information about this session and the client shall not send any session termination request. Neither the Authorization-Lifetime AVP nor the Session-Timeout AVP shall be present in requests or responses.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.1.5\tTransport protocol",
                            "text_content": "Diameter messages over the S6a, S6d, S13, S13', S7a and S7d interfaces shall make use of SCTP IETF RFC 4960 [14].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.1.6\tRouting considerations",
                            "text_content": "This clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host.\nIf an MME or SGSN knows the address/name of the HSS for a certain user, and the associated home network domain name, both the Destination-Realm and Destination-Host AVPs shall be present in the request.\nNOTE:\tWhen sending a ULR command for a certain user due to HSS restoration procedure (i.e, after the MME/SGSN have received a Reset command from the HSS), the MME or the SGSN might consider the stored address/name of the HSS for the user to be invalid and hence not known.\nIf an MME or SGSN knows only the home network domain name for a certain user, the Destination-Realm AVP shall be present and the command shall be routed to the next Diameter node.\nIf an MME or SGSN knows only the identity of the user, the home network domain name shall be derived from the user's IMSI (MNC and MCC values) to construct the EPC Home Network Realm/Domain, as indicated in 3GPP TS 23.003 [3], clause 19.2, and use it as Destination-Realm.\nConsequently, the Destination-Host AVP is declared as optional in the ABNF for all requests initiated by an MME or SGSN.\nThe address/name of the EIR shall be locally configured in the MME.\nRequests initiated by the HSS towards an MME or SGSN shall include both Destination-Host and Destination-Realm AVPs.\nThe HSS obtains the Destination-Host AVP to use in requests towards an MME or SGSN, from the Origin-Host AVP received in previous requests from the MME or SGSN. Consequently, the Destination-Host AVP is declared as mandatory in the ABNF for all requests initiated by the HSS. The Origin-Host AVP received in requests from the MME may contain a Diameter identity of the MME encoded as specified in clause 19.4.2.4 of 3GPP TS 23.003 [3]. The Origin-Host AVP received in requests from the SGSN may contain a Diameter identity of the SGSN encoded as specified in clause 19.4.2.6 of 3GPP TS 23.003 [3].\nThe HSS obtains the Destination-Realm AVP to use in requests towards an MME or SGSN, from the Origin-Realm AVP received in previous requests from the MME or SGSN. The Origin-Realm AVP in the requests received by the HSS in roaming cases, should contain the domain name of the network to which the MME or the SGSN belongs, encoded  as specified in clause 19.2 of 3GPP TS 23.003 [3].\nThe Destination-Realm AVP is declared as mandatory in the ABNF for all requests.\nIf the Vendor-Specific-Application-ID AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node, and it shall not be used for routing purposes.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.1.7\tAdvertising Application Support",
                            "text_content": "The HSS, MME, SGSN and EIR shall advertise support of the Diameter S6a/S6d and/or S13/S13' Application by including the value of the application identifier in the Auth-Application-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe vendor identifier value of 3GPP (10415) shall be included in the Supported-Vendor-Id AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands, and in the Vendor-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe Vendor-Id AVP included in Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands that is not included in the Vendor-Specific-Application-Id AVPs as described above shall indicate the manufacturer of the Diameter node as per IETF RFC 6733 [61].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.1.8\tDiameter Application Identifier",
                            "text_content": "This clause specifies three Diameter applications: The S6a/S6d interface application, the S13/S13' interface application, and the S7a/S7d interface application.\nThe S6a/S6d interface application allows a Diameter server and a Diameter client:\n-\tto exchange location information;\n-\tto authorize a user to access the EPS;\n-\tto exchange authentication information;\n-\tto download and handle changes in the subscriber data stored in the server.\nThe S6a/S6d interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the S/S6d interface application is 16777251 (allocated by IANA).\nThe S13/S13' interface application allows a Diameter server and a Diameter client:\n-\tto check the validity of the ME Identity.\nThe S13/S13' interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the S13/S13' interface application is 16777252 (allocated by IANA).\nThe S7a/S7d interface application allows a Diameter server and a Diameter client:\n-\tto authorize a user to access CSGs identified in the CSS while roaming;\n-\tto download and handle changes in CSG subscriber data stored in the CSS.\nThe S7a/S7d interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the S7a/S7d interface application is 16777308 (allocated by IANA).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.1.9\tUse of the Supported-Features AVP",
                            "text_content": "When new functionality is introduced on the S6a/S6d interfaces, it should be defined as optional. If backwards incompatible changes can not be avoided, the new functionality shall be introduced as a new feature and support advertised with the Supported-Features AVP. The usage of the Supported-Features AVP on the S6a/S6d interfaces is consistent with the procedures for the dynamic discovery of supported features as defined in clause 7.2 of 3GPP TS 29.229 [9].\nWhen extending the application by adding new AVPs for a feature, the new AVPs shall have the M bit cleared and the AVP shall not be defined mandatory in the command ABNF.\nAs defined in 3GPP TS 29.229 [9], the Supported-Features AVP is of type grouped and contains the Vendor-Id, Feature-List-ID and Feature-List AVPs. On the all reference points as specified in this specificaion, the Supported-Features AVP is used to identify features that have been defined by 3GPP and hence, for features defined in this document, the Vendor-Id AVP shall contain the vendor ID of 3GPP (10415). If there are multiple feature lists defined for the reference point, the Feature-List-ID AVP shall differentiate those lists from one another.\nThe Table 7.3.10/1 defines the features applicable to the S6a/S6d interfaces for the feature list with a Feature-List-ID of 1. The Table 7.3.10/2 defines the features applicable to the S6a/S6d interfaces for the feature list with a Feature-List-ID of 2.\nNOTE 1:\tIf the support of a feature by the receiver is required in order for the receiver to be able to correctly process the request command, then the feature is included in the Supported-Features AVP and the M-bit of the Supported-Features AVP has to be set in the request command, according to 3GPP TS 29.229 [9] clause 7.2.1.\nNOTE 2:\tCurrently none of the features that can be included in the Supported-Features AVP of the ULR command requires that the HSS supports them to successfully process the ULR command. For this reason the MME or SGSN does not need to set the M-bit of the Supported-Features AVP in the ULR command. This corresponds to the exception to the general rule requiring the setting of the M-bit of the Supported-Features AVP in a request described in 3GPP TS 29.229 [9] clause 7.2.1. Setting the M-bit of the Supported-Features AVP in the ULR command will mean that, if any of the features is not supported, the HSS will reject the ULR command as according to 3GPP TS 29.229 [9] clause 7.2.1.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.2\tCommands",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.2.1\tIntroduction",
                            "text_content": "This clause defines the Command code values and related ABNF for each command described in this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.2\tCommand-Code values",
                            "text_content": "This clause defines Command-Code values for the S6a/S6d interface application and S13/S13' interface application as allocated by IANA in the IETF RFC 5516 [32].\nEvery command is defined by means of the ABNF syntax IETF RFC 2234 [7], according to the Command Code Format (CCF) specification defined in IETF RFC 6733 [61]. In the case, the definition and use of an AVP is not specified in this document, the guidelines in IETF RFC 6733 [61] shall apply.\nThe Vendor-Specific-Application-Id AVP shall not be included in any command sent by Diameter nodes supporting applications defined in this specification. If the Vendor-Specific-Application-Id AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node.\nNOTE:\tThe Vendor-Specific-Application-Id is included as an optional AVP in all Command Code Format specifications defined in this specification in order to overcome potential interoperability issues with intermediate Diameter agents non-compliant with the IETF RFC 6733 [61].\nThe following Command Codes are defined in this specification:\nTable 7.2.2/1: Command-Code values for S6a/S6d\n\nFor these commands, the Application-ID field shall be set to 16777251 (application identifier of the S/S6d interface application, allocated by IANA).\nTable 7.2.2/2: Command-Code values for S13/S13'\n\nFor these commands, the Application-ID field shall be set to 16777252 (application identifier of the S13/S13' interface application, allocated by IANA).\nTable 7.2.2/3: Command-Code values for S7a/S7d\n\nFor these commands, the Application-ID field shall be set to 16777308 (application identifier of the S7a/S7d interface application, allocated by IANA).\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.2.2/1: Command-Code values for S6a/S6d",
                                    "table number": 31,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 7.2.2/2: Command-Code values for S13/S13'",
                                    "table number": 32,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 7.2.2/3: Command-Code values for S7a/S7d",
                                    "table number": 33,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.2.3\tUpdate-Location-Request (ULR) Command",
                            "text_content": "The Update-Location-Request (ULR) command, indicated by the Command-Code field set to 316 and the \"R\" bit set in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Update-Location-Request> ::=\t< Diameter Header: 316, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n[ Terminal-Information ]\n{ RAT-Type }\n{ ULR-Flags }\n[UE-SRVCC-Capability ]\n{ Visited-PLMN-Id }\n[ SGSN-Number ]\n[ Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions ]\n[ GMLC-Address ]\n*[ Active-APN ]\n[ Equivalent-PLMN-List ]\n[ MME-Number-for-MT-SMS ]\n[ SMS-Register-Request ]\n[ SGs-MME-Identity ]\n[ Coupled-Node-Diameter-ID ]\n[ Adjacent-PLMNs ]\n[ Supported-Services ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.4\tUpdate-Location-Answer (ULA) Command",
                            "text_content": "The Update-Location-Answer (ULA) command, indicated by the Command-Code field set to 316 and the 'R' bit cleared in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Update-Location-Answer> ::=\t< Diameter Header: 316, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n[ Error-Diagnostic ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n[ ULA-Flags ]\n[ Subscription-Data ]\n*[ Reset-ID ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.5\tAuthentication-Information-Request (AIR) Command",
                            "text_content": "The Authentication-Information-Request (AIR) command, indicated by the Command-Code field set to 318 and the 'R' bit set in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Authentication-Information-Request> ::=\t< Diameter Header: 318, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ OC-Supported-Features ]\n*[Supported-Features]\n[ Requested-EUTRAN-Authentication-Info ]\n[ Requested-UTRAN-GERAN-Authentication-Info ]\n{ Visited-PLMN-Id }\n[ AIR-Flags ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.6\tAuthentication-Information-Answer (AIA) Command",
                            "text_content": "The Authentication-Information-Answer (AIA) command, indicated by the Command-Code field set to318 and the 'R' bit cleared in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Authentication-Information-Answer> ::=\t< Diameter Header: 318, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n[ Error-Diagnostic ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[Supported-Features]\n[ Authentication-Info ]\n[ UE-Usage-Type ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.7\tCancel-Location-Request (CLR) Command",
                            "text_content": "The Cancel-Location-Request (CLR) command, indicated by the Command-Code field set to 317 and the 'R' bit set in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Cancel-Location-Request> ::=\t< Diameter Header: 317, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[Supported-Features ]\n{ Cancellation-Type }\n[ CLR-Flags ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.8\tCancel-Location-Answer (CLA) Command",
                            "text_content": "The Cancel-Location-Answer (CLA) command, indicated by the Command-Code field set to 317 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Cancel-Location-Answer> ::=\t< Diameter Header: 317, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.9\tInsert-Subscriber-Data-Request (IDR) Command",
                            "text_content": "The Insert-Subscriber-Data-Request (IDR) command, indicated by the Command-Code field set to 319 and the 'R' bit set in the Command Flags field, is sent from HSS or CSS  to MME or SGSN.\nMessage Format when used over the S6a or S6d application:\n< Insert-Subscriber-Data-Request> ::=\t< Diameter Header: 319, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features]\n{ Subscription-Data}\n[ IDR- Flags ]\n*[ Reset-ID ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\nMessage Format when used over the S7a or S7d application:\n< Insert-Subscriber-Data-Request> ::=\t< Diameter Header: 319, REQ, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features ]\n*{ VPLMN-CSG-Subscription-Data }\n*[ Reset-ID ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.10\tInsert-Subscriber-Data-Answer (IDA) Command",
                            "text_content": "The Insert-Subscriber-Data-Answer (IDA) command, indicated by the Command-Code field set to 319 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to HSS or CSS.\nMessage Format when used over the S6a or S6d application:\n< Insert-Subscriber-Data-Answer> ::=\t< Diameter Header: 319, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ IMS-Voice-Over-PS-Sessions-Supported ]\n[ Last-UE-Activity-Time ]\n[ RAT-Type ]\n[ IDA-Flags ]\n[ EPS-User-State ]\n[ EPS-Location-Information ]\n[Local-Time-Zone ]\n[ Supported-Services ]\n*[ Monitoring-Event-Report ]\n*[ Monitoring-Event-Config-Status ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\nMessage Format when used over the S7a or S7d application:\n< Insert-Subscriber-Data-Answer> ::=\t< Diameter Header: 319, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.11\tDelete-Subscriber-Data-Request (DSR) Command",
                            "text_content": "The Delete-Subscriber Data-Request (DSR) command, indicated by the Command-Code field set to 320 and the 'R' bit set in the Command Flags field, is sent from HSS or CSS to MME or SGSN.\nMessage Format when used over the S6a/S6d application:\n< Delete-Subscriber-Data-Request > ::=\t< Diameter Header: 320, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features ]\n{ DSR-Flags }\n[ SCEF-ID ]\n*[ Context-Identifier ]\n[ Trace-Reference ]\n*[ TS-Code ]\n*[ SS-Code ]\n[ eDRX-Related-RAT ]\n*[ External-Identifier ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\nThe SCEF-ID shall be present when the flag \"Delete monitoring events\" in DSR-Flags AVP is set.\nMessage Format when used over the S7a/S7d application:\n< Delete-Subscriber-Data-Request > ::=\t< Diameter Header: 320, REQ, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features ]\n{ DSR-Flags }\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.12\tDelete-Subscriber-Data-Answer (DSA) Command",
                            "text_content": "The Delete-Subscriber Data-Answer (DSA) command, indicated by the Command-Code field set to 320 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to HSS or CSS.\nMessage Format when used over the S6a/S6d application:\n< Delete-Subscriber-Data-Answer> ::= < Diameter Header: 320, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ DSA-Flags ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\nMessage Format when used over the S7a /S7d application:\n< Delete-Subscriber-Data-Answer> ::= < Diameter Header: 320, PXY, 16777308>\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.13\tPurge-UE-Request (PUR) Command",
                            "text_content": "The Purge-UE-Request (PUR) command, indicated by the Command-Code field set to 321 and the 'R' bit set in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Purge-UE-Request> ::=\t< Diameter Header: 321, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ OC-Supported-Features ]\n[ PUR-Flags ]\n*[ Supported-Features ]\n[ EPS-Location-Information ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.14\tPurge-UE-Answer (PUA) Command",
                            "text_content": "The Purge-UE-Answer (PUA) command, indicated by the Command-Code field set to 321 and the 'R' bit cleared in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Purge-UE-Answer> ::=\t< Diameter Header: 321, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n[ PUA-Flags ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.15\tReset-Request (RSR) Command",
                            "text_content": "The Reset-Request (RSR) command, indicated by the Command-Code field set to 322 and the 'R' bit set in the Command Flags field, is sent from HSS or CSS to MME or SGSN.\nMessage Format when used over the S6a/S6d application:\n< Reset-Request> ::=\t< Diameter Header: 322, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n*[ Supported-Features ]\n*[ User-Id ]\n*[ Reset-ID ]\n[ Subscription-Data ]\n[ Subscription-Data-Deletion ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\nMessage Format when used over the S7a /S7d application:\n< Reset-Request> ::=\t< Diameter Header: 322, REQ, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n*[ Supported-Features ]\n*[ Reset-ID ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.16\tReset-Answer (RSA) Command",
                            "text_content": "The Reset-Answer (RSA) command, indicated by the Command-Code field set to 322 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to HSS or CSS.\nMessage Format when used over the S6a/S6d application:\n< Reset-Answer> ::=\t< Diameter Header: 322, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\nMessage Format when used over the S7a /S7d application:\n< Reset-Answer> ::=\t< Diameter Header: 322, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.17\tNotify-Request (NOR) Command",
                            "text_content": "The Notify-Request (NOR) command, indicated by the Command-Code field set to 323 and the 'R' bit set in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Notify-Request> ::=\t< Diameter Header: 323, REQ, PXY, 16777251 >\n< Session-Id >\n[ Vendor-Specific-Application-Id ]\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n[ Terminal-Information ]\n[ MIP6-Agent-Info ]\n[ Visited-Network-Identifier ]\n[ Context-Identifier ]\n[Service-Selection]\n[ Alert-Reason ]\n[ UE-SRVCC-Capability ]\n[ NOR-Flags ]\n[ Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions ]\n[ Maximum-UE-Availability-Time ]\n*[ Monitoring-Event-Config-Status ]\n[ Emergency-Services ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.18\tNotify-Answer (NOA) Command",
                            "text_content": "The Notify-Answer (NOA) command, indicated by the Command-Code field set to 323 and the 'R' bit cleared in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Notify-Answer> ::=\t< Diameter Header: 323, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.19\tME-Identity-Check-Request (ECR) Command",
                            "text_content": "The ME-Identity-Check-Request (ECR) command, indicated by the Command-Code field set to 324 and the 'R' bit set in the Command Flags field, is sent from MME or SGSN to EIR.\nMessage Format\n< ME-Identity-Check-Request > ::=\t< Diameter Header: 324, REQ, PXY, 16777252 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ Terminal-Information }\n[ User-Name ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.20\tME-Identity-Check-Answer (ECA) Command",
                            "text_content": "The ME-Identity-Check-Answer (ECA) command, indicated by the Command-Code field set to 324 and the 'R' bit cleared in the Command Flags field, is sent from EIR to MME or SGSN.\nMessage Format\n< ME-Identity-Check-Answer> ::=\t< Diameter Header: 324, PXY, 16777252 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Equipment-Status ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.21\tUpdate-VCSG-Location-Request (UVR) Command",
                            "text_content": "The Update-VCSG-Location-Request (UVR) command, indicated by the Command-Code field set to 8388638 and the \"R\" bit set in the Command Flags field, is sent from MME or SGSN to CSS.\nMessage Format\n< Update-VCSG-Location-Request> ::=\t< Diameter Header: 8388638, REQ, PXY,  >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ MSISDN ]\n[ SGSN-Number ]\n*[ Supported-Features ]\n{ UVR-Flags }\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.22\tUpdate-VCSG-Location-Answer (UVA) Command",
                            "text_content": "The Update-VCSG-Location-Answer (UVA) command, indicated by the Command-Code field set to 8388638 and the 'R' bit cleared in the Command Flags field, is sent from CSS to MME or SGSN.\nMessage Format\n< Update-VCSG-Location-Answer> ::=\t< Diameter Header: 8388638, PXY,  >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n[ Error-Diagnostic ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ Supported-Features ]\n*[ VPLMN-CSG-Subscription-Data ]\n[ UVA-Flags ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.23\tCancel-VCSG-Location-Request (CVR) Command",
                            "text_content": "The Cancel-VCSG-Location-Request (CVR) command, indicated by the Command-Code field set to 8388642 and the 'R' bit set in the Command Flags field, is sent from CSS to MME or SGSN.\nMessage Format\n< Cancel-VCSG-Location-Request> ::=\t< Diameter Header: 8388642, REQ, PXY,  >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[Supported-Features ]\n{ Cancellation-Type }\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.2.24\tCancel-VCSG-Location-Answer (CVA) Command",
                            "text_content": "The Cancel-VCSG-Location-Answer (CVA) command, indicated by the Command-Code field set to 8388642 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to CSS.\nMessage Format\n< Cancel-VCSG-Location-Answer> ::=\t< Diameter Header: 8388642, PXY,  >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.3\tInformation Elements",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.3.1\tGeneral",
                            "text_content": "The following table specifies the Diameter AVPs defined for the S6a/S6d interface protocol, the S7a/S7d interface protocol and the S13/S13' interface protocol, their AVP Code values, types, possible flag values and whether or not the AVP may be encrypted. The Vendor-ID header of all AVPs defined in this specification shall be set to 3GPP (10415).\nFor all AVPs which contain bit masks and are of the type Unsigned32, e.g., ULR-Flags, DSR-Flags, PUA-Flags, etc., bit 0 shall be the least significant bit. For example, to get the value of bit 0, a bit mask of 0x0001 should be used.\n\nTable 7.3.1/1: S6a/S6d, S7a/S7d and S13/S13' specific DiameterAVPs\n\nThe following table specifies the Diameter AVPs re-used by the S6a/S6d interface protocol from existing Diameter Applications, including a reference to their respective specifications and when needed, a short description of their use within S6a and S6d.\nAny other AVPs from existing Diameter Applications, except for the AVPs from Diameter base protocol specified in IETF RFC 6733 [61], do not need to be supported. The AVPs from the Diameter base protocol specified in IETF RFC 6733 [61] are not included in table 7.3.1/2, but they may be re-used for the S6a/S6d protocol, the S7a/S7protocol and the S13/S13' protocol.\nTable 7.3.1/2: S6a/S6d, S7a/S7d and S13/S13' re-used Diameter AVPs\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.1/1: S6a/S6d, S7a/S7d and S13/S13' specific DiameterAVPs",
                                    "table number": 34,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 7.3.1/2: S6a/S6d, S7a/S7d and S13/S13' re-used Diameter AVPs",
                                    "table number": 35,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.2\tSubscription-Data",
                            "text_content": "The Subscription-Data AVP is of type Grouped. It shall contain the information related to the user profile relevant for EPS and GERAN/UTRAN.\nAVP format:\nSubscription-Data ::= <AVP header: 1400 10415>\n[ Subscriber-Status ]\n[ MSISDN ]\n[ A-MSISDN ]\n[ STN-SR ]\n[ ICS-Indicator ]\n[ Network-Access-Mode ]\n[ Operator-Determined-Barring ]\n[ HPLMN-ODB ]\n*10[ Regional-Subscription-Zone-Code ]\n[ Access-Restriction-Data ]\n[ APN-OI-Replacement ]\n[ LCS-Info ]\n[ Teleservice-List ]\n*[ Call-Barring-Info ]\n[ 3GPP-Charging-Characteristics ]\n[ AMBR ]\n[ APN-Configuration-Profile ]\n[ RAT-Frequency-Selection-Priority-ID ]\n[ Trace-Data]\n[ GPRS-Subscription-Data ]\n*[ CSG-Subscription-Data ]\n[ Roaming-Restricted-Due-To-Unsupported-Feature ]\n[ Subscribed-Periodic-RAU-TAU-Timer ]\n[ MPS-Priority ]\n[ VPLMN-LIPA-Allowed ]\n[ Relay-Node-Indicator ]\n[ MDT-User-Consent ]\n[ Subscribed-VSRVCC ]\n[ ProSe-Subscription-Data ]\n[ Subscription-Data-Flags ]\n*[ Adjacent-Access-Restriction-Data ]\n[ DL-Buffering-Suggested-Packet-Count ]\n*[ IMSI-Group-Id ]\n[ UE-Usage-Type ]\n*[ AESE-Communication-Pattern ]\n*[ Monitoring-Event-Configuration ]\n[ Emergency-Info ]\n[ V2X-Subscription-Data ]\n[ V2X-Subscription-Data-Nr ]\n*[ eDRX-Cycle-Length ]\n[ External-Identifier ]\n[ Active-Time ]\n[ Service-Gap-Time ]\n[ Broadcast-Location-Assistance-Data-Types ]\n[ Aerial-UE-Subscription-Information ]\n[ Core-Network-Restrictions ]\n*[ Paging-Time-Window ]\n[ Subscribed-ARPI ]\n[ IAB-Operation-Permission ]\n*[ AVP ]\n\nThe AMBR included in this grouped AVP shall include the AMBR associated to the user's subscription (UE-AMBR); Max-Requested-Bandwidth-UL and Max-Requested-Bandwidth-DL within this AVP shall not both be set to \"0\".\nThe APN-OI-Replacement included in this grouped AVP shall include the UE level APN-OI-Replacement associated to the user's subscription.\nWhen multiple External Identifiers are defined for the same subscription, the External-Identifier in this grouped AVP shall contain a default External Identifier determined by the HSS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.3\tTerminal-Information",
                            "text_content": "The Terminal-Information AVP is of type Grouped. This AVP shall contain the information about the user's terminal.\nAVP format\nTerminal-Information ::= <AVP header: 1401 10415>\n[ IMEI ]\n[ 3GPP2-MEID ]\n[ Software-Version ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.4\tIMEI",
                            "text_content": "The IMEI AVP is of type UTF8String. This AVP shall contain the International Mobile Equipment Identity, as specified in 3GPP TS 23.003 [3]. It should consist of 14 digits, including the 8-digit Type Allocation Code (TAC) and the 6-digit Serial Number (SNR). It may also include a 15th digit.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.5\tSoftware-Version",
                            "text_content": "The Software-Version AVP is of type UTF8String. This AVP shall contain the 2-digit Software Version Number (SVN) of the International Mobile Equipment Identity, as specified in 3GPP TS 23.003 [3].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.6\t3GPP2-MEID",
                            "text_content": "This AVP is of type OctetString. This AVP contains the Mobile Equipment Identifier of the user's terminal. For further details on the encoding of the AVP data, refer to the encoding of the Mobile Identity (MEID) octets 3 to 10 in 3GPP2 A.S0022 [28] Annex A.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.7\tULR-Flags",
                            "text_content": "The ULR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.7/1:\nTable 7.3.7/1: ULR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.7/1: ULR-Flags",
                                    "table number": 36,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.8\tULA-Flags",
                            "text_content": "The ULA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.8/1:\nTable 7.3.8/1: ULA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.8/1: ULA-Flags",
                                    "table number": 37,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.9\tVisited-PLMN-Id",
                            "text_content": "The Visited-PLMN-Id AVP is of type OctetString. This AVP shall contain the concatenation of MCC and MNC. See 3GPP TS 23.003 [3]. The content of this AVP shall be encoded as an octet string according to table 7.3.9-1.\nSee 3GPP TS 24.008 [31], clause 10.5.1.13, PLMN list, for the coding of MCC and MNC. If MNC is 2 digits long, bits 5 to 8 of octet 2 are coded as \"1111\".\nTable 7.3.9/1: Encoding format for Visited-PLMN-Id AVP\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.9/1: Encoding format for Visited-PLMN-Id AVP",
                                    "table number": 38,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.10\tFeature-List AVP",
                            "text_content": "The syntax of this AVP is defined in 3GPP TS 29.229 [9].\nFor the S6a/S6d application, the meaning of the bits shall be as defined in table 7.3.10/1 for the Feature-List-ID 1 and in table 7.3.10/2 for the Feature-List-ID 2.\nTable 7.3.10/1: Features of Feature-List-ID 1 used in S6a/S6d\n\nTable 7.3.10/2: Features of Feature-List-ID 2 used in S6a/S6d\n\nFeatures that are not indicated in the Supported-Features AVPs within a given application message shall not be used to construct that message.\nFor the S7a/S7d application, the feature list does not contain any feature in this release.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.10/1: Features of Feature-List-ID 1 used in S6a/S6d",
                                    "table number": 39,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 7.3.10/2: Features of Feature-List-ID 2 used in S6a/S6d",
                                    "table number": 40,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.11\tRequested-EUTRAN-Authentication-Info",
                            "text_content": "The Requested-EUTRAN-Authentication-Info is of type Grouped. It shall contain the information related to the authentication requests for E-UTRAN.\nAVP format\nRequested-EUTRAN-Authentication-Info ::= <AVP header: 1408 10415>\n[ Number-Of-Requested-Vectors ]\n[ Immediate-Response-Preferred ]\n[ Re-synchronization-Info ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.12\tRequested-UTRAN- GERAN-Authentication-Info",
                            "text_content": "The Requested-UTRAN-GERAN-Authentication-Info is of type Grouped. It shall contain the information related to the to authentication requests for UTRAN or GERAN.\nAVP format\nRequested-UTRAN-GERAN-Authentication-Info ::= <AVP header: 1409 10415>\n[ Number-Of-Requested-Vectors]\n[ Immediate-Response-Preferred ]\n[ Re-synchronization-Info ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.13\tRAT-Type",
                            "text_content": "The RAT-Type AVP is of type Enumerated and is used to identify the radio access technology that is serving the UE. See 3GPP TS 29.212 [10] for the defined values.\n3GPP TS 29.212 [10] defines distinct RAT-Type values for EUTRAN (WB-EUTRAN), EUTRAN-NB-IoT, LTE-M, WB-EUTRAN over satellite access, EUTRAN-NB-IoT over satellite access, LTE-M over satellite access; these values shall be used in the signaling between the serving nodes (MME/SGSN) and the HSS, e.g. to determine the corresponding access restrictions for the UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.14\tNumber-Of-Requested-Vectors",
                            "text_content": "The Number-Of-Requested-Vectors AVP is of type Unsigned32. This AVP shall contain the number of AVs the MME or SGSN is prepared to receive.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.15\tRe-Synchronization-Info",
                            "text_content": "The Re-Synchronization-Info AVP is of type OctetString. It shall contain the concatenation of RAND and AUTS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.16\tImmediate-Response-Preferred",
                            "text_content": "The Immediate-Response-Preferred AVP is of type Unsigned32. This optional AVP indicates by its presence that immediate response is preferred, and by its absence that immediate response is not preferred. If present, the value of this AVP is not significant.\nWhen EUTRAN-AVs and UTRAN-AVs or GERAN-AVs are requested, presence of this AVP within the Requested-EUTRAN-Authentication-Info AVP shall indicate that EUTRAN-AVs are requested for immediate use in the MME/SGSN; presence of this AVP within the Requested-UTRAN-GERAN-Authentication-Info AVP shall indicate that UTRAN-AVs or GERAN-AVs are requested for immediate use in the MME/SGSN. It may be used by the HSS to determine the number of vectors to be obtained from the AuC and the number of vectors downloaded to the MME or SGSN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.17\tAuthentication-Info",
                            "text_content": "The Authentication-Info AVP is of type Grouped. This AVP contains Authentication Vectors.\nAVP format:\nAuthentication-Info ::= <AVP header: 1413 10415>\n*[ E-UTRAN-Vector ]\n*[UTRAN-Vector]\n*[GERAN-Vector]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.18\tE-UTRAN-Vector",
                            "text_content": "The E-UTRAN-Vector AVP is of type Grouped. This AVP shall contain an E-UTRAN Vector.\nAVP format:\nE-UTRAN-Vector ::= <AVP header: 1414 10415>\n[ Item-Number ]\n{ RAND }\n{ XRES }\n{ AUTN }\n{ KASME }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.19\tUTRAN-Vector",
                            "text_content": "The UTRAN-Vector AVP is of type Grouped. This AVP shall contain an UTRAN Vector.\nAVP format:\nUTRAN-Vector ::= <AVP header: 1415 10415>\n[ Item-Number ]\n{ RAND }\n{ XRES }\n{ AUTN }\n{ Confidentiality-Key }\n{ Integrity-Key }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.20\tGERAN-Vector",
                            "text_content": "The GERAN-Vector AVP is of type Grouped. This AVP shall contain a GERAN Vector.\nAVP format:\nGERAN-Vector ::= <AVP header: 1416 10415>\n[ Item-Number ]\n{ RAND }\n{ SRES }\n{ Kc }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.21\tNetwork-Access-Mode",
                            "text_content": "The Network-Access-Mode AVP is of type Enumerated. The following values are defined:\nPACKET_AND_CIRCUIT (0)\nReserved (1)\nONLY_PACKET (2)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.22\tHPLMN-ODB",
                            "text_content": "The HPLMN-ODB AVP is of type Unsigned32 and it shall contain a bit mask indicating the HPLMN specific services of a subscriber that are barred by the operator. The meaning of the bits is HPLMN specific:\nTable 7.3.22/1: HPLMN-ODB\n\nHPLMN-ODB may apply to mobile originated short messages; See 3GPP TS 23.015 [36].\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.22/1: HPLMN-ODB",
                                    "table number": 41,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.23\tItem-Number",
                            "text_content": "The Item-Number AVP is of type Unsigned32. The Item Number is used to order Vectors received within one request.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.24\tCancellation-Type",
                            "text_content": "The Cancellation-Type AVP is of type Enumerated and indicates the type of cancellation. The following values are defined:\nMME_UPDATE_PROCEDURE (0)\nThis value is used when the Cancel Location is sent to the previous MME due to a received Update Location message from a new MME or due to the HSS+UDM receiving an Nudm_UEContextManagement service request from the AMF or due to the HSS receiving Nhss_UECM_SNDeregistration service operation from UDM (see clause 5.4.2.2 of 3GPP TS 29.563 [70]).\nSGSN_UPDATE_PROCEDURE (1)\nThis value is used when the Cancel Location is sent to the previous SGSN due to a received Update Location message from a new SGSN or due to the HSS+UDM receiving an Nudm_UEContextManagement service request from the AMF or due to the HSS receiving Nhss_UECM_SNDeregistration service operation from UDM (see clause 5.4.2.2 of 3GPP TS 29.563 [70]).\nSUBSCRIPTION_WITHDRAWAL (2)\nThis value is used:\n-\twhen the Cancel Location is sent by the HSS to the current MME or SGSN due to withdrawal of the user's subscription by the HSS operator;\n-\twhen the Cancel VCSG Location is sent by the CSS to the current MME or SGSN due to withdrawal of the user's VPLMN CSG subscription by the CSS operator.\nUPDATE_PROCEDURE_IWF (3)\nThis value is used by an IWF when interworking with a pre-Rel-8 HSS.\nINITIAL_ATTACH_PROCEDURE (4)\nThis value is used when the Cancel Location is sent to the MME or SGSN due to a received Update Location message during initial attach procedure from an SGSN or MME respectively.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.25\tDSR-Flags",
                            "text_content": "The DSR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in table 7.3.25/1:\nTable 7.3.25/1: DSR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.25/1: DSR-Flags",
                                    "table number": 42,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.26\tDSA-Flags",
                            "text_content": "The DSA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in table 7.3.26/1:\nTable 7.3.26/1: DSA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.26/1: DSA-Flags",
                                    "table number": 43,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.27\tContext-Identifier",
                            "text_content": "The Context-Identifier AVP is of type Unsigned32.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.28\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.29\tSubscriber-Status",
                            "text_content": "The 3GPP Subscriber Status AVP is of type Enumerated. It shall indicate if the service is barred or granted. The following values are defined:\nSERVICE_GRANTED (0)\nOPERATOR_DETERMINED_BARRING (1)\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.30\tOperator-Determined-Barring",
                            "text_content": "The Operator-Determined-Barring AVP is of type Unsigned32 and it shall contain a bit mask indicating the services of a subscriber that are barred by the operator. The meaning of the bits is the following:\nTable 7.3.30/1: Operator-Determined-Barring\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.30/1: Operator-Determined-Barring",
                                    "table number": 44,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.31\tAccess-Restriction-Data",
                            "text_content": "The Access-Restriction-Data AVP is of type Unsigned32 and it shall contain a bit mask where each bit when set to 1 indicates a restriction. The meaning of the bits is the following:\nTable 7.3.31/1: Access-Restriction-Data\n\nThe restriction \"HO-To-Non-3GPP-Access Not Allowed\" shall take a higher precedence than the APN-level parameter \"WLAN-Offloadability\" (see clause 7.3.181).\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.31/1: Access-Restriction-Data",
                                    "table number": 45,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.32\tAPN-OI-Replacement",
                            "text_content": "The APN-OI-Replacement AVP is of type UTF8String. This AVP shall indicate the domain name to replace the APN OI for the non-roaming case and the home routed roaming case when constructing the APN, and the APN-FQDN upon which to perform a DNS resolution. See 3GPP TS 23.003 [3] and 3GPP TS 29.303 [38].\nThe contents of the APN-OI-Replacement AVP shall be formatted as a character string composed of one or more labels separated by dots (\".\").\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.33\tAll-APN-Configurations-Included-Indicator",
                            "text_content": "The All-APN-Configurations-Included-Indicator AVP is of type Enumerated.  The following values are defined:\nAll_APN_CONFIGURATIONS_INCLUDED (0)\nMODIFIED_ADDED_APN_CONFIGURATIONS_INCLUDED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.34\tAPN-Configuration-Profile",
                            "text_content": "The APN-Configuration-Profile AVP is of type Grouped. It shall contain the information related to the user's subscribed APN configurations for EPS.\nThe AVP format shall conform to:\nAPN-Configuration-Profile ::= <AVP header: 1429 10415>\n{ Context-Identifier }\n[ Additional-Context-Identifier ]\n[ Third-Context-Identifier ]\n{ All-APN-Configurations-Included-Indicator }\n1*{APN-Configuration}\n*[AVP]\nThe Subscription-Data AVP associated with an IMSI contains one APN-Configuration-Profile AVP.\nEach APN-Configuration-Profile AVP contains one or more APN-Configuration AVPs.\nEach APN-Configuration AVP describes the configuration for a single APN.\nTherefore, the cardinality of the relationship between IMSI and APN is one-to-many.\nThe Context-Identifier AVP shall identify the per subscriber's default APN configuration.\nIf present, the Additional-Context-Identifier AVP shall identify another default APN configuration, only for those subscriptions containing more than one types of APNs i.e. among APNs with an IP-based PDN type, APNs with a Non-IP PDN type, and APNs with an Ethernet PDN type; in this case, each of those two default APN configurations shall have a different PDN type category (e.g. one default APN with an IP-based PDN type, and another default APN with a Non-IP PDN type).\nIf present, the Third-Context-Identifier AVP shall identify another default APN configuration, only for those subscriptions containing more than two types of APNs i.e. among APNs with an IP-based PDN type, APNs with a Non-IP PDN type, and APNs with an Ethernet PDN type; in this case, each of those three default APN configurations shall have a different PDN type category (i.e. one default APN with an IP-based PDN type, and another default APN with a Non-IP PDN type and one default APN with an Ethernet PDN type).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.35\tAPN-Configuration",
                            "text_content": "The APN-Configuration AVP is of type Grouped. It shall contain the information related to the user's subscribed APN configurations. The Context-Identifier in the APN-Configuration AVP shall identify that APN configuration, and it shall not have a value of zero. Furthermore, the Context-Identifier in the APN-Configuration AVP shall uniquely identify the EPS APN configuration per subscription. For a particular EPS user having multiple APN configurations, the Service-Selection AVP values shall be unique across APN-Configuration AVPs.\nThe AVP format shall conform to:\nAPN-Configuration ::= <AVP header: 1430 10415>\n{ Context-Identifier }\n* 2 [ Served-Party-IP-Address ]\n{ PDN-Type }\n{ Service-Selection}\n[ EPS-Subscribed-QoS-Profile ]\n[ VPLMN-Dynamic-Address-Allowed ]\n[MIP6-Agent-Info ]\n[ Visited-Network-Identifier ]\n[ PDN-GW-Allocation-Type ]\n[ 3GPP-Charging-Characteristics ]\n[ AMBR ]\n*[ Specific-APN-Info ]\n[ APN-OI-Replacement ]\n[ SIPTO-Permission ]\n[ LIPA-Permission ]\n[ Restoration-Priority ]\n[ SIPTO-Local-Network-Permission ]\n[ WLAN-offloadability ]\n[ Non-IP-PDN-Type-Indicator ]\n[ Non-IP-Data-Delivery-Mechanism ]\n[ SCEF-ID ]\n[ SCEF-Realm ]\n[ Preferred-Data-Mode ]\n[ PDN-Connection-Continuity ]\n[ RDS-Indicator ]\n[ Interworking-5GS-Indicator ]\n[ Ethernet-PDN-Type-Indicator ]\n*[ AVP ]\nThe AMBR included in this grouped AVP shall include the AMBR associated to this specific APN configuration (APN-AMBR).\nThe Served-Party-IP-Address AVP may be present 0, 1 or 2 times. These AVPs shall be present if static IP address allocation is used for the UE, and they shall contain either of:\n-\tan IPv4 address, or\n-\tan IPv6 address/prefix, or\n-\tboth, an IPv4 address and an IPv6 address/prefix.\nFor the IPv6 prefix, the lower 64 bits of the address shall be set to zero.\nThe PDN-GW-Allocation-Type AVP applies to the MIP6-Agent-Info AVP. Therefore, it shall not be present if MIP6-Agent-Info is not present.\nThe APN-OI-Replacement included in this grouped AVP shall include the APN-OI-Replacement associated with this APN configuration. This APN-OI-Replacement has higher priority than UE level APN-OI-Replacement.\nThe Visited-Network-Identifier AVP indicates the PLMN where the PGW was allocated, in case of dynamic PGW assignment.\nNOTE:\tIf interworking with MAP is needed, the Context-Identifier will be in the range of 1 and 50.\nThe Non-IP-Data-Delivery-Mechanism shall only be present when Non-IP-PDN-Type-Indicator is set to TRUE (1).\nThe SCEF-ID AVP and the SCEF-Realm AVP shall only be present when Non-IP-PDN-Type-Indicator is set to TRUE (1), and Non-IP-Data-Delivery-Mechanism is set to SCEF-BASED-DATA-DELIVERY (1).\nThe RDS-Indicator may be present when Non-IP-PDN-Type-Indicator is set to TRUE (1), and Non-IP-Data-Delivery-Mechanism is set to SCEF-BASED-DATA-DELIVERY (1).\nAbsence of PDN-Connection-Continuity AVP indicates that the handling is left to local VPLMN policy.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.36\tService-Selection",
                            "text_content": "The Service-Selection AVP is of type of UTF8String. This AVP shall contain either the APN Network Identifier (i.e. an APN without the Operator Identifier) per 3GPP TS 23.003 [3], clauses 9.1 & 9.1.1, or this AVP shall contain the wild card value per 3GPP TS 23.003 [3], clause 9.2.1, and 3GPP TS 23.008 [30], clause 2.13.6).\nThe contents of the Service-Selection AVP shall be formatted as a character string composed of one or more labels separated by dots (\".\"), or as the wild card APN, i.e., consisting of only one ASCII label, \"*\".\nThis AVP is defined in IETF RFC 5778[20].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.37\tEPS-Subscribed-QoS-Profile",
                            "text_content": "The EPS-Subscribed-QoS-Profile AVP is of type Grouped. It shall contain the bearer-level QoS parameters (QoS Class Identifier and Allocation Retention Priority) associated to the default bearer for an APN (see 3GPP TS 23.401 [2], clause 4.7.3).\nAVP format\nEPS-Subscribed-QoS-Profile ::= <AVP header: 1431 10415>\n{ QoS-Class-Identifier }\n{ Allocation-Retention-Priority }\n*[AVP]\nNOTE:\tQoS-Class-Identifier is defined in 3GPP TS 29.212 [10] as an Enumerated AVP. The values allowed for this AVP over the S6a/S6d interface are only those associated to non-GBR bearers, as indicated in 3GPP TS 23.008 [30]; e.g., values QCI_1, QCI_2, QCI_3 and QCI_4, which are associated to GBR bearers, cannot be sent over S6a/S6d.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.38\tVPLMN-Dynamic-Address-Allowed",
                            "text_content": "The VPLMN-Dynamic-Address-Allowed AVP is of type Enumerated. It shall indicate whether for this APN, the UE is allowed to use the PDN GW in the domain of the HPLMN only, or additionally, the PDN GW in the domain of the VPLMN.. If this AVP is not present, this means that the UE is not allowed to use PDN GWs in the domain of the VPLMN. The following values are defined:\nNOTALLOWED (0)\nALLOWED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.39\tSTN-SR",
                            "text_content": "The STN-SR AVP is of type OctetString and shall contain the Session Transfer Number for SRVCC. See 3GPP TS 23.003 [3] for the definition of STN-SR. This AVP contains an STN-SR, in international number format as described in ITU-T Rec E.164 [41], encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.40\tAllocation-Retention-Priority",
                            "text_content": "The Allocation-Retention-Priorit AVP is of typeGrouped and is defined in 3GPP TS 29.212 [10]. It shall indicate the Priority of Allocation and Retention for the corresponding APN configuration.\nAVP format\nAllocation-Retention-Priority ::= <AVP header: 1034 10415>\n{ Priority-Level }\n[ Pre-emption-Capability ]\n[ Pre-emption-Vulnerability ]\nIf the Pre-emption-Capability AVP is not present in the Allocation-Retention-Priority AVP, the default value shall be PRE-EMPTION_CAPABILITY_DISABLED (1).\nIf the Pre-emption-Vulnerability AVP is not present in the Allocation-Retention-Priority AVP, the default value shall be PRE-EMPTION_VULNERABILITY_ENABLED (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.41\tAMBR",
                            "text_content": "The AMBR AVP is of type Grouped.\nIt shall contain the maximum requested bandwidth for Uplink and Downlink traffic. The Max-Requested-Bandwidth-(UL/DL) AVPs shall encode the bandwidth value in bits per second, having an upper limit of 4294967295 bits per second. The Extended-Max-Requested-BW-(UL/DL) AVPs shall encode the bandwidth value in kilobits (1000 bits) per second, having an upper limit of 4294967295 kilobits per second.\nWhen the maximum bandwidth value to be set for UL (or DL, respectively) traffic is lower than 4294967296 bits per second, the Max-Requested-Bandwidth-UL (or -DL, respectively) AVP shall be present, and set to the requested bandwidth value in bits per second, and the Extended-Max-Requested-BW-UL (or -DL, respectively) AVP shall be absent.\nWhen the maximum bandwidth value to be set for UL (or DL, respectively) traffic is higher than 4294967295 bits per second, the Max-Requested-Bandwidth-UL (or DL, respectively) AVP shall be present, and set to its upper limit 4294967295, and the Extended-Max-Requested-BW-UL (or -DL, respectively) shall be present, and set to the requested bandwidth value in kilobits (1000 bits) per second.\nNOTE:\tThe value applicable for Max-Requested-Bandwidth-UL (or DL, respectively) is between 1 and 4294967295 bits per second, and the value applicable for Extended-Max-Requested-BW-UL (or -DL, respectively) is between 4294968 and 4294967295 kilobits per second. The AMBR AVP cannot indicate the requested bandwidth between 4294967296 and 4294967999 bits per second, and any larger value that cannot be represented in the granularity of kilobits per second.\nAVP format\nAMBR ::= <AVP header: 1435 10415>\n{ Max-Requested-Bandwidth-UL }\n{ Max-Requested-Bandwidth-DL }\n[ Extended-Max-Requested-BW-UL ]\n[ Extended-Max-Requested-BW-DL ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.42\tMIP-Home-Agent-Address",
                            "text_content": "The MIP-Home-Agent-Address AVP is of type Address and is defined in IETF RFC 4004 [27]. This AVP shall contain either  IPv4 or IPv6 address of the PDN-GW and this IP address shall be used as the PDN-GW IP address.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.43\tMIP-Home-Agent-Host",
                            "text_content": "The MIP-Home-Agent-Host is of type Grouped and is defined in IETF RFC 4004 [27]. This AVP shall contain a FQDN of the PDN-GW which shall be used to resolve the PDN-GW IP address using the Domain Name Service function.\nMIP-Home-Agent-Host grouped AVP is composed by Destination-Host and Destination-Realm AVPs.\nDestination-Host shall contain the hostname of the PDN-GW, formatted as described in 3GPP TS 29.303 [38], clause 4.3.2.\nDestination-Realm shall be formatted as:\nepc.mnc<MNC>.mcc<MCC>.3gppnetwork.org\nwhere MNC and MCC values indicate the PLMN where the PDN-GW is located.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.44\tPDN-GW-Allocation-Type",
                            "text_content": "The PDN-GW-Allocation-Type AVP is of type Enumerated. It shall indicate whether the PDN GW address included in MIP6-Agent-Info has been statically allocated (i.e. provisioned in the HSS by the operator), or dynamically selected by other nodes. The following values are defined:\nSTATIC (0)\nDYNAMIC (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.45\tMIP6-Agent-Info",
                            "text_content": "The MIP6-Agent-InfoAVP is of type Grouped and is defined in IETF RFC 5447 [26]. This AVP shall contain the identity of the PDN-GW. This AVP is used to convey the identity of the PDN-GW between the MME/SGSN and the HSS regardless of the specific mobility protocol used (GTP or PMIPv6). The identity of PDN-GW is either an IP address transported in MIP-Home-Agent-Address or an FQDN transported in MIP-Home-Agent-Host. FQDN shall be used if known to the MME/SGSN/HSS.\nAVP format\nMIP6-Agent-Info ::=\t< AVP Header: 486 >\n*2[ MIP-Home-Agent-Address ]\n[ MIP-Home-Agent-Host ]\n[ MIP6-Home-Link-Prefix ]\n*[ AVP ]\nWithin the MIP6-Agent-Info AVP, if static address allocation is used, there may be either:\n-\tan IPv4 address or an IPv6 address of the PGW contained in one MIP-Home-Agent-Address AVP;\n-\tboth IPv4 address and IPv6 address of the PGW contained in two MIP-Home-Agent-Address AVPs.\nThe AVP MIP6-Home-Link-Prefix is not used in S6a/S6d, but it is included here to reflect the complete IETF definition of the grouped AVP.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.46\tRAT-Frequency-Selection-Priority-ID",
                            "text_content": "The RAT-Frequency-Selection-Priority-ID AVP is of type Unsigned32 and shall contain the subscribed value of Subscriber Profile ID for RAT/Frequency Priority. For details, see 3GPP TS 23.401 [2] and 3GPP TS 23.060 [12] . The coding is defined in 3GPP TS 36.413 [19]. Values shall be in the range of 1 to 256.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.47\tIDA-Flags",
                            "text_content": "The IDA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meanings of the bits are defined in table 7.3.47/1:\nTable 7.3.47/1: IDA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.47/1: IDA-Flags",
                                    "table number": 46,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.48\tPUA-Flags",
                            "text_content": "The PUA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meanings of the bits are defined in table 7.3.48/1:\nTable 7.3.48/1: PUA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.48/1: PUA-Flags",
                                    "table number": 47,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.49\tNOR-Flags",
                            "text_content": "The NOR-Flags AVP is of type Unsigned32 and it contains a bit mask. The meaning of the bits is defined in table 7.3.49/1:\nTable 7.3.49/1: NOR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.49/1: NOR-Flags",
                                    "table number": 48,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.50\tUser-Id",
                            "text_content": "The User-Id AVP shall be of type UTF8String. It shall contain the leading digits of an IMSI (i.e. MCC, MNC, leading digits of MSIN, see 3GPP TS 23.003 [3], clause 2.2) formatted as a character string. Within a HSS, a User-Id identifies a set of subscribers, each with identical leading IMSI digits.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.51\tEquipment-Status",
                            "text_content": "The Equipment-Status AVP is of type Enumerated, and shall contain the status of the mobile equipment. The following values are defined:\nPERMITTEDLISTED (0)\nPROHIBITEDLISTED (1)\nTRACKINGLISTED (2)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.52\tRegional-Subscription-Zone-Code",
                            "text_content": "The Regional-Subscription-Zone-Code AVP is of type OctetString. It shall contain a Zone Code (ZC) as defined in 3GPP TS 23.003 [3], clause 4.4. Up to 10 Zone Codes per VPLMN can be defined as part of the users's subscription data.\nNOTE 1:\tEach zone code represents a collection of tracking area or routing areas (defined by the operator of the VPLMN) where the user is allowed, or disallowed, to roam. The determination of which areas are actually allowed, and which ones are not allowed, is done by the serving node (MME/SGSN) in an implementation-dependent manner.\nNOTE 2:\tThe description of RSZI in 3GPP TS 23.003 [3] is applicable, in the context of this specification, not only to location areas, but also to routing and tracking areas.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.53\tRAND",
                            "text_content": "The RAND AVP is of type OctetString. This AVP shall contain the RAND. See 3GPP TS 33.401 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.54\tXRES",
                            "text_content": "The XRES AVP is of type OctetString. This AVP shall contain the XRES. See 3GPP TS 33.401 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.55\tAUTN",
                            "text_content": "The AUTN AVP is of type OctetString. This AVP shall contain the AUTN. See 3GPP TS 33.401 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.56\tKASME",
                            "text_content": "The KASME AVP is of type OctetString. This AVP shall contain the K_ASME. See 3GPP TS 33.401 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.57\tConfidentiality-Key AVP",
                            "text_content": "The Confidentiality-Key is of type OctetString, and shall contain the Confidentiality Key (CK).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.58\tIntegrity-Key AVP",
                            "text_content": "The Integrity-Key is of type OctetString, and shall contain the Integrity Key (IK).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.59\tKc AVP",
                            "text_content": "The Kc AVP is of type OctetString, and shall contain the Ciphering Key (Kc).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.60\tSRES",
                            "text_content": "The SRES AVP is of type OctetString. This AVP shall contain the SRES. See 3GPP TS 33.102 [18].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.61\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.62\tPDN-Type",
                            "text_content": "The PDN-Type AVP is of type Enumerated and indicates the address type of the PDN, when it is IP-based.\nNOTE:\tThere are certain PDNs that can be accessed without using IP. These are identified by a specific PDN type indicator in their APN configuration settings (e.g. see clauses 7.3.204 and 7.3.232).\nThe following values are defined:\nIPv4 (0)\nThis value shall be used to indicate that the PDN can be accessed only in IPv4 mode.\nIPv6 (1)\nThis value shall be used to indicate that the PDN can be accessed only in IPv6 mode.\nIPv4v6 (2)\nThis value shall be used to indicate that the PDN can be accessed both in IPv4 mode, in IPv6 mode, and also from UEs supporting dualstack IPv4v6.\nIPv4_OR_IPv6 (3)\nThis value shall be used to indicate that the PDN can be accessed either in IPv4 mode, or in IPv6 mode, but not from UEs supporting dualstack IPv4v6. It should be noted that this value will never be used as a requested PDN Type from the UE, since UEs will only use one of their supported PDN Types, i.e., IPv4 only, IPv6 only or IPv4v6 (dualstack). This value is only used as part of the APN subscription context, as an authorization mechanism between HSS and MME.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.63\tTrace-Data AVP",
                            "text_content": "The Trace-Data AVP is of type Grouped. This AVP shall contain the information related to trace function.\nAVP format\nTrace-Data ::= <AVP header: 1458 10415>\n{Trace-Reference}\n{Trace-Depth}\n{Trace-NE-Type-List}\n[Trace-Interface-List]\n{Trace-Event-List}\n[OMC-Id]\n{Trace-Collection-Entity}\n[MDT-Configuration]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.64\tTrace-Reference AVP",
                            "text_content": "The Trace-Reference AVP is of type OctetString. This AVP shall contain the concatenation of MCC, MNC and Trace ID, where the Trace ID is a 3 byte Octet String. See 3GPP TS 32.422 [23].\nThe content of this AVP shall be encoded as octet strings according to table 7.3.64/1.\nSee 3GPP TS 24.008 [31], clause 10.5.1.13, PLMN list, for the coding of MCC and MNC. If MNC is 2 digits long, bits 5 to 8 of octet 2 are coded as \"1111\".\nTable 7.3.64/1: Encoding format for Trace-Reference AVP\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.64/1: Encoding format for Trace-Reference AVP",
                                    "table number": 49,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.65\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.66\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.67\tTrace-Depth AVP",
                            "text_content": "The Trace-Depth AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Trace Depth.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.68\tTrace-NE-Type-List AVP",
                            "text_content": "The Trace-NE-Type-List AVP is of type OctetString. Octets are coded according to 3GPP TS 32.422 [23].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.69\tTrace-Interface-List AVP",
                            "text_content": "The Trace-Interface-List AVP is of type OctetString. Octets are coded according to 3GPP TS 32.422 [23].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.70\tTrace-Event-List AVP",
                            "text_content": "The Trace-Event-List AVP is of type OctetString. Octets are coded according to 3GPP TS 32.422 [23].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.71\tOMC-Id AVP",
                            "text_content": "The OMC-Id AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.72\tGPRS-Subscription-Data",
                            "text_content": "The GPRS-Subscription-Data AVP is of type Grouped. It shall contain the information related to the user profile relevant for GPRS.\nAVP format:\nGPRS-Subscription-Data ::= <AVP header: 1467 10415>\n{ Complete-Data-List-Included-Indicator }\n1*50{PDP-Context}\n*[AVP]\nNOTE:\tThe max number of PDP-Context AVP aligns with the value of maxNumOfPDP-Contexts as defined in 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.73\tComplete-Data-List-Included-Indicator",
                            "text_content": "The Complete-Data-List-Included-Indicator AVP is of type Enumerated. The following values are defined:\nAll_PDP_CONTEXTS_INCLUDED (0)\nMODIFIED_ADDED_PDP CONTEXTS_INCLUDED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.74\tPDP-Context",
                            "text_content": "The PDP-Context AVP is of type Grouped. For a particular GPRS user having multiple PDP Context configurations, the Service-Selection AVP values may be the same for different PDP-Context AVPs.\nAVP format\nPDP-Context ::= <AVP header: 1469 10415>\n{ Context-Identifier }\n{ PDP-Type }\n[ PDP-Address ]\n{ QoS-Subscribed }\n[ VPLMN-Dynamic-Address-Allowed ]\n{ Service-Selection }\n[3GPP-Charging-Characteristics]\n[ Ext-PDP-Type ]\n[ Ext-PDP-Address ]\n[ AMBR ]\n[ APN-OI-Replacement ]\n[ SIPTO-Permission ]\n[ LIPA-Permission ]\n[ Restoration-Priority ]\n[ SIPTO-Local-Network-Permission ]\n[ Non-IP-Data-Delivery-Mechanism ]\n[ SCEF-ID ]\n*[AVP]\nThe Ext-PDP-Address AVP may be present only if the PDP-Address AVP is present. If the Ext-PDP-Address AVP is present, then it shall not contain the same address type (IPv4 or IPv6) as the PDP-Address AVP.\nWhen PDP-Type takes the value Non-IP (HEX 02), the Ext-PDP-Type AVP shall be absent.\nThe AMBR included in this grouped AVP shall include the AMBR associated to the APN included in the PDP-Context AVP (APN-AMBR).\nThe APN-OI-Replacement included in this grouped AVP shall include the APN-OI-Replacement associated to the APN included in the PDP-Context. This APN-OI-Replacement has higher priority than UE level APN-OI-Replacement.\nThe Non-IP-Data-Delivery-Mechanism shall only be present when PDP-Type takes the value Non-IP (HEX 02).\nThe SCEF-ID shall only be present when Non-IP-Data-Delivery-Mechanism takes the value SCEF-BASED-DATA-DELIVERY (1).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.75\tPDP-Type",
                            "text_content": "The PDP-Type AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24]. The allowed values are one of IPv4 encoded as HEX (21) or IPv6 encoded as HEX (57) or Non-IP encoded as HEX (02).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.75A\tExt-PDP-Type",
                            "text_content": "The Ext-PDP-Type AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24] and 3GPP TS 29.060 [39] and shall contain the value of IPv4v6.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.76\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.77\tQoS-Subscribed",
                            "text_content": "The QoS-Subscribed AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24] (octets of QoS-Subscribed, Ext-QoS-Subscribed, Ext2-QoS-Subscribed, Ext3-QoS-Subscribed and Ext4-QoS-Subscribed values are concatenated).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.78\tCSG-Subscription-Data",
                            "text_content": "The CSG-Subscription-Data AVP is of type Grouped. This AVP shall contain the CSG-Id, and may contain the associated Visited-PLMN-Id, an associated expiration date and the APNs which are allowed to be accessed via Local IP Access from the CSG.\nIf the Visited-PLMN-Id is not present, the CSG-Subscription-Data corresponds to the registered PLMN (i.e. the visited PLMN) of the MME or the SGSN.\nAVP format\nCSG-Subscription-Data ::= <AVP header: 1436 10415>\n{ CSG-Id }\n[ Expiration-Date ]\n*[ Service-Selection ]\n[ Visited-PLMN-Id ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.79\tCSG-Id",
                            "text_content": "The CSG-Id AVP is of type Unsigned32. Values are coded according to 3GPP TS 23.003 [3]. Unused bits (least significant) shall be padded with zeros.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.80\tExpiration-Date",
                            "text_content": "The Expiration-Date AVP is of type Time (see IETF RFC 6733 [61]) and contains the point in time when subscription to the CSG-Id expires.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.81\tRoaming-Restricted-Due-To-Unsupported-Feature",
                            "text_content": "The Roaming-Restricted-Due-To-Unsupported-Feature AVP is of type Enumerated and indicates that roaming is restricted due to unsupported feature. The following value is defined:\nRoaming-Restricted-Due-To-Unsupported-Feature (0)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.82\tSpecific-APN-Info AVP",
                            "text_content": "The Specific-APN-Info AVP is of type Grouped. It shall only be present in the APN configuration when the APN is a wild card APN. It shall contain the APN which is not present in the subscription context but the UE is authorized to connect to and the identity of the registered PDN-GW.\nThe AVP format shall conform to:\nSpecific-APN-Info ::= <AVP header: 1472 10415>\n{ Service-Selection }\n{ MIP6-Agent-Info }\n[ Visited-Network-Identifier ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.83\tAlert-Reason AVP",
                            "text_content": "The Alert-Reason AVP is of type Enumerated. The following values are defined:\nUE_PRESENT (0)\nUE_MEMORY_AVAILABLE (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.84\tLCS-Info",
                            "text_content": "The LCS-Info AVP is of type Grouped. This AVP shall contain the following LCS related information for a subscriber:\n-\tlist of GMLCs in the HPLMN that are permitted to issue a call/session unrelated or call/session related MT-LR location request for this UE;\n-\tprivacy exception list that is applicable only over the S6d interface;\n-\tMO-LR list.\nAVP format\nLCS-Info ::= <AVP header: 1473 10415>\n*[ GMLC-Number]\n*[ LCS-PrivacyException ]\n*[ MO-LR ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.85\tGMLC-Number",
                            "text_content": "The GMLC-Number AVP is of type OctetString. This AVP shall contain the ISDN number of the GMLC in international number format as described in ITU-T Rec E.164 [41] and shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.86\tLCS-PrivacyException",
                            "text_content": "The LCS-PrivacyException AVP is of type Grouped. This AVP shall contain the classes of LCS Client that are allowed to locate any target UE.\nAVP format\nLCS-PrivacyException ::= <AVP header: 1475 10415>\n{ SS-Code }\n{ SS-Status }\n[ Notification-To-UE-User ]\n*[ External-Client ]\n*[ PLMN-Client ]\n*[ Service-Type ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.87\tSS-Code",
                            "text_content": "The SS-Code AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.88\tSS-Status",
                            "text_content": "The SS-Status AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24]. For details, see 3GPP TS 23.011 [29].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.89\tNotification-To-UE-User",
                            "text_content": "The Notification- To-UE-User AVP is of type Enumerated. The following values are defined:\nNOTIFY_LOCATION_ALLOWED (0)\nNOTIFYANDVERIFY_LOCATION_ALLOWED_IF_NO_RESPONSE (1)\nNOTIFYANDVERIFY_LOCATION_NOT_ALLOWED_IF_NO_RESPONSE (2)\nLOCATION_NOT_ALLOWED (3)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.90\tExternal-Client",
                            "text_content": "The External-Client AVP is of type Grouped. This AVP shall contain the identities of the external clients that are allowed to locate a target UE for a MT-LR.\nAVP format\nExternal-Client ::= <AVP header: 1479 10415>\n{ Client-Identity }\n[ GMLC-Restriction ]\n[ Notification-To-UE-User ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.91\tClient-Identity",
                            "text_content": "The Client-Identity AVP is of type OctetString and it shall contain the ISDN number of the external client in international number format as described in ITU-T Rec E.164 [41] and shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.92\tGMLC-Restriction",
                            "text_content": "The GMLC-Restriction AVP is of type Enumerated. The following values are defined:\nGMLC_LIST (0)\nHOME_COUNTRY (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.93\tPLMN-Client",
                            "text_content": "The PLMN-Client AVP is of type Enumerated. The following values are defined:\nBROADCAST_SERVICE (0)\nO_AND_M_HPLMN (1)\nO_AND_M_VPLMN (2)\nANONYMOUS_LOCATION (3)\nTARGET_UE_SUBSCRIBED_SERVICE (4)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.94\tService-Type",
                            "text_content": "The Service-Type AVP is of type Grouped. This AVP shall contain the identities of the service type of the clients that are allowed to locate a target UE for an MT-LR.\nAVP format\nService-Type ::= <AVP header: 1483 10415>\n{ ServiceTypeIdentity }\n[ GMLC-Restriction ]\n[ Notification-To-UE-User ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.95\tServiceTypeIdentity",
                            "text_content": "The ServiceTypeIdentity AVP is of type Unsigned32. For details on the values of this AVP, see 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.96\tMO-LR",
                            "text_content": "The MO-LR AVP is of type Grouped. This AVP shall contain the classes of MO-LR for which a subscription exists for a particular UE.\nAVP format\nMO-LR ::= <AVP header: 1485 10415>\n{ SS-Code }\n{ SS-Status }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.97\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.98\tTrace-Collection-Entity AVP",
                            "text_content": "The Trace-Collection-Entity AVP is of type Address and contains the IPv4 or IPv6 address of the Trace Collection Entity, as defined in 3GPP TS 32.422 [23], clause 5.9.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.99\tTeleservice-List",
                            "text_content": "The Teleservice-List AVP is of type Grouped. This AVP shall contain the service codes for the short message related teleservice for a subscriber:\nAVP format\nTeleservice-List ::= <AVP header: 1486 10415>\n1 * { TS-Code }* [ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.100\tTS-Code",
                            "text_content": "The TS-Code AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.101\tCall-Barring-Info",
                            "text_content": "The Call-Barring-Info AVP is of type Grouped. This AVP shall contain the service codes for the short message related call barring services for a subscriber:\nAVP format\nCall-Barring-Info ::= <AVP header: 1488 10415>\n{ SS-Code }\n{ SS-Status }\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.102\tSGSN-Number",
                            "text_content": "The SGSN-Number AVP is of type OctetString and it shall contain the ISDN number of the SGSN. For further details on the definition of this AVP, see 3GPP TS 23.003 [3]. This AVP contains an SGSN-Number in international number format as described in ITU-T Rec E.164 [41] and shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.103\tIDR-Flags",
                            "text_content": "The IDR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.103/1:\nTable 7.3.103/1: IDR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.103/1: IDR-Flags",
                                    "table number": 50,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.104\tICS-Indicator",
                            "text_content": "The ICS-Indicator AVP is of type Enumerated. The meaning of the values is defined in 3GPP TS 23.292 [34] and 3GPP TS 23.216 [35]. The following values are defined:\nFALSE (0)\nTRUE (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.105\tVisited-Network-Identifier",
                            "text_content": "The Visited-Network-Identifier AVP contains the identity of the network where the PDN-GW was allocated, in the case of dynamic PDN-GW assignment.\nThe AVP shall be encoded as:\nmnc<MNC>.mcc<MCC>.3gppnetwork.org\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.106\tIMS-Voice-Over-PS-Sessions-Supported",
                            "text_content": "The IMS-Voice-Over-PS-Sessions-Supported AVP is of type Enumerated. The following values are defined:\nNOT_SUPPORTED (0)\nThis value indicates that \"IMS Voice over PS Sessions\" is not supported by the UE's most recently used TA or RA in the serving node.\nSUPPORTED (1)\nThis value indicates that \"IMS Voice over PS Sessions\" is supported by the UE's most recently used TA or RA in the serving node.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.107\tHomogeneous-Support-of-IMS-Voice-Over-PS-Sessions",
                            "text_content": "The Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions AVP is of type Enumerated. The following values are defined:\nNOT_SUPPORTED (0)\nThis value indicates that \"IMS Voice over PS Sessions\" is not supported, homogeneously, in any of the TAs or RAs associated to the serving node for the served subscribers including consideration on roaming relationship for IMS Voice over PS.\nSUPPORTED (1)\nThis value indicates that \"IMS Voice over PS Sessions\" is supported, homogeneously, in all of the TAs or RAs associated to the serving node for the served subscriber including consideration on roaming relationship for IMS Voice over PS.\nIf this AVP is not present in the command, it indicates that there is no homogeneous support of IMS Voice Over PS Sessions on all the TA/RAs of the serving node, or that the homogeneity of this support is unknown to the serving node.\nNOTE:\tIn order to ensure the T-ADS by HPLMN, MME or SGSN is expected to either set \"Homogenous Support of IMS Voice over PS Sessions\" AVP to \"NOT_SUPPORTED (0)\", or not to set this AVP for inbound roaming subscribers if there is no IMS Voice over PS roaming relationship with the HPLMN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.108\tLast-UE-Activity-Time",
                            "text_content": "The Last-UE-Activity-Time AVP is of type Time (see IETF RFC 6733 [61]), and contains the point of time of the last radio contact of the serving node (MME or SGSN) with the UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.109\tGMLC-Address",
                            "text_content": "The GMLC-Address AVP is of type Address and shall contain the IPv4 or IPv6 address of the V-GMLC associated with the serving node.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.110\tEPS-User-State",
                            "text_content": "The EPS-User-State AVP is of type Grouped. It shall contain the information related to the user state in the MME and/or the SGSN.\nAVP format\nEPS-User-State ::= <AVP header:1495 10415>\n[MME-User-State]\n[SGSN-User-State]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.111\tEPS-Location-Information",
                            "text_content": "The EPS-Location Information AVP is of type Grouped. It shall contain the information related to the user location relevant for EPS.\nAVP format\nEPS-Location-Information ::= <AVP header: 1496 10415>\n[MME-Location-Information]\n[SGSN-Location-Information]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.112\tMME-User-State",
                            "text_content": "The MME-User-State AVP is of type Grouped. It shall contain the information related to the user state in the MME.\nAVP format\nMME-User-State ::= <AVP header: 1497 10415>\n[User-State]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.113\tSGSN-User-State",
                            "text_content": "The SGSN-User-State AVP is of type Grouped. It shall contain the information related to the user state in the SGSN.\nAVP format\nSGSN-User-State ::= <AVP header: 1498 10415>\n[User-State]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.114\tUser-State",
                            "text_content": "The User-State AVP is of type Enumerated and indicates the user state in EPS. The following values are defined:\nDETACHED (0)\nThe UE is in EMM_DEREGISTERED state.\nATTACHED_NOT_REACHABLE_FOR_PAGING (1)\nThe SGSN has determined from its internal data that the UE is attached to the network, but there is no EPS bearer active, and the UE is not reachable for paging. This value is only applicable to S4-SGSN.\nATTACHED_REACHABLE_FOR_PAGING (2)\nThe SGSN has determined from its internal data that the UE is attached to the network, but there is no EPS bearer active; the SGSN has not determined from its internal data that the UE is not reachable for paging. This value is only applicable to S4-SGSN.\nCONNECTED_NOT_REACHABLE_FOR_PAGING (3)\nThe SGSN or MME has determined from its internal data that the UE is attached to the network, there is at least one EPS bearer active, and the UE is not reachable for paging.\nCONNECTED_REACHABLE_FOR_PAGING (4)\nThe SGSN or MME has determined from its internal data that the UE is attached to the network, there is at least one EPS bearer active, and the SGSN or MME has not determined from its internal data that the UE is not reachable for paging.\nRESERVED (5)\nThis value should not be used by MME or SGSN over S6a/S6d. If this value is received by the HSS from pre-rel-12 MME/SGSNs, the HSS shall consider that the UE is not reachable and use the \"Network determined not reachable\" state when reporting the User State to other network entities, e.g. over Sh.\nNOTE:\tThe state associated to a \"Network determined not reachable\" condition should also be used by HSS when reporting to the requesting entity, e.g. over Sh, that the user was found to be not reachable (for instance, if the HSS receives no answer from the MME/SGSN to the user state query).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.115\tMME-Location-Information",
                            "text_content": "The MME-Location-Information AVP is of type Grouped. It shall contain the information related to the user location relevant for the MME.\nAVP format\nMME-Location-Information ::= <AVP header: 1600 10415>\n[E-UTRAN-Cell-Global-Identity]\n[Tracking-Area-Identity]\n[Geographical-Information]\n[Geodetic-Information]\n[Current-Location-Retrieved]\n[Age-Of-Location-Information]\n[User-CSG-Information]\n[ eNodeB-ID ]\n[ Extended-eNodeB-ID ]\n*[AVP]\nAn eNodeB-ID AVP may be present for Monitoring event reporting.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.116\tSGSN-Location-Information",
                            "text_content": "The SGSN-Location-Information AVP is of type Grouped. It shall contain the information related to the user location relevant for the SGSN.\nAVP format\nSGSN-Location-Information ::= <AVP header: 1601 10415>\n[Cell-Global-Identity]\n[Location-Area-Identity]\n[Service-Area-Identity]\n[Routing-Area-Identity]\n[Geographical-Information]\n[Geodetic-Information]\n[Current-Location-Retrieved]\n[Age-Of-Location-Information]\n[ User-CSG-Information]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.117\tE-UTRAN-Cell-Global-Identity",
                            "text_content": "The E-UTRAN-Cell-Global-Identity AVP is of type OctetString and shall contain the E-UTRAN Cell Global Identification of the user which identifies the cell the user equipment is registered, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.118\tTracking-Area-Identity",
                            "text_content": "The Tracking-Area-Identity AVP is of type OctetString and shall contain the Tracking Area Identity of the user which identifies the tracking area where the user is located, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.119\tCell-Global-Identity",
                            "text_content": "The Cell-Global-Identity AVP is of type OctetString and shall contain the Cell Global Identification of the user which identifies the cell the user equipment is registered, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.120\tRouting-Area-Identity",
                            "text_content": "The Routing-Area-Identity AVP is of type OctetString and shall contain the Routing Area Identity of the user which identifies the routing area where the user is located, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.121\tLocation-Area-Identity",
                            "text_content": "The Location-Area-Identity AVP is of type OctetString and shall contain the Location Area Identification of the user which identifies the Location area where the user is located, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.122\tService-Area-Identity",
                            "text_content": "The Service-Area-Identity AVP is of type OctetString and shall contain the Service Area Identifier of the user where the user is located, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.123\tGeographical-Information",
                            "text_content": "The Geographical-Information AVP is of type OctetString and shall contain the geographical Information of the user. For details and octet encoding, see 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.124\tGeodetic-Information",
                            "text_content": "The Geodetic-Information AVP is of type OctetString and shall contain the Geodetic Location of the user. For details and octet encoding, see 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.125\tCurrent-Location-Retrieved",
                            "text_content": "The Current-Location-Retrieved AVP is of type Enumerated. The following values are defined:\nACTIVE-LOCATION-RETRIEVAL (0)\nThis value is used when location information was obtained after a successful paging procedure for Active Location Retrieval when the UE is in idle mode or after retrieving the most up-to-date location information from the eNB when the UE is in connected mode.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.126\tAge-Of-Location-Information",
                            "text_content": "The Age-Of-Location-Information AVP is of type Unsigned32 and shall contain the the elapsed time in minutes since the last network contact of the user equipment. For details, see 3GPP TS 29.002 [24].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.127\tActive-APN",
                            "text_content": "The Active-APNs AVP is of type Grouped. It shall contain information about a dynamically established APN on a serving node, so the HSS can restore it, if it is eventually lost after a node restart.\nThe AVP format shall conform to:\nActive-APN ::= <AVP header: 1612 10415>\n{ Context-Identifier }\n[ Service-Selection ]\n[ MIP6-Agent-Info ]\n[ Visited-Network-Identifier ]\n*[ Specific-APN-Info ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.128\tError-Diagnostic",
                            "text_content": "The Error-Diagnostic AVP is of type Enumerated. The following values are defined:\n-\tGPRS_DATA_SUBSCRIBED (0)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION and there is GPRS Subscription Data for the user.\n-\tNO_GPRS_DATA_SUBSCRIBED (1)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION and there is not GPRS Subscription Data for the user.\n-\tODB_ALL_APN (2)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_ROAMING_NOT_ALLOWED and the Operator Determined Barring indicates \"All Packet Oriented Services Barred\" (see clause 7.3.30).\n-\tODB_HPLMN_APN (3)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_ROAMING_NOT_ALLOWED and the Operator Determined Barring indicates \"Roamer Access HPLMN-AP Barred\" (see clause 7.3.30).\n-\tODB_VPLMN_APN (4)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_ROAMING_NOT_ALLOWED and the Operator Determined Barring indicates \"Roamer Access to VPLMN-AP Barred\" (see clause 7.3.30).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.129\tExt-PDP-Address AVP",
                            "text_content": "The Ext-PDP-Address AVP  is of type Address and indicates an additional address of the data protocol, and it may be included when the PDP supports dual-stack (IPv4v6).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.130\tUE-SRVCC-Capability",
                            "text_content": "The UE-SRVCC-Capability AVP is of type Enumerated. It shall indicate if the UE supports or does not support the SRVCC capability. The following values are defined:\nUE-SRVCC-NOT-SUPPORTED (0)\nUE-SRVCC-SUPPORTED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.131\tMPS-Priority",
                            "text_content": "The MPS-Priority AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.131/1:\nTable 7.3.131/1: MPS-Priority\n\nNOTE:\tThe HSS derives the information for MPS-CS-Priority from the eMLPP Subscription Data as defined in the 3GPP TS 29.002 [24] or 1x RTT priority service which is out of the scope of 3GPP.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.131/1: MPS-Priority",
                                    "table number": 51,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.132\tVPLMN-LIPA-Allowed",
                            "text_content": "The VPLMN-LIPA-Allowed AVP is of type Enumerated. It shall indicate whether the UE is allowed to use LIPA in the VPLMN where the UE is roaming. The following values are defined:\nLIPA_NOTALLOWED (0)\nThis value indicates that the UE is not allowed to use LIPA in the VPLMN where the UE is roaming.\nLIPA_ALLOWED (1)\nThis value indicates that the UE is allowed to use LIPA in the VPLMN where the UE is roaming.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.133\tLIPA-Permission",
                            "text_content": "The LIPA-Permission AVP is of type Enumerated. It shall indicate whether the APN can be accessed via Local IP Access. The following values are defined:\nLIPA_PROHIBITED (0)\nThis value indicates that this APN is prohibited to be accessed via LIPA.\nLIPA_ONLY (1)\nThis value indicates that this APN can be accessed only via LIPA.\nLIPA_CONDITIONAL (2)\nThis value indicates that this APN can be accessed via both non LIPA and LIPA.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.134\tSubscribed-Periodic-RAU-TAU-Timer",
                            "text_content": "The Subscribed-Periodic-RAU-TAU-Timer AVP is of type Unsigned32 and it shall contain the subscribed periodic RAU/TAU timer value in seconds as specified in 3GPP TS 24.008 [31].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.135\tSIPTO-Permission",
                            "text_content": "The SIPTO-Permission AVP is of type Enumerated. It shall indicate whether the traffic associated with this particular APN is allowed or not for SIPTO above RAN.\nThe following values are defined:\nSIPTO_above_RAN _ALLOWED (0)\nSIPTO_above_RAN _NOTALLOWED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.136\tMDT-Configuration",
                            "text_content": "The MDT-Configuration AVP is of type Grouped. It shall contain MDT related information as specified in 3GPP TS 32.422 [23].\nThe AVP format shall conform to:\nMDT-Configuration ::= <AVP header: 1622 10415>\n{ Job-Type }\n[ Area-Scope ]\n[ List-Of-Measurements ]\n[ Reporting-Trigger ]\n[ Report-Interval ]\n[ Report-Amount ]\n[ Event-Threshold-RSRP ]\n[ Event-Threshold-RSRQ ]\n[ Logging-Interval ]\n[ Logging-Duration ]\n[ Measurement-Period-LTE ]\n[ Measurement-Period-UMTS ]\n[ Collection-Period- RRM-LTE ]\n[ Collection-Period-RRM-UMTS ]\n[ Positioning-Method ]\n[ Measurement-Quantity]\n[ Event-Threshold-Event-1F ]\n[ Event-Threshold-Event-1I ]\n*[ MDT-Allowed-PLMN-Id ]\n*[ MBSFN-Area ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.137\tJob-Type",
                            "text_content": "The Job-Type AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Job-Type.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.138\tArea-Scope",
                            "text_content": "The Area-Scope AVP is of type Grouped. See 3GPP TS 32.422 [23].\nThe AVP format shall conform to:\nArea-Scope ::= <AVP header: 1623 10415>\n*[ Cell-Global-Identity ]\n*[ E-UTRAN-Cell-Global-Identity ]\n*[ Routing-Area-Identity ]\n*[ Location-Area-Identity ]\n*[ Tracking-Area-Identity ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.139\tList-Of-Measurements",
                            "text_content": "The List-Of-Measurements AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in 3GPP TS 32.422 [23]. The most significant bit is bit 8 of the first octet.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.140\tReporting-Trigger",
                            "text_content": "The Reporting-Trigger AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in 3GPP TS 32.422 [23].  The most significant bit is bit 8 of the first octet.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.141\tReport-Interval",
                            "text_content": "The Report-Interval AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Report Interval\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.142\tReport-Amount",
                            "text_content": "The Report-Amount AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Report Amount.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.143\tEvent-Threshold-RSRP",
                            "text_content": "The Event-Threshold-RSRP AVP is of type Unsigned32. See 3GPP TS 32.422 [23] for allowed values\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.144\tEvent-Threshold-RSRQ",
                            "text_content": "The Event-Threshold-RSRQ AVP is of type Unsigned32. See 3GPP TS 32.422 [23] for allowed values\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.145\tLogging-Interval",
                            "text_content": "The Logging-Interval AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Logging Interval\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.146\tLogging-Duration",
                            "text_content": "The Logging-Duration AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Logging Duration\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.147\tRelay-Node-Indicator",
                            "text_content": "The Relay-Node-Indicator AVP is of type Enumerated. It shall indicate whether the subscription data belongs to a Relay Node or not (see 3GPP TS 36.300 [40]). The following values are defined:\nNOT_RELAY_NODE (0)\nThis value indicates that the subscription data does not belong to a Relay Node.\nRELAY_NODE (1)\nThis value indicates that the subscription data belongs to a Relay Node.\nThe default value when this AVP is not present is NOT_RELAY_NODE (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.148\tMDT-User-Consent",
                            "text_content": "The MDT-User-Consent AVP is of type Enumerated. It shall indicate whether the user has given his consent for MDT activation or not (see 3GPP TS 32.422 [23]). The following values are defined:\nCONSENT_NOT_GIVEN (0)\nCONSENT_GIVEN (1)\nThe default value when this AVP is not present in ULA is CONSENT_NOT_GIVEN (0). Absence of this AVP in IDR shall be interpreted as the MDT-User-Consent has not been modified.\nThe presence of this subscription parameter in ULA or IDR shall be independent of the support of the Trace Function by the MME/SGSN (see clause 7.3.10).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.149\tPUR-Flags",
                            "text_content": "The PUR-Flags AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.149/1:\nTable 7.3.149/1: PUR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.149/1: PUR-Flags",
                                    "table number": 52,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.150\tSubscribed-VSRVCC",
                            "text_content": "The Subscribed-VSRVCC AVP is of type Enumerated. It shall indicate that the user is subscribed to the vSRVCC. The following value is defined:\nVSRVCC_SUBSCRIBED (0)\nAbsence of this AVP in IDR shall be interpreted as the Subscribed-VSRVCC has not been modified.\nAbsence of this AVP in ULA shall be interpreted as the user is not subscribed to the vSRVCC.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.151\tEquivalent-PLMN-List",
                            "text_content": "The Equivalent-PLMN-List AVP is of type Grouped. This AVP shall contain the equivalent PLMN IDs of the registered PLMN (i.e. the visited PLMN) of the MME or the SGSN.\nAVP format\nEquivalent-PLMN-List ::= <AVP header: 1637 10415>\n1*{ Visited-PLMN-Id }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.152\tCLR-Flags",
                            "text_content": "The CLR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.152/1:\nTable 7.3.152/1: CLR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.152/1: CLR-Flags",
                                    "table number": 53,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.153\tUVR-Flags",
                            "text_content": "The UVR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.154/1:\nTable 7.3.154/1: UVR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.154/1: UVR-Flags",
                                    "table number": 54,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.154\tUVA-Flags",
                            "text_content": "The UVA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.156/1:\nTable 7.3.156/1: UVA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.156/1: UVA-Flags",
                                    "table number": 55,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.155\tVPLMN-CSG-Subscription-Data",
                            "text_content": "The VPLMN-CSG-Subscription-Data AVP is of type Grouped. This AVP shall contain the CSG-Id, and optionally an associated expiration date.\nAVP format\nVPLMN-CSG-Subscription-Data ::= <AVP header: 1641 10415>\n{ CSG-Id }\n[ Expiration-Date ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.156\tLocal-Time-Zone",
                            "text_content": "The Local-Time-Zone AVP is of type Grouped and shall contain the Time Zone and the Daylight Saving Time (DST) adjustment of the location in the visited network where the UE is attached.\nThe AVP format shall conform to:\nLocal-Time-Zone ::= <AVP header: 1649 10415>\n{ Time-Zone }\n{ Daylight-Saving-Time }\n* [ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.157\tA-MSISDN",
                            "text_content": "The A-MSISDN AVP is of type OctetString. See 3GPP TS 23.003 [3] for the definition of the Additional MSISDN. This AVP contains an A-MSISDN, in international number format as described in ITU-T Rec E.164 [41], encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.\nThis AVP may be present in the Subscription-Data AVP when sent within ULA.\nIt may also be present in the Subscription-Data AVP, sent within an IDR, if the current value in the MME or SGSN needs to be changed.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.158\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.159\tMME-Number-for-MT-SMS",
                            "text_content": "The MME-Number-for-MT-SMS AVP is of type OctetString and it shall contain the ISDN number corresponding to the MME for MT SMS. For further details on the definition of this AVP, see 3GPP TS 23.003 [3]. This AVP contains an international number with the format as described in ITU-T Rec E.164 [41] and shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings.\tThis AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.160\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.161\tVoid",
                            "text_content": "",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.162\tSMS-Register-Request",
                            "text_content": "The SMS-Register-Request AVP is of type Enumerated and it shall indicate whether the MME or the SGSN requires to be registered for SMS (e.g. SGs interface not supported) or if the MME or the SGSN prefers not to be registered for SMS or if the MME or the SGSN has no preference.\nThe following values are defined:\nSMS_REGISTRATION_REQUIRED (0)\nSMS_REGISTRATION_NOT_PREFERRED (1)\nNO_PREFERENCE (2)\nThe criteria for setting these values are defined in 3GPP TS 23.272 [44] and 3GPP TS 23.060 [12].\nWhen the MME/SGSN includes the SMS-Register-Request AVP in ULR in order to modify its registration status for SMS, the MME/SGSN shall not set the \"Skip Subscriber Data\" flag within the ULR-Flags AVP.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.163\tTime-Zone",
                            "text_content": "The Time-Zone AVP is of type UTF8String and shall contain the time zone of the location in the visited network where the UE is attached.\nIt contains the offset from UTC (Coordinated Universal Time) in units of 15 minutes, as defined in 3GPP TS 22.042 [42]. It shall be expressed as positive (i.e. with the leading plus sign [+]) if the local time is ahead of or equal to UTC of day and as negative (i.e. with the leading minus sign [-]) if it is behind UTC of day.\nThe value contained in the Time-Zone AVP shall take into account daylight saving time, such that when the sending entity changes from regular (winter) time to daylight saving (summer) time, there is a change to the value in the Time-Zone AVP.\nThe contents of the Time-Zone AVP shall be formatted as a character string with the following format:\nBasic format: ±n, with \"n\" being the number of units of 15 minutes from UTC.\nFor example, if the offset is +2h=+8x15mn, the value of the Time-Zone AVP will be: \"+8\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.164\tDaylight-Saving-Time",
                            "text_content": "The Daylight-Saving-Time AVP is of type Enumerated and shall contain the Daylight Saving Time (in steps of 1 hour) used to adjust for summertime the time zone of the location where the UE is attached in the visited network.\nThe following values are defined:\nNO_ADJUSTMENT (0)\nPLUS_ONE_HOUR_ADJUSTMENT (1)\nPLUS_TWO_HOURS_ADJUSTMENT (2)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.165\tSubscription-Data-Flags",
                            "text_content": "The Subscription-Data-Flags is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.165/1:\nTable 7.3.165/1: Subscription-Data-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.165/1: Subscription-Data-Flags",
                                    "table number": 56,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.166\tMeasurement-Period-LTE",
                            "text_content": "The Measurement-Period-LTE AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Measurement period LTE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.167\tMeasurement-Period-UMTS",
                            "text_content": "The Measurement-Period-UMTS AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Measurement period UMTS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.168\tCollection-Period-RRM-LTE",
                            "text_content": "The Collection-Period-RRM-LTE AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Collection period for RRM measurements LTE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.169\tCollection-Period-RRM-UMTS",
                            "text_content": "The Collection-Period-RRM-UMTS AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Collection period for RRM measurements UMTS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.170\tPositioning-Method",
                            "text_content": "The Positioning-Method AVP is of type OctetString. It contains one octet carrying a bit map of 8 bits. The possible values are those defined in 3GPP TS 32.422 [23] for Positioning Method.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.171\tMeasurement-Quantity",
                            "text_content": "The Measurement-Quantity AVP is of type OctetString. It contains one octet carrying a bit map of 8 bits. The possible values are those defined in 3GPP TS 32.422 [23] for Measurement quantity.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.172\tEvent-Threshold-Event-1F",
                            "text_content": "The Event-Threshold-Event-1F AVP is of type Integer32. See 3GPP TS 32.422 [23] for allowed values.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.173\tEvent-Threshold-Event-1I",
                            "text_content": "The Event-Threshold-Event-1I AVP is of type Integer32. See 3GPP TS 32.422 [23] for allowed values\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.174\tRestoration-Priority",
                            "text_content": "The Restoration-Priority AVP is of type Unsigned32. It shall indicate the relative priority of a user's PDN connection among PDN connections to the same APN when restoring PDN connections affected by an SGW or PGW failure/restart (see 3GPP TS 23.007 [43]).\nValues 1 to 16 are defined, with value 1 as the highest level of priority.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.175\tSGs-MME-Identity",
                            "text_content": "The SGs-MME-Identity AVP is of type UTF8String. This AVP shall contain the MME identity used over the SGs interface and specified in 3GPP TS 23.003 [3] clause 19.4.2.4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.176\tSIPTO-Local-Network-Permission",
                            "text_content": "The SIPTO-Local-Network-Permission AVP is of type Unsigned32. It shall indicate whether the traffic associated with this particular APN is allowed or not for SIPTO at the local network.\nThe following values are defined:\n\"SIPTO at Local Network ALLOWED\"\t0\n\"SIPTO at Local Network NOTALLOWED\"\t1\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.177\tCoupled-Node-Diameter-ID",
                            "text_content": "The Coupled-Node-Diameter-ID AVP is of type DiameterIdentity. This AVP shall contain the S6a or S6d Diameter identity of the coupled node as specified in 3GPP TS 23.003 [3] clause 19.4.2.4 and clause 19.4.2.6.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.178\tOC-Supported-Features",
                            "text_content": "The OC-Supported-Features AVP is of type Grouped and it is defined in IETF RFC 7683 [50]. This AVP is used to support Diameter overload control mechanism, see Annex C for more information.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.179\tOC-OLR",
                            "text_content": "The OC-OLR AVP is of type Grouped and it is defined in IETF RFC 7683 [50]. This AVP is used to support Diameter overload control mechanism, see Annex C for more information.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.180\tProSe-Subscription-Data",
                            "text_content": "The ProSe-Subscription-Data AVP is of type Grouped. It shall contain the ProSe related subscription data. It was originally defined in 3GPP TS 29.344 [49].\nAVP format\nProSe-Subscription-Data ::= <AVP header: 3701 10415>\n{ ProSe-Permission }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.181\tWLAN-offloadability",
                            "text_content": "The WLAN-offloadability AVP is of type Grouped. This AVP contains WLAN offloadability for E-UTRAN or UTRAN.\nAVP format:\nWLAN-offloadability ::= <AVP header: 1667>\n[ WLAN-offloadability-EUTRAN ]\n[ WLAN-offloadability-UTRAN ]\n*[ AVP ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.182\tWLAN-offloadability-EUTRAN",
                            "text_content": "The WLAN-offloadability-EUTRAN AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.182/1:\nTable 7.3.182/1: WLAN-offloadability-EUTRAN\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.182/1: WLAN-offloadability-EUTRAN",
                                    "table number": 57,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.183\tWLAN-offloadability-UTRAN",
                            "text_content": "The WLAN-offloadability-UTRAN AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.183/1:\nTable 7.3.183/1: WLAN-offloadability-UTRAN\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.183/1: WLAN-offloadability-UTRAN",
                                    "table number": 58,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.184\tReset-ID",
                            "text_content": "The Reset-ID is of type OctetString. The value shall uniquely (within the HSS's realm) identify a resource in the HSS that may fail or has restarted.\nIn the Reset procedure, when used to add/modify/delete subscription data shared by multiple subscribers, the Reset-ID is used to identify the set of affected subscribers.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.185\tMDT-Allowed-PLMN-Id",
                            "text_content": "The MDT-Allowed-PLMN-Id AVP is of type OctetString. This AVP shall contain the concatenation of MCC and MNC. See 3GPP TS 23.003 [3]. The content of this AVP shall be encoded as an octet string according to table 7.3.185/1.\nThis AVP identifies the PLMN in which the MDT data collection shall take place.\nSee 3GPP TS 24.008 [31], clause 10.5.1.13, PLMN list, for the coding of MCC and MNC. If MNC is 2 digits long, bits 5 to 8 of octet 2 are coded as \"1111\".\nTable 7.3.185/1: Encoding format for MDT-Allowed-PLMN-Id AVP\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.185/1: Encoding format for MDT-Allowed-PLMN-Id AVP",
                                    "table number": 59,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.186\tAdjacent-PLMNs",
                            "text_content": "The Adjacent-PLMNs AVP is of type Grouped. This AVP shall contain a list of PLMN IDs where an UE served by the MME/SGSN is likely to make a handover from the PLMN where the MME/SGSN is located.\nAVP format:\nAdjacent-PLMNs ::= <AVP header: 1672 10415>\n1*{ Visited-PLMN-Id }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.187\tAdjacent-Access-Restriction-Data",
                            "text_content": "The Adjacent-Access-Restriction-Data AVP is of type Grouped. This AVP shall contain a pair of PLMN ID and the associated Access Restriction Data for that PLMN.\nAVP format:\nAdjacent-Access-Restriction-Data ::= <AVP header: 1673 10415>\n{ Visited-PLMN-Id }\n{ Access-Restriction-Data }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.188\tDL-Buffering-Suggested-Packet-Count",
                            "text_content": "The DL-Buffering-Suggested-Packet-Count AVP is of type Integer32. It shall indicate whether extended buffering of downlink packets at the SGW, for High Latency Communication, is requested or not. When requested, it may also suggest the number of downlink packets to buffer at the SGW for this user.\nThe following values are defined:\n\"Extended DL Data Buffering NOT REQUESTED\"\t0\n\"Extended DL Data Buffering REQUESTED, without a suggested number of packets\"\t-1\n\"Extended DL Data Buffering REQUESTED, with a suggested number of packets\"\t> 0\n\"Extended DL Data Buffering REQUESTED\", with or without a suggested number of packets to be buffered for this user, indicates that extended buffering of downlink packets at the SGW is applicable to this user.\n\"Extended DL Data Buffering NOT REQUESTED\" indicates that extended buffering of downlink packets at the SGW is not applicable to this user.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.189\tIMSI-Group-Id",
                            "text_content": "The IMSI-Group-Id AVP shall be of type Grouped. This AVP shall contain the information about the IMSI-Group-Id.\nAVP format\nIMSI-Group-Id ::= <AVP header: 1675 10415>\n{ Group-Service-Id }\n{ Group-PLMN-Id }\n{ Local-Group-Id }\n*[AVP]\nFor details see 3GPP TS 23.003 [3], clause 19.9).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.190\tGroup-Service-Id",
                            "text_content": "The Group-Service-Id AVP is of type Unsigned32 and it shall identify the specific service for which the IMSI-Group-Id is used. The  following values are defined:\nTable 7.3.190-1: Group-Service-Id\n\nValues greater than 1000 are reserved for home operator specific use. IMSI-Group-IDs with a Group-Service-Id in this range shall not be sent outside the HPLMN unless roaming agreements allow so.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.190-1: Group-Service-Id",
                                    "table number": 60,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.191\tGroup-PLMN-Id",
                            "text_content": "The Group-PLMN-Id AVP is of type OctetString. This AVP shall contain the concatenation of MCC and MNC. See 3GPP TS 23.003 [3]. The content of this AVP shall be encoded as an octet string according to table 7.3.191-1.\nSee 3GPP TS 24.008 [31], clause 10.5.1.13, PLMN list, for the coding of MCC and MNC. If MNC is 2 digits long, bits 5 to 8 of octet 2 are coded as \"1111\".\nTable 7.3.191-1: Encoding format for Group-PLMN-Id AVP\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.191-1: Encoding format for Group-PLMN-Id AVP",
                                    "table number": 61,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.192\tLocal-Group-Id",
                            "text_content": "The Local-Group-Id AVP is of type OctetString. It shall contain an operator defined value, representing a group.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.193\tAESE-Communication-Pattern",
                            "text_content": "AESE-Communication-Pattern AVP is of type Grouped and is defined in 3GPP TS 29.336 [54].\nAVP format\nAESE-Communication-Pattern ::= <AVP header: 3113 10415>\n[ SCEF-Reference-ID ]\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n*[ Communication-Pattern-Set ]\n[ MTC-Provider-Info ]\n*[AVP]\nAt least one reference ID (either in SCEF-Reference-ID or in SCEF-Reference-ID-Ext) or a reference ID for deletion (either in SCEF-Reference-ID-for-Deletion or in SCEF-Reference-ID-for-Deletion-Ext) shall be present.\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and MME/SGSN, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.194\tCommunication-Pattern-Set",
                            "text_content": "Communication-Pattern-Set AVP is of type Grouped and is defined in 3GPP TS 29.336 [54].\nAVP format\nCommunication-Pattern-Set ::= <AVP header: 3114 10415>\n[ Periodic-Communication-Indicator ]\n[ Communication-Duration-Time ]\n[ Periodic-Time ]\n*[ Scheduled-Communication-Time ]\n[ Stationary-Indication ]\n[ Reference-ID-Validity-Time ]\n[ Traffic-Profile ]\n[ Battery-Indicator ]\n*[AVP]\nIf the Reference-ID-Validity-Time AVP is absent, it indicates that there is no expiration time defined for the Communication-Pattern-Set.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.195\tMonitoring-Event-Configuration",
                            "text_content": "The Monitoring-Event-Configuration AVP is of type Grouped. It shall contain the Monitoring event configuration related subscription data. It is originally defined in 3GPP TS 29.336 [54].\nFor S6a/S6d interface, the Monitoring-Event-Configuration AVP format is specified as following:\nAVP format:\nMonitoring-Event-Configuration ::= <AVP header: 3122 10415>\n[ SCEF-Reference-ID ]\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n{ Monitoring-Type }\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n[ Maximum-Number-of-Reports ]\n[ Monitoring-Duration ]\n[ Charged-Party ]\n[ UE-Reachability-Configuration ]\n[ Location-Information-Configuration ]\n[ SCEF-Realm ]\n[ External-Identifier ]\n[ MTC-Provider-Info ]\n[ PDN-Connectivity-Status-Configuration ]\n*[ AVP ]\nWhen the Monitoring-Event-Configuration AVP is used over the S6a/S6d interfaces, the SCEF-Realm AVP shall be present and its value shall be obtained by the HSS from the Origin-Realm AVP of the Configuration-Information-Request command conveying the corresponding monitoring event configuration over the S6t interface from the SCEF to the HSS.\nThe Monitoring-Type AVP shall only be taken into account in combination with SCEF-Reference-ID/SCEF-Reference-ID-Ext AVP; Monitoring-Type AVP shall be ignored for deletion of an event (i.e. when SCEF-Reference-ID-for-Deletion/SCEF-Reference-ID-for-Deletion-Ext AVP is present).\nMaximum-Number-of-Reports shall not be present over S6a/S6d interfaces if Monitoring-Type is AVAILABILITY_AFTER_DDN_FAILURE (6).\nMaximum-Number-of-Reports shall not be greater than one over S6a/S6d interfaces if Monitoring-Type is LOCATION_REPORTING (2) and MONTE-Location-Type is LAST_KNOWN_LOCATION (1).\nWhen multiple External Identifiers are defined for the same subscription, the External-Identifier in this grouped AVP, if present, shall contain the specific External Identifier to be associated with this monitoring event; if it is not present, the External Identifier associated with this monitoring event shall be the default External Identifier defined in the subscription (see clause 7.3.2).\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and MME/SGSN, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.196\tMonitoring-Event-Report",
                            "text_content": "The Monitoring-Event-Report AVP is of type Grouped. It shall contain the Monitoring event report data. It is originally defined in 3GPP TS 29.336 [54].\nFor S6a/S6d interface, the Monitoring-Event-Report AVP format is specified as following:\nAVP format:\nMonitoring Event Report::= <AVP header: 3123 10415>\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n[ SCEF-ID ]\n[ Reachability-Information ]\n[ Reachability-Cause ]\n[ EPS-Location-Information ]\n[ Monitoring-Type ]\n[ Loss-Of-Connectivity-Reason ]\n[ Idle-Status-Indication ]\n[ Maximum-UE-Availability-Time ]\n*[ PDN-Connectivity-Status-Report ]\n*[ AVP ]\nFor S6a/S6d interface, when the Monitoring-Type AVP takes the value UE_REACHABILITY (1), the Reachability-Information AVP shall take the value REACHABLE_FOR_DATA (1), and the Reachability-Cause AVP may be present.\nFor S6a/S6d interface, when the Monitoring-Type AVP takes the value PDN_CONNECTIVITY_STATUS (10), the PDN-Connectivity-Status-Report AVP(s) shall contain the list of active PDNs, for the given APN provided in the monitoring event configuration, or for all APNs if no APN was provided; each PDN-Connectivity-Status-Report shall have the PDN-Connectivity-Status-Type set to value \"CREATED (0)\".\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and MME/SGSN, the SCEF-Reference-ID-Ext AVP shall be used insted of SCEF-Reference-ID; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.197\tUE-Reachability-Configuration",
                            "text_content": "The UE-Reachability-Configuration AVP is of type Grouped, and it shall contain the details for configuration for UE reachability. It is originally defined in 3GPP TS 29.336 [54].\nFor S6a/S6d interface, the UE-Reachability-Configuration AVP format is specified as following:\nAVP format:\nUE-Reachability-Configuration::= <AVP header: 3129 10415>\n[ Reachability-Type ]\n[ Maximum-Response-Time ]\n*[ AVP ]\nNOTE:\tWhen a Maximum-Response-Time value is not received from the SCEF, the HSS can send an O&M configured desired active time value within the Maximum-Response-Time AVP.\nFor S6a/S6d interface, the Reachability-Type AVP shall have bit 0 (\"Reachability for SMS\") cleared, and it shall have bit 1 (\"Reachability for Data\") set.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.198\teNodeB-ID",
                            "text_content": "The eNodeB-ID AVP is of type OctetString, and indicates the eNodeB in which the UE is currently located. It is originally defined in 3GPP TS 29.217 [56].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.199\tSupported-Services",
                            "text_content": "The Supported-Services AVP is of type Grouped and it shall contain the different bit masks representing the services supported by the MME/SGSN:\nAVP format\nSupported-Services::= <AVP header: 3143 10415>\n[ Supported-Monitoring-Events ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.200\tSupported-Monitoring-Events",
                            "text_content": "The Supported-Monitoring-Events AVP is of type Unsigned64 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.200-1:\nTable 7.3.200 -1: Supported-Monitoring-Events\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.200 -1: Supported-Monitoring-Events",
                                    "table number": 62,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.201\tAIR-Flags",
                            "text_content": "The AIR-Flags AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.201/1:\nTable 7.3.201/1: AIR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.201/1: AIR-Flags",
                                    "table number": 63,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.202\tUE-Usage-Type",
                            "text_content": "The UE-Usage-Type AVP is of type Unsigned32. This value shall indicate the usage characteristics of the UE that enables the selection of a specific Dedicated Core Network (DCN). See clause 4.3.25 of 3GPP TS 23.401 [2].\nThe allowed values of UE-Usage-Type shall be in the range of 0 to 255.\nValues in the range of 0 to 127 are standardized and defined as follows:\n0:\tSpare, for future use\n…\n127:\tSpare, for future use\nValues in the range of 128 to 255 are operator-specific.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.203\tDRMP",
                            "text_content": "The DRMP AVP is of type Enumerated and it is defined in IETF RFC 7944 [57]. This AVP allows the HSS, the CSS, the EIR and the MME/SGSN to indicate the relative priority of Diameter messages. The DRMP AVP may be used to set the DSCP marking for transport of the associated Diameter message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.204\tNon-IP-PDN-Type-Indicator",
                            "text_content": "The Non-IP-PDN-Type-Indicator AVP is of type Enumerated and indicates whether the APN has a Non-IP PDN type.\nThe following values are defined:\nFALSE (0)\nThis value indicates that the APN does not have a Non-IP PDN type.\nTRUE (1)\nThis value indicates that the APN has a Non-IP PDN type and, in this case, the value indicated by the PDN-Type AVP inside APN-Configuration AVP shall be ignored.\nThe default value when this AVP is not present is FALSE (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.205\tNon-IP-Data-Delivery-Mechanism",
                            "text_content": "The Non-IP-Data-Delivery-Mechanism AVP is of type Unsigned32 and indicates the mechanism to be used for Non-IP data delivery for a given APN. The following values are defined:\nSGi-BASED-DATA-DELIVERY (0)\nThis value indicates that the Non-IP data is delivered via Point-To-Point tunnelling over the SGi interface.\nSCEF-BASED-DATA-DELIVERY (1)\nThis value indicates that the Non-IP data is delivered via the SCEF.\nThe default value when this AVP is not present is SGi-BASED-DATA-DELIVERY (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.206\tAdditional-Context-Identifier",
                            "text_content": "The Additional-Context-Identifier AVP is of type Unsigned32 and indicates the identity of another default APN to be used when the subscription profile of the user contains APNs with more than one PDN type among  IP-based PDN types, non-IP PDN types and Ethernet PDN types.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.207\tSCEF-Realm",
                            "text_content": "The SCEF-Realm AVP is of type DiameterIdentity and it shall contain the Diameter realm of the SCEF. For further details on the encoding of this AVP, see IETF RFC 6733 [61].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.208\tSubscription-Data-Deletion",
                            "text_content": "The Subscription-Data-Deletion AVP is of type Grouped and indicates the shared subscription data that need to be deleted from the subscription profiles of the impacted subscribers.\nAVP format\nSubscription-Data-Deletion ::= <AVP header: 1685 10415>\n{ DSR-Flags }\n[ SCEF-ID ]\n*[ Context-Identifier ]\n[ Trace-Reference ]\n*[ TS-Code ]\n*[ SS-Code ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.209\tPreferred-Data-Mode",
                            "text_content": "The Preferred-Data-Mode AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.209/1:\nTable 7.3.209/1: Preferred-Data-Mode\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.209/1: Preferred-Data-Mode",
                                    "table number": 64,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.210\tEmergency-Info",
                            "text_content": "The Emergency-Info AVP is of type Grouped. It shall contain the identity of the PDN-GW used for the establishment of emergency PDN connections.\nThe AVP format shall conform to:\nEmergency-Info ::= <AVP header: 1687 10415>\n[ MIP6-Agent-Info ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.211\tLoad",
                            "text_content": "The Load AVP is of type Grouped and it is defined in IETF RFC 8583 [60]. This AVP is used to support Diameter load control mechanism, see Annex F for more information.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.212\tV2X-Subscription-Data",
                            "text_content": "The V2X-Subscription-Data AVP is of type Grouped. It shall contain the V2X related subscription data for the network scheduled LTE sidelink communication..\nAVP format:\nV2X-Subscription-Data ::= <AVP header: 1688 10415>\n[ V2X-Permission ]\n[ UE-PC5-AMBR ]\n*[AVP]\nThe UE-PC5-AMBR AVP within the V2X-Subscription-Data AVP indicates the UE AMBR used for LTE PC5 interface.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.213\tV2X-Permission",
                            "text_content": "The V2X-Permission AVP is of type Unsigned32 and it shall contain a bit mask that indicates the permissions for V2X service subscribed by the user. The meaning of the bits shall be as defined in table 7.3.x2-1:\nTable 7.3.x2-1: V2X-Permission\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.x2-1: V2X-Permission",
                                    "table number": 65,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.214\tPDN-Connection-Continuity",
                            "text_content": "The PDN-Connection-Continuity AVP is of type Unsigned32 and indicates how to handle the PDN connection when the UE moves between \"broadband\" (WB-E-UTRAN, UTRAN) and \"narrowband\" (NB-IoT, GPRS, EC-GSM-IoT). The following values are defined:\nMAINTAIN-PDN-CONNECTION (0)\nDISCONNECT-PDN-CONNECTION-WITH-REACTIVATION-REQUEST (1)\nDISCONNECT-PDN-CONNECTION-WITHOUT-REACTIVATION-REQUEST (2)\nThis AVP corresponds to the \"PDN continuity at inter RAT mobility\" field as defined in 3GPP TS 23.401 [2] table 5.7.1-1.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.215\teDRX-Cycle-Length",
                            "text_content": "The eDRX-Cycle-Length AVP is of type Grouped. This AVP shall contain an eDRX cycle length, along with the RAT type for which this cycle length is applicable to (e.g. E-UTRAN and NB-IOT).\nAVP format:\neDRX-Cycle-Length ::= <AVP header: 1691 10415>\n{ RAT-Type }\n{ eDRX-Cycle-Length-Value }\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.216\teDRX-Cycle-Length-Value",
                            "text_content": "The eDRX-Cycle-Length-Value AVP is of type OctetString. This AVP shall contain the extended DRX cycle value subscribed for this user for a given RAT type. The contents of eDRX-Cycle-Length-Value shall consist of 1 octet.\nThe encoding shall be as defined in 3GPP TS 24.008 [31], clause 10.5.5.32, and it shall only contain the value of the field \"eDRX value\" for a given RAT type, i.e., the 4 least significant bits of the octet in this AVP shall contain bits 1-4 of octet 3 in the \"Extended DRX parameter\" IE (see Figure 10.5.5.32 of 3GPP TS 24.008 [31]), and the 4 most significant bits of the octet in this AVP shall be set to 0.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.217\tUE-PC5-AMBR",
                            "text_content": "The UE-PC5-AMBR AVP is of type Unsigned32. It indicates the maximum bits delivered by UE over the PC5 interface within a period of time. The unit of UE-PC5-AMBR is bits/s.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.218\tExtended eNodeB-ID",
                            "text_content": "The Extended eNodeB-ID AVP is of type OctetString, and indicates the eNodeB in which the UE is currently located. It is originally defined in 3GPP TS 29.217 [56].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.219\tMBSFN-Area",
                            "text_content": "The MBSFN-Area AVP is of type Grouped. It contains a MBSFN Area ID and a Carrier Frequency (see 3GPP TS 32.422 [23]).\nThe AVP format shall conform to:\nMBSFN-Area ::= <AVP header: 1694 10415>\n[ MBSFN-Area-ID ]\n[ Carrier-Frequency ]\n*[ AVP ]\nIf both MBSFN-Area-ID and Carrier-Frequency values are present, a specific MBSFN area is indicated. If Carrier-Frequency value is present, but MBSFN-Area-ID is absent, all MBSFN areas on that carrier frequency are indicated. If both MBSFN-Area-ID and Carrier-Frequency are absent, any MBSFN area is indicated.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.220\tMBSFN-Area-ID",
                            "text_content": "The MBSFN-Area-ID AVP is of type Unsigned32 and it shall contain the MBSFN Area ID value, in the range of 0..255 (see 3GPP TS 36.331 [62]).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.221\tCarrier-Frequency",
                            "text_content": "The Carrier-Frequency AVP is of type Unsigned32 and it shall contain the Carrier Frequency value, in the range of 0..262143 (see 3GPP TS 36.331 [62]).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.222\tRDS-Indicator",
                            "text_content": "The RDS-Indicator AVP is of type Enumerated and indicates whether the Reliable Data Service (RDS) is enabled or disabled for the APN. See 3GPP TS 23.682 [55].\nThe following values are defined:\nDISABLED (0)\nENABLED (1)\nThe default value when this AVP is not present is DISABLED (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.223\tService-Gap-Time",
                            "text_content": "The Service-Gap-Time AVP is of type Unsigned32 and indicates the minimum number of seconds during which the UE shall stay in ECM-IDLE mode, after leaving the ECM-CONNECTED mode, before being allowed to send a subsequent connection request to enter ECM-CONNECTED mode again. See description of the Service Gap Control feature in 3GPP TS 23.401 [2].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.224\tAerial-UE-Subscription-Information",
                            "text_content": "The Aerial-UE-Subscription-Information AVP is of type Unsigned32 and indicates the subscription of Aerial UE function. The following values are defined:\nAERIAL_UE_ALLOWED (0)\nAERIAL_UE_NOT_ALLOWED (1)\nThis AVP corresponds to the \"Aerial UE subscription information\" information element as defined in 3GPP TS 36.413[19] and TS 36.423 [65].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.225\tBroadcast-Location-Assistance-Data-Types",
                            "text_content": "The Broadcast-Location-Assistance-Data-Types AVP is of type Unsigned64. The content of this AVP is a bit mask which indicates the broadcast location assistance data types for which the UE is subscribed to receive ciphering keys used to decipher broadcast assistance data.\nThe meaning of the bits is defined in table 7.3.225-1:\nTable 7.3.225-1: Broadcast-Location-Assistance-Data-Types\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.225-1: Broadcast-Location-Assistance-Data-Types",
                                    "table number": 66,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.226\tPaging-Time-Window",
                            "text_content": "The Paging-Time-Window AVP is of type Grouped. This AVP shall contain the Paging Time Window length, along with the Operation Mode (see clause 7.3.227) for which this time window length is applicable to.\nAVP format:\nPaging-Time-Window ::= <AVP header: 1701 10415>\n{ Operation-Mode }\n{ Paging-Time-Window-Length }\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.227\tOperation-Mode",
                            "text_content": "The Operation-Mode AVP is of type Unsigned32. This value shall indicate the operation mode for which the Paging-Time-Window-Length applies. See clause 3GPP TS 24.008 [31], clause 10.5.5.32.\nThe allowed values of Operation-Mode shall be in the range of 0 to 255.\nValues are defined as follows:\n0:\tSpare, for future use\n1:\tIu mode\n2:\tWB-S1 mode\n3:\tNB-S1 mode\n4 to 255:\tSpare, for future use\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.228\tPaging-Time-Window-Length",
                            "text_content": "The Paging-Time-Window-Length AVP is of type OctetString. This AVP shall contain the Paging time window length subscribed for this user for a given operation mode. The contents of Paging-Time-Window-Length shall consist of 1 octet.\nThe encoding shall be as defined in 3GPP TS 24.008 [31], clause 10.5.5.32, and it shall only contain the value of the field \"Paging Time Window length\" for a given RAT type, i.e., the 4 most significant bits of the octet in this AVP shall contain bits 5-8 of octet 3 in the \"Extended DRX parameter\" IE (see Figure 10.5.5.32 of 3GPP TS 24.008 [31]), and the 4 least significant bits of the octet in this AVP shall be set to 0.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.229\teDRX-Related-RAT",
                            "text_content": "The eDRX-Related-RAT AVP is of type Grouped. This AVP shall contain the RAT type to which the eDRX Cycle Length is related:\nAVP format\neDRX-Related-RAT ::= <AVP header: 1705 10415>\n1 * { RAT-Type }\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.230\tCore-Network-Restrictions",
                            "text_content": "The Core-Network-Restrictions AVP is of type Unsigned32 and shall contain a bitmask indicating the types of Core Network that are disallowed for a given user. The meaning of the bits shall be as defined in table 7.3.230-1:\nTable 7.3.230-1: Core-Network-Restrictions\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.3.230-1: Core-Network-Restrictions",
                                    "table number": 67,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.3.231\tInterworking-5GS-Indicator",
                            "text_content": "The Interworking-5GS-Indicator AVP is of type Enumerated and indicates whether the interworking between 5GS and EPS is subscribed or not subscribed for the APN. See 3GPP TS 23.502 [67].\nThe following values are defined:\nNOT-SUBSCRIBED (0)\nSUBSCRIBED (1)\nThe default value when this AVP is not present is NOT-SUBSCRIBED (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.232\tEthernet-PDN-Type-Indicator",
                            "text_content": "The Ethernet-PDN-Type-Indicator AVP is of type Enumerated and indicates whether the APN has an Ethernet PDN type.\nThe following values are defined:\nFALSE (0)\nThis value indicates that the APN does not have an Ethernet PDN type.\nTRUE (1)\nThis value indicates that the APN has an Ethernet PDN type and in this case the value indicated by the PDN-Type AVP inside APN-Configuration AVP shall be ignored.\nThe default value when this AVP is not present is FALSE (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.233\tSubscribed-ARPI",
                            "text_content": "The Subscribed-ARPI AVP is of type Unsigned32 and shall contain the subscribed value of the Additional RRM Policy Index. For details, see 3GPP TS 23.401 [2].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.234\tIAB-Operation-Permission",
                            "text_content": "The IAB-Operation-Permission AVP is of type Enumerated. It shall indicate to the MME or SGSN whether the UE is allowed for IAB operation. See 3GPP TS 23.401 [2].\nThe following values are defined:\nIAB_OPERATION_ALLOWED (0)\nIAB_OPERATION_NOTALLOWED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.235\tV2X-Subscription-Data-Nr",
                            "text_content": "The V2X-Subscription-Data-Nr AVP is of type Grouped. It shall contain the V2X related subscription data for the network scheduled NR sidelink communication.\nAVP format:\nV2X-Subscription-Data-Nr ::= <AVP header: 1710 10415>\n[ V2X-Permission ]\n[ UE-PC5-AMBR ]\n[ UE-PC5-QoS ]\n*[AVP]\nThe UE-PC5-AMBR AVP within the V2X-Subscription-Data AVP indicates the UE AMBR used for NR PC5 interface.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.236\tUE-PC5-QoS",
                            "text_content": "The UE-PC5-QoS AVP is of type Grouped. It shall contain the PC5 QoS parameters for V2X communication over NR PC5 reference point.\nAVP format:\nUE-PC5-QoS ::= <AVP header: 1711 10415>\n1*{ PC5-QoS-Flow }\n[ PC5-Link-AMBR ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.237\tPC5-QoS-Flow",
                            "text_content": "The PC5-QoS-Flow AVP is of type Grouped. It shall contain the QoS parameters for a PC5 flow.\nAVP format:\nPC5-QoS-Flow ::= <AVP header: 1712 10415>\n{ 5QI }\n[ PC5-Flow-Bitrates ]\n[ PC5-Range ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.238\t5QI",
                            "text_content": "The 5QI AVP is of type Integer32. It shall contain the 5QI. See 3GPP TS 23.501 [69] for allowed values.If the 5QI is used in PC5 QoS parameter, it shall contain PQI, PQI is a special 5QI (see clause 5.4.2.1 of 3GPP TS 23.287 [68]).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.239\tPC5-Flow-Bitrates",
                            "text_content": "The PC5-Flow-Bitrates AVP is of type Grouped. It shall contain the PC5 Flow Bit Rates, it's for GBR QoS Flows only.\nAVP format:\nPC5-Flow-Bitrates ::= <AVP header: 1714 10415>\n[ Guaranteed-Flow-Bitrates ]\n[ Maximum-Flow-Bitrates ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.240\tGuaranteed-Flow-Bitrates",
                            "text_content": "The Guaranteed-Flow-Bitrates AVP is of type Integer32. It indicates the guaranteed bits delivered for the PC5 QoS flow by UE over the PC5 interface within a period of time. The unit of Guaranteed-Flow-Bitrates is bits/s.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.241\tMaximum-Flow-Bitrates",
                            "text_content": "The Maximum-Flow-Bitrates AVP is of type Integer32. It indicates the maximum bits delivered for the PC5 QoS flow by UE over the PC5 interface within a period of time. The unit of Maximum-Flow-Bitrates is bits/s.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.242\tPC5-Range",
                            "text_content": "The PC5-Range AVP is of type Integer32. It indicates the Range in the unit of meters. See clause 5.4.2.4 of 3GPP TS 23.287 [68].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.243\tPC5-Link-AMBR",
                            "text_content": "The PC5-Link-AMBR AVP is of type Integer32. It indicates t the PC5 Link Aggregated Bit Rates for all the Non-GBR QoS Flows. The unit of PC5-Link-AMBR is bits/s.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.244\tThird-Context-Identifier",
                            "text_content": "The Third-Context-Identifier AVP is of type Unsigned32 and indicates the identity of another default APN to be used when the subscription profile of the user contains APNs with three PDN types, i.e. IP-based PDN types, non-IP PDN types and Ethernet PDN types.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.4\tResult-Code and Experimental-Result Values",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.4.1\tGeneral",
                            "text_content": "This clause defines result code values that shall be supported by all Diameter implementations that conform to this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.2\tSuccess",
                            "text_content": "Result codes that fall within the Success category shall be used to inform a peer that a request has been successfully completed. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [61] shall be applied.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.3\tPermanent Failures",
                            "text_content": "Errors that fall within the Permanent Failures category shall be used to inform the peer that the request has failed, and should not be attempted again. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [61] shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.\nThis result code shall be sent by the HSS to indicate that the user identified by the IMSI is unknown\nThis result code shall be sent by the HSS to indicate that no EPS subscription is associated with the IMSI.\nThis result code shall be sent by the HSS to indicate the RAT type the UE is using is not allowed for the IMSI.\nThis result code shall be sent by the HSS to indicate that the subscriber is not allowed to roam within the MME or SGSN area.\nThis result code shall be sent by the EIR to indicate that the mobile equipment is not known in the EIR.\nThis result code shall be sent by the HSS to indicate that a Notify command has been received from a serving node which is not registered in HSS as the node currently serving the user.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.4\tTransient Failures",
                            "text_content": "Result codes that fall within the transient failures category shall be used to inform a peer that the request could not be satisfied at the time it was received, but may be able to satisfy the request in the future. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [61]shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.\nThis result code shall be sent by the HSS to indicate that an unexpectedly transient failure occurs. The requesting node can try the request again in the future.\nThis result code shall be sent by the HSS to indicate that the subscriber to be registered has SGSN CAMEL Subscription data.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "8\tUser identity to HSS resolution",
            "description": "The User identity to HSS resolution mechanism enables the MME, SGSN (for non-roaming case) or Diameter Relay/proxy agents in the home network (for roaming case) to find the identity of the HSS that holds the subscriber data for a given user identity when multiple and separately addressable HSSs have been deployed in the home network. The resolution mechanism is not required in networks that utilise a single HSS.\nThis User identity to HSS resolution mechanism may rely on routing capabilitites provided by Diameter and be implemented in the home operator network within dedicated Diameter Agents (Redirect Agents or Proxy Agents) responsible for determining the HSS identity based on the provided user identity. If this Diameter based implementation is selected by the Home network operator, the principles described below shall apply.\nIn non-roaming case, in networks where more than one independently addressable HSS are deployed in the home network, each MME and SGSN shall be configured with the address/identity of a Diameter Agent (Redirect Agent or Proxy Agent) implementing this resolution mechanism.\nFor support of roaming case, Diameter Relay agents and/or Diameter Proxy agents in the home network receiving the Diameter signalling from visited networks shall be configured with the address/identity of a Diameter Agent (Redirect Agent or Proxy Agent) implementing this resolution mechanism.\nTo get the HSS identity that holds the subscriber data for a given user identity in the home network, the Diameter request normally destined to the HSS shall be sent to a pre-configured address/identity of a Diameter agent supporting the User identity to HSS resolution mechanism.\n-\tIf this Diameter request is received by a Diameter Redirect Agent, the Diameter Redirect Agent shall determine the HSS identity based on the provided user identity and shall return a notification of redirection towards the HSS identity, in response to the Diameter request. Multiple HSS identities may be included in the response, as specified in IETF RFC 6733 [61]. In such a case, the requesting Diameter entity shall send the Diameter request to the first HSS identity in the ordered list received in the Diameter response from the Diameter Redirect Agent. If no successful response to the Diameter request is received, the requesting Diameter entity shall send a Diameter request to the next HSS identity in the ordered list. This procedure shall be repeated until a successful response from an HSS is received. After the user identity to HSS resolution, the MME or the SGSN shall store the determined HSS identity/name/Realm and shall use it in further Diameter requests to the same user identity.\n-\tIf this Diameter request is received by a Diameter Proxy Agent, the Diameter Proxy Agent shall determine the HSS identity based on the provided user identity and - if the Diameter load control mechanism is supported (see IETF RFC 8583 [60]) - optionally also based on previously received load values from Load AVPs of type HOST. The Diameter Proxy Agent shall then forward the Diameter request directly to the determined HSS. In this case, the user identity to HSS resolution decision is communicated to the MME/SGSN in the Origin-Host/Origin-Realm AVPs of the response. The MME or the SGSN may store the determined HSS identity/name/Realm and may use it in further Diameter requests to the same user identity.\nIn roaming case, whereas a Diameter Relay Agent is stateless, a stateful Diameter Proxy Agent in the home network may store the determined HSS identity/name/Realm and use it in further Diameter requests associated to the same user identity.\nNOTE:\tAlternatives to the user identity to HSS resolution Diameter based implementation are outside the scope of this specification.\nWhen the UE initiates Attach, Tracking Area Update or Service Request, there may be the need for the MME to communicate with the HSS via S6a to retrieve authentication data and/or subscription data. If this retrieval is rejected by the HSS, the received Diameter-Result-Code values or Experimental-Result values need to be mapped to appropriate cause codes over NAS to the UE.\nThis mapping shall be as shown in Table A.1.\nIf the retrieval is successful, not needed (e.g. because data are already available) or not possible (e.g. because HSS is unavailable or overloaded), detected error conditions need to be mapped to appropriate cause codes over NAS to the UE.\nThis mapping shall be as shown in Table A.2.\nTable A.1: Mapping from S6a error code to NAS Cause Code values\n\nTable A.2: Mapping from detected error condition to NAS Cause Code values\n\nWhen the UE initiates Attach, Routing Area Update or Service Request, there may be the need for the SGSN to communicate with the HSS via S6d to retrieve authentication data and/or subscription data. If this retrieval is rejected by the HSS, the received Diameter-Result-Code values or Experimental-Result valuesneed to be mapped to appropriate cause codes over NAS to the UE.\nNOTE:\tMapping from MAP Gr error codes to NAS Cause Code values  is described in the 3GPP TS 29.010 [45].\nThis mapping shall be as shown in Table B.1.\nIf the retrieval is successful, not needed (e.g. because data are already available) or not possible (e.g. because HSS is unavailable or overloaded), detected error conditions need to be mapped to appropriate cause codes over NAS to the UE.\nThis mapping shall be as shown in Table and B.2.\n\nTable B.1: Mapping from S6d error code to NAS Cause Code values\n\nTable B.2: Mapping from detected error condition to NAS Cause Code values\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "Table A.1: Mapping from S6a error code to NAS Cause Code values",
                    "table number": 68,
                    "summary": "",
                    "name": ""
                },
                {
                    "description": "Table A.2: Mapping from detected error condition to NAS Cause Code values",
                    "table number": 69,
                    "summary": "",
                    "name": ""
                },
                {
                    "description": "Table B.1: Mapping from S6d error code to NAS Cause Code values",
                    "table number": 70,
                    "summary": "",
                    "name": ""
                },
                {
                    "description": "Table B.2: Mapping from detected error condition to NAS Cause Code values",
                    "table number": 71,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.1\tGeneral",
            "description": "IETF RFC 7683 [50] specifies a Diameter overload control mechanism which includes the definition and the transfer of related AVPs between Diameter nodes.\nDepending on regional/national requirements and network operator policy, priority traffic (e.g. MPS as described in 3GPP TS 22.153 [52]) shall be exempted from throttling due to Diameter overload control up to the point where requested traffic reduction cannot be achieved without throttling the priority traffic.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.2\tS6a/S6d interfaces",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "C.2.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "Diameter overload control mechanism is an optional feature.\nIt is recommended to make use of IETF RFC 7683 [50] on the S6a/S6d interfaces where, when applied, the MME or the SGSN shall behave as reacting nodes and the HSS as a reporting node.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "C.2.2\tHSS behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The HSS requests traffic reduction from its clients when the HSS is in an overload situation, including OC-OLR AVP in answer commands as described in IETF RFC 7683 [50].\nThe HSS identifies that it is in an overload situation by implementation specific means. For example, the HSS may take into account the traffic over the S6a/d interfaces or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources, etc.\nThe HSS determines the specific contents of OC-OLR AVP in overload reports and the HSS decides when to send OC-OLR AVPs by implementation specific means.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "C.2.3\tMME/SGSN behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The MME/SGSN applies required traffic reduction received in answer commands to subsequent applicable requests, as per RFC 7683 [50].\nRequested traffic reduction is achieved by the MME/SGSN by implementation specific means. For example, it may implement message throttling with prioritization or a message retaining mechanism for operations that can be postponed.\nDiameter requests related to priority traffic (e.g. MPS as identified by the MME/SGSN through access procedures) and emergency have the highest priority. Depending on regional/national regulatory and operator policies, these Diameter requests shall be the last to be throttled, when the MME/SGSN has to apply traffic reduction. Relative priority amongst various priority traffic (e.g. MPS) and emergency traffic is subject to regional/national regulatory and operator policies.\nAs a result of the need to throttle traffic, the MME or SGSN may reject Attach, Tracking Area Update or Service Requests initiated by UEs. The possible NAS causes are described in the Annex A and B.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "D.1\tMessage prioritisation over S6a/d",
            "description": "This clause describes possible behaviours of the MME/SGSN regarding message prioritisation as guidance and for an informative purpose when Diameter overload control is applied over S6a/d.\nWhen the HSS is overloaded, the MME/SGSN will receive overload reports from the HSS requesting a reduction of the requests sent by the MME/SGSN. The following and not exhaustive considerations may be taken into account for the MME/SGSN throttling decisions:\n-\tPrioritisation of requests related to priority traffic (e.g. MPS as identified by the MME/SGSN through access procedures, emergency)\n-\tIdentification of the procedures that can be deferred (e.g. UE reachable notification, purge after a long inactivity time), so to avoid to drop non deferrable procedures;\n-\tPrioritisation of certain types of requests (i.e. between AIR, ULR, PUR, NOR) according to the context of their use, in particular:\n-\tHigher prioritisation of ULR commands when used in relation with mobility management (e.g. handover) for an attached user, so to avoid the interruption of the service for the user;\n-\tLower prioritisation of AIR and ULR commands when related to an initial attach, so to avoid the attachment of new users;\n-\tSkipping of optional authentication (e.g. in TAU procedures).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "E.1\tGeneral",
            "description": "IETF RFC 7944 [57] specifies a Diameter routing message priority mechanism that allows Diameter nodes to indicate the relative priority of Diameter messages. With this information, other Diameter nodes may leverage the relative priority of Diameter messages into routing, resource allocation, set the DSCP marking for transport of the associated Diameter message, and also abatement decisions when overload control is applied.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "E.2\tS6a/S6d interfaces",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "E.2.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The Diameter message priority mechanism is an optional feature.\nIt is recommended to make use of IETF  RFC 7944 [57] over the S6a/S6d interfaces of an operator network when the overload control defined in Annex C is applied on these S6a/d interfaces.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "E.2.2\tHSS, CSS, EIR behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "When the HSS, the CSS or the EIR supports the Diameter message priority mechanism, the HSS, the CSS, or the EIR shall comply with IETF RFC 7944 [57].\nThe HSS or the CSS sending a request shall determine the required priority according to its policies. When priority is required, the HSS or the CSS shall include the DRMP AVP indicating the required priority level in the request it sends, and shall prioritise the request according to the required priority level.\nWhen the HSS or the CSS receives the corresponding response, the HSS or the CSS shall prioritise the received response according to the priority level received within the DRMP AVP if present in the response, otherwise according to the priority level of the corresponding request.\nWhen the HSS, the CSS, or the EIR receives a request, it shall handle the request according to the received DRMP AVP priority level. For the response, the HSS, the CSS, or the EIR may modify the priority level received in the DRMP AVP according to its policies and shall handle the response according to the required priority level.  If the required priority level is different from the priority level received in the request, the HSS, the CSS, or the EIR shall include the DRMP AVP in the response.If:\n-\tthe HSS, the CSS or the EIR supports using the Diameter message priority mechanism for DSCP marking purposes,\n-\tthe transport network utilizes DSCP marking, and\n-\tmessage-dependant DSCP marking is possible for the protocol stack transporting Diameter,\nthen the HSS, the CSS or the EIR shall set the DSCP marking for transport of the request or response according to the required priority level.\nWhen not-explicitly requested, the inclusion and priority value of the DRMP AVP in Diameter messages are implementation specific.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "E.2.3\tMME/SGSN behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "When the MME/SGSN supports the Diameter message priority mechanism, the MME/SGSN shall comply with IETF RFC 7944 [57].\nThe MME/SGSN sending a request shall determine the required priority according to its policies. When priority is required, the MME/SGSN shall include the DRMP AVP indicating the required priority level in the request it sends, and shall prioritise the requests according to the required priority level.\nWhen the MME/SGSN receives the corresponding response, it shall prioritise the received response according to the priority level received within the DRMP AVP if present in the response, otherwise according to the priority level of the corresponding request.\nWhen the MME/SGSN receives a request, it shall handle the request according to the received DRMP AVP priority level. For the response, it may modify the priority level received in the DRMP AVP according to its policies and shall handle the response according to the required priority level. If the required priority level is different from the priority level received in the request, it shall include the DRMP AVP in the response.\nIf:\n-\tthe MME/SGSN supports using the Diameter message priority mechanism for DSCP marking purposes,\n-\tthe transport network utilizes DSCP marking, and\n-\tmessage-dependant DSCP marking is possible for the protocol stack transporting Diameter,\nthen the MME/SGSN shall set the DSCP marking for transport of the request or response according to the required priority level.\nDiameter requests related to high priority traffic (e.g. MPS as identified by the MME/SGSN via the RRC Establishment Cause IE set to the highPriorityAccess value as per 3GPP TS 36.413 [19] or through subscription information in the MPS-Priority AVP, emergency) shall contain a DRMP AVP with a high priority of which the level value is operator dependent.\nWhen not-explicitly requested, the inclusion and priority value of the DRMP AVP in Diameter messages are implementation specific.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "F.1\tGeneral",
            "description": "IETF RFC 8583 [60] specifies a mechanism for sharing of Diameter load information. It includes the definition and the transfer of related AVPs between Diameter nodes.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "F.2\tS6a/S6d interfaces",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "F.2.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "Diameter load control mechanism is an optional feature.\nIt is recommended to make use of IETF RFC 8583 [60] on the S6a/S6d interfaces where, when applied, the MME or the SGSN shall behave as receiving nodes and the HSS as a reporting node.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.2.2\tHSS behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The HSS may report its current load by including a Load AVP of type HOST in answer commands as described in IETF RFC 8583 [60].\nThe HSS calculates its current load by implementation specific means. For example, the HSS may take into account the traffic over the S6a/d interfaces or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources, etc.\nThe HSS determines when to send Load AVPs of type HOST by implementation specific means.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "F.2.3\tMME/SGSN behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "When performing next hop Diameter Agent selection for requests that are routed based on realm, the MME/SGSN may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [60].\n\n",
                    "tables": [
                        {
                            "description": "",
                            "table number": 72,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        }
    ]
}