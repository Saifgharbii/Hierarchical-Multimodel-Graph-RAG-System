{
    "document_name": "24623-i00.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document defines a protocol used for manipulating data related to supplementary services. The protocol is based on the eXtensible Markup Language (XML) Configuration Access Protocol (XCAP) RFC 4825 [8]. A new XCAP application usage is defined for the purpose of manipulating the supplementary services data. The common XCAP related aspects that are applicable to supplementary services are specified in the present document. The protocol allows authorized users to manipulate service-related data either when they are connected to IMS or when they are connected to non-IMS networks (e.g. the public Internet).\nThe present document is applicable to User Equipment (UE) and Application Servers (AS) which are intended to support XCAP application usage for manipulating data related to supplementary services.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\tVoid.\n[2]\tW3C REC-xmlschema-1-20010502: \"XML Schema Part 1: Structures\".\n[3]\tVoid.\n[4]\tVoid.\n[5]\t3GPP TS 24.109: \"Bootstrapping interface (Ub) and Network application function interface (Ua); Protocol details\".\n[6]\t3GPP TS 33.222: \"Generic Authentication Architecture (GAA); Access to network application functions using Hypertext Transfer Protocol over Transport Layer Security (HTTPS)\".\n[7]\tVoid.\n[8]\tIETF RFC 4825: \"The Extensible Markup Language (XML) Configuration Access Protocol (XCAP)\".\n[9]\tVoid\n[10]\tVoid.\n[11]\tIETF RFC 5875 (May 2010): \"An Extensible Markup Language (XML) Configuration Access Protocol (XCAP) Diff Event Package\".\n[12]\tETSI TS 183 038: \"Telecommunications and Internet converged Services and Protocols for Advanced Networking (TISPAN); PSTN/ISDN Simulation Services; Extensible Markup Language (XML) Document Management; Protocol Specification (Endorsement of \nOMA-TS-XDM-Core-V1-0-20051103-C and OMA-TS-XDM-Shared-V1-0-20051006-C)\".\n[13]\tETSI TS 183 023 V1.4.0: \"Telecommunications and Internet converged Services and Protocols for Advanced Networking (TISPAN); PSTN/ISDN simulation services; Extensible Markup Language (XML) Configuration Access Protocol (XCAP) over the Ut interface for Manipulating NGN PSTN/ISDN Simulation Services\".\n[14]\tOMA-TS-XDM_Core-V1_1-20080627-A: \"XML Document Management (XDM) Specification\".\n[15]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[15A]\t3GPP TS 31.103: \"Characteristics of the IP multimedia services identity module (ISIM) application\".\n[15B]\t3GPP TS 31.102: \"Characteristics of the Universal Subscriber Identity Module (USIM) application\".\n[16]\t3GPP TS 24.315: \"IP Multimedia Subsystem (IMS) Operator Determined Barring (ODB); Stage 3\".\n[17]\t3GPP TS 33.141: \"Presence service; Security\".\n[18]\tIETF RFC 6665 (July 2012): \"SIP-Specific Event Notification\".\n[19]\t3GPP TS 24.167: \"3GPP IMS Management Object (MO); Stage 3\".\n[20]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[21]\t3GPP TS 33.310: \"Network Domain Security (NDS); Authentication Framework (AF)\".\n[22]\t3GPP TS 24.424: \"Management Object (MO) for Extensible Markup Language (XML) Configuration Access Protocol (XCAP) over the Ut interface for Manipulating Supplementary Services (SS)\".\n[23]\t3GPP TS 22.030: \"Man-Machine Interface (MMI) of the User Equipment (UE)\".\n[24]\t3GPP TS 22.011: \"Service accessibility\".\n[25]\t3GPP TS 24.229: \"IP multimedia call control protocol based on Session Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".\n[26]\t3GPP TS 29.292: \"Interworking between the IP Multimedia (IM) Core Network (CN) subsystem (IMS) and MSC Server for IMS Centralized Services (ICS)\".\n[27]\t3GPP TS 33.220: \"Generic Authentication Architecture (GAA); Generic Bootstrapping Architecture (GBA)\".\n[28]\t3GPP TS 33.221: \"Generic Authentication Architecture (GAA); Support for subscriber certificates\".\n[29]\t3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core Network Protocols; Stage 3\".\n[30]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[31]\t3GPP TS 24.302: \"Access to the 3GPP Evolved Packet Core (EPC) via non-3GPP access networks; Stage 3\".\n[32]\t3GPP TS 24.244: \"Wireless LAN control plane protocol for trusted WLAN access to EPC\".\n[33]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n[34]\t3GPP TS 24.502: \"Access to the 3GPP 5G Core Network (5GCN) via non-3GPP access networks\".\n[35]\tIETF RFC 9112 (June 2022): \"HTTP/1.1\".\n[36]\tIETF RFC 9110 (June 2022): \"HTTP Semantics\".\n[37]\tVoid.\n[38]\tVoid.\n[39]\tIETF RFC 9111 (June 2022): \"HTTP Caching\".\n[40]\tVoid.\n[41]\tIETF RFC 7616 (September 2015): \"HTTP Digest Access Authentication\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in TR 21.905 [20] and IETF RFC 4825 [8] apply.\nSS configuration via XCAP: supplementary services (SS) configuration based on XCAP protocol sent over the Ut interface.\nFor the purposes of the present document, the following terms and definitions given in 3GPP TS 22.011 [24] apply:\n3GPP PS data off\n3GPP PS data off exempt service\nFor the purposes of the present document, the following terms and definitions given in 3GPP TS 24.229 [25] apply:\n3GPP PS data off status\nFor the purposes of the present document, the following terms and definitions given in 3GPP TS 24.501 [33] apply:\nNG-RAN\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the following abbreviations apply:\n5GCN\t5G Core Network\n5GS\t5G System\nAP\tAuthentication Proxy\nAS\tApplication Server\nAUID\tApplication Unique ID\nEPS\tEvolved Packet System\nGPRS\tGeneral Packet Radio Service\nHTTP\tHyperText Transfer Protocol\nIMS\tIP Multimedia Subsystem\nIP-CAN\tIP Connectivity Access Network\nISDN\tIntegrated Services Digital Network\nMIME\tMultipurpose Internet Mail Extensions\nMMI\tMan-Machine Interface\nNAF\tNetwork Application Function\nNGN\tNext Generation Network\nNG-RAN\tNext Generation Radio Access Network\nODB\tOperator Determined Barring\nPS\tPacket Switched\nPSTN\tPublic Switched Telephone Network\nSS\tSupplementary Service\nTLS\tTransport Layer Security\nUE\tUser Equipment\nURI\tUniform Resource Identifier\nWPA\tWrong Password Attempts\nXCAP\tXML Configuration Access Protocol\nXML\teXtended Markup Language\nXUI\tXCAP User Identifier\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tArchitecture for manipulating supplementary services settings",
            "description": "The protocol described in the present document allows to manipulate settings and variables related that influence the execution of one or more supplementary services. Manipulation of the supplementary services take place over the Ut interface (UE to AS), as shown in figure 1.\nThe figure depicts the user interface (UI) of a telecommunication system, specifically the interface used by the user to interact with the system. The UI includes various elements such as buttons, sliders, and text fields, which allow users to configure and manage the system. The figure also includes a legend to explain the different elements and their functions. Overall, the figure provides a clear and concise representation of the user interface, making it easy for users to understand how to use the system.\nFigure 1: Ut interface\nManipulation of supplementary services does not usually take place during real-time operation. Typically users manipulate their services configuration data prior to the invocation and execution of the service.\nAuthentication of the user with HTTP may take place directly at the AS, such as in figure 1, or with the support of an Authentication Proxy, such as in figure 2. The architecture for authentication is provided in 3GPP TS 33.222 [6].\nNOTE:\tThe Network Application Function (NAF) can be an AS.\nThe figure depicts a simplified representation of the authentication proxy in the Ut interface path, illustrating its role in ensuring secure communication between the Ut interface and the network. The proxy is a crucial component in the network, acting as a gateway between the Ut interface and the network, facilitating secure communication.\nFigure 2: Authentication proxy in the Ut interface path\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "5\tThe eXtensible Markup Language (XML) Configuration Access Protocol (XCAP)",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purpose of manipulating data stored in an application server the XML Configuration Access Protocol (XCAP) [8] is used. XCAP allows a client to read, write and modify application configuration data, stored in XML format on a server. XCAP maps XML document sub-trees and element attributes to HTTP URIs, so that these components can be directly accessed by HTTP (see IETF RFC 9112 [35], IETF RFC 9110 [36] and IETF RFC 9111 [39]). XCAP uses the HTTP methods PUT, GET, and DELETE to operating on XML documents stored in the server.\nIn the case of supplementary services, the data stored in a server is related to the execution of that given service. The present document defines a new XCAP Application Usage for the purpose of allowing a client to manipulate data related to supplementary services.\nXCAP (see IETF RFC 4825 [8]) defines two logical roles: XCAP client and XCAP servers. An XCAP client is an HTTP/1.1 compliant client. Similarly an XCAP server is an HTTP/1.1 compliant server. The XCAP server acts as a repository of XML documents that customize and modify the execution of the supplementary services. Figure 3 depicts the XCAP architecture where an XCAP client sends an HTTP/1.1 request to an XCAP server. The server replies with an HTTP/1.1 response.\nThe XCAP architecture, as depicted in Figure 3, is a multi-layered, distributed network designed to support high-speed data transmission. It utilizes a combination of optical fiber, copper, and wireless technologies to ensure reliable and efficient communication. The architecture is designed to be scalable and flexible, allowing for easy expansion and adaptation to changing network requirements.\nFigure 3: XCAP architecture\nAccording to XCAP (see IETF RFC 4825 [8]), each application that makes use of XCAP defines its own XCAP application usage. The present document defines an supplementary services XCAP application usage in clause 6. This application usage defines the XML schema W3C REC-xmlschema-1-20010502 [2] for the data used by the application, along with other key pieces of information.\nXCAP focuses on the definition of XML documents that are compliant with the XML schema and constrains defined for a particular XCAP application usage. XCAP allows application to provide XML documents that are common for all users or XML documents that affect the service of a given user.\nCentral to XCAP is the construction of the HTTP URI that points to particular XML document or certain components of it. A component in an XML document can be an XML element, attribute, or the value of it.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tFunctional entities",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tUser Equipment (UE)",
                            "text_content": "The UE implements the role of an XCAP client, as described in clause 5.3.1 accessing the XCAP application usage as described in clause 6.2.\nFor systems where Generic Authentication Architecture specified in 3GPP TS 33.222 [6] is used, the UE shall support the authentication mechanisms specified in 3GPP TS 33.222 [6] and 3GPP TS 24.109 [5].\nFor systems where Generic Authentication Architecture specified in 3GPP TS 33.222 [6] is not used, the UE shall support IETF RFC 7616 [41] in all procedures of ETSI TS 183 038 [12] where HTTP digest authentication support is specified and shall support the TLS profile specified in 3GPP TS 33.310 [21] annex E in all procedures of ETSI TS 183 038 [12] where TLS support is specified.\nFor systems where Generic Authentication Architecture specified in 3GPP TS 33.222 [6] is not used, the UE may support the authentication mechanisms specified in 3GPP TS 33.141 [17] annex D.\nOn sending an HTTP request, the UE may indicate the user's identity intended to be used with the AS by adding a HTTP X-3GPP-Intended-Identity header (3GPP TS 24.109 [5]) to the outgoing HTTP request. If the authentication mechanism specified in 3GPP TS 33.141 [17] annex D is used, the UE shall add a HTTP X-3GPP-Intended-Identity header field.\nIf the UE supports the optional configuration parameter \"Access_Point_Name_Parameter_Reading_Rule\", as defined in 3GPP TS 24.167 [19] and has been configured with this parameter, then the UE shall use it to retrieve the access point name to use in the PDP context activation procedure or in the PDN connection procedure for XCAP.\nIn order to keep the supplementary services state synchronized with the network elements and other terminals that the user might be using, the UE should subscribe to changes in the XCAP simserv documents by generating a SUBSCRIBE request in accordance with RFC 5875 [11] and RFC 6665 [18].\nThe policy on access type used for the XCAP enables HPLMN control of access used for XCAP messages.\nThe policy on access type used for the XCAP can be set to one of the following values:\na)\tany access type;\nb)\t3GPP accesses only;\nc)\tEPC or 5GCN via WLAN IP-CAN only;\nd)\tNon-seamless WLAN offload only;\ne)\t3GPP accesses preferred, non-seamless WLAN offload as secondary; and\nf)\t3GPP accesses preferred, EPC or 5GCN via WLAN IP-CAN as secondary.\nThe UE may support the policy on access type used for the XCAP.\nIf the UE supports the policy on access type used for the XCAP:\na)\twhen the UE needs to send an XCAP request:\n1)\tif the policy on access type used for the XCAP is set to \"any access type\", the UE shall send XCAP requests from an IP address associated with a bearer of any access;\n2)\tif the policy on access type used for the XCAP is set to \"3GPP accesses only\":\nA)\tthe UE shall attempt to obtain a PDP context for XCAP as specified in 3GPP TS 24.008 [29] or a EPS bearer context for XCAP as specified in 3GPP TS 24.301 [30] or a 5GS QoS flow using NG-RAN as specified in 3GPP TS 24.501 [33];\nB)\tif the UE obtains the PDP context for XCAP or the EPS bearer context for XCAP or the 5GS QoS flow using NG-RAN, the UE shall send XCAP requests from an IP address associated with the obtained PDP context for XCAP or the obtained EPS bearer context for XCAP or the 5GS QoS flow using NG-RAN; and\nC)\tif the UE cannot obtain the PDP context for XCAP or the EPS bearer context for XCAP or the 5GS QoS flow using NG-RAN, the UE shall not send XCAP request;\n3)\tif the policy on access type used for the XCAP is set to \"EPC or 5GCN via WLAN IP-CAN only\":\nA)\tthe UE shall attempt to associate with a WLAN as specified in 3GPP TS 24.302 [31] or as specified in 3GPP TS 24.502 [34] and the UE shall attempt to obtain:\n-\ta PDN connection for XCAP as specified in 3GPP TS 24.302 [31], or 3GPP TS 24.244 [32]; or\n-\ta 5GS QoS flow using WLAN as specified in 3GPP TS 24.502 [34];\nB)\tif the UE obtains the PDN connection or 5GS QoS flow for XCAP, the UE shall send XCAP requests from an IP address associated with the PDN connection or 5GS QoS flow for XCAP; and\nC)\tif the UE cannot obtain the PDN connection or 5GS QoS flow for XCAP, the UE shall not send an XCAP request;\n4)\tif the policy on access type used for the XCAP is set to \"Non-seamless WLAN offload only\":\nA)\tthe UE shall attempt to associate with a WLAN as specified in 3GPP TS 24.302 [31];\nB)\tif the UE associates with a WLAN and the WLAN is either untrusted non-3GPP access or the UE established NSWO via TWAN, the UE shall send XCAP requests from an IP address associated with the WLAN; and\nC)\tif the UE cannot associate with a WLAN or the UE associates with TWAN and NSWO is not available, the UE shall not send an XCAP request;\n5)\tif the policy on access type used for the XCAP is set to \"3GPP accesses preferred, non-seamless WLAN offload as secondary\":\nA)\tthe UE shall attempt to obtain a PDP context for XCAP as specified in 3GPP TS 24.008 [298] or a EPS bearer context for XCAP as specified in 3GPP TS 24.301 [30] or a 5GS QoS flow for XCAP as specified in 3GPP TS 24.501 [33];\nB)\tif the UE obtains the PDP context for XCAP or the EPS bearer context for XCAP or a 5GS QoS flow for XCAP, the UE shall send XCAP requests from an IP address associated with the obtained PDP context for XCAP or the obtained EPS bearer context for XCAP; and\nC)\tif the UE cannot obtain the PDP context for XCAP or the EPS bearer context for XCAP or a 5GS QoS flow for XCAP:\ni)\tthe UE shall attempt to associate with a WLAN as specified in 3GPP TS 24.302 [31];\nii)\tif the UE associates with a WLAN and the WLAN is either untrusted non-3GPP access or the UE established NSWO via TWAN, the UE shall send XCAP requests from an IP address associated with the WLAN; and\niii)\tif the UE cannot associate with a WLAN or the UE associates with TWAN and NSWO is not available, the UE shall not send an XCAP request; and\n6)\tif the policy on access type used for the XCAP is set to \"3GPP accesses preferred, EPC or 5GCN via WLAN IP-CAN as secondary\":\nA)\tthe UE shall attempt to obtain a PDP context for XCAP as specified in 3GPP TS 24.008 [29] or a EPS bearer context for XCAP as specified in 3GPP TS 24.301 [30] or a 5GS QoS flow using NG-RAN as specified in 3GPP TS 24.501 [33];\nB)\tif the UE obtains the PDP context for XCAP or the EPS bearer context for XCAP or the 5GS QoS flow for XCAP, the UE shall send XCAP requests from an IP address associated with the obtained PDP context for XCAP or the obtained EPS bearer context for XCAP or the 5GS QoS flow using NG-RAN; and\nC)\tif the UE cannot obtain the PDP context for XCAP or the EPS bearer context for XCAP or the 5GS QoS flow using NG-RAN:\ni)\tthe UE shall attempt to associate with a WLAN as specified in 3GPP TS 24.302 [31] or as specified in 3GPP TS 24.502 [34] and the UE shall attempt to obtain:\n-\ta PDN connection for XCAP as specified in 3GPP TS 24.302 [31], or 3GPP TS 24.244 [32]; or\n-\ta 5GS QoS flow using WLAN as specified in 3GPP TS 24.502 [34];\nii)\tif the UE obtains the PDN connection or 5GS QoS flow for XCAP, the UE shall send XCAP requests from an IP address associated with the PDN connection or 5GS QoS flow for XCAP; and\niii)\tif the UE cannot obtain the PDN connection or 5GS QoS flow for XCAP, the UE shall not send an XCAP request; and\nb)\tthe UE may support being configured with the policy on access type used for the XCAP using one or more of the following methods:\na)\tthe EFXCAPConfigData  file described in 3GPP TS 31.102 [15B];\nb)\tthe EFXCAPConfigData file described in 3GPP TS 31.103 [15A]; and\nc)\tthe AccessForXCAP node of 3GPP TS 24.424 [22].\nIf the UE is configured with both the AccessForXCAP node of 3GPP TS 24.424 [22] and the EFXCAPConfigData file described in 3GPP TS 31.102 [15B] or 3GPP TS 31.103 [15A], then the EFXCAPConfigData file shall take precedence.\nNOTE:\tPrecedence for files configured on both the USIM and ISIM is defined in 3GPP TS 31.102 [15B].\nThe policy on authentication mechanism used for the XCAP enables the network to choose authentication mechanism for the Ut reference point.\nThe policy on authentication mechanism used for the XCAP can be set to one of the following values:\na)\tGBA_ME;\nb)\tGBA_U;\nc)\tGBA_Digest; and\nd)\tSSC (support for subscriber certificates).\nThe UE may support the policy on authentication mechanism used for the XCAP.\nIf the UE supports the policy on authentication mechanism for the XCAP, when the UE needs to send an HTTP request:\na)\tif the policy on authentication mechanism used for the XCAP is set to \"GBA_ME\", the UE shall use GBA_ME authentication mechanism as defined in 3GPP TS 33.220 [27];\nb)\tif the policy on authentication mechanism used for the XCAP is set to \"GBA_U\", the UE shall use GBA_U authentication mechanism as defined in 3GPP TS 33.220 [27];\nc)\tif the policy on authentication mechanism used for the XCAP is set to \"GBA_Digest\", the UE shall use GBA_Digest authentication mechanism as defined in 3GPP TS 33.220 [27]; or\nd)\tif the policy on authentication mechanism used for the XCAP is set to \"SSC\", the UE shall use SSC authentication mechanism as defined in 3GPP TS 33.221 [28].\nThe UE may support being configured with the policy on authentication mechanism used for the XCAP using the AuthenticationForXCAP node of 3GPP TS 24.424 [22].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.2\tAuthentication Proxy (AP)",
                            "text_content": "An Authentication Proxy is an HTTP/1.1 (see IETF RFC 9112 [35], IETF RFC 9110 [36] and IETF RFC 9111 [39]) compliant server whose main purpose is to authenticate the user requests. The Authentication Proxy is used to separate the authentication procedure and the Application Server (AS) specific application logic to different logical entities.\nThe AP is configured as a HTTP reverse proxy, i.e. the FQDN of the AS is configured to the AP such a way that the IP traffic intended to the AS is directed to the AP by the network. The AP performs the authentication of the UE. After the authentication procedure has been successfully completed, the AP assumes the typical role of a reverse proxy, i.e. the AP forwards HTTP requests originating from the UE to the correct AS, and returns the corresponding HTTP responses from the AS to the originating UE.\nThe AP allows authorized users to manipulate services when they are connected to an IMS network or when they are connected to a non-IMS network (e.g. the public Internet). Authentication details can differ in both situations. Provisioning of credentials to authenticate the user is outside the scope of the present document. 3GPP TS 33.222 [6] provides further architectural authentication details.\nNOTE:\tMultiple APs can exist between the UE and the AS, and the UE can obtain a list of different AP addresses via DNS query.\nOn receiving an HTTP request, the AP shall first determine the mechanism used to authenticate the user. If the Generic Authentication Architecture specified in 3GPP TS 33.222 [6] is used, the AP shall attempt to authenticate the user via the mechanisms specified in 3GPP TS 33.222 [6] and the AP shall follow the procedures indicated in clause 5.2.2.2.1. For systems where Generic Authentication Architecture specified in 3GPP TS 33.222 [6] is not used, the AP shall attempt to authenticate the user according to IETF RFC 7616 [41] (ETSI TS 183 038 [12] provides guidelines for the Authentication Proxy) or 3GPP TS 33.141 [17] annex D.\nOn receiving an HTTP request that contains the Authorization header field, the AP shall:\na)\tuse the value of that username parameter of the Authorization header field to authenticate the user;\nb)\tapply the procedures specified in IETF RFC 7616 [41] for authentication;\nc)\tif the HTTP request contains an X-3GPP-Intended-Identity header field (3GPP TS 24.109 [5]), then the AP may verify that the user identity belongs to the subscriber. This verification of the user identity shall be performed dependant on the subscriber's application specific or AP specific user security settings;\nd)\tif authentication is successful, remove the Authorization header field from the HTTP request;\ne)\tinsert an HTTP X-3GPP-Asserted-Identity header field (3GPP TS 24.109 [5]) that contains the asserted identity or a list of identities; and\nf)\tforward the HTTP request to the appropriate AS.\nOn receiving an HTTP response for the previous request, the AP shall:\na)\tadd an Authentication-Info header field in accordance to the procedures described in 3GPP TS 33.222 [6]; and\nb)\tforward the response to the XCAP client.\nOn receiving an HTTP request that does not contain the Authorization header field, the AP shall:\na)\tchallenge the user by generating a 401 Unauthorized response according to the procedures specified in 3GPP TS 33.222 [6] and IETF RFC 7616 [41]; and\nb)\tforward the 401 Unauthorized response to the sender of the HTTP request.\nThe AP shall be able to decide whether particular subscriber, i.e. the UE, is authorized to access a particular AS. On doing so, the AP may use the User Security Settings specified in 3GPP TS 24.109 [5].\nThe AP may indicate an asserted identity or a list of identities to the AS by adding an HTTP X-3GPP-Asserted-Identity header field to the HTTP requests prior to forwarding the request to the AS. In case of multiple identities, they shall be separated by comma (,) and each identity shall be surrounded by quotation marks (\"). Whether the AP supports this handling of an asserted identity or a list of identities then it shall depend on local policy in the AP. In addition the subscriber's application specific or AP specific user security settings may be considered.\nThe AP may indicate an authorization flag or a list of authorization flags from the application specific user security settings (USS) to the AS by adding a HTTP X-3GPP-Authorization-Flags header field to the HTTP request prior to forward it to the XCAP server. The HTTP X-3GPP-Authorization-Flags header field shall contain a list of authorization flags separated by comma (,) and each authorization flag is surrounded by quotation marks (\"). In case the AP supports this handling of authorization flags from USS then it shall depend on local policy in the AP.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.3\tApplication Server (AS)",
                            "text_content": "An Application Server implements the role of an XCAP server as described in clause 5.3.2 providing the XCAP application usage as described in clause 6.2.\nFor systems where Generic Authentication Architecture specified in 3GPP TS 33.222 [6] is used, the AS shall support the authentication mechanisms specified in 3GPP TS 33.222 [6] and 3GPP TS 24.109 [5].\nFor systems where Generic Authentication Architecture specified in 3GPP TS 33.222 [6] is not used, the AS shall support IETF RFC 7616 [41] in all procedures of ETSI TS 183 038 [12] where HTTP digest authentication support is specified and shall support the TLS profile specified in 3GPP TS 33.310 [21] annex E in all procedures of ETSI TS 183 038 [12] where TLS support is specified.\nProcedures regarding Operator Determined Barring (ODB) are defined in 3GPP TS 24.315 [16].\nFor systems where Generic Authentication Architecture specified in 3GPP TS 33.222 [6] is not used, the AS may support the authentication mechanisms specified in 3GPP TS 33.141 [17] annex D.\nIf an Authentication Proxy (AP) is provided in the path of the HTTP request, then the AS receives an HTTP request from a trusted source (the AP) and contains an HTTP X-3GPP-Asserted-Identity header (3GPP TS 24.109 [5]) that includes an asserted identity of the user. In this case the AS does not need to authenticate the user, but just provide authorization to access the requested resource.\nIf an HTTP X-3GPP-Asserted-Identity header (3GPP TS 24.109 [5]) is not present in the HTTP request or if the request is received from a non-trusted source, then the AS needs to authenticate the user prior to providing authorization to the XCAP resource by applying the procedures of authentication mechanisms specified in 3GPP TS 33.222 [6] and 3GPP TS 24.109 [5] in case Generic Authentication Architecture is selected, or as described in clause 5.2.3.2.1 or 3GPP TS 33.141 [17] annex D otherwise.\nOn receiving an HTTP request that does not contain an Authorization header the AS shall:\na)\tchallenge the user by generating a 401 Unauthorized response that contains the proper Digest authentication parameters (e.g. realm), according to IETF RFC 7616 [41]. Provisioning of credentials to authenticate the user is outside the scope of the present document; and\nb)\tforward the 401 Unauthorized response to the sender of the HTTP request.\nOn receiving an HTTP request that contains an Authorization header, the AS shall:\na)\tapply the authentication procedures defined in IETF RFC 7616 [41]; and\nb)\tauthorize or deny authorization depending on the authenticated identity.\nWhen the AS receives a SUBSCRIBE request having the Event header field value set to \"xcap-diff\", the AS shall first authenticate the source of the SUBSCRIBE request and then perform authorization. Afterwards, the AS shall generate a response to the SUBSCRIBE request and notifications in accordance with RFC 5875 [11] and RFC 6665 [18].\nOn receiving a XCAP request to modify service settings for a supplementary service, the AS shall check whether service capability fragments within the simservs document for the subscription of the sender for the XCAP request are available. If a service capability fragment within the simservs document is available, the AS shall validate the XCAP request against constraints defined in that service capability fragment and only accept modifications that are allowed by the service capability fragment. If the validation fails, the AS shall respond with a HTTP 409 (Conflict) response as defined in IETF RFC 4825 [8].\nNOTE:\tThe XML schema for a service capability fragment for a supplementary service is defined in the respective supplementary service specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.3\tRoles",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tXCAP client",
                            "text_content": "The XCAP client is a logical function as defined in IETF RFC 4825 [8]. The XCAP client provides the means to manipulate the general data, such as configuration settings related to supplementary services.\nIn order to manipulate XCAP resources stored on the XCAP server, the XCAP client uses the XCAP Root URI as defined in clause 13.9.1 of 3GPP TS 23.003 [15]. The UE implementing the XCAP client can be provisioned with an XCAP Root URI as specified in Appendix C in OMA-TS-XDM_Core-V1_1-20080627-A [14].\nNOTE:\tIn order to be able to manipulate XCAP resources stored on the XCAP server, the XCAP client needs to know the user's directory name. It is assumed that this value is pre-provisioned or the UE uses some means to discover it. Discovery mechanisms are outside the scope of the present document.\nWhen the XCAP client intends to manipulate a resource list, the XCAP client shall generate an HTTP PUT, HTTP GET or HTTP DELETE request in accordance with IETF RFC 4825 [8] and the supplementary services application usage specified in clause 6 of the present document. The XCAP client may attempt to manipulate resources for one or more supplementary services per request.\nIETF RFC 4825 [8] describes the usage of a locally cached copy of resource lists. The XCAP client shall ensure that a modification of a resource list is performed using a version of the resource list that is synchronized with the resource list that is stored in the XCAP server.\nNOTE 1:\tOne mechanism to ensure that the locally cached version of a resource list is the same as the version of the resource list on the XCAP server is the usage of If-Match header field for conditional operations as defined in IETF RFC 4825 [8] by the XCAP client.\nWhen the XCAP client needs to provide a password in order to request the manipulation of a resource list, the XCAP client shall include an XCAP User Identifier (XUI) in the Request-URI of an HTTP PUT request containing:\n1)\ta SIP URI representing the public user identity of the served user; and\n2)\tin the password portion of the SIP URI, the current password.\nNOTE 2:\tThe password provided by the user is a common password for all applicable supplementary services.\nIf the XCAP client receives a HTTP 403 (Forbidden) response to an HTTP PUT, HTTP GET or HTTP DELETE request, the XCAP client should not retry to manipulate the supplementary service settings via XCAP for a certain time period.\nNOTE 1:\tIf the UE is not configured for supplementary service management as specified in 3GPP TS 24.167 [19], the UE can use another mechanism or domain (if available) to manipulate the supplementary services configuration settings (e.g. CS domain).\nNOTE 2:\tThe certain time period that the XCAP client does not retry the manipulation of supplementary services settings via XCAP depends on the type of terminal that implements the XCAP client (e.g. XCAP clients residing on mobile terminals can retry after a power-off/power-on or after detection of a change of USIM/ISIM).\nIf the XCAP client receives an HTTP 409 (Conflict) response to an XCAP request (within an HTTP PUT request or HTTP DELETE request) where the request contained changes to the simservs XML document (as defined in clause 6.1) then the XCAP client shall not attempt to resend the request with the same contents but if there are smaller portion of the change that are appropriate to make then the XCAP client should attempt to resend these smaller portions of changes to the simservs XML document, with each smaller portion contained within its own XCAP request (each within an HTTP PUT request or HTTP DELETE request, as appropriate).\nNOTE 1:\tThe functionality desired bythe user and the XCAP client implementation can determine how and whether to reapportion changes to the simservs XML document in a new XCAP request from a previous XCAP request. One example could be to align portions of changes to known supplementary service boundaries.\nNOTE 2:\tAn XCAP client might receive an HTTP 409 (Conflict) response for reasons other than a supplementary service subscription error e.g. as defined in IETF RFC 4825 [8]. Indication of the specific reason for the error is not defined in the current version of the present document.\nIf no response is received within a certain time period, after the XCAP client has sent out an HTTP request and the XCAP client has different IP addresses available, the XCAP client may retry the request using one of the other IP addresses.\nNOTE:\tThe certain time period before the XCAP client retries the request depends on the configuration of the terminal that implements the XCAP client.\nNOTE 1:\t3GPP TS 22.030 [23] describes the MMI used when a user wishes to change a password when performing supplementary service control via the CS domain. This requires the user to input the current password, the new password and the new password (again). For password change via the CS domain, the network performs the verification of the new password with the new password (again). For password change via IMS, it is assumed that the user will still provide the current password, the new password and the new password (again) but the verification of the new password with the new password (again) will be carried out by the application on the UE. The details of this verification are out of scope of the present document.\nWhen changing a password, the UE shall send an HTTP POST request, and shall include:\na)\tin the Request-URI an XUI including:\n1)\ta SIP URI representing the public user identity of the served user; and\n2)\tin the password portion of the SIP URI the current password;\nb)\tthe node selector in the Request-URI indicating the simservs XCAP resource; and\nc)\tin the body a <password-change> element including a <new-password> element containing the new password.\nNOTE 2:\tThe current password and new password are common passwords for all applicable supplementary services.\nThe UE may also request a password check by sending an HTTP POST request as above, but without the <new-password> element.\nNOTE 3:\tThere is no useful semantics for a UE to request a password check, but for IMS centralised services as specified in 3GPP TS 29.292 [26] this is needed for compatibility with CS procedures.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.2\tXCAP server",
                            "text_content": "The XCAP server is a logical function as defined in IETF RFC 4825 [8]. The XCAP server can store data related to the configuration of supplementary services. The XCAP server shall provide or deny authorization to access XCAP resources by authenticated users. It is an operator configurable option in the XCAP server as to which supplementary services (if any) are provisioned for a subscription and what constraints (if any) apply to settings for provisioned supplementary services.\nWhen the XCAP server receives an HTTP PUT, HTTP GET or HTTP DELETE request for manipulating or fetching a resource list, the XCAP server shall first authenticate the request and then perform authorization. Clause 5.2.2 provides more details on the authentication and authorization of HTTP requests.\nThe XCAP server shall support conditional processing as specified in IETF RFC 4825 [8] based on If-Match header field.\nAfterwards the XCAP server shall perform the requested action and generate a response in accordance with \nIETF RFC 4825 [8] and the supplementary services application usage specified in clause 6.\nIf the username identified by the XUI in the HTTP PUT, HTTP GET or HTTP DELETE request, is not allowed to manipulate settings via XCAP, then the XCAP server shall respond with a HTTP 403 (Forbidden) response.\nNOTE:\tIf the UE is not configured for supplementary service management as specified in 3GPP TS 24.167 [19], it is expected that operators do not configure their XCAP servers to return the HTTP 403 error response code for any other reason than specified above.\nIf the subscription associated with the username identified by the XUI in a received HTTP PUT or HTTP DELETE request is allowed to manipulate settings via XCAP and is either not provisioned with one or more supplementary services indicated in the XML document contained within the request or is provisioned but the indicated configuration is not in compliance with one or more operator defined constraints or the subscription option \"control of supplementary service\" to \"by the service provider\", then the XCAP server shall respond with an HTTP 409 (Conflict) response and shall not update the settings.\nNOTE:\tAn XCAP server might send an XCAP client an HTTP 409 (Conflict) response for reasons other than a supplementary service subscription error e.g. as defined in IETF RFC 4825 [8]. Indication of the specific reason for the error is not defined in the current version of the present document.\nPassword management procedures at the XCAP server consist of two independent procedures:\n-\tpassword check; and\n-\tpassword change;\nThe password check procedure is used for verifying the current password stored against the user:\n-\twhen the user requests a password check;\n-\twhen the user requests a password change; and\n-\twhen the user requests modification of a supplementary service configuration document for a service that has password control.\nThe password change procedure is used by the XCAP server to set a new password for the user.\nThe XCAP server shall maintain a Wrong Password Attempts (WPA) counter.\nWhen the password is set by the service provider the XCAP server shall reset the WPA counter to zero.\nIf the XCAP server receives a password that does not match the current password stored for the service, the XCAP server shall increment the WPA counter by 1.\nIf a password check passes at the XCAP server, the XCAP server shall reset the WPA counter to zero. If the WPA counter exceeds the value three, the XCAP server shall set the subscription option \"control of supplementary service\" to \"by the service provider\".\nIf a password is required (e.g. for supplementary service configuration or for password change) and the XUI contains a password in the password portion of the SIP URI, the XCAP server shall verify that the password in the request matches that stored for the user.\nIf a password is required, and the XCAP server receives a request:\n-\twhere the XUI is not a SIP URI;\n-\twhere the XUI is a SIP URI and the request does not contain a password in the password portion of the SIP-URI; or\n-\twhere the XUI is a SIP URI, the request contains a password in the password portion of the SIP-URI and the password does not match the current password stored for the user;\nthen the XCAP server shall respond with an HTTP 409 (Conflict) response.\nWhen the XCAP server responds with an HTTP 409 (Conflict) response where the XUI in the received request is not a SIP URI , the XCAP server shall include an <incorrect-xui-format> element in the HTTP 409 (Conflict) response.\nWhen the XCAP server responds with an HTTP 409 (Conflict) response where the XUI is a SIP URI, the WPA counter has not exceeded 3 and:\n-\tif the password is missing in the request, the XCAP server shall include a <password-required> element; and\n-\tif the password is not correct, the XCAP server shall include an <incorrect-password> element.\nIf the XCAP server receives a request for\n-\ta password check;\n-\ta password change; or\n-\tmodification of a supplementary service,\nand the user has the subscription option \"control of supplementary service\" set to \"by the service provider\", the XCAP server shall reject the request with an HTTP 403 (Forbidden) response.\nIf the XCAP server receives an HTTP POST request populated as in clause 5.3.1.3 and the subscription option \"control of supplementary service\" is set to a value of \"by the service provider\", then the XCAP server shall respond with an HTTP 403 (Forbidden) response.\nWhen the XCAP server receives an HTTP POST request populated as in clause 5.3.1.3, and the subscription option \"control of supplementary service\" is set to a value of \"by subscriber using a password\", the AS shall determine if the user is authorized to change the password by asserting that the received current password is correct as described in clause 5.3.2.5.2, and if so replace the currently used password with the new password. The new password is stored in an implementation specific way such that the password cannot be retrieved by the user.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tSupplementary services XCAP application usage",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tStructure of the XML document",
                    "description": "",
                    "summary": "",
                    "text_content": "XCAP provides for the existence of application usages that define the conventions and constraints related to the manipulation of XML documents in an XCAP server. The present document defines a supplementary services XCAP application usage.\nNOTE 1:\tFurther releases can extend this application usage when deemed practical.\nThe present document follows a modular approach, as depicted in figure 4, that provides for the existence of a simservs XML document that contains the data associated to one or more supplementary services. The simservs XML document is composed of a common part, defined by the present document, and a number of XML fragments each corresponding to one or more supplementary services.\nNOTE 2:\tThis modular approach has significant advantages. Particularly, it is versatile enough to allow any number of configurations. For example, in one configuration, an XCAP server might be managing a given server. In this case, the simservs XML document will contain one subtree per service. In another configuration, each service is managed in its own XCAP server, case in which the XML document in each XCAP server will contain the common parts and a single XML subtree that manages the service. Yet in a third configuration the XCAP server stores several XML documents, each document managing one or more services.\nThe XML schema for the simservs XML document, including the common parts, is specified in clause 6.3 of the present document. This XML schema allows for each of the individual XML schemas pertaining to a particular service to import the common parts XML schema. Each XML fragment affects the settings of one or more supplementary services. The XML schema of each of the supplementary services is specified in its own specification. A template for this XML schema is provided in clause 6.4 of the present document.\nThe figure depicts a structure of a supplementary services XML document, illustrating the various elements and their relationships. The document includes headers, sections, and subsections, with each section containing a list of attributes and their corresponding values. The document is organized in a hierarchical structure, with the root element being the \"Supplementary Services\" element, and sub-elements representing different types of supplementary services. The figure provides a clear and concise representation of the XML document's structure, making it easy to understand and navigate.\nFigure 4: Structure of a supplementary services XML document\nThe simservs XML document starts with a <simservs> root XML element that can contain one or more child elements pertaining to supplementary services. Each of these service elements can contain an \"active\" attribute that indicates whether the service is activated or not. When the \"active\" attribute is absent on a service element, it indicates that the service is activated. Elements and attributes from different namespaces can be present as well. Services may also include capability elements that are read-only. These elements indicate which capabilities the network has provisioned for a user.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.2\tXCAP application usage",
                    "description": "",
                    "summary": "",
                    "text_content": "XCAP requires application usages to fulfil a number of steps in the definition of such application usage. The reminder of this clause specifies the required definitions of the supplementary services XCAP Application Usage.\nApplication Unique ID (AUID): Each XCAP application usage is associated with a unique name called the Application Unique ID (AUID). The AUID defined by this application usage falls into the vendor-proprietary namespace of XCAP AUID, where ETSI is considered a vendor.\nThe AUID allocated to the supplementary services XCAP application usage is:\nsimservs.ngn.etsi.org\nXML schema: Implementations in compliance with the present document shall implement the XML schema that includes the XML Schema defined in clause 6.3. Additionally, each supplementary service (or group of them) is modelled with a XML fragment that is validated according to a specific XML schema. The XML schema that affects the settings of the related service is specified in the specification of the given supplementary service. Clause 6.4 provides a template that shall be included in XML Schema that also includes the XML Schema defined in clause 6.3 along with inclusion of XML schema defined by each of the supplementary services that implement XML schemas for data manipulation. Additionally the schema in clause 6.3 contains the specification of a number of common service specific elements and types, the semantics and applicability of these elements is described in the service specifications that use them.\nDefault document namespace: XCAP requires application usages to declare the default document namespace specified in IETF RFC 4825 [8]. The default document namespace of the supplementary services XCAP application usage is:\nhttp://uri.etsi.org/ngn/params/xml/simservs/xcap\nMIME type: The MIME type of supplementary services XML documents is:\napplication/vnd.etsi.simservs+xml\nValidation constraints: The present document does not specify any additional constraint beyond those defined by XCAP RFC 4825 [8]. Note, however, that each of the supplementary services may specify additional constraints on each of the XML subdocuments.\nData semantics: The XML schema does not accept URIs that could be expressed as a relative URI reference causing a resolution problem. However, each of the supplementary services should consider if relative URIs are allowed in the subdocument tree, and in that case, they should indicate how to resolve relative URI references. In the absence of further indications, relative URI references should be resolved using the document URI as the base of the relative URI reference.\nNaming conventions: Supplementary services XML documents are stored under the user's Home Directory (which is located under the \"users\" sub-tree). The filename in the document selector is:\nsimservs.xml\nResource interdependencies: The present document does not specify additional resource interdependency beyond those specified in the XML schema and beyond any resource interdependency that may be specified in each of supplementary services.\nAuthorization policies: The following authorization policy applies to the owner of simservs XML document:\na)\tauthorised to retrieve any part of the document;\nb)\tunauthorised to create:\n1)\tnew child element(s) to the <simservs> root element; and\n2)\tnew attribute(s) for a child element of the the <simservs> root element;\nc)\tunauthorised to remove:\n1)\texisting child element(s) from the <simservs> root element; and\n2)\texisting attribute(s) from a child element of the <simservs> root element;\nd)\tunauthorised to replace or remove:\n1)\tread-only child element(s) of the <simservs>  root element, their attributes and their content;\ne)\tunauthorised to replace:\n1)\tdescendant element(s) of the <simservs>  root element that are not allowed to be modified by the service capability fragments as described in clause 5.2.3.4; and\n2)\tattribute(s) within descendant element(s) of the the <simservs> root element that are not allowed to be modified by the service capability fragments as described in clause 5.2.3.4; and\nf)\tauthorized to replace element(s) and attribute(s) other than those specified in bullet d).\nUsers other than the owner of the simservs XML document are unauthorised to perform any operation on the document.\nUnauthorized manipulation attempts on the simservs XML document are rejected with an HTTP 409 (Conflict) response as defined in IETF RFC 4825 [8].\nNOTE 1:\tIt is allowed to replace the simservs XML document or its <simservs> root element containing read-only child elements provided that the read-only child elements, including their content, are preserved.\nNOTE 2:\tAny child elements of the <simservs> root element of the simservs XML document unknown to the XCAP client can be potentially read-only.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.3\tXML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema targetNamespace=\"http://uri.etsi.org/ngn/params/xml/simservs/xcap\"\nxmlns:ss=\"http://uri.etsi.org/ngn/params/xml/simservs/xcap\"\nxmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\nelementFormDefault=\"qualified\"\nattributeFormDefault=\"unqualified\">\n\n<!-- The element \"simservs\" maps to the Common Parts of a supplementary services document -->\n\n<xs:element name=\"simservs\">\n<xs:annotation>\n<xs:documentation>XML Schema for data manipulation of Supplementary\nServices\n</xs:documentation>\n</xs:annotation>\n<xs:complexType>\n<xs:sequence>\n<xs:element ref=\"ss:absService\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n<xs:element name=\"extensions\" minOccurs=\"0\">\n<xs:complexType>\n<xs:sequence>\n<xs:any namespace=\"##other\" processContents=\"lax\"\nminOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n</xs:element>\n</xs:sequence>\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n</xs:element>\n\n<xs:element name=\"absService\" abstract=\"true\" type=\"ss:simservType\"/>\n\n<xs:complexType name=\"simservType\">\n<xs:attribute name=\"active\" type=\"xs:boolean\"\nuse=\"optional\" default=\"true\" />\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n<xs:complexType name=\"provisioned-type\">\n<xs:attribute name=\"provisioned\" type=\"xs:boolean\"\nuse=\"optional\" default=\"true\" />\n<xs:anyAttribute namespace=\"##any\" processContents=\"lax\"/>\n</xs:complexType>\n\n<xs:complexType name=\"supported-media-type\">\n<xs:choice>\n<xs:element name=\"all-media\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"no-media\" type=\"ss:empty-element-type\"/>\n<xs:sequence maxOccurs=\"unbounded\">\n<xs:element name=\"media\" type=\"ss:media-type\"/>\n</xs:sequence>\n<xs:any namespace=\"##other\" processContents=\"lax\"/>\n</xs:choice>\n</xs:complexType>\n\n<xs:complexType name=\"provisioned-target-type\">\n<xs:choice>\n<xs:element name=\"any-target-type\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"telephony-type\" type=\"ss:empty-element-type\"/>\n<xs:any namespace=\"##other\" processContents=\"lax\"/>\n</xs:choice>\n</xs:complexType>\n\n<!-- service specific IETF common policy condition elements-->\n<xs:element name=\"anonymous\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"presence-status\" type=\"ss:presence-status-activity-type\"/>\n<xs:element name=\"media\" type=\"ss:media-type\"/>\n<xs:element name=\"communication-diverted\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"rule-deactivated\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"not-registered\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"busy\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"no-answer\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"not-reachable\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"roaming\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"international\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"international-exHC\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"request-name\" type=\"ss:request-name-type\"/>\n\n<!-- service specific IETF xcap-error elements-->\n<xs:element name=\"password-required\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"incorrect-password\" type=\"ss:empty-element-type\"/>\n<xs:element name=\"incorrect-xui-format\" type=\"ss:empty-element-type\"/>\n\n\n<!-- service specific type declarations -->\n<xs:simpleType name=\"media-type\" final=\"list restriction\">\n<xs:restriction base=\"xs:string\"/>\n</xs:simpleType>\n<xs:simpleType name=\"presence-status-activity-type\" final=\"list restriction\">\n<xs:restriction base=\"xs:string\"/>\n</xs:simpleType>\n<xs:complexType name=\"empty-element-type\"/>\n<xs:simpleType name=\"request-name-type\" final=\"list restriction\">\n<xs:restriction base=\"xs:string\">\n<xs:pattern value=\"([A-Z])*\"/>\n</xs:restriction>\n</xs:simpleType>\n\n\n\n</xs:schema>\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.4\tTemplate for a supplementary service XML schema",
                    "description": "",
                    "summary": "",
                    "text_content": "Supplementary services that implement XCAP operations to manipulate the data associated to its service shall base their XML schema in the following template. Replace \"ServiceName\" with the name or acronym of the actual service.\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema targetNamespace=\"http://uri.etsi.org/ngn/params/xml/simservs/xcap\"\txmlns:ss=\"http://uri.etsi.org/ngn/params/xml/simservs/xcap\"\txmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\nelementFormDefault=\"qualified\"\nattributeFormDefault=\"unqualified\">\n\n<xs:element name=\"ServiceName\" substitutionGroup=\"ss:absService\">\n<xs:annotation>\n<xs:documentation>Template of a\nSupplementary Service XML Schema\n</xs:documentation>\n</xs:annotation>\n\n<!-- If the service needs to add children elements or attributes -->\n<!-- it can use the following complexType for such purpose -->\n<xs:complexType>\n<xs:complexContent>\n<xs:extension base=\"ss:simservType\">\n<xs:sequence>\n<!-- service specific elements can be defined here -->\n</xs:sequence>\n<!-- service specific attributes can be defined here -->\n</xs:extension>\n</xs:complexContent>\n</xs:complexType>\n\n</xs:element>\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.5\tXML schema for password change",
                    "description": "",
                    "summary": "",
                    "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:ss=\"http://uri.etsi.org/ngn/params/xml/simservs/xcap\" targetNamespace=\"http://uri.etsi.org/ngn/params/xml/simservs/xcap\" elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\n<xs:annotation>\n<xs:documentation xml:lang=\"en\">This schema defines elements for changing a password.\n</xs:documentation>\n</xs:annotation>\n<xs:include schemaLocation=\"XCAP.xsd\"/>\n<xs:element name=\" password-change\" substitutionGroup=\"ss:absService\">\n<xs:complexType>\n<xs:complexContent>\n<xs:extension base=\"ss:simservType\">\n<xs:sequence>\n<xs:element name=\"new-password\" type=\"ss:password-type\" minOccurs=\"0\"/>\n<xs:element name=\"anyExt\" type=\"ss:anyExtType\"/>\n</xs:sequence>\n</xs:extension>\n</xs:complexContent>\n</xs:complexType>\n</xs:element>\n<xs:simpleType name=\"password-type\">\n<xs:restriction base=\"xs:string\">\n<xs:pattern value=\"\\d{4}\"/>\n</xs:restriction>\n</xs:simpleType>\n<xs:complexType name=\"anyExtType\">\n<xs:sequence>\n<xs:any namespace=\"##any\" processContents=\"lax\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:complexType>\n</xs:schema>\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "B.1\tScope",
            "description": "The present annex defines aspects for the connection between UE and the network to be used for XCAP.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.2\tProcedures at the UE",
            "description": "The XCAP connection parameters policy consists of zero or more XCAP connection parameters policy parts.\nThe XCAP connection parameters policy part consists of an access identifier and an XCAP connection parameters reference. The XCAP connection parameters reference refer to an instance of the <X> interior node specified in OMA-TS-XDM_Core-V1_1-20080627-A [14].\nThe UE may support the XCAP connection parameters policy.\nIf the UE supports the XCAP connection parameters policy:\n1)\tif the UE intends to send an XCAP request using an access identified by an access identifier of a XCAP connection parameters policy part, the UE shall send the XCAP request according to the XCAP connection parameters referenced by the XCAP connection parameters reference of the XCAP connection parameters policy part; and\n2)\tthe UE may support being configured with the XCAP connection parameters policy using one or more of the following methods:\na)\tthe EFXCAPConfigData file described in 3GPP TS 31.102 [15B];\nb)\tthe EFXCAPConfigData file described in 3GPP TS 31.103 [15A]; and\nc)\tin the XCAP_conn_params_policy node of 3GPP TS 24.424 [22]\nIf the UE is configured with both XCAP_conn_params_policy node of 3GPP TS 24.424 [22] and the EFXCAPConfigData file described in 3GPP TS 31.102 [15B] or 3GPP TS 31.103 [15A], then the EFXCAPConfigData file shall take precedence.\nNOTE:\tPrecedence for files configured on both the USIM and ISIM is defined in 3GPP TS 31.102 [15B].\nIf the UE does not support the XCAP connection parameters policy, in order to manipulate XCAP resources stored on the XCAP server, a UE can be configured with parameters describing a connection to be used for XCAP. Connection parameters can be configured as specified in appendix C in OMA-TS-XDM_Core-V1_1-20080627-A [14].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.1\tScope",
            "description": "The present annex defines IP-CAN specific requirements for the supplementary services configuration using XCAP/Ut in the IMS, where the IP-CAN is Evolved Packet System (EPS).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.2\tApplication usage of XCAP",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "C.2.1\tProcedures at the UE",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "C.2.1.1\t3GPP PS data off",
                            "text_content": "The UE may support the 3GPP PS data off.\nIf the UE supports the 3GPP PS data off:\na)\tthe UE can be configured with an indication whether the SS configuration via XCAP is a 3GPP PS data off exempt service; and\nb)\tthe UE may support being configured with the indication whether the SS configuration via XCAP is a 3GPP PS data off exempt service using one or more of the following methods:\n1)\tthe EF3GPPPSDATAOFF described in 3GPP TS 31.102 [15B]; and\n2)\tthe SS_XCAP_config_exempt node of 3GPP TS 24.424 [22].\nIf the UE is configured with both the SS_XCAP_config_exempt node of 3GPP TS 24.424 [22] and the EF3GPPPSDATAOFF described in 3GPP TS 31.102 [15B], then the EF3GPPPSDATAOFF shall take precedence.\nIf the 3GPP PS data off status is \"active\" and the UE is not configured with an indication that SS configuration via XCAP is a 3GPP PS data off exempt service the UE shall not invoke the procedures in clause 5.2.1 and clause 5.3.1 from a UE's contact address containing an IP address associated with an EPS IP-CAN bearer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "D.1\tScope",
            "description": "The present annex defines IP-CAN specific requirements for the supplementary services configuration using XCAP/Ut in the IMS, where the IP-CAN is General Packet Radio Service (GPRS).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "D.2\tApplication usage of XCAP",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "D.2.1\tProcedures at the UE",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "D.2.1.1\t3GPP PS data off",
                            "text_content": "The UE may support the 3GPP PS data off.\nIf the UE supports the 3GPP PS data off:\na)\tthe UE can be configured with an indication whether the SS configuration via XCAP is a 3GPP PS data off exempt service; and\nb)\tthe UE may support being configured with the indication whether the SS configuration via XCAP is a 3GPP PS data off exempt service using one or more of the following methods:\n1)\tthe EF3GPPPSDATAOFF described in 3GPP TS 31.102 [15B]; and\n2)\tthe SS_XCAP_config_exempt node of 3GPP TS 24.424 [22].\nIf the UE is configured with both the SS_XCAP_config_exempt node of 3GPP TS 24.424 [22] and the EF3GPPPSDATAOFF described in 3GPP TS 31.102 [15B], then the EF3GPPPSDATAOFF shall take precedence.\nIf the 3GPP PS data off status is \"active\" and the UE is not configured with an indication that SS configuration via XCAP is a 3GPP PS data off exempt service the UE shall not invoke the procedures in clause 5.2.1 and clause 5.3.1 from a UE's contact address containing an IP address associated with a GPRS IP-CAN bearer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "E.1\tScope",
            "description": "The present annex defines IP-CAN specific requirements for the supplementary services configuration using XCAP/Ut in the IMS, where the IP-CAN is 5GS.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "E.2\tApplication usage of XCAP",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "E.2.1\tProcedures at the UE",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "E.2.1.1\t3GPP PS data off",
                            "text_content": "The UE may support the 3GPP PS data off feature.\nIf the UE supports the 3GPP PS data off feature, then:\na)\tthe UE can be configured with an indication of whether the SS configuration via XCAP is a 3GPP PS data off exempt service; and\nb)\tthe UE may support being configured with the indication of whether the SS configuration via XCAP is a 3GPP PS data off exempt service using one or more of the following methods:\n1)\tthe EF3GPPPSDATAOFF described in 3GPP TS 31.102 [15B]; and\n2)\tthe SS_XCAP_config_exempt node of 3GPP TS 24.424 [22].\nIf the UE is configured with both the SS_XCAP_config_exempt node of 3GPP TS 24.424 [22] and the EF3GPPPSDATAOFF described in 3GPP TS 31.102 [15B], then the EF3GPPPSDATAOFF shall take precedence.\nIn case of SNPN, if the UE supports the 3GPP PS data off:\na)\tthe UE can be configured with:\n1)\tup to two indications of whether the SS configuration via XCAP is a 3GPP PS data off exempt service for each subscribed SNPN whose entry exists in the \"list of subscriber data\", one indication is valid for the UE camping in the subscribed SNPN, and the other indication is valid for any non-subscribed SNPN the UE is camping in using the subscribed SNPN's credentials; and\n2)\tan indication of whether the SS configuration via XCAP is a 3GPP PS data off exempt service for PLMN subscription, valid for any non-subscribed SNPN the UE is camping in using the PLMN subscription; and\nb)\tfor a subscribed SNPN whose entry exists in the \"list of subscriber data\", the UE may support being configured with the indication of whether the SS configuration via XCAP is a 3GPP PS data off exempt service using one or more of the following methods:\n1)\tthe SS_XCAP_config_exempt node of 3GPP TS 24.424 [22], if the UE is in the subscribed SNPN.\n2)\tthe SS_XCAP_config_exempt_non_subscribed_SNPN node of 3GPP TS 24.424 [22], if the UE is in the non-subscribed SNPN.\nFor PLMN subscription, the UE may support being configured with the indication of whether the SS configuration via XCAP is a 3GPP PS data off exempt service using the following method:\n1)\tthe SS_XCAP_config_exempt_non_subscribed_SNPN node of 3GPP TS 24.424 [22], if the UE is in the non-subscribed SNPN.\nWhen the UE is only configured with the indication valid for the UE camping in the subscribed SNPN, the UE shall use this indication also when the UE is in the non-subscribed SNPN.\nIf the 3GPP PS data off status is \"active\" and the UE is not configured with an indication that SS configuration via XCAP is a 3GPP PS data off exempt service, then the UE shall not invoke the procedures in clause 5.2.1 and clause 5.3.1 from a UE's contact address containing an IP address associated with a 5GS QoS flow using NG-RAN.\n\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}