{
    "document_name": "29525-i40.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present specification provides the stage 3 definition of the UE Policy Control Service (Npcf_UEPolicyControl) of the 5G System.\nThe stage 2 definition and procedures of UE Policy Control Service are contained in 3GPP TS 23.502 [3] and 3GPP TS 23.503 [4]. The 5G System Architecture is defined in 3GPP TS 23.501 [2].\nStage 3 call flows are provided in 3GPP TS 29.513 [7].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition of the 5G System are specified in 3GPP TS 29.500 [5] and 3GPP TS 29.501 [6].\nThe UE Policy Control Service is provided by the Policy Control Function (PCF). This service provides UE policies and N2 PC5 policy.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System; Stage 2\".\n[5]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[6]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[7]\t3GPP TS 29.513: \"5G System; Policy and Charging Control signalling flows and QoS parameter mapping; Stage 3\".\n[8]\tIETF RFC 9113: \"HTTP/2\".\n[9]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[10]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", .\n[11]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[12]\t3GPP TS 23.402: \"Architecture enhancements for non-3GPP accesses\".\n[13]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[14]\t3GPP TS 29.518: \"5G System; Access and Mobility Management Services; Stage 3\".\n[15]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n[16]\t3GPP TS 24.526: \"UE policies for 5G System (5GS); Stage 3\".\n[17]\t3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service for Policy Data, Application Data and Structured Data for Exposure; Stage 3\".\n[18]\t3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment trace; Trace control and configuration management\".\n[19]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[20]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[21]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[22]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[23]\t3GPP TS 23.316: \"Wireless and wireline convergence access support for the 5G System (5GS)\".\n[24]\t3GPP TS 24.587: \"Vehicle-to-Everything (V2X) services in 5G System (5GS); Stage 3\".\n[25]\t3GPP TS 24.588: \"Vehicle-to-Everything (V2X) services in 5G System (5GS); User Equipment (UE) policies; Stage 3\".\n[26]\t3GPP TS 29.505: \"5G System; Usage of the Unified Data Repository service for Subscription Data; Stage 3\".\n[27]\t3GPP TS 29.504:\"5G System; Unified Data Repository Services; Stage 3\".\n[28]\t3GPP TS 24.554: \"Proximity based services (ProSe) in 5G system (5GS) protocol aspects; Stage 3\".\n[29]\t3GPP TS 24.555: \"Proximity based services (ProSe) in 5G system (5GS); User Equipment (UE) policies; Stage 3\".\n[30]\t3GPP TS 29.523: \"5G System; Policy Control Event Exposure Service; Stage 3\".\n[31]\t3GPP TS 29.512: \"5G System; Session Management Policy Control Service; Stage 3\".\n[32]\t3GPP TS 24.577: \"Aircraft-to-Everything (A2X) services in 5G System (5GS) protocol aspects; Stage 3\".\n[33]\t3GPP TS 24.588: \"Aircraft-to-Everything (A2X) services in 5G System (5GS); UE policies\".\n[34]\t3GPP TS 29.531: \"5G System; Network Slice Selection Services; Stage 3\"\n[35]\t3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage 3\".\n[36]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[37]\t3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".\n[38]\t3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".\n[39]\t3GPP TS 29.594: \"5G System; Spending Limit Control Service; Stage 3\".\n[40]\t3GPP TS 29.502: \"5G System; Session Management Services; Stage 3\".\n[41]\t3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs; Stage 3\".\n[42]\t3GPP TS 24.514: \"Ranging based services and sidelink positioning in 5G system(5GS); Stage 3\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nFor the purposes of the present document, the following terms and definitions given in 3GPP TS 23.503 [4], subclause 3.1 and 3GPP TS 23.501 [2], clause 3.1 apply:\nVPLMN specific URSP rules\nConfigured NSSAI\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\n5G-BRG\t5G Broadband Residential Gateway\n5G-CRG\t5G Cable Residential Gateway\n5G-RG\t5G Residential Gateway\n5G-VN\t5G Virtual Network\nA2X\tAircraft-to-Everything\nA2XP\tAircraft-to-Everything Policy\nAMF\tAccess and Mobility Management Function\nANDSP\tAccess Network Discovery and Selection Policy\nAPI\tApplication Programming Interface\nCHF\tCharging Function\nDNN\tData Network Name\nEPS\tEvolved Packet Core System\nFN-RG\tFixed Network Residential Gateway\nFN-BRG\tFixed Network Broadband Residential Gateway\nFN-CRG\tFixed Network Cable Residential Gateway\nFQDN\tFully Qualified Domain Name\nGPSI\tGeneric Public Subscription Identifier\nGUAMI\tGlobally Unique AMF Identifier\nHFC\tHybrid Fiber-Coaxial\nHTTP\tHypertext Transfer Protocol\nH-PCF\tHome Policy Control Function\nJSON\tJavaScript Object Notation\nN3AN\tNon-3GPP access network\nN3IWF\tNon-3GPP InterWorking Function\nNID\tNetwork Identifier\nNF\tNetwork Function\nNRF\tNetwork Repository Function\nNSWO\tNon-Seamless WLAN Offload\nOS\tOperating System\nOSId\tOperating System Identity\nPCF\tPolicy Control Function\nPDU\tPacket Data Unit\nPEI\tPermanent Equipment Identifier\nPIN\tPersonal IoT Network\nPRA\tPresence Reporting Area\nProSeP\t5G ProSe Policy\nPTI\tProcedure Transaction Identity\nRSLPP\tRanging and Sidelink Positioning Policy\nRSN\tRedundancy Sequence Number\nSL\tSidelink\nSMF\tSession Management Function\nSNPN\tStand-alone Non-Public Network\nSSC\tService and Session Continuity\nSUPI\tSubscription Permanent Identifier\nTNGF\tTrusted Non-3GPP Gateway Function\nUDR\tUnified Data Repository\nUPSC\tUE policy section code\nUPSI\tUE policy section identifier\nURSP\tUE Route Selection Policy\nV2X\tVehicle-to-Everything\nV2XP\tVehicle-to-Everything Policy\nV-PCF\tVisited Policy Control Function\nVPS\tVPLMN Specific\nW-5GAN\tWireline 5G Access Network\nW-5GCAN\tWireline 5G Cable Access Network\nW-AGF\tWireline Access Gateway Function\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tUE Policy Control Service",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tService Description",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.1.1\tOverview",
                            "text_content": "The UE Policy Control Service, as defined in 3GPP TS 23.502 [3] and 3GPP TS 23.503 [4], is provided by the Policy Control Function (PCF).\nThis service is used as part of the provisioning of UE policies (e.g. ANDSP, URSP, V2XP, A2XP, ProSeP, RSLPP) determined by the PCF to the UE via the AMF and as part of the provisioning of N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL determined by the PCF to the NG-RAN via the AMF. In case of URSP provisioning in EPS this service may be used as part of the provisioning of URSP determined by the PCF to the UE via a PCF for a PDU session. This service hence offers the following functionalities:\n-\tcreation of a UE Policy Association as requested by the NF service consumer (e.g. AMF);\n-\tprovisioning of policy control request trigger(s) to the NF service consumer (e.g. AMF);\n-\tprovisioning of the UE policy (e.g. ANDSP, URSP, V2XP, A2XP,ProSeP, RSLPP) to the V-PCF by the H-PCF in the roaming case;\n-\tprovisioning of the N2 PC5 policy for V2X communications and/or  A2X communications and/or 5G ProSe and/or Ranging/SL to the V-PCF by the H-PCF in the roaming case;\n-\tupdate of a UE Policy Association as requested by the NF service consumer (e.g. AMF);\n-\treporting of the met policy control request trigger(s) by the NF service consumer;\n-\tupdate of policy control request trigger(s) by the PCF to the NF service consumer (e.g. AMF);\n-\tdeletion of a UE Policy Association as requested by the NF service consumer (e.g. AMF);\n-\tenable the PCF to request the termination of a UE Policy Association to the NF service consumer (e.g. AMF) ; and\n-\tprovisioning of the URSP to a PCF for a PDU session in case of URSP provisioning in EPS.\n-\tsupport of N3IWF/TNGF selection based on the UE requested NSSAI.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.1.2\tService Architecture",
                            "text_content": "The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Policy and Charging related 5G architecture is also described in 3GPP TS 29.513 [7].\nThe UE Policy Control Service (Npcf_UEPolicyControl) is part of the Npcf service-based interface exhibited by the Policy Control Function (PCF).\nThe known NF service consumers of the Npcf_UEPolicyControl service are the Access and Mobility Management Function (AMF) and the Visited Policy Control Function (V-PCF).\nThe AMF accesses the UE Policy Control Service at the PCF via the N15 reference point. In case of URSP delivery in EPS, when the PCF for the PDU session and the PCF for the UE are different, the PCF for the PDU session accesses the UE Policy Control Service at the PCF via the N43 reference point,\nIn the roaming scenario, the N15 reference point is located between the V-PCF in the visited network and the AMF. The V-PCF accesses the UE Policy Control Service at the Home Policy Control Function (H-PCF) via the N24 Reference point.\n\nFigure 4.1.2-1 presents a reference architecture for the Npcf_UEPolicyControl service, utilizing the Service Based Interfaces (SBIs) representation. The figure illustrates the various components involved, including the Network Policy and Control Function (Npcf), User Equipment (UE), and the Policy and Charging Rules Function (PCRF). The architecture emphasizes the separation of concerns, with the Npcf managing network policies and the UE handling user-related functions. The figure highlights the interaction between these components, showcasing how the Npcf enforces policies on the UE, while the PCRF provides charging and policy control. The use of SBIs ensures a standardized and modular approach to service development and deployment.\nFigure 4.1.2-1: Reference Architecture for the Npcf_UEPolicyControl Service; SBI representation\nFigure 4.1.2-2 illustrates the non-roaming reference architecture for the Npcf_UEPolicyControlService, focusing on the reference point representation. The figure depicts the various components involved, including the Npcf_UEPolicyControlService, the Npcf_UEPolicyControlService_ReferencePoint, and the Npcf_UEPolicyControlService_ReferencePoint_Npcf. The Npcf_UEPolicyControlService is responsible for managing the policy control service for the Npcf, while the Npcf_UEPolicyControlService_ReferencePoint and Npcf_UEPolicyControlService_ReferencePoint_Npcf are key components in the reference point representation. The figure provides a clear overview of the architecture and its components, highlighting the relationships between them and the role they play in the overall system.\nFigure 4.1.2-2: Non-roaming Reference Architecture for the Npcf_UEPolicyControlService; reference point representation\nNOTE 1:\tWhen the N43 reference point exists, i.e. when the PCF is a NF service consumer of the Npcf_UEPolicyControl service, the PCF for the PDU session interacts with the PCF for the UE, and the non-roaming and home routed roaming architecture are the same.\n\nFigure 4.1.3-2 illustrates the roaming reference architecture for the Npcf_UEPolicyControlService, focusing on the reference point representation. The figure showcases the various components involved in the roaming process, including the home network, visited network, and the interconnection points between them. The architecture emphasizes the role of the Npcf_UEPolicyControlService in managing and controlling the user equipment (UE) during roaming, ensuring seamless connectivity and efficient resource allocation. The figure highlights the importance of accurate and timely communication between the different entities involved in the roaming process, emphasizing the need for a robust and reliable infrastructure to support mobile communication services.\nFigure 4.1.3-2: Roaming reference Architecture for the Npcf_UEPolicyControlService; reference point representation\nNOTE 2:\tIn LBO roaming scenarios, the V-PCF for the PDU session interacts with the V-PCF for the UE (i.e., the V-PCF for the PDU session is a NF service consumer of the Npcf_UEPolicyControl service offered by the V-PCF of the UE).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.1.3\tNetwork Functions",
                            "text_content": "For non-roaming scenarios, the Policy Control Function (PCF):\n-\tsupports unified policy framework to govern network behaviour;\n-\tprovides UE policy, including Access Network Discovery and Selection Policy (ANDSP), UE Route Selection Policy (URSP), Vehicle-to-Everything Policy (V2XP), Aircraft-to-Everything Policy (A2XP), 5G ProSe Policy (ProSeP) and/or Ranging and Sidelink Positioning Policy (RSLPP) via the AMF transparently to the UE;\n-\tprovides policy control request trigger(s) to the AMF;\nNOTE 1:\tThe PCF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to provide the UE Policy.\n-\tprovides N2 PC5 policy, containing the PC5 QoS parameters used by NG-RAN for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL via the AMF to the NG-RAN;\nNOTE 2:\tThe PCF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to provide the N2 PC5 Policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL.\n-\tprovides URSP via a PCF for a PDU session transparently to the UE in case of URSP provisioning in EPS; and\n-\tprovides policy control request trigger(s) to a PCF for a PDU session in case of URSP provisioning in EPS.\n-\tsupport of N3IWF/TNGF selection based on the UE requested NSSAI.\nFor roaming scenarios, the Visited Policy Control Function (V-PCF):\n-\tprovides policy control request trigger(s) to the AMF;\n-\tprovides the ANDSP of the VPLMN via the AMF transparently to the UE;\n-\tforwards the ANDSP, URSP, V2XP, A2XP, ProSeP and/or RSLPP received from the H-PCF via the AMF to the UE;\nNOTE 3:\tThe V-PCF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to provide the UE Policy.\n-\tforwards the N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL received from the H-PCF via the AMF to the NG-RAN;\nNOTE 4:\tThe V-PCF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to provide the N2 PC5 Policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL.\n-\tfor the LBO roaming scenarios, provides policy control request trigger(s) to a V-PCF for a PDU session in case of URSP provisioning in EPS; and\n-\tfor the LBO roaming scenarios, forwards the URSP received from the H-PCF via a V-PCF for a PDU session to the UE in case of URSP provisioning in EPS.\nFor roaming scenarios, the Home Policy Control Function (H-PCF):\n-\tprovides policy control request trigger(s) to the V-PCF;\n-\tprovides the UE policy (e.g. ANDSP, URSP, V2XP, A2XP, ProSeP or RSLPP) of the HPLMN to the V-PCF for forwarding to the UE via the the AMF;\n-\tprovides the N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL to the V-PCF for forwarding to the NG-RAN via the AMF; and\n-\tin case of URSP provisioning in EPS:\na.\tfor the LBO roaming scenarios, provides URSP to the V-PCF for forwarding to the UE via a V-PCF for a PDU session.\nb.\tfor the Home Routed scenarios, provides URSP to the PCF for the PDU session in the HPLMN, for forwarding to the UE via the H-SMF.\nThe policy decisions made by the PCF may also be based on one or more of the following:\n-\tInformation obtained from the UDR (e.g., UE Policy Subscription data and/or Service Parameter Data provided by the AF/NEF via the UDR);\n-\tInformation obtained from the AMF, e.g., UE related and access related information;\n-\tInformation obtained from the NWDAF;\n-\tInformation from the CHF about spending limits control, e.g., status of each relevant policy counter and optional pending policy counter statuses; and\nNOTE 5:\tIn this release of the specification, policy decisions based on spending limits control apply to URSP only.\n-\tPCF pre-configured policy context.\nThe known NF service consumers of the Npcf_UEPolicyControl are the AMF, the V-PCF in the roaming case, and a PCF for a PDU session in case of URSP provisioning in EPS.\nThe Access and Mobility Management function (AMF) performs:\n-\tregistration management;\n-\tconnection management;\n-\treachability management;\n-\tmobility Management;\n-\tforwarding of UE Policy towards the served UE;\n-\treporting of the UE state to the (V-)PCF;\n-\tforwarding of the UE policy enforcement result received from the UE to the (V-)PCF; and\nNOTE:\tThe AMF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to report the UE policy enforcement result.\n-\tforwarding of the N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL towards the NG-RAN.\nThe Visited Policy Control Function (V-PCF) provides the functions described in clause 4.1.3.1 towards the visited network as NF service producer and acts as NF Service consumer toward the H-PCF, performing the following functions:\n-\treceiving policy control request trigger(s) and/or UE policy (e.g. ANDSP, URSP, V2XP, A2XP, ProSeP, RSLPP) from the H-PCF;\n-\treceiving the N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL from the H-PCF; and\n-\treporting of the UE state and UE policy enforcement result to the H-PCF.\n-\tproviding the URSP rule enforcement report received from the UE to the H-PCF, if requested by the H-PCF as described in clause 4.2.2.2.3.\nThe PCF for a PDU session in case of URSP provisioning in EPS performs:\n-\tforwarding of URSP towards the served UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.2\tService Operations",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.2.1\tIntroduction",
                            "text_content": "Table 4.2.1-1: Operations of the Npcf_UEPolicyControl Service\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 4.2.1-1: Operations of the Npcf_UEPolicyControl Service",
                                    "table number": 1,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "4.2.2\tNpcf_UEPolicyControl_Create Service Operation",
                            "text_content": "The procedure in the present clause is applicable when the NF service consumer creates a UE policy association in the following cases:\n-\tUE performs initial registration to the network, as defined in clause 5.5.1.2.2 of 3GPP TS 24.501 [15];\n-\tUE performs a mobility registration, if the UE operating in single-registration mode performs inter-system change from S1 mode to N1 mode, as defined in clause 5.5.1.3.2 of 3GPP TS 24.501 [15], and there is no existing UE Policy Association between AMF and PCF for this UE; and\n-\tthe AMF is relocated (between the different AMF sets) and the new AMF selects a new PCF. The procedure for the case where the AMF is relocated and the new AMF selects the old PCF is defined in clause 4.2.3.1.\nTo support the delivery of URSP in EPC, the procedure in the present clause is also applicable when:\n-\tWhen the UE triggers a BEARER RESOURCE MODIFICATION REQUEST message with a UE policy container IE after the UE performs ePCO capability negotiation during PDN connection establishment (during the Initial Attach with default PDN connection establishment or the first PDN connection establishment) procedure as defined in 3GPP TS 24.301 [33], and both, the UE and the network support URSP provisioning in EPS PCO; and\n-\t5GS to EPS handover or 5GS to EPS Idle Mode mobility (both referred as 5GS to EPS mobility in the present document) as defined in 3GPP TS 24.501 [15].\nThe creation of a UE policy association only applies for normally registered UEs, i.e. it does not apply for emergency-registered UEs.\nFigure 4.2.2.1-1 illustrates the procedure used for the creation of a policy association.\nFigure 4.2.2.1-1 illustrates the process of creating a User Equipment (UE) policy association in a telecommunication network. The figure depicts the interaction between the Network Element (NE) and the User Plane Function (UPF) in the context of a 5G network. The NE is responsible for managing the UE's connection and signaling, while the UPF handles the data plane traffic. The figure shows how the NE and UPF work together to establish a policy association, ensuring that the UE is correctly assigned to the appropriate network resources. This process is crucial for managing network resources efficiently and providing a high-quality user experience.\nFigure 4.2.2.1-1: Creation of a UE policy association\nNOTE 1:\tFor the roaming scenario, the PCF represents the V-PCF, if the NF service consumer is an AMF, and the PCF represents the H-PCF, if the NF service consumer is a V-PCF.\nWhen a UE registers to the network and a UE context is being established, if the AMF obtains from the UE a UE policy delivery protocol message as defined in Annex D of 3GPP TS 24.501 [15] and/or the authorized PC5 capability for 5G ProSe, and/or the authorized PC5 capability for V2X communications and/or A2X communications, and/or the authorized PC5 capability for Ranging/SL, the AMF shall establish a UE policy association with the (V-)PCF, in case there is no existing UE policy association for the UE; otherwise, the AMF may establish a UE Policy Association with the (V-)PCF based on AMF local configuration.\nNOTE 2:\tIn the roaming scenario, the visited AMF's local configuration can indicate whether UE Policy delivery is needed based on the roaming agreement with the home PLMN of the UE.\nDuring UE Initial Attach with default PDN connection or the etablishment of the first PDN connection in EPS, if the UE and the SMF+PGW support URSP provisioning in EPS PCO, and the \"EpsUrsp\" feature is supported between the SMF+PGW-C and the PCF for the PDU session, the PCF for a PDU session associated with the SMF+PGW-C serving the PDN connection obtains from the UE a UE policy container in a Npcf_SMPolicyControl_Update procedure triggered by a bearer resource modification procedure as described in 3GPP TS 29.512 [31]. Then, if the \"EpsUrsp\" feature described in clause 5.8 is supported, the PCF for a PDU session shall establish a UE policy association with the (V-)PCF for the UE for the delivery of URSP only.\nDuring 5GS to EPS mobility with N26, and if the \"EpsUrsp\" feature described in clause 5.8 is supported, the PCF for the PDU session determines whether 5GS to EPS mobility applies based on the received RAT and/or Access-Type change event as described in 3GPP TS 29.512 [31]. Then, for non-roaming and Home Routed roaming scenarios, the PCF for a PDU session shall determine whether the UE supports URSP provisioning in EPS by checking the UE Policy Set information in UDR as specified in 3GPP TS 29.519 [17], and if supported, shall establish a UE policy association with the PCF for the UE that is handling the UE policy association with the source AMF. For LBO roaming scenarios, the V-PCF for the PDU session determines based on local configuration whether to establish a UE Policy Association towards the V-PCF for the UE.\nNOTE 3:\tThe PCF for the PDU session discovers the address of the PCF for the UE handling the UE policy association with the source AMF by querying the BSF as described in 3GPP TS 29.521 [22].\nTo establish a UE policy association with the PCF, the NF service consumer (e.g. AMF) shall send an HTTP POST request with \"{apiRoot}/npcf-ue-policy-control/v1/policies\" as Resource URI and the PolicyAssociationRequest data structure as request body, which shall include:\n-\tthe Notification URI encoded as \"notificationUri\" attribute;\n-\tthe SUPI encoded as \"supi\" attribute; and\n-\tthe features supported by the NF service consumer encoded as \"suppFeat\" attribute,\nshall also include, when available:\n-\tthe GPSI encoded as \"gpsi\" attribute;\n-\tthe Access type encoded as \"accessType\" attribute;\n-\tthe Permanent Equipment Identifier (PEI) encoded as \"pei\" attribute;\n-\tthe User Location Information encoded as \"userLoc\" attribute;\n-\tthe UE Time Zone encoded as \"timeZone\" attribute;\n-\tthe identifier of the serving network (the PLMN Identifier or the SNPN Identifier), encoded as \"servingPlmn\" attribute;\nNOTE 4:\tThe SNPN Identifier consists of the PLMN Identifier and the NID.\n-\tthe RAT type encoded as \"ratType\" attribute;\n-\tthe received UE policy delivery protocol message defined in Annex D of 3GPP TS 24.501 [15] encoded as \"uePolReq\" attribute;\n-\tfor the roaming scenario, if the NF service consumer is an AMF, the H-PCF ID encoded as \"hPcfId\" attribute;\n-\tthe Internal Group Identifier(s) encoded as \"groupIds\" attribute;\n-\tthe PC5 capability for V2X encoded as \"pc5Capab\" attribute if the \"V2X\" feature defined in clause 5.8 is supported;\n-\tthe 5G ProSe capability within the \"proSeCapab\" attribute, if the \"ProSe\" feature defined in clause 5.8 is supported;\n-\tthe Ranging/SL capability within the \"rangingSlCapab\" attribute, if the \"Ranging_SL\" feature defined in clause 5.8 is supported;\n-\tif the NF service consumer is an AMF, the GUAMI encoded as \"guami\" attribute;\n-\tif the NF service consumer is an AMF, the serving AMF Id encoded as \"servingNfId\" attribute;\nNOTE 5:\tIf the PCF received the \"servingNfId\" attribute, the PCF can use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] to retrieve the NF profile of the Namf_Communication service available in the indicated AMF instance Id.\n-\tif the NF service consumer is an AMF, the \"SliceAwareANDSP\" feature is supported, and the AMF has determined that the UE has selected a non-3gpp access node (i.e. TNGF or N3IWF) that does not match its subscribed S-NSSAI(s) (or Configured NSSAI, in the roaming case), the wrongly selected non-3gpp access node encoded as \"n3gNodeReSel\" attribute, and, in the roaming case, also the Configured NSSAI for the serving PLMN encoded as \"confSnssais\" attribute;\n-\tif the NF service consumer is an AMF, the Satellite Backhaul Category encoded as \"satBackhaulCategory\" attribute, if the \"EnSatBackhaulCategoryChg\" feature defined in clause 5.8 is supported\n-\tif the NF service consumer is the PCF for the PDU session, and the \"EpsUrsp\" feature defined in clause 5.8 is supported, the indication that the trigger for the UE Policy Association Establishment is the 5GS to EPS mobility scenario encoded as the \"5gsToEpsMob\" attribute.\n-\tfor the roaming scenario, if the NF service consumer is an AMF and the \"NssaiChange\" feature is supported, the Configured NSSAI for the serving PLMN encoded as \"confSnssais\" attribute and optionally the mapped each S-NSSAI value of home network corresponding to the configured S-NSSAI values in the serving PLMN encoded as \"mappedHomeSnssai\" attribute within the \"confSnssais\" attribute;\n-\tthe PC5 capability for A2X encoded as \"pc5CapA2x\" attribute if the \"A2X\" feature defined in clause 5.8 is supported;\n-\tfor the roaming scenario, if the NF service consumer is a V-PCF and the \"VPLMNSpecificURSP\" feature is supported, the AF guidance on VPLMN-specific URSP rules related information, if applicable, within the \"vpsUrspGuidance\" attribute, that shall contain for each related AF:\na.\tthe AF guidance on VPLMN-Specific URSP rules within the \"urspGuidance\" attribute; and\nb.\tif the AF requested to the VPLMN notifications about the delivery of UE Policies, the \"deliveryEvents\" attribute including the \"SUCCESS_UE_POL_DEL_SP\" and/or \"UNSUCCESS_UE_POL_DEL_SP\" events; and\n-\tfor the roaming scenario, if the NF service consumer is an AMF, and the \"VPLMNSpecificURSP\" feature is supported, LBO information within the \"lboRoamingInfo\" attribute.\nand may include:\n-\tif the NF service consumer is an AMF, the name of a service produced by the AMF that expects to receive information via the Npcf_UEPolicyControl_UpdateNotify service operation encoded as \"serviceName\" attribute;\n-\tif the NF service consumer is an AMF, the alternate or backup IPv4 Address(es) where to send Notifications encoded as \"altNotifIpv4Addrs\" attribute;\n-\tif the NF service consumer is an AMF, the alternate or backup IPv6 Address(es) where to send Notifications encoded as \"altNotifIpv6Addrs\" attribute;\n-\tif the NF service consumer is an AMF, the alternate or backup FQDN(s) where to send Notifications encoded as \"altNotifFqdns\" attribute;\nUpon the reception of the HTTP POST request,\n-\tthe (V-)(H-)PCF shall assign a UE policy association ID;\n-\tfor the roaming scenario and based on operator policy, the V-PCF (as the NF service consumer) should send to the H-PCF a request for the Creation of a UE policy association as described in the present clause;\n-\tthe (V-)(H-)PCF shall determine the applicable UE policy as detailed in clause 4.2.2.2. For the V-PCF, any policy received from the H-PCF in the reply to the possible request for the Creation of a policy association should be taken into consideration;\n-\tif the (V-)PCF determines that UE policy needs to be provisioned, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the UE policy according to clause 4.2.2.2 and as follows:\n(i)\tthe (V-)PCF shall subscribe to the AMF to notifications on N1 messages for UE Policy Delivery Results using the Namf_Communication_N1N2MessageSubscribe service operation;\n(ii)\tthe (V-)PCF shall send the determined UE policy (e.g. ANDSP, URSP, V2XP, A2XP, ProSeP, RSLPP) using Namf_Communication_N1N2MessageTransfer service operation(s); and\n(iii) the (V-)PCF shall be prepared to receive UE Policy Delivery Results from the AMF and/or subsequent UE policy requests (e.g. for V2XP and/or A2XP and/or ProSeP and/or RSLPP) within the Namf_Communication_N1MessageNotify service operation. For the V-PCF, if the received UE Policy Delivery results relate to UE policy sections provided by the H-PCF, the V-PCF shall use the Npcf_UEPolicyControl_Update Service Operation defined in clause 4.2.3 to send those UE Policy Delivery results to the H-PCF;\n-\tif the UE indicates the support of V2X communications over PC5 reference point and the \"V2X\" feature is supported, the (H-)PCF shall determine the applicable V2XP, as detailed in clause 4.2.2.2.1.2, and V2X N2 PC5 policy, as detailed in clause 4.2.2.3 and based on the operator's policy;\n-\tif the UE indicates the support of 5G ProSe and the \"ProSe\" feature is supported, the (H-)PCF shall determine the applicable ProSeP, as detailed in clause 4.2.2.2.1.3, and 5G ProSe N2 PC5 policy, as detailed in clause 4.2.2.4 and based on the operator's policy;\n-\tif the UE indicates the support of Ranging/SL and the \"Ranging_SL\" feature is supported, the (H-)PCF shall determine the applicable RSLPP, as detailed in clause 4.2.2.2.1.X, and Ranging/SL N2 PC5 policy, as detailed in clause 4.2.2.X and based on the operator's policy;\n-\tif the PCF determines that N2 PC5 policy (e.g. for V2X communications, for 5G ProSe, for Ranging/SL) needs to be provisioned, including the case of the V-PCF when receiving the N2 PC5 policy from the H-PCF, the PCF shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the N2 PC5 policy according to clause 4.2.2.3 and/or clause 4.2.2.4;\n-\tif the UE indicates support for URSP provisionng in EPS, the \"EpsUrsp\" feature is supported, and the (V-)PCF determines that UE policy needs to be provisioned via a PCF for a PDU session, the (V-)PCF shall provision the UE policy according to clause 4.2.2.2 and as follows:\n(i)\tthe (V-)PCF shall send a UE policy container with the determined URSP using Npcf_UEPolicyControl_Create response service operation(s); and\n(ii) the (V-)PCF shall be prepared to receive UE Policy Delivery Results from the PCF for a PDU session. The PCF for a PDU session shall use the Npcf_UEPolicyControl_Update service operation defined in clause 4.2.3 to send those UE Policy Delivery results to the (V-)PCF;\n-\tif the UE indicates the support of A2X communications over PC5 reference point and the \"A2X\" feature is supported, the (H-)PCF shall determine the applicable A2XP, as detailed in clause 4.2.2.2.1.4, and V2X N2 PC5 policy, as detailed in clause 4.2.2.5 and based on the operator's policy;\nfor the successful case, the (V-)(H-)PCF shall send a HTTP \"201 Created\" response with the URI for the created resource in the \"Location\" header field.\nNOTE 6:\tThe assigned policy association ID is part of the URI for the created resource and is thus associated with the SUPI.\nand the PolicyAssociation data type as response body, including:\n-\tmandatorily, the negotiated supported features encoded as \"suppFeat\" attribute;\n-\toptionally, the information provided by the NF service consumer when requesting the creation of this policy association encoded as \"request\" attribute;\n-\toptionally, for the H-PCF as service producer communicating with the V-PCF, UE policy (see clause 4.2.2.2) encoded as \"uePolicy\" attribute;\n-\toptionally, for the H-PCF as service producer communicating with the V-PCF, N2 PC5 policy (see clause 4.2.2.3 and/or clause 4.2.2.4) encoded as \"n2Pc5Pol\" attribute (for V2X communications) and/or \"n2Pc5PolA2x\" attribute (for A2X communications) and/or \"n2Pc5ProSePol\" attribute (for 5G ProSe);\n-\toptionally, for the H-PCF as service producer communicating with the V-PCF, N2 PC5 policy (see clause 4.2.2.3 and/or clause 4.2.2.4 and/or clause 4.2.2.X) encoded as \"n2Pc5Pol\" attribute (for V2X communications) and/or \"n2Pc5PolA2x\" attribute (for A2X communications) and/or \"n2Pc5ProSePol\" attribute (for 5G ProSe) and/or \"n2Pc5RsppPol\" attribute (for Ranging/SL);\n-\toptionally, for the H-PCF as service producer communicating with the V-PCF, and when the feature \"UECapabilityIndication\" is supported, if the H-PCF did not receive from the UE information about ANDSP support and the information is available and reliable in the UDR (see clause 4.2.2.2.1.1), the ANDSP support indication retrieved from UDR encoded as \"andspInd\" attribute;\n-\toptionally, one or several of the following Policy Control Request Trigger(s) encoded as \"triggers\" attribute (see clause 4.2.3.2):\na)\tLocation change (tracking area);\nb)\tChange of UE presence in PRA;\nc)\tChange of PLMN, if the \"PlmnChange\" feature is supported;\nd)\tChange of UE connectivity state, if the \"ConnectivityStateChange\" feature is supported;\ne)\tURSP rule enforcement information, if the \"URSPEnforcement\" feature is supported;\nf)\tChange of Satellite Backhaul Category, if the \"EnSatBackhaulCategoryChg\" feature is supported;\ng)\tChange of Access Type, if the \"AccessChange\" feature is supported;\nh)\tLBO information change, applicable to roaming scenarios, if the \"VPLMNSpecificURSP\" feature is supported and the NF service consumer is an AMF; and\ni)\tChange of Configured NSSAI, in roaming scenarios, if the \"NssaiChange\" feature is supported and the NF service consumer is the AMF;\n-\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is provided, the presence reporting areas for which reporting is required encoded as \"pras\" attribute;\n-\tif the Policy Control Request Trigger \"LBO information change\" is provided, optionally, the DNNs(s) and S-NSSAI(s) for which LBO information is required encoded as \"pduSessions\" attribute;\nNOTE 7:\t\tIf the PCF uses a Presence Reporting Area identifier referring to a Set of Core Network predefined Presence Reporting Areas as defined in 3GPP TS 23.501 [2], the PCF includes the identifier of this Presence Reporting Area set within the \"praId\" attribute.\n-\tif the SliceAwareANDSP feature is supported, the PCF received the \"n3gNodeReSel\" attribute and the PCF has successfully delivered the updated ANDSP/WLANSP to the UE with the slice information for the corresponding non-3gpp node, the notification of this successful delivery by providing the \"andspDelInd\" attribute with the value \"true\".\n-\tif errors occur when processing the HTTP POST request, the (V-)(H-)PCF shall apply error handling procedures as specified in clause 5.7 and according to the following provisions:\n-\tif the user information received within the \"supi\" attribute is unknown, the (V-)(H-)PCF shall reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"USER_UNKNOWN\"; and\n-\tif the (V-)(H-)PCF is, due to incomplete, erroneous or missing information in the request, not able to provision a UE policy decision, the (V-)(H-)PCF may reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"ERROR_REQUEST_PARAMETERS\".\nIf the (V-)PCF received a GUAMI, the (V-)PCF may subscribe to GUAMI changes using the AMFStatusChange service operation of the Namf_Communication service specified in 3GPP TS 29.518 [14], and it may use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the obtained GUAMI and possibly service name) to query the other AMFs within the AMF (service) set.\nThe UE policy consists of\n-\tUE Access Network discovery and selection policies (ANDSP). It is used by the UE for selecting non-3GPP accesses networks. The encoding of ANDSP is defined in 3GPP TS 24.526 [16];\n-\tUE Route Selection Policy (URSP). This UE policy is used by the UE to determine how to route outgoing traffic. Traffic can be routed to an established PDU Session, offloaded to non-3GPP access outside a PDU Session, can be routed via a ProSe Layer-3 UE-to-Network Relay outside a PDU session or trigger the establishment of a new PDU Session. The encoding of URSP is defined in 3GPP TS 24.526 [16];\n-\tUE Vehicle-to-Everything Policy (V2XP). This UE policy provides configuration information to the UE for V2X communications over PC5 reference point or over Uu reference point or both. The encoding of V2XP is defined in 3GPP TS 24.588 [25];\n-\tUE 5G Proximity based Services Policy (ProSeP). This UE policy provides configuration information to the UE for 5G ProSe direct discovery, 5G ProSe direct communications, 5G ProSe UE-to-network relay, 5G ProSe usage reporting configuration and rules and/or 5G ProSe UE-to-UE relay; and\n-\tUE Aircraft-to-Everything Policy (A2XP). This UE policy provides configuration information to the UE for A2X communications over PC5 reference point or A2X communications over Uu reference point or both. The encoding of A2XP is defined in 3GPP TS 24.578 [33];\n-\tUE Ranging and Sidelink Positioning Policy (RSLPP). The UE policy provides configuration information to the UE for Ranging/SL over PC5 reference point. The encoding of RSLPP is defined in 3GPP TS 24.514 [42];\nThe UE Policy is transferred to the UE using the UE policy delivery protocol defined in Annex D of 3GPP TS 24.501 [15]. The (V-)(H-)PCF shall send UE policy using the \"MANAGE UE POLICY COMMAND\" message and will receive the \"MANAGE UE POLICY COMPLETE\"or the \"MANAGE UE POLICY COMMAND REJECT\" messages in the response. Those messages are transparently forwarded by the AMF.\nThe (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send \"MANAGE UE POLICY COMMAND\" messages to the UE and use the Namf_Communication_N1MessageNotify service operation defined in clause 5.2.2.3.5 of 3GPP TS 29.518 [14] to receive \"MANAGE UE POLICY COMPLETE\" and \"MANAGE UE POLICY COMMAND REJECT\" messages from the UE. The (V-)PCF shall only send \"MANAGE UE POLICY COMMAND\" messages below a predefined size limit.\nThe H-PCF shall use service operations as defined in the present specification to receive \"MANAGE UE POLICY COMPLETE\" and \"MANAGE UE POLICY COMMAND REJECT\" messages from the V-PCF and to send MANAGE UE POLICY COMMAND\" messages to the V-PCF. The H-PCF shall encode the \"MANAGE UE POLICY COMMAND\" message in a \"uePolicy\" attribute. The H-PCF shall only send \"MANAGE UE POLICY COMMAND\" messages below a predefined size limit.\nThe (V-)(H-)PCF may deliver the UE policy to the UE in several \"MANAGE UE POLICY COMMAND\" messages.\nFor the purpose of such fragmented delivery and subsequent partial updates of UE policies, the UE policy is divided into policy sections. Such policy sections may be predefined in the (V-)(H-)PCF, may be retrieved by the (V-)(H-)PCF from the UDR as specified in 3GPP TS 29.519 [17], or may be dynamically generated by the (V-)(H-)PCF, but shall comply to the rules detailed below. The (V-)(H-)PCF may combine several policy sections into one \"MANAGE UE POLICY COMMAND\" message, if the predefined size limit is observed.\nThe following rules apply to policy sections:\n-\tThe size shall be below the predefined size limit.\n-\tThe policy section shall only contain complete URSP rule(s), WLANSP rule(s), N3AN node configuration information, V2XP, A2XP, ProSeP and/or RSLPP info content, but no fractions of such rules, configuration information, or info contents.\n-\tTo ease a subsequent partial update of UE policies, policy sections should only contain a small number of policies, e.g. URSP rule(s), and/or WLANSP rule(s).\n-\tThe entire content of a policy section shall be provided by a single PLMN.\nA PCF shall only determine policy sections of its own PLMN. However, a V-PCF may forward UE policy sections received from the H-PCF to the UE.\nEach UE policy section is identified by a UE policy section identifier (UPSI). The UPSI is composed of two parts:\na)\ta PLMN ID part containing the PLMN ID of the PLMN or SNPN of the PCF which provides the UE policies; and\nb)\ta UE policy section code (UPSC) containing a unique value within the PLMN or SNPN selected by the PCF.\nNOTE 1:\tWhen the UE is operating in SNPN access operation mode, the UE associates the PLMN ID with the NID of the SNPN to differentiate between PLMN UPSI(s) and SNPN UPSI(s).\nThe (V-)(H-)PCF provides an UPSI when providing a new UE policy section and may then identify that policy section using that UPSI when requesting that that UE policy section is modified or deleted, as specified in Annex D of 3GPP TS 24.501 [15].\nIf the (V-)(H-)PCF determines that changes are required and/or the V-PCF receives possible new or modified policy sections determined by the H-PCF in the roaming case, it shall send the determined new, updated or deleted policy sections using one or several \"MANAGE UE POLICY COMMAND\" messages towards the NF service consumer. In the roaming case, the V-PCF may either combine policy sections received from the H-PCF and policy sections the V-PCF selected in the same \"MANAGE UE POLICY COMMAND\" (as long as the predefined size limit is observed), or use separate \"MANAGE UE POLICY COMMAND\" messages; however, the V-PCF shall not distribute the policy sections received in one \"MANAGE UE POLICY COMMAND\" from the H-PCF into several \"MANAGE UE POLICY COMMAND\" messages as long as the predefined size limit is observed for the policy sections received from the H-PCF. The V-PCF shall allocate a new PTI for the \"MANAGE UE POLICY COMMAND\" sent by the V-PCF and store the mapping between the new PTI and the PTI within the \"MANAGE UE POLICY COMMAND\" received from the H-PCF.\nAfter sending a \"MANAGE UE POLICY COMMAND\" messages, the (V-)(H-)PCF shall wait for a related confirmation in a \"MANAGE UE POLICY COMPLETE\" messages or failure indication in a \"MANAGE UE POLICY COMMAND REJECT\" message. When receiving no such message until the expiry of a supervision timer specified in Annex D of 3GPP TS 24.501 [15], or when receiving a failure indication, the PCF should re-send related instructions for the policy sections. In the roaming case, the H-PCF and the V-PCF shall each be responsible for resending those policy sections that it originally supplied. In the case that the V-PCF combined policy sections received from the H-PCF and policy sections the V-PCF selected in the same \"MANAGE UE POLICY COMMAND\" described below, the V-PCF shall wait for the H-PCF to resend the policy sections of HPLMN, and then resend the combined policy sections. The (V-)(H-)PCF shall always include the initially supplied policy sections when resending the UE policy.\nThe (V-)(H-)PCF shall determine that a received \"MANAGE UE POLICY COMPLETE\" message or \"MANAGE UE POLICY COMMAND REJECT\" message is related to the result of a \"MANAGE UE POLICY COMMAND\" based on the PTI within that message. In the roaming case, the V-PCF shall determine that the received message is related to the result of the UE policy provided by the H-PCF if the PTI within the message belongs to one of the stored PTI mapping(s).\nIf the V-PCF combined policy sections received from the H-PCF and policy sections the V-PCF selected in the same \"MANAGE UE POLICY COMMAND\", upon reception of a \"MANAGE UE POLICY COMPLETE\" message or \"MANAGE UE POLICY COMMAND REJECT\" message the V-PCF shall:\n-\tforward the corresponding \"MANAGE UE POLICY COMPLETE\" message to the H-PCF;\n-\tif a \"MANAGE UE POLICY COMMAND REJECT\" message with UPSI(s) of the HPLMN is received, forward the parts of the \"MANAGE UE POLICY COMMAND REJECT\" message that relate to the UPSI(s) of the HPLMN to the H-PCF;\n-\tif a \"MANAGE UE POLICY COMMAND REJECT\" message without UPSI(s) of the HPLMN is received, send a \"MANAGE UE POLICY COMPLETE\" message to the H-PCF; and\n-\tprovide the stored PTI received from the HPLMN in the corresponding \"MANAGE UE POLICY COMMAND\" within the \"MANAGE UE POLICY COMPLETE\" message or \"MANAGE UE POLICY COMMAND REJECT\" message towards the H-PCF.\nIf the V-PCF sent a separate \"MANAGE UE POLICY COMMAND\" containing only the policy sections received from the H-PCF, the V-PCF shall forward the corresponding \"MANAGE UE POLICY COMPLETE\" or \"MANAGE UE POLICY COMMAND REJECT\" message to the H-PCF and provide the stored PTI received from the HPLMN in the corresponding \"MANAGE UE POLICY COMMAND\" within the \"MANAGE UE POLICY COMPLETE\" message or \"MANAGE UE POLICY COMMAND REJECT\" message towards the H-PCF.If the V-PCF distributed the policy sections received in one \"MANAGE UE POLICY COMMAND\" from the H-PCF into several \"MANAGE UE POLICY COMMAND\" messages to the UE (because the predefined size limit of the VPLMN was exceeded), the V-PCF shall aggregate all corresponding \"MANAGE UE POLICY COMPLETE\" or \"MANAGE UE POLICY COMMAND REJECT\" messages received from the UE into one \"MANAGE UE POLICY COMPLETE\" or \"MANAGE UE POLICY COMMAND REJECT\" message towards the H-PCF.\nWhen the (V-)PCF receives an Namf_Communication_N1N2MessageTransfer failure response as defined in clause 5.2.2.3.1.2 of 3GPP TS 29.518 [14], or an N1N2 Transfer Failure Notification as defined in clause 5.2.2.3.2 of 3GPP TS 29.518 [14], the (V-)PCF shall stop the supervision timer specified in Annex D of 3GPP TS 24.501 [15] corresponding to the affected PTIs. If the \"retryAfter\" attribute is received, the (V-)PCF should not initiate new UE Policy Delivery request until the timer expires. For the N1N2 Transfer Failure Notification case, the (V-)PCF determines the affected PTIs allocated by the V-PCF based on the resource URI within the \"n1n2MsgDataUri\" attribute of the N1N2MsgTxfrFailureNotification data structure as defined in clause 6.1.6.2.30 of 3GPP TS 29.518 [14].\nNOTE 2:\tThe (V-)PCF correlates the Namf_Communication_N1N2MessageTransfer request and the corresponding N1N2 Transfer Failure Notification based on the resource URI within the \"Location\" header included in the response HTTP status code \"202 Accepted\" of the Namf_Communication_N1N2MessageTransfer response and the resource URI within the \"n1n2MsgDataUri\" attribute of and N1N2 Transfer Failure Notification. And then the V-PCF determines the affected PTIs related with the resource URI.\nFor the non-roaming case or the roaming case when the V-PCF determines that the affected UE Policy is related to the V-PLMN, the (V-)PCF may provision the policy control request trigger \"CON_STATE_CH\" if not provisioned yet. Upon receiving the notification of UE connectivity state change indicating that the UE enters the CM-Connected state, the (V-)PCF may retry to deliver the UE Policy.\nFor the roaming case and if the V-PCF determines that the affected UE policy is related with the UE policy delivered by the H-PCF, the V-PCF shall send a POST message as defined in clause 4.2.3.1 to notify the H-PCF of the failure of UE policy transfer by including the \"uePolTransFailNotif\" attribute within the PolicyAssociationUpdateRequest data structure. Within the UePolicyTransferFailureNotification data structure, the V-PCF shall include the cause of the UE Policy Transfer Failure within the \"cause\" attribute and the PTI(s) allocated by the H-PCF corresponding to the PTI(s) allocated by the V-PCF within the \"ptis\" attribute. The H-PCF shall stop the supervision timer corresponding to the affected PTIs. If the feature \"EnErrorHandling\" is supported and the \"retryAfter\" attribute is received, the H-PCF should not initiate new UE Policy Delivery request until the timer expires. In this case, the H-PCF may provision the policy control request trigger \"CON_STATE_CH\" if not provisioned yet. Upon receiving the notification of UE connectivity state change indicating that the UE enters the CM-Connected state, the H-PCF may retry to deliver the UE Policy.\nWhen the (H-)PCF receives the \"MANAGE UE POLICY COMPLETE\" or the \"MANAGE UE POLICY COMMAND REJECT\" message and determines that this message indicates a UE Policy Delivery outcome to which an NF service consumer has subscribed via a request for service specific parameters, the (H-)PCF shall invoke the Npcf_EventExposure_Notify service operation as defined in clause 4.2.4.2 of 3GPP TS 29.523 [30].\nDuring Initial Registration and 5GS Registration during UE mobility from EPS to 5GS, and when:\na)\tthe UE has one or more stored UE policy sections corresponding to the serving PLMN/SNPN or HPLMN;or\nb)\tthe UE does not have any stored UE policy section corresponding to the serving PLMN/SNPN or HPLMN and the UE needs to send a UE policy container to the network;\nthen the UE includes the \"UE STATE INDICATION\" message as defined in clause D.5.4.1 of 3GPP TS 24.501 [15], which is transferred transparently by the AMF within the \"uePolReq\" attribute during the creation of a policy association, as described in clause 4.2.2.1.\nThe (H-)PCF, or the PCF of the SNPN for the UEs subscribed to the SNPN, may store in the UDR, as specified in 3GPP TS 29.519 [17]:\na)\tUPSCs and related UE policy sections of the own PLMN or SNPN it provided to a UE;\nb)\tthe PEI received from the NF service consumer (e.g. AMF), if available;\nc)\tthe OSId(s) received from the UE within the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available;\nd)\tthe indication of UE's support for ANDSP included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available;\ne)\tif the \"EpsUrsp\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for URSP provisioning in EPS included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available;\nf)\tif the \"URSPEnforcement\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for reporting URSP rule enforcement included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available; and\ng)\tif the \"VPLMNSpecificURSP\" feature defined 3GPP TS 29.519 [17] is supported, the indication of UE's support for VPLM-Specific URSP included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available.\nThe PCF shall retrieve from UDR the information previously stored in UDR, if not locally available, for URSP/ANDSP rule determination as specified in 3GPP TS 29.519 [17].\nThe V-PCF may retrieve UPSCs and related UE policy sections applicable for all UEs from a HPLMN from the V-UDR, using the HPLMN ID as key as specified in 3GPP TS 29.519 [17]. The PCF of the serving SNPN has locally configured the UPSCs and related UE policy sections applicable for all UEs other than the UEs subscribed to the SNPN.\nWhen receiving the \"UE STATE INDICATION\" message, the (V-)(H-)PCF or the PCF of the serving SNPN, shall determine, based on the UPSIs indicated in that message, if available, the ANDSP support indication and the OSId(s) indicated in that message, if available, the reporting URSP rule enforcement support in that message, if available, the UE Policy Sections and UPSCs stored in the UDR, if available, the policy subscription data, if available, application data, if available, inputs received from the NF service consumer,and local policy, as specified in clauses 4.2.2.2.2 and 4.2.2.2.3, whether any new UE policy section(s) need to be installed and whether any existing UE policy section(s) need to be updated or deleted. Based on local configuration, the (H-)PCF or the PCF of the serving SNPN (for the SNPN-subscribed UEs), may indicate to the UE to accept/not accept URSP rules signalled by non-subscribed SNPNs within the UE policy network classmark IE in a MANAGE UE POLICY COMMAND message as described in Annex D of 3GPP TS 24.501 [15].\nNOTE 1:\tWhen an SNPN-enabled UE registers in a SNPN using credentials from a Credentials Holder (CH) but the UE is not subscribed in that SNPN, the PCF of the non-subscribed SNPN, based on local policies, can provision the UE with URSP rules and/or ANDSP rules for the SNPN. For the provisioned ANDSP rules, the UE gives priority to the valid ANDSP from the registered SNPN.\nWhen the received \"UE STATE INDICATION\" message indicated that the UE supports VPLMN-specific URSP rules as specified in Annex D of 3GPP TS 24.501 [15], the (H-)PCF may determine URSP rules specific per VPLMN as specified in clauses 4.2.2.2.3.2. In this case, the (H-)PCF shall provide to the UE within the \"MANAGE UE POLICY COMMAND\" the UE policy sections containing the VPLMN-specific URSP rules within the VPS URSP configuration IE as specified in subclause D.6.8 of 3GPP TS 24.501 [15].\nNOTE 2:\tThe VPS URSP configuration IE includes zero or more tuples, each tuple containing a tuple Id, VPLMN ID(s) and a list of UPSC(s) (of HPLMN's UE policy sections) with UE policies with URSP rules applicable to the VPLMN(s) and its equivalent PLMN(s).\nWhen the UE initially attaches in EPS and establishes the default PDN connection or establishes the first PDN connection in EPS, the \"EpsUrsp\" feature is supported as described in 3GPP TS 29.512 [31], both the UE and the network support URSP provisioning in EPS PCO,, the UE includes the UE policy container IE with the \"UE STATE INDICATION\" message as defined in clause D.5.4.1 of 3GPP TS 24.501 [15] in the BEARER RESOURCE MODIFICATION REQUEST message as defined in 3GPP TS 24.301 [36]. The UE policy container is then transferred transparently by the PCF for the PDU session within the \"uePolReq\" attribute during the creation of a UE policy association, as described in clause 4.2.2.1.\nThe (H-)PCF, may store in the UDR, as specified in 3GPP TS 29.519 [17]:\na)\tUPSCs and related URSP sections of the own PLMN it provided to a UE;\nb)\tthe PEI received from the NF service consumer, if available;\nc)\tthe OSId(s) received from the UE within the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available;\nd)\tif the \"EpsUrsp\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for URSP provisioning in EPS included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available; and\nf)\tif the \"URSPEnforcement\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for reporting URSP rule enforcement included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available.\nThe (H-)PCF shall retrieve from UDR the information previously stored in UDR, if not locally available, for URSP rule determination as specified in 3GPP TS 29.519 [17].\nNOTE 1:\tURSP provisioning in EPS is supported in Home Routed roaming scenarios as it is supported in non-roaming scenarios. In Home Routed roaming scenarios the H-PCF corresponds with the PCF.\nWhen receiving the \"UE STATE INDICATION\" message, the (H-)PCF, shall determine, based on the UPSIs indicated in that message, if available, the OSId(s) indicated in that message, if available, the reporting URSP rule enforcement support in that message, if available, the UE Policy Sections and UPSCs stored in the UDR, if available, the policy subscription data, if available, application data, if available, and local policy, as specified in clauses 4.2.2.2.2 and 4.2.2.2.3, whether any new URSP section(s) need to be installed and whether any existing URSP section(s) need to be updated or deleted.\nEditor's Note: Interaction between the how URSP provisioning in EPS and the report of URSP rule enforcement when the UE moves from EPS to 5GS is FFS.\nDuring 5GS to EPS mobility with N26, when the \"EpsUrsp\" feature is supported and PCF for the PDU session establishes a UE Policy Association with the PCF for the UE as described in clause 4.2.2.1, the PCF for the UE shall determine whether the 5GS to EPS mobility with N26 scenario applies based on the \"5gsToEpsMob\" attribute. If it applies, the PCF for the UE shall recover from the UE Policy Association previously established with the AMF:\n-\tUE Policy Section related information, i.e.:\na)\tUPSCs and related URSP sections of the own PLMN it provided to the UE;\nb)\tif the \"URSPEnforcement\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for reporting URSP rule enforcement received from the UE within the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available; and\nc)\tthe OSId(s) received from the UE within the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available; and\n-\tthe subscribed Policy Control Triggers with the AMF, if available.\nNOTE 2:\tAt 5GS to EPS mobility with N26, the guard timer in the AMF (as specified in clause 4.11.1.2.1 and clause 4.11.1.3.2 of TS 23.502 [3]) ensures that the UE Policy Association remains until the PCF for the UE detects that a UE Policy Association establishment is received from a PCF for the PDU Session indicating 5GS to EPS mobility.\nWhen receiving the 5GS to EPS mobility indication, the PCF for the UE, shall determine, based on the UE Policy Sections and the OSId(s) recovered from the former UE Policy Association in 5GS, if available, the policy subscription data, if available, application data, if available, and local policy, as specified in clauses 4.2.2.2.2 and 4.2.2.2.3, whether any new UE Policy section(s) with URSP need to be installed and whether any existing UE Policy section(s) with URSP need to be updated or deleted.\nIn both scenarios above, initial attach and/or first PDN connection establishmet in EPS scenario and 5GS to EPS mobility scenario, the determined URSP is transferred to the UE as specified in 4.2.2.2.1.0 with the following differences:\n-\tthe messages of the UE policy delivery protocol defined in Annex D of 3GPP TS 24.501 [15] are transparently forwarded to the UE by a PCF for a PDU session; and\n-\tthe (V-)(H-)PCF shall use the Npcf_UEPolicyControl_Create/Update response and the Npcf_UEPolicyControl_UpdateNotify request to send \"MANAGE UE POLICY COMMAND\" messages to the UE in a \"uePolicy\" attribute and use the Npcf_UEPolicyControl_Update service operation to receive \"MANAGE UE POLICY COMPLETE\" and \"MANAGE UE POLICY COMMAND REJECT\" messages from the UE via a PCF for a PDU session in a \"uePolDelResult\" attribute.\nWhen the UE registers to the network, if the AMF receives from the UE the PC5 capability for V2X communications in the Registration Request message, the UE is authorized to use V2X service based on the UE's subscription information and the \"V2X\" feature is supported, the AMF further reports to the PCF the PC5 capability for V2X communications within the \"pc5Capab\" attribute as defined in clause 4.2.2.1. The PCF may determine the V2XP over PC5 interface based on the received UE's PC5 capability for V2X, the Service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nAfter UE registration, if the UE supports V2X communication and it does not have valid V2XP, the UE includes the \"UE POLICY PROVISIONING REQUEST\" message as defined in 3GPP TS 24.587 [24] during the NAS transport procedure. The PCF may reject the request by sending back a \"UE POLICY PROVISIONING REJECT\" message as defined in clause 7.2.2 of 3GPP TS 24.587 [24] or provision the policy, as defined in clause 4.2.2.2.1, based on the service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nFor both scenarios mentioned above, in the roaming case, the H-PCF may include the V2XP within the \"uePolicy\" attribute in the policy association create or update response to the V-PCF and in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send the V2XP to the UE.\nWhen the UE registers to the network and the UE supports 5G ProSe, if the AMF receives from the UE the 5G ProSe Capability in the Registration Request message, the UE is authorized to use 5G ProSe service based on the UE's subscription information and the \"ProSe\" feature defined in clause 5.8 is supported, the AMF further reports to the PCF this 5G ProSe Capability of the UE within the \"proSeCapab\" attribute, as per the procedures defined in clause 4.2.2.1. When the UE disables/enables a 5G ProSe capability, the AMF further reports to the PCF the updated 5G ProSe capabilities of the UE within the \"proSeCapab\" attribute, as per the procedures defined in clause 4.2.3.1. The PCF may determine the support of 5G ProSe based on the received UE's 5G ProSe Capability, the service specific parameter information retrieved from the UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nAfter UE registration, if the UE does not have valid ProSeP, the UE includes a \"UE POLICY PROVISIONING REQUEST\" message defined in clause 7.2.1.1 of 3GPP TS 24.554 [28] during theNAS transport procedure. The PCF may either reject the request by sending back a \"UE POLICY PROVISIONING REJECT\" message defined in clause 7.2.2.1 of 3GPP TS 24.587 [24] or provision the policy, as defined in clause 4.2.2.2.1, based on the service specific parameter information retrieved from the UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nFor both scenarios mentioned above, in the roaming case, the H-PCF may include the ProSeP within the \"uePolicy\" attribute in the policy association create and update response to the V-PCF and in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send the ProSeP to the UE.\nWhen the UE registers to the network, if the AMF receives from the UE the PC5 capability for A2X communications in the Registration Request message, the UE is authorized to use A2X service based on the UE's subscription information and the \"A2X\" feature is supported, the AMF further reports to the PCF the PC5 capability for A2X communications within the \"pc5CapA2x\" attribute as defined in clause 4.2.2.1. The PCF may determine the A2XP over PC5 interface based on the received UE's PC5 capability for A2X, the Service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nAfter UE registration, if the UE supports A2X communication and it does not have valid A2XP, the UE includes the \"UE POLICY PROVISIONING REQUEST\" message as defined in 3GPP TS 24.577 [32] during the NAS transport procedure. The PCF may reject the request by sending back a \"UE POLICY PROVISIONING REJECT\" message as defined in 3GPP TS 24.577 [32] or provision the policy, as defined in clause 4.2.2.2.1, based on the service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nEditor's Note: The reference to CT1 specification for A2XP related UE messages to be updated.\nFor both scenarios mentioned above, in the roaming case, the H-PCF may include the A2XP within the \"uePolicy\" attribute in the policy association create or update response to the V-PCF and in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send the A2XP to the UE.\nWhen the UE registers to the network and the UE supports Ranging/SL, if the AMF receives from the UE the Ranging/SL Capability in the Registration Request message, the UE is authorized to use Ranging/SL service based on the UE's subscription information and the \"Ranging_SL\" feature defined in clause 5.8 is supported, the AMF further reports to the PCF this Ranging/SL Capability of the UE within the \"rangingSlCapab\" attribute, as per the procedures defined in clause 4.2.2.1. The PCF may determine the RSLPP over PC5 interface based on the received UE's PC5 capability for Ranging/SL, the Service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nAfter UE registration, if the UE does not have valid RSLPP, the UE includes a \"UE POLICY PROVISIONING REQUEST\" message defined in 3GPP TS 24.514 [xx] during the NAS transport procedure. The PCF may either reject the request by sending back a \"UE POLICY PROVISIONING REJECT\" message defined in 3GPP TS 24.514 [xx] or provision the policy, as defined in clause 4.2.2.2.1, based on the service specific parameter information retrieved from the UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nFor both scenarios mentioned above, in the roaming case, the H-PCF may include the RSLPP within the \"uePolicy\" attribute in the policy association create and update response to the V-PCF and in the policy association update request initiated by the H-PCF.\nUE Access Network discovery and selection policies are used by the UE to select non-3GPP accesses and to decide how to route traffic between the selected 3GPP and non 3GPP accesses.\nIn this release of the specification, the Access Network Discovery & Selection policy shall contain only rules that aid the UE in selecting a WLAN access network. Rules for selecting other types of non-3GPP access networks are not specified.\nThe WLAN access network selected by the UE with the use of Access Network Discovery & Selection policy may be used for direct traffic offload (i.e. sending traffic to the WLAN outside of a PDU Session) and for registering to 5GC using the non-3GPP access network selection information.\nThe Access Network Discovery & Selection policy shall contain one or more WLAN Selection Policy (WLANSP) rules and and may contain Non-3GPP access network (N3AN) node selection information and configuration information.\nN3AN node selection information and configuration information is used to control UE behaviour related to selection of N3IWF, or ePDG for accessing 5GC via untrusted non-3GPP access, or to support TNGF selection based on the S-NSSAI(s) needed by the UE for accessing 5GC via trusted 3GPP access.\nUE Access Network discovery and selection policies are encoded as defined in 3GPP TS 24.526 [16].\nUE Access Network discovery and selection policies may be provided by a V-PCF and/or a H-PCF.\nIf the UE has indicated in the \"UE STATE INDICATION\" message it does not support ANDSP, or, when the feature \"UECapabilityIndication\" is supported, the V-PCF receives from the H-PCF the \"andspInd\" attribute to false, i.e. the UE does not support non-3GPP access, the (V-)(H-)PCF shall not send any Access Network discovery and selection policies to the UE.\nThe UE Route Selection Policy is used by the UE to determine how to route outgoing traffic.\nThe UE Route Selection Policy shall consist of one or several URSP rules. The PCF determines whether URSP rule(s) have to be provisioned based on input parameters received from the NF service consumer, the received list of UPSIs from the UE, if available, the UE Policy Sections stored in the UDR, if available, other received UE parameters, if available, the policy subscription and application data retrieved from UDR, if available, analytics information received from NWDAF, if available, and local policies.\nURSP rules are encoded as defined in 3GPP TS 24.526 [16].\nUE Route Selection Policy may only be provided by a H-PCF or the PCF of the SNPN, but shall not be provided by a V-PCF. However, UE Route Selection Policy determined and provided by the H-PCF may be retrieved by a V-PCF from the H-PCF and forwarded to a UE.\nThe (H-)PCF shall use the UE policy subscription data stored in UDR as specified in 3GPP TS 29.519 [17] to ensure the values included in the Route Selection Descriptor of the generated URSP rules are always supported by subscription.\nFor the received list of internal group Ids, the (H-)PCF retrieves the corresponding 5G VN group configuration data stored from the UDR as specified in 3GPP TS 29.504[27] and 3GPP TS 29.505 [26], if available. For each available 5G VN group, the (H-)PCF may use the retrieved 5G VN group configuration values to encode the values for the Route Selection Descriptor and the values for the Traffic Descriptor of the generated URSP rules.\nIf the \"EnhancedBackgroundDataTransfer\" feature is supported, the (H-)PCF may retrieve the Background Data Transfer Reference ID(s) by retrieving the UE's Application Data from the UDR as defined in clause 6.2.9 of 3GPP TS 29.519 [17]. In this case, the PCF shall retrieve the transfer policy corresponding to the Background Data Transfer Reference ID(s) as defined in clause 5.2.8 of 3GPP TS 29.519 [17] and then may create the URSP rules including the Route Selection Validation Criteria for the UE as defined in clause 6.6.2.1 of 3GPP TS 23.503 [4]. If the (H-)PCF provisions the URSP rules including the Route Selection Validation Criteria for the UE, it shall use the associated S-NSSAI and DNN to store in the UDR the Background Data Transfer Reference ID(s) in the UE's session management policy data as specified in 3GPP TS 29.519 [17].\nIf the (H-)PCF retrieves the BDT policy and corresponding related information (e.g. network area information, the volume of data to be transferred per UE, etc.) within the BdtData data type, and the \"bdtpStatus\" attribute within the BdtData data type is set to value \"INVALID\", the (H-)PCF shall not provision the URSP rules based on the invalid BDT policy. When the BDT policy re-negotiation is completed the PCF may:\n-\tif the new BDT Policy is determined, create or update the applicable URSP rules based on the new BDT policy; or\n-\tif the invalid BDT policy is removed, remove applicable URSP rules.\nIf the \"AfGuideURSP\" feature is supported by the Nudr_DataRepository service, the (H-)PCF may receive Service specific parameter information that contains data for AF guidance information on the URSP determination as defined in clause 6.4.2.15 of 3GPP TS 29.519 [17]. In this case, the (H-)PCF may also use this AF guidance information as input to determine the URSP that will be provisioned to the UE. If the received AF guidance information is not consistent with the UE subscription data, or the local operator policy does not allow the specific S-NSSAI and DNN provided by the AF guidance information, the corresponding AF guidance information shall not be used to determine the URSP rules. The PCF may also determine not to use AF guidance based on the analytics info received from the NWDAF.\nWhen the (H-)PCF decides to provide URSP rules based on the AF guidance information, it shall derive the information as follows:\n-\tApplication traffic descriptor within the \"trafficDesc\" attribute is used to set the Traffic Descriptor of URSP rule (defined in Figure 5.2.2 of 3GPP TS 24.526 [16]).\n-\tEach route selection parameter set within the \"routeSelParamSets\" attribute of the UrspRuleRequest data type is used to determine a Route selection descriptor (defined in Figure 5.2.2 of 3GPP TS 24.526 [16]) as follows:\n-\tDNN (within the \"dnn\" attribute of the RouteSelectionParameterSet data type) and S-NSSAI (within the \"snssai\" attribute of the RouteSelectionParameterSet data type) from the route selection parameter set are used to set the Route selection descriptor contents (defined in Figure 5.2.4 of 3GPP TS 24.526 [16]);\n-\tRoute selection precedence (within the \"precedence\" attribute of the RouteSelectionParameterSet data type) is used to set the Precedence value of route selection descriptor (defined in Figure 5.2.4 of 3GPP TS 24.526 [16]); and\n-\tthe spatial validity condition (within the \"spatialValidityTais\" attribute of the RouteSelectionParameterSet data type) is used to set the Location criteria of the route selection descriptor (defined in Figure 5.2.5 of 3GPP TS 24.526 [16]).\n-\tThe PCF may use the requested PDU Session type provided within the \"pduSessType\" attribute of the RouteSelectionParameterSet data structure to derive the PDU Session type of the route selection descriptors of the URSP rule.\n-\tThe precedence for the generated URSP rule is determined by the (H-)PCF. The (H-)PCF may use the \"relatPrecedence\" attribute within the \"UrspRuleRequest\" data type to derive the relative precedence of the URSP rule for a request coming from the same AF.\nURSP rules based on AF guidance should not be set as the URSP rules with the \"match all\" application traffic descriptor.\nThe (H-)PCF may obtain the information about the UE's OS from the UE as described in the Annex D of 3GPP TS 24.501 [15] or it may derive the information about the UE's OS from the PEI provided by the NF service consumer (e.g. AMF).\nIf the (H-)PCF is required to provide UE policies to the UE that includes application descriptors then:\na)\tIf the (H-)PCF has been provided with one UE's OS Id by the UE, the (H-)PCF shall use either the traffic descriptor \"OS App Id type\" or the traffic descriptor \"OS Id + OS App Id type\" as defined in 3GPP TS 24.526 [16].\nNOTE 1:\tThe (H-)PCF uses the traffic descriptor \"OS Id + OS App Id type\" when the (H-)PCF does not take the received UE's OS Id into account.\nb)\tIf the (H-)PCF has been provided with more than one UE's OS Id by the UE,\n-\tthe (H-)PCF shall use the traffic descriptor \"OS Id + OS App Id type\" for the UE's OS Id provided by the UE as defined in 3GPP TS 24.526 [16]; and\n-\tthe (H-)PCF shall not use the traffic descriptor \"OS App Id type\" as defined in 3GPP TS 24.526 [16].\nc)\tIf the (H-)PCF has not been provided with the UE's OS Id by the UE,\n-\tthe (H-)PCF shall use the traffic descriptor \"OS Id + OS App Id type\" as defined in 3GPP TS 24.526 [16]; and\n-\tthe (H-)PCF shall not use the traffic descriptor \"OS App Id type\" as defined in 3GPP TS 24.526 [16].\nd)\tIf the (H-)PCF has been provided with the UE's OS Id by the UE and the (H-)PCF has derived the UE's OS Id from the PEI and if there is an inconsistency between the OS Id provided by the UE and the OS Id derived from the PEI, the (H-)PCF shall use the OS Id provided by the UE for providing UE policies to the UE that include application descriptors.\nURSP rules may be used to support end to end redundant user plane paths by establishing two redundant PDU sessions. PCF configuration based on e.g. deployment, terminal implementation or policies per group of UE(s) may be used by the PCF to determine whether the URSP Rules shall include PDU Session Pair ID and RSN to indicate that they refer to redundant PDU sessions or whether the UE will determine these values instead.\nNOTE 2:\tWhen the \"EnSatBackhaulCategoryChg\" feature defined in clause 5.8 is supported, the received satellite or non-satellite backhaul category can be used as input to provision or update URSP rules to enable appropriate PDU session capabilities. E.g., when satellite backhaul category is indicated by the AMF, the (H-)PCF can take it into account to determine, based on operator policies, an appropriate Route Selection Descriptor for the URSP rule and the services deployed on the satellite, (e.g., the provisioning or update of URSP rules to indicate the specific DNN for services deployed on-board satellites).\nIf the AF provided the (H-)PCF with Personal IoT Network identifier (PIN ID) associated with a DNN and S-NSSAI, and the received DNN and S-NSSAI corresponds to a subscribed DNN and S-NSSAI combination in the UE Policy Context as described in 3GPP TS 29.519 [17], the (H-)PCF shall include the PIN ID within the traffic descriptor of the URSP Rule attribute as defined in 3GPP TS 24.526 [16] for UE to choose an appropriate PIN to establish the PDU session.\nNOTE 3:\tThe PCF can provide two distinct URSP rules to support end to end redundant user plane paths using Dual Connectivity for the duplicated traffic of an application. Duplicated traffic from the UE application is differentiated by two distinct traffic descriptors (different DNNs, and for IP traffic, different IP descriptors or non-IP descriptors), each one defined in a different URSP rule, so that the two redundant PDU sessions are matched to the specific Route Selection Descriptors of distinct URSP rules. These Route Selection Descriptors of distinct URSP rules may include corresponding RSNs and PDU Session Pair IDs as defined in 3GPP TS 24.526 [16]. The Route Selection Descriptors share the same PDU Session Pair ID, if included, to denote the two traffic are redundant with each other.\nNOTE 4:\tFor backward compatibility, PCF can provide a Route Selection Descriptor with PDU Session Pair ID and RSN and a Route Selection Descriptor without PDU Session Pair ID and RSN in the URSP rule. In this case, the Route Selection Descriptor with PDU Session Pair ID and RSN has a lower precedence value (i.e. higher prioritised) than the one without PDU Session Pair ID. It allows that if a non-supporting UE receives the Route Selection Descriptor containing PDU Session Pair ID, it ignores this Route Selection Descriptor.\nNOTE 5:\tPIN ID and other traffic descriptor components are mutually exclusive, i.e., if PIN ID is included in a URSP rule, then no other traffic descriptor components are supported in the same URSP rule.\nThe PCF may adjust the URSP rules when needed, based on awareness of URSP rule enforcement for an application by using the following mechanisms:\nA.\tAwareness of URSP rule enforcement with UE assistance:\n-\tBased on operator policies, and if the UE included in the UE STATE INDICATION message the indication of UE's support of reporting URSP rule enforcement as specified in the Annex D of 3GPP TS 24.501 [15], the PCF may indicate in a URSP rule sent to the UE to send reporting of URSP rule enforcement, as specified in 3GPP TS 24.526 [16]. For this URSP rule, the UE reports URSP rule enforcement to the SMF if Connection Capabilities are included in the traffic descriptor, as specified in the Annex D of 3GPP TS 24.501 [15] and in 3GPP TS 24.526 [16]. The SMF reports URSP rule enforcement information to the PCF as specifed in 3GPP TS 29.512 [31].\n-\tFor LBO roaming session case, if the feature \"URSPEnforcement\" is supported, the H-PCF for the UE may send the \"URSP_ENF_INFO\" Policy Control Request Trigger to the V-PCF for the UE during the UE Policy Association Establishment or Modification procedures. When the V-PCF receives URSP rule enforcement information as described above, the V-PCF shall invoke the UE Policy Association Update Modification procedure as described in clause 4.2.3.1.\n-\tIf the (V-)(H-)PCF for a UE and the PCF for a PDU session are different, then the (V-)(H-)PCF for a UE may subscribe to the PCF for a PDU session to receive the reporting of URSP rule enforcement information as defined in 3GPP TS 29.514 [37] and the (V-)(H-)PCF for a UE may obtain UE reporting of URSP rule enforcement information from the PCF for a PDU session as defined in 3GPP TS 29.514 [37], where the V-PCF for a UE interacts with the PCF for a PDU session in the VPLMN and the H-PCF for a UE interacts with the PCF for a PDU session in the HPLMN.\n-\tBased on the received URSP rule enforcement information, the (H-)PCF may adjust the URSP rules e.g. when the (H-)PCF determines that the UE does not have up-to-date URSP rules.\n-\tIn this release of the specification, the received URSP rule enforcement report shall contain one or more connection capabilities. If the URSP rule enforcement report does not include connection capabilities, based on local policies, the (H-)PCF for the UE may ignore the received report.\nB.\tAwareness of URSP rule enforcement without UE assistance: The PCF may subscribe to or request the PDU Session Traffic analytics statistics using the Nnwdaf_EventsSubscription_Subscribe service operation or Nnwdaf_AnalyticsInfo_Request service operation including the \"PDU_SESSION_TRAFFIC\" event for traffic monitoring of known traffic according to provisioned PDU Session Traffic requirements of corresponding URSP rule(s) at the NWDAF as defined in 3GPP TS 29.520 [38]. If the PCF is notified or responded with traffic that does not match Traffic Descriptor provided that is the traffic which is not expected according to a URSP rule, the PCF may adjust the URSP rules when unexpected application traffic is detected.\nNOTE 6:\tThe PCF can combine the UE reporting of URSP rule enforcement with the analytics information together to adjust the URSP rules.\n\nWhen the UE supports VPLMN-specific URSP rules, the H-PCF may provision VPLMN specific URSP rules to the UE for the purpose to route traffic to the VPLMN as described in clause 4.2.2.2.1.1. The H-PCF provides VPLMN specific URSP rules that contains HPLMN values.\nNOTE 1:\t For network slice information, the VPLMN-specific URSP rule contains HPLMN NSSAI values. For DNN information, the VPLMN-specific URSP rule contains DNN values according to the subscribed DNNs for which LBO roaming is allowed, as specified in 3GPP TS 29.519 [17].\nThe (H-)PCF may use AF guidance on URSP determination as input for VPLMN-specific URSP rule determination as specified in clause 4.2.2.2.3.1. The (H-)PCF retrieves from the UDR at the HPLMN the AF guidance for the VPLMN-specific URSP rules for a UE, group of UEs or any UE as specified in 3GPP TS 29.519 [17].\nIn case of roaming and if the feature \"VPLMNSpecificURSP\" is supported, the H-PCF may receive from the V-PCF the AF-guidance on VPLMN specific URSP rules within the \"vpsUrspGuidance\" attribute as specified in clauses 4.2.2.1, and 4.2.3.1. The V-PCF receives from the UDR at the VPLMN the V-AF guidance for the VPLMN specific URSP rules for all roaming UEs of a HPLMN as specified in 3GPP TS 29.519 [17]. The V-PCF determines based on LBO information received from the AMF whether the received V-AF-guidance on VPLMN specific URSP rules may apply for this UE, and if it is so, the V-PCF forwards the related information to the H-PCF within the \"vpsUePolGuidance\" attribute as specified in clause 4.2.2.1.\nFor a UE for which AF guidance on VPLMN specific URSP rules is forwarded to the H-PCF within the \"vpsUePolGuidance\" attribute, the V-PCF:\n-\tmaps the S-NSSAI of the VPLMN (indicated by the AF and retrieved from the UDR, if available) into the S-NSSAI of the HPLMN. The V-PCF uses the Configured NSSAI for the Serving PLMN and mapping of each S-NSSAI of the Configured NSSAI to corresponding HPLMN S-NSSAI values provided by the AMF within the \"confSnssais\" attribute as specified in clauses 4.2.2.1, and 4.2.3.1. The V-PCF shall subscribe to the \"CONF_NSSAI_CH\" policy control request trigger. Then, for each URSP rule included within the \"urspGuidance\" attribute, the V-PCF sends the mapped application guidance on URSP determination including the HPLMN S-NSSAI values to the H-PCF within the \"snssai\" attribute included within the corresponding \"routeSelParamSets\" entry; and\n-\tindicates to the H-PCF to notify about the result of the delivery of UE policies (if it was requested by the AF to the VPLMN) using the \"deliveryEvents\" attribute as specified in clauses 4.2.2.1, and 4.2.3.1. The H-PCF notifies about the result of the delivery of UE policies using the \"delivReport\" attribute as specified in clauses 4.2.4.2 and 4.2.4.7.\nThe H-PCF generates new or updated VPLMN-specific URSP rules using the received application guidance on the URSP rule determination, where the VPLMN ID(s) included in the (H-)AF and/or V-PCF request is used to indicate to the UE that this URSP rule applies when the UE is registered in the VPLMN ID. The H-PCF provides URSP rules for the received AF-guidance parameter values that are within the subscribed values defined in the UE Policy Data Set, as specified in 3GPP TS 29.519 [17]. The VPLMN ID(s) received in the (H-)(V-)AF request, as specified in 3GPP TS 29.522[39], and/or received in the V-PCF request, and provided by the H-PCF within the VPLMN-specific URSP rule, as specified in 3GPP TS 24.501 [15], may contain one or more specific values for the MCC and MNC and/or may indicate any MNC for a MCC. The H-PCF, based on operator policies, may set the precedence in the URSP Rules to ensure that the UE checks the VPLMN ID(s) that contain one or more specific values for the MCC and MNC. The H-PCF should also set the precedence in the URSP rules to ensure that the UE checks any VPLMN-specific URSP rule related to the serving PLMN before any non-VPLMN specific URSP rules.\nIf the UE does not indicate the support for VPLMN specific URSP rules, the H-PCF generates new or updated URSP rules using the VPLMN ID related information retrieved from the UDR and/or received from the V-PCF.\nNOTE 2:\tTo avoid the UE stores obsolete information about VPLMN-specific URSP rules, the H-PCF could delete those determined based on V-AF guidance and once the UE has left the VPLMN.\nV2XP includes the V2XP over PC5 and over Uu interfaces.\nThe V2XP over PC5 are defined in clause 5.2.3 of 3GPP TS 24.587 [24] and the corresponding encoding is defined in clause 5.3.1 of 3GPP TS 24.588 [25].\nThe V2XP over Uu are defined in clause 5.2.4 of 3GPP TS 24.587 [24] and the corresponding encoding is defined in clause 5.3.2 of 3GPP TS 24.588 [25].\nThe ProSeP includes:\n-\tProSeP for 5G ProSe direct discovery defined in clause 5.3 of 3GPP TS 24.555 [29];\n-\tProSeP for 5G ProSe direct communications defined in clause 5.4 of 3GPP TS 24.555 [29];\n-\tProSeP for 5G ProSe UE-to-network relay, including:\n-\tProSeP for 5G ProSe UE-to-network relay UE defined in clause 5.5 of 3GPP TS 24.555 [29]; and/or\n-\tProSeP for 5G ProSe Remote UE defined in clause 5.6 of 3GPP TS 24.555 [29];\n-\tProSeP for 5G ProSe usage reporting configuration and rules defined in clause 5.7 of 3GPP TS 24.555 [29] ;\nand/or\n-\tProSeP for 5G ProSe UE-to-UE relay, including:\n-\tProSeP for 5G ProSe UE-to-UE relay UE defined in clause 5.8 of 3GPP TS 24.555 [29]; and/or\n-\tProSeP for 5G ProSe End UE defined in clause 5.9 of 3GPP TS 24.555 [29].\nA2XP includes the A2X Policy over PC5 interface or A2X Policy over Uu reference point or both.\nThe A2XP over PC5 or A2XP over Uu reference point or both are defined in 3GPP TS 24.577 [32] and the corresponding encoding is defined in 3GPP TS 24.578 [33].\nEditor's Note: The reference to CT1 specification for A2XP related encoding to be updated.\nRSLPP includes the Ranging/SL Policy over PC5 interface. The RSLPP over PC5 interface is defined in 3GPP TS 24.514 [42].\nThe V2X N2 PC5 policy consists of V2X PC5 QoS parameters used by the NG-RAN.\nWhen the (H-)PCF derives the UE policy for V2X communications over PC5 reference point as defined in clause 4.2.2.2.4, the (H-)PCF shall derive the corresponding V2X PC5 QoS parameters used by the NG-RAN.\nIn the roaming case, the H-PCF:\n-\tif PC5 UE capabilities and UE Policy Provisioning request messages are received, and V2X policies are derived, shall include the V2X N2 PC5 Policy within the \"n2Pc5Pol\" attribute in the policy association creation response  towards the V-PCF; or\n-\tshall include the V2X N2 PC5 Policy within the \"n2Pc5Pol\" attribute, if changes apply, in the policy association update response towards the V-PCF; or\n-\tmay include the V2X N2 PC5 Policy within the \"n2Pc5Pol\" attribute in the the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send V2X N2 PC5 policy to the NG-RAN.\nThe 5G ProSe N2 PC5 policy consists of 5G ProSe PC5 QoS parameters used by the NG-RAN.\nWhen the (H-)PCF derives the UE policy for 5G ProSe as defined in clause 4.2.2.2.5, the (H-)PCF shall derive the corresponding 5G ProSe N2 PC5 QoS parameters used by the NG-RAN.\nIn the roaming case, the H-PCF:\n-\tif the 5G ProSe capabilities and the UE Policy Provisioning request message are received, and 5G ProSe policies are derived, shall include the N2 PC5 Policy for 5G ProSe within the \"n2Pc5ProSePol\" attribute in the of policy association creation response towards the V-PCF; or\n-\tshall include the N2 PC5 Policy for 5G ProSe within the \"n2Pc5ProSePol\" attribute, if changes apply, in the response of the policy association update response towards the V-PCF; or\n-\tmay include the N2 PC5 Policy for 5G ProSe within the \"n2Pc5ProSePol\" attribute in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send 5G ProSe N2 PC5 policy to the NG-RAN.\nThe A2X N2 PC5 policy consists of A2X PC5 QoS parameters used by the NG-RAN.\nWhen the (H-)PCF derives the UE policy for A2X communications over PC5 reference point as defined in clause 4.2.2.2.6, the (H-)PCF shall derive the corresponding V2X PC5 QoS parameters used by the NG-RAN.\nIn the roaming case, the H-PCF:\n-\tif PC5 UE capabilities and UE Policy Provisioning request messages are received, and A2X policies are derived, shall include the A2X N2 PC5 Policy within the \"n2Pc5PolA2x\" attribute in the policy association creation response  towards the V-PCF; or\n-\tshall include the A2X N2 PC5 Policy within the \"n2Pc5PolA2x\" attribute, if changes apply, in the policy association update response towards the V-PCF; or\n-\tmay include the V2X N2 PC5 Policy within the \"n2Pc5PolA2x\" attribute in the the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send A2X N2 PC5 policy to the NG-RAN.\nThe Ranging/SL N2 PC5 policy consists of Ranging/SL PC5 QoS parameters used by the NG-RAN.\nWhen the (H-)PCF derives the UE policy for Ranging/SL over PC5 reference point as defined in clause 4.2.2.2.X, the (H-)PCF shall derive the corresponding Ranging/SL PC5 QoS parameters used by the NG-RAN.\nIn the roaming case, the H-PCF:\n-\tif PC5 UE capabilities and UE Policy Provisioning request messages are received, and Ranging/SL policies are derived, shall include the Ranging/SL N2 PC5 Policy within the \"n2Pc5RsppPol\" attribute in the policy association creation response towards the V-PCF; or\n-\tshall include the Ranging/SL N2 PC5 Policy within the \"n2Pc5RsppPol\" attribute, if changes apply, in the policy association update response towards the V-PCF; or\n-\tmay include the Ranging/SL N2 PC5 Policy within the \"n2Pc5RsppPol\" attribute in the the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send Ranging/SL N2 PC5 policy to the NG-RAN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.2.3\tNpcf_UEPolicyControl_Update Service Operation",
                            "text_content": "The procedure in the present clause is applicable when the NF service consumer modifies an existing UE policy association (including the case where the AMF is relocated and the new AMF selects to maintain the policy association with the old PCF and to update the Notification URI).\nFigure 4.2.3.1-1 illustrates the update of a policy association.\nFigure 4.2.3.1-1 illustrates the process of a User Equipment (UE) policy association update in a telecommunication network. The figure depicts the interaction between the Network Management Entity (NME) and the Home Agent (HA) in a cloud-based environment. The NME initiates the update request, which is then processed by the HA. The figure highlights the role of the Home Agent in managing the UE policy, ensuring that the correct policies are applied based on the UE's location and context. The update process is depicted as a sequence of messages exchanged between the NME and the HA, emphasizing the importance of real-time policy management in modern telecommunication networks.\nFigure 4.2.3.1-1: Update of a UE policy association\nNOTE 1:\tFor the roaming case, the PCF represents the V-PCF if the NF service consumer is an AMF and the PCF represents the H-PCF if the NF service consumer is a V-PCF.\nThe AMF, as NF service consumer, invokes this procedure when a subscribed policy control request trigger (see clause 4.2.3.2) occurs. When a policy control request trigger that requires the subscription as defined in table 5.6.3.3-1 (e.g. LOC_CH trigger) occurs, the NF service consumer (AMF) shall only invoke this procedure if the PCF has explicitly subscribed to that event trigger. When a policy control request trigger that does not require the subscription as defined in table 5.6.3.3-1 (e.g. GROUP_ID_LIST_CHG trigger) occurs, the NF service consumer (AMF) shall always invoke the procedure.\nNOTE 2:\tThe AMF uses the Namf_Communication_N1MessageNotify service operation specified in 3GPP TS 29.518 [14] to send to the V-PCF a \"MANAGE UE POLICY COMPLETE\" message or a \"MANAGE UE POLICY COMMAND REJECT\" message, as defined in Annex D.5 of 3GPP TS 24.501 [15] or a \"UE POLICY PROVISIONING REQUEST\" message as defined in clause 7.2.1.1 of 3GPP TS 24.587 [24].\nIf an AMF as NF service consumer knows by implementation specific means that the UE context has been transferred to an AMF with another GUAMI within the AMF set, it may also invoke this procedure to update the Notification URI.\nNOTE 3:\tEither the old or the new AMF can invoke this procedure.\nDuring the AMF relocation, if the new AMF received the resource URI of the individual UE Policy from the old AMF and selects the old PCF, the new AMF shall also invoke this procedure to update the Notification URI. The new AMF may also update the alternate or backup IP addresses, and if service discovery via NRF applies, the AMF Id. If the feature \"FeatureRenegotiation\" is supported, the new AMF may perform feature renegotiation, as described in clause 4.2.3.4.\nNOTE 4:\tDuring inter-AMF mobility, the N1N2 Individual Subscription context is transferred from the source AMF to the target AMF as specified in 3GPP TS 29.518 [14]. When the target AMF determines to reuse the UE Policy Association indicated by the source AMF, the PCF can keep the N1N2 Individual Subscription context and, for subsequent interactions, replace in the request URI the {apiRoot} of the N1N2 Individual Subscription resource with the one of the target AMF.\nThe V-PCF, as NF service consumer, invokes this procedure when a policy control request trigger (see clause 4.2.3.2) occurs. When a policy control request trigger that does not require the subscription as defined in table 5.6.3.3-1 (e.g. UE_POLICY trigger) occurs, the V-PCF shall always invoke the procedure. When a policy control request trigger that requires the subscription as defined in table 5.6.3.3-1 (e.g. LOC_CH trigger) occurs, the V-PCF shall only invoke this procedure if the H-PCF has subscribed to that event trigger.\nTo request policies (e.g. policy control request trigger(s) is/are met) from the PCF, to update the Notification URI, to renegotiate features, to update the trace control configuration or to request the termination of trace, the NF Service Consumer shall request the update of the associated UE Policy Association by providing the relevant parameters about the UE context in an HTTP POST request with \"{apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}/update\" as Resource URI and the PolicyAssociationUpdateRequest data structure as request body that shall include:\n-\tat least one of the following:\n1.\ta new Notification URI encoded in the \"notificationUri\" attribute;\n2.\tobserved Policy Control Request Trigger(s) (see clause 4.2.3.2) encoded as \"triggers\" attribute;\n3.\tif a UE location change occurred, the UE location encoded as \"userLoc\" attribute;\n4.\tif a \"MANAGE UE POLICY COMPLETE\" message or a \"MANAGE UE POLICY COMMAND REJECT\" message of the UE policy delivery protocol defined in Annex D of 3GPP TS 24.501 [15] has been received by the V-PCF as NF service consumer, and at least parts of the contents relate to UPSIs of the HPLMN, the parts of that message that relate to UPSIs of the HPLMN encoded as \"uePolDelResult\" attribute;\n5.\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is provided, the current presence status of the UE for the presence reporting areas for which reporting was requested, if not previously provided, or the presence reporting areas for which reporting was requested and the status has changed encoded as \"praStatuses\" attribute;\nNOTE 5:\t\tIf the PCF included the identifer of a Core Network predefined Presence Reporting Area Set within the \"praId\" attribute during the subscription to changes of UE presence in PRA, the AMF only provides the presence reporting area information corresponding to the concerned individual Presence Reporting Area Identifier(s) within the Set. The \"praId\" attribute within each returned \"PresenceInfo\" data type hence includes the identifier of the concerned individual Presence Reporting Area.\n6.\tif the NF service consumer is an AMF, for AMF relocation scenarios, if available, alternate or backup IPv4 Address(es) where to send Notifications encoded as \"altNotifIpv4Addrs\" attribute;\n7.\tif the NF service consumer is an AMF, for AMF relocation scenarios, if available, alternate or backup IPv6 Address(es) where to send Notifications encoded as \"altNotifIpv6Addrs\" attribute;\n8.\t\tif the NF service consumer is an AMF, for AMF relocation scenarios, if available, alternate or backup FQDN(s) where to send Notifications encoded as \"altNotifFqdns\" attribute;\n9.  for AMF relocation scenarios, the GUAMI encoded as \"guami\" attribute;\nNOTE 6:\tAn alternate NF service consumer than the one that requested the generation of the subscription resource can send the request. For instance, an AMF as service consumer can change;\n10.\tif the NF service consumer is an AMF, for AMF relocation scenarios, the new serving AMF Id encoded in the \"servingNfId\" attribute;\nNOTE 7:\tIf the PCF received the \"servingNfId\" attribute, the PCF can use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] to retrieve the NF profile of the Namf_Communication service available in the indicated AMF instance Id.\n11.\tif a UE PLMN change occurred and the \"PlmnChange\" feature defined in clause 5.8 is supported, the PLMN Identifier or the SNPN Identifier of the new serving network encoded as \"plmnId\" attribute;\nNOTE 8:\tThe SNPN Identifier consists of the PLMN Identifier and the NID.\nNOTE 9:\tWhen the UE moves between PLMNs, the trigger reports changes of equivalent PLMNs.\nNOTE 10:\tMobility between non-equivalent SNPNs, and between SNPN and PLMN is not supported. When the UE is operating in SNPN access mode, the trigger reports changes of equivalent SNPNs.\n12. if a \"UE POLICY PROVISIONING REQUEST\" message defined in clause 7.2.1.1 of 3GPP TS 24.587 [24] has been received by the V-PCF as NF service consumer and respectively the \"V2X\" feature , and/or the \"A2X\" feature and/or the \"ProSe\" feature and/or the \"Ranging_SL\" feature defined in clause 5.8 is/are supported, the message encoded as \"uePolReq\" attribute;\n13.\tif a UE Internal Group Identifier(s) change occurred and the \"GroupIdListChange\" feature defined in clause 5.8 is supported, the Internal Group Identifier(s) of the served UE encoded as \"groupIds\" attribute;\n14.\tif a change of PC5 capablity for 5G ProSe occurred and the \"ProSe\" feature defined in clause 5.8 is supported, the PC5 capability for 5G ProSe encoded as \"proSeCapab\" attribute;\n14a.\tif a change of the Ranging/SL Capability occurred and the \"Ranging_SL\" feature defined in clause 5.8 is supported, the Ranging/SL Capability encoded as \"rangingSlCapab\" attribute; and/or\n15.\tif a change of the connectivity state of the UE occurred and the \"ConnectivityStateChange\" feature defined in clause 5.8 is supported, the connectivity state of the served UE encoded as \"connectState\" attribute;\n16.\twhen a response with HTTP status code 4xx or 5xx as defined in clause 5.2.2.3.1.2 of 3GPP TS 29.518 [14] or a N1N2 Transfer Failure Notification as defined in clause 5.2.2.3.2 of 3GPP TS 29.518 [14] is received by the V-PCF after provisioning the UE policy by invoking the Namf_Communication_N1N2MessageTransfer service operation to the AMF, this UE policy transfer failure notification encoded as \"uePolTransFailNotif\" attribute;\n17.\t\tif the NF service consumer is an AMF, the \"SliceAwareANDSP\" feature is supported, and the \"NON_3GPP_NODE_RESELECTION\" trigger is reported within the \"triggers\" attribute, the wrongly selected non-3gpp access node encoded as \"n3gNodeReSel\" attribute, and, in the roaming case, also the Configured NSSAI for the serving PLMN encoded as \"confSnssais\" attribute;\n18.\t\tif satellite backhaul category change occurred and the \"EnSatBackhaulCategoryChg\" feature defined in clause 5.8 is supported, the satellite backhaul category or non-satellite backhaul encoded as \"satBackhaulCategory\" attribute;\n19.\tfor the roaming scenario, if the NF service consumer is an AMF, Configured NSSAI change occurred and the \"NssaiChange\" feature is supported, the Configured NSSAI for the serving PLMN encoded as \"confSnssais\" attribute and optionally the mapped each S-NSSAI value of home network corresponding to the configured S-NSSAI values in the serving PLMN encoded as \"mappedHomeSnssai\" attribute within the \"confSnssais\" attribute;\n20\tfor the roaming scenario, if the NF service consumer is a V-PCF, the \"URSPEnforcement\" feature is supported, and the \"URSP_ENF_INFO\" policy control request trigger is met, the URSP rule enforcement information within the \"urspEnfReport\" attribute;\n21.\tfor the roaming scenario, if the NF service consumer is a V-PCF the \"VPLMNSpecificURSP\" feature is supported, the AF guidance on VPLMN-specific URSP rules related information within the \"vpsUePolGuidance\" attribute, that shall contain for each related AF:\na.\tthe AF guidance on VPLMN-Specific URSP rules within the \"urspGuidance\" attribute, if the AF updated/provided this information; and/or\nb.\tif the AF requested to the VPLMN notifications about the delivery of UE Policies or the update of the subscription to notification information previously provided, the \"deliveryEvents\" attribute including the\"SUCCESS_UE_POL_DEL_SP\" and/or \"UNSUCCESS_UE_POL_DEL_SP\" events;\n22.\tfor the roaming scenario, if the NF service consumer is an AMF, the \"VPLMNSpecificURSP\" feature is supported and the \"LBO_INFO_CH\" policy control request trigger is met, the LBO roaming information within the \"lboRoamingInfo\" attribute; and/or\n23.\t\tif an access type change occurred and the \"AccessChange\" feature defined in clause 5.8 is supported, the access type(s) encoded as \"accessTypes\" and when an access type change occurred, the indication of whether a new access type is being added or an existing access type is being removed encoded within the \"accessStatus\" attribute.\nUpon the reception of the HTTP POST request:\n-\tif the PCF is a V-PCF and the V-PCF has an established policy association with the H-PCF, the V-PCF shall determine based on the contents of a potentially received \"uePolDelResult\" attribute to be sent to the H-PCF (see above) and requested event triggers of the H-PCF whether to send as the NF service consumer towards the H-PCF a request for the update of the policy association as described in the present clause;\n-\tthe (V-)(H-)PCF shall determine the applicable UE policy based on the contents of the received HTTP POST request, the UE Policy Sections stored in UDR, local policy and, for the H-PCF, taking into consideration the information received within the UE policy delivery protocol encoded in the \"uePolReq\" attribute, if available, and for the V-PCF, taking into consideration any policy received from the H-PCF encoded in the \"uePolicy\" attribute in the reply to the possible request for the update of the associated policy association. When the \"ProSe\" feature is supported, the H-PCF shall determine the applicable ProSeP based on the received PC5 capability for 5G ProSe. When the UE disables a 5G ProSe capability the PCF may stop updating the corresponding ProSeP, and when the UE enables a 5G ProSe capability the PCF may update the corresponding ProSeP;\n-\tif the UE indicated the support of A2X communications over PC5 reference point, \"A2X\" feature is supported, and for the H-PCF, if the UE POLICY PROVISIONING REQUEST message was included in the \"uePolReq\" attribute, the (H-)PCF shall determine the applicable A2XP and A2X N2 PC5 policy as detailed in clauses 4.2.2.2.1.4 and 4.2.2.5, based on the operator's policy;\n-\tif the UE indicates the support of 5G ProSe communications over PC5 reference point, the \"ProSe\" feature is supported, and for the H-PCF, if the UE POLICY PROVISIONING REQUEST message with the requested 5G ProSe policies was included in the \"uePolReq\" attribute, the (H-)PCF shall determine the applicable ProSeP and 5G ProSe N2 PC5 policy, as detailed in clauses 4.2.2.2.1.3 and 4.2.2.4, based on the operator's policy;\n-\tif the UE indicated the support of V2X communications over PC5 reference point, \"V2X\" feature is supported, and for the H-PCF, if the UE POLICY PROVISIONING REQUEST message was included in the \"uePolReq\" attribute, the (H-)PCF shall determine the applicable V2XP and V2X N2 PC5 policy as detailed in clauses 4.2.2.2.1.2 and 4.2.2.3, based on the operator's policy;\n-\tif the UE indicated the support of Ranging/SL over PC5 reference point, \"Ranging_SL\" feature is supported, and for the H-PCF, if the UE POLICY PROVISIONING REQUEST message was included in the \"uePolReq\" attribute, the (H-)PCF shall determine the applicable RSLPP and Ranging/SL N2 PC5 policy as detailed in clauses 4.2.2.2.1.5 and 4.2.2.6 based on the operator's policy;\n-\tfor the succesfull case, the (V-)(H-)PCF shall send a HTTP \"200 OK\" response with the PolicyUpdate data type as response body with the possibly updated of UE policy (for the H-PCF), and/or ProSe N2 PC5 policy (for the H-PCF) as specified in clause 4.2.2.4, N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe (for the H-PCF) as specified in clause 4.2.2.3 , and/or the Ranging/SL N2 PC5 policy (for the H-PCF) as specified in clause 4.2.2.6 and/or Policy Control Request Trigger(s) encoded as described in clause 4.2.3.3;\n-\tif the (V-)PCF determines that UE policy needs to be updated, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the UE policy according to clause 4.2.2.2 and as follows:\n(i)\tthe (V-)PCF shall send the determined UE policy using Namf_Communication_N1N2MessageTransfer service operation(s); and\n(ii)\tthe (V-)PCF shall be prepared to receive UE Policy Delivery Results from the AMF within the Namf_Communication_N1MessageNotify service operation, and for the V-PCF, if the received UE Policy Delivery results relate to UE policy sections provided by the H-PCF, the V-PCF shall use the Npcf_UEPolicyControl_Update Service Operation to send those UE Policy Delivery results to the H-PCF; and\nNOTE 11:\tA PolicyUpdate data structure with only mandatory attribute(s) is included in the \"200 OK\" response when the PCF decides not to update the policies.\n-\tif the PCF determines that the V2XP and N2 PC5 policy (e.g. for V2X communications, for 5G ProSe) for V2X communications need to be updated, and for the V-PCF when receiving the updated V2XP and N2 PC5 policy for V2X communications from the H-PCF, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the V2XP to the UE and the V2X N2 PC5 policy to NG-RAN according to clauses 4.2.2.2.1.2 and 4.2.2.3;\n-\tif the PCF determines that the A2XP (e.g. for A2X communications) for A2X communications need to be updated, and for the V-PCF when receiving the updated A2XP and N2 PC5 policy for A2X communications from the H-PCF, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the A2XP to the UE and the A2X N2 PC5 policy to NG-RAN according to clauses 4.2.2.2.1.4 and 4.2.2.5;\n-\tif the PCF determines that ProSeP and 5G ProSe N2 PC5 policy needs to be updated, and for the V-PCF when receiving the updated ProSeP and 5G ProSe N2 PC5 policy from the H-PCF, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the ProSeP to the UE and 5G ProSe N2 PC5 policy to NG-RAN according to clauses 4.2.2.2.1.3 and 4.2.2.4;\n-\tif the PCF determines that RSLPP and Ranging/SL N2 PC5 policy needs to be updated, and for the V-PCF when receiving the updated RSLPP and Ranging/SL N2 PC5 policy from the H-PCF, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the RSLPP to the UE and Ranging/SL N2 PC5 policy to NG-RAN according to clauses 4.2.2.2.1.5 and 4.2.2.6;\n-\tif the SliceAwareANDSP feature is supported, the PCF received the \"NON_3GPP_NODE_RESELECTION\" trigger, and the PCF has successfully delivered the updated ANDSP/WLANSP to the UE with the slice information for the corresponding non-3gpp node, the notification of this successful delivery by providing the \"andspDelInd\" attribute with the value \"true\".\n-\tif errors occur when processing the HTTP POST request, the (V-)(H-)PCF shall:\n-\tsend an HTTP error response as specified in clause 5.7; or\n-\tif the feature \"ES3XX\" is supported, and the (V-)(H-)PCF determines the received HTTP POST request needs to be redirected, send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5];\naccording to the following provisions:\n-\tif the (V-)(H-)PCF is, due to incomplete, erroneous or missing information in the request not able to provision a UE policy decision, the PCF may reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"ERROR_REQUEST_PARAMETERS\".\nIf the PCF received a new GUAMI, the PCF may subscribe to GUAMI changes using the AMFStatusChange service operation of the Namf_Communication service specified in 3GPP TS 29.518 [14], and it may use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the obtained GUAMI and possibly service name) to query the other AMFs within the AMF set.\nThe following Policy Control Request Triggers are defined (see clause 6.1.2.5 of 3GPP TS 23.503 [4]):\n-\t\"LOC_CH\", i.e. location change (tracking area): the tracking area of the UE has changed;\n-\t\"PRA_CH\", i.e. change of UE presence in PRA: the UE is entering/leaving a Presence Reporting Area. This includes reporting the initial status at the time the request for this reporting is initiated;\n-\t\"UE_POLICY\", i.e. a \"MANAGE UE POLICY COMPLETE\" message or a \"MANAGE UE POLICY COMMAND REJECT\" message, as defined in Annex D.5 of 3GPP TS 24.501 [15] has been received by the V-PCF and is being forwarded to the H-PCF, or has been received by a PCF for a PDU session (in case for URSP provisioning in EPS) and is being forwarded to the (V-)PCF, or a \"UE POLICY PROVISIONING REQUEST\" message, as defined in clause 7.2.1.1 of 3GPP TS 24.587 [24] has been received by the V-PCF and is being forwarded to the H-PCF;\n-\t\"PLMN_CH\", i.e. PLMN change: the serving network (PLMN or SNPN) of the UE has changed;\nNOTE 1:\tThe \"PLMN_CH\" trigger only applies if the \"PlmnChange\" feature is supported.\nNOTE 2:\tWhen the UE is moving between PLMNs, the trigger reports changes of equivalent PLMNs.\nNOTE 3:\tMobility between non-equivalent SNPNs, and between SNPN and PLMN is not supported. When the UE is operating in SNPN access mode, the trigger reports changes of equivalent SNPNs.\n-\t\"CON_STATE_CH\", i.e. connectivity state change: the connectivity state of the UE has changed;\nNOTE 4:\tThe \"CON_STATE_CH\" trigger only applies if the \"ConnectivityStateChange\" feature is supported.\n-\t\"GROUP_ID_LIST_CHG\", i.e. UE Internal Group Identifier(s) change: the UDM provided list of group Ids has changed; and\nNOTE 5:\tThe \"GROUP_ID_LIST_CHG\" trigger only applies if the \"GroupIdListChange\" feature is supported. This Policy Control Request Trigger does not require an explicit subscription from the PCF.\n-\t\"UE_CAP_CH\", i.e. UE Capabilities change: the UE provided 5G ProSe capabilities have changed.\nNOTE 6:\tThe \"UE_CAP_CH\" trigger only applies if the \"ProSe\" feature is supported. This Policy Control Request Trigger does not require a subscription.\n-\t\"SAT_CATEGORY_CHG\", i.e. Satellite Backhaul Category change: the AMF has detected a change between different satellite category, or non-satellite backhaul.\nNOTE 7:\tThe \"SAT_CATEGORY_CHG\" trigger only applies if the \"EnSatBackhaulCategoryChg\" feature is supported.\n-\t\"NON_3GPP_NODE_RESELECTION\", i.e. wrong TNGF or N3IWF: the UE has connected to a wrong non-3GPP access node that does not match its subscribed (or configured, in the roaming case) S-NSSAI(s).\nNOTE 8:\tThe \"NON_3GPP_NODE_RESELECTION\" trigger only applies if the \"SliceAwareANDSP\" feature is supported. This Policy Control Request Trigger does not require expilict subscription by the PCF.\n-\t\"CONF_NSSAI_CH\", i.e. Configured NSSAI change: the Configured NSSAI has changed.\nNOTE 9:\tThe \"CONF_NSSAI_CH\" trigger only applies if the \"NssaiChange\" feature is supported.\n-\t\"URSP_ENF_INFO\", i.e. URSP rule enforcement Information: The V-PCF has received URSP rule enforcement information for one or more URSP rules.\nNOTE 10:\tThe \"URSP_ENF_INFO\" trigger only applies to the V-PCF in LBO roaming scenarios and if the \"URSPEnforcement\" feature is supported.\n-\t\"LBO_INFO_CH\", i.e. LBO information change: The AMF reports LBO roaming allowed or not allowed for the requested DNN(s) and S-NSSAI(s).\nNOTE 11:\tThe \"LBO_INFO_CH\" trigger only applies to the AMF and when the \"VPLMNSpecificURSP\" feature is supported.\n-\t\"ACCESS_TYPE_CH\", i.e. access type change: The registered access type has changed, an access type is added or an access type is removed.\nNOTE 12:\tThe \"ACCESS_TYPE_CH\" trigger only applies when the \"AccessChange\" feature is supported.\nUpdated policies shall be encoded within the PolicyUpdate data type that may include:\n-\tonly when the updated policy is supplied by the H-PCF in the roaming scenario, UE policy (see clause 4.2.2.2) encoded as \"uePolicy\" attribute, and N2 PC5 policy for V2X communications (see clause 4.2.2.3) encoded as \"n2Pc5Pol\" attribute and/or the N2 PC5 policy for A2X communications (see clause 4.2.2.5) encoded as \"n2Pc5PolA2x\" attribute and/or the N2 PC5 policy for 5G ProSe (see clause 4.2.2.4) encoded as \"n2Pc5ProSePo\" attribute and/or the N2 PC5 policy for Ranging/SL (see clause 4.2.2.X) encoded as \"n2Pc5RsppPol\" attribute;\n-\twhen the updated policy is supplied via PCF of a PDU session by the (V-)PCF in case of URSP provisioning in EPS, UE policy (see clause 4.2.2.2) encoded as \"uePolicy\" attribute;\n-\tupdated Policy Control Request Trigger(s) (see clause 4.2.3.2) encoded as \"triggers\" attribute, i.e.:\n1)\teither a new complete list of applicable Policy Control Request Trigger(s) including one or several of the following:\na)\tLocation change (tracking area);\nb)\tChange of UE presence in PRA;\nc)\tChange of PLMN, if the \"PlmnChange\" feature is supported;\nd)\tChange of UE connectivity state, if the \"ConnectivityStateChange\" feature is supported;\ne)\tChange of Satellite Backhaul Category, if the \"EnSatBackhaulCategoryChg\" feature is supported;\nf)\tChange of Configured NSSAI, in roaming scenarios, if the \"NssaiChange\" feature is supported and the NF service consumer is the AMF;\ng)\tLBO information change, applicable to roaming scenarios, if the \"VPLMNSpecificURSP\" feature is supported and the NF service consumer is an AMF; or\nh)\tChange of Access type, if the \"AccessChange\" feature is supported;\n2)\ta \"NULL\" value to request the removal of all previously installed Policy Control Request Trigger(s); and\n-\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is provided or if that trigger was already set but the requested presence reporting areas need to be changed, the presence reporting areas for which reporting is required encoded as \"pras\" attribute encoded as follows:\na)\tA new entry shall be added by supplying a new identifier as key and the corresponding PresenceInfo data type instance with complete contents as value as an entry within the map.\nb)\tAn existing entry shall be modified by supplying the existing identifier as key and the PresenceInfo data type instance with complete contents as value as an entry within the map.\nc)\tAn existing entry shall be deleted by supplying the existing identifier as key and \"NULL\" as value as an entry within the map.\nd)\tFor an unmodified entry, no entry needs to be provided within the map.\n-\tif the Policy Control Request Trigger \"LBO information change\" is provided or if that trigger was already set but the requested LBO information needs to be changed, the requested LBO information encoded in the \"pduSessions\" attribute, a list of DNN and S-NSSAI combinations previously provided is updated by providing either a new complete list within the\"pduSessions\" attribute or by setting it to \"NULL\". If the \"pduSessions\" attribute is not provided or the previously provided \"pduSessions\" attribute is deleted, the LBO information change policy control request trigger applies to any S-NSSAI and DNN combination.\nDuring the AMF relocation, if the new AMF received the resource URI of the individual UE Policy from the old AMF and selects the old (V-)PCF, and the feature \"FeatureRenegotiation\" is supported, the new AMF shall invoke the update of the UE policy association as described in clause 4.2.3.1 with the following differences:\n-\tThe new AMF shall include in the PolicyAssociationUpdateRequest data structure sent in the HTTP POST request:\na.\tthe \"FEAT_RENEG\" policy control request trigger within the \"triggers\" attribute;\nb.\tthe \"suppFeat\" attribute with the AMF supported features; and\nc.\tfor each supported feature, the required feature information elements as specified in clause 4.2.2.1, if applicable.\nNOTE 1:\tWhen the new AMF received from the old AMF the subscription to policy control request trigger(s) that depend on feature control, and a policy control request trigger is met, the required feature information included in the update request contains the report of the met policy control request trigger within the \"triggers\" attribute and the associated information in the corresponding attribute, when applicable.\n-\tUpon reception of the HTTP POST request, the (V-)PCF shall update the \"Individual UE Policy Association\" resource, determine the applicable policy and include in the PolicyUpdate data structure sent in the HTTP POST response:\nNOTE 2:\tThe determination of the applicable policy can consider the features supported by the new AMF.\na.\tthe \"suppFeat\" attribute with the negotiated supported features; and\nb.\tthe complete \"Individual UE Policy Association\" resource representation, as specified in clause 4.2.2.1.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.2.4\tNpcf_UEPolicyControl_UpdateNotify Service Operation",
                            "text_content": "The (V-)(H)-PCF may decide to update policy control request triggers, and in the roaming case, the H-PCF may decide to update the UE Policy, the V2X N2 PC5 policy, if the \"V2X\" feature is supported, and/or the A2X N2 PC5 policy, if the \"A2X\" feature is supported, and/or the 5G ProSe N2 PC5 policy, if the \"ProSe\" feature is supported and/or the Ranging/SL N2 PC5 policy, if the \"Ranging_SL\" feature is supported. The PCF (H-PCF in the roaming case) may decide to request the termination of the policy association.\nIIf the \"EpsUrsp\" feature is supported and the NF consumer is a PCF for a PDU session the PCF (H-PCF in the LBO roaming scenario) may decide to update policy control request triggers and/or to update the URSP. The PCF (H-PCF in the LBO roaming scenario) may decide to request the termination of the policy association.\nThe(V-)(H-)PCF shall then use an Npcf_UEPolicyControl_UpdateNotify service operation.\nThe following procedures using the Npcf_UEPolicyControl_UpdateNotify service operation are supported:\n-\tPolicy update notification.\n-\tRequest the termination of the UE policy association.\n-\tURSP provisioning for background Data Transfer policy.\n-\tUE policy provisioning for V2X communications over PC5 and Uu reference points.\n-\tUE policy provisioning for 5G ProSe.\n-\tUE policy provisioning for Ranging/SL.\n-\tN2 PC5 Policy (e.g. for V2X communications, for A2X communications, for 5G ProSe, for Ranginging/SL) provisioning.\n-\tUE policy provisioning for A2X communications over PC5 reference point or A2X communications over Uu reference point or both.\nNOTE:\tThe PCF derives the URSP and invokes the Namf_Communication_N1N2MessageTransfer service operation to provision it to the UE.\n-\tURSP provisioning in EPS.\nFigure 4.2.4.2-1 illustrates the policy update notification.\n\nFigure 4.2.4.2-1 illustrates a policy update notification process, showing the various stages of the update from initiation to completion. The figure depicts the interaction between the network policy management system (NPMS) and the network elements, highlighting the communication flow and data exchange. The process involves the NPMS sending a request for policy update to the network elements, which then respond with the necessary information. The figure emphasizes the importance of timely and accurate communication to ensure the successful implementation of policy updates in a network.\nFigure 4.2.4.2-1: policy update notification\nNOTE:\tFor the roaming case, the PCF represents the V-PCF if the NF service consumer is an AMF and the PCF represents the H-PCF if the NF service consumer is a V-PCF.\nThe (V-)(H)-PCF may decide to update, based on external triggers (e.g. notifications received from UDR about new or updated service parameter data as described in 3GPP TS 29.519 [17]) or internal triggers (e.g., the activation of a pending policy counter provided via the Nchf_SpendingLimitControl Service as described in 3GPP TS 29.594 [33]) policy control request trigger(s) and in the roaming case, the H-PCF may also decide to update the UE Policy, the N2 PC5 policy for V2X communications if the \"V2X\" feature is supported and/or the N2 PC5 policy for A2X communications if the \"A2X\" feature is supported and/or the N2 PC5 policy for 5G ProSe if the \"ProSe\" feature is supported and/or the N2 PC5 policy for Ranging/SL if the \"Ranging_SL\" feature is supported.\nNOTE:\tIn this release of the specification, policy decisions based on policy counters provided via Nchf_SpendingLimitControl service apply only for non-roaming cases and UE policies refer to URSP only.\nIf the \"EpsUrsp\" feature is supported and the NF consumer is a PCF for a PDU session the PCF (H-PCF in the LBO roaming scenario) may decide to update policy control request triggers and/or to update the URSP.\nIf the SliceAwareANDSP feature is supported and the PCF has successfully delivered the updated ANDSP/WLANSP to the UE with the slice information for the corresponding non-3gpp node, the PCF may decide to notify the NF service consumer about this successful delivery.\nIf the \"VPLMNSpecificURSP\" feature is supported, the NF consumer is the V-PCF and the H-PCF received the subscription to notification about the delivery outcome of VPLMN-specific URSP rules within the \"deliveryEvents\" attribute as specified in clauses 4.2.2.1, and 4.2.3.1, the H-PCF notifies about the result of the delivery of UE policies using the \"delivReport\" attribute as described in clause 4.2.4.7.\nThe (V-)(H-)PCF shall then send an HTTP POST request with \"{notificationUri}/update\" as URI (where the Notification URI was previously supplied by the NF service consumer) to the NF service consumer and the PolicyUpdate data structure as request body encoded as described in clause 4.2.3.3.\nUpon the reception of the HTTP POST request, the NF service consumer:\n-\tif the V-PCF is the NF service consumer, shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to send \"MANAGE UE POLICY COMMAND\" message(s) with the received UE policy to the UE via the AMF and/or with the received N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe to the NG-RAN via the AMF;\n-\tif the V-PCF is the NF service consumer, shall provision the received policy control requested trigger(s) to the AMF, if applicable, using the Npcf_UEPolicyControl_UpdateNotify service operation according to the present clause;\n-\tif the AMF is the NF service consumer, shall enforce the received policy control request trigger(s);\n-\tif the \"EpsUrsp\" feature is supported and a PCF for a PDU session is the NF service consumer, shall behave as specified in clause 4.2.4.8;\n-\tshall either send a successful response indicating the success of the enforcement or an appropriate failure response, for the V-PCF as the NF service consumer taking into consideration a reply received from the possible Namf_Communication Service service operation and from the possible Npcf_UEPolicyControl_UpdateNotify service operation according to the previous bullets. In case of a successful response:\na.\tif the feature \"ImmediateReport\" is supported and the PCF provisioned policy control request triggers (applicable triggers are as defined in Table 5.6.2.8-1), a \"200 OK\" response code and a response body with the corresponding available information in the \"UeRequestedValueRep\" data structure shall be returned in the response;\nb.-\totherwise, a \"204 No Content\" response code shall be returned in the response; and\n-\tif errors occur when processing the HTTP POST request, shall send an HTTP error response as specified in clause 5.7; or\n-\tif the feature \"ES3XX\" is supported, and the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nIf the feature \"ErrorResponse\" is supported and if the AMF as NF service consumer is not able to handle the notification but another unknown AMF could possibly handle the notification, it shall reply with an HTTP \"404 Not found\" error response.\nIf the (V-)PCF receives a \"307 Temporary Redirect\" response, the (V-)PCF shall resend the failed policy update notification request using the received URI in the Location header field as Notification URI. Subsequent policy update notifications, triggered after the failed one, shall be sent to the Notification URI provided by the NF service consumer during the corresponding policy association creation/update.\nIf the (V-)PCF becomes aware that a new AMF is requiring notifications (e.g. via the \"404 Not found\" response or via Namf_Communication service AMFStatusChange Notifications, see 3GPP TS 29.518 [14], or via link level failures), and the (V-)PCF knows alternate or backup IPv4,  Ipv6 Addess(es) or FQDN(s) where to send Notifications (e.g. via \"altNotifIpv4Addrs\",  \"altNotifIpv6Addrs\" or \"altNotifFqdns\" attributes received when the policy association was created or via AMFStatusChange Notifications, or via the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the service name and GUAMI obtained during the creation of the subscription) to query the other AMFs within the AMF set), the (V-)PCF shall exchange the authority part of the corresponding Notification URI with one of those addresses and shall use that URI in any subsequent communication.\nIf the (V-)PCF received a \"404 Not found\" response, the (V-)PCF should resend the failed policy update notification request to that URI.\nFigure 4.2.4.3-1 illustrates the request for a termination of the policy association.\nFigure 4.2.4.3-1 illustrates a request for the termination of the User Equipment (UE) policy association, which is a crucial step in the process of deactivating a user's connection to a network. The figure shows a series of steps and interactions between different entities involved in the process, such as the Network Element (NE) and the Home Agent (HA). The visual representation of the process helps in understanding the technicalities involved in the termination of a user's association with a network, ensuring a smooth and efficient transition.\nFigure 4.2.4.3-1: request for a termination of the UE policy association\nNOTE:\tFor the roaming case, the PCF represents the V-PCF if the NF service consumer is an AMF and the PCF represents the H-PCF if the NF service consumer is a V-PCF.\nThe (V-)(H-)PCF may request the termination of the UE policy association and shall then send an HTTP POST request with \"{notificationUri}/terminate\" as URI (where the Notification URI was previously supplied by the NF service consumer) and the TerminationNotification data structure as request body that shall include:\n-\tthe resource URI of the concerned individual UE policy association (including the policy association ID) encoded as \"resourceUri\" attribute; and\n-\tthe cause why the (V-)(H-)PCF requests the termination of the policy association encoded as \"cause\" attribute.\nUpon the reception of the HTTP POST request, the NF service consumer:\n-\tif the V-PCF is the NF service consumer, shall send as NF service producer for the corresponding policy association (towards the AMF as NF service consumer) a request for a termination of the policy association according to the present clause;\n-\tshall either send an HTTP \"204 No Content\" response for the succesfull processing of the HTTP POST request or an appropriate failure response, for the V-PCF as the NF service consumer taking into consideration a reply received for the possible corresponding policy association termination request according to the previous bullet; and\n-\tif errors occur when processing the HTTP POST request, shall send an HTTP error response as specified in clause 5.7; or\n-\tif the feature \"ES3XX\" is supported, and the NF service consumer determines that the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nAfter the succesfull processing of the HTTP POST request, any NF service consumer except for the V-PCF shall invoke the Npcf_UEPolicyControl_Delete Service Operation defined in clause 4.2.5 to terminate the policy association.\nIf the AMF as NF service consumer is not able to handle the notification but knows by implementation specific means that another AMF is able to handle the notification, it shall reply with an HTTP \"307 Temporary Redirect\" response pointing to the URI of the new AMF. If the AMF as NF service consumer is not able to handle the notification but another unknown AMF could possibly handle the notification, it shall reply with an HTTP \"404 Not found\" error response.\nIf the (V-)PCF receives a \"307 Temporary Redirect\" response, the PCF shall resend the failed request for termination of the policy association using the received URI in the Location header field as Notification URI.\nIf the (V-)PCF becomes aware that a new NF service consumer (AMF) is requiring notifications (e.g. via the \"404 Not found\" response or via Namf_Communication service AMFStatusChange Notifications, see 3GPP TS TS 29.518 [14], or via link level failures), and the (V-)PCF knows alternate or backup Ipv4, Ipv6 Addess(es) or FQDN(s) where to send Notifications (e.g. via \"altNotifIpv4Addrs\", \"altNotifIpv6Addrs\" or \"altNotifFqdns\" attributes received when the policy association was created or via AMFStatusChange Notifications, or via the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the service name and GUAMI obtained during the creation of the subscription) to query the other AMFs within the AMF set), the (V-)PCF shall exchange the authority part of the corresponding Notification URI with one of those addresses and shall resend the failed request for termination of the policy association to that URI.\nIf the (V-)PCF received a \"404 Not found\" response, the (V-)PCF should resend the failed request for termination of the policy association to that URI.\nIf the \"EnhancedBackgroundDataTransfer\" feature is supported, after the UE policy association establishment, the (H-)PCF may receive the Background Data Transfer Reference ID(s) notified by the UDR for the change of UE's Application Data as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case, the (H-)PCF shall retrieve the transfer policy corresponding to the Background Data Transfer Reference ID(s) as defined in clause 5.2.8 of 3GPP TS 29.519 [17] and derive the URSP including the Route Selection Validation Criteria for the UE as defined in clause 6.2.2.1 of 3GPP TS 23.503 [4]. The H-PCF shall provision the URSP to the V-PCF as defined in clause 4.2.4.2 and then the V-PCF shall invoke the Namf_Communication_N1N2MessageTransfer service operation to provision it to the UE. The (H-)PCF shall use the associated S-NSSAI and DNN to store in the UDR the Background Data Transfer Reference ID(s) in the UE's session management policy data as specified in 3GPP TS 29.519 [17].\nAfter the UE policy association establishment and if the \"V2X\" feature is supported, the (H-)PCF may receive the service specific parameter information notified by the UDR for the change of UE's Application Data as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case:\n-\tfor the roaming case, the H-PCF shall derive the V2XP and provision it to the V-PCF as defined in clause 4.2.4.2; and/or\n-\tfor the roaming and non-roaming case, the (V-)PCF shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to send \"MANAGE UE POLICY COMMAND\" message(s) with the V2XP to the UE via the AMF.\nAfter the UE policy association establishment and if the \"ProSe\" feature is supported, the (H-)PCF may receive the service specific parameter information via a notification on the change of UE's Application Data from the UDR, as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case:\n-\tfor the roaming case, the H-PCF shall derive the ProSeP and provision it to the V-PCF as defined in clause 4.2.4.2; and/or\n-\tfor the roaming and non-roaming case, the (H-)PCF shall derive the ProSeP and the (V-)PCF shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to convey it to the UE via the AMF by sending \"MANAGE UE POLICY COMMAND\" message(s) as defined in 3GPP TS 24.554 [28].\nIf the \"AfGuideURSP\" feature is supported by the Nudr_DataRepository service, after the UE policy association establishment, the (H-)PCF may be informed that service specific parameter information that contains data for AF guidance on the URSP determination has been created, modified or removed via a notification by the UDR for the change or removal of UE's Application Data as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case, the H-PCF may derive new URSP(s), modify existing URSP(s) or remove existing URSP(s) by using the information received from the UDR (see clause 4.2.2.2.1.1 and 4.2.2.2.3 for the description of how the (H-)PCF may use this information, stored UPSC(s), policy subscription information, analytics information received from NWDAF and local operator policy to determine the URSP that will be provisioned to the UE), and it shall:\n-\tfor the roaming case, provision the derived new UE Policy Sections, and/or update and/or remove existing UE Policy Sections to the V-PCF as defined in clause 4.2.4.2 and then the V-PCF shall invoke the Namf_Communication_N1N2MessageTransfer service operation to provision the received UE Policy Sections  to the UE; or\n-\tfor the non-roaming case, use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to convey the derived new UE Policy Sections and/or to update and/or remove existing UE Policy Sections to the UE via the AMF within \"MANAGE UE POLICY COMMAND\" message(s).\nIn the roaming case, when the AMF informs the V-PCF that the UE is temporarily unreachable (see 3GPP TS 29.518 [18]), the V-PCF notifies the H-PCF accordingly (including the \"uePolTransFailNotif\" attribute within the PolicyAssociationUpdateRequest data structure, as described in clause 4.2.2.2.1.0).\nWhen the (H-)PCF receives the \"MANAGE UE POLICY COMPLETE\" or the \"MANAGE UE POLICY COMMAND REJECT\" message and/or the PCF deducts that the UE is temporarily unreachable, and the PCF determines that the received message or the internal deduction indicates a UE Policy Delivery outcome event is matched :\n-\tif an NF service consumer has subscribed via a request for service specific parameters to the HPLMN, the (H-)PCF shall invoke the Npcf_EventExposure_Notify service operation as defined in clause 4.2.4.2 of 3GPP TS 29.523 [30]; or\n-\tif a V-PCF has subscribed with the H-PCF as specified in clauses 4.2.2.1 and/or 4.2.3.1 because an AF has subscribed via a request for service parameters to the VPLMN, the H-PCF shall invoke the Npcf_UEPolicyControl_UpdateNotify as specified in this clause to notify about the result of the delivery of UE policies using the \"delivReport\" attribute. The \"delivReport\" attribute is a map of \"eventNotifs\" attributes, where:\na.\tthe key of the map represents the related AF; and\nb.\teach \"eventNotifs\" entry shall contain the reported event(s) (\"SUCCESS_UE_POL_DEL_SP\" or \"UNSUCCESS_UE_POL_DEL_SP\") within the \"event\" attribute and in case of delivery failure, the \"delivFailure\" attribute with the corresponding failure reason.\nWhen the AMF (non roaming case) or the V-PCF (roaming case) informs the (H-)PCF that the UE is temporarily unreachable (see 3GPP TS 29.518 [18]), the (H-) PCF may subscribe to \"CON_STATE_CH\" trigger if not done before and reattempt the provisioning of URSP(s) when the UE becomes reachable.\nAfter the UE policy association establishment and if the \"A2X\" feature is supported, the (H-)PCF may receive the service specific parameter information notified by the UDR for the change of UE's Application Data as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case:\n-\tfor the roaming case, the H-PCF shall derive the A2XP and provision it to the V-PCF as defined in clause 4.2.4.2; and/or\n-\tfor the roaming and non-roaming case, the (V-)PCF shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to send \"MANAGE UE POLICY COMMAND\" message(s) with the A2XP to the UE via the AMF.\nWhen the \"EpsUrsp\" feature is supported and a PCF for a PDU session is the NF service consumer, the PCF for the UE may provide a UE Policy Container (with a \"MANAGE UE POLICY COMMAND\" message(s) with the UE policy to send to the UE via the PCF for the PDU session) and/or an update in the Policy Control Triggers applicable to the UE as described in clause 4.2.42.\n1)-\tWhen the PCF for the PDU session receives a UE Policy Container from the PCF for the UE, the PCF for the PDU session first shall select one of the ongoing PDU sessions for the related UE in EPC, and shall use the Npcf_SMPolicyControl_UpdateNotify service operation defined in 3GPP TS 29.512 [31] to forward to the UE via SMF+PGW-C the UE Policy Container with the \"MANAGE UE POLICY COMMAND\" message(s) with the received UE policy.\n2)\tWhen the PCF for the PDU session receives an update in the Policy Control Request Triggers applicable to the UE, the PCF for the PDU session shall determine whether an update on the current Policy Control Triggers need to be sent to the SMF+PGW-C. In that case, the PCF for the PDU session shall select one of the ongoing PDU sessions for the related UE in EPC, and shall provision the received policy control requested trigger(s) to the SMF+PGW-C using the Npcf_SMPolicyControl_UpdateNotify service operation according to 3GPP TS 29.512 [31].\nEditor's Note: It is FFS how the PCF for the PDU session selects one of the ongoing PDU sessions.\nAfter the UE policy association establishment and if the \"Ranging_SL\" feature is supported, the (H-)PCF may receive the service specific parameter information via a notification on the change of UE's Application Data from the UDR, as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case:\n-\tfor the roaming case, the H-PCF shall derive the RSLPP and provision it to the V-PCF as defined in clause 4.2.4.2; and/or\n-\tfor the roaming and non-roaming case, the (H-)PCF shall derive the RSLPP and the (V-)PCF shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to convey it to the UE via the AMF by sending \"MANAGE UE POLICY COMMAND\" message(s).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.2.5\tNpcf_UEPolicyControl_Delete Service Operation",
                            "text_content": "Figure 4.2.5-1 illustrates the deletion of a policy association.\nFigure 4.2.5-1 illustrates the process of deleting a policy association in a network. The figure depicts a network topology with various nodes, including a central policy server, edge routers, and a client device. The policy server is responsible for managing and enforcing network policies, while the edge routers are responsible for forwarding traffic between the client device and the internet. The figure shows the steps involved in deleting a policy association, including the identification of the policy association to be deleted, the removal of the association from the policy server, and the propagation of the changes to the edge routers. The figure also shows the impact of the deletion on the network traffic, including the redirection of traffic to alternative paths and the adjustment of the policy enforcement rules. Overall, the figure provides a clear and concise overview of the process of deleting a policy association in a network, highlighting the importance of network policy management and the role of the policy server and edge routers in enforcing and managing network policies.\nFigure 4.2.5-1: Deletion of a policy association\nNOTE:\tFor the roaming case, the PCF represents the V-PCF if the NF service consumer is an AMF and the PCF represents the H-PCF if the NF service consumer is a V-PCF.\nThe AMF as NF service consumer requests that the policy association is deleted when the corresponding UE context is terminated, e.g. during UE de-registration from the network. In roaming scenarios, the V-PCF requests to the H-PCF the deletion of the UE policy association when the V-PCF determines that the UE context is terminated in the AMF, e.g., with the reception of the policy association deletion request or the reception of UE context not found reply to the UE Policy delivery request.\nDuring the AMF relocation, the old AMF shall invoke this procedure when:\n-\tthe resource URI of the individual UE Policy Association resource is not transferred to the new AMF; or\n-\tthe new AMF informs the old AMF that the individual UE Policy Association resource is not being reused.\nThe PCF for the PDU session as NF service consumer requests that the UE policy association is deleted when:\n-\tall the PDU sessions related with the UE policy association are terminated; or\n-\tthe PCF for the PDU session receives an indication of RAT type change from the SMF+PGW-C (from any of the related PDU sessions) and determines the EPS to 5GS mobility scenario applies.\nTo request that the UE policy association is deleted, the NF service consumer (e.g. AMF) shall send an HTTP DELETE request with \"{apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}\" as Resource URI.\nUpon the reception of the HTTP DELETE request,\n-\tthe (V-)(H-)PCF shall delete the policy association;\n-\tif the PCF is a V-PCF and has an established corresponding policy association towards the H-PCF, the V-PCF shall send as the NF service consumer towards the H-PCF a request for the deletion of that policy association as described in the present clause;\n-\tthe (V-)(H-)PCF shall send either an HTTP \"204 No Content\" response indicating the success of the deletion or an appropriate failure response, for the V-PCF as PCF taking into consideration a reply received for the possible policy association deletion request according to the previous bullet; and\n-\tthe (V-)(H-)PCF shall if errors occur when processing the HTTP DELETE request, send an HTTP error response as specified in clause 5.7; or\n-\tif the feature ES3XX is supported, and the (V-)(H-)PCF determines the received HTTP DELETE request needs to be redirected, the (V-)(H-)PCF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nOnce the UE policy association is deleted, to unsubscribe to notifications of N1 message for UE Policy Delivery Result, the (V-)PCF shall trigger the Namf_Communication_N1N2MessageUnsubscribe service operation towards the N1N2 Individual Subscription resource as specified in 3GPP TS 29.518 [14].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "5\tNpcf_UEPolicyControl API",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The Access and Mobility Policy Control Service shall use the Npcf_UEPolicyControl API.\nThe API URI of the Npcf_UEPolicyControl API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the PCF shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [6], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [6].\n-\tThe <apiName> shall be \"npcf-ue-policy-control\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 5.3.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tUsage of HTTP",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tGeneral",
                            "text_content": "HTTP/2, IETF RFC 9113 [8], shall be used as specified in clause 5 of 3GPP TS 29.500 [5].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [5].\nThe OpenAPI [10] specification of HTTP messages and content bodies for the Npcf_UEPolicyControl is contained in Annex A.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.2\tHTTP standard headers",
                            "text_content": "See clause 5.2.2 of 3GPP TS 29.500 [5] for the usage of HTTP standard headers.\nJSON, IETF RFC 8259 [9], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [5]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [21].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.3\tHTTP custom headers",
                            "text_content": "The Npcf_UEPolicyControl API shall support HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [5] and may support HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [5].\nIn this Release of the specification, no specific custom headers are defined for the Npcf_UEPolicyControl API.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.3\tResources",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tResource Structure",
                            "text_content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 5.3.1-1 depicts the resource URIs structure for the Npcf_UEPolicyControl API.\nFigure 5.3.1-1 illustrates the resource URI structure of the Npcf_UEPolicyControl API, which is a crucial component in managing user equipment (UE) policies within a network. The figure showcases the hierarchical organization of the API, detailing the various paths and endpoints that enable network operators to configure and enforce policies for UEs. The visual representation emphasizes the structured and scalable nature of the API, highlighting its role in ensuring efficient and secure communication within the network.\nFigure 5.3.1-1: Resource URI structure of the Npcf_UEPolicyControl API\nTable 5.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 5.3.1-1: Resources and methods overview\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.1-1: Resources and methods overview",
                                    "table number": 2,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.3.2\tResource: UE Policy Associations",
                            "text_content": "This resource represents a collection of UE policy associations.\nResource URI: {apiRoot}/npcf-ue-policy-control/v1/policies\nThis resource shall support the resource URI variables defined in table 5.3.2.2-1.\nTable 5.3.2.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 5.3.2.3.1-1.\nTable 5.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 5.3.2.3.1-2 and the response data structures and response codes specified in table 5.3.2.3.1-3.\nTable 5.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 5.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 5.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.2.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.3.3\tResource: Individual UE Policy Association",
                            "text_content": "This resource represents an individual UE policy association.\nResource URI: {apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}\nThis resource shall support the resource URI variables defined in table 5.3.2.2-1.\nTable 5.3.2.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 5.3.2.3.1-1.\nTable 5.3.3.3.1-1: URI query parameters supported by the GET method on this resource\n\nThis method shall support the request data structures specified in table 5.3.2.3.1-2 and the response data structures and response codes specified in table 5.3.2.3.1-3.\nTable 5.3.3.3.1-2: Data structures supported by the GET Request Body on this resource\n\nTable 5.3.3.3.1-3: Data structures supported by the GET Response Body on this resource\n\nTable 5.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 5.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 5.3.3.3.2-1.\nTable 5.3.3.3.2-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 5.3.3.3.2-2 and the response data structures and response codes specified in table 5.3.3.3.2-3.\nTable 5.3.3.3.2-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 5.3.3.3.2-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 5.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 5.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\n\nTable 5.3.3.4.1-1: Custom operations\n\nThe update custom operation allows an NF service consumer to report the occurrence on one or more policy request trigger(s) and to obtain related updated policies.\nThis operation shall support the request data structures specified in table 5.3.3.4.2.2-1 and the response data structure and response codes specified in table 5.3.3.4.2.2-2.\nTable 5.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 5.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 5.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 5.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-1: URI query parameters supported by the GET method on this resource",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-2: Data structures supported by the GET Request Body on this resource",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-3: Data structures supported by the GET Response Body on this resource",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.1-1: Custom operations",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.4\tCustom Operations without associated resources",
                    "description": "",
                    "summary": "",
                    "text_content": "None.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.5\tNotifications",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.5.1\tGeneral",
                            "text_content": "Table 5.5.1-1: Notifications overview\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.5.1-1: Notifications overview",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.5.2\tPolicy Update Notification",
                            "text_content": "This notification is used by the H-PCF to provide updates of UE policies to the V-PCF as NF service consumer, and used by the V-PCF to provide updates of policy control request triggers to the AMF as NF service consumer.\nThis operation shall support the request data structures specified in table 5.5.2.2-1 and the response data structure and response codes specified in table 5.5.2.2-2.\nTable 5.5.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 5.5.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 5.5.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 5.5.2.2-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.5.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.5.3\tRequest for termination of the UE policy association",
                            "text_content": "This notification is used by the PCF to request the termination of a UE policy association.\nThis operation shall support the request data structures specified in table 5.5.3.2-1 and the response data structure and response codes specified in table 5.5.3.2-2.\nTable 5.5.3.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 5.5.3.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 5.5.3.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 5.5.3.2-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.5.3.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.3.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 30,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.3.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 31,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.3.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 32,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.6\tData Model",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.6.1\tGeneral",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 5.6.1-1 specifies the data types defined for the Npcf_UEPolicyControl service based interface protocol.\nTable 5.6.1-1: Npcf_UEPolicyControl specific Data Types\n\nTable 5.6.1-2 specifies data types re-used by the Npcf_UEPolicyControl service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Npcf_UEPolicyControl service based interface.\nTable 5.6.1-2: Npcf_UEPolicyControl re-used Data Types\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.6.1-1: Npcf_UEPolicyControl specific Data Types",
                                    "table number": 33,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.1-2: Npcf_UEPolicyControl re-used Data Types",
                                    "table number": 34,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.6.2\tStructured data types",
                            "text_content": "This clause defines the structures to be used in resource representations.\nTable 5.6.2.2-1: Definition of type PolicyAssociation\n\nTable 5.6.2.3-1: Definition of type PolicyAssociationRequest\n\nTable 5.6.2.4-1: Definition of type PolicyAssociationUpdateRequest\n\nEditor's Note: The reference to CT1 specification for A2X related UE messages to be updated.\nTable 5.6.2.5-1: Definition of type PolicyUpdate\n\nTable 5.6.2.6-1: Definition of type TerminationNotification\n\nTable 5.6.2.7-1: UEPolicyTransferFailureNotification\n\nTable 5.6.2.8-1: Definition of type UeRequestedValueRep\n\nTable 5.6.2.9-1: Definition of type UePolicyParameters\n\nTable 5.6.2.10-1: Definition of type LboRoamingInformation\n\nTable 5.6.2.11-1: Definition of type UrspEnforcementPduSession\n\nTable 5.6.2.12-1: Definition of type UePolicyNotification\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.6.2.2-1: Definition of type PolicyAssociation",
                                    "table number": 35,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.3-1: Definition of type PolicyAssociationRequest",
                                    "table number": 36,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.4-1: Definition of type PolicyAssociationUpdateRequest",
                                    "table number": 37,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.5-1: Definition of type PolicyUpdate",
                                    "table number": 38,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.6-1: Definition of type TerminationNotification",
                                    "table number": 39,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.7-1: UEPolicyTransferFailureNotification",
                                    "table number": 40,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.8-1: Definition of type UeRequestedValueRep",
                                    "table number": 41,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.9-1: Definition of type UePolicyParameters",
                                    "table number": 42,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.10-1: Definition of type LboRoamingInformation",
                                    "table number": 43,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.11-1: Definition of type UrspEnforcementPduSession",
                                    "table number": 44,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.12-1: Definition of type UePolicyNotification",
                                    "table number": 45,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.6.3\tSimple data types and enumerations",
                            "text_content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table 5.6.3.2-1 shall be supported.\nTable 5.6.3.2-1: Simple data types\n\nThe enumeration RequestTrigger represents the possible Policy Control Request Triggers.. It shall comply with the provisions defined in table 5.6.3.3-1.\nTable 5.6.3.3-1: Enumeration RequestTrigger\n\nEditor's Note: The reference to CT1 specification for A2X related UE messages to be updated.\nThe enumeration PolicyAssociationReleaseCause represents the cause why the PCF requests the termination of the policy association. It shall comply with the provisions defined in table 5.6.3.4-1.\nTable 5.6.3.4-1: Enumeration PolicyAssociationReleaseCause\n\nThe enumeration Pc5Capability indicates the specific PC5 RAT(s) which the UE supports for V2X communication and/or A2X communication over PC5 reference point. It shall comply with the provisions defined in table 5.6.3.5-1.\nTable 5.6.3.5-1: Enumeration Pc5Capability\n\nThis enumeration indicates the 5G ProSe capabilities. It shall comply with the provisions defined in table 5.6.3.6-1.\nTable 5.6.3.6-1: Enumeration ProSeCapability\n\n5.6.3.7\tEnumeration: Non3gppAccess\nThe enumeration Non3gppAccess represents the possible Non-3gpp access nodes. It shall comply with the provisions defined in table 5.6.3.7-1.\nTable 5.6.3.7-1: Non3gppAccess\n\nThe enumeration AccessStatus represents whether the Access change is an addition or a removal. It shall comply with the provisions defined in table 5.6.3.8-1.\nTable 5.6.3.8-1: Enumeration AccessStatus\n\nThe enumeration N1N2MessTransferErrorReply represents the possible errors the V-PCF may send to the H-PCF when the V-PCF receives from the AMF an error reply to the N1N2MessageTransfer request. It shall comply with the provisions defined in table 5.6.3.8-1.\nTable 5.6.3.8-1: N1N2MessTransferErrorReply\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.6.3.2-1: Simple data types",
                                    "table number": 46,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.3-1: Enumeration RequestTrigger",
                                    "table number": 47,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.4-1: Enumeration PolicyAssociationReleaseCause",
                                    "table number": 48,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.5-1: Enumeration Pc5Capability",
                                    "table number": 49,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.6-1: Enumeration ProSeCapability",
                                    "table number": 50,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.7-1: Non3gppAccess",
                                    "table number": 51,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.8-1: Enumeration AccessStatus",
                                    "table number": 52,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.8-1: N1N2MessTransferErrorReply",
                                    "table number": 53,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.6.4\tData types describing alternative data types or combinations of data types",
                            "text_content": "Table 5.6.4.1-1: Definition of type UePolicyTransferFailureCause as a list of non-exclusive alternatives\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.6.4.1-1: Definition of type UePolicyTransferFailureCause as a list of non-exclusive alternatives",
                                    "table number": 54,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.7\tError handling",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.7.1\tGeneral",
                            "text_content": "For the Npcf_UEPolicyControl API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [6].\nProtocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [5] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [5].\nIn addition, the requirements in the following clauses are applicable for the Npcf_UEPolicyControl API.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.7.2\tProtocol Errors",
                            "text_content": "No specific protocol errorsfor the Npcf_UEPolicyControl API are specified.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.7.3\tApplication Errors",
                            "text_content": "The application errors defined for the Npcf_UEPolicyControl service are listed in Table 5.7.3-1 and Table 5.7.3-2.\nTable 5.7.3-1: Application errors when PCF acts as a server\n\nTable 5.7.3-2: Application errors when NF service consumer acts as a server to receive a notification\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.7.3-1: Application errors when PCF acts as a server",
                                    "table number": 55,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.7.3-2: Application errors when NF service consumer acts as a server to receive a notification",
                                    "table number": 56,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.8\tFeature negotiation",
                    "description": "",
                    "summary": "",
                    "text_content": "The optional features in table 5.8-1 are defined for the Npcf_UEPolicyControl API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [5].\nTable 5.8-1: Supported Features\n\n",
                    "tables": [
                        {
                            "description": "Table 5.8-1: Supported Features",
                            "table number": 57,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.9\tSecurity",
                    "description": "",
                    "summary": "",
                    "text_content": "As indicated in 3GPP TS 33.501 [19] and 3GPP TS 29.500 [5], the access to the Npcf_UEPolicyControl API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [20]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [13]) plays the role of the authorization server.\nIf OAuth2 is used, an NF service consumer, prior to consuming services offered by the Npcf_UEPolicyControl API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [13], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF service consumer used for discovering the Npcf_UEPolicyControl service.\nThe Npcf_UEPolicyControl API defines a single scope \"npcf-ue-policy-control\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "The present Annex contains an OpenAPI [10] specification of HTTP messages and content bodies used by the Npcf_UEPolicyControl API.\nThis Annex shall take precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API.\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification file contained in this 3GPP Technical Specification are available on a Git-based repository that uses the GitLab software version control system (see clause 5B of the 3GPP TR 21.900 [22] and clause 5.3.1 of the 3GPP TS 29.501 [6] for further information).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tNpcf_UEPolicyControl API",
            "description": "openapi: 3.0.0\n\ninfo:\nversion: 1.3.0-alpha.5\ntitle: Npcf_UEPolicyControl\ndescription: |\nUE Policy Control Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: 3GPP TS 29.525 V18.4.0; 5G System; UE Policy Control Service.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.525/'\n\nservers:\n- url: '{apiRoot}/npcf-ue-policy-control/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- npcf-ue-policy-control\n\npaths:\n/policies:\npost:\noperationId: CreateIndividualUEPolicyAssociation\nsummary: Create individual UE policy association.\ntags:\n- UE Policy Associations (Collection)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociationRequest'\nresponses:\n'201':\ndescription: Created\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociation'\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure\n{apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}'\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\npolicyUpdateNotification:\n'{$request.body#/notificationUri}/update':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyUpdate'\nresponses:\n'200':\ndescription: >\nOK. The current applicable values corresponding to the policy control request\ntrigger is reported\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/UeRequestedValueRep'\n'204':\ndescription: No Content, Notification was successful\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\npolicyAssocitionTerminationRequestNotification:\n'{$request.body#/notificationUri}/terminate':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TerminationNotification'\nresponses:\n'204':\ndescription: No Content, Notification was successful\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/policies/{polAssoId}:\nget:\noperationId: ReadIndividualUEPolicyAssociation\nsummary: Read individual UE policy association.\ntags:\n- Individual UE Policy Association (Document)\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Resource representation is returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociation'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualUEPolicyAssociation\nsummary: Delete individual UE policy association.\ntags:\n- Individual UE Policy Association (Document)\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/policies/{polAssoId}/update:\npost:\noperationId: ReportObservedEventTriggersForIndividualUEPolicyAssociation\nsummary: >\nReport observed event triggers and possibly obtain updated policies for an individual UE\npolicy association.\ntags:\n- Individual UE Policy Association (Document)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociationUpdateRequest'\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Updated policies are returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyUpdate'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnpcf-ue-policy-control: Access to the Npcf_UEPolicyControl API\n\nschemas:\nPolicyAssociation:\ndescription: >\nContains the description of a policy association that is returned by the PCF when a policy\nAssociation is created, updated, or read.\ntype: object\nproperties:\nrequest:\n$ref: '#/components/schemas/PolicyAssociationRequest'\nuePolicy:\n$ref: '#/components/schemas/UePolicy'\nn2Pc5Pol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nn2Pc5PolA2x:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nn2Pc5ProSePol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\ndescription: >\nRequest Triggers that the PCF subscribes.\npras:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfoRm'\nminProperties: 1\ndescription: >\nContains the presence reporting area(s) for which reporting was requested.\nThe praId attribute within the PresenceInfoRm data type is the key of the map.\nandspDelInd:\ntype: boolean\ndescription: >\nIndication that the updated ANDSP/WLANSP has been successfully delivered to the UE.\nandspInd:\ndescription: >\nIndication of UE support of ANDSP. When set to true, it indicates the UE supports ANDSP,\nwhen set to false it indicates the UE does not support ANDSP.\ntype: boolean\npduSessions:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo'\nminItems: 1\ndescription: Combination of DNN and S-NSSAIs for which LBO information is requested.\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nn2Pc5RsppPol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nrequired:\n- suppFeat\n\nPolicyAssociationRequest:\ndescription: >\nRepresents information that the NF service consumer provides when requesting the creation of\na policy association.\ntype: object\nproperties:\nnotificationUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltNotifIpv4Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nminItems: 1\ndescription: Alternate or backup IPv4 Address(es) where to send Notifications.\naltNotifIpv6Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nminItems: 1\ndescription: Alternate or backup IPv6 Address(es) where to send Notifications.\naltNotifFqdns:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nminItems: 1\ndescription: Alternate or backup FQDN(s) where to send Notifications.\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\naccessType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\ntimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\nservingPlmn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\ngroupIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nminItems: 1\nhPcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nuePolReq:\n$ref: '#/components/schemas/UePolicyRequest'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nserviceName:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName'\nservingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npc5Capab:\n$ref: '#/components/schemas/Pc5Capability'\npc5CapA2x:\n$ref: '#/components/schemas/Pc5Capability'\nproSeCapab:\ntype: array\nitems:\n$ref: '#/components/schemas/ProSeCapability'\nminItems: 1\nconfSnssais:\ntype: array\nitems:\n$ref: 'TS29531_Nnssf_NSSelection.yaml#/components/schemas/ConfiguredSnssai'\nminItems: 1\ndescription: >\nThe Configured NSSAI for the serving PLMN, and the mapped S-NSSAI value of home\nnetwork corresponding to the configured S-NSSAI in the serving PLMN.\nn3gNodeReSel:\n$ref: '#/components/schemas/Non3gppAccess'\nsatBackhaulCategory:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\n5gsToEpsMob:\ntype: boolean\ndescription: >\nIt indicates the UE Policy Association is triggered by a 5GS to EPS mobility\nscenario.\nvpsUePolGuidance:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UePolicyParameters'\nminProperties: 1\ndescription: >\nContains the service parameter used to guide the VPLMN-specific URSP and may contain\nthe subscription to VPLMN-specific URSP delivery outcome.\nThe key of the map represents the AF request to guide VPLMN-specific URSP rules.\nThis attribute only applies in roaming and when the V-PCF is the NF service consumer.\nlboRoamInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/LboRoamingInformation'\nminItems: 1\ndescription: >\nContains LBO roaming information for DNN and S-NSSAI combination(s).\nThis attribute only applies in roaming and when the AMF is the NF service consumer.\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrangingSlCapab:\ntype: boolean\ndescription: >\nIt indicates whether the PC5 Capability for Ranging/SL is supported by the UE or not.\n\"true\": Indicates that the PC5 Capability for Ranging/SL is supported by the UE.\n\"false\": Indicates that the PC5 Capability for Ranging/SL is not supported by the UE.\nDefault value when omitted is \"false\".\nrequired:\n- notificationUri\n- suppFeat\n- supi\n\nPolicyAssociationUpdateRequest:\ndescription: >\nRepresents Information that the NF service consumer provides when requesting the update of\na policy association.\ntype: object\nproperties:\nnotificationUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltNotifIpv4Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nminItems: 1\ndescription: Alternate or backup IPv4 Address(es) where to send Notifications.\naltNotifIpv6Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nminItems: 1\ndescription: Alternate or backup IPv6 Address(es) where to send Notifications.\naltNotifFqdns:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nminItems: 1\ndescription: Alternate or backup FQDN(s) where to send Notifications.\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\ndescription: Request Triggers that the NF service consumer observes.\npraStatuses:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\ndescription: >\nContains the UE presence status for tracking area for which changes of the UE presence\noccurred. The praId attribute within the PresenceInfo data type is the key of the map.\nminProperties: 1\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nuePolDelResult:\n$ref: '#/components/schemas/UePolicyDeliveryResult'\nuePolTransFailNotif:\n$ref: '#/components/schemas/UePolicyTransferFailureNotification'\nuePolReq:\n$ref: '#/components/schemas/UePolicyRequest'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nservingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nplmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nconnectState:\n$ref: 'TS29518_Namf_EventExposure.yaml#/components/schemas/CmState'\ngroupIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nminItems: 1\nproSeCapab:\ntype: array\nitems:\n$ref: '#/components/schemas/ProSeCapability'\nminItems: 1\nconfSnssais:\ntype: array\nitems:\n$ref: 'TS29531_Nnssf_NSSelection.yaml#/components/schemas/ConfiguredSnssai'\nminItems: 1\ndescription: >\nThe Configured NSSAI for the serving PLMN, and the mapped S-NSSAI value of home\nnetwork corresponding to the configured S-NSSAI in the serving PLMN.\nsatBackhaulCategory:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nurspEnfRep:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UrspEnforcementPduSession'\ndescription: >\nContains information about the enforced URSP rule(s) in one or more PDU sessions.\nThe key of the map is a character string that represents an integer value.\nminProperties: 1\nvpsUePolGuidance:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UePolicyParameters'\nminProperties: 1\ndescription: >\nContains the service parameter used to guide the VPLMN-specific URSP and may contain\nthe subscription to VPLMN-specific URSP delivery outcome.\nThe key of the map represents the AF request to guide VPLMN-specific URSP rules.\nThis attribute only applies in roaming and when the V-PCF is the NF service consumer.\nlboRoamInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/LboRoamingInformation'\nminItems: 1\ndescription: >\nContains LBO roaming information for DNN and S-NSSAI combination(s).\nThis attribute only applies in roaming and when the AMF is the NF service consumer.\naccessTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nminItems: 1\naccessStatus:\n$ref: '#/components/schemas/AccessStatus'\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrangingSlCapab:\ntype: boolean\ndescription: >\nIt indicates whether the PC5 Capability for Ranging/SL is supported by the UE or not.\n\"true\": Indicates that the PC5 Capability for Ranging/SL is supported by the UE.\n\"false\": Indicates that the PC5 Capability for Ranging/SL is not supported by the UE.\nPolicyUpdate:\ndescription: >\nRepresents updated policies that the PCF provides in a notification or in the reply to an\nUpdate Request.\ntype: object\nproperties:\nresourceUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nuePolicy:\n$ref: '#/components/schemas/UePolicy'\nn2Pc5Pol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nn2Pc5PolA2x:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nn2Pc5ProSePol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\nnullable: true\ndescription: >\nRequest Triggers that the PCF subscribes.\npras:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\ndescription: >\nContains the presence reporting area(s) for which reporting was requested.\nThe praId attribute within the PresenceInfo data type is the key of the map.\nminProperties: 1\nnullable: true\nandspDelInd:\ntype: boolean\ndescription: >\nIndication that the updated ANDSP/WLANSP has been successfully delivered to the UE.\ndelivReport:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UePolicyNotification'\nminProperties: 1\ndescription: >\nContains the delivery outcome of the VPLMN-specific URSP.\nThe key of the map represents the AF request of the corresponding subscription, i.e. its\nvalue shall match the key that was previously provided by the V-PCF in the\nvpsUePolGuidance attribute.\nThis attribute only applies in roaming and when the V-PCF is the NF service consumer.\npduSessions:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo'\nminItems: 1\ndescription: >\nCombination of DNN and S-NSSAIs for which LBO information is requested.\nnullable: true\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nn2Pc5RsppPol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nrequired:\n- resourceUri\n\nTerminationNotification:\ndescription: >\nRepresents a request to terminate a policy association that the PCF provides in a\nnotification.\ntype: object\nproperties:\nresourceUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ncause:\n$ref: '#/components/schemas/PolicyAssociationReleaseCause'\nrequired:\n- resourceUri\n- cause\n\nUePolicyTransferFailureNotification:\ndescription: >\nRepresents information on the failure of a UE policy transfer to the UE because the UE is not\nreachable.\ntype: object\nproperties:\ncause:\n$ref: '#/components/schemas/UePolicyTransferFailureCause'\nretryAfter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nptis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nminItems: 1\nrequired:\n- cause\n- ptis\n\nUeRequestedValueRep:\ndescription: >\nContains the current applicable values corresponding to the policy control request triggers.\ntype: object\nproperties:\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\npraStatuses:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\nminProperties: 1\ndescription: >\nContains the UE presence statuses for tracking areas. The praId attribute within the\nPresenceInfo data type is the key of the map.\nplmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nconnectState:\n$ref: 'TS29518_Namf_EventExposure.yaml#/components/schemas/CmState'\nconfSnssais:\ntype: array\nitems:\n$ref: 'TS29531_Nnssf_NSSelection.yaml#/components/schemas/ConfiguredSnssai'\nminItems: 1\ndescription: >\nThe Configured NSSAI for the serving PLMN, and the mapped S-NSSAI value of home\nnetwork corresponding to the configured S-NSSAI in the serving PLMN.\nsatBackhaulCategory:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nurspEnfRep:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UrspEnforcementPduSession'\ndescription: >\nContains information about the enforced URSP rule(s) in one or more PDU sessions.\nThe key of the map is a character string that represents an integer value.\nminProperties: 1\nlboRoamInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/LboRoamingInformation'\nminItems: 1\ndescription: >\nContains LBO roaming information for DNN and S-NSSAI combination(s).\naccessTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nminItems: 1\nUePolicyParameters:\ndescription: >\nContains the service parameters used to guide the VPLMN-specific URSP rule determination.\ntype: object\nproperties:\nurspGuidance:\ntype: array\nitems:\n$ref: 'TS29522_ServiceParameter.yaml#/components/schemas/UrspRuleRequest'\nminItems: 1\ndescription: >\nContains the service parameter used to guide the VPLMN-specific URSP.\ndeliveryEvents:\ntype: array\nitems:\n$ref: 'TS29522_ServiceParameter.yaml#/components/schemas/Event'\nminItems: 1\ndescription: >\nAF subscribed event(s) notifications related to AF provisioned guidance\nfor VPLMN-specific URSP rules.\n\nLboRoamingInformation:\ndescription: >\nContains LBO roaming information for a DNN and S-NSSAI.\ntype: object\nproperties:\nlboRoamAllowed:\ntype: boolean\ndescription: >\nIndicates whether LBO for the DNN and S-NSSAI is allowed when roaming.\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nrequired:\n- dnn\n- snssai\n\nUrspEnforcementPduSession:\ndescription: >\nRepresents URSP rule enforcement information for a PDU session.\ntype: object\nrequired:\n- urspEnfInfo\nproperties:\nurspEnfInfo:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/UrspEnforcementInfo'\nsscMode:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SscMode'\nueReqDnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nredundantPduSessionInfo:\n$ref: 'TS29502_Nsmf_PDUSession.yaml#/components/schemas/RedundantPduSessionInformation'\naccessType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\npduSessInfo:\n$ref: 'TS29523_Npcf_EventExposure.yaml#/components/schemas/PduSessionInformation'\n\nUePolicyNotification:\ndescription: >\nContains the delivery outcome of VPLMN-specific URSP rules.\ntype: object\nproperties:\neventNotifs:\ntype: array\nitems:\n$ref: 'TS29523_Npcf_EventExposure.yaml#/components/schemas/PcEventNotification'\nminItems: 1\ndescription: >\nRepresents the events to be reported according to the subscription to notifications\nof VPLMN-specific URSP delivery outcome events.\n\nUePolicy:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\n\nUePolicyDeliveryResult:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\n\nUePolicyRequest:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\n\nRequestTrigger:\nanyOf:\n- type: string\nenum:\n- LOC_CH\n- PRA_CH\n- UE_POLICY\n- PLMN_CH\n- CON_STATE_CH\n- GROUP_ID_LIST_CHG\n- UE_CAP_CH\n- SAT_CATEGORY_CHG\n- NON_3GPP_NODE_RESELECTION\n- CONF_NSSAI_CH\n- LBO_INFO_CH\n- FEAT_RENEG\n- URSP_ENF_INFO\n- ACCESS_TYPE_CH\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the possible request triggers.\nPossible values are:\n- LOC_CH: Location change (tracking area). The tracking area of the UE has changed.\n- PRA_CH: Change of UE presence in PRA. The AMF reports the current presence status\nof the UE in a Presence Reporting Area, and notifies that the UE enters/leaves the\nPresence Reporting Area.\n- UE_POLICY: A MANAGE UE POLICY COMPLETE message or a MANAGE UE POLICY COMMAND REJECT\nmessage, as defined in Annex D.5 of 3GPP TS 24.501 or a \"UE POLICY PROVISIONING REQUEST\"\nmessage, as defined in clause 7.2.1.1 of 3GPP TS 24.587, has been received by the AMF\nand is being forwarded.\n- PLMN_CH: PLMN change. the serving PLMN of UE has changed.\n- CON_STATE_CH: Connectivity state change: the connectivity state of UE has changed.\n- GROUP_ID_LIST_CHG: UE Internal Group Identifier(s) has changed. This policy\ncontrol request\ntrigger does not require a subscription.\n- UE_CAP_CH: UE Capabilities change: the UE provided 5G ProSe capabilities have changed.\nThis policy control request trigger does not require subscription.\n- SAT_CATEGORY_CHG: Indicates that the AMF has detected a change between different satellite\ncategory, or non-satellite backhaul.\n- NON_3GPP_NODE_RESELECTION: The UE has connected to a wrong non-3GPP access node that\ndoes not match its subscribed S-NSSAI(s). This policy control request trigger does not\nrequire a subscription.\n- CONF_NSSAI_CH: Configured NSSAI change. Indicates that the configured NSSAI has changed.\n- LBO_INFO_CH: LBO information change. The AMF reports LBO roaming allowed or not allowed\nfor the requested DNN(s) and S-NSSAI(s). This policy control request trigger only applies\nin roaming scenarios when the NF service consumer is the AMF.\n- FEAT_RENEG: The NF service consumer notifies that the target AMF is requesting feature\nre-negotiation.\n- URSP_ENF_INFO: The V-PCF has received URSP rule enforcement information for one or more URSP\nrules. This trigger applies in roaming scenarios and to the V-PCF.\n- ACCESS_TYPE_CH: Access Type change. The registered access type has changed, an access type\nis added or an access type is removed.\n\nPolicyAssociationReleaseCause:\nanyOf:\n- type: string\nenum:\n- UNSPECIFIED\n- UE_SUBSCRIPTION\n- INSUFFICIENT_RES\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the cause why the PCF requests the policy association termination.\nPossible values are:\n- UNSPECIFIED: This value is used for unspecified reasons.\n- UE_SUBSCRIPTION: This value is used to indicate that the policy association needs to be\nterminated because the subscription of UE has changed (e.g. was removed).\n- INSUFFICIENT_RES: This value is used to indicate that the server is overloaded and needs\nto abort the policy association.\n\nPc5Capability:\nanyOf:\n- type: string\nenum:\n- LTE_PC5\n- NR_PC5\n- LTE_NR_PC5\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the specific PC5 RAT(s) which the UE supports for V2X or A2X communications over\nPC5 reference point.\nPossible values are:\n- LTE_PC5: This value is used to indicate that UE supports PC5 LTE RAT for V2X\ncommunications or A2X communications over the PC5 reference point\n\n\nover the PC5 reference point.\n- NR_PC5: This value is used to indicate that UE supports PC5 NR RAT for V2X communications\nor A2X communications over the PC5 reference point.\n- LTE_NR_PC5: This value is used to indicate that UE supports both PC5 LTE and NR RAT for\nV2X communications or A2X communications over the PC5 reference point.\n\nProSeCapability:\nanyOf:\n- type: string\nenum:\n- PROSE_DD\n- PROSE_DC\n- PROSE_L2_U2N_RELAY\n- PROSE_L3_U2N_RELAY\n- PROSE_L2_REMOTE_UE\n- PROSE_L3_REMOTE_UE\n- PROSE_L2_U2U_RELAY\n- PROSE_L3_U2U_RELAY\n- PROSE_L2_END_UE\n- PROSE_L3_END_UE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\nthe content defined in the present version of this API.\ndescription: |\nRepresents the 5G ProSe capabilities.\nPossible values are:\n- PROSE_DD: This value is used to indicate that 5G ProSe Direct Discovery is supported\nby the UE.\n- PROSE_DC: This value is used to indicate that 5G ProSe Direct Communication is supported\nby the UE.\n- PROSE_L2_U2N_RELAY: This value is used to indicate that Layer-2 5G ProSe UE-to-Network\nRelay is supported by the UE.\n- PROSE_L3_U2N_RELAY: This value is used to indicate that Layer-3 5G ProSe UE-to-Network\nRelay is supported by the UE.\n- PROSE_L2_REMOTE_UE: This value is used to indicate that Layer-2 5G ProSe Remote UE is\nsupported by the UE.\n- PROSE_L3_REMOTE_UE: This value is used to indicate that Layer-3 5G ProSe Remote UE is\nsupported by the UE.\n- PROSE_L2_U2U_RELAY: This value is used to indicate that Layer-2 5G ProSe UE-to-UE\nRelay is supported by the UE.\n- PROSE_L3_U2U_RELAY: This value is used to indicate that Layer-3 5G ProSe UE-to-UE\nRelay is supported by the UE.\n- PROSE_L2_END_UE: This value is used to indicate that Layer-2 5G ProSe End UE is\nsupported by the UE.\n- PROSE_L3_END_UE: This value is used to indicate that Layer-3 5G ProSe End UE is\nsupported by the UE.\n\nNon3gppAccess:\nanyOf:\n- type: string\nenum:\n- N3IWF\n- TNGF\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents a non-3gpp access node.\nPossible values are:\n- N3IWF: Non-3gpp Interworking Function.\n- TNGF: Trusted Non-3gpp Gateway Function.\n\nAccessStatus:\nanyOf:\n- type: string\nenum:\n- ADDITION\n- REMOVAL\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents whether the type of change is a replacement, addition or removal.\nPossible values are:\n- ADDITION: The type of change is an addition.\n- REMOVAL: The type of change is a removal.\n\nN1N2MessTransferErrorReply:\nanyOf:\n- type: string\nenum:\n- UE_NOT_REACHABLE\n- UNSPECIFIED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents an N1N2 Message Transfer error.\nPossible values are:\n- UE_NOT_REACHABLE: The UE is not reachable for paging.\n- UNSPECIFIED: Unspecified error.\n\n#\nUePolicyTransferFailureCause:\ndescription: UE Policy Transfer Failure Cause.\nanyOf:\n- $ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N1N2MessageTransferCause'\n- $ref: '#/components/schemas/N1N2MessTransferErrorReply'\n\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.1\tScope",
            "description": "This annex provides the stage 3 definition of the UE Policy Control Service for wireless and wireline convergence access support for 5GS.\nThe stage 2 definition and procedures of the UE Policy Control Service for wireless and wireline convergence access support for 5GS are contained in 3GPP TS 23.316 [23].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.2\tNpcf_UEPolicyControl Service",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.2.1\tService Description",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.2.1.1\tOverview",
                            "text_content": "Clause 4.1.1 applies with the modification that the 5G-RG and FN-RG replace the UE.\nNOTE:\tThe URSPs related to the FN-RG are delivered to the W-AGF, which is acting as a UE towards the 5GC on behalf of the FN-RG.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.1.2\tService Architecture",
                            "text_content": "Clause 4.1.1 applies with the exception that roaming functionality (V-PCF and H-PCF specific functionality) shall not apply in this Release of the specification for UE policy control for 5G-RG connecting via W-5GAN and FN-RG. Roaming architecture is only applicable to a 5G-RG connecting to the 5GC via NG RAN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.1.3\tNetwork Functions",
                            "text_content": "The PCF functionality defined in clause 4.1.3.1 shall apply with the following differences:\n-\tThe PCF should not provide Access Network Discovery and Selection Policy (ANDSP) for a 5G-RG connected via wireline access.\n-\tThe Visited Policy Control Function (V-PCF) shall not apply for 5G-RG connecting via wireline access and FN-RG.\n-\tThe PCF provides the UE access selection and PDU session selection policy control as described in this Annex.\nThe NF service consumer functionality shall apply as defined in clause 4.1.3.2 with the differences described in this Annex.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "B.3\tService Operations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.3.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "Clause 4.2.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or or FN-RG.\n- \tUpdate of an UE Policy Association for the case that the AMF is relocated due to the UE mobility and the old PCF is selected is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "B.3.2\tNpcf_UEPolicyControl_Create Service Operation",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.2.1\tGeneral",
                            "text_content": "Clause 4.2.2.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or FN-RG.\n-\tThe PEI that may be included within the \"pei\" attribute shall have one of the following representations:\ni.\tIf the 5G-BRG supports only wireline access, the PEI shall be the 5G-BRG MAC address.\nii.\tIf the 5G-CRG supports only wireline access, the PEI shall be the cable modem MAC address.\niii.\tIf the 5G-RG supports at least one 3GPP access technology, the PEI shall be the allocated IMEI or IMEISV.\niv.\tFor the FN-BRG and FN-CRG, the PEI shall be the FN-RG MAC address.\nNOTE:\tWhen the PEI includes an indication that the MAC address cannot be used as Equipment identifier of the of the FN-RG, the PEI cannot be trusted for regulatory purposes and cannot be used for equipment based policy evaluation.\n-\tWhen the 5G-BRG or FN-BRG connects the 5GC via W-5GBAN, the \"n3gaLocation\" attribute shall be included in the \"ueLoc\" attribute and:\n-\tthe Global Line Identifier shall be included in the \"gli\" attribute; and\n-\tthe \"w5gbanLineType\" attribute to indicate whether the W-5GBAN access is DSL or PON may be included.\n-\tThe HFC Node Identifier is encoded in the \"hfcNodeId\" attribute of the \"n3gaLocation\" attribute included in the \"userLoc\" attribute within the PolicyAssociationRequest data structure when the 5G-CRG or FN-CRG connects to the 5GC via W-5GCAN.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\n-\tThe PCF should neither include NSWO indication nor any ANDSP policies in the UE Policy.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "B.3.3\tNpcf_UEPolicyControl_Update Service Operation",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.3.1\tGeneral",
                            "text_content": "Clause 4.2.3.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or FN-RG.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\n-\tThe PCF should neither include NSWO indication nor any ANDSP policies in the UE Policy.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "B.3.4\tNpcf_UEPolicyControl_UpdateNotify Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.4.1\tGeneral",
                            "text_content": "Clause 4.2.4.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or FN-RG.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\n-\tThe PCF should neither include NSWO indication nor any ANDSP policies in the UE Policy.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "B.3.5\tNpcf_UEPolicyControl_Delete Service Operation",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.5.1\tGeneral",
                            "text_content": "Clause 4.2.5.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or FN-RG.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\n\nThis Annex list withdrawn API versions of the Npcf_UEPolicyControl API defined in the present specification. 3GPP TS 3GPP TS 29.501 [6] clause 4.3.1.6 describes the withdrawal of API versions.\nThe API versions listed in table C-1 are withdrawn for the Npcf_UEPolicyControl API.\nTable C-1: Withdrawn API versions of the Npcf_UEPolicyControl service\n\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table C-1: Withdrawn API versions of the Npcf_UEPolicyControl service",
                                    "table number": 58,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "",
                                    "table number": 59,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}