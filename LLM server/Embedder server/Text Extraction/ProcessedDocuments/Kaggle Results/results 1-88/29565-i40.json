{
    "document_name": "29565-i40.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document specifies the stage 3 protocol and data model for the Ntsctsf Service Based Interface. It provides stage 3 protocol definitions and message flows, and specifies the API for each service offered by the TSCTSF.\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", .\n[7]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[8]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[9]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[10]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[11]\tIETF RFC 9113: \"HTTP/2\".\n[12]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[13]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[14]\t3GPP TS 29.534: \"5G System; Access and Mobility Policy Authorization Service; Stage 3\".\n[15]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces Stage 3\".\n[16]\t3GPP TS 29.508: \"5G System; Session Management Event Exposure Service; Stage 3\".\n[17]\t3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs; Stage 3\".\n[18]\tIEEE Std 802.1Q-2018: \"IEEE Standard for Local and metropolitan area networks--Bridges and Bridged Networks\".\n[19]\t3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System\".\n[20]\t3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".\n[21]\t3GPP TS 29.122: \"T8 reference point for northbound Application Programming Interfaces (APIs)\".\n[22]\tIETF RFC 7396: \"JSON Merge Patch\".\n[23]\t3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage 3\".\n[24]\t3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".\n[25]\tIEEE Std 1588-2019: \"IEEE Standard for a Precision Clock Synchronization Protocol for Networked Measurement and Control\".\n[26]\tIEEE Std 802.1AS-2020: \"IEEE Standard for Local and metropolitan area networks--Timing and Synchronization for Time-Sensitive Applications\".\n[27]\t3GPP TS 29.518: \"5G System; Access and Mobility Management Services; Stage 3\".\n[28]\tIETF draft-ietf-detnet-yang: \"Deterministic Networking (DetNet) YANG Model\".\nEditor's note:\tThe above document cannot be formally referenced until it is published as an RFC.\n[29]\tIETF RFC 6241: \"Network Configuration Protocol (NETCONF)\".\n[30]\tIETF RFC 8040: \"RESTCONF Protocol\".\n[31]\t3GPP TS 29.513: \"5G System; Policy and Charging Control signalling flows and QoS parameter mapping; Stage 3\".\n[32]\tIETF RFC 8939: \"Deterministic Networking (DetNet) Data Plane: IP\".\n[33]\tIETF RFC 7950: \"The YANG 1.1 Data Modeling Language\".\n[34]\tIETF RFC 8407: \"Guidelines for Authors and Reviewers of Documents Containing YANG Data Models\".\n[35]\tIETF RFC 6020: \"YANG – A Data Modeling Language for the Network Configuration Protocol (NETCONF)\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nVoid\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tSymbols",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the following symbols apply:\nVoid\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.3\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nASTI\tAccess Stratum Time distribution\nBAT\tBurst Arrival Time\nDetNet\tDeterministic Networking\nDS-TT\tDevice-side TSN translator\nNW-TT\tNetwork-side TSN translator\nPTP\tPrecision Time Protocol\nTA\tTracking Area\nTSC\tTime Sensitive Communication\nTSCAI\tTSC Assistance Information\nTSCTSF\tTime Sensitive Communication and Time Synchronization function\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tOverview",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The Ntsctsf services are offered by the TSCTSF to support the Time Sensitive Communications and Time Synchronization.\nThe following Ntsctsf services are specified:\n-\tNtsctsf_TimeSynchronization service;\n-\tNtsctsf_QoSandTSCAssistance service.\n-\tNtsctsf_ASTI service.\nTo enable the reporting of 5GS DetNet node configuration and the provisioning and configuration data for DetNet flows, the TSCTSF offers RESTCONF (IETF RFC 8040 [30]) and/or NETCONF (IETF RFC 6241 [29]) interfaces to the DetNet controller to access the 3GPP extended Deterministic Networking (DetNet) YANG Model as specified in Annex B.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.2\tService Architecture",
                    "description": "",
                    "summary": "",
                    "text_content": "The 5G System Architecture is defined in 3GPP TS 23.501 [2].\nThe known NF service consumers of the Ntsctsf services are the Application Function (AF) within the operator's trust domain and the Network Exposure Function (NEF).\nThe Ntsctsf services are provided by the TSCTSF and consumed by the NF service consumers (e.g. AF, NEF), as shown in figure 4.2-1 for the SBI representation model and in figure 4.2-2 for the reference point representation model.\nFigure 4.2-1 illustrates the Ntsctsf services architecture, specifically focusing on the Service Based Interface (SBI) representation. The figure showcases the various components involved in the architecture, including the Network Function Virtualization (NFV) Manager, Network Function Virtualization (NFV) Orchestrator, Network Service Function (NSF), and the Network Service Function (NSF) Manager. The SBI representation is depicted as a series of interconnected nodes and interfaces, highlighting the dynamic and modular nature of the architecture. This figure provides a clear visual representation of how different components interact and work together to deliver network services efficiently and effectively.\nFigure 4.2-1: Ntsctsf services architecture, SBI representation\nFigure 4.2-2 illustrates the reference point representation of Ntsctsf services architecture, showcasing the various components and their interactions. The figure depicts a network infrastructure with multiple nodes, each representing a distinct service or device. The nodes are interconnected through a series of lines, indicating the flow of data and communication between them. The central node, labeled as the \"reference point,\" serves as the focal point for data exchange and coordination. This architecture emphasizes the importance of efficient communication and data management within the network, ensuring seamless service delivery and user experience.\nFigure 4.2-2: Ntsctsf services architecture, reference point representation\nThe DetNet controller, as specified in clause 4.4.8.4 of 3GPP TS 23.501 [2], is the TSCTSF's consumer that accesses the 3GPP extended DetNet YANG model, as specified in Annex B, clause B.1.1.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tServices offered by the TSCTSF",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "Table 5.1-1 summarizes the corresponding APIs defined for this specification.\nTable 5.1-1: API Descriptions\n\n",
                    "tables": [
                        {
                            "description": "Table 5.1-1: API Descriptions",
                            "table number": 3,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tNtsctsf_TimeSynchronization Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tService Description",
                            "text_content": "This service provides:\n-\tAuthorization of NF Service Consumer requests for the subscription to the notification of the capability of time synchronization service.\n-\tAuthorization of NF Service Consumer requests to create and update time synchronization configuration, and to activate and deactivate the time synchronization service as described in clause 5.27.1.8 of TS 23.501 [2].\nNOTE:\tThe AF can use either the procedure specified in bullet2) for configuring the (g)PTP instance in 5GS or the procedure specified in clause 5.4.2.2 for controlling the 5G access stratum time distribution for a particular UE. The procedures are not intended to be used in conjunction with each other by the AF. However, the (g)PTP instance activation, modification, and deactivation can influence the 5G access stratum time distribution for the UEs that are part of the impacted PTP instance.\n-\tDetection and reporting of time synchronization service status based on gNB and/or UPF/NW-TT timing synchronization status information and reporting status updates.\n-\tNotifications to the NF service consumer about the state and changes of state of time synchronization configuration due to evaluation of e.g. time synchronization coverage area conditions.\nThe TSCTSF supports to:\n-\treceive the request to create/update the subscription to the notification of the capability of time synchronization service from the NEF or AF and interact with the related PCF;\n-\treceive the request to delete the subscription to the notification of the capability of time synchronization service from the NEF or AF and remove the information from the related PCF;\n-\treceive the notification of the availability of the user plane node information from the PCF and subscribe the notification of user plane node related events at the PCF;\n-\tmakes a translation from External/Internal Group Identifier to a list of SUPI by querying UDM;\n-\tretrieve the Time Synchronization Subscription data from UDM for the control of (g)PTP instance(s) and make decision based on received the Time Synchronization Subscription data;\n-\tdetermine the capability of time synchronization service based on the capability information received from the DS-TT(s) and NW-TT and notify the NEF or AF of the capability;\n-\treceive the request to create or modify the time synchronization configuration from the NEF or AF, configure and initialize the PTP instance(s) by constructing a PMIC to each DS-TT/UE to activate the time synchronization service in DS-TT and PMIC(s) and UMIC to NW-TT to activate the time synchronization service in NW-TT and provision them to the PCF;\n-\tdetermine whether the UE is inside/outside the requested time synchronization coverage area and enforce the time synchronization service accordingly;\n-\tnotify the NEF or AF of the current state of the time synchronization service configuration;\n-\treceive the request of time synchronization deactivation from the NEF or AF and disable the corresponding PTP instance(s) in the DS-TT(s) and NW-TT.\n-\tindicate whether the service is supported or not as per the requested acceptance criteria (e.g., based on the known timing synchronization status attribute thresholds pre-configured at gNB); and\n-\tbased on gNB and/or UPF/NW-TT timing synchronization status (degradation/failure/improvement) information and reporting, provide a notification when there is a service status update if the NEF or AF subscribe to service status updates.\nThe NF service consumer supports to:\n-\tsend the request to create/update and delete the subscription to the notification of the capability of time synchronization service to TSCTSF;\n-\treceive the notification of the capability of time synchronization service;\n-\tsend the request to create, modify and delete the time synchronization configuration to the TSCTSF;\n-\tprovide clock quality reporting control information, consisting of clock quality detail level and clock quality acceptance criteria during activation or modification of time synchronization service; and\n-\tsubscribe to time synchronization service status for the target UE(s).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.2\tService Operations",
                            "text_content": "Service operations defined for the Ntsctsf_TimeSynchronization service are shown in table 5.2.2.1-1.\nTable 5.2.2.1-1: Ntsctsf_TimeSynchronization Service Operations\n\nNOTE:\tThe NEF and the AF use the Ntsctsf_TimeSynchronization service in the same way.\nThis service operation is used by an NF service consumer to subscribe to notification of capability of time synchronization service for a list of UEs, a group of UEs or any UE using a DNN/S-NSSAI combination.\nThe following procedures using the Ntsctsf_TimeSynchronization_CapsSubscribe service operation are supported:\n-\tcreating a new subscription;\n-\tmodifying an existing subscription.\nFigure 5.2.2.2.2-1 illustrates the creation of a subscription.\n\nFigure 5.2.2.2.2-1 illustrates the process of creating a subscription in a telecommunication system. The figure depicts the interaction between the user equipment (UE) and the service provider's network elements, including the home subscriber server (HSS), authentication center (AUC), and charging and settlement plan (CSP). The UE initiates the subscription process by sending a request to the HSS, which then communicates with the AUC for authentication. Once authenticated, the HSS sends a confirmation to the UE, initiating the subscription. The CSP is responsible for managing the billing and settlement of the subscription. The figure highlights the importance of secure and efficient communication between these network elements to ensure a smooth and reliable subscription process.\nFigure 5.2.2.2.2-1: Creation of a subscription\nTo subscribe the notification of the capability of time synchronization service, the NF service consumer shall send an HTTP POST message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions\". The HTTP POST message shall include the TimeSyncExposureSubsc data structure as request body. The TimeSyncExposureSubsc data structure shall include:\n-\tthe indication of the UEs to which the time synchronization capabilities is requested via:\n-\tidentification of a list of individual UEs within a \"supis\" attribute;\n-\tidentification of a list of individual UEs within a \"gpsis\" attribute;\n-\tindication of any UE within the \"anyUeInd\" attribute; or\n-\tidentification of a group of UE(s) within the \"interGroupId\" attribute; or\n-\tidentification of a group of UE(s) within the \"exterGroupId\" attribute.\n-\tsubscription to event(s) notification as \"subscribedEvents\" attribute;\n-\tnotification URI within the \"subsNotifUri\" attribute;\n-\tnotification correlation Id within the \"subsNotifId\" attribute;\n-\tDNN with the \"dnn\" attribute; and\n-\tS-NSSAI with the \"snssai\" attribute;\nand may include:\n-\tthe conditions to match for notifying the event within the \"eventFilters\" attribute;\n-\tnotification method within the \"notifMethod\" attribute\n-\tmaximum number of reports within the \"maxReportNbr\" attribute;\n-\texpiry time within the \"expiry\" attribute; and\n-\treport period within the \"repPeriod\" attribute.\nUpon receipt of the HTTP request from the NF service consumer, if the request is authorized, the TSCTSF shall:\n-\tcreate a new subscription;\n-\tassign a subscription correlation ID;\n-\tselect an expiry time that is equal to or less than the expiry time potentially received in the request;\n-\tstore the subscription;\n-\tif the \"interGroupId\" attribute or \"exterGroupId\" attribute is received from the NF service consumer, interact with the UDM to retrieve the SUPI list that belong to the group using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tif the \"gpsis\" attribute is received from the NF service consumer, interact with the UDM to retrieve the SUPI(s) that correspond to the GPSI(s) using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tuse the parameters received from the NF service consumer (i.e. DNN, S-NSSAI and, if available, the list of UEs or UEs that belong to the group of UEs) and the time synchronization subscription data retrieved from UDM to determine the matching AF-session(s) that are authorized by subscription, and for any such AF-session for which the SUPI interact with the PCF by triggering Npcf_PolicyAuthorization_Create/Update request message as defined in 3GPP TS 29.514 [20].\nNOTE 1:\tIf the PCF determines an existing PDU Session is potentially impacted by time synchronization service (based on local configuration or SM Policy Association), the PCF invokes Npcf_PolicyAuthorization_Notify service operation to the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC User Plane Node information. At that time, the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities as SUPI and if available, GPSI for the notified PDU session), as specified in 3GPP TS 29.521 [23], and can create the AF-session by sending to the PCF the Npcf_PolicyAuthorization_Create service operation.\n-\tsend an HTTP \"201 Created\" response with TimeSyncExposureSubsc data structure as response body and a Location header field containing the URI of the created individual subscription resource, i.e. \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\".\nThe TSCTSF shall handle the AF session(s) associated with the \"Individual Time Synchronization Exposure Subscription\" resource as follows:\n-\tFor the association of AF sessions to \"Individual Time Synchronization Exposure Subscription\" resources:\n-\tUpon PDU Session establishment, i.e. when the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation for the establishment of a new PDU session, the TSCTSF shall retrieve from the BSF, as specified in 3GPP TS 29.521 [23], the PCF binding information to complete the necessary AF-Session information and triggers the Npcf_PolicyAuthorization_Create request message to the PCF to create an AF-session to subscribe to TSC user plane node related events. The TSCTSF, shall use the parameters of existing \"Individual Time Synchronization Exposure Subscription\" resources to determine whether they shall be associated to this newly created AF sessionThe TSCTSF associates the new AF session to the \"Individual Time Synchronization Exposure Subscription\" resources for which these parameters match. The TSCTSF shall read time synchronization capabilities from the DS-TT and NW-TT, if not available in the AF session, from the PCF by triggering Npcf_PolicyAuthorization_Update request message as defined in 3GPP TS 29.514 [20] and determine the (g)PTP capabilities from the DS-TT and the NW-TT as described in clause K.2.1 of 3GPP TS 23.501 [2]. The TSCTSF shall update the time synchronization service capability for this new DS-TT as defined in clause 5.2.2.4.2.\n-\tUpon AF sessions establishment, i.e. when the TSCTSF receives the AF request for the time synchronization service, the TSCTSF shall retrieve Time Synchronization Subscription data from UDM. The TSCTSF, shall use the parameters of existing \"Individual Time Synchronization Exposure Subscription\" resources to determine whether they shall be associated to this newly created AF session. The TSCTSF associates the new AF session to the \"Individual Time Synchronization Exposure Subscription\" resources for which these parameters match if the AF-session (i.e., the SUPI) is authorized by UDM subscription, otherwise the AF-session is excluded.\n-\tUpon \"Individual Time Synchronization Exposure Subscription\" resource creation, the TSCTSF uses the parameters of the created resource to determine which existing and authorized AF sessions it matches. The TSCTSF associates the new \"Individual Time Synchronization Exposure Subscription\" resource to the authorized AF sessionsfor which these parameters match.\n-\tTo remove an AF session from the associated ones to the \"Individual Time Synchronization Exposure Subscription\" resource, when the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session, the TSCTSF triggers the Npcf_PolicyAuthorization_Delete request message to the PCF and determines if the corresponding AF session is associated with the \"Individual Time Synchronization Exposure Subscription\" resource. If it is so, the TSCTSF shall remove the AF session from the list of AF session(s) associated with the \"Individual Time Synchronization Exposure Subscription\" resource. The TSCTSF shall update the time synchronization service capability for this removed DS-TT as defined in clause 5.2.2.4.2.\nNOTE 2:\tAfter the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], the TSCTSF can store internally the information required to invoke Npcf_PolicyAuthorization_Create service operation and delay the Npcf_PolicyAuthorization_Create service operation (the creation of the AF session) till the subscription to notification of the capability of time synchronization service is received for the concerned UE. In this case, when the TSCTSF receives the subscription request, the TSCTSF interacts with the PCF by triggering Npcf_PolicyAuthorization_Create message as defined in 3GPP TS 29.514 [20].\nNOTE 3:\tWhen the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session associated to an AF session that it is not associated with any \"Individual Time Synchronization Exposure Subscription\" resource, the TSCTSF removes the AF-session and triggers the Npcf_PolicyAuthorization_Delete request message to the PCF.\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.1.7.\nFigure 5.2.2.2.3-1 illustrates the modification of a subscription.\nFigure 5.2.2.2.3-1 illustrates the modification of a subscription, showing the various stages of updating a user's account details. The figure begins with the initial state, where the user's information is unchanged. It then progresses through the stages of updating the user's name, email address, and phone number. The final state shows the completed update, with the user's information now accurately reflecting the changes made. The figure highlights the importance of accurate and up-to-date user information in the telecommunications industry.\nFigure 5.2.2.2.3-1: Modification of a subscription\nTo modify the subscription to the notification of the capability of time synchronization service, the NF service consumer shall send an HTTP PUT message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\" representing an existing \"Individual Time Synchronization Exposure Subscription\" resource, as shown in figure 5.2.2.2.3-1, step 1. The HTTP PUT message shall include the TimeSyncExposureSubsc data structure as request body. The TimeSyncExposureSubsc data structure shall include the parameters as defined in clause 5.2.2.2.2.\nUpon receipt of the HTTP request from the NF service consumer, if the request is authorized, the TSCTSF shall:\n-\tupdate the existing \"Individual Time Synchronization Exposure Subscription\" resource;\n-\tidentify the affected AF session(s) based on the parameters received from the NF service consumer and interact with the PCF by triggering Npcf_PolicyAuthorization_Update request message as defined in 3GPP TS 29.514 [20] for the new added UE(s), by triggering Npcf_PolicyAuthorization_Delete request message as defined in 3GPP TS 29.514 [20] for the removed UE(s) or by triggering Npcf_PolicyAuthorization_Update request message as defined in 3GPP TS 29.514 [20] for the existing UE(s) if necessary.\nNOTE 1:\tIf the PCF determines an existing PDU Session is potentially impacted by time synchronization service (based on local configuration or SM Policy Association), the PCF invokes Npcf_PolicyAuthorization_Notify service operation to the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC User Plane Node information. At that time, the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities as SUPI and if available, GPSI for the notified PDU session), as specified in 3GPP TS 29.521 [23], and can create the AF-session by sending to the PCF the Npcf_PolicyAuthorization_Create service operation.\nNOTE 2:\tAfter the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], the TSCTSF can store internally the information required to invoke Npcf_PolicyAuthorization_Create service operation and delay the Npcf_PolicyAuthorization_Create service operation (the creation of the AF-session) till the subscription to notification of the capability of time synchronization service is received for the concerned UE. In this case, when the TSCTSF receives the subscription request, the TSCTSF interacts with the PCF by triggering Npcf_PolicyAuthorization_Create message as defined in in 3GPP TS 29.514 [20].\n-\tupdate the list of AF sessions that are associated to the \"Individual Time Synchronization Exposure Subscription\" resource (i.e. add or remove AF sessions as associated to this resource) based on if the parameters of the AF sessions match the updated parameters of the \"Individual Time Synchronization Exposure Subscription\" resource.\n-\tsend a HTTP response including \"200 OK\" status code with TimeSyncExposureSubsc data structure or \"204 No Content\" status code, as shown in figure 5.2.2.2.3-1, step 2.\nIf the HTTP PUT request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP PUT request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP PUT request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis service operation is used by an NF service consumer to unsubscribe from the notifications.\nThe following procedure using the Ntsctsf_TimeSynchronization_CapsUnsubscribe service operation is supported:\n-\tunsubscription from capability notifications.\nFigure 5.2.2.3.2-1 illustrates the unsubscription from event notifications.\nFigure 5.2.2.3.2-1 illustrates the process of unsubscription from capability notifications in a telecommunications network. The figure depicts the interaction between the network elements, including the network element (NE), the network element manager (NEM), and the capability notification service (CNS). The NE sends a request to the NEM to unregister from the CNS, which then communicates with the CNS to remove the NE's subscription. This process ensures that the NE no longer receives capability notifications, allowing it to operate independently and efficiently.\nFigure 5.2.2.3.2-1: Unsubscription from capability notifications\nTo unsubscribe from event notifications, the NF service consumer shall send an HTTP DELETE request with: \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\" as Resource URI, where \"{subscriptionId}\" is the subscription correlation ID of the existing subscription that is to be deleted.\nUpon the reception of the HTTP DELETE request, if the received HTTP request is successfully processed and accepted, the TSCTSF shall:\n-\tremove the corresponding subscription;\n-\tidentify the affected AF session(s) and, for each AF session, interact with the PCF by triggering Npcf_PolicyAuthorization_Delete request message as defined in 3GPP TS 29.514 [20]; and\n-\tsend an HTTP \"204 No Content\" response.\nIf the HTTP DELETE request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP DELETE request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP DELETE request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis service operation is used by the TSCTSF to send notifications to NF service consumers upon the detection of the capability of the time synchronization service for a list of UEs.\nThe following procedure using the Ntsctsf_TimeSynchronization_CapsNotify service operation is supported:\n-\tnotification about the capability of time synchronization service.\nFigure 5.2.2.4.2-1 illustrates the notification about the capability of time synchronization service.\nFigure 5.2.2.4.2-1 illustrates the capability of a time synchronization service, showcasing its importance in maintaining accurate timekeeping across telecommunication networks. The figure highlights the synchronization server, which plays a crucial role in synchronizing the time of various network devices. The diagram also emphasizes the use of NTP (Network Time Protocol) for precise time synchronization, ensuring that all connected devices maintain accurate time, which is essential for seamless communication and coordination.\nFigure 5.2.2.4.2-1: Notification about the capability of time synchronization service\nThe TSCTSF maintains the association between the AF session(s) and the Individual Time Synchronization Exposure Subscription resource as defined in clause 5.2.2.2.2 and detects the capability of time synchronization service (for a list of UEs, a group of UEs or any UE in a DNN and S-NSSAI), by composing the time synchronization capabilities for the DS-TT/UE(s) connected to the NW-TT based on the capability information received from the DS-TT(s) and NW-TT via the PCF. If the NF service consumer includes an Event Filter with one or more of the requested PTP instance type, requested transport protocol for PTP, or requested PTP Profile, the TSCTSF considers only the DS-TT(s) and NW-TT(s) with these capabilities as part of the time synchronization capability set that is reported to the NF service consumer. If necessary, when the list of AF session(s) associated to the Individual Time Synchronization Exposure Subscription resource changes, e.g. upon PDU Session establishment or termination, the TSCTSF may notify the update of the capability of time synchronization service for the DS-TT/UE(s) connected to the NW-TT(s). In order to send the capability of time synchronization service to the NF service consumer, the TSCTSF shall send an HTTP POST request with \"{subsNotifUri}\", as previously provided by the NF service consumer within the corresponding subscription, as request URI and TimeSyncExposureSubsNotif data structure as request body that shall include:\n-\tNotification correlation ID provided by the NF service consumer during the subscription within \"subsNotifId\" attribute; and\n-\tinformation about the observed event(s) within the \"eventNotifs\" attribute that shall contain for each observed event an \"SubsEventNotification\" data structure that shall include:\n1.\tthe detected event within the  \"event\" attribute;\n2.\twhen the event is \"AVAILABILITY_FOR_TIME_SYNC_SERVICE\", the capabilities of time synchronization service for one or more user plane nodes with the \"timeSyncCapas\" attribute. Within each instance of TimeSyncCapability data structure, the TSCTSF shall include the identifier of the applicable NW-TT within the \"upNodeId\" attribute, the \"gmCapables\" attribute indicating if the user plane node supports acting as a gPTP and/or PTP grandmaster, the supported 5G clock quality within the \"asTimeRes\" attribute, if applicable, and the PTP capabilities for each UE within the \"ptpCapForUes\" attribute, when the UEs are identified with a SUPI, or within \"ptpCapForGpsis\" attribute, when the UEs are identified with a GPSI.\nUpon the reception of an HTTP POST, the NF service consumer shall send an HTTP \"204 No Content\" response for a successful processing.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.1.7.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis service operation is used by an NF service consumer to create a time synchronization configuration and activate the time synchronization service with the configuration.\nThe following procedures using the Ntsctsf_TimeSynchronization_ConfigCreate service operation are supported:\n-\tcreating a new configuration; and\n-\tcreating a subscription for notification for the changes in the time synchronization service configuration.\nFigure 5.2.2.5.2-1 illustrates the creation of a configuration.\nFigure 5.2.2.5.2-1 illustrates the process of creating a configuration in a telecommunication system. The figure depicts a flowchart with various steps, including defining the configuration, setting up the system, and testing the configuration. Key components such as the configuration manager, system manager, and test manager are highlighted, emphasizing the importance of coordination and communication between these entities. The figure highlights the complexity of configuration management in telecommunication systems and the need for a systematic approach to ensure accuracy and efficiency.\nFigure 5.2.2.5.2-1: Creation of a configuration\nTo create a configuration, the NF service consumer shall send an HTTP POST message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations\". The HTTP POST message shall include the TimeSyncExposureConfig data structure as request body, as shown in figure 5.2.2.5.2-1, step 1. The TimeSyncExposureConfig data structure shall include:\n-\tthe user plane node Id within the \"upNodeId\" attribute;\n-\tthe requested PTP instance within the \"reqPtpIns\" attribute;\n-\tthe time domain within the \"timeDom\" attribute;\n-\tthe notification URI within the \"configNotifUri\" attribute;\n-\tthe notification correlation Id within the \"configNotifId\" attribute;\nand may include:\n-\tthe \"gmEnable\" attribute set to true if the AF requests 5GS to act as a grandmaster for PTP or gPTP;\n-\tthe time synchronization error budget within the \"timeSyncErrBdgt\" attribute;\n-\tthe gandmaster priority with the \"gmPrio\" attribute;\n-\tthe temporal validity condition within the \"tempValidity\" attribute;\n-\tif the \"CoverageAreaSupport\" feature is supported, the time synchronization coverage area encoded as \"covReq\" attribute, that contains a list of Tracking Area codes per serving network where the requested PTP instance applies; and\n-\tif the \"NetTimeSyncStatus\" feature is supported, the clock quality detail level in the \"clkQltDetLvl\" attribute and the clock quality acceptance criteria for the PTP instance in the \"clkQltAcptCri\" attribute if applicable, if the NF service consumer to subscribe to receiving network time synchronization status report(s).\nNOTE 1:\tThe AF request for PTP service activation, modification cannot indicate that the clock quality detail level to provide is \"metrics\", i.e. if the AF includes the clock quality detail level, its value needs to set to \"acceptable/not acceptable indication\" and accompanied with \"clock quality acceptance criteria\". The UE/DS-TT retrieves detailed information (timing synchronization metrics) from Announce messages sent for (g)PTP services.\nUpon receipt of the HTTP request from the NF service consumer, if the request is authorized, the TSCTSF shall:\n-\tcreate a new resource, which represents a new \"Individual Time Synchronization Exposure Configuration\" instance, addressed by a URI as defined in clause 6.1.3.5 and containing a TSCTSF created resource identifier;\n-\tsend an HTTP \"201 Created\" response with TimeSyncExposureConfig data structure as response body and a Location header field containing the URI of the created Individual Time Synchronization Exposure Configuration resource, i.e. \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subcriptionId}/configuration/{configurationId}\", as shown in figure 5.2.2.5.2-1, step 2;\n-\tuse the {subscriptionId} within the requested URI and user plane node ID within the \"upNodeId\" attribute in the request to determine the target UEs and corresponding authorized AF sessions, then use the parameters (e.g. requested PTP instance type, transport protocol, and PTP profile) in the request to determine suitable DS-TT(s) and AF session(s) among all the AF session(s) and:\na.\tif the \"CoverageAreaSupport\" feature is supported and a time synchronization coverage area is provided within the \"covReq\" attribute, the TSCTSF perform the following operations:\n1.\tif the UE's Time Synchronization Subscription data from the UDM contains the list of TA(s) that comprise the authorized time synchronization coverage area. If the requested time synchronization coverage area within the \"covReq\" attribute is within the subscribed time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area is fulfilled, and the UE is authorized for the requested time synchronization service. If the Authorized Time Synchronization Coverage Area is inside of the requested Coverage Area, the TSCTSF uses the Authorized Time Synchronization Coverage Area. If the requested Coverage Area partly overlaps with the Authorized Time Synchronization Coverage Area, the TSCTSF uses the intersection of them. If there is no overlap between them, the TSCTSF shall reject the AF request as described in clause 5.27.1.11 of 3GPP TS 23.501 [2].\n2.\tThe TSCTSF discovers the list of AMF(s) serving the list of TA(s) that comprise the authorized time synchronization coverage area using the Nnrf_NFDiscovery service operation as described in 3GPP TS 29.510 [10], if they are not available, and, for each UE with matched AF-sessions, subscribes with the discovered AMF(s) to receive notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27], where the Area of Interest is the provided time synchronization coverage area.\n3.\tBased on the outcome provided by the AMF about the UE’s presence in the Area of Interest and the authorized time synchronization coverage area, the TSCTSF determines if the time synchronization service is activated or deactivated:\ni.\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is fulfilled, and the UE is authorized for the activation of the received PTP instance configuration.\nii.\tIf the UE presence is not within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is not fulfilled, and the UE is not authorized for the activation of the received PTP instance configuration;\nb\tIf the UE's Time Synchronization Subscription data contains the authorized Uu time synchronization error budget, and the requested time synchronization error budget within the \"timeSyncErrBdgt\" attribute is within the authorized time synchronization coverage area, the TSCTSF determines that the UE is authorized for the requested time synchronization service.\nc.\tIf the UE's Time Synchronization Subscription data contains the periods of authorized start and stop times, and the requested temporal validity condition within the \"tempValidity\" attribute is within any of the subscribed periods of authorized start and stop times, the TSCTSF determines that the UE is authorized for the requested time synchronization service.\n-\tfor each authorized UE and matched AF-session, contact with the each corresponding PCF for the PDU session to configure and initialize the PTP instance in the DS-TT(s) and NW-TT as defined in 3GPP TS 23.502 [3], clause 4.15.9.3.2, step 5-6;\n-\tfor each authorized UE with matched AF-session(s), calculate the Uu time synchronization error budget as specified in clauses 5.27.1.9 and 5.27.1.11 of 3GPP TS 23.501 [2], subscribe to event notifications of newly registered PCF for the UE for the affected UEs by invoking Nbsf_Management_Subscribe Service Operation as defined in clause 4.2.6 of 3GPP TS 29.521 [23] if not yet done, and send a request to the PCF for the UE for AM policy authorization by invoking Npcf_AMPolicyAuthorization_Create service operation as defined in clause 4.2.2 of 3GPP TS 29.534 [14] providing the appropriate values in the \"asTimeDisParam\" attribute in order to activate the access stratum time distribution and provide the calculated Uu time synchronization error budget.\n-\tif the \"NetTimeSyncStatus\" feature is supported and upon the reception of the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute, then TSCTSF subscribes to UPF/NW-TT time synchronization status reports via UMIC as described in clause 4.2.2.31 of 3GPP TS 29.514 [20], if the UPF/NW-TT is involved in providing time synchronization information to DS-TT. In case NG-RAN is involved in providing time synchronization status information to DS-TT, then TSCTSF sends the time synchronization status reporting control information to the NG-RAN and then initiates the subscription to the NG-RAN time synchronization status via AMF using Namf_Communication_NonUeN2InfoSubscribe service operation, if not previously done for the involved NG-RAN node, as described in 3GPP TS 29.518 [27].\nIf the temporal validity condition is provided and if the start-time is in the future, the TSCTSF shall maintain the time synchronization configuration and then proceed as described above when the start-time is reached; otherwise, if the start-time is in the past, the TSCTSF shall proceed as described above immediately. When the stop-time is reached for active time synchronization service configuration, the TSCTSF shall proceed as Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause 5.2.2.7.2 without interacting with the AF.\nThe TSCTSF shall associate the affected UEs and matched AF sessions to the \"Individual Time Synchronization Exposure Configuration\". When the \"CoverageAreaSupport\" feature is supported, the TSCTSF also associates whether the UE fulfills the time synchronization coverage area condition, if provided. When receiving the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session and the corresponding AF session is associated with the \"Individual Time Synchronization Exposure Configuration\" resource, the TSCTSF shall remove the AF session from the list of AF sessions associated with the \"Individual Time Synchronization Exposure Configuration\" resource and invoke Npcf_AMPolicyAuthorization_Delete service operation as defined in clause 4.2.4 of 3GPP TS 29.534 [14] to remove the access stratum time distribution parameters for the UE if they were provided.\nIf for all the affected UEs the provided parameters are not allowed by subscription, the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERVICE_NOT_AUTHORIZED\".\nIf the HTTP POST request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP POST request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis service operation is used by an NF service consumer to update a time synchronization configuration.\nThe following procedures using the Ntsctsf_TimeSynchronization_ConfigUpdate service operation are supported:\n-\tUpdating an existing configuration;\n-\tCreating the subscription for notification for the changes in the time synchronization service configuration in case the subscription was not created before.\nFigure 5.2.2.6.2-1 illustrates the updating of an existing configuration.\nFigure 5.2.2.6.2-1 illustrates the process of updating a configuration in a telecommunication system. The figure shows a flowchart with various steps, including initializing the configuration, applying updates, and verifying the changes. Key components such as the configuration management database (CMDB), system management station (SMS), and network element manager (NEM) are depicted, emphasizing the importance of coordinated efforts for successful configuration updates. The figure highlights the need for a systematic approach to ensure that changes are made accurately and without disruption to the network's operation.\nFigure 5.2.2.6.2-1: Update of a configuration\nTo update a configuration, the NF service consumer shall send an HTTP PUT request to the resource \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations/{configurationId}\" representing an existing \"Individual Time Synchronization Exposure Configuration\" resource, as shown in figure 5.2.2.6.2-1, step 1, to modify the configuration.\nThe TimeSyncExposureConfig data structure provided in the request body shall include:\n-\tthe user plane node Id within the \"upNodeId\" attribute;\nNOTE 1:\t\tThe user plane node Id cannot be changed during the modification.\n-\tthe requested PTP instance within the \"reqPtpIns\" attribute;\n-\tthe time domain within the \"timeDom\" attribute;\nNOTE 2:\tThe user plane node Id, the requested PTP instance and the time domain cannot be changed during the modification.\n-\tthe notification URI within the \"configNotifUri\" attribute;\n-\tthe notification correlation Id within the \"configNotifId\" attribute;\nNOTE 3:\t\tIf the notification URI or notification correlation Id is not changed the previously value is included.\nand may include:\n-\tthe \"gmEnable\" attribute set to true if the AF requests 5GS to act as a grandmaster for PTP or gPTP;\n-\tthe time synchronization error budget within the \"timeSyncErrBdgt\" attribute;\n-\tthe gandmaster priority with the \"gmPrio\" attribute;\n-\tthe temporal validity condition within the \"tempValidity\" attribute;\n-\tif the \"CoverageAreaSupport\" feature is supported, the spatial validity condition encoded as \"covReq\" attribute, that contains a list of Tracking Area codes per serving network where the requested PTP instance applies; and\n-\tif the \"NetTimeSyncStatus\" feature is supported, the clock quality detail level in the \"clkQltDetLvl\" attribute and the clock quality acceptance criteria for the PTP instance in the \"clkQltAcptCri\" attribute if applicable.\nUpon receipt of the corresponding HTTP PUT message, if the request is authorized, theTSCTSF shall:\n-\tupdate the existing \"Individual Time Synchronization Exposure Configuration\" resource;\n-\tsend a HTTP response including \"200 OK\" status code with TimeSyncExposureConfig data structure or \"204 No Content\" status code, as shown in figure 5.2.2.6.2-1, step 2;\n-\tuse the {subscriptionId} within the requested URI and user plane node ID within the \"upNodeId\" attribute in the request to determine the target UEs and corresponding AF-sessions, then use the updated parameters (e.g. requested PTP instance type, transport protocol, and PTP profile) in the request to determine suitable DS-TT(s) and AF session(s) among all AF session:\na.\tIf the \"CoverageAreaSupport\" feature is supported and a requested coveragea area is provided or updated within the \"covReq\" attribute, the TSCTSF perform the following operations:\n1.\tthe TSCTSF, based on the time synchronization coverage area retrieved from UDM determines whether the UE is authorized for the request again as described in clause 5.2.2.5.2.\n2.\tThe TSCTSF discovers the list of AMF(s) serving the list of TA(s) that comprise the authorized time synchronization coverage area using the Nnrf_NFDiscovery service operation as described in 3GPP TS 29.510 [10], if they are not available, and for each UE with matched AF-sessions, subscribes/updates the subscription, if applicable, with the discovered AMF(s) to receive notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27], where the Area of Interest is the requested/applicable spatial validity condition.\n3.\tBased on the outcome provided by the AMF or available in the TSCTSF about the UE’s presence in the Area of Interest, the TSCTSF determines if the time synchronization service is activated or deactivated:\ni.\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the spatial validity condition is fulfilled, and the UE is authorized for the activation of the received PTP instance configuration.\n-\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the spatial validity condition is not fulfilled, and the UE is not authorized for the activation of the received PTP instance configuration;\nb.\tIf the \"CoverageAreaSupport\" feature is supported and a requested coverage area previously provided is removed, the TSCTSF perform the following operations:\n1.\tFor each UE with matched AF-sessions, the TSCTSF terminates the subscriptions to notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27].\n2.\tFor each UE with matched AF-sessions that did not fulfil the removed spatial validity condition, the TSCTSF determines the UE is authorized for the activation of the received PTP instance configuration\nc.\tIf the time synchronization error budget within the \"timeSyncErrBdgt\" attribute and/or the temporal validity condition within the \"tempValidity\" attribute from the NF service consumer is provided, updated, or removed, the TSCTSF based on the Time Synchronization Subscription data retrieved from the UDM determines whether the UE is authorized for the request again as described in clause 5.2.2.5.2\n-\tfor each authorized UE and matched AF-session, and contact with each correspondingPCF for the PDU session to configure and initialize the PTP instance in the DS-TT(s) and NW-TT as defined in 3GPP TS 23.502 [3], clause 4.15.9.3.3, step 5-6. The TSCTSF associates the new affected AF session(s) with the \"Individual Time Synchronization Exposure Configuration\" resource.\n-\tfor each authorized UE with matched AF-session(s), if the time synchronization error budget is provided, updated, or removed, calculate the Uu time synchronization error budget as specified in clause 5.27.1.9 of 3GPP TS 23.501 [2]and send a request to the PCF for the UE for AM policy authorization by invoking Npcf_AMPolicyAuthorization_Update service operation as defined in clause 4.2.3 of 3GPP TS 29.534 [14] in order to update the Uu time synchronization error budget.\n-\tif the \"NetTimeSyncStatus\" feature is supported and upon the reception of the updated clock quality acceptance criteria within the \"clkQltAcptCri\" attribute, then TSCTSF determines the clock acceptance criteria results as specified in clause 5.2.2.8.2. In case the updated clock quality acceptance criteria within the \"clkQltAcptCri\" attribute is received and the clock acceptance criteria results is not available, then TSCTSF subscribes to UPF/NW-TT time synchronization status reports via UMIC as described in clause 4.2.3.34 of 3GPP TS 29.514 [20], if the UPF/NW-TT is involved in provoding time information to DS-TT. In case NG-RAN is involved in providing time synchronization status information to DS-TT, then TSCTSF sends the updated confiugration of time synchronization status reporting to the NG-RAN and then initiates the subscription to the NG-RAN time synchronization status via AMF using Namf_Communication_NonUeN2InfoSubscribe service operation, as described in 3GPP TS 29.518 [27]\nIf the temporal validity condition was provided but it is removed during the update of time synchronization configuration, the TSCTSF shall perform the time synchronization configuration as described above without considering the temporal validity condition.\nIf the temporal validity condition was not provided and the temporal validity condition is provided during the update of configuration, the TSCTSF shall perform as follows:\n-\tif the start-time is in the future, the TSCTSF shall maintain the time synchronization configuration and then proceeds as described above when the start-time is reached; \totherwise, if the start-time is in the past, the TSCTSF shall proceed as described above immediately;\n-\tWhen the stop-time is reached for active time synchronization service configuration, the TSCTSF shall proceed as Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause 5.2.2.7.2 without interacting with the AF.\nIf the temporal validity condition was provided and the temporal validity condition is updated during the update of configuration, the TSCTSF shall perform as follows:\n-\tif the previously provided time configuration is being applied but the new start-time is in the future, the TSCTSF shall proceed as Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause 5.2.2.7.2 without interacting with the AF firstly and then proceeds as described above when the new start-time is reached; otherwise if the time synchronization configuration has been created but the new start-time is in the past, the TSCTSF keep the existing configuration;\n-\twhen the new stop-time is reached for active time synchronization service configuration, the TSCTSF shall proceed as Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause 5.2.2.7.2 without interacting with the AF;\n-\tif the previously provided time configuration is not being applied because the previously provided start-time is in the future, the TSCTSF shall perform as the case that the temporal validity condition was not provided previously.\nThe TSCTSF shall associate the affected UEs and matched AF session to the \"Individual Time Synchronization Exposure Configuration\". When the \"CoverageAreaSupport\" feature is supported, the TSCTSF also associates whether the UE fulfills the spatial validity condition, if provided. When receiving the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session and the corresponding AF session is associated with the \"Individual Time Synchronization Exposure Configuration\" resource, the TSCTSF shall remove the AF session from the list of AF sessions associated with the \"Individual Time Synchronization Exposure Configuration\" resource and invoke Npcf_AMPolicyAuthorization_Delete service operation as defined in clause 4.2.4 of 3GPP TS 29.534 [14] to remove the access stratum time distribution parameters for the UE if they were provided.\nIf for all the affected UEs the provided parameters are not allowed by subscription, the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERVICE_NOT_AUTHORIZED\".\nIf the HTTP PUT request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP PUT request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP PUT request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis service operation is used by an NF service consumer to delete a time synchronization configuration.\nThe following procedures using the Ntsctsf_TimeSynchronization_ConfigDelete service operation are supported:\n-\tDeleting an existing configuration.\nFigure 5.2.2.7.2-1 illustrates the deleting of an existing configuration.\nFigure 5.2.2.7.2-1 illustrates the process of deleting a configuration in a telecommunication system. The figure shows the initial state with the configuration present, followed by the steps to access the configuration, select the deletion option, confirm the action, and finally, the final state where the configuration has been successfully removed. The figure highlights the importance of proper management and maintenance in telecommunication systems to ensure efficient and error-free operations.\nFigure 5.2.2.7.2-1: Deletion of a configuration\nTo delete a configuration, the NF service consumer shall send an HTTP DELETE request to the resource \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations/{configurationId}\" representing an existing \"Individual Time Synchronization Exposure Configuration\" resource, as shown in figure 5.2.2.7.2-1, step 1, to delete the configuration.\nUpon the reception of an HTTP DELETE request and if the HTTP DELETE request is accepted by the TSCTSF, the TSCTSF shall:\n-\tremove the corresponding configuration and respond with \"204 No Content\" as shown in figure 5.2.2.7.2-1, step 2;\n-\tuse the {configurationId} within the requested URI to identify the time synchronization service configuration and the corresponding AF sessions, and then interact with:\n-\tthe PCF(s) for the PDU Session to disable the corresponding PTP instance(s) in the DS-TT(s) and NW-TT as defined in 3GPP TS 23.502 [3], clause 4.15.9.3.4, step 5-6.\n-\tthe PCF(s) for the UE to remove the time synchronization error budget by invoking the Npcf_AMPolicyAuthorization_Delete service operation as defined in clause 4.2.4 of 3GPP TS 29.534 [14].\nIf the HTTP DELETE request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP DELETE request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP DELETE request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis service operation is used by an TSCTSF to notify the NF Service Consumer of the current state of the time synchronization configuration.\nThe following procedures using the Ntsctsf_TimeSynchronization_ConfigUpdateNotify service operation are supported:\n-\tnotification about the current state of the time synchronization configuration.\nFigure 5.2.2.8.2-1 illustrates the notification about the current state of the time synchronization configuration.\nFigure 5.2.2.8.2-1 illustrates the current state of the time synchronization configuration, detailing the status of various time sources and the synchronization algorithm in use. The figure shows the primary time source, such as a GPS receiver, and its associated time servers, which distribute the time signal to the network. The synchronization algorithm, such as PTPv2 or NTPv4, is depicted as a process that adjusts the time sources to maintain accuracy and consistency across the network. The figure also highlights the importance of time synchronization in ensuring the accurate and reliable operation of network devices and services.\nFigure 5.2.2.8.2-1: Notification about the current state of the time synchronization configuration\nWhen the TSCTSF receives the notification of the change in the PTP instance for each DS-TT and/or NW-TT from the PCF as defined in clause 4.2.5.13 of 3GPP TS 29.514 [20] or when the TSCTSF receives the NG-RAN time synchronization status update related to clock quality acceptance criteria via AMF as described in clause 5.2.2.4.2 of 3GPP TS 29.518 [27] and determines the affected PTP instance(s), the TSCTSF shall determine the current state of the time synchronization configuration and sends an HTTP POST request with \"{configNotifUri}\", as previously provided by the NF service consumer within the corresponding configuration, as URI and the TimeSyncExposureConfigNotif data structure as request body, as shown in figure 5.2.2.8.2-1, step 1.\nThe TimeSyncExposureConfigNotif data structure as request body that shall include:\n-\tNotification correlation ID provided by the NF service consumer during the configuration within the \"configNotifId\" attribute;\n-\tcurrent states of the time synchronization configuration for the DS-TT port(s) and/or NW-TT port within the \"stateOfConfig\" attribute;\nand may include:\n-\tif \"NetTimeSyncStatus\" feature is supported, the report of whether the time synchronization service status according to the clock quality acceptance criteria result is acceptable or not acceptable within the \"stateOfConfig\" attribute.\nIf the \"CoverageAreaSupport\" feature is supported and the TSCTSF received time synchronization coverage area as part of the Ntsctsf_TimeSynchronization_ConfigCreate/Update service operation as described in clauses 5.2.2.5.2 and 5.2.2.6.2, when the TSCTSF receives a change in the UE presence in Area of Interest notification as described in 3GPP TS 29.518 [27], the TSCTSF checks the activation or deactivation of the time synchronization service and adds/removes the UE/DS-TT port to/from the PTP instance and configures the Grandmaster functionality, as applicable, as specified in clause K.2.1 of 3GPP TS 23.501 [2]. For the added/removed UE/DS-TT port to/from the PTP instance, the TSCTSF triggers the notification to the NF service consumer where the \"stateOfDstts\" attribute within the \"stateOfConfig\" attribute shall include the state of the added/removed UE/DS-TT port.\nIf the \"NetTimeSyncStatus\" feature is supported and the TSCTSF received the clock quality detail level and the clock quality acceptance criteria as part of the Ntsctsf_TimeSynchronization_ConfigCreate/Update service operation as described in clauses 5.2.2.5.2 and 5.2.2.6.2, when the TSCTSF receives a change corresponding to the time synchronization status as described in clause 5.27.1.12 of 3GPP TS 23.501 [2], the TSCTSF provides the notification for the clock quality acceptance criteria result by including the \"clkQltAcptCriResInd\" attribute within the \"stateOfConfig\" attribute (for the result related to the NW-TT port(s)) and/or within the entries of the \"stateOfDstts\" attribute of the \"stateOfConfig\" attribute (for the results related to every DS-TT port).\nEditor’s note: Whether it is required the report of the clock quality acceptance criteria for the NW-TTP ports (i.e., whether the clkQltIndOfNwtt attribute is needed) is FFS and requires SA2 clarifications.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.1.7.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.2.1-1: Ntsctsf_TimeSynchronization Service Operations",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.3\tNtsctsf_QoSandTSCAssistance Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tService Description",
                            "text_content": "This service provides:\n-\tAuthorization of NF Service Consumer requests for the resource reservation for TSC.\n-\tNF Service Consumer request to reserve or update resources for handling traffic characterized by TSC QoS parameters as described in clause 6.1.3.22 of TS 23.503 [19].\nThe TSCTSF supports to:\n-\treceive the request to reserve or update a specific QoS or a specific QoS with additional Alternative QoS for an AF session;\n-\treceive the request to delete the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements\n-\treceive the request to subscribe or unsubscribe to the event(s) about the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements;\n-\tdetermine the requested PDB and construct the TSC Assistance Container; and\n-\tNotify the NF service consumer of the event(s).\nThe NF service consumer supports to:\n-\tsend the request to reserve or update a specific QoS or a specific QoS with additional Alternative QoS for an AF session;\n-\tsend the request to delete the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements\n-\tsend the request to subscribe or unsubscribe to the event(s); and\n-\treceive the notification of the event(s).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.2\tService Operations",
                            "text_content": "Service operations defined for the Ntsctsf_QoSandTSCAssistance service are shown in table 6.3.2.1-1.\nTable 5.3.2.1-1: Ntsctsf_TimeSynchronization Service Operations\n\nNOTE:\tThe NEF and the AF use the Ntsctsf_QoSandTSCAssistance service in the same way.\nThis service operation is used by an NF service consumer to request the network to provide a specific QoS for an AF session.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Create service operation are supported:\n-\tInitial provisioning of TSC related service information.\n-\tSubscriptions to Service Data Flow QoS notification control.\n-\tSubscription to Service Data Flow Deactivation\n-\tSubscription to resources allocation outcome\n-\tSubscriptions to Service Data Flow QoS Monitoring Information.\n-\tInitial provisioning of sponsored connectivity information.\n-\tInitial provisioning of AF requested QoS for a UE or a group of UE(s) not identified by UE address.\n-\tSubscription to BAT offset notification.\nThis procedure is used to set up a TSC AF application session context for the service as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.2.2-1 illustrates the initial provisioning of TSC related service information.\n\nFigure 5.3.2.2.2-1 illustrates the initial provisioning of TSC (Telecommunication Service Configuration) related service information, showcasing the process of setting up and configuring various telecommunication services. The figure depicts the interaction between different entities involved in the provisioning process, such as service providers, network operators, and customers. It highlights the flow of information and instructions between these parties, emphasizing the importance of accurate and efficient service configuration for seamless communication and connectivity.\nFigure 5.3.2.2.2-1: Initial provisioning of TSC related service information\nWhen a new TSC AF application session context needs to be established, the NF service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Create service operation by sending the HTTP POST request to the resource URI representing the \"TSC Application Sessions\" collection resource of the TSCTSF, as shown in figure 5.3.2.2.2-1, step 1.\nThe NF service consumer shall include the \"TscAppSessionContextData\" data type in the content of the HTTP POST request in order to request the creation of the \"Individual TSC Application Session Context\" resource. The \"Individual TSC Application Session Context\" resource and the \"Events Subscription\" sub-resource are created as described below.\nThe NF service consumer shall include in the \"TscAppSessionContextData\" data structure:\n-\tthe AF identifier within the \"afId\" attribute;\n-\twhen the \"GMEC\" feature is not supported, either the IP address (IPv4 or IPv6) of the PDU session within the \"ueIpAddr\" attribute for IP type PDU session or the MAC address of the DS-TT port within the \"ueMac\" attribute for Ethernet type PDU sessions;\n-\twhen the \"GMEC\" feature is supported, either the targeted UE within the \"ueId\" attribute or the targeted group of UE(s) within the \"externalGroupId\" attribute as defined in clause 5.3.2.2.8;\n-\teither the Application Id within the \"appId\" attribute or the flow information within:\na.\tfor IP flows, the \"flowInfo\" attribute; or\nb.\tfor Ethernet flows, either the \"ethFlowInfo\" attribute or, if the Ethernet_UL/DL_Flows feature is supported, the \"enEthFlowInfo\" attribute;\n-\tthe QoS reference within the \"qosReference\" attribute or the individual QoS parameter set (i.e. requested GBR, requested MBR, requested maximum burst size, requested priority if received and requested 5GS delay if received, and requested packet error rate if received) within the \"tscQosReq\" attribute;\n-\tthe input information to construct the TSC Assistance Container within the \"tscaiInputUl\" attribute and/or \"tscaiInputDl\" attribute of the \"tscQosReq\" attribute and the (g)PTP domain that the AF is located in within the \"tscaiTimeDom\" attribute of the \"tscQosReq\" attribute, if available; and\n-\tthe URI where the TSCTSF can request to the NF service consumer to delete the \"Individual TSC Application Session Context\" resource within the \"notifUri\" attribute;\nand may include:\n-\tthe DNN within the \"dnn\" attribute;\n-\tthe S-NSSAI within the \"snssai\" attribute;\n-\tthe domain identity in the \"ipDomain\" attribute;\n-\tif the \"EnTSCAC\" feature is supported, the capability for BAT adaptation in the \"capBatAdaptation\" attribute;\n-\tan ordered list of alternative QoS references within the \"altQosReferences\" attribute if the QoS reference is provided or an ordered list of requested alternative QoS parameters set(s) within the \"altQosReqs\" attribute if the individual QoS parameter set is provided. When the NF service consumer provides the \"altQosReferences\" attribute or the \"altQosReqs\" attribute, the NF service consumer shall also subscribe to receive notifications from the TSCTSF when the resources associated to the corresponding service information have been allocated as described in clause 5.3.2.2.5 and when the GBR QoS targets for one or more service data flows can no longer (or can again) be guaranteed, as described in clause 5.3.2.2.3;\nand\n-\tthe request of the notification of certain user plane events within the \"evSubsc\" attribute. Within the EventsSubscReqData data structure, the NF service consumer shall include:\na)\tthe URI where the TSCTSF sends the event notification to the NF service consumer within the \"notifUri\" attribute;\nb)\ta Notification Correlation Identifier for the requested notifications within the \"notifCorreId\" attribute;\nc)\tthe subscribed events within the \"events\" attribute;\nd)\tthe usage threshold within the \"usgThres\" attribute if the \"USAGE_REPORT\" event is subscribed; and\ne)\tQoS monitoring information within the \"qosMon\" attribute if the \"QOS_MONITORING\" event is subscribed.\nUpon the reception of this HTTP POST request, the TSCTSF shall:\n-\tconstruct the TSC Assistance Container based on information provided by the NF service consumer;\n-\tif the Requested 5GS delay including the requested 5GS delay within the individual QoS parameter set or within the requested alternative QoS parameters set(s) is received from NF service consumer, calculate a Requested PDB by subtracting the UE-DS-TT residence time either provided by the PCF or pre-configured at TSCTSF from the Requested 5GS delay;\n-\tif the time domain information is not received with the Burst Arrival Time or Periodicity within the \"tscQosReq\" attribute from the NF service consumer, the TSCTSF may indicate Time Domain = \"5GS\" within the \"tscaiTimeDom\" attribute within the \"tscQosReq\" attribute to indicate that the NF service consumer does not provide the time domain information;\nNOTE 1:\tThe Time Domain value corresponding to \"5GS\" is locally configured in the SMF and in the TSCTSF, and indicates that the AF does not provide a Time Domain and the provided TSCAI input information will be used without adjustments.\n-\tif the feature EnTSCAC is supported and if the NF service consumer includes the capability for BAT adaptation within the \"capBatAdaptation\" attribute or a BAT window within the \"burstArrivalTimeWnd\" attribute within the \"tscaiInputUl\" attribute and/or \"tscaiInputDl\" attribute of the \"tscQosReq\" attribute or the periodicity range in the \"periodicityRange\" attribute in the request, then the TSCTSF shall subscribe to the notification on BAT offset by using the \"EventsSubscReqData\" data type including an event within the \"events\" attribute with the \"event\" attribute set to \"BAT_OFFSET_INFO;\n-\tinteract with the PCF for the received UE address:\na)\tif the TSCTSF has an AF-session with the PCF for the received UE address, the TSCTSF shall interact with the PCF by triggering a Npcf_PolicyAuthorization_Update request to provision the related parameters to the PCF as defined in 3GPP TS 29.514 [20]; or\nb)\tif the TSCTSF does not have an AF-Session with the PCF for the received UE address, the TSCTSF shall discover the PCF for the PDU session as specified in 3GPP TS 29.521 [23], and shall interact with the PCF by triggering a Npcf_PolicyAuthorization_Create to provision the related parameters to the PCF as defined in 3GPP TS 29.514 [20]; and\nNOTE 2:\tIf the PCF determines an existing PDU Session is related with TSC traffic (based on local configuration or SM Policy Association), the PCF invokes Npcf_PolicyAuthorization_Notify service operation to the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC User Plane Node information. At that time, the TSCTSF retrieves from the BSF the PCF binding information, as specified in 3GPP TS 29.521 [23], and can create the AF-session by sending to the PCF the Npcf_PolicyAuthorization_Create service operation, if TSC related information, as e.g. QoS requirements, and/or subscription to PMIC(s)/UMIC updates need to be provided to the PCF.\nNOTE 3:\tAfter the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], the TSCTSF can store internally the received information and delay the Npcf_PolicyAuthorization_Create service operation (the creation of the AF-session). In this case, when the TSCTSF receives the QoS request, the TSCTSF interacts with the PCF by triggering a Npcf_PolicyAuthorization_Create request to provision the related parameters to the PCF as defined in 3GPP TS 29.514 [20].\n-\tif receiving a successful response from the PCF, the TSCSTF shall create an \"Individual TSC Application Session Context\" resource and send to the NF service consumer a \"201 Created\" response to the HTTP POST request, as shown in figure 5.3.2.2.2-1, step 2. If the \"evSubsc\" attribute is received, the \"Events Subscription\" sub-resource shall be created within the \"Individual TSC Application Session Context\" resource. The TSCTSF shall include in the \"201 Created\" response:\na)\ta Location header field; and\nb)\ta \"TscAppSessionContextData\" data type in the content.\nThe Location header field shall contain the URI of the created \"Individual TSC Application Session Context\" i.e. \"{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}\".\nWhen \"Events Subscription\" sub-resource is created in this procedure, the NF service consumer shall build the sub-resource URI by adding the path segment \"/events-subscription\" at the end of the URI path received in the Location header field.\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.2.7.\nThe TSCTSF may send the following error responses based on failed AF-session creation/update request responses received from the PCF as specified in 3GPP TS 29.514 [20]:\na.\tIf the TSCSTSF receives the indication that the PCF failed in executing session binding, the TSCTSF shall reject the HTTP POST request with an HTTP \"500 Internal Server Error\" response including the \"cause\" attribute set to \"PDU_SESSION_NOT_AVAILABLE\".\nb.\tIf the service information provided in the body of the HTTP POST request is rejected by the PCF (e.g. the subscribed guaranteed bandwidth for a particular user is exceeded or the authorized data rate in that slice for a UE is exceeded), the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the cause for the rejection including the \"cause\" attribute set to \"REQUESTED_SERVICE_NOT_AUTHORIZED\", as received.\nc.\tIf the service information provided in the body of the HTTP POST request is rejected due to a temporary condition in the network, the TSCTSF may include in the \"403 Forbidden\" response the \"cause\" attribute set to \"REQUESTED_SERVICE_TEMPORARILY_NOT_AUTHORIZED\". The TSCTSF may also provide a received retry interval within the \"Retry-After\" HTTP header field. When the NF service consumer receives the retry interval within the \"Retry-After\" HTTP header field, the NF service consumer shall not send the same service information to the TSCTSF again (for the same application session context) until the retry interval has elapsed. The \"Retry-After\" HTTP header is described in 3GPP TS 29.500 [4] clause 5.2.2.2.\nThe TSCTSF may additionally provide the received acceptable bandwidth within the attribute \"acceptableServInfo\" included in the \"ProblemDetailsTsctsfQosTscac\" data structure returned in the rejection response message.\nThe NF service consumer shall use the \"EventsSubscReqData\" data type as described in clause 5.3.2.2.2 and shall include in the HTTP POST request message an event within the \"evSubsc\" attribute with the \"event\" attribute set to \"QOS_GUARANTEED\" and an event within the \"evSubsc\" attribute with the \"event\" attribute set to \"QOS_NOT_GUARANTEED\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to QoS notification control as described in in 3GPP TS 29.514 [20].\nThe NF service consumer shall use the \"EventsSubscReqData\" data type as described in clause 5.3.2.2.2 and shall include in the HTTP POST request message an event entry within the \"evSubsc\" attribute with the \"event\" attribute set to \"FAILED_RESOURCES_ALLOCATION\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to service data flow deactivation as described in in 3GPP TS 29.514 [20].\nThe NF service consumer shall use the \"EventsSubscReqData\" data type as described in clause 5.3.2.2.2 and shall include in the HTTP POST request message:\n-\tif the NF service consumer requests the TSCTSF to provide a notification when the resources associated to the service information have been allocated, an event entry within the \"events\" attribute with the \"event\" attribute set to \"SUCCESSFUL_RESOURCES_ALLOCATION\"; and/or\n-\tif the NF service consumer requests the TSCTSF to provide a notification when the resources associated to the service information cannot be allocated, an event entry within the \"events\" attribute with the \"event\" attribute set to \"FAILED_RESOURCES_ALLOCATION\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to notification of resources allocation outcome as described in in 3GPP TS 29.514 [20].\nThe NF service consumer shall use the \"EventsSubscReqData\" data type as described in clause 5.3.2.2.2 and shall include in the HTTP POST request message an event within the \"evSubsc\" attribute with the \"event\" attribute set to \"QOS_MONITORING\" and include the QoS monitoring information with the \"qosMon\" attribute. Within the QosMonitoringInformation data structure, the AF shall include:\n-\tone or more requested QoS Monitoring Parameter(s) within the \"reqQosMonParams\"; and\n-\tone or more report frequency within the \"repFreqs\" attribute; and\n-\twhen the \"repFreqs\" attribute includes the value \"PERIODIC\", the periodic time for reporting and, if the feature \"PacketDelayFailureReport\" is supported, the maximum period with no QoS measurement results reported within the \"repPeriod\" attribute; and\n-\twhen the \"repFreqs\" attribute includes the value \"EVENT_TRIGGERED\", the AF shall include:\n-\tthe minimum waiting time between subsequent reports within the \"waitTime\" attribute; and\nfor QoS monitoring for packet delay:\n-\tthe delay threshold for downlink with the \"repThreshDl\" attribute;\n-\tthe delay threshold for uplink with the \"repThreshUl\" attribute; and/or\n-\tthe delay threshold for round trip with the \"repThreshRp\" attribute; and\n-\tif the feature \"PacketDelayFailureReport\" is supported, the maximum period with no QoS measurement results reported within the\"repPeriod\" attribute.\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to service data flow QoS monitoring information as described in in 3GPP TS 29.514 [20].\nThe NF service consumer may include in the HTTP POST request message described in clause 5.3.2.2.2 an application service provider identity and a sponsor identity within the \"aspId\" attribute and \"sponId\" attribute. Additionally, the NF service consumer may provide an indication to the TSCTSF of sponsored data connectivity not enabled by including the \"sponStatus\" attribute set to \"SPONSOR_DISABLED\".\nTo support the usage monitoring of sponsored data connectivity, the NF service consumer may subscribe with the TSCTSF to the notification of usage threshold reached. The NF service consumer may also include the \"evSubsc\" attribute with:\n-\tthe usage thresholds to apply in the \"usgThres\" attribute; and\n-\tan entry of the \"events\" attribute set to \"USAGE_REPORT\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall provision the sponsored data connectivity information to the PCF as described in 3GPP TS 29.514 [20].\nThe TSCTSF may send the following error responses based on the response to the provisioning of sponsored data connectivity information received from the PCF, as described in 3GPP TS 29.514 [20], as follows:\n-\tHTTP \"403 Forbidden\" response message with the \"cause\" attribute set to \"UNAUTHORIZED_SPONSORED_DATA_CONNECTIVITY\", when received from the PCF.\n-\tHTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"REQUESTED_SERVICE_NOT_AUTHORIZED\", when received from the PCF.\n5.3.2.2.8\tInitial provisioning of AF requested QoS for a UE or group of UE(s) not identified by UE address\nWhen the \"GMEC\" feature is supported, if the NF service consumer includes in the HTTP POST request message described in clause 5.3.2.2.2 the targeted UE identified by its GPSI, within the \"ueId\" attribute, or the targeted group of UE(s) identified by its External Group ID, within the \"externalGroupId\" attribute, the provisions of clause 5.3.2.2.2 shall apply with the following differences:\n-\tthe AF request information may include:\na.\tthe Temporal invalidity conditions, within the \"tempInValidity\" attribute;\nb.\tthe traffic characteristics information, within the \"evSubsc\" attribute;\nc.\tthe QoS parameters for monitoring, within the \"tscQosReq\" attribute;\nd.\tthe QoS parameters, within either the \"qosReference\" attribute, the \"altQosReferences\" attribute or the \"altQosReqs\" attribute; and/or\ne.\tthe flow description, within either the \"flowInfo\" attribute or the \"enEthFlowInfo\" attribute.\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2 with the following differences:\n-\tupon reception of the HTTP request from the NF service consumer, and if the request is authorized, the TSCTSF shall:\n-\tcreate a new \"Individual TSC Application Session Context\" resource;\n-\tif the \"externalGroupId\" attribute is received from the NF service consumer, interact with the UDM to retrieve the list of SUPI(s) identifying the UE(s) constituting the targeted group of UE(s) using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tif the \"ueId\" attribute is received from the NF service consumer, interact with the UDM to retrieve the SUPI that corresponds to the targeted GPSI using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tuse the parameters received from the NF service consumer (i.e., DNN, S-NSSAI and, if available, the identifier of the targeted UE or group of UE(s) to determine the corresponding AF-session(s) (i.e., to which they macth); and\n-\tfor each matching AF-session interact with the PCF by invoking the Npcf_PolicyAuthorization_Create/Update service operation as defined in 3GPP TS 29.514 [20] to create/update the AF session based on the provided requested QoS parameters; and\nNOTE 1:\tIf the PCF determines that an existing PDU Session is potentially impacted by the time synchronization service (based on local configuration or SM Policy Association), the PCF invokes Npcf_PolicyAuthorization_Notify service operation towards the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC User Plane Node information. The TSCTSF then retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], and can create the AF-session by invoking the Npcf_PolicyAuthorization_Create service operation towards the PCF.\n-\tthe TSCTSF shall handle the AF session(s) associated with a given \"Individual TSC Application Session Context\" resource as follows:\n-\tFor the association of the AF session(s) at the PCF to the \"Individual TSC Application Session Context\" resource:\na.\tUpon PDU Session establishment, i.e. when the TSCTSF receives a Npcf_PolicyAuthorization_Notify service operation following the establishment of a new PDU session, the TSCTSF shall retrieve from the BSF, as specified in 3GPP TS 29.521 [23], the PCF binding information to complete the necessary AF-Session information. The TSCTSF shall then trigger the Npcf_PolicyAuthorization_Create service operation towards the PCF to create an AF-session to subscribe to TSC user plane node related events. The TSCTSF shall use the parameters of the existing \"Individual TSC Application Session Context\" resources to determine whether they shall be associated to this newly created AF session. The TSCTSF associates the new AF session to the \"Individual TSC Application Session Context\" resource to which these parameters match.\nb.\tUpon \"Individual TSC Application Session Context\" resource creation, the TSCTSF uses the parameters of the created resource to determine which existing AF session(s) it matches. The TSCTSF then associates the new \"Individual TSC Application Session Context\" resource to the corresponding AF session(s).\n-\tTo remove an AF session from the list of AF session(s) associated to an \"Individual TSC Application Session Context\" resource, when the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation from the PCF indicating the termination of the corresponding existing PDU session, the TSCTSF triggers the Npcf_PolicyAuthorization_Delete service operation towards the PCF and determines if the corresponding AF session is associated with the \"Individual TSC Application Session Context\" resource. If it is so, the TSCTSF shall remove the AF session from the list of AF session(s) associated with the \"Individual TSC Application Session Context\" resource.\nNOTE 2:\tAfter the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], the TSCTSF can store internally the information required to invoke Npcf_PolicyAuthorization_Create service operation and delay the Npcf_PolicyAuthorization_Create service operation (the creation of the AF session) till a request is received for the concerned UE (time synchronization capability exposure or QoS provisioning request). In this case, when the TSCTSF receives the request, the TSCTSF interacts with the PCF by triggering Npcf_PolicyAuthorization_Create service operation as defined in 3GPP TS 29.514 [20].\nNOTE 3:\tWhen the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session associated to an AF session that it is not associated with any \"Individual Time Synchronization Exposure Subscription\" resource and \"Individual TSC Application Session Context resource\" resource, the TSCTSF removes the AF-session and triggers the Npcf_PolicyAuthorization_Delete service operation towards the PCF.\n5.3.2.2.9\tSubscription to BAT offset notification\nWhen the \"EnTSCAC\" feature is supported, The NF service consumer shall use the \"EventsSubscReqData\" data type and shall include in the HTTP POST request message an event entry within the \"evSubsc\" attribute with the \"event\" attribute set to \"BAT_OFFSET_INFO\" to subscribe to receive a notification when AF provides the Capability for BAT adaptation or BAT Window as defined in clause 5.3.2.2.2.\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to BAT offset notification as described in 3GPP TS 29.514 [20].\nThis service operation is used by an NF service consumer to request the network to update the QoS and/or additional Alternative QoS for an AF session.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Update service operation are supported:\n-\tModification of TSC related service information.\n-\tModification of Subscription to Service Data Flow QoS notification control.\n-\tModification of Subscription to Service Data Flow Deactivation.\n-\tModification of subscription to resources allocation outcome.\n-\tModification of Subscription to Service Data Flow QoS Monitoring Information.\n-\tModification of sponsored connectivity information.\n-\tModification of AF the requested QoS for a UE or a group of UE(s) not identified by UE address.\n-\tModification of subscription to BAT offset notification.\nThis procedure is used to modify an existing TSC application session context as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.3.2-1 illustrates the modification of TSC related service information using HTTP PATCH method.\n\nFigure 5.3.2.3.2-1 illustrates the modification of TSC (Timing Synchronization Code) related service information using HTTP PATCH, showcasing the process of updating the service's timing parameters through a secure and efficient web-based protocol. The figure highlights the importance of precise timing in network services, emphasizing the role of TSC in maintaining accurate synchronization across various network elements. The use of HTTP PATCH ensures that the update process is both secure and lightweight, allowing for quick and reliable modifications to the service information.\nFigure 5.3.2.3.2-1: Modification of TSC related service information using HTTP PATCH\nThe NF service consumer may modify the TSC application session context information at any time and invoke the Ntsctsf_QoSandTSCAssistance_Update service operation by sending the HTTP PATCH request message to the resource URI representing the \"Individual TSC Application Session Context\" resource, as shown in figure 5.3.2.3.2-1, step 1, with the modifications to apply.\nThe JSON body within the PATCH request shall include the \"TscAppSessionContextUpdateData\" data type and shall be encoded according to \"JSON Merge Patch\", as defined in IETF RFC 7396 [22].\nThe NF service consumer may include in the \"TscAppSessionContextUpdateData\" data structure:\n-\tthe updated flow information within the \"flowInfo\" attribute for IP flows or, either the \"ethFlowInfo\" or, if the Ethernet_UL/DL_Flows feature is supported, the \"enEthFlowInfo\" attribute for Ethernet flows;\n-\tthe updated application Id within the \"appId\" attribute;\n-\tthe updated QoS reference within the \"qosReference\" attribute or the updated individual QoS parameter set within the \"tscQosReq\" attribute;\n-\tthe updated input information to construct the TSC Assistance Container within the \"tscaiInputUl\" attribute and/or \"tscaiInputDl\" attribute of the \"tscQosReq\" attribute, and/or the updated (g)PTP domain that the AF is located in within the \"tscaiTimeDom\" attribute of the \"tscQosReq\" attribute;\n-\tif the \"EnTSCAC\" feature is supported, the capability for BAT adaptation in the \"capBatAdaptation\" attribute;\n-\tthe updated URI where the TSCTSF can request to the NF service consumer to delete the \"Individual TSC Application Session Context\" resource within the \"notifUri\".\n-\tthe updated ordered list of alternative QoS references within the \"altQosReferences\" attribute or updated ordered list of requested alternative QoS parameters set(s) within the \"altQosReqs\" attribute; and\n-\tthe updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data structure, the NF service consumer shall include:\n-\tthe new complete list of subscribed events within the \"events\" attribute;\n-\twhen the NF service consumer requests to update the additional information related to an event (e.g. the NF service consumer needs to provide new thresholds to the TSCTSF in the \"usgThres\" attribute related to the \"USAGE_REPORT\" event), the additional information within the corresponding attribute(s).\nNOTE 2:\tNote that when the NF service consumer requests to remove an event, this event is not included in the \"events\" attribute.\nNOTE 3:\tWhen an event is included in the \"events\" attribute and its related additional information is set to null, the TSCTSF considers the subscription to this event is active, but the related procedures stop applying.\nNOTE 4:\tWhen an event is removed from the \"events\" attribute but its related information is not set to null, the TSCTSF considers the subscription to this event is terminated, the related additional information is removed, and the related procedures stop applying.\nThe NF service consumer shall remove existing event subscription information by setting to null the \"evSubsc\" attribute included in \"TscAppSessionContextUpdateData\".\nNOTE 5:\tThe \"notifUri\" attribute within the EventsSubscReqData data structure can be modified to request that subsequent notifications are sent to a new NF service consumer.\nUpon the reception of this HTTP PATCH request, the TSCTSF shall\n-\tif the updated Requested 5GS delay including the requested 5GS delay within the individual QoS parameter set or within the requested alternative QoS parameters set(s) is received from NF service consumer, re-calculate a Requested PDB by subtracting the UE-DS-TT residence time provided by the PCF or pre-configured in the TSCTSF from the Requested 5GS delay;\n-\tupdate the TSC Assistance Container based on updated information provided by the NF service consumer;\n-\tif the time domain information is not received with the Burst Arrival Time or Periodicity within the \"tscQosReq\" attribute from the NF service consumer, the TSCTSF may indicate Time Domain = \"5GS\" within the \"tscaiTimeDom\" attribute within the \"tscQosReq\" attribute to indicate that the NF service consumer does not provide the time domain information;\nNOTE 6:\tThe Time Domain value corresponding to \"5GS\" is locally configured in the SMF and in the TSCTSF, and indicates that the AF does not provide a Time Domain and the provided TSCAI input information will be used without adjustments.\n-\tif the feature EnTSCAC is supported and if the NF service consumer during the modification includes the capability for BAT adaptation within the \"capBatAdaptation\" attribute or a BAT window within the \"burstArrivalTimeWnd\" attribute within the \"tscaiInputUl\" attribute and/or \"tscaiInputDl\" attribute of the \"tscQosReq\" attribute or the periodicity range in the \"periodicityRange\" attribute in the update request, then the TSCTSF shall subscribe to the notification on BAT offset by using the \"EventsSubscReqDataRm\" data type including an event within the \"events\" attribute with the \"event\" attribute set to \"BAT_OFFSET_INFO;\n-\tinteract with the PCF by triggering a Npcf_PolicyAuthorization_Update request to provision the related parameters to the PCF as defined in 3GPP TS 29.514 [20];\n-\tif receiving a successful response from the PCF, the TSCSTF shall update the \"Individual TSC Application Session Context\" resource and send a \"200 OK\" or \"204 No Content\" response to the HTTP POST request to the NF service consumer, as shown in figure 5.3.2.3.2-1, step 2.\nIf the TSCTSF cannot successfully fulfil the received HTTP PATCH request due to the internal TSCTSF error or due to the error in the HTTP PATCH request, the TSCTSF shall send the HTTP error response as specified in clause 6.2.7.\nThe TSCTSF may send the following error responses based on failed AF-session update responses received from the PCF as specified in 3GPP TS 29.514 [20]:\na.\tIf the updated service information is not acceptable for the PCF (e.g. the subscribed guaranteed bandwidth for a particular user is exceeded or the authorized data rate in that slice for the UE is exceeded), the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the received cause for the rejection including the \"cause\" attribute set to \"REQUESTED_SERVICE_NOT_AUTHORIZED\".\nb.\tIf the service information provided in the body of the HTTP POST request is rejected due to a temporary condition in the network, the TSCTSF may include in the \"403 Forbidden\" response the \"cause\" attribute set to \"REQUESTED_SERVICE_TEMPORARILY_NOT_AUTHORIZED\". The TSCTSF may also provide a received retry interval within the \"Retry-After\" HTTP header field. When the NF service consumer receives the retry interval within the \"Retry-After\" HTTP header field, the NF service consumer shall not send the same service information to the TSCTSF again (for the same application session context) until the retry interval has elapsed. The \"Retry-After\" HTTP header is described in 3GPP TS 29.500 [4] clause 5.2.2.2.\nThe TSCTSF may additionally provide the acceptable bandwidth within the attribute \"acceptableServInfo\" included in the \"ProblemDetailsTsctsfQosTscac\" data structure returned in the rejection response message.\nIf the TSCTSF determines the received HTTP PATCH request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThe NF service consumer shall use the HTTP PATCH method to update the \"Events Subscription\" sub-resource together with the modifications to the \"Individual TSC Application Sessions\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall include the \"events\" attribute with the \"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" values to indicate the subscription to QoS notification control or include the \"events\" but without the \"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" values to indicate the termination of the subscription to QoS notification control.\nAs result of this action, the TSCTSF shall set the appropriate subscription to QoS notification control as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.\nThe TSCTSF may send the following error responses based on the response to the provisioning of sponsored data connectivity information received from the PCF, as described in 3GPP TS 29.514 [20], as follows:\n-\tHTTP \"403 Forbidden\" response message with the \"cause\" attribute set to \"UNAUTHORIZED_SPONSORED_DATA_CONNECTIVITY\", when received from the PCF.\n-\tHTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"REQUESTED_SERVICE_NOT_AUTHORIZED\", when received from the PCF.\nThe NF service consumer shall use the HTTP PATCH method to update the \"Events Subscription\" sub-resource together with the modifications to the \"Individual TSC Application Sessions\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall include the \"events\" attribute with the \"FAILED_RESOURCES_ALLOCATION\" values to the subscription to service data flow deactivation or include the \"events\" but without \"FAILED_RESOURCES_ALLOCATION\" value to indicate the termination of the subscription to Service Data Flow Deactivation.\nAs result of this action, the TSCTSF shall set the appropriate subscription to QoS notification control as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.\nThe NF service consumer shall use the HTTP PATCH method to modify the \"Events Subscription\" sub-resource together with the modifications to the \"Individual TSC Application Sessions\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall include the \"events\" attribute with the \"SUCCESSFUL_RESOURCES_ALLOCATION\" value for the successful resource allocation and/or \"FAILED_RESOURCES_ALLOCATION\" value for the unsuccessful resource allocation to the subscription to resources allocation outcome or include the \"events\" but without \"SUCCESSFUL_RESOURCES_ALLOCATION\" and/or \"FAILED_RESOURCES_ALLOCATION\" value to indicate the termination of the subscription to resources allocation outcome.\nAs result of this action, the TSCTSF shall set the appropriate subscription to resources allocation outcome as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.\nThe NF service consumer shall use the HTTP PATCH method to update the \"Events Subscription\" sub-resource together with the modifications to the \"Individual TSC Application Sessions\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall perform as follows:\n-\tto create a subscription to QoS monitoring information:\na)\tinclude the \"events\" attribute with the \"QOS_MONITORING\" value; and\nb)\tinclude the updated QoS monitoring information within the \"qosMon\" attribute as defined in clause 5.3.2.2.6;\n-\tto remove a subscription to QoS monitoring information:\na)\tinclude the \"events\" attribute without \"QOS_MONITORING\".\nAs result of this action, the TSCTSF shall set the appropriate subscription to Service Data Flow QoS Monitoring Information as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.\nThe NF service consumer shall use the HTTP PATCH method to modify the sponsored connectivity information.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, an application service provider identity and a sponsor identity within the \"aspId\" attribute and \"sponId\" attribute, and optionally an indication of whether to enable or disable sponsored data connectivity within the \"sponStatus\" attribute set to the applicable value to provide sponsored connectivity information or to update existing sponsored connectivity information.\nIf the NF service consumer requests to enable sponsored data connectivity the NF service consumer shall change the \"sponStatus\" attribute value to \"SPONSOR_ENABLED\".\nIf the NF service consumer requests to disable sponsored data connectivity the NF service consumer shall provide an indication to disable sponsored data connectivity to the TSCTSF by setting the \"sponStatus\" attribute to \"SPONSOR_DISABLED\".\nTo support the usage monitoring of sponsored data connectivity, the NF service consumer may also include in the HTTP PATCH a new or modified \"evSubsc\" attribute with:\n-\tthe usage thresholds to apply in the \"usgThres\" attribute; and\n-\tan entry of the \"events\" attribute set to \"USAGE_REPORT\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.\nAs result of this action, the TSCTSF shall provision the updated sponsored data connectivity information to the PCF as described in in 3GPP TS 29.514 [20].\n5.3.2.3.8\tModification of AF requested QoS for a UE or group of UE(s) not identified by UE address\nWhen the \"GMEC\" feature is supported, the NF service consumer shall use the HTTP PATCH method to modify the requested QoS, traffic characteristics information and/or QoS Monitoring information for a UE or a group of UE(s).\nThe NF service consumer shall include in the HTTP PATCH request message the parameters to modify as described in clause 5.3.2.3.2, with the following differences:\n-\tTo support the request the modification of requested QoS, the traffic characteristics and monitoring of performance characteristics for a group, the NF service consumer may modify:\n-\tthe traffic characteristics information, within the \"evSubsc\" attribute;\n-\tthe QoS parameters for monitoring, within the \"tscQosReq\" attribute;\n-\tthe QoS parameters, within either the \"qosReference\" attribute, the \"altQosReferences\" attribute or the \"altQosReqs\" attribute;\n-\tthe temporal invalidity conditions, within the \"tempInValidity\" attribute; and\n-\tthe flow description, within either the \"flowInfo\" attribute or the \"enEthFlowInfo\" attribute.\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.\nAs result of this action, the TSCTSF shall, for the list of matching AF-session(s) associated to the \"Individual TSC Application Session Context\" resource, provision to the PCF the updated requested QoS, traffic characteristics and/or QoS Monitoring information by the triggering Npcf_PolicyAuthorization_Update service operation as defined in 3GPP TS 29.514 [20].\nWhen the \"EnTSCAC\" feature is supported, this procedure is used to modify in the TSCTSF the subscription to the BAT offset information notification.\nThe NF service consumer shall use the HTTP PATCH method to update the \"Events Subscription\" sub-resource together with the modifications to the \" Individual TSC Application Session\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall include the \"events\" attribute with the \"BAT_OFFSET_INFO\" to indicate the subscription to changes of the BAT offset and the optionally adjusted periodicity.\nAs result of this action, the TSCTSF shall set the appropriate subscription to resources allocation outcome as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2. The TSCTSF shall include the \"evsNotif\" attribute with an entry in the \"evNotifs\" array with the \"event\" attribute set to \"BAT_OFFSET_INFO\" and the \"batOffsetInfo\" attribute including the offset of the BAT and optionally an adjusted periodicity if the TSCTSF has previously subscribed with the PCF to changes in this information.\nThis service operation is used by an NF service consumer to request the network to delete the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Delete service operation are supported:\n-\tTSC AF application session context termination.\n-\tReporting usage for sponsored data connectivity.\n-\tTSC AF application session context termination for a UE or group of UE(s) not identified by UE address.\nThis procedure is used to terminate an AF application session context for the service as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.4.2-1 illustrates the application session context termination.\n\nFigure 5.3.2.4.2-1 illustrates the process of application session context termination, which is a crucial step in the end-to-end communication between a client and a server. The figure depicts the various stages of the process, including the establishment of a session, the transmission of data, and the eventual termination of the session. Key components of the figure include the client, the server, and the network elements that facilitate the communication. The figure also highlights the role of Quality of Service (QoS) in ensuring that the session is terminated efficiently, without affecting the performance of other ongoing sessions.\nFigure 5.3.2.4.2-1: Application session context termination\nWhen a TSC AF session is terminated, and if the TSC AF application session context was created as described in clause 5.3.2.2, the NF service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Delete service operation to the TSCTSF using an HTTP POST request, as shown in figure 5.3.2.4.2-1, step 1.\nThe NF service consumer shall set the request URI to \"{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/delete\".\nThe NF service consumer may include in the body of the HTTP POST the \"EventsSubscReqData\" data type with the \"evSubsc\" attribute indicating the corresponding list of events to subscribe to.\nWhen the TSCTSF receives the HTTP POST request from the NF service consumer, indicating the termination of the TSC AF application session context information, the TSCTSF shall acknowledge that request by sending an HTTP response message with the corresponding status code.\nIf the HTTP POST request from the NF service consumer is accepted, the TSCTSF shall send to the NF service consumer:\na)\tif event information is reported, TSCTSF shall defer sending the response to the NF service consumer and shall immediately interact with the PCF to terminate the AF session with the event report, as specified in 3GPP TS 29.514 [20]. After receiving the event information from the PCF, the TSCTSF shall send a \"200 OK\" response to HTTP POST request, as shown in figure 5.3.2.4.2-1, step 2a, including in the \"EventsNotification\" to report to the NF service consumer;\nb)\totherwise, the TSCTSF shall send to the NF service consumer a \"204 No Content\".\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.2.7.\nIf the TSCTSF determines the received HTTP POST request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nWhen The NF service consumer indicated to enable sponsored data connectivity and the NF service consumer provided usage thresholds for such sponsor to the TSCTSF, the TSCTSF shall report accumulated usage to the NF service consumer using the response of the Ntsctsf_QoSandTSCAssistance_Delete service operation.\nThis procedure is initiated when:\n-\tthe \"Individual TSC Application Session\" is deleted by the NF service consumer; or\n-\tthe TSCTSF requests the deletion of the \"Individual TSC Application Session\" to the NF service consumer, as described in clause 5.2.2.5.3, due to PDU session termination, the termination of all the service data flows of the Individual TSC Application Session.\nTo report the accumulated usage, the TSCTSF shall immediately configure the PCF to retrieve the accumulated usage as specified in 3GPP TS 29.514 [20]. When the TSCTSF receives the usage information from the PCF, the TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the response of the HTTP POST request as described in clause 5.3.2.4.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"USAGE_REPORT\" within the \"event\" attribute;\n-\taccumulated usage within the \"usgRep\" attribute.\n5.3.2.4.4\tTSC AF application session context termination for a UE or group of UE(s) not identified by UE address\nWhen the \"GMEC\" feature is supported, the NF service consumer shall use the HTTP POST method to terminate the requested QoS, traffic characteristics information and/or QoS Monitoring information for a UE or a group of UE(s) as described in clause 5.3.2.4.2 with the following differences:\n-\tthe TSCTSF shall identify the affected AF session(s) and, for each AF session, interact with the PCF by triggering the Npcf_PolicyAuthorization_Delete service operation as defined in 3GPP TS 29.514 [20], if the AF session is not associated with an \"Individual Time Synchronization Exposure Subscription\" resource.\nThe Ntsctsf_QoSandTSCAssistance_Notify service operation enables notification to NF service consumers that the previously subscribed event for the existing TSC application session context occurred or that the TSC application session context is no longer valid.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Notify service operation are supported:\n-\tNotification about TSC application session context event.\n-\tNotification about TSC application session context termination.\n-\tNotification about Service Data Flow QoS notification control.\n-\tNotification about Service Data Flow Deactivation\n-\tNotification about resources allocation outcome.\n-\tNotification about Service Data Flow QoS Monitoring control.\n-\tReporting usage for sponsored data connectivity.\n-\tNotification about AF requested QoS for a UE or group of UE(s) not identified by UE address.\n-\tNotification about BAT offset.\nThis procedure is invoked by the TSCTSF to notify the NF service consumer when a certain, previously subscribed, application session context event occurs, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.5.2-1 illustrates the notification about TSC application session context event.\n\nFigure 5.3.2.5.2-1 illustrates a notification about an application session context event, which is a crucial aspect of network communication. The figure shows the various components involved in the process, including the application, session, and context. The session context is a key element that helps maintain the state of the session, while the application context provides information about the application itself. The figure highlights the importance of these contexts in ensuring smooth communication between different network entities.\nFigure 5.3.2.5.2-1: Notification about application session context event\nWhen the TSCTSF determines that the event for the existing TSC AF application session context, to which the NF service consumer has subscribed to, occurred e.g. upon reception of an event notification for a PDU session from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall invoke the Ntsctsf_QoSandTSCAssistance_Notify service operation by sending the HTTP POST request (as shown in figure 5.3.2.5.2-1, step 1) to the NF service consumer using the notification URI received in the subscription creation (or modification), as specified in clause 5.3.2.2.2, 5.3.2.3.2, and 5.3.2.6, and appending the \"notify\" segment path at the end of the URI. The TSCTSF shall provide in the body of the HTTP POST request the \"EventsNotification\" data type including:\n-\tthe notification correlation Id within the \"notifCorreId\"; and\n-\tthe list of the reported events in the \"events\" attribute.\nThe NF service consumer notification of other specific events using the Ntsctsf_QoSandTSCAssistance_Notify request is described in the related clauses.\nUpon the reception of the HTTP POST request from the TSCTSF indicating that the PDU session and/or service related event occurred, the NF service consumer shall acknowledge that request by sending an HTTP response message with the corresponding status code.\nIf the HTTP POST request from the TSCTSF is accepted, the NF service consumer shall acknowledge the receipt of the event notification with a \"204 No Content\" response to HTTP POST request, as shown in figure 5.3.2.5.2-1, step 2.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.2.7.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nThis procedure is invoked by the TSCTSF to notify the NF service consumer that the TSC application session context is no longer valid, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.2.2.5.3-1 illustrates the notification about application session context termination.\n\n\nFigure 5.2.2.5.3-1 illustrates the process of a TSC application session context termination notification. The figure depicts the communication between the TSC application, the TSC manager, and the TSC service. Key components include the TSC application, TSC manager, and TSC service, which work together to manage session contexts and ensure efficient communication. The figure highlights the importance of timely notification and coordination between these components for smooth operation in telecommunication systems.\nFigure 5.2.2.5.3-1: Notification about TSC application session context termination\nWhen the TSCTSF determines that the TSC application session context is no longer valid, the TSCTSF shall invoke the Ntsctsf_QoSandTSCAssistance_Notify service operation by sending the HTTP POST request (as shown in figure 5.2.2.5.3-1, step 1) using the notification URI received in the \"Individual TSC Application Session Context\" context creation, as specified in clause 5.3.2.2, and appending the \"terminate\" segment path at the end of the URI, to trigger the NF service consumer to request the TSC application session context termination (see clause 5.3.2.4.2). The TSCTSF shall provide in the body of the HTTP POST request the \"TerminationInfo\" data type including:\n-\tthe Individual TSC Application Session Context resource identifier related to the termination notification in the \"resUri\" attribute; and\n-\tthe TSC application session context termination cause in the \"termCause\" attribute.\nUpon the reception of the HTTP POST request from the TSCTSF requesting the TSC application session context termination, the NF service consumer shall acknowledge that request by sending an HTTP response message with the corresponding status code.\nIf the HTTP POST request from the TSCTSF is accepted, the NF service consumer shall acknowledge the receipt of the TSC application session context termination request with a \"204 No Content\" response to HTTP POST request (as shown in figure 5.2.2.5.3-1, step 2) and shall invoke the Ntsctsf_QoSandTSCAssistance_Delete service operation to the TSCTSF as described in clause 5.3.2.4.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.2.7.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nWhen the TSCTSF receives the notification about Service Data Flow QoS notification control from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.3 and 5.3.2.3.3.\nThe TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"QOS_GUARANTEED\" or \"QOS_NOT_GUARANTEED\" within the \"event\" attribute;\n-\tthe identification of the affected service flows (if not all the flows are affected) encoded in the \"flowIds\" attribute if applicable; and\n-\tthe reference to the Alternative Service Requirement corresponding alternative QoS parameter set if received from the PCF within the \"appliedQosRef\" attribute. When the \"appliedQosRef\" attribute is omitted and the \"event\" attribute is QOS_NOT_GUARANTEED, it indicates that the lowest priority alternative QoS profile could not be fulfilled.\nWhen the \"AltQoSProfilesSupportReport\" feature as defined in clause 6.2.8 is supported, and the NF service consumer included the \"altQosReferences\" attribute for the provided QoS reference, or the \"AltQosReqs\" attribute for the provided individual QoS parameter set, if the TSCTSF receives from the PCF the indication that the GBR QoS targets cannot be guaranteed and the indication that alternative QoS profiles are not supported in the NG-RAN where the UE is currently located as specified in 3GPP TS 29.514 [20], the TSCTSF may include within the EventNotification data structure the \"altQosNotSuppInd\" attribute set to true. When the Alternative QoS profiles are supported by the NG-RAN where the UE is currently located, the TSCTSF may omit or set the \"altSerReqNotSuppInd\" attribute to false, as indicated by the PCF.\nWhen the TSCTSF receives the notification about service data flow deactivation from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.4 and 5.3.2.3.4.\nThe TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"FAILED_RESOURCES_ALLOCATION\" within the \"event\" attribute;\n-\tthe identification of the affected service flows (if not all the flows are affected) encoded in the \"flowIds\" attribute if applicable.\nWhen the TSCTSF receives the notification about resources allocation outcome from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.5 and 5.3.2.3.5.\nThe TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"SUCCESSFUL_RESOURCES_ALLOCATION\" within the \"event\" attribute if the \"SUCCESSFUL_RESOURCES_ALLOCATION\" event is received from the PCF or \"FAILED_RESOURCES_ALLOCATION\" within the \"event\" attribute if the \"FAILED_RESOURCES_ALLOCATION\" event is received from the PCF;\n-\tthe identification of the affected service flows (if not all the flows are affected) encoded in the \"flowIds\" attribute if applicable.\n-\twhen the event is \"SUCCESSFUL_RESOURCES_ALLOCATION\", the reference to the Alternative Service Requirement corresponding alternative QoS parameter set if received from the PCF within the \"appliedQosRef\" attribute.\nWhen the TSCTSF receives the notification about Service Data Flow QoS Monitoring control from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.6 and 5.3.2.3.6.\nThe PCF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"QOS_MONITORING\" within the \"event\" attribute;\n-\tthe identification of the affected service flows (if not all the flows are affected) encoded in the \"flowIds\" attribute if applicable; and\n-\tthe \"qosMonReports\" array with the monitored QoS information. For QoS monitoring for packet delay:\na)\t\tone or two uplink packet delays within the \"ulDelays\" attribute;\nb)\tone or two downlink packet delays within the \"dlDelays\" attribute; and/or\nc)\tone or two round trip packet delays within the \"rtDelays\" attribute; and\nd)\tif the feature \"PacketDelayFailureReport\" is supported, the packet delay measurement failure indicator within \"pdmf\" attribute.\nWhen the NF service consumer enabled sponsored data connectivity and the NF service consumer provided usage thresholds for such sponsor to the TSCTSF, the TSCTSF shall report accumulated usage to the NF service consumer using the Npcf_PolicyAuthorization_Notify service operation when:\n-\tthe TSCTSF detects that the usage threshold provided by the NF service consumer has been reached; or\n-\tthe NF service consumer disables the sponsored data connectivity.\nThe TSCTSF shall notify the NF service consumer of the accumulated usage by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"USAGE_REPORT\" within the \"event\" attribute;\n-\taccumulated usage within the \"usgRep\" attribute.\nWhen the NF service consumer receives the HTTP POST request, it shall acknowledge the request by sending a \"204 No Content\" response to the TSCTSF. The NF service consumer may terminate the Individual Application Session Context sending an HTTP POST as described in clause 5.3.2.4.2 or update the Individual Application Session Context information by providing a new usage threshold sending an HTTP PATCH request to the TSCTSF as described in clause 5.3.2.3.2 or an HTTP PUT request to the TSCTSF as described in clause 5.3.2.6.2.\n5.3.2.5.9\tNotification about AF requested QoS for a UE or group of UE(s) not identified by UE address.\nWhen the TSCTSF receives a notification about the requested QoS, traffic characteristics information and/or QoS Monitoring information from the PCF as described in 3GPP TS 29.514 [20] for an AF-session associated with an existing \"Individual TSC Application Session Context\" resource, the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.8 and 5.3.2.3.8.\nThe TSCTSF shall notify the NF service consumer by including the EventsNotification data type in the body of the HTTP POST request as described in clause 5.3.2.5.2. The TSCTSF notification of the specific events is described in the related clauses of the current specification (e.g. notification about service data flow QoS monitoring when the AF requested QoS for a UE or group of UE(s) as described in clause 5.3.2.5.7).\nWhen the TSCTSF receives the notification about network provided BAT offset from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer included the capability for BAT adaptation or a BAT window or the periodicity range as described in the clauses 5.3.2.2.8 and 5.3.2.3.8.\nThe PCF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall include:\n-\tin the \"events\" attribute an entry with the \"event\" attribute set to \"BAT_OFFSET_INFO\"; and\n-\tthe \"batOffsetInfo\" attribute containing the offset of the BAT and the optionally adjusted periodicity. The \"BatOffsetInfo\" data type shall contain the BAT offset of the arrival time in the \"ranBatOffsetNotif\" attribute, and the optionally adjusted periodicity of the data bursts encoded in the \"adjPeriod\" attribute.\nThe Ntsctsf_QoSandTSCAssistance_Subscribe service operation enables NF service consumers handling of subscription to events for the existing TSC application session context. Subscription to events shall be created:\n-\twithin the application session context establishment procedure by invoking the Ntsctsf_QoSandTSCAssistance_Subscribe service operation, as described in clause 5.3.2.2; or\n-\twithin the TSC application session context modification procedure by invoking the Ntsctsf_QoSandTSCAssistance_Subscribe service operation, as described in clause 5.3.2.3; or\n-\tby invoking the Ntsctsf_QoSandTSCAssistance_Subscribe service operation for the existing TSC application session context, as described in clause 5.3.2.6.2.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Subscribe service operation is supported:\n-\tHandling of subscription to events for the existing TSC application session context.\n-\tSubscription to Service Data Flow QoS Monitoring Information.\n-\tSubscription to Usage Monitoring of Sponsored Data Connectivity.\nThis procedure is used to create a subscription to events for the existing TSC AF application session context bound to the corresponding PDU session or to modify an existing subscription, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.6.2-1 illustrates the creation of events subscription information using HTTP PUT method.\n\nFigure 5.3.2.6.2-1 illustrates the process of creating event subscription information through an HTTP PUT request. The figure depicts a client device sending a request to a server, which then processes the data and stores the necessary information for event subscription. Key components include the client device, the server, and the event subscription information. The figure highlights the importance of secure communication protocols in maintaining privacy and integrity during data transmission.\nFigure 5.3.2.6.2-1: Creation of events subscription information using HTTP PUT\nFigure 5.3.2.6.2-2 illustrates the modification of events subscription information using HTTP PUT method.\n\nFigure 5.3.2.6.2-2 illustrates the modification of events subscription information using HTTP PUT, showcasing the process of updating subscriber data in a telecommunications system. The figure depicts the interaction between the client and the server, highlighting the exchange of data through the HTTP protocol. Key components include the client, server, and event subscription information, which are essential for maintaining accurate and up-to-date records in the system. The use of HTTP PUT emphasizes the importance of secure and efficient data transmission in real-time communication systems.\nFigure 5.3.2.6.2-2: Modification of events subscription information using HTTP PUT\nWhen the NF service consumer decides to create a subscription to one or more events for the existing TSC application session context or to modify an existing subscription previously created by itself at the TSCTSF, the NF service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Subscribe service operation by sending the HTTP PUT request to the resource URI representing the \"Events Subscription\" sub-resource in the TSCTSF, as shown in figure 5.3.2.6.2-1, step 1 and figure 5.3.2.6.2-2, step 1. The NF service consumer shall provide in the \"EventsSubscReqData\" data type of the body of the HTTP PUT request:\n-\tthe \"events\" attribute with the list of events to be subscribed;\n-\tthe \"notifUri\" attribute that includes the Notification URI to indicate to the TSCTSF where to send the notification of the subscribed events;\n-\tthe notification correlation Id within the \"notifCorreId\" attribute; and\n-\tthe specific event information related to the subscribed event, e.g. QoS monitoring information within the \"qosMon\" attribute if the \"QOS_MONITORING\" event is subscribed.\nNOTE:\tThe \"notifUri\" attribute within the EventsSubscReqData data structure can be modified to request that subsequent notifications are sent to a new NF service consumer.\nUpon the reception of the HTTP PUT request from the NF service consumer, the TSCTSF shall decide whether the received HTTP PUT request is accepted.\nIf the TSCTSF accepted the HTTP PUT request to create a subscription to events, the TSCTSF shall create the \"Events Subscription\" sub-resource and shall send the HTTP response message to the NF service consumer as shown in figure 5.3.2.6.2-1, step 2. The TSCTSF shall include in the \"201 Created\" response:\n-\ta Location header field that shall contain the URI of the created \"Events Subscription\" sub-resource i.e. \"{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/events-subscription\"; and\n-\ta response body with the \"EventsSubscReqData\" data type representing the created \"Events Subscription\" sub-resource.\nIf the TSCTSF accepted the HTTP PUT request to modify the events subscription, the TSCTSF shall modify the \"Events Subscription\" sub-resource and shall send to the NF service consumer:\n-\tthe HTTP \"204 No Content\" response (as shown in figure 5.3.2.6.2-2, step 2a); or\n-\tthe HTTP \"200 OK\" response (as shown in figure 5.3.2.6.2-2, step 2b) including in the \"EventsSubscReqData\" data type the updated representation of the \"Events Subscription\" sub-resource.\nIf the HTTP PUT request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.2.7.\nIf the TSCTSF determines the received HTTP PUT request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis procedure is used by NF service consumer to subscribe and/or modify the subscription for notification about service data flow QoS monitoring information.\nThe NF service consumer shall include in the HTTP PUT request message the \"EventsSubscReqData\" data type, which shall contain:\n-\tto create a subscription to QoS monitoring information:\n-\tthe \"events\" attribute with an entry containing the value \"QOS_MONITORING\" to create a subscription to notification about service data flow QoS monitoring information;\n-\tinclude the updated QoS monitoring information within the \"qosMon\" attribute as defined in clause 5.3.2.2.6\n-\tto remove a subscription to QoS monitoring information:\n-\tthe \"events\" attribute containing an array that omits the values \"QOS_MONITORING\".\nThe NF service consumer shall include other events related information as described in clause 5.3.2.6.1.\nAs result of this action, the TSCTSF shall set the appropriate subscription to service data flow QoS monitoring information as described in in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.6.1.\nThis procedure is used by NF service consumer to subscribe and/or modify the subscription for notification about usage monitoring of sponsored data connectivity.\nThe NF service consumer shall include in the HTTP PUT request message the \"EventsSubscReqData\" data type, which shall contain:\n-\tto create a subscription to usage monitoring of sponsored data connectivity:\n-\tthe \"events\" attribute with an entry containing the value \"USAGE_REPORT\" to create a subscription to notification about usage monitoring of sponsored data connectivity;\n-\tinclude the usage thresholds to apply in the \"usgThres\" attribute.\n-\tto remove a subscription to usage monitoring of sponsored data connectivity:\n-\tthe \"events\" attribute containing an array that omits the values \"USAGE_REPORT\".\nThe NF service consumer shall include other events related information as described in clause 5.3.2.6.1.\nAs result of this action, the TSCTSF shall set the appropriate subscription to usage monitoring of sponsored data connectivity as described in in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.6.1.\nThe Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation enables NF service consumers to remove subscription to all subscribed events for the existing TSC application session context. Subscription to events shall be removed:\n-\tby invoking the Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation for the existing application session context, as described in clause 5.3.2.7.2; or\n-\twithin the application session context modification procedure by invoking the Ntsctsf_QoSandTSCAssistance_Update service operation, as described in clause 5.3.2.3; or\n-\twithin the TSC application session context termination procedure by invoking the Ntsctsf_QoSandTSCAssistance_Delete service operation, as described in clause 5.3.2.4.\nThe following procedure using the Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation is supported:\n-\tUnsubscription to events.\nThis procedure is used to unsubscribe to all subscribed events for the existing TSC AF application session context, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.7.2-1 illustrates the unsubscription to events using the HTTP DELETE method.\n\nFigure 5.3.2.7.2-1 illustrates the process of removing events subscription information using HTTP DELETE. The figure depicts a client sending a DELETE request to a server, which then removes the specified event subscription. The diagram highlights the importance of secure communication protocols, such as HTTPS, in ensuring the confidentiality and integrity of the data exchanged during this operation. The use of HTTP DELETE is a best practice for managing resources in a RESTful architecture, as it allows for a clean and efficient way to remove data from the server.\nFigure 5.3.2.7.2-1: Removal of events subscription information using HTTP DELETE\nWhen the NF service consumer decides to unsubscribe to all subscribed events for the existing TSC application session context, the NF service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation by sending the HTTP DELETE request message to the resource URI representing the \"Events Subscription\" sub-resource in the TSCTSF, as shown in figure 5.3.2.7.2-1, step 1.\nUpon the reception of the HTTP DELETE request message from the NF service consumer, the TSCTSF shall decide whether the received HTTP request message is accepted.\nIf the HTTP DELETE request message from the NF service consumer is accepted, the TSCTSF shall delete \"Events Subscription\" sub-resource and shall send to the NF service consumer a HTTP \"204 No Content\" response message. The TSCTSF may delete the existing subscription to event notifications for the related PDU session from the PCF as described in 3GPP TS 29.514 [20].\nIf the HTTP DELETE request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP DELETE request the cause for the rejection as specified in clause 6.2.7.\nIf the TSCTSF determines the received HTTP DELETE request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.2.1-1: Ntsctsf_TimeSynchronization Service Operations",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.4\tNtsctsf_ASTI Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.4.1\tService Description",
                            "text_content": "This service provides:\n-\tAuthorization of NF Service Consumer requests for the activation, update, and deactivation of the 5G access stratum time distribution.\nNOTE:\tThe AF can use either the procedure specified in bullet 1) and 2) of clause 5.2.1.1 for configuring the (g)PTP instance in 5GS or the procedure specified in Ntsctsf_ASTI service for controlling the 5G access stratum time distribution for a particular UE. The procedures are not intended to be used in conjunction.\n-\tDetection and reporting of time synchronization service status based on gNB and/or UPF/NW-TT timing synchronization status information and reporting status updates.\n-\tDetection and reporting of changes of the state of 5G access time distribution configuration based e.g. on evaluation of the time synchronization coverage area conditions.\nThe TSCTSF supports to:\n-\treceive the request to activate or update the 5G access stratum time distribution configuration from the NEF or AF and provide it for the target UE(s) to the PCF;\n-\treceive the request to delete the 5G access stratum time distribution configuration from the NEF or AF and provide it for the target UE(s) to the PCF;\n-\treceive the request to query the status of the access stratum time distribution from the NEF or AF and respond to the NEF or AF with the status of the access stratum time distribution;\n-\tmake a translation from External/Internal Group Identifier to a list of SUPI by querying UDM;\n-\tretrieve the Time Synchronization Subscription data from UDM for the control of 5G access stratum-based time distribution and make decision based on received the Time Synchronization Subscription data;\n-\tdetermine whether the UE is inside/outside the requested time synchronization coverage area and enforce the 5G access stratum time distribution service accordingly;\n-\tindicate whether the service is supported or not as per the requested acceptance criteria (e.g., based on the known timing synchronization status attribute thresholds pre-configured at gNB); and\n-\tbased on gNB and/or UPF/NW-TT timing synchronization status (degradation/failure/improvement) information and reporting, provide a notification when there is a service status update if the NEF or AF subscribe to service status updates.\nThe NF service consumer supports to:\n-\tsend the request to create, modify and delete the 5G access stratum time distribution configuration to the TSCTSF;\n-\tquery the status of the access stratum time distribution configuration;\n-\tprovide clock quality reporting control information, consisting of clock quality detail level and clock quality acceptance criteria, during activation or modification of time synchronization service;\n-\tsubscribe to time synchronization service status for the target UE(s); and\n-\treceive notifications about the state and changes of state of 5G access stratum time distribution configuration.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.4.2\tService Operations",
                            "text_content": "Service operations defined for the Ntsctsf_ASTI service are shown in table 5.4.2.1-1.\nTable 5.4.2.1-1: Ntsctsf_ASTI Service Operations\n\nNOTE:\tThe NEF and the AF use the Ntsctsf_ASTI service in the same way.\nThis service operation is used by an NF service consumer to create a 5G access stratum time distribution configuration.\nThe following procedures using the Ntsctsf_ASTI_Create service operation are supported:\n-\tcreating a new configuration.\nFigure 5.4.2.2.2-1 illustrates the creation of a configuration.\nFigure 5.4.2.2.2-1 illustrates the process of creating a configuration in a telecommunication system. The figure depicts a flowchart with various steps, including defining the configuration, setting up the system, and testing the configuration. Key components include the configuration manager, system manager, and test manager. The flowchart emphasizes the importance of proper configuration and testing to ensure system functionality and reliability.\nFigure 5.4.2.2.2-1: Creation of a configuration\nTo create a configuration, the NF service consumer shall send an HTTP POST message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations\". The HTTP POST message shall include the AccessTimeDistributionData data structure as request body, as shown in figure 5.4.2.2.2-1, step 1. The AccessTimeDistributionData data structure shall include:\n-\tone of the indication of the UEs to which the 5G access stratum time distribution configuration is requested via:\n-\tidentification of a list of individual UEs within the \"supis\" attribute; or\n-\tidentification of a group of UE(s) within the \"interGrpId\" attribute;\n-\tidentification of a list of individual UEs within the \"gpsis\" attribute;\n-\tidentification of a group of UE(s) within the \"exterGrpId\" attribute; and\n-\t5G access stratum time distribution parameters within the \"asTimeDisParam\" attribute.\nWithin the \"asTimeDisParam\" attribute inside the AccessTimeDistributionData data structure, the NF service consumer:\n-\tshall include the \"asTimeDisEnabled\" attribute set to true if the access stratum time distribution via Uu reference point should be activated. Otherwise, if the access stratum time distribution via Uu reference point should be inactive, the \"asTimeDisEnabled\" attribute may either be omitted or included and set to \"false\";\n-\tmay include the time synchronization error budget within the \"timeSyncErrBdgt\" attribute;\n-\tmay include the temporal validity condition within the \"tempValidity\" attribute; and\n-\tmay indicate whether and which clock quality information to provide to the UE by including the clock quality detail level in the \"clkQltDetLvl\" attribute and optionally the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute, if applicable.\nWhen the \"CoverageAreaSupport\" feature is supported, the AccessTimeDistributionData data structure may include the time synchorinization coverage area encoded as \"covReq\" attribute, that contains a list of Tracking Area codes per serving network where the provided access stratum time distribution data applies.\nWhen the \"ASTIConfigReport\" feature is supported, to receive notifications about changes in the 5G access stratum time distribution configuration, the NF service consumer shall also provide the notification URI within the \"astiNotifUri\" attribute and the notification correlation Id within the \"astiNotifId\" attribute. When the \"NetTimeSyncStatus\" feature is supported, the NF service consumer may also include the clock quality detail level in the \"clkQltDetLvl\" attribute and the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute to indicate the subscription to notification of the status of the access stratum time distribution service.\nUpon receipt of the HTTP request from the NF service consumer, if the request is authorized, the TSCTSF shall:\n-\tif the 5G access stratum time distribution configuration applies to an internal group of UEs indicated in the \"interGrpId\" attribute or to an external group of UEs indicated in the \"exterGrpId\" attribute, interact with the UDM to retrieve the list of individual UEs that belong to the group using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tif the 5G access stratum time distribution configuration applies to a list of individual UEs within the \"gpsis\" attribute, interact with the UDM to retrieve the SUPI(s) that corresponds to each of the GPSI(s) using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tThe TSCTSF retrieves the UE's Time Synchronization Subscription data from the UDM for each individual UE. If the UE's Time Synchronization Subscription data contains the authorized Uu time synchronization error budget, and the requested time synchronization error budget within the \"timeSyncErrBdgt\" attribute is within the authorized time synchronization error budget, the TSCTSF determines that the UE is authorized for the requested time synchronization service.\n-\tif the \"CoverageAreaSupport\" feature is supported and a time synchronization coverage area is provided within the \"covReq\" attribute, perform the following operations:\na.\tif the Authorized Time Synchronization Coverage Area is inside of the requested Coverage Area, the TSCTSF uses the Authorized Time Synchronization Coverage Area. If the requested Coverage Area partly overlaps with the Authorized Time Synchronization Coverage Area, the TSCTSF uses the intersection of them. If there is no overlap between them, the TSCTSF shall reject the AF request as described in clause 5.27.1.11 of 3GPP TS 23.501 [2].\nb.\tthe TSCTSF shall discover the list of AMF(s) serving the list of TA(s) that comprise the time synchronization coverage area using the Nnrf_NFDiscovery service operation as described in 3GPP TS 29.510 [10], if they were not previously retrieved, and:\nc.\tsubscribe with the discovered AMF(s):\n1.\tfor each UE, e.g. when the 5G access stratum time distribution configuration applies to a list of individual UEs, and the UE time synchronization coverage area within the \"covReq\" attribute is within the authorized time synchronization coverage area; or\n2.\tfor the group of UEs, when the 5G access stratum time distribution configuration applies to a group of UEs.\nTo receive notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27], where the Area of Interest is the provided time synchronization coverage area.\nd.\tBased on the outcome provided by the AMF about the UE’s presence in the Area of Interest and the authorized time synchronization coverage area, the TSCTSF shall determine if the 5G access stratum time distribution configuration is enabled for the UE:\ni.\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is fulfilled, and the provided 5G access stratum time distribution configuration is enabled for the UE.\nii.\tIf the UE presence is not within any of the TAs from the time synchronization coverage area, the TSCTSF determines that the time synchronization coveragae area condition is not fulfilled, and the provided 5G access stratum time distribution configuration is not enabled for the UE.\n-\tThe TSCTSF retrieves the UE's Time Synchronization Subscription data from the UDM for each individual UE. If the UE's Time Synchronization Subscription data contains the periods of authorized start and stop times, and the requested temporal validity condition within the \"tempValidity\" attribute is within any of the authorized periods of authorized start and stop times, the TSCTSF determines that the UE is authorized for the requested time synchronization service.\n-\tfor each authorized UE, subscribe to event notifications of newly registered PCF for the UE by invoking Nbsf_Management_Subscribe Service Operation as defined in 3GPP TS 29.521 [23], if not yet subscribed;\n-\tfor each authorized UE, if the access stratum time distribution via Uu reference point is being activated (i.e. the \"asTimeDisEnabled\" attribute within the \"asTimeDisParam\" attribute was received and set to true), calculate the Uu time synchronization error budget as specified in clauses 5.27.1.9 and 5.27.1.11 of 3GPP TS 23.501 [2];\n-\tfor each authorized UE, if clock quality information was provided, the authorized clock quality detail level within the \"clkQltDetLvl\" attribute and optionally the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute, if applicable;\n-\tfor each authorized UE, interact with the PCF for a UE to provide the configuration information for each target UE using the Npcf_AMPolicyAuthorization_Create service operation as defined in 3GPP TS 29.534 [14];\n-\tcreate a new resource, which represents a new \"Individual ASTI Configuration\" resource, addressed by a URI as defined in clause 6.1.3.7 and containing a TSCTSF created resource identifier; and\n-\tsend an HTTP \"201 Created\" response with AccessTimeDistributionData data structure as response body and a Location header field containing the URI of the created Individual ASTI Configuration resource, i.e. \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\", as shown in figure 5.4.2.2.2-1, step 2.\nIf for all the affected UEs the provided parameters are not allowed by subscription, the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERVICE_NOT_AUTHORIZED\".\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.\nThis service operation is used by an NF service consumer to update a 5G access stratum time distribution configuration.\nThe following procedures using the Ntsctsf_ASTI_Update service operation are supported:\n-\tUpdating an existing configuration.\nFigure 5.4.2.3.2-1 illustrates the updating of an existing configuration.\nFigure 5.4.2.3.2-1 illustrates the process of updating a configuration in a telecommunication system. The figure shows a flowchart with various steps, including initializing the configuration, applying updates, and verifying the changes. Key components such as the configuration management database (CMDB), system management station (SMS), and network element manager (NEM) are depicted, emphasizing the importance of centralized management and automated procedures for efficient system maintenance and updates.\nFigure 5.4.2.3.2-1: Update of a configuration\nTo update a configuration, the NF service consumer shall send an HTTP PUT request to the resource \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\" representing an existing \"Individual ASTI Configuration\" resource, as shown in figure 5.4.2.3.2-1, step 1, to modify the configuration.\nThe AccessTimeDistributionData data structure provided in the request body shall include an updated representation of the \"Individual ASTI Configuration\" resource with the updated 5G access stratum time distribution configuration information as defined in clause 5.4.2.2.2.\nWhen the \"CoverageAreaSupport\" feature is supported, the AccessTimeDistributionData data structure may include the time synchronization coverage area encoded as \"covReq\" attribute, that may contain an updated list of Tracking Area codes per serving network where the provided access stratum time distribution data applies.\nWhen the \"ASTIConfigReport\" feature is supported, to receive notifications about changes in the 5G access stratum time distribution configuration, the NF service consumer shall also provide the notification URI within the \"astiNotifUri\" attribute and the notification correlation Id within the \"astiNotifId\" attribute; and/or, when the \"NetTimeSyncStatus\" feature is supported, the update of the clock quality detail level in the \"clkQltDetLvl\" attribute and optionally the clock quality accpetance criteria in the \"clkQltAcptCri\" attribute indicates an update in the subscription to notification of status of the access stratum time distribution service.\nUpon receipt of the corresponding HTTP PUT message, if the request is authorized, theTSCTSF shall:\n-\tIf the \"CoverageAreaSupport\" feature is supported and an updated time synchronization coverage area is provided within the \"covReq\" attribute:\ni.\tdiscover the list of AMF(s) serving the list of TA(s) that comprise the time synchronization coverage area using the Nnrf_NFDiscovery service operation as described in 3GPP TS 29.510 [10], if they were not previously retrieved, and:\nii.\tupdate the subscription with the discovered AMF(s), if applicable:\na.\tfor each affected UE, e.g. when the 5G access stratum time distribution configuration applies to a list of individual UEs and the UE time synchronization coverage area within the \"covReq\" attribute is within the subscribed time synchronization coverage area; or\nb.\tfor the group of UEs, when the 5G access stratum time distribution configuration applies to a group of UEs.\nto receive notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27], where the Area of Interest is the provided time synchronization coverage area.\niii.\tBased on the outcome provided by the AMF or the local available information about the UE’s presence in the Area of Interest and the authorized time synchronization coverage area, the TSCTSF shall determine if the 5G access stratum time distribution configuration is enabled for the UE:\ni.\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is fulfilled, and the provided 5G access stratum time distribution configuration is enabled for the UE.\nii.\tIf the UE presence is not within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is not fulfilled, and the provided 5G access stratum time distribution configuration is not enabled for the UE.\n-\tif the \"CoverageAreaSupport\" feature is supported and a time synchronization coverage area previously provided is removed:\n1.\tterminate the related subscriptions to notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27].\n2.\tfor each UE that did not fulfil the removed time synchronization coverage area, authorize the UE for the 5GS access stratum time distribution configuration.\n-\tif the time synchronization error budget within the \"timeSyncErrBdgt\" attribute and/or the temporal validity condition within the \"tempValidity\" attribute from the NF service consumer is provided, updated, or removed, the TSCTSF based on the Time Synchronization Subscription data retrieved from the UDM determines whether the UE is authorized for the request again as described in clause 5.4.2.2.2.\n-\tfor each authorized UE, if the access stratum time distribution via Uu reference point is being activated (i.e. the \"asTimeDisEnabled\" attribute within the \"asTimeDisParam\" attribute was received and set to true) or a time synchronization error budget for an active access stratum time distribution is provided or updated by the AF, calculate the Uu time synchronization error budget as specified in clause 5.27.1.9 of 3GPP TS 23.501 [2];\n-\tfor each authorized UE, interact with the PCF for a UE to provide the updated configuration information using the Npcf_AMPolicyAuthorization_Update service operation as defined in 3GPP TS 29.534 [14]; and\n-\tupdate the existing \"Individual ASTI Configuration\" resource. Then the TSCTSF shall send a HTTP response including \"200 OK\" status code with AccessTimeDistributionData data structure or \"204 No Content\" status code, as shown in figure 5.4.2.3.2-1, step 2.\nIf for all the affected UEs the provided parameters are not allowed by subscription, the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERIVCE_NOT_AUTHORIZED\".\nIf the TSCTSF cannot successfully fulfil the received HTTP PUT request due to the internal TSCTSF error or due to the error in the HTTP PUT request, the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.\nIf the TSCTSF determines the received HTTP PUT request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis service operation is used by an NF service consumer to delete a 5G access stratum time distribution configuration.\nThe following procedures using the Ntsctsf_ASTI_Delete service operation are supported:\n-\tDelete an existing configuration.\nFigure 5.4.2.4.2-1 illustrates the deleting of an existing configuration.\nFigure 5.4.2.4.2-1 illustrates the process of deleting a configuration in a telecommunication system. The figure shows a step-by-step breakdown of the deletion process, starting with the initial state where the configuration is present. The subsequent steps depict the removal of the configuration, with intermediate states showing the progress of the deletion. The final state represents the completion of the configuration deletion process. The figure emphasizes the importance of careful management and removal of configurations to maintain system stability and security.\nFigure 5.4.2.4.2-1: Deletion of a configuration\nTo delete a configuration, the NF service consumer shall send an HTTP DELETE request to the resource \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\" representing an existing \"Individual ASTI Configuration\" resource, as shown in figure 5.4.2.4.2-1, step 1, to delete the configuration.\nUpon the reception of an HTTP DELETE request from the NF service consumer, if the HTTP DELETE request is authorized, the TSCTSF shall:\n-\tinteract with the PCF for a UE to remove the configuration information in the PCF by using the Npcf_AMPolicyAuthorization_Delete service operation as defined in 3GPP TS 29.534 [14].\n-\tremove the corresponding configuration and respond with \"204 No Content\" as shown in figure 5.4.2.4.2-1, step 2.\nIf the TSCTSF cannot successfully fulfil the received HTTP DELETE request due to the internal TSCTSF error or due to the error in the HTTP DELETE request, the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.\nIf the TSCTSF determines the received HTTP DELETE request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nThis service operation is used by an NF service consumer to retrieve ths status of the access stratum time distribution for a list of UEs.\nThe following procedures using the Ntsctsf_ASTI_Get service operation are supported:\n-\tRetrieve the status of access stratum time distribution.\nFigure 5.4.2.5.2-1 illustrates the retrieval of the status of access stratum time distribution.\nFigure 5.4.2.5.2-1 illustrates the process of retrieving the status of the access stratum time distribution in a telecommunications network. The figure depicts the various components involved, including the network time protocol (NTP) server, the client device, and the time synchronization protocol (TSP) server. The NTP server is responsible for maintaining the accurate time synchronization between the client device and the TSP server. The client device sends a request to the NTP server to retrieve the current time, and the NTP server responds with the accurate time. The TSP server then forwards the accurate time to the client device, ensuring that the client device has the correct time for accurate communication. The figure also shows the importance of accurate time synchronization in telecommunications networks, as it ensures that all devices in the network are synchronized and can communicate with each other accurately.\nFigure 5.4.2.5.2-1: Retrieval of the status of access stratum time distribution\nTo retrieve the status of access stratum time distribution, the NF service consumer shall send an HTTP POST request to the resource \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/retrieve\". The HTTP POST message shall include the StatusRequestData data structure as request body, as shown in figure 5.4.2.5.2-1, step 1. The StatusRequestData data structure shall include:\n-\tidentification of a list of individual UEs within the \"supis\" attribute; or\n-\tidentification of a list of individual UEs within the \"gpsis\" attribute;\nUpon the reception of an HTTP POST request and if the HTTP POST request is accepted by the TSCTSF, the TSCTSF determines the status of the access stratum time distribution is active for a UE if there is a 5G access stratum time distribution configuration applicable to the UE, i.e., it applies according to the temporal validity, if present, and the access time distribution via Uu reference point is activated; otherwise, the status of the access stratum time distribution is inactive for the UE.\nThe TSCTSF shall send an HTTP \"200 OK\" response with the StatusResponseData data structure as response body, as shown in figure 5.4.2.5.2-1, step 2 to notify of the status.\nWithin the StatusResponseData data structure, TSCTSF may include:\n-\ta list of SUPI(s) whose status of the access stratum time distribution is inactive within the \"inactiveUes\" attribute or a list of GPSI(s) whose status of the access stratum time distribution is inactive within the \"inactiveGpsis\" attribute;\n-\tthe \"activeUes\" attribute containing one or more the ActiveUe instances which includes the UE identifier whose status of the access stratum time distribution is active within the \"supi\" attribute or \"gpsi\" attribute and the requested time synchronization error budget, if available, within the \"timeSyncErrBdgt\" attribute.\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.\nThis service operation is used by the TSCTSF to report about the change of state of the 5G access stratum time distribution configuration and the 5G access stratum time distribution status information.\nThe following procedures using the Ntsctsf_ASTI_UpdateNotify service operation are supported:\n-\tNotification about the 5G Access Stratum Time Distribution events\n-\tNotification about ASTI configuration changes due to UE presence in time synchronization coverage area.\n-\tNotification about the 5G access stratum time distribution status information.\nFigure 5.4.2.6.2-1 illustrates the notification about the 5G access stratum time distribution events.\nFigure 5.4.2.6.2-1 illustrates a notification about the 5G access stratum time distribution event, highlighting the synchronization of time-sensitive processes within a 5G network. The figure showcases the role of the Network Time Protocol (NTP) server in maintaining accurate time synchronization among various network elements, such as base stations and user equipment. This is crucial for ensuring the seamless operation of 5G services, including real-time communication and critical applications. The figure also emphasizes the importance of precise time distribution in maintaining the integrity and reliability of 5G networks.\nFigure 5.4.2.6.2-1: Notification about the 5G access stratum time distribution event\nThe TSCTSF shall invoke the Ntsctsf_ASTI_UpdateNotify to report a 5G access stratum time distribution event by sending an HTTP POST request (as shown in figure 5.4.2.6.2-1, step 1) to the NF service consumer using as request URI the notification URI received in the creation (as specified in clause  5.4.2.2.2) or modification (as specified in clause  5.4.2.3.2) of the Individual ASTI Configuration resource, and the AstiConfigNotification data structure as request body.\nThe AstiConfigNotification data structure shall include:\n-\tthe notification correlation ID provided by the NF service consumer during the provisioning of 5G access stratum time distribution configuration within the \"astiNotifId\" attribute;\n-\tthe update of the 5G access stratum configuration for the indicated UE(s) within the \"stateConfigs\" attribute. Within each entry of the \"stateConfigs\" attribute, the TSCTSF shall include:\na.\tthe identification of the individual UE within either the \"supi\" or the \"gpsi\" attribute;\nb.\tinformation about the observed event within the \"event\" attribute. For each reported event, the additional event information, if applicable.\nThe notification of specific events using the Ntsctsf_ASTI_UpdateNotify service operation is described in the related clauses.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.3.7.\nIf the HTTP POST request from the TSCTSF is accepted, the NF service consumer shall acknowledge the receipt of the event notification with a \"204 No Content\" response, as shown in figure 5.4.2.6.2-1, step 2.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].\nIf the feature \"CoverageAreaSupport\" is supported and the TSCTSF received time synchronization coverage area as part of the Ntsctsf_ASTI_Create/Update service operation as described in clauses 5.4.2.2.2 and 5.4.2.3.2, when the TSCTSF receives a change in the UE presence in Area of Interest notification as described in 3GPP TS 29.518 [27], the TSCTSF shall determine if the re-evaluation of the time synchronization coverage area shall trigger an activation or deactivation of the access stratum time distribution:\n-\tIf the notification of change of UE presence in Area of Interest indicates that the UE is within any TAs from the time synchronization coverage area, then the TSCTSF shall enable access stratum time distribution for the UE. The TSCTSF shall provide the 5G access stratum time distribution configuration to the UE using the Npcf_AMPolicyAuthorization_Create service operation as defined in 3GPP TS 29.534 [14].\n-\tIf the notification of change of UE presence in Area of Interest indicates that the UE is not within any TAs from the time synchronization coverage area, then the TSCTSF shall disable access stratum time distribution for the UE. The TSCTSF shall disable the 5G access stratum time distribution to the UE using the Npcf_AMPolicyAuthorization_Update service operation as defined in 3GPP TS 29.534 [14].\nIf the feature \"ASTIConfigReport\" is supported, the TSCTSF shall invoke the Ntsctsf_ASTI_UpdateNotify to report the change of 5G access stratum time distribution configuration as specified in clause 5.4.2.6.2. The \"stateConfigs\" attribute shall include:\na.\t the \"event\" attribute set to \"ASTI_ENABLED\" to indicate the 5G access stratum time distribution configuration for the UE is active; or\nb.\t the \"event\" attribute set to \"ASTI_DISABLED\" to indicate the 5G access stratum time distribution configuration for the UE is inactive.\nThe NF service consumer shall acknowledge or redirect the request as described in clause 5.4.2.6.2.\nIf the \"NetTimeSyncStatus\" feature is supported and the TSCTSF received clock quality acceptance criteria as part of the Ntsctsf_ASTI_Create/Update service operation as described in clauses 5.4.2.2.2 and 5.4.2.3.2, when the TSCTSF is aware of 5G access stratum time distribution status information, the TSCTSF shall determine if the UE is impacted or not based on the UE presence in Area of Interest notification as described in clause 4.15.9.5.1 of 3GPP TS 23.502 [3].\nIf the \"NetTimeSyncStatus\" feature is supported and for the affected UEs, the TSCTSF shall invoke the Ntsctsf_ASTI_UpdateNotify to report about the 5G access stratum time distribution status as specified in clause 5.4.2.6.2 and shall include the status of the access stratum time distribution for the targeted UE(s) within the \"stateConfigs\" attribute as follows:\na.\t the \"event\" attribute set to \"CLOCK_QUAL_ACCEPTABLE\" to indicate the clock quality for the ASTI service is fulfilling the clock quality acceptance criteria for the UE; or\nb.\t the \"event\" attribute set to \"CLOCK_QUAL_NON_ACCEPTABLE\" to indicate the clock quality for the ASTI service is not fulfilling the clock quality acceptance criteria for the UE. Based on this notification, the AF decides whether to modify the ASTI service configured for the UE using the Ntsctsf_ASTI_Update service as described in clause 5.4.2.3.\nThe NF service consumer shall acknowledge or redirect the request as described in clause 5.4.2.6.2.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.4.2.1-1: Ntsctsf_ASTI Service Operations",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tAPI Definitions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tNtsctsf_TimeSynchronization Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tIntroduction",
                            "text_content": "The Ntsctsf_TimeSynchronization service shall use the Ntsctsf_TimeSynchronization API.\nThe API URI of the Ntsctsf_TimeSynchronization API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"ntsctsf-time-sync\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Ntsctsf_TimeSynchronization API is contained in Annex A.\nSee clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.\nJSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].\nThe mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\nIn this Release of the specification, no specific custom headers are defined for the Ntsctsf_TimeSynchronization API.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.3\tResources",
                            "text_content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.1.3.1-1 depicts the resource URIs structure for the Ntsctsf_TimeSynchronization API.\nFigure 6 illustrates the resource URI structure of the Ntsctsf_TimeSynchronization API, which is a crucial component for synchronizing network time across various devices and systems. The figure showcases the hierarchical organization of the API, with top-level resources such as /ntsctsf/time-synchronization, /ntsctsf/time-synchronization/servers, and /ntsctsf/time-synchronization/servers/{server-id}. The figure also details the various methods available for interacting with the API, such as GET, POST, PUT, and DELETE, and the parameters that can be used with these methods. This structured representation of the API's resources and methods is essential for developers to understand how to effectively use the API for time synchronization purposes.\nFigure 6.1.3.1-1: Resource URI structure of the Ntsctsf_TimeSynchronization API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\n\nThis resource allows a NF service consumer to create a new subscription to notification of the capability for time synchronization service.\nResource URI: {apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\n\nThe POST method creates a new subscription resource to time synchronization exposure subscription. The NF service consumer shall initiate the HTTP POST request message and the TSCTSF shall respond to the message. The TSCTSF shall construct the URI of the created resource.\nThis method shall support the URI query parameters specified in table 6.1.3.2.3.1-1.\nTable 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.2.3.1-2 and the response data structures and response codes specified in table 6.1.3.2.3.1-3.\nTable 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\n\nNone.\nThis resource allows a NF service consumer to read, modify or delete an existing subscription to notification of the capability for time synchronization service.\nResource URI: {apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\nThis resource shall support the resource URI variables defined in table 6.1.3.3.2-1.\nTable 6.1.3.3.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 6.1.3.3.3.1-1.\nTable 6.1.3.3.3.1-1: URI query parameters supported by the GET method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.3.3.1-2 and the response data structures and response codes specified in table 6.1.3.3.3.1-3.\nTable 6.1.3.3.3.1-2: Data structures supported by the GET Request Body on this resource\n\nTable 6.1.3.3.3.1-3: Data structures supported by the GET Response Body on this resource\n\nTable 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 6.1.3.3.3.2-1.\nTable 6.1.3.3.3.2-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.3.3.2-2 and the response data structures and response codes specified in table 6.1.3.3.3.2-3.\nTable 6.1.3.3.3.2-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 6.1.3.3.3.2-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 6.1.3.3.3.3-1.\nTable 6.1.3.3.3.3-1: URI query parameters supported by the PUT method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.3.3.3-2 and the response data structures and response codes specified in table 6.1.3.3.3.3-3.\nTable 6.1.3.3.3.3-2: Data structures supported by the PUT Request Body on this resource\n\nTable 6.1.3.3.3.3-3: Data structures supported by the PUT Response Body on this resource\n\nTable 6.1.3.3.3.3-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.3.3-5: Headers supported by the 308 Response Code on this resource\n\nNone.\nThis resource allows a NF service consumer to create a new subscription to notification of the capability for time synchronization service.\nResource URI: {apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations\nThis resource shall support the resource URI variables defined in table 6.1.3.4.2-1.\nTable 6.1.3.4.2-1: Resource URI variables for this resource\n\nThe POST method creates a new configuration resource to activate time synchronization service. The NF service consumer shall initiate the HTTP POST request message and the TSCTSF shall respond to the message. The TSCTSF shall construct the URI of the created resource.\nThis method shall support the URI query parameters specified in table 6.1.3.4.3.1-1.\nTable 6.1.3.4.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.4.3.1-2 and the response data structures and response codes specified in table 6.1.3.4.3.1-3.\nTable 6.1.3.4.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.4.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.4.3.1-4: Headers supported by the 201 Response Code on this resource\n\nTable 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this resource\n\nNone.\nThis resource allows a NF service consumer to modify/cancel a configuration to modify/deactivate Time Synchronization service with the TSCTSF\nResource URI: {apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations/{configurationId}\nThis resource shall support the resource URI variables defined in table 6.1.3.5.2-1.\nTable 6.1.3.5.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 6.1.3.5.3.1-1.\nTable 6.1.3.5.3.1-1: URI query parameters supported by the GET method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.5.3.1-2 and the response data structures and response codes specified in table 6.1.3.5.3.1-3.\nTable 6.1.3.5.3.1-2: Data structures supported by the GET Request Body on this resource\n\nTable 6.1.3.5.3.1-3: Data structures supported by the GET Response Body on this resource\n\nTable 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 6.1.3.5.3.2-1.\nTable 6.1.3.5.3.2-1: URI query parameters supported by the PUT method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.5.3.2-2 and the response data structures and response codes specified in table 6.1.3.5.3.2-3.\nTable 6.1.3.5.3.2-2: Data structures supported by the PUT Request Body on this resource\n\nTable 6.1.3.5.3.2-3: Data structures supported by the PUT Response Body on this resource\n\nTable 6.1.3.5.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.5.3.2-5: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 6.1.3.5.3.3-1.\nTable 6.1.3.5.3.3-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.5.3.3-2 and the response data structures and response codes specified in table 6.1.3.5.3.3-3.\nTable 6.1.3.5.3.3-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 6.1.3.5.3.3-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 6.1.3.5.3.3-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.5.3.3-5: Headers supported by the 308 Response Code on this resource\n\nNone.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.3.1-1: Resources and methods overview",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.2-1: Resource URI variables for this resource",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-1: URI query parameters supported by the GET method on this resource",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-2: Data structures supported by the GET Request Body on this resource",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-3: Data structures supported by the GET Response Body on this resource",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-1: URI query parameters supported by the PUT method on this resource",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-2: Data structures supported by the PUT Request Body on this resource",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-3: Data structures supported by the PUT Response Body on this resource",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.3.3-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.2-1: Resource URI variables for this resource",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 30,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 31,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 32,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 33,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this resource",
                                    "table number": 34,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this resource",
                                    "table number": 35,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.2-1: Resource URI variables for this resource",
                                    "table number": 36,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-1: URI query parameters supported by the GET method on this resource",
                                    "table number": 37,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-2: Data structures supported by the GET Request Body on this resource",
                                    "table number": 38,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-3: Data structures supported by the GET Response Body on this resource",
                                    "table number": 39,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this resource",
                                    "table number": 40,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this resource",
                                    "table number": 41,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.2-1: URI query parameters supported by the PUT method on this resource",
                                    "table number": 42,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.2-2: Data structures supported by the PUT Request Body on this resource",
                                    "table number": 43,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.2-3: Data structures supported by the PUT Response Body on this resource",
                                    "table number": 44,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 45,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 46,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.3-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 47,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.3-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 48,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.3-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 49,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.3-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 50,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.3-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 51,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.4\tCustom Operations without associated resources",
                            "text_content": "Void\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.5\tNotifications",
                            "text_content": "Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nTable 6.1.5.1-1: Notifications overview\n\nThe Time Synchronization Capability Notification is used by the NF service producer to report the capability of the time synchronization service for a list of UEs to a NF service consumer that has subscribed to such Notifications.\nThe Callback URI \"{subsNotifUri}\" shall be used with the callback URI variables defined in table 6.1.5.2.2-1.\nTable 6.1.5.2.2-1: Callback URI variables\n\n6.1.5.2.3.1\tPOST\nThis method shall support the request data structures specified in table 6.1.5.2.3.1-1 and the response data structures and response codes specified in table 6.1.5.2.3.1-2\nTable 6.1.5.2.3.1-1: Data structures supported by the POST Request Body\n\nTable 6.1.5.2.3.1-2: Data structures supported by the POST Response Body\n\nTable 6.1.5.2.3.1-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.5.2.3.1-4: Headers supported by the 308 Response Code on this resource\n\nThe Time Synchronization Configuration Notification is used by the NF service producer to report the current state of configuration of the time synchronization service.\nThe Callback URI \"{configNotifUri}\" shall be used with the callback URI variables defined in table 6.1.5.3.2-1.\nTable 6.1.5.3.2-1: Callback URI variables\n\nThis method shall support the request data structures specified in table 6.1.5.3.3.1-1 and the response data structures and response codes specified in table 6.1.5.3.3.1-2.\nTable 6.1.5.3.3.1-1: Data structures supported by the POST Request Body\n\nTable 6.1.5.3.3.1-2: Data structures supported by the POST Response Body\n\nTable 6.1.5.3.3.1-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.5.3.3.1-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.5.1-1: Notifications overview",
                                    "table number": 52,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-1: Callback URI variables",
                                    "table number": 53,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-1: Data structures supported by the POST Request Body",
                                    "table number": 54,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-2: Data structures supported by the POST Response Body",
                                    "table number": 55,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 56,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 57,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.3.2-1: Callback URI variables",
                                    "table number": 58,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.3.3.1-1: Data structures supported by the POST Request Body",
                                    "table number": 59,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.3.3.1-2: Data structures supported by the POST Response Body",
                                    "table number": 60,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.3.3.1-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 61,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.3.3.1-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 62,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Ntsctsf_TimeSynchronization service based interface protocol.\n\nTable 6.1.6.1-1: Ntsctsf_TimeSynchronization specific Data Types\n\nTable 6.1.6.1-2 specifies data types re-used by the Ntsctsf_TimeSynchronization service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Ntsctsf_TimeSynchronization service based interface.\nTable 6.1.6.1-2: Ntsctsf_TimeSynchronization re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.1.6.2.2-1: Definition of type TimeSyncExposureSubsc\n\nTable 6.1.6.2.3-1: Definition of type TimeSyncExposureSubsNotify\n\nTable 6.1.6.2.4-1: Definition of type SubsEventNotification\n\nTable 6.1.6.2.5-1: Definition of type TimeSyncCapability\n\nTable 6.1.6.2.6: Definition of type PtpCapabilitiesPerUe\n\n\nTable 6.1.6.2.7-1: Definition of type TimeSyncExposureConfigNotif\n\nTable 6.1.6.2.8-1: Definition of type StateOfConfiguration\n\nEditor’s note: Whether it is required the report of the clock quality acceptance criteria for the NW-TTP ports (i.e., whether the clkQltIndOfNwtt attribute is needed) is FFS and requires SA2 clarifications.\nTable 6.1.6.2.9-1: Definition of type TimeSyncExposureConfig\n\nTable 6.1.6.2.10-1: Definition of type PtpInstance\n\nTable 6.1.6.2.11-1: Definition of type ConfigForPort\n\nTable 6.1.6.2.12-1: Definition of type StateOfDstt\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.6.1-1: Ntsctsf_TimeSynchronization specific Data Types",
                                    "table number": 63,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.1-2: Ntsctsf_TimeSynchronization re-used Data Types",
                                    "table number": 64,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.2-1: Definition of type TimeSyncExposureSubsc",
                                    "table number": 65,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.3-1: Definition of type TimeSyncExposureSubsNotify",
                                    "table number": 66,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.4-1: Definition of type SubsEventNotification",
                                    "table number": 67,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.5-1: Definition of type TimeSyncCapability",
                                    "table number": 68,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.6: Definition of type PtpCapabilitiesPerUe",
                                    "table number": 69,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.7-1: Definition of type TimeSyncExposureConfigNotif",
                                    "table number": 70,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.8-1: Definition of type StateOfConfiguration",
                                    "table number": 71,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.9-1: Definition of type TimeSyncExposureConfig",
                                    "table number": 72,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.10-1: Definition of type PtpInstance",
                                    "table number": 73,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.11-1: Definition of type ConfigForPort",
                                    "table number": 74,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.12-1: Definition of type StateOfDstt",
                                    "table number": 75,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.2-1: Simple data types",
                                    "table number": 76,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.7\tError Handling",
                            "text_content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [5].\nFor the Ntsctsf_TimeSynchronization API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Ntsctsf_TimeSynchronization API.\nNo specific procedures for the Ntsctsf_TimeSynchronization service are specified.\nThe application errors defined for the Ntsctsf_TimeSynchronization service are listed in Table 6.1.7.3-1.\nTable 6.1.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.7.3-1: Application errors",
                                    "table number": 77,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.8\tFeature negotiation",
                            "text_content": "The optional features in table 6.1.8-1 are defined for the Ntsctsf_TimeSynchronization API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.8-1: Supported Features",
                                    "table number": 78,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Ntsctsf_TimeSynchronization API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Ntsctsf_TimeSynchronization API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Ntsctsf_TimeSynchronization service.\nThe Ntsctsf_TimeSynchronization API defines a single scope \"ntsctsf-time-sync\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.2\tNtsctsf_QoSandTSCAssistance Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tIntroduction",
                            "text_content": "The Ntsctsf_QoSandTSCAssistance service shall use the Ntsctsf_QoSandTSCAssistance API.\nThe API URI of the Ntsctsf_QoSandTSCAssistance API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [4], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"ntsctsf-qos-tscai\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.2.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Ntsctsf_QoSandTSCAssistance API is contained in Annex A.\nSee clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.\nJSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\nJSON object used in the HTTP PATCH request shall be encoded according to \"JSON Merge Patch\" and shall be signalled by the content type \"application/merge-patch+json\", as defined in IETF RFC 7396 [22].\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].\nThe mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\nIn this Release of the specification, no specific custom headers are defined for the Ntsctsf_QoSandTSCAssistance API.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.3\tResources",
                            "text_content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.2.3.1-1 depicts the resource URIs structure for the Ntsctsf_QoSandTSCAssistance API.\n\nFigure 6 illustrates the resource URI structure of the Ntsctsf_QoSandTSCAssistance API, which is a crucial component for managing network resources and ensuring quality of service (QoS) in telecommunication systems. The figure showcases the hierarchical organization of the API, detailing various endpoints and their associated parameters, which enable efficient communication between network elements and service providers. The visual representation emphasizes the importance of a well-structured API in facilitating smooth resource allocation and enhancing overall network performance.\nFigure 6.2.3.1-1: Resource URI structure of the Ntsctsf_QoSandTSCAssistance API\nTable 6.2.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.2.3.1-1: Resources and methods overview\n\nThis resource allows a NF service consumer to create a new Individual TSC Application Session Context resource and may create the child Events Subscription sub-resource.\nResource URI: {apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions\nThis resource shall support the resource URI variables defined in table 6.2.3.2.2-1.\nTable 6.2.3.2.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 6.2.3.2.3.1-1.\nTable 6.2.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.2.3.1-2 and the response data structures and response codes specified in table 6.2.3.2.3.1-3.\nTable 6.2.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.2.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.2.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\n\nTable 6.2.3.2.3.1-5: Headers supported by the 403 Response Code on this resource\n\nNone.\nThis resource allows a NF service consumer to read, modify or delete an existing Individual TSC Application Session Context resource.\nResource URI: {apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}\nThis resource shall support the resource URI variables defined in table 6.2.3.3.2-1.\nTable 6.2.3.3.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 6.2.3.3.3.1-1.\nTable 6.2.3.3.3.1-1: URI query parameters supported by the GET method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.3.3.1-2 and the response data structures and response codes specified in table 6.2.3.3.3.1-3.\nTable 6.2.3.3.3.1-2: Data structures supported by the GET Request Body on this resource\n\nTable 6.2.3.3.3.1-3: Data structures supported by the GET Response Body on this resource\n\nTable 6.2.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 6.2.3.3.3.2-1.\nTable 6.2.3.3.3.2-1: URI query parameters supported by the PATCH method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.3.3.2-2 and the response data structures and response codes specified in table 6.2.3.3.3.2-3.\nTable 6.2.3.3.3.2-2: Data structures supported by the PATCH Request Body on this resource\n\nTable 6.2.3.3.3.2-3: Data structures supported by the PATCH Response Body on this resource\n\nTable 6.2.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\n\nTable 6.2.3.3.3.2-6: Headers supported by the 403 Response Code on this resource\n\nTable 6.2.3.3.4.1-1: Custom operations\n\nThis custom operation deletes an existing Individual TSC Application Session Context resource and the child Events Subscription sub-resource in the TSCTSF.\nThis operation shall support the request data structures specified in table 6.2.3.3.4.2.2-1 and the response data structure and response codes specified in table 6.2.3.3.4.2.2-2.\nTable 6.2.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.2.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.2.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource\n\nThe Events Subscription sub-resource represents a subscription to events for a TSC application session context that exists in the Ntsctsf_QoSandTSCAssistance service.\nResource URI: {apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/events-subscription\nThis resource shall support the resource URI variables defined in table 6.2.3.4.2-1.\nTable 6.2.3.4.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 6.2.3.4.3.1-1.\nTable 6.2.3.4.3.1-1: URI query parameters supported by the PUT method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.4.3.1-2 and the response data structures and response codes specified in table 6.2.3.4.3.1-3.\nTable 6.2.3.4.3.1-2: Data structures supported by the PUT Request Body on this resource\n\nTable 6.2.3.4.3.1-3: Data structures supported by the PUT Response Body on this resource\n\nTable 6.2.3.4.3.1-4: Headers supported by the 201 Response Code on this resource\n\nTable 6.2.3.4.3.1-5: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.4.3.1-6: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 6.2.3.4.3.2-1.\nTable 6.2.3.4.3.2-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 6.2.3.4.3.2-2 and the response data structures and response codes specified in table 6.2.3.4.3.2-3.\nTable 6.2.3.4.3.2-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 6.2.3.4.3.2-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 6.2.3.4.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.3.4.3.2-5: Headers supported by the 308 Response Code on this resource\n\nNone.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.3.1-1: Resources and methods overview",
                                    "table number": 79,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 80,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 81,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 82,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 83,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 84,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.2.3.1-5: Headers supported by the 403 Response Code on this resource",
                                    "table number": 85,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.2-1: Resource URI variables for this resource",
                                    "table number": 86,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.1-1: URI query parameters supported by the GET method on this resource",
                                    "table number": 87,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.1-2: Data structures supported by the GET Request Body on this resource",
                                    "table number": 88,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.1-3: Data structures supported by the GET Response Body on this resource",
                                    "table number": 89,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 90,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 91,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.2-1: URI query parameters supported by the PATCH method on this resource",
                                    "table number": 92,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.2-2: Data structures supported by the PATCH Request Body on this resource",
                                    "table number": 93,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.2-3: Data structures supported by the PATCH Response Body on this resource",
                                    "table number": 94,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 95,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 96,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.3.2-6: Headers supported by the 403 Response Code on this resource",
                                    "table number": 97,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.4.1-1: Custom operations",
                                    "table number": 98,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 99,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 100,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 101,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 102,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.2-1: Resource URI variables for this resource",
                                    "table number": 103,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.1-1: URI query parameters supported by the PUT method on this resource",
                                    "table number": 104,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.1-2: Data structures supported by the PUT Request Body on this resource",
                                    "table number": 105,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.1-3: Data structures supported by the PUT Response Body on this resource",
                                    "table number": 106,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 107,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.1-5: Headers supported by the 307 Response Code on this resource",
                                    "table number": 108,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.1-6: Headers supported by the 308 Response Code on this resource",
                                    "table number": 109,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.2-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 110,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.2-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 111,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.2-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 112,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 113,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.3.4.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 114,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.4\tCustom Operations without associated resources",
                            "text_content": "None.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.5\tNotifications",
                            "text_content": "Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nTable 6.2.5.1-1: Notifications overview\n\nThe Event Notification is used by the TSCTSF to report one or several observed application session context events to the NF service consumer that has subscribed to such notifications via the Events Subscription sub-resource.\nThe Callback URI \"{notifUri}/notify \" shall be used with the callback URI variables defined in table 6.2.5.2.2-1.\nTable 6.2.5.2.2-1: Callback URI variables\n\nThis method shall support the request data structures specified in table 6.2.5.2.3.1-1 and the response data structures and response codes specified in table 6.2.5.2.3.1-2.\nTable 6.2.5.2.3.1-1: Data structures supported by the POST Request Body\n\nTable 6.2.5.2.3.1-2: Data structures supported by the POST Response Body\n\nTable 6.2.5.2.3.1-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.5.2.3.1-4: Headers supported by the 308 Response Code on this resource\n\nThe Termination Request is used by the TSCTSF to request the NF service consumer the deletion of the Individual TSC Application Session Context resource.\nThe Callback URI \"{notifUri}/terminate \" shall be used with the callback URI variables defined in table 6.2.5.3.2-1.\nTable 6.2.5.3.2-1: Callback URI variables\n\nThis method shall support the request data structures specified in table 6.2.5.3.3.1-1 and the response data structures and response codes specified in table 6.2.5.3.3.1-2.\nTable 6.2.5.3.3.1-1: Data structures supported by the POST Request Body\n\nTable 6.2.5.3.3.1-2: Data structures supported by the POST Response Body\n\nTable 6.2.5.3.3.1-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.2.5.3.3.1-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.5.1-1: Notifications overview",
                                    "table number": 115,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.2.2-1: Callback URI variables",
                                    "table number": 116,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.2.3.1-1: Data structures supported by the POST Request Body",
                                    "table number": 117,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.2.3.1-2: Data structures supported by the POST Response Body",
                                    "table number": 118,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.2.3.1-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 119,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.2.3.1-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 120,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.3.2-1: Callback URI variables",
                                    "table number": 121,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.3.3.1-1: Data structures supported by the POST Request Body",
                                    "table number": 122,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.3.3.1-2: Data structures supported by the POST Response Body",
                                    "table number": 123,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.3.3.1-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 124,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.5.3.3.1-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 125,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.2.6.1-1 specifies the data types defined for the Ntsctsf_QoSandTSCAssistance service based interface protocol.\n\nTable 6.2.6.1-1: Ntsctsf_QoSandTSCAssistance specific Data Types\n\nTable 6.2.6.1-2 specifies data types re-used by the Ntsctsf_QoSandTSCAssistance service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Ntsctsf_QoSandTSCAssistance service based interface.\nTable 6.2.6.1-2: Ntsctsf_QoSandTSCAssistance re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.2.6.2.2-1: Definition of type TscAppSessionContextData\n\nTable 6.2.6.2.3-1: Definition of type EventsSubscReqData\n\nTable 6.2.6.2.4-1: Definition of type TscAppSessionContextUpdateData\n\nThis data type is defined in the same way as the \"EventsSubscReqData\" data type, but:\n-\twith the OpenAPI \"nullable: true\" property; and\n-\tthe removable attribute \"usgThres\" is defined with the removable data type \"UsageThresholdRm\"; and removable attribute \"qosMon\" is defined with the removable data type \"QosMonitoringInformationRm\".\nTable 6.2.6.2.5-1: Definition of type EventsSubscReqDataRm\n\nTable 6.2.6.2.6-1: Definition of type EventsNotification\n\nTable 6.2.6.2.7-1: Definition of type EventNotification\n\nTable 6.2.6.2.8-1: Definition of type AdditionalInfoTsctsfQosTscac\n\n6.2.6.2.9\tType TemporalInValidity\nTable 6.2.6.2.9-1: Definition of type TemporalnValidity\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table 6.2.6.3.2-1 shall be supported.\nTable 6.2.6.3.2-1: Simple data types\n\nThe enumeration TscEvent represents event for TSC. It shall comply with the provisions defined in table 6.2.6.3.3-1.\nTable 6.2.6.3.3-1: Enumeration TscEvent\n\nTable 6.2.6.4.1-1: Definition of type ProblemDetailsTsctsfQosTscac as a list of to be combined data types\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.6.1-1: Ntsctsf_QoSandTSCAssistance specific Data Types",
                                    "table number": 126,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.1-2: Ntsctsf_QoSandTSCAssistance re-used Data Types",
                                    "table number": 127,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.2-1: Definition of type TscAppSessionContextData",
                                    "table number": 128,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.3-1: Definition of type EventsSubscReqData",
                                    "table number": 129,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.4-1: Definition of type TscAppSessionContextUpdateData",
                                    "table number": 130,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.5-1: Definition of type EventsSubscReqDataRm",
                                    "table number": 131,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.6-1: Definition of type EventsNotification",
                                    "table number": 132,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.7-1: Definition of type EventNotification",
                                    "table number": 133,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.8-1: Definition of type AdditionalInfoTsctsfQosTscac",
                                    "table number": 134,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.2.9-1: Definition of type TemporalnValidity",
                                    "table number": 135,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.3.2-1: Simple data types",
                                    "table number": 136,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.3.3-1: Enumeration TscEvent",
                                    "table number": 137,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.6.4.1-1: Definition of type ProblemDetailsTsctsfQosTscac as a list of to be combined data types",
                                    "table number": 138,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.7\tError Handling",
                            "text_content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [4].\nFor the Ntsctsf_QoSandTSCAssistance API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Ntsctsf_QoSandTSCAssistance API.\nNo specific procedures for the Ntsctsf_QoSandTSCAssistance service are specified.\nThe application errors defined for the Ntsctsf_QoSandTSCAssistance service are listed in Table 6.2.7.3-1.\nTable 6.2.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.7.3-1: Application errors",
                                    "table number": 139,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.8\tFeature negotiation",
                            "text_content": "The optional features in table 6.2.8-1 are defined for the Ntsctsf_QoSandTSCAssistance API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.2.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.8-1: Supported Features",
                                    "table number": 140,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Ntsctsf_QoSandTSCAssistance API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Ntsctsf_QoSandTSCAssistance API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Ntsctsf_QoSandTSCAssistance service.\nThe Ntsctsf_QoSandTSCAssistance API defines a single scope \"ntsctsf-qos-tscai\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.3\tNtsctsf_ASTI Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.3.1\tIntroduction",
                            "text_content": "The Ntsctsf_ASTI service shall use the Ntsctsf_ASTI API.\nThe API URI of the Ntsctsf_ASTI API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"ntsctsf-asti\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.3.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Ntsctsf_ASTI API is contained in Annex A.\nSee clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.\nJSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].\nThe mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\nIn this Release of the specification, no specific custom headers are defined for the Ntsctsf_ASTI API.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.3\tResources",
                            "text_content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.2.3.1-1 depicts the resource URIs structure for the Ntsctsf_ASTI API.\nFigure 6 illustrates the resource URI structure of the Ntsctsf_ASTI API, showcasing the hierarchical organization of API endpoints. The figure presents a tree-like diagram with various nodes representing different resources, each associated with a unique Uniform Resource Identifier (URI). The root node at the top signifies the main API entry point, with subsequent branches detailing specific functionalities and data endpoints. This structured representation allows for efficient navigation and access to the API's resources, ensuring a seamless user experience.\nFigure 6.3.3.1-1: Resource URI structure of the Ntsctsf_ASTI API\nTable 6.3.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.3.3.1-1: Resources and methods overview\n\nEditor’s note: It is FFS wether a new resource and applicable methods are required to support the subscription to notification of the status of the ASTI time synchronization service.\n\nThis resource allows a NF service consumer to create a new Individual ASTI Configuration resource.\nResource URI: {apiRoot}/ntsctsf-asti/<apiVersion>/configurations\nThis resource shall support the resource URI variables defined in table 6.3.3.2.2-1.\nTable 6.3.3.2.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 6.3.3.2.3.1-1.\nTable 6.3.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.3.3.2.3.1-2 and the response data structures and response codes specified in table 6.3.3.2.3.1-3.\nTable 6.3.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.3.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.3.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\n\nTable 6.3.3.2.4.1-1: Custom operations\n\nThis custom operation retrieves the status of the access stratum time distribution for a list of UEs.\nThis operation shall support the request data structures specified in table 6.3.3.2.4.2.2-1 and the response data structure and response codes specified in table 6.3.3.24.2.2-2.\nTable 6.3.3.2.4.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.3.3.2.4.2.2-2: Data structures supported by the POST Response Body on this resource\n\nThis resource allows a NF service consumer to read, modify or delete an existing Individual ASTI Configuration resource.\nResource URI: {apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\nThis resource shall support the resource URI variables defined in table 6.3.3.3.2-1.\nTable 6.3.3.3.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 6.3.3.3.3.2-1.\nTable 6.3.3.3.3.2-1: URI query parameters supported by the PUT method on this resource\n\nThis method shall support the request data structures specified in table 6.3.3.3.3.2-2 and the response data structures and response codes specified in table 6.3.3.3.3.2-3.\nTable 6.3.3.3.3.2-2: Data structures supported by the PUT Request Body on this resource\n\nTable 6.3.3.3.3.2-3: Data structures supported by the PUT Response Body on this resource\n\nTable 6.3.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.3.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 6.3.3.3.3.3-1.\nTable 6.3.3.3.3.3-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 6.3.3.3.3.3-2 and the response data structures and response codes specified in table 6.3.3.3.3.3-3.\nTable 6.3.3.3.3.3-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 6.3.3.3.3.3-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 6.3.3.3.3.3-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.3.3.3.3.3-5: Headers supported by the 308 Response Code on this resource\n\nNone.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.3.3.1-1: Resources and methods overview",
                                    "table number": 141,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 142,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 143,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 144,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 145,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.2.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 146,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.2.4.1-1: Custom operations",
                                    "table number": 147,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.2.4.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 148,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.2.4.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 149,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.2-1: Resource URI variables for this resource",
                                    "table number": 150,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.2-1: URI query parameters supported by the PUT method on this resource",
                                    "table number": 151,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.2-2: Data structures supported by the PUT Request Body on this resource",
                                    "table number": 152,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.2-3: Data structures supported by the PUT Response Body on this resource",
                                    "table number": 153,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 154,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 155,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.3-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 156,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.3-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 157,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.3-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 158,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.3-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 159,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.3.3.3.3-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 160,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.3.4\tCustom Operations without associated resources",
                            "text_content": "None.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.5\tNotifications",
                            "text_content": "Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nTable 6.3.5.1-1: Notifications overview\n\nThe ASTI Notification is used by the NF service producer to report the changes on the ASTI service.\nThe Callback URI \"{astiNotifUri}\" shall be used with the callback URI variables defined in table 6.3.5.2.2-1.\nTable 6.3.5.2.2-1: Callback URI variables\n\nThis method shall support the request data structures specified in table 6.3.5.2.3.1-1 and the response data structures and response codes specified in table 6.3.5.2.3.1-1.\nTable 6.3.5.2.3.1-1: Data structures supported by the POST Request Body\n\nTable 6.3.5.2.3.1-2: Data structures supported by the POST Response Body\n\nTable 6.3.5.2.3.1-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.3.5.2.3.1-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.3.5.1-1: Notifications overview",
                                    "table number": 161,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.5.2.2-1: Callback URI variables",
                                    "table number": 162,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.5.2.3.1-1: Data structures supported by the POST Request Body",
                                    "table number": 163,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.5.2.3.1-2: Data structures supported by the POST Response Body",
                                    "table number": 164,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.5.2.3.1-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 165,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.5.2.3.1-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 166,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.3.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.3.6.1-1 specifies the data types defined for the Ntsctsf_ASTI service based interface protocol.\n\nTable 6.3.6.1-1: Ntsctsf_ASTI specific Data Types\n\nTable 6.3.6.1-2 specifies data types re-used by the Ntsctsf_ASTI service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Ntsctsf_ASTI service based interface.\nTable 6.3.6.1-2: Ntsctsf_ASTI re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.3.6.2.2-1: Definition of type AccessTimeDistributionData\n\nTable 6.3.6.2.3-1: Definition of type AsTimeDistributionParam\n\n\nTable 6.3.6.2.4-1: Definition of type StatusRequestData\n\nTable 6.3.6.2.5-1: Definition of type StatusResponseData\n\nTable 6.3.6.2.6-1: Definition of type ActiveUe\n\nTable 6.3.6.2.7-1: Definition of type AstiConfigNotification\n\nTable 6.3.6.2.8-1: Definition of type AstiConfigStateNotification\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table 6.3.6.3.2-1 shall be supported.\nTable 6.3.6.3.2-1: Simple data types\n\nThe enumeration AstiEvent represents event for ASTI service. It shall comply with the provisions defined in table 6.3.6.3.3-1.\nTable 6.3.6.3.3-1: Enumeration AstiEvent\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.3.6.1-1: Ntsctsf_ASTI specific Data Types",
                                    "table number": 167,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.1-2: Ntsctsf_ASTI re-used Data Types",
                                    "table number": 168,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.2.2-1: Definition of type AccessTimeDistributionData",
                                    "table number": 169,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.2.3-1: Definition of type AsTimeDistributionParam",
                                    "table number": 170,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.2.4-1: Definition of type StatusRequestData",
                                    "table number": 171,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.2.5-1: Definition of type StatusResponseData",
                                    "table number": 172,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.2.6-1: Definition of type ActiveUe",
                                    "table number": 173,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.2.7-1: Definition of type AstiConfigNotification",
                                    "table number": 174,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.2.8-1: Definition of type AstiConfigStateNotification",
                                    "table number": 175,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.3.2-1: Simple data types",
                                    "table number": 176,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.6.3.3-1: Enumeration AstiEvent",
                                    "table number": 177,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.3.7\tError Handling",
                            "text_content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [5].\nFor the Ntsctsf_ASTI API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Ntsctsf_ASTI API.\nNo specific procedures for the Ntsctsf_ASTI service are specified.\nThe application errors defined for the Ntsctsf_ASTI service are listed in Table 6.3.7.3-1.\nTable 6.3.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.3.7.3-1: Application errors",
                                    "table number": 178,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.3.8\tFeature negotiation",
                            "text_content": "The optional features in table 6.3.8-1 are defined for the Ntsctsf_ASTI API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.3.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.3.8-1: Supported Features",
                                    "table number": 179,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.3.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Ntsctsf_ASTI API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Ntsctsf_ASTI API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Ntsctsf_ASTI service.\nThe Ntsctsf_ASTI API defines a single scope \"ntsctsf-asti\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "This Annex specifies the formal definition of the API(s) defined in the present specification. It consists of OpenAPI  specifications in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE 1:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tNtsctsf_TimeSynchronization API",
            "description": "openapi: 3.0.0\n\ninfo:\ntitle: Ntsctsf_TimeSynchronization Service API\nversion: 1.1.0-alpha.5\ndescription: |\nTSCTSF Time Synchronization Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: >\n3GPP TS 29.565 V18.4.0; 5G System; Time Sensitive Communication and Time Synchronization Function\nServices; Stage 3.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/'\nservers:\n- url: '{apiRoot}/ntsctsf-time-sync/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- ntsctsf-time-sync\n\npaths:\n/subscriptions:\npost:\nsummary: Creates a new subscription to notification of capability of time synchronization service resource\noperationId: TimeSynchronizationExposureSubscriptions\ntags:\n- Time Synchronization Exposure Subscriptions (Collection)\nrequestBody:\ndescription: Contains the information for the creation the resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\nresponses:\n'201':\ndescription: Successful creation of the resource.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created individual time synchronization exposure\nsubscription resource, according to the structure\n{apiRoot}/ntsctsf-time-sync/{apiVersion}/subscriptions/{subscriptionId}\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nsubsEventNotification:\n'{$request.body#/subsNotifUri':\npost:\nrequestBody:\ndescription: Notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsNotif'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/subscriptions/{subscriptionId}:\nget:\nsummary: \"Reads an existing Individual Time Synchronization Exposure Subscription\"\noperationId: GetIndividualTimeSynchronizationExposureSubscription\ntags:\n- Individual Time Synchronization Exposure Subscription (Document)\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: A representation of the resource is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nput:\noperationId: ReplaceIndividualTimeSynchronizationExposureSubscription\nsummary: Replace an individual Time Synchronization Exposure Subscription\ntags:\n- IndividualTimeSynchronizationExposureSubscription (Document)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/TimeSyncExposureSubsc'\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Resource was successfully modified and representation is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\n'204':\ndescription: No Content. Resource was successfully modified.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualTimeSynchronizationExposureSubscription\nsummary: Delete an Individual TimeSynchronization Exposure Subscription\ntags:\n- Individual Time Synchronization Exposure Subscription (Document)\nparameters:\n- name: subscriptionId\nin: path\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/subscriptions/{subscriptionId}/configurations:\npost:\nsummary: \"Craete a new Individual Time Synchronization Exposure Configuration\"\noperationId: CreateIndividualTimeSynchronizationExposureConfiguration\ntags:\n- Individual Time Synchronization Exposure Configuration (Document)\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: Contains the information for the creation the resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/TimeSyncExposureConfig'\nresponses:\n'201':\ndescription: Successful creation of the resource.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfig'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created individual time synchronization exposure\nconfiguration resource, according to the structure\n{apiRoot}/ntsctsf-time-sync/{apiVersion}/subscriptions/{subscriptionId}\n/configurations/{configurationId}\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nconfigEventNotification:\n'{$request.body#/configNotifUri':\npost:\nrequestBody:\ndescription: Notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfigNotif'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/subscriptions/{subscriptionId}/configurations/{configurationId}:\nget:\nsummary: \"Reads an existing Individual Time Synchronization Exposure Configuration\"\noperationId: GetIndividualTimeSynchronizationExposureConfiguration\ntags:\n- Individual Time Synchronization Exposure Configuration (Document)\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nin: path\nrequired: true\nschema:\ntype: string\n- name: configurationId\ndescription: String identifying an Individual Time Synchronization Exposure Configuration.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: A representation of the resource is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfig'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nput:\noperationId: ReplaceIndividualTimeSynchronizationExposureConfiguration\nsummary: Replace an individual Time Synchronization Exposure Configuration\ntags:\n- IndividualTimeSynchronizationExposureConfiguration (Document)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/TimeSyncExposureConfig'\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nin: path\nrequired: true\nschema:\ntype: string\n- name: configurationId\ndescription: String identifying an Individual Time Synchronization Exposure Configuration.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Resource was successfully modified and representation is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfig'\n'204':\ndescription: No Content. Resource was successfully modified.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualTimeSynchronizationExposureConfiguration\nsummary: Delete an Individual TimeSynchronization Exposure Configuration\ntags:\n- Individual Time Synchronization Exposure Configuration (Document)\nparameters:\n- name: subscriptionId\nin: path\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nrequired: true\nschema:\ntype: string\n- name: configurationId\ndescription: String identifying an Individual Time Synchronization Exposure Configuration.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\n\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nntsctsf-timesynchronization: Access to the Ntsctsf_TimeSynchronization API\n\nschemas:\nTimeSyncExposureSubsc:\ndescription: >\nContains the parameters for the subscription to notification of capability of time\nsynchronization service.\ntype: object\nproperties:\nsupis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nminItems: 1\ngpsis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nminItems: 1\ninterGrpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nexterGrpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId'\nanyUeInd:\ntype: boolean\ndescription: >\nIdentifies whether the request applies to any UE. This attribute shall set to \"true\" if\napplicable for any UE, otherwise, set to \"false\".\nnotifMethod:\n$ref: 'TS29508_Nsmf_EventExposure.yaml#/components/schemas/NotificationMethod'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nsubscribedEvents:\ntype: array\nitems:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/SubscribedEvent'\nminItems: 1\neventFilters:\ntype: array\nitems:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/EventFilter'\nminItems: 1\nsubsNotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsubsNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\nmaxReportNbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nexpiry:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrepPeriod:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- subsNotifUri\n- subsNotifId\n- dnn\n- snssai\n- subscribedEvents\noneOf:\n- required: [supis]\n- required: [interGrpId]\n- required: [gpsis]\n- required: [exterGrpId]\n- required: [anyUeInd]\n\nTimeSyncExposureSubsNotif:\ndescription: Contains the notification of time synchronization service.\ntype: object\nproperties:\nsubsNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\neventNotifs:\ntype: array\nitems:\n$ref: '#/components/schemas/SubsEventNotification'\nminItems: 1\n\nSubsEventNotification:\ndescription: >\nContains the notification of capability of time synchronization for a list of UEs.\ntype: object\nproperties:\nevent:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/SubscribedEvent'\ntimeSyncCapas:\ntype: array\nitems:\n$ref: '#/components/schemas/TimeSyncCapability'\nminItems: 1\nrequired:\n- event\n\nTimeSyncCapability:\ndescription: Contains the capability of time synchronization service.\ntype: object\nproperties:\nupNodeId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint64'\ngmCapables:\ntype: array\nitems:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/GmCapable'\nminItems: 1\nasTimeRes:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/AsTimeResource'\nptpCapForUes:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/PtpCapabilitiesPerUe'\nminProperties: 1\ndescription: >\nContains the PTP capabilities supported by each of the SUPI(s). The key of the map is the\nSUPI.\nptpCapForGpsis:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/PtpCapabilitiesPerUe'\nminProperties: 1\ndescription: >\nContains the PTP capabilities supported by each of the GPSI(s). The key of the map is\nthe GPSI.\nrequired:\n- upNodeId\nanyOf:\n- required: [gmCapables]\n- required: [asTimeRes]\n\nPtpCapabilitiesPerUe:\ndescription: Contains the supported PTP capabilities per UE.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nptpCaps:\ntype: array\nitems:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/EventFilter'\nminItems: 1\nrequired:\n- ptpCaps\noneOf:\n- required: [supi]\n- required: [gpsi]\n\nTimeSyncExposureConfigNotif:\ndescription: Contains the notification of time synchronization service state.\ntype: object\nproperties:\nconfigNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\nstateOfConfig:\n$ref: '#/components/schemas/StateOfConfiguration'\nrequired:\n- configNotifId\n- stateOfConfig\n\nStateOfConfiguration:\ndescription: >\nContains the state of the time synchronization configuration and the clock quality\nacceptance criteria result.\ntype: object\nproperties:\nstateNwtt:\ntype: boolean\ndescription: >\nWhen any of the PTP port state(s)in NW-TT is Leader, Follower or Passive, it is\nincluded and set to trueto indicate the current state of the time synchronization\nconfiguration for the NW-TT port(s) of the PTP instance is active; when\nPTP port state isin any other case, it is included and set to false to indicate\nthe state ofconfiguration for the NW-TT port(s) of the PTP instance\nis inactive. Default value is false.\nstateOfDstts:\ndescription: >\nContains the PTP port states and the clock quality acceptance criteria result of the\nDS-TT(s).\ntype: array\nitems:\n$ref: '#/components/schemas/StateOfDstt'\nminItems: 1\n\nStateOfDstt:\ndescription: Contains the PTP port state of a DS-TT.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nstate:\ntype: boolean\ndescription: >\nWhen the PTP port state is Leader, Follower or Passive, it is included and set to true\nto indicate the state of configuration for DS-TT port is active; when PTP port state is\nin any other case, it is included and set to false to indicate the state of\nconfiguration for DS-TT port is inactive. Default value is false.\nclkQltIndOfDstts:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/AcceptanceCriteriaResultIndication'\nrequired:\n- state\noneOf:\n- required: [supi]\n- required: [gpsi]\n\nTimeSyncExposureConfig:\ndescription: Contains the Time Synchronization Configuration parameters.\ntype: object\nproperties:\nupNodeId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint64'\nreqPtpIns:\n$ref: '#/components/schemas/PtpInstance'\ngmEnable:\ntype: boolean\ndescription: >\nIndicates that the AF requests 5GS to act as a grandmaster for PTP or gPTP if it is\nincluded and set to true.\ngmPrio:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\ntimeDom:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\ntimeSyncErrBdgt:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nconfigNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\nconfigNotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ntempValidity:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity'\ncovReq:\ntype: array\ndescription: >\nIdentifies a list of Tracking Areas per serving network where time\nsynchronization service configuration is allowed.\nitems:\n$ref: 'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/ServiceAreaCoverageInfo'\nminItems: 1\nclkQltDetLvl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityDetailLevel'\nclkQltAcptCri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityAcceptanceCriterion'\nrequired:\n- upNodeId\n- reqPtpIns\n- timeDom\n- configNotifId\n- configNotifUri\n\nPtpInstance:\ndescription: Contains PTP instance configuration and activation requested by the AF.\ntype: object\nproperties:\ninstanceType:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/InstanceType'\nprotocol:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/Protocol'\nptpProfile:\ntype: string\nportConfigs:\ntype: array\nitems:\n$ref: '#/components/schemas/ConfigForPort'\nminItems: 1\nrequired:\n- instanceType\n- protocol\n- ptpProfile\n\nConfigForPort:\ndescription: Contains configuration for each port.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nn6Ind:\ntype: boolean\nptpEnable:\ntype: boolean\nlogSyncInter:\ntype: integer\nlogSyncInterInd:\ntype: boolean\nlogAnnouInter:\ntype: integer\nlogAnnouInterInd:\ntype: boolean\noneOf:\n- required: [supi]\n- required: [gpsi]\n- required: [n6Ind]\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.3\tNtsctsf_QoSandTSCAssistance API",
            "description": "openapi: 3.0.0\n\ninfo:\ntitle: Ntsctsf_QoSandTSCAssistance Service API\nversion: 1.1.0-alpha.4\ndescription: |\nTSCTSF QoS and TSC Assistance Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: >\n3GPP TS 29.565 V18.3.0; 5G System; Time Sensitive Communication and Time Synchronization function\nServices; Stage 3.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/'\n\nservers:\n- url: '{apiRoot}/ntsctsf-qos-tscai/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- ntsctsf-qos-tscai\n\npaths:\n/tsc-app-sessions:\npost:\nsummary: Creates a new Individual TSC Application Session Context resource\noperationId: PostTSCAppSessions\ntags:\n- TSC Application Sessions (Collection)\nrequestBody:\ndescription: Contains the information for the creation the resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextData'\nresponses:\n'201':\ndescription: Successful creation of the resource.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextData'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created individual TSC application session context resource,\naccording to the structure\n{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId} or the\nURI of the created events subscription sub-resource, according to the structure\n{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/\nevents-subscription}\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\ndescription: Forbidden\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ProblemDetailsTsctsfQosTscac'\nheaders:\nRetry-After:\ndescription: >\nIndicates the time the AF has to wait before making a new request. It can be a\nnon-negative integer (decimal number) indicating the number of seconds the AF\nhas to wait before making a new request or an HTTP-date after which the AF can\nretry a new request.\nschema:\ntype: string\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nterminationRequest:\n'{$request.body#/notifUri}/terminate':\npost:\nrequestBody:\ndescription: >\nRequest of the termination of the Individual TSC Application Session Context\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TerminationInfo'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\neventNotification:\n'{$request.body#/evSubsc/notifUri}/notify':\npost:\nrequestBody:\ndescription: Notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsNotification'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/tsc-app-sessions/{appSessionId}:\nget:\nsummary: Reads an existing Individual TSC Application Session Context\noperationId: GetTSCAppSession\ntags:\n- Individual TSC Application Session Context (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the resource.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: A representation of the resource is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextData'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\npatch:\nsummary: Modifies an existing Individual TSC Application Session Context\noperationId: ModAppSession\ntags:\n- Individual TSC Application Session Context (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the resource.\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: Modification of the resource.\nrequired: true\ncontent:\napplication/merge-patch+json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextUpdateData'\nresponses:\n'200':\ndescription: >\nsuccessful modification of the resource and a representation of that resource is\nreturned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextData'\n'204':\ndescription: The successful modification.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\ndescription: Forbidden\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ProblemDetailsTsctsfQosTscac'\nheaders:\nRetry-After:\ndescription: >\nIndicates the time the AF has to wait before making a new request. It can be a\nnon-negative integer (decimal number) indicating the number of seconds the AF\nhas to wait before making a new request or an HTTP-date after which the AF can\nretry a new request.\nschema:\ntype: string\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\neventNotification:\n'{$request.body#/evSubsc/notifUri}/notify':\npost:\nrequestBody:\ndescription: Notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsNotification'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/tsc-app-sessions/{appSessionId}/delete:\npost:\nsummary: Deletes an existing Individual TSC Application Session Context\noperationId: DeleteTSCAppSession\ntags:\n- Individual TSC Application Session Context (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the Individual TSC Application Session Context resource.\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: >\nDeletion of the Individual TSC Application Session Context resource, request notification.\nrequired: false\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsSubscReqData'\nresponses:\n'200':\ndescription: The deletion of the resource is confirmed and a resource is returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsNotification'\n'204':\ndescription: The deletion is confirmed without returning additional data.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/tsc-app-sessions/{appSessionId}/events-subscription:\nput:\nsummary: Creates or modifies an Events Subscription subresource\noperationId: putEventsSubsc\ntags:\n- Events Subscription (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the Events Subscription resource\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: Creation or modification of an Events Subscription resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsSubscReqData'\nresponses:\n'201':\ndescription: >\nThe creation of the Events Subscription resource is confirmed and its representation is\nreturned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsSubscReqData'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created Events Subscription resource,\naccording to the structure\n{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/\nevents-subscription}\nrequired: true\nschema:\ntype: string\n'200':\ndescription: >\nThe modification of the Events Subscription resource is confirmed and its representation\nis returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsSubscReqData'\n'204':\ndescription: >\nThe modification of the Events Subscription subresource is confirmed without returning\nadditional data.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\neventNotification:\n'{$request.body#/notifUri}/notify':\npost:\nrequestBody:\ndescription: >\nContains the information for the notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsNotification'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\nsummary: Deletes the Events Subscription subresource.\noperationId: DeleteEventsSubsc\ntags:\n- Events Subscription (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the Individual TSC Application Session Context resource\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: >\nThe deletion of the of the Events Subscription sub-resource is confirmed without returning\nadditional data.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\n\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nntsctsf-qos-tscai: Access to the Ntsctsf_QoSandTSCAssistance API\n\nschemas:\nTscAppSessionContextData:\ndescription: Represents an Individual TSC Application Session Context resource.\ntype: object\nrequired:\n- notifUri\n- afId\n- qosReference\nallOf:\n- oneOf:\n- required: [ueIpAddr]\n- required: [ueMac]\n- required: [ueId]\n- required: [externalGroupId]\n- not:\nrequired: [ethFlowInfo, enEthFlowInfo]\n- not:\nrequired: [altQosReqs, altQosReferences]\n- not:\nrequired: [qosReference, altQosReqs]\nproperties:\nueIpAddr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/IpAddr'\nipDomain:\ntype: string\ndescription: The IPv4 address domain identifier.\nueMac:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MacAddr48'\nueId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nexternalGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nappId:\ntype: string\ndescription: Identifies the Application Identifier.\nethFlowInfo:\ntype: array\nitems:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription'\nminItems: 1\nenEthFlowInfo:\ntype: array\nitems:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/EthFlowInfo'\nminItems: 1\ndescription: >\nIdentifies the Ethernet flows which require QoS. Each Ethernet flow consists of a flow\nidentifer and the corresponding UL and/or DL flows.\nflowInfo:\ntype: array\nitems:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/FlowInfo'\nminItems: 1\nafId:\ntype: string\ndescription: Identifies the AF identifier.\ntscQosReq:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/TscQosRequirement'\nqosReference:\ntype: string\ndescription: Identifies a pre-defined QoS information.\naltQosReferences:\ntype: array\nitems:\ntype: string\nminItems: 1\ndescription: Identifies an ordered list of pre-defined QoS information.\naltQosReqs:\ntype: array\nitems:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AlternativeServiceRequirementsData'\nminItems: 1\ndescription: >\nIdentifies an ordered list of alternative service requirements that include individual\nQoS parameter sets. The lower the index of the array for a given entry, the higher the\npriority.\naspId:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AspId'\nsponId:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponId'\nsponStatus:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponsoringStatus'\nevSubsc:\n$ref: '#/components/schemas/EventsSubscReqData'\ntempInValidity:\n$ref: '#/components/schemas/TemporalInValidity'\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n\nTscAppSessionContextUpdateData:\ndescription: >\nDescribes the authorization data of an Individual TSC Application Session Context created by\nthe PCF.\ntype: object\nproperties:\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nappId:\ntype: string\ndescription: Identifies the Application Identifier.\nethFlowInfo:\ntype: array\nitems:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription'\nminItems: 1\nenEthFlowInfo:\ntype: array\nitems:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/EthFlowInfo'\nminItems: 1\ndescription: >\nIdentifies the Ethernet flows which require QoS. Each Ethernet flow consists of a flow\nidentifer and the corresponding UL and/or DL flows.\nflowInfo:\ntype: array\nitems:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/FlowInfo'\nminItems: 1\ntscQosReq:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/TscQosRequirementRm'\nqosReference:\ntype: string\ndescription: Identifies a pre-defined QoS information.\naltQosReferences:\ntype: array\nitems:\ntype: string\nminItems: 1\ndescription: Identifies an ordered list of pre-defined QoS information.\naltQosReqs:\ntype: array\nitems:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AlternativeServiceRequirementsData'\nminItems: 1\ndescription: >\nIdentifies an ordered list of alternative service requirements that include individual\nQoS parameter sets. The lower the index of the array for a given entry, the higher the\npriority.\naspId:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AspId'\nsponId:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponId'\nsponStatus:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponsoringStatus'\nevSubsc:\n$ref: '#/components/schemas/EventsSubscReqDataRm'\ntempInValidity:\n$ref: '#/components/schemas/TemporalInValidity'\nallOf:\n- not:\nrequired: [ethFlowInfo, enEthFlowInfo]\n- not:\nrequired: [altQosReqs, altQosReferences]\n- not:\nrequired: [qosReference, altQosReqs]\n\nEventsSubscReqData:\ndescription: Identifies the events the application subscribes to.\ntype: object\nrequired:\n- events\n- notifUri\n- notifCorreId\nproperties:\nevents:\ntype: array\nitems:\n$ref: '#/components/schemas/TscEvent'\nminItems: 1\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nqosMon:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringInformation'\nusgThres:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/UsageThreshold'\nnotifCorreId:\ntype: string\n\nEventsSubscReqDataRm:\ndescription: >\nThis data type is defined in the same way as the EventsSubscReqData data type, but with the\nOpenAPI nullable property set to true.\ntype: object\nrequired:\n- events\nproperties:\nevents:\ntype: array\nitems:\n$ref: '#/components/schemas/TscEvent'\nminItems: 1\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nqosMon:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringInformationRm'\nusgThres:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/UsageThresholdRm'\nnotifCorreId:\ntype: string\nnullable: true\n\nEventsNotification:\ndescription: Describes the notification of matched events.\ntype: object\nrequired:\n- notifCorreId\n- events\nproperties:\nnotifCorreId:\ntype: string\nevents:\ntype: array\nitems:\n$ref: '#/components/schemas/EventNotification'\nminItems: 1\n\nEventNotification:\ndescription: Describes a notification of an matched event.\ntype: object\nrequired:\n- event\nproperties:\nevent:\n$ref: '#/components/schemas/TscEvent'\nflowIds:\ntype: array\nitems:\ntype: integer\nminItems: 1\ndescription: Identifies the IP flows that were sent during event subscription.\nqosMonReports:\ntype: array\nitems:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringReport'\nminItems: 1\nusgRep:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/AccumulatedUsage'\nappliedQosRef:\ntype: string\ndescription: >\nThe currently applied alternative QoS requirement referring to an alternative QoS\nreference or a requested alternative QoS parameter set. Applicable for\nevent QOS_NOT_GUARANTEED or SUCCESSFUL_RESOURCES_ALLOCATION.\naltQosNotSuppInd:\ntype: boolean\ndescription: >\nWhen present and set to true it indicates that the Alternative QoS profiles are not\nsupported by NG-RAN. Applicable for\nevent QOS_NOT_GUARANTEED or SUCCESSFUL_RESOURCES_ALLOCATION.\n\nAdditionInfoTsctsfQosTscac:\ndescription: Describes additional error information specific for this API.\ntype: object\nproperties:\nacceptableServInfo:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AcceptableServiceInfo'\nbatOffsetInfo:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/BatOffsetInfo'\n\nTemporalInValidity:\ndescription: Indicates the time interval(s) during which the AF request is not to be applied.\ntype: object\nproperties:\nstartTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nstopTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- startTime\n- stopTime\n\n#\n# ENUMERATIONS DATA TYPES\n#\nTscEvent:\ndescription: Represents an event to notify to the AF.\nanyOf:\n- type: string\nenum:\n- FAILED_RESOURCES_ALLOCATION\n- QOS_MONITORING\n- QOS_GUARANTEED\n- QOS_NOT_GUARANTEED\n- SUCCESSFUL_RESOURCES_ALLOCATION\n- USAGE_REPORT\n- BAT_OFFSET_INFO\n- type: string\ndescription: >\nThis string provides forward-compatibility with future extensions to the enumeration\nand is not used to encode content defined in the present version of this API.\n#\n# ALTERNATIVE DATA TYPES OR COMBINATIONS OF DATA TYPES\n#\nProblemDetailsTsctsfQosTscac:\ndescription: Extends ProblemDetails to also include the acceptable service info.\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\n- $ref: '#/components/schemas/AdditionInfoTsctsfQosTscac'\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.4\tNtsctsf_ASTI API",
            "description": "openapi: 3.0.0\n\ninfo:\ntitle: Ntsctsf_ASTI Service API\nversion: 1.1.0-alpha.3\ndescription: |\nTSCTSF  Access Stratum time distribution configuration Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: >\n3GPP TS 29.565 V18.4.0; 5G System; Time Sensitive Communication and\nTime Synchronization Function Services; Stage 3.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/'\n\nservers:\n- url: '{apiRoot}/ntsctsf-asti/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- ntsctsf-asti\n\npaths:\n/configurations:\npost:\nsummary: Creates a new Individual ASTI Configuration resource.\noperationId: ASTIConfiguration\ntags:\n- ASTI Configurations (Collection)\nrequestBody:\ndescription: Contains the information for the creation the resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AccessTimeDistributionData'\nresponses:\n'201':\ndescription: Successful creation of the resource.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AccessTimeDistributionData'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created individual ASTI Configuration resource,\naccording to the structure\n{apiRoot}/ntsctsf-asti/{apiVersion}/configurations/{configId}\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nastiNotification:\n'{$request.body#/astiNotifUri}':\npost:\nrequestBody:\ndescription: Notification of an ASTI configuration change event.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AstiConfigNotification'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n\n/configurations/retrieve:\npost:\nsummary: Request the status of the 5G access stratum time distribution for a list of UEs.\noperationId: RequestStatusof5GAccessStratumTimeDistribution\ntags:\n- ASTI Configurations\nrequestBody:\ndescription: >\nContains the information for the status of the 5G access stratum time distribution.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/StatusRequestData'\nresponses:\n'200':\ndescription: >\nSuccessful retrieval of the status of the 5G access stratum time distribution.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/StatusResponseData'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/configurations/{configId}:\nput:\nsummary: Modifies an existing Individual ASTI Configuration resource.\noperationId: ModifyIndividualASTIConfiguration\ntags:\n- Individual ASTI Configuration (Document)\nparameters:\n- name: configId\ndescription: String identifying an Individual ASTI Configuration.\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AccessTimeDistributionData'\nresponses:\n'200':\ndescription: OK. Resource was succesfully modified and representation is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AccessTimeDistributionData'\n'204':\ndescription: No Content. Resource was succesfully modified.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualASTIConfiguration\nsummary: Delete an Individual ASTI Configuration\ntags:\n- Individual ASTI Configuration (Document)\nparameters:\n- name: configId\nin: path\ndescription: String identifying an Individual ASTI Configuration.\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\n\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nntsctsf-asti: Access to the Ntsctsf_ASTI API\n\nschemas:\nAccessTimeDistributionData:\ndescription: >\nContains the parameters for the creation of 5G access stratum time distribution\nconfiguration.\ntype: object\nproperties:\nsupis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nminItems: 1\ngpsis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nminItems: 1\ninterGrpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nexterGrpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId'\nasTimeDisParam:\n$ref: '#/components/schemas/AsTimeDistributionParam'\ncovReq:\ntype: array\ndescription: >\nIdentifies a list of Tracking Areas per serving network where 5GS\nAccess Stratum Time Distribution parameters are allowed.\nitems:\n$ref: 'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/ServiceAreaCoverageInfo'\nminItems: 1\nastiNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\nastiNotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- asTimeDisParam\noneOf:\n- required: [supis]\n- required: [interGrpId]\n- required: [gpsis]\n- required: [exterGrpId]\n\nAsTimeDistributionParam:\ndescription: Contains the 5G access stratum time distribution parameters.\ntype: object\nproperties:\nasTimeDisEnabled:\ntype: boolean\ndescription: >\nWhen this attribute is included and set to true, it indicates that the access stratum\ntime distribution via Uu reference point is activated.\ntimeSyncErrBdgt:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\ntempValidity:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity'\nclkQltDetLvl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityDetailLevel'\nclkQltAcptCri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityAcceptanceCriterion'\n\nStatusRequestData:\ndescription: >\nContains the parameters for retrieval of the status of the access stratum time distribution\nfor a list of UEs.\ntype: object\nproperties:\nsupis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nminItems: 1\ngpsis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nminItems: 1\noneOf:\n- required: [supis]\n- required: [gpsis]\n\nStatusResponseData:\ndescription: >\nContains the parameters for the status of the access stratum time distribution for a list of\nUEs.\ntype: object\nproperties:\ninactiveUes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nminItems: 1\ninactiveGpsis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nminItems: 1\nactiveUes:\ntype: array\nitems:\n$ref: '#/components/schemas/ActiveUe'\nminItems: 1\n\nActiveUe:\ndescription: >\nContains the UE identifier whose status of the access stratum time distribution is active\nand the optional requested time synchronization error budget.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\ntimeSyncErrBdgt:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\noneOf:\n- required: [supi]\n- required: [gpsi]\n\nAstiConfigNotification:\ndescription: >\nContains the report of a change in the 5G Access Stratum Time Distribution\nparameters applied to the UE(s).\ntype: object\nproperties:\nastiNotifId:\ntype: string\nstateConfigs:\ntype: array\nitems:\n$ref: '#/components/schemas/AstiConfigStateNotification'\nminItems: 1\ndescription: >\nIt is FFS the parameters of the AstiConfigEventNotification data type.\nrequired:\n- astiNotifId\n- stateConfigs\n\nAstiConfigStateNotification:\ndescription: >\nContains the report of a change in the 5G Access Stratum Time Distribution\nparameters applied to a UE.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nevent:\n$ref: '#/components/schemas/AstiEvent'\nrequired:\n- event\noneOf:\n- required: [supi]\n- required: [gpsi]\n#\n# ENUMERATIONS DATA TYPES\n#\nAstiEvent:\nanyOf:\n- type: string\nenum:\n- ASTI_ENABLED\n- ASTI_DISABLED\n- CLOCK_QUAL_ACCEPTABLE\n- CLOCK_QUAL_NON_ACCEPTABLE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future extensions to the enumeration\nand is not used to encode content defined in the present version of this API.\ndescription: |\nRepresents an ASTI event to notify to the AF/NEF.\nPossible values are:\n- ASTI_ENABLED: Access stratum time distribution via Uu reference point is activated.\n- ASTI_DISABLED: Access stratum time distribution via Uu reference point is deactivated.\n- CLOCK_QUAL_ACCEPTABLE: The UE meets the clock quality acceptance criteria.\n- CLOCK_QUAL_NON_ACCEPTABLE: The UE does not meet the clock quality acceptance criteria.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.1\t3GPP extensions for DetNet integration with 5GS",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.1.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The 5G System is integrated with the Deterministic Networking as defined in IETF RFC 8655[63] as a logical DetNet transit node as specified in 3GPP TS 23.501 [2], clause 4.4.8.4.\nThe support of deterministic networking is achieved by reusing the TSC framework for deterministic QoS and time synchronization services. To enable deterministic networking in 5GS, the DetNet controller collects interface information from the 5GS DetNet node via the TSCTSF using the 5GS DetNet node information reporting procedure described in clause 5.5.12.2 of 3GPP TS 23.513 [31] and provides DetNet Yang configurations for DetNet flow(s) as described in clause 5.5.12.3 of 3GPP TS 23.513 [31].\nThe TSCTSF offers to the DetNet controller RESTCONF (IETF RFC 8040 [30]) and/or NETCONF (IETF RFC 6241 [29]) interfaces and the data schema defined by the 3GPP Extended Deterministic Networking (DetNet) YANG model. The 3GPP Extended DetNet YANG model is based on the DetNet YANG model specified in IETF draft-ietf-detnet-yang [28] and extended by 3GPP Extensions described in table B.1.1-1.\nThe 3GPP Extended DetNet YANG Model offered by the TSCTSF is accessed by the DetNet controller as shown in figure B.1.1-1\nFigure B.1.1-1 provides a detailed representation of the access to the 3GPP Extended DetNet YANG Model. The figure illustrates the various components involved in the network, including the DetNet model, the network elements, and the interfaces between them. The figure also shows the data flow and the interactions between different parts of the network, providing a comprehensive overview of the access architecture. This information is essential for understanding the design and operation of the network and for troubleshooting any issues that may arise.\nFigure B.1.1-1: Representation of the access to 3GPP Extended DetNet YANG Model.\n\nTable B.1.1-1 summarizes the 3GPP extensions to the DetNet YANG model defined in this specification.\nTable B.1.1-1: 3GPP Extensions Descriptions\n\n",
                    "tables": [
                        {
                            "description": "Table B.1.1-1: 3GPP Extensions Descriptions",
                            "table number": 180,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "B.1.2\t3GPP Extension 3gpp-5gs-detnet-node",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.1.2.1\tDescription",
                            "text_content": "Deterministic Networking parameter provisioning allows a DetNet controller to configure deterministic networking parameters in 5GS and provide time-sensitive features that guarantee almost zero packet loss rates and bounded latency.\nThe DetNet controller communicates with the 5GS system through the TSCTSF as specified in 3GPP TS 29.513 [31] to collect 5GS DetNet node interface information and to provide DetNet flow-related parameters to configure the DetNet traffic in 5GS.\nThe TSCTSF may receive DetNet YANG configuration for DetNet flows as described in IETF draft-ietf-detnet-yang [28], that describes the traffic characteristics and QoS requirements for the DetNet flows. Additionally, when both, the TSCTSF and the DetNet controller support the 3GPP Extension 3gpp-5gs-detnet-node, the configuration of the DetNet traffic in 5GS also enable that:\n-\tThe DetNet controller may provide the maximum latency and/or maximum loss requirements the 5GS system needs to apply, as specified in clause B.1.2.2.\n-\tThe TSCTSF may provide to the DetNet controller 5GS specific status code information on the status of the configuration requested by the DetNet controller for the DetNet flow(s), as specified in clause B.1.2.3.\nTo enable the DetNet controller builds up network topology information, the 5GS DetNet node exposes interface information to the DetNet controller through the TSCTSF. When both, the TSCTSF and the DetNet controller support the 3GPP Extension 3gpp-5gs-detnet-node, the TSCTSF may provide to the DetNet controller 5GS DetNet node identification as specified in clause B.1.2.4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.1.2.2\tProvisioning of 5GS specific traffic characteristics and requirements",
                            "text_content": "When both, the DetNet controller and the TSCTSF support the 3GPP Extension 3gpp-5gs-detnet-node, the DetNet controller may provide the following 5GS specific traffic characteristics and requirements within the \"_3gpp-5gs-node-requirements\" YANG container:\n-\tthe maximum latency from 5GS node ingress to 5GS node egress(es) of a DetNet flow by providing the \"_3gpp-5gs-node-max-latency\" attribute; and/or\n-\tthe maximum packet loss ratio parameter for the DetNet service between the 5G node ingress and the 5GS node egress(es) by providing the \"_3gpp-5gs-node-max-latency\" attribute; and\n-\ta reference to the DetNet flow identification within the \"forwarding-sub-layer\" attribute.\nWhen the DetNet controller does not provide the \"_3gpp-5gs-node-max-latency\" attribute and/or the \"_3gpp-5gs-node-max-latency\" attribute but instead provides the IETF draft-ietf-detnet-yang [28] \"max-latency\" and/or \"max-loss\" attributes for the end-to-end flow, the TSCTSF may determine the corresponding maximum latency and/or maximum packet loss values based on a preconfigured mapping and applicable to the 5GS specific deployment.\nNOTE:\tIf the DetNet controller does not include the 5GS specific \"_3gpp-5gs-node-max-latency\" nor the end-to-end \"max-latency\", the TSCTSF can derive the Requested 5GS Delay or, alternatively, the PCF can derive the PDB. Similarly, if the DetNet YANG configuration does not include the 5GS specific \"_3gpp-5gs-node-max-loss\" nor the end-to-end \"max-loss\", the TSCTSF can derive the Requested Packet Error Rate or, alternatively, the PCF can derive the PER.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.1.2.3\tReport of 5GS DetNet flow(s) status",
                            "text_content": "The DetNet controller may be informed about the following 5GS specific events about status change of the configured DetNet flows:\n-\tNotification about DetNet flow(s) deactivation in 5GS node. To notify the DetNet controller about DetNet flow deactivation in 5GS, the TSCTSF shall subscribe with the PCF to service data flow deactivation as specified in 3GPP TS 29.514 [20].\n-\tNotification about resource allocation outcome in 5GS node. The TSCTSF shall subscribe with the PCF to notifications about the unsuccessful and/or successful resource allocation outcome as specified in 3GPP TS 29.514 [20].\n-\tNotification about PDU session release.\nWhen the TSCTSF receives from the PCF the notification about service data flow deactivation, or the notification about unsuccessful or successful resource allocation, or the notification about PDU session release and both, the DetNet controller and the TSCTSF support the 3GPP Extension 3gpp-5gs-detnet-node, the TSCTSF may notify the DetNet controller by including the following 3GPP 5GS specific failure reason:\n-\t\"3gpp-5gs-node-resource-allocation-failure\", to notify about the failed resource allocation in the 5G System;\n-\t\"3gpp-5gs-node-resource-allocation-success\", to notify about the successful resource allocation in the 5G System; or\n-\t\"3gpp-5gs-node-pdu-session-release\", to notify about PDU session release.\nWhen the TSCTSF or the DetNet controller do not support the 3GPP Extension 3gpp-5gs-detnet-node, the TSCTSF provides an IETF draft-ietf-detnet-yang [28] defined failure-reason, e.g. \"resource-unavailable\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.1.2.4\tExposure of 5GS DetNet Node Identification",
                            "text_content": "The TSCTSF collects 5GS DetNet node interface information from the NW-TT/UPF using Time Synchronization procedures as described in 3GPP TS 29.513[31]. When both, the TSCTSF and the DetNet controller support the 3GPP Extension 3gpp-5gs-detnet-node, the TSCTSF may provide to the DetNet controller 5GS DetNet node identification.\nDuring PDU session establishment, i.e., when the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation defined in clause 4.2.5.16 of 3GPP TS 29.514 [20], the TSCTSF may use the received user-plane node Id to generate an identifier of the 5GS DetNet node and provide it to the DetNet controller within the \"5GS-node-id\" attribute.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "B.2\tYANG Module Definitions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.2.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.2.1.1\tGeneral",
                            "text_content": "As specified in IETF RFC 7590 [33], a YANG model is defined in a YANG module and is stored in a file with file extension \".yang\". An extension to an existing YANG model is done via the definition of a new YANG module that contains the definitions of the new components.\nA YANG module typically has the following layout:\nmodule <module-name> {\n\n// header information\n<yang-version statement>\n<namespace statement>\n<prefix statement>\n\n// linkage statements\n<import statements>\n<include statements>\n\n// meta-information\n<organization statement>\n<contact statement>\n<description statement>\n<reference statement>\n\n// revision history\n<revision statements>\n\n// module definitions\n<other statements>\n}\n\nThe YANG module with the 3GPP extensions for the DetNet YANG model shall follow the YANG model layout defined in clause 7.1 of IETF RFC 7590 [33] and represented above, where the linkage and module definitions statements contain the definition of the new components that represent the 5GS specifics.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.1.2\tModule name",
                            "text_content": "module <module-name>\n\nTo differentiate from other YANG modules, 3GPP extensions to DetNet YANG model module(s) shall start with the \"3gpp-5gs-detnet\" prefix.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.1.3\tHeader information",
                            "text_content": "According to IETF RFC 7590 [33], YANG version 1.1 shall be used.\nThe namespace for a YANG module's namespace shall follow section 4.9 of IETF RFC 8407.\nThe 3GPP extensions to DetNet YANG model shall follow the following form:\nurn:3gpp:node:detnet:<module-name>\n\nTo ensure uniqueness of the prefix defined in the 3GPP extensions for the DetNet YANG model, the module(s) shall use prefixes ending with \"3gppdnet\". Prefixes should be short preferably not longer than 10 characters, but 13 characters at most.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.1.4\tMeta-information",
                            "text_content": "The organization statement shall contain the organization developing and maintaining the YANG file with the 3GPP extensions for the DetNet YANG model, i.e. the string \"3GPP CT3 Working Group\".\nThe contact statement contains contact information for the person or persons to whom technical queries concerning this module should be sent.\nFor the 3GPP extensions to YANG DetNet model it shall include a string with the CT3 WG web link.\ncontact\n\"CT3 WG Web:  <https://www.3gpp.org/3gpp-groups/core-network-terminals-ct/ct-wg3>\";\n\nThe description statement contains human-readable textual description for the module definition.\nIn addition, the YANG module with 3GPP extensions to YANG DetNet model shall also include the copyright notice as included in the front page of the present document and a reference to the present document.\nEXAMPLE:\ndescription\n\"3gpp-5gs-detnet-node module contains an extension of ietf-detnet YANG module with\nadditional parameters defined for interworking with 3GPP 5GS.\n\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nThis version of this YANG module is specified in:\n3GPP TS 29.565 V18.1.0; 5G System;\nTime Sensitive Communication and Time Synchronization Function Services.\nurl: http://www.3gpp.org/ftp/Specs/archive/29_series/29.565/\";\n\nThis statement contains a human-readable cross reference to an external document that defines related information or additional information.\nWhen included, it refers e.g., to other 3GPP Technical Specifications with related information.\nEXAMPLE:\nreference\n\"Additional information to this YANG module is specified in:\n3GPP TS 23.501, System architecture for the 5G System (5GS)\n3GPP TS 23.502, Procedures for the 5G System (5GS)\n3GPP TS 23.503, Policy and charging control framework (5GS)\nurl: http://www.3gpp.org/ftp/Specs/archive/23_series/\";\n\nThis statement contains the revision history of the module, including the initial revision. A series of revision statements detail the changes in the module’s definition. The argument is a date string in the format \"YYYY-MM-DD\" followed by a block of sub-statements with detailed revision information. A module should have at least one revision statement.\nFor the YANG module(s) with the 3GPP extensions to YANG DetNet model:\n1.\tFor a frozen release, only one revision statement shall be included and shall indicate the last revision of the module for that release version of the TS.\n2.\tA non-frozen release may contain a series of revision statements that represent the list of changes approved in that release. At the freeze of the release, only the last revision statement shall be kept.\n3.\tThe date argument of the revision statement(s) shall contain a value corresponding to the CT plenary date that approved the latest changes to the YANG module.\n4.\tTo allow the YANG module could be updated with new components in new releases or with corrections in a frozen release, a version control mechanism is enabled. The description sub-statement shall be used to contain a string with the YANG module version. Version control for the 3GPP Extensions for the DetNet YANG shall follow the version control rules for SBI APIs specified in 3GPP TS 29.501 [5], clause 4.3.\nEXAMPLE 1:\tSeries of revision published by 3GPP of the 3GPP extension YANG module before the freeze of the Rel-18, with version included.\nrevision 2024-012-dd\n// optional\n{\ndescription \"version: v1.0.0-alpha.3\"};\n\nrevision 2023-09-dd\n// optional\n{\ndescription \"version: v1.0.0-alpha.2\"};\n\nrevision 2023-06-dd\n// optional\n{\ndescription \"version: v1.0.0-alpha.1\"};\n\nEXAMPLE 2:\tFinal revision of the 3GPP extension of the YANG module published by 3GPP, with version included, published at the freeze of Rel-18.\nrevision 2024-06-dd\n{\ndescription \"version: v1.0.0\"};\n\nEXAMPLE 3:\tThe YANG module is evolved during the first plenary cycle corresponding to Rel-19, .\nrevision 2024-09-dd\n{\ndescription \"version: v1.1.0-alpha.1\"};\n\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.1.2\tFormatting rules",
                            "text_content": "The following 3GPP specific guidelines should be used when documenting the YANG module for the 3GPP extensions to the DetNet YANG model:\n-\tThe YANG module should be considered a code component. The strings \"<CODE BEGINS>\" and \"<CODE ENDS>\" are used to identify each code component.\n-\tThe \"<CODE BEGINS>\" tag is followed by a string identifying the file name as specified in section 5.2 of IETF RFC 6020 [35].\n-\tThe YANG data nodes (leaf, leaf-list, container, list) shall be used for data modelling of the new YANG components.\n-\tThe style used for the specification of the YANG module shall be \"PL\" (Programming Language).\n-\tComments may be added by following the standard YANG 1.1 syntax (\"//\" or \"/*\" and \"*/\").\n-\tTabs shall not be used (e.g. within description fields).\n-\t\"Unbreakable\" spaces (UTF-8 'NO-BREAK SPACE' (U+00A0)) shall not be used (e.g. within description fields). Only \"normal\" spaces (UTF-8 'SPACE' (U+0020)) shall be allowed.\n-\tTrailing spaces (i.e. white spaces at the end of a line) should not be used.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "B.2.2\t3gpp-5gs-detnet-node Module definition",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.2.2.1\tIntroduction",
                            "text_content": "The 3GPP extension to the IETF draft-ietf-detnet-yang [37] is defined in 3GPP as a YANG module which imports draft-ietf-detnet-yang [37] and adds the 3GPP specific parameters.\nThe module name shall be set to \"3gpp-5gs-detnet-node\".\nThe YANG version shall be set to \"1.1\".\nThe namespace for the 3gpp-5gs-detnet-node YANG module shall be set to \"urn:3gpp:node:detnet:3gpp-5gs-detnet-node\".\nThe prefix statement for the 3gpp-5gs-detnet-node YANG module shall be set to \"5gs3gppdnet\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.2.2\tData Model",
                            "text_content": "Table B.2.2.2.1-1 specifies the data types defined for the 3gpp-5gs-detnet-node Module.\nTable B.2.2.2.1-1: 3gpp-5gs-detnet-node Module specific Data Types\n\nTable B.2.2.2.1-2 specifies data types re-used by the _3gpp-5gs-detnet-node Module from other YANG modules, including a reference to their respective specifications and when needed, a short description of their use.\nTable BA.2.2.2.1-2: _3gpp-5gs-detnet-node Module re-used Data Types\n\nThis clause defines the YANG structures to be used in 3gpp-5gs-detnet-node YANG Module.\nThe _3gpp-5gs-node-requirements type is a YANG container that defines the maximum delay and/or the maximum loss the 5GS needs to satisfy for the traffic of the DetNet flows indicated by the forwarding sublayer.\n\nTable B.2.2.2.2.2-1: Definition of type _3gpp-5gs-node-requirements\n\nThe _3gpp-5gs-node-configuration-outcome type is a YANG container that defines the additional outcome the 5GS may provide to a configuration request for the DetNet flows comprised by the forwarding sublayer.\n\nTable B.2.2.2.2.3-1: Definition of type _3gpp-5gs-node-configuration-outcome\n\nThe _3gpp-5gs-node-identity type is a YANG container that defines the 5GS node identity handling the traffic of the DetNet flows comprised by the forwarding sublayer.\n\nTable B.2.2.2.2.3-1: Definition of type _3gpp-5gs-node-configuration-outcome\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table B.2.2.2.3.2-1 shall be supported.\nTable B.2.2.2.3.2-1: Simple data types\n\nThe enumeration _3gpp-5gs-node-configuration-status represents the configuration status that may be reported by the 3GPP 5GS node. It shall comply with the provisions defined in table B.2.2.2.3.3-1.\nTable B.2.2.2.3.3-1: Enumeration _3gpp-5gs-node-configuration-status\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table B.2.2.2.1-1: 3gpp-5gs-detnet-node Module specific Data Types",
                                    "table number": 181,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table BA.2.2.2.1-2: _3gpp-5gs-detnet-node Module re-used Data Types",
                                    "table number": 182,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table B.2.2.2.2.2-1: Definition of type _3gpp-5gs-node-requirements",
                                    "table number": 183,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table B.2.2.2.2.3-1: Definition of type _3gpp-5gs-node-configuration-outcome",
                                    "table number": 184,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table B.2.2.2.2.3-1: Definition of type _3gpp-5gs-node-configuration-outcome",
                                    "table number": 185,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table B.2.2.2.3.2-1: Simple data types",
                                    "table number": 186,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table B.2.2.2.3.3-1: Enumeration _3gpp-5gs-node-configuration-status",
                                    "table number": 187,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "C.1\tGeneral",
            "description": "The present Annex contains the YANG file for the _3gpp-5gs-detnet-node YANG module, that specifies the 3GPP extensions to support:\n-\tThe indication of the maximum loss and maximumd latency the 5GS system shall apply for the provided DetNet flows.\n-\t5GS specific status codes with information about the status of the configuration requested by the DetNet controller.\n-\tExposure of 5GS DetNet node identification.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.2\tYANG module _3gpp-5gs-detnet-node",
            "description": "<CODE BEGINS> file \"_3gpp-5gs-detnet-node.yang\"\nmodule _3gpp-5gs-detnet-node {\nyang-version 1.1;\nnamespace \"urn:3gpp:node:detnet:_3gpp-5gs-detnet-node\";\nprefix _5gs3gppdnet;\n\nimport ietf-detnet {\nprefix dnet;\nreference\n\"draft-ietf-detnet-yang-18\";\n}\n\norganization \"3GPP CT3 Working Group\";\n\ncontact\n\"CT3 WG Web:  <https://www.3gpp.org/3gpp-groups/core-network-terminals-ct/ct-wg3>\";\n\ndescription\n\"_3gpp-5gs-detnet-node module contains an extension of ietf-detnet YANG module with\nadditional parameters defined for interworking with 3GPP 5GS.\n\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nThis version of this YANG module is specified in:\n3GPP TS 29.565 V18.4.0; 5G System;\nTime Sensitive Communication and Time Synchronization Function Services.\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/\";\n\nreference\n\"Additional information to this YANG module is specified in:\n\n3GPP TS 23.501, System architecture for the 5G System (5GS);\nurl: https://www.3gpp.org/ftp/Specs/archive/23_series/23.501/\n\n3GPP TS 23.503, Policy and charging control framework (5GS)\nurl:\n\n3GPP TS 29.513, Policy and Charging Control signalling flows and QoS parameter mapping\nurl: \";\n\nrevision 2023-12-12 {\ndescription \"version: v1.0.0-alpha.2\";\n}\n\nrevision 2023-06-13 {\ndescription \"version: v1.0.0-alpha.1\";\n}\n\ntypedef _3gpp-5gs-node-configuration-status {\ntype enumeration {\nenum _3gpp-5gs-node-resource-allocation-success {\ndescription\n\"Successful configuration request.\nSuccessful resource allocation within 5GS for the requested configuration\";\n}\nenum _3gpp-5gs-node-resource-allocation-failure {\ndescription\n\"Unsuccessful configuration request.\nFailed resource allocation within 5GS for the requested configuration\";\n}\nenum _3gpp-5gs-node-port-release {\ndescription\n\"Port release due to the termination of PDU session with the requested\n5GS configuration\";\n}\ndescription\n\"_3gpp-5gs-node-configuration-status type identifies the 3GPP specific configuration\nstatus that may be reported by the 3GPP 5GS node.\";\n}\n\ncontainer _3gpp-5gs-node-requirements {\ndescription\n\"This container defines the maximum delay and/or the maximum loss the 5GS needs to satisfy\";\nleaf _forwarding-sub-layer {\ntype dnet:forwarding-sub-layer-ref;\ndescription\n\"Reference to the forwarding sub-layer that the maximum delay and/or the maximum loss\napplies to\";\n}\nleaf _3gpp-5gs-node-max-latency {\ntype uint32;\nunits \"nanoseconds\";\ndescription\n\"Maximum latency from 5GS node ingress to 5GS node egress(es) for a single packet of the\nDetNet flow. It is specified as an integer number of nanoseconds\";\n}\nleaf _3gpp-5gs-node-max-loss {\ntype uint32;\ndescription\n\"Maximum Packet Loss Ration (PLR) parameter for the DetNet service between the 5GS node\ningress and 5GS node egress(es)\";\n}\n}\n\ncontainer _3gpp-5gs-node-configuration-outcome {\ndescription\n\"This container defines the additional outcome the 5GS may provide to a configuration\nrequest\";\nleaf _forwarding-sub-layer {\ntype dnet:forwarding-sub-layer-ref;\ndescription\n\"Reference to the forwarding sub-layer the outcome to a configuration request applies to\";\n}\nleaf _3gpp-5gs-node-configuration-status {\ntype _3gpp-5gs-node-configuration-status;\ndescription \"Changes on configuration status reported by the 3GPP 5GS node\";\n}\n}\n\ncontainer _3gpp-5gs-node-identity {\ndescription\n\"This container defines the 5GS Node identity the 5GS provides to the DetNet controller\";\nleaf _forwarding-sub-layer {\ntype dnet:forwarding-sub-layer-ref;\ndescription\n\"Reference to the forwarding sub-layer that the 5GS node Id applies to\";\n}\nleaf _3gpp-5gs-node-id {\ntype string;\ndescription\n\"5GS node identity. It is the user-plane node Id handling the traffic of the indicated\nDetNet flows\";\n}\n}\n}\n<CODE ENDS>\n\n\n\n\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "",
                    "table number": 188,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        }
    ]
}