{
    "document_name": "24571-i30.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document specifies the operations and information coding for the Non-Access Stratum (NAS) layer protocol for supporting the Location Services (LCS) in the NG-RAN.\nThe present document is applicable to the User Equipment (UE) and to the Access and Mobility Management Function (AMF) or Location Management Function (LMF) in the 5G System (5GS).\nThe present document is developed in accordance to the general principles stated in 3GPP TS 23.273 [2].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage 2\".\n[3]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n[4]\t3GPP TS 37.355: \"LTE Positioning Protocol (LPP)\".\n[4a]\t3GPP TS 38.355: \"Sidelink Positioning Protocol (SLPP); Protocol specification\".\n[5]\t3GPP TS 24.080: \"Mobile radio interface layer 3 supplementary services specification; Formats and coding\".\n[6]\t3GPP TS 29.572: \"5G System; Location Management Services; Stage 3\".\n[7]\t3GPP TS 38.305: \"Stage 2 functional specification of User Equipment (UE) positioning in NG-RAN\".\n[8]\t3GPP TS 22.261: \"Service requirements for the 5G system; Stage 1\".\n[9]\t3GPP TS 24.572: \"User Plane Location Services (LCS) Protocols And Procedures; Stage 3\".\n[10]\t3GPP TS 23.586: \"Architectural Enhancements to support; Ranging based services and Sidelink Positioning\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions of terms, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tTerms",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nFor the purposes of the present document, the following terms and definitions given in 3GPP TS 22.261 [8] apply:\nsatellite NG-RAN\nPRU ON/OFF state: This state is defined for a UE associated as a PRU with an LMF (i.e. after the successful completion of PRU association procedure). This state indicates whether the PRU functionality of the UE is activated (i.e. ON state) or deactivated (i.e. OFF state) while it is associated with an LMF.\nUE operating as PRU: From the UE perspective, a UE which supports PRU functionality and operates as PRU. From the network perspective, the UE allowed to operate as a PRU based on the UE subscription data and the PRU state is ON.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tSymbols",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.3\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\n5GCN\t5G Core Network\n5GS\t5G System\nAMF\tAccess and Mobility Management Function\nDL\tDownlink\nIE\tInformation Element\nGMLC\tGateway Mobile Location Centre\nLCS\tLocation Services\nLDR\tLocation Deferred Request\nLMF\tLocation Management Function\nLPP\tLTE Positioning Protocol\nMO-LR\tMobile Originated Location Request\nMT-LR\tMobile Terminated Location Request\nNAS\tNon-access Stratum\nPRU\tPositioning Reference Unit\nSLPP\tSideLink Positioning Protocol\nSNPN\tStand-alone Non-Public Network\nUE\tUser Equipment\nUL\tUplink\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tGeneral",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tOverview",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.1.1\tNAS aspect",
                            "text_content": "To enable transfer of Location Services (LCS) signaling messages between the 5G core network (5GCN) and the UE, two Payload container types are defined in the downlink (DL NAS TRANSPORT message) and the uplink (UL NAS TRANSPORT message or CONTROL PLANE SERVICE REQUEST message). The message protocol and procedures are described in 3GPP TS 24.501 [3].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.1.2\tLCS aspect",
                            "text_content": "LCS uses the defined payload container to transfer LCS signalling messages between the UE and the network.\nThe corresponding LCS signaling messages include:\na)\tLTE Positioning Protocol (LPP) messages (see 3GPP TS 37.355 [4]):\n-\tBoth downlink and uplink LPP messages are supported.\n-\tRouting information is transported as the Additional information IE in UL/DL NAS TRANSPORT message for LPP messages (see 3GPP TS 24.501 [3]).\na1)\tSideLink Positioning Protocol (SLPP) messages (see 3GPP TS 38.355 [4a]):\n-\tBoth downlink and uplink SLPP messages are supported.\n-\tRouting information is transported as the Additional information IE in UL/DL NAS TRANSPORT message for SLPP messages (see 3GPP TS 24.501 [3]).\nb)\tLocation services messages:\n-\tMessages for MO-LR operations (see 3GPP TS 24.080 [5]).\n-\tMessages for LocationNotification operations (see 3GPP TS 24.080 [5]).\n-\tMessages for EventReport operations (see 3GPP TS 24.080 [5]).\n-\tMessages for PeriodicTriggeredInvoke operations (see 3GPP TS 24.080 [5]).\n-\tMessages for CancelDeferredLocation operations (see 3GPP TS 24.080 [5]).\n-\tMessages for MSCancelDeferredLocation operations (see 3GPP TS 24.080 [5]).\n-\tMessages for LocationPrivacySetting operations (see 3GPP TS 24.080 [5]).\n-\tMessages for PRU-Association operations (see 3GPP TS 24.080 [5]).\n-\tMessages for SL-MO-LR operations (see 3GPP TS 24.080 [5]).\n-\tRouting information associated with the LMF is transported as the Additional information IE in UL/DL NAS TRANSPORT message or CONTROL PLANE SERVICE REQUEST message (see clause 5.2.2.6.1) for Location services messages that are transported between the UE and the LMF (see 3GPP TS 24.501 [3]).\nThe Routing information transported as the Additional Information IE can be Routing identifier in the current specification, which includes immediate routing identifier and deferred routing identifier. The immediate routing identifier transported as the Additional Information IE is the Correlation ID, which is allocated by the AMF and can be used in the UL/DL NAS TRANSPORT message (see clause 5.2 and clause 5.3). The deferred routing identifier transported as the Additional Information IE can be used in the UL NAS TRANSPORT and CONTROL PLANE SERVICE REQUEST message for the AMF routing the LCS messages to the particular LMF (see clause 5.2.2).\nThe messages for PeriodicTriggeredInvoke operations can be used to enable the location events reporting over user plane connection, and the messages for EventReport operations can be used for the cumulative event report, as described in clause 6.16.1 of 3GPP TS 23.273 [2]. The location events reporting over user plane connection is defined in 3GPP TS 24.572 [9]).\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.2\tLCS Support capabilities",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.2.1\tUE support of LCS",
                            "text_content": "The UE announces to the network its ability to support LCS notification mechanism or LPP messages or both, using the 5GMM capability IE defined in 3GPP TS 24.501 [3].\nThe UE supporting LCS notification mechanism and LPP messages may support PRU (defined in 3GPP TS 38.305 [7]). The UE’s ability to support PRU is stored in the UDM (see 3GPP TS 23.273 [2]) without any indication in 5GMM capability IE defined in 3GPP TS 24.501 [3].\nA UE accessing 5G network via satellite NG-RAN shall not operate as a PRU.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.2.2\tNetwork support of LCS",
                            "text_content": "The network announces to the UE its ability to support LCS in 5GC using the 5GS network feature support IE defined in 3GPP TS 24.501 [3]. The information is taken into account by the UE, in addition to UE's LCS capabilities, for the UE to determine whether to initiate MO-LR procedure in NG-RAN as specified in 3GPP TS 23.273 [3], clause 6.2.\nNOTE:\tAn SNPN can provide Location Services except for the cases of interworking with EPC, roaming, and direct access to SNPN via non-3GPP access, which are not supported in an SNPN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "5\tSupport of LCS signalling",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines the NG-RAN LCS operations (clause 5.2) and the format and coding of the messages (clause 5.3).\nThe messages defined in this clause can be transported in the UL/DL NAS Transport message defined in 3GPP TS 24.501 [3].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tLCS operations",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tNetwork initiated location services operations",
                            "text_content": "The supplementary services Location Notification operation enables the AMF to trigger the end-user notification verification process on the UE using NAS signalling. The supplementary services messages are transported using the DL NAS Transport message and the UL NAS Transport message defined in 3GPP TS 24.501 [3]. UE Location Privacy Indication information may be included in Location Notification Return Result to indicate whether subsequent LCS requests will be allowed or disallowed by the UE. Figure 5.2.1.1.1.1 illustrates an example of the NAS signalling transport applicable to a 5GC-MT-LR procedure for immediate or deferred location.\n\nFigure 5 illustrates the network architecture for Supplementary Services Location Notification (SSLN) in a telecommunications network. The figure depicts the process of NAS signalling transport, which involves the use of various protocols and interfaces to facilitate the exchange of information between network elements. The figure shows how data packets are routed and transmitted through different layers of the network, including the user plane, control plane, and management plane. The figure also highlights the role of network functions virtualization (NFV) in enabling the efficient deployment of network services.\nFigure 5.2.1.1.1.1: NAS signalling transport for Supplementary Services Location Notification\nNOTE:\tThe optional Additional Information IE of the DL/UL NAS Transport message is not included when the LCS Location Notification signalling is transported in the Payload container.\nThe network invokes a location notification procedure by sending a REGISTER message containing an LCS-LocationNotification invoke component to the UE as defined in 3GPP TS 24.080 [5]. This may be sent either to request verification for a 5GC-MT-LR or to notify the UE about an already authorized 5GC-MT-LR.\nIn case of privacy verification, the UE shall respond to the request by sending a RELEASE COMPLETE message containing the user's response and optionally UE Location Privacy Indication information in a return result component (see figure 5.2.1.1.2.1).\nIf the timer T(LCSN) defined in 3GPP TS 24.080 [5] expires in the network before any response from the UE (e.g. due to no response from the user), the network shall interpret this by applying the default treatment defined in 3GPP TS 23.273 [2] (i.e. disallow location if barred by subscription or allow location if allowed by subscription).\nIn the case of location notification, the UE shall terminate the dialogue immediately by sending a RELEASE COMPLETE message containing a LocationNotification return result.\nIf the UE is unable to process the request received from the network, it shall return an error indication by sending a RELEASE COMPLETE message containing a return error component. Error values are specified in 3GPP TS 24.080 [5].\n\n\nUE\tNetwork\nREGISTER\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Invoke = LCS-LocationNotification (notificationType, locationType, lcsClientExternalID, lcsClientName,  lcsCodeword, lcsServiceTypeId, deferredLocationExt))\n\nRELEASE COMPLETE\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Return result = LCS-LocationNotification (verificationResponse, locationPrivacyIndication, validTimePeriod))\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\nFacility (Reject (Invoke_problem))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\n\nFigure 5.2.1.1.2.1: Location Notification\nThe AMF sends an LPP message and an associated Correlation Identifier in the DL NAS Transport message (refer to 3GPP TS 24.501 [3] and 3GPP TS 23.273 [2] clause 6.11.1). Figure 5.2.1.2.1 illustrates an example of the NAS signalling transport for downlink LPP messages.\n\nFigure 5 illustrates the network architecture for downlink Local Packet Processing (LPP) messages in a 2.1.2.1 network. The figure showcases the Network Access Server (NAS) signalling transport, which is responsible for transmitting and receiving data between the network and the user equipment. The figure depicts the various components involved, including the NAS, the eNodeB, and the User Equipment (UE), emphasizing the role of the NAS in facilitating efficient communication and data exchange. The diagram highlights the importance of this transport mechanism in ensuring seamless connectivity and data transmission for LPP messages in a 2.1.2.1 network.\nFigure 5.2.1.2.1: NAS signalling transport for downlink LPP messages\nNOTE:\tIf a scheduled location time is received in the LPP message, the UE in 5GMM-IDLE mode can initiate a service request procedure shortly before the scheduled location time.\nThe supplementary services LCS PeriodicTriggered Invoke operation enables the LMF to initiate periodic or triggered location event reporting by a target UE as described in clause 6.3.1 of 3GPP TS 23.273 [2]. The supplementary services LCS PeriodicTriggered Invoke message is transferred to the target UE via the serving AMF in a DL NAS Transport message. A response from the target UE is similarly returned to the LMF via the serving AMF and is transferred to the AMF in an UL NAS Transport message. If the LCS PeriodicTriggered Invoke message in the Payload container IE of a DL NAS TRANSPORT message includes the deferred routing identifier, the UE shall include the deferred routing identifier in the Additional Information IE of a UL NAS TRANSPORT message during the subsequent procedures as specified in clause 5.2.2.\nFigure 5.2.1.3.1.1 illustrates an example of the NAS signalling transport for initiation of periodic or triggered location,\n\nFigure 5 illustrates the network architecture for signaling transport in the context of LCS (Local Control Subsystem) PeriodicTriggered messages. It showcases the network elements involved, including the NAS (Network Access Server), LAC (Local Access Concentrator), and the transport path through the P-GW (Policy and Charging Gateway) and the S-GW (Serving Gateway). The figure emphasizes the role of the P-GW in handling the LCS PeriodicTriggered messages, ensuring efficient communication and control within the network.\nFigure 5.2.1.3.1.1: NAS signalling transport for LCS PeriodicTriggered messages\nNOTE:\tIf a scheduled location time is received in the LCS PeriodicTriggered Invoke message, the UE in 5GMM-IDLE mode can initiate a service request procedure shortly before the scheduled location time.\nThe LMF sends a REGISTER message to the UE containing the supplementary services LCS PeriodicTriggered Invoke component as defined in 3GPP TS 24.080 [5]. The REGISTER message is transported to the UE via the serving AMF as described in figure 5.2.1.3.1.1.\nIf the UE can support the periodic or triggered location, the UE returns a RELEASE COMPLETE message to the LMF containing an LCS PeriodicTriggered return result. The RELEASE COMPLETE message is transported to the LMF via the serving AMF as described in figure 5.2.1.3.1.1.\nFor supporting of the location events reporting over user plane connection, as described in clause 6.16.1 of 3GPP TS 23.273 [2], the LMF provides the UE with the following:\na)\tthe endpoint address for the location reporting over user plane connection,\nb)\tthe security information for the location reporting over user plane connection,\nc)\tthe cumulative event report timer, if available, or\nd)\tthe maximum number of events reporting counter, if available.\nIf the UE receives the cumulative event report timer or the maximum number of events reporting counter from the LMF, the UE shall perform the UE initiated Event Reporting procedure as defined in subclause 5.2.2.4 with including the indication for the cumulative event report.\nEditor's Note: (CR 0015, eLCS_Ph3) The parameter for the location event reporting over user plane and the cumulative event reporting need further alignment with CT3 specification.\nIf the UE is unable to process or support the request received from the network, it shall return an error indication by sending a RELEASE COMPLETE message containing a return error component or reject component. Error values are specified in 3GPP TS 24.080 [5].\nFigure 5.2.1.3.2.1 illustrates the signalling for normal operation between the UE and the network.\n\n\nUE\tNetwork\nREGISTER\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Invoke = LCS-PeriodicTriggered (referenceNumber, lcs-Qos, mappedLcs-Qos, periodicLocation, areaEventReporting, EventReportAllowedArea, motionEventReporting, referenceNumberExt, h-gmlc-callBackUri, supportedGADShapes, deferredRoutingIdentifier, reportingAccessTypes, multiplePositioningProtocolPDUs, controlPlane-CIoT-5GS-Optimisation, scheduledLocTime, userplaneReportingEndpoint, userplaneReportingSecurityInfo, cumulativeEventReportingTimer, cumulativeEventReportingCounter, h-gmlc-address, reportingIndication))\n\nRELEASE COMPLETE\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Return result = LCS-PeriodicTriggered)\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\nFacility (Reject (Invoke_problem))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\n\nFigure 5.2.1.3.2.1: Periodic or Triggered Location Invocation\nNOTE 1:\tThe mappedLcs-QoS is obtained by the UE in 5GS and used for location service continuity from 5GS to EPS for periodic or triggered location event reporting.\nNOTE 2:\tIf h-gmlc-address as defined in 3GPP TS 24.080 [5] is received in the LCS PeriodicTriggered Invoke message, it is used for a EPC-(H)GLMC during the procedure of location service continuity between EPS and 5GS.\nNOTE 3:\t\tIf reportingIndaication as defined in 3GPP TS 24.080 [5] is received in the LCS PeriodicTriggered Invoke message, it is used for Event Reporting procedure whenthe UE is inside or outside the EventReportAllowedArea.\nThe supplementary services Cancel Deferred Location operation enables the AMF to cancel ongoing periodic or triggered location in a target UE using NAS signalling as described in 3GPP TS 23.273 [2] clause 6.3.3. The supplementary services Cancel Deferred Location messages are transported using the DL NAS Transport message and the UL NAS Transport message defined in 3GPP TS 24.501 [3]. Figure 5.2.1.4.1-1 illustrates an example of the NAS signalling transport.\n\nFigure 5 illustrates the network architecture for the transport of NAS signalling for Cancel Deferred Location, showcasing the various nodes and protocols involved in the process. The figure depicts the network elements, such as the NAS (Network Access Server), PDN (Public Data Network), and the transport protocols used for signaling. The figure emphasizes the importance of efficient communication and coordination among these components to ensure the successful cancellation of deferred location requests.\nFigure 5.2.1.4.1.1: NAS signalling transport for Cancel Deferred Location\nNOTE:\tThe optional Additional Information IE of the DL/UL NAS Transport message is not included when the LCS CancelDeferredLocation signalling is transported in the Payload container.\nThe AMF invokes a cancel deferred location procedure by sending a REGISTER message containing an LCS-CancelDeferredLocation invoke component to the UE as defined in 3GPP TS 24.080 [5].\nThe UE shall terminate the ongoing periodic or triggered location if this can be identified from the information in the LCS-CancelDeferredLocation invoke component.\nThe UE shall then return a RELEASE COMPLETE message containing an LCS-CancelDeferredLocation return result component (see figure 5.2.1.4.2.1).\nIf the UE is unable to process the request received from the network or cannot identify the ongoing periodic or triggered location to be terminated, it shall return an error indication by sending a RELEASE COMPLETE message containing a return error component. Error values are specified in 3GPP TS 24.080 [5].\n\n\nUE\tNetwork\nREGISTER\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Invoke = LCS-CancelDeferredLocation (referenceNumberExt, h-gmlc-callBackUri))\n\nRELEASE COMPLETE\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Return result = LCS-CancelDeferredLocation)\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\nFacility (Reject (Invoke_problem))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\n\nFigure 5.2.1.4.2.1: Cancel Deferred Location\n5.2.1.5\tNetwork initiated PRU disassociation procedure\n5.2.1.5.1\tGeneral\nThe supplementary services PRU disassociation operation enables the LMF to disassociate the associated PRU from the serving LMF by using NAS signalling as decribed in clause 6.17.2 of 3GPP TS 23.273 [2]. The NAS signaling are transported using the DL NAS Transport message and the Uplink NAS Transport message defined in 3GPP TS 24.501 [3]. The LMF may invoke this procedure prior to the event of becoming unavailable LMF (e.g., for maintenance, removal or replacement of the LMF).\nFigure 5.2.1.5.1-1 illustrates an example of the NAS signaling transport for a PRU disassociation procedure.\nFigure 5.2.1.5.1-1: NAS signalling transport for network initiated PRU disassociation procedure\n5.2.1.5.2\tNormal operation\nThe LMF invokes a PRU disassociation procedure by invoking PRU disassociation operation to the associated UE operating as PRU as defined in 3GPP TS 24.080 [5].\nThe UE operating as PRU shall terminate the PRU association with the serving PLMN if this can be identified from the information in the PRU-disassociation invoke component. The UE shall then return a RELEASE COMPLETE message containing a PRU-disassociation return result component (see figure 5.2.1.5.2.1). If the UE operating as PRU receives a new routing ID for a new serving LMF in the PRU-disassociation invoke component from the LMF, the UE operating as PRU may perform a PRU association procedure with the new serving LMF as described in clause 5.2.2.7.\n\n\nUE\tNetwork\nREGISTER\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Invoke = PRU-disassociation(newLmfRoutingId))\n\nRELEASE COMPLETE\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Return result = PRU-disassociation)\nFigure 5.2.1.5.2.1: Network initiated PRU disassociation procedure\nNOTE 1:\tThe following IE defined in PRU-disassociation operations in 3GPP TS 24.080 [5] is used for NG-RAN LCS:\n-\tnewLmfRoutingId\nThe AMF sends an SLPP message and an associated Correlation Identifier in the DL NAS TRANSPORT message (refer to 3GPP TS 24.501 [3], 3GPP TS 23.586 [10], 3GPP TS 23.273 [2] clause 6.20). Figure 5.2.1.6 illustrates an example of the NAS signalling transport for downlink SLPP messages.\n\nFigure 5 illustrates the network architecture for downlink SLPP (Service Level Protection Profile) messages in a 2.1 Gbps network. The figure showcases the NAS (Network Access Server) signalling transport, which is responsible for transmitting and receiving data between the NAS and the UE (User Equipment). The figure depicts the various components involved, including the NAS, SLPP messages, and the transport layer, emphasizing the efficient and secure communication between the network and the UE.\nFigure 5.2.1.6.1: NAS signalling transport for downlink SLPP messages\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.2\tMobile initiated location services operations",
                            "text_content": "The supplementary services MO-LR operation enables the UE to launch MO positioning session or request location assistance data using NAS signaling. The NAS signaling are transported using the DL NAS Transport message and the Uplink NAS Transport message defined in 3GPP TS 24.501 [3]. Figure 5.2.2.1.1-1 illustrates an example of the NAS signaling transport for an MO-LR session.\nFigure 5 illustrates the network architecture for Mobile Originating (MO) Long Reach (LR) signaling transport, specifically focusing on the Non-Access Stratum (NAS) signaling transport. The figure depicts the various components involved, including the NAS signaling transport, the Mobile Switching Center (MSC), and the Home Location Register (HLR). The diagram highlights the importance of efficient signaling transport for maintaining seamless communication between the mobile device and the network infrastructure. The figure emphasizes the role of the NAS signaling transport in ensuring reliable and efficient data transmission, particularly in long-range mobile communication scenarios.\nFigure 5.2.2.1.1-1: NAS signaling transport for MO-LR\nNOTE:\tThe optional Additional Information IE of the UL/DL NAS TRANSPORT message is not included when the MO-LR signaling is transported in the Payload container.\nThe UE invokes a MO-LR by sending a REGISTER message to the network containing a LCS-MOLR invoke component. SS Version Indicator value 1 or above shall be used.\nThe receiving network entity shall initiate the handling of location request in the network. The network shall pass the result of the location procedure to the UE by sending a FACILITY message to the UE containing a LCS-MOLR return result component. When location estimate is kept in the network entity and this information satisfies the requested accuracy and the requested maximum age of location, then the network may reuse this information and the positioning measurement procedure may be skipped.\nThe network shall pass the result of the location procedure to the UE only if the location estimate is given in a format that the UE supports, as indicated by either the presence (and content) or the absence of the parameter supportedGADShapes, which may be sent by the UE in the LCS-MOLR operation.\nThe UE may terminate the dialogue by sending a RELEASE COMPLETE message in the case of single location request (see figure 5.2.2.1.1-1). The UE may also initiate another location request operation by sending a FACILITY message to the network containing a LCS-MOLR invoke component (see figure 5.2.2.1.1-2). After the last location request operation the UE shall terminate the dialogue by sending a RELEASE COMPLETE message.\nIf the network is unable to successfully fulfil the request received from the UE (e.g. to provide a location estimate or location assistance information), it shall clear the transaction by sending a RELEASE COMPLETE message containing a return error component. Error values are specified in 3GPP TS 24.080 [5]. If the network is unable to provide a location estimate due to lack of support in the UE for the type of shape of the location estimate, then it shall use the error Facility Not Supported.\nIf the network has returned a result to the UE in a FACILITY message but, after some PLMN administered time period has elapsed, has not received either a new location request operation in a FACILITY message or a RELEASE COMPLETE message from the UE, the network may clear the transaction by sending a RELEASE COMPLETE message.\nDuring the MO-LR operation the UE shall run a timer T(LCSL). This timer is started when the operation is sent, and stopped when a response is received from the network. If this timer expires the UE shall assume that the operation has failed, and may terminate the dialogue by sending a RELEASE COMPLETE message, and shall inform the user of the failure.\n\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-MOLR (molr-Type, lcs-QoS, lcsClientExternalID, mlc-Number, supportedGADShapes, lcsServiceTypeID, ageOfLocationInfo, locationType, pseudonymIndicator, h-gmlc-address,multiplePositioningProtocolPDUs, scheduledLocTime))\n\nFACILITY\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Return result = LCS-MOLR (locationEstimate, velocityEstimate, add-LocationEstimate, decipheringKeys))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\nRELEASE COMPLETE\n------------------------------------------------------------------------------------------------------------------------>\nFigure 5.2.2.1.1-1: Single mobile originated location request\n\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-MOLR Request (molr-Type, lcs-QoS, lcsClientExternalID, mlc-Number, supportedGADShapes, lcsServiceTypeID, ageOfLocationInfo, locationType, pseudonymIndicator, h-gmlc-address, multiplePositioningProtocolPDUs, scheduledLocTime))\n\nFACILITY\n<------------------------------------------------------------------------------------------------------------------------\n(Return result = LCS-MOLR (locationEstimate, velocityEstimate, add-LocationEstimate, decipheringKeys))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\nFACILITY\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-MOLR (molr-Type, lcs-QoS, lcsClientExternalID, mlc-Number, supportedGADShapes, lcsServiceTypeID, ageOfLocationInfo, locationType, pseudonymIndicator, h-gmlc-address, multiplePositioningProtocolPDUs))\n\nFACILITY\n<------------------------------------------------------------------------------------------------------------------------\n(Return result = LCS-MOLR (locationEstimate, velocityEstimate, add-LocationEstimate, decipheringKeys))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\n\nRELEASE COMPLETE\n------------------------------------------------------------------------------------------------------------------------>\n\nFigure 5.2.2.1.1-2: Multiple mobile originated location requests\nNOTE 1:\tOnly the following IEs defined in MO-LR operations in 3GPP TS 24.080 [5] are used for NG-RAN LCS:\n-\tmolr-Type\n-\tlcs-QoS\n-\tlcsServiceTypeID\n-\tageOfLocationInfo\n-\tlocationType\n-\tmlc-Number\n-\tlcsClientExternalID\n-\tpseudonymIndicator\n-\tsupportedGADShapes\n-\tmultiplePositioningProtocolPDUs\n-\tlocationEstimate\n-\tadd-LocationEstimate\n-\th-gmlc-address\n-\tdecipheringKeys\n-\tscheduledLocTime\n-\tvelocityEstimate\nNOTE 2:\tmultiplePositioningProtocolPDUs IE is added to the MO-LR Request to allow for passing multiple UE positioning information LPP messages (e.g. UE location measurements or UE capabilities) to the LMF for NG-RAN LCS. Its ASN.1 description is given in 3GPP TS 24.080 [5], where the maximum number of LPP messages is specified. There is one or more types of multiple LPP messages can be encapsulated in one multiplePositioningProtocolPDUs IE.\nThe supplementary services MSCancelDeferredLocation operation enables the UE to cancel ongoing periodic or triggered location in a target LMF using NAS signalling as described in 3GPP TS 23.273  clause 6.3.2 [2]. The supplementary services MCancelDeferredLocation messages are transported using the UL NAS TRANSPORT message and the DL NAS TRANSPORT message defined in 3GPP TS 24.501 [3]. The deferred routing identifier in the Additional information IE of the UL NAS TRANSPORT message for the cancellation of periodic or triggered location event reporting can be an LMF ID.\nFigure 5 illustrates the network architecture for UE-initiated Cancel Deferred Location (CDL) signaling transport in a 2.2.2.1 -1 network. The figure showcases the network elements involved, including the NAS (Network Addressing System), PDN Gateway (P-GW), and the User Equipment (UE). The diagram emphasizes the role of the NAS in managing IP address allocation and the UE's ability to cancel or defer location updates, ensuring efficient and dynamic network management.\nFigure 5.2.2.2.1-1: NAS signaling transport for UE initiated Cancel Deferred Location\nThe UE invokes a cancel deferred location procedure by sending a REGISTER message containing a LCS-MSCancelDeferredLocation invoke component to the LMF as defined in 3GPP TS 24.080 [5].\nThe LMF shall terminate the ongoing periodic or triggered location if this can be identified from the information in the LCS-MSCancelDeferredLocation invoke component.\nThe LMF shall then return a RELEASE COMPLETE message containing an LCS-MSCancelDeferredLocation return result component (see Figure 5.2.2.2.2-1).\nNOTE:\tIf the UE has requested the cancellation of the deferred location procedure for the location events reporting over user plane connection and the UE receives the acknowledgment of the cancellation from the LMF, the UE releases the user plane connection to the LCS Client or AF if the release has not been yet initiated.\nIf the LMF is unable to process the request received from the UE or can not identify the ongoing periodic or triggered location to be terminated, it shall return an error indication by sending a RELEASE COMPLETE message containing a return error component. Error values are specified in 3GPP TS 24.080 [5].\n\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-MSCancelDeferredLocation (referenceNumberExt, h-gmlc-callBackUri))\n\nRELEASE COMPLETE\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Return result = LCS-MSCancelDeferredLocation)\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\n\nFigure 5.2.2.2.2-1: Cancel Deferred Location\nNOTE:\tOnly the following IEs defined in MSCancelDeferredLocation operations in 3GPP TS 24.080 [5] are used for NG-RAN LCS:\n-\treferenceNumberExt\n-\th-gmlc-callBackUri\nThe UE sends LPP message and the associated Routing identifier in the UL NAS Transport message (refer to 3GPP TS 24.501 [3] and 3GPP TS 23.273 [2] clause 6.11.1). Figure 5.2.2.3-1 illustrates an example of the NAS signalling transport for uplink LPP messages.\nFigure 5.2.2.3-1 illustrates the network layer signaling transport for uplink Local Packet Protocol (LPP) messages in a telecommunication network. The figure depicts the process of how network layer signaling is transmitted over the transport layer, utilizing the network's underlying infrastructure. Key components include the network layer signaling encapsulation, transport layer protocol, and the underlying network transport. The figure highlights the importance of efficient signaling transport in ensuring the smooth functioning of the network, particularly in terms of uplink LPP message transmission.\nFigure 5.2.2.3-1: NAS signalling transport for uplink LPP messages\nThe supplementary services EventReport operation enables the UE to report the periodic or triggered location event invoked by the LMF via LCS PeriodicTriggered Invoke operation as described in clause 6.3.1 of 3GPP TS 23.273 [2] when some certain events are detected in the UE. The UE sends supplementary services EventReport message when the UE is inside or outside the EventReportAllowedArea based on the reportingIndication if received in LCS PeriodicTriggered Invoke message as described in clause 5.2.1.3. The supplementary services EventReport message is transferred to the LMF via the serving AMF in a UL NAS TRANSPORT message defined in 3GPP TS 24.501 [3]. A response from the LMF may be returned to the UE via the serving AMF and be transferred to the UE in a DL NAS TRANSPORT message. The deferred routing identifier in the Additional information IE of the UL NAS TRANSPORT for reporting the periodic or triggered location event can be an LMF ID. If the serving LMF is changed, the deferred routing identifier may be included in the EventReport Acknowledgement message (refer to clause  6.3.1 of 3GPP TS 23.273 [2]).\nThe supplementary services EventReport message enables the UE to send the cumulative event report over control plane for the periodic or triggered location event with user plane connection invoked by the LMF as described in clause 6.16.1 of 3GPP TS 23.273 [2]. If the cumulative event report timer is expired or the maximum number of events reporting counter is reached, based on the received value from the LMF, the UE sets the eventType to active status of location reporting over user plane connection and includes the number of location reporting over user plane connection for the cumulative event report in the supplementary services EventReport message as defined in 3GPP TS 24.080 [5].\nEditor's Note: (CR 0015, eLCS_Ph3) The IE for cumulative event report e.g., the number of location reporting over user plane connection, needs further alignment with 3GPP TS 24.080 [5].\nFigure 5.2.2.4.1-1 illustrates an example of the NAS signalling transport for EventReport messages,\nFigure 5.2.2.4.1 - 1 illustrates the network architecture for transmitting EventReport messages, showcasing the process of NAS signalling transport. The figure depicts the interaction between the Network Access Server (NAS) and the Network Element (NE), emphasizing the role of the NAS in managing and forwarding EventReport messages. Key components include the NE, which generates the EventReport, and the NAS, responsible for signalling transport. The figure highlights the importance of efficient communication between these two entities in maintaining network integrity and ensuring timely event reporting.\nFigure 5.2.2.4.1-1: NAS signalling transport for EventReport messages\nThe UE invokes an EventReport procedure by sending a REGISTER message containing an EventReport component to the LMF as defined in 3GPP TS 24.080 [5].\nThe LMF shall return a supplementary services acknowledgement of event report if it can handle this event report.\nThe LMF shall then return a RELEASE COMPLETE message containing an EventReport Acknowledge component (see Figure 5.2.2.4.2-1).\nIf the LMF is unable to process the request received from the UE or can not identify the ongoing periodic or triggered location to be terminated, it shall return an error indication by sending a RELEASE COMPLETE message containing a return error component. Error values are specified in 3GPP TS 24.080 [5].\n\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-EventReport (eventType, referenceNumberExt, h-gmlc-callBackUri, lcs-QoS, locationInfo, supportedGADShapes, multiplePositioningProtocolPDUs, terminationCause, locationReportingOverUPCounter))\n\nRELEASE COMPLETE\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Return result = LCS-EventReport Acknowledgement)\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\n\nFigure 5.2.2.4.2-1: EventReport\nNOTE:\tOnly the following IEs defined in EventReport operations in 3GPP TS 24.080 [5] are used for NG-RAN LCS:\n-\teventType\n-\treferenceNumberExt\n-\th-gmlc-callBackUri\n-\tlcs-QoS\n-\tlocationInfo\n-\tsupportedGADShapes\n-\tmultiplePositioningProtocolPDUs\n-\tterminationCause\n-\tlocationReportingOverUPCounter\nThe supplmentary services LocationPrivacySetting operation enables the UE to update the UE Location Privacy Indication information via UE Location Privacy Setting procedure as described in clause 6.12.1 of 3GPP TS 23.273 [2] when the UE has generated or updated the UE Location Privacy Indication. The supplementary services LocationPrivacySetting message is transferred to the serving AMF in a UL NAS TRANSPORT message and an acknowledgement from the serving AMF may be returned to the UE in DL NAS TRANSPORT message defined in 3GPP TS 24.501 [3].\nFigure 5.2.2.5.1-1 illustrates an example of the NAS signalling transport for UE Location Privacy Setting procedure,\nFigure 5 illustrates the network architecture for signaling transport in a telecommunications system, specifically focusing on the transport of LocationPrivacySetting messages. The figure depicts the network elements involved, including the Network Address Translation (NAT) Gateway, the Network Information Center (NIC), and the Location Privacy Server. The figure also shows the flow of the LocationPrivacySetting messages, highlighting the process of privacy settings being applied to a user's location data. The figure emphasizes the importance of secure and efficient data transmission in maintaining user privacy in a networked environment.\nFigure 5.2.2.5.1-1: NAS signalling transport for LocationPrivacySetting messages\nThe UE invokes a Location Privacy Setting procedure by sending a REGISTER message containing an LocationPrivacySetting message as defined in 3GPP TS 24.080 [5]. UE's Location Privacy Indication information is included in LocationPrivacySetting message.\nThe AMF shall transfer the UE Location Privacy Indication information in LocationPrivacySetting message to UDM and response a supplementary services acknowledgement of LocationPrivacySetting message.\nThe AMF shall then return a RELEASE COMPLETE message containing a LocationPrivacySetting Acknowledgement component (see figure 5.2.2.5.2-1) if it can handle this LocationPrivacySetting message correctly.\nIf the AMF is unable to process the request received from the UE or can not identify that provisioning the parameters of UE Location Privacy Setting information to UDM is executed successfully, it shall return an error indication by sending a RELEASE COMPLETE message containing a return error component. Error values are specified in 3GPP TS 24.080 [5].\n\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-LocationPrivacySetting (locationPrivacyIndication, validTimePeriod, eventReportExpectedArea, areaUsageIndication)\n\nRELEASE COMPLETE\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Return result = LCS-LocationPrivacySetting Acknowledgement)\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\nRELEASE COMPLETE\n-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  ->\n\nFigure 5.2.2.5.2-1: LocationPrivacySetting\nNOTE:\tOnly the following IEs defined in LocationPrivacySetting operations in 3GPP TS 24.080 [5] are used for NG-RAN LCS:\n-\tlocationPrivacyIndication\n-\tvalidTimePeriod\n-\teventReportExpectedArea\n-\tareaUsageIndication\nThe supplementary services EventReport operation enables the UE to report the periodic or triggered location event invoked by the LMF via LCS PeriodicTriggered Invoke operation as described in clause 6.7.1 of 3GPP TS 23.273 [2] when certain events are detected in the UE and when the UE supports and the LMF allows the use of Control Plane CIoT 5GS Optimisation. The supplementary services EventReport message is transferred to the LMF via the serving AMF in a CONTROL PLANE SERVICE REQUEST message defined in 3GPP TS 24.501 [3]. A response from the LMF may be returned to the UE via the serving AMF and be transferred to the UE in a DL NAS TRANSPORT message defined in 3GPP TS 24.501 [3]. The deferred routing identifier in the Additional information IE of the CONTROL PLANE SERVICE REQUEST message for reporting the periodic or triggered location event can be an LMF ID. If the serving LMF is changed, the deferred routing identifier may be included in the EventReport Acknowledgement message (refer to clause 6.7.2 of 3GPP TS 23.273 [2]).\nFigure 5.2.2.6.1-1 illustrates an example of the NAS signalling transport for EventReport messages,\nFigure 5.2.2.6.1 - 1 illustrates the network architecture for transmitting EventReport messages using Low Power Event Reporting and Triggered 5GC-MT-LR. The figure depicts the network elements involved, including the Network Slice Manager (NSM), Network Slice Provisioning Server (NSPS), and the 5GC-MT-LR. The figure highlights the signaling transport process, with EventReport messages being sent from the UE to the Network Slice Manager, which then routes the message to the appropriate Network Slice Provisioning Server. The figure emphasizes the importance of efficient and reliable communication between these network elements to ensure the smooth operation of the 5G network.\nFigure 5.2.2.6.1-1: NAS signalling transport for EventReport messages using Low Power Event Reporting and Triggered 5GC-MT-LR\nNormal operation is as described for the UE initiated Event Reporting Procedure in clause 5.2.2.4.2.\n5.2.2.7\tPRU association procedure\n5.2.2.7.1\tGeneral\nThe supplementary services PRU association operation enables the PRU to associate with a serving LMF by using NAS signalling as decribed in clause 6.17.1 of 3GPP TS 23.273 [2]. The NAS signaling are transported using the DL NAS Transport message and the Uplink NAS Transport message defined in 3GPP TS 24.501 [3].\nThe supplementary services PRU association operation also enables to perform a PRU Association update to inform the serving LMF of the continued availability of the PRU or to inform the serving LMF of change to the location of the PRU (e.g. a change of tracking area or change of serving AMF), a change of the PRU positioning capabilities or a change to the PRU ON/OFF state.\nFigure 5.2.2.7.1-1 illustrates an example of the NAS signaling transport for a PRU association procedure.\nFigure 5.2.2.7.1 - 1 illustrates the network layer signaling transport for the PRU (Policy and Resource Control Unit) association procedure in a telecommunication network. The figure depicts the process of how network elements communicate to establish a policy and allocate resources for a particular service. Key components include the NAS (Network Access Server), which handles user authentication and service registration, and the PRU, responsible for policy enforcement and resource management. The figure also shows the role of the P-GW (Policy and Charging Gateway) in the process, which is responsible for charging and policy control. The figure highlights the importance of efficient resource allocation and policy enforcement in ensuring a smooth and secure network experience for users.\nFigure 5.2.2.7.1-1: NAS signalling transport for PRU association procedure\n5.2.2.7.2\tNormal operation\nThe UE operating as PRU invokes a PRU association procedure by sending a REGISTER message containing a PRU-association invoke component to the serving LMF as defined in 3GPP TS 24.080 [5]. The PRU-association invoke component shall include a type for the PRU association request whether it is initial PRU association request or PRU association update, the positioning capabilities of the UE operating as PRU, PRU ON/OFF state, and optionally the location information if available. The UE operating as PRU may include the pre-configured routing ID for an initial association, or the routing ID received from the previous PRU association procedure in the UL NAS TRANSPORT message.\nEditor’s Note:\tIt is FFS the details of the UE operating as PRU’s positioning capabilities.\nThe LMF shall return a RELEASE COMPLETE message containing a PRU-association return result component if the LMF accepts the PRU association. The PRU-association return result component shall indicate the conditions for performing PRU association updates with the serving LMF. The conditions for performing PRU association update may include a periodic PRU association update timer and PRU association update based on a change of PRU location, change of PRU TAI, change of serving AMF.\nIf the LMF is unable to process the PRU-association invoke component received from the UE operating as PRU as specified in clause 6.17.1 of 3GPP TS 23.273 [2], the LMF shall return a RELEASE COMPLETE message containing reject component. The reject component may include routing ID of the serving LMF if new LMF is selected to serve the UE operating as PRU.\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (invoke = PRU association (PRUassociationType, positioningCapabilities, PRUonOffState, locationOfPRU)\n\nRELEASE COMPLETE\n<------------------------------------------------------------------------------------------------------------------------\nFacility (return result = PRU association (PRUassociationUpdateTimer, locationValidityPRUassociationUpdate)\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (newLMFroutingID))\n\nFigure 5.2.2.7.2.1: PRU association procedure\n5.2.2.8\tUE initiated PRU disassociation procedure\n5.2.2.8.1\tGeneral\nThe supplementary services PRU disassociation operation enables the PRU to disassociate from a serving LMF by using NAS signalling as decribed in clause 6.17.3 of 3GPP TS 23.273 [2]. The NAS signaling are transported using the DL NAS Transport message and the Uplink NAS Transport message defined in 3GPP TS 24.501 [3]. The UE operating as PRU may invoke this procedure prior to the event of becoming unavailable PRU (e.g., for a software upgrade or power down).\nFigure 5.2.2.8.1-1 illustrates an example of the NAS signaling transport for a PRU disassociation procedure.\n\nFigure 5.2.2. 8 .1 - 1 illustrates the network architecture for UE-initiated PRU disassociation procedure, showcasing the NAS signalling transport process. The figure depicts the interaction between the NAS, eNodeB, and UE, emphasizing the role of the NAS in managing the disassociation procedure. The figure highlights the importance of efficient signalling transport for maintaining network stability and user experience during this process.\nFigure 5.2.2.8.1-1: NAS signalling transport for UE initiated PRU disassociation procedure\n5.2.2.8.2\tNormal operation\nThe UE operating as PRU invokes a PRU disassociation procedure by invoking PRU-disassociation operation to the serving LMF as defined in 3GPP TS 24.080 [5]. The PRU-disassociation invoke component shall include an indication whether an acknowledgement from the LMF is expected or not. The UE operating as PRU shall include the routing ID received from the previous PRU association procedure in the UL NAS TRANSPORT message.\nThe LMF shall terminate the PRU association with the associated UE operating as PRU if this can be identified from the information in the PRU-disassociation invoke component. The LMF shall then return a RELEASE COMPLETE message containing a PRU-disassociation return result component (see figure 5.2.2.8.2-1). If the UE operating as PRU has not indicated that an acknowledgement is expected, the LMF may disassociate the UE operating as PRU locally without return the RELEASE COMPLETE message.\n\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (invoke = PRU-disassociation (AckIndication))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (return result = PRU-disassocation)\n\nFigure 5.2.2.8.2-1: UE initiated PRU disassociation procedure\nThe supplementary services SL-MO-LR operation enables the UE to launch the ranging and sidelink MO positioning session or request location assistance data using NAS signaling. The NAS signaling is transported using the DL NAS TRANSPORT message and the UL NAS TRANSPORT message defined in 3GPP TS 24.501 [3]. Figure 5.2.2.9.1-1 illustrates an example of the NAS signaling transport for an SL-MO-LR.\nFigure 5 illustrates the network architecture for signaling transport in a Service Level Agreement (SLA) management and orchestration (SL-MO-LR) scenario. The figure showcases the network elements involved, including the Network Access Server (NAS), Service Lifecycle Manager (SLM), and various Layer 2 and Layer 3 protocols. The diagram emphasizes the role of Quality of Service (QoS) and resource allocation in ensuring efficient and reliable communication between network components.\nFigure 5.2.2.9.1-1: NAS signaling transport for SL-MO-LR\nNOTE:\tThe Additional Information IE of the UL/DL NAS TRANSPORT message is not included when the SL-MO-LR signaling is transported in the Payload container.\nThe UE invokes a SL-MO-LR by sending a REGISTER message to the network containing a LCS-SLMOLR invoke component. SS Version Indicator value 1 or above shall be used.\nThe receiving network entity shall initiate the handling of location request in the network. The network shall pass the result of the location procedure to the UE by sending a FACILITY message to the UE containing a LCS-SLMOLR return result component. When location estimate is kept in the network entity and this information satisfies the requested accuracy and the requested maximum age of location, then the network may reuse this information and the positioning measurement procedure may be skipped.\nThe network shall pass the result of the location procedure to the UE only if the location estimate is given in a format that the UE supports, as indicated by either the presence (and content) or the absence of the parameter supportedGADShapes, which may be sent by the UE in the LCS-SLMOLR operation.\nThe UE may terminate the dialogue by sending a RELEASE COMPLETE message in the case of single location request (see figure 5.2.2.9.2-1). The UE may also initiate another location request operation by sending a FACILITY message to the network containing a LCS-SLMOLR invoke component (see figure 5.2.2.9.2-2). After the last location request operation the UE shall terminate the dialogue by sending a RELEASE COMPLETE message.\nIf the network is unable to successfully fulfil the request received from the UE (e.g. to provide a location estimate or location assistance information), it shall clear the transaction by sending a RELEASE COMPLETE message containing a return error component. Error values are specified in 3GPP TS 24.080 [5]. If the network is unable to provide a location estimate due to lack of support in the UE for the type of shape of the location estimate, then it shall use the error Facility Not Supported.\nIf the network has returned a result to the UE in a FACILITY message but, after some PLMN administered time period has elapsed, has not received either a new location request operation in a FACILITY message or a RELEASE COMPLETE message from the UE, the network may clear the transaction by sending a RELEASE COMPLETE message.\nDuring the SL-MO-LR operation, the UE shall run a timer Taaa. This timer is started when the operation is sent, and stopped when a response is received from the network. If this timer expires the UE shall assume that the operation has failed, and may terminate the dialogue by sending a RELEASE COMPLETE message, and shall inform the user of the failure.\n\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-SLMOLR (slmolr-Type, lcs-QoS, lcsClientExternalID, mlc-Number, supportedGADShapes, lcsServiceTypeID, pseudonymIndicator, h-gmlc-address, calculationAssistIndicator, preferredRangingResult, relatedUEInfo))\n\nFACILITY\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Return result = LCS-SLMOLR (rangingResult))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\nRELEASE COMPLETE\n------------------------------------------------------------------------------------------------------------------------>\nFigure 5.2.2.9.2-1: Single sidelink mobile originated location request\n\n\nUE\tNetwork\nREGISTER\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-SLMOLR (slmolr-Type, lcs-QoS, lcsClientExternalID, mlc-Number, supportedGADShapes, lcsServiceTypeID, pseudonymIndicator, h-gmlc-address, calculationAssistIndicator, preferredRangingResult, relatedUEInfo))\n\nFACILITY\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Return result = LCS-SLMOLR (rangingResult))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\nFACILITY\n------------------------------------------------------------------------------------------------------------------------>\nFacility (Invoke = LCS-SLMOLR (slmolr-Type, lcs-QoS, lcsClientExternalID, mlc-Number, supportedGADShapes, lcsServiceTypeID, pseudonymIndicator, h-gmlc-address, calculationAssistIndicator, preferredRangingResult, relatedUEInfo))\n\nFACILITY\n<------------------------------------------------------------------------------------------------------------------------\nFacility (Return result = LCS-SLMOLR (rangingResult))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Return error (Error))\n\nRELEASE COMPLETE\n<-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -\nFacility (Reject (Invoke_problem))\n\n\nRELEASE COMPLETE\n------------------------------------------------------------------------------------------------------------------------>\n\nFigure 5.2.2.9.2-2: Multiple sidelink mobile originated location requests\nNOTE:\tOnly the following IEs defined in SL-MO-LR operations in 3GPP TS 24.080 [5] are used for NG-RAN LCS:\n-\tslmolr-Type\n-\tlcs-QoS\n-\tlcsClientExternalID\n-\tmlc-Number\n-\tsupportedGADShapes\n-\tlcsServiceTypeID\n-\tpseudonymIndicator\n-\th-gmlc-address\n-\tcalculationAssistIndicator\n-\tpreferredRangingResult\n-\trelatedUEInfo\n-\trangingResult\nEditor's note:\tThe IEs included in the SL-MO-LR messages will be further updated based on CT4 and SA2’ progress.\nThe UE sends SLPP message and the associated Routing identifier in the UL NAS TRANSPORT message (refer to 3GPP TS 24.501 [3], 3GPP TS 23.586 [10], and 3GPP TS 23.273 [2] clause 6.20). Figure 5.2.2.10 illustrates an example of the NAS signalling transport for uplink SLPP messages.\nFigure 5.2.2.10 illustrates the network layer signaling transport for uplink SLPP messages in a telecommunication system. The figure depicts the process of NAS signaling, which is essential for the efficient transmission of data between network elements. The diagram showcases the various components involved, including the NAS, SLPP messages, and the transport protocol used for signaling. The figure emphasizes the importance of accurate and timely transmission of these messages in maintaining the overall performance and reliability of the telecommunication network.\nFigure 5.2.2.10: NAS signalling transport for uplink SLPP messages\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.3\tLCS message and coding",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tMessages for Location services operations",
                            "text_content": "The LCS message format and information elements coding for the MO-LR, LocationNotification, EventReport, PeriodicTriggeredInvoke, CancelDeferredLocation and LocationPrivacySetting operations (clause 5.2) are defined in 3GPP TS 24.080 [5] for the following messages:\n-\tRegister message\n-\tFacility message\n-\tRelease Complete message\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.2\tMessages for LTE Positioning Protocol (LPP)",
                            "text_content": "The AMF shall set the Payload container type to \"LPP message container\" in the DL NAS TRANSPORT message.\nThe AMF includes a Routing identifier in the Additional information IE of the DL NAS TRANSPORT message which identifies the LMF and the positioning session between the AMF and LMF when a positioning session is being used.\nThe Routing identifier is the Correlation ID, which is defined in 3GPP TS 29.572 [6], so that the AMF can map the Routing identifier to the LMF and the Correlation identifier when the AMF receives a UL NAS TRANSPORT message including the responding LPP message.\nThe UE shall set the Payload container type to \"LPP message container\" in the UL NAS TRANSPORT message.\nThe UE includes a Routing identifier received in the Additional Information IE of the DL NAS TRANSPORT message in the Additional Information IE of the UL NAS TRANSPORT message. This association of the Routing Identifier is provided at the LPP level: the UL NAS TRANSPORT message carries an LPP message that is a response to or instigated by the LPP message in the DL NAS TRANSPORT message. The Routing identifier is the Correlation ID, which is defined in 3GPP TS 29.572 [6], so that the AMF can map the Routing identifier to the Correlation identifier when the AMF receives the UL NAS TRANSPORT message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.3\tMessages for SideLink Positioning Protocol (SLPP)",
                            "text_content": "The AMF shall set the Payload container type to \"SLPP message container\" in the DL NAS TRANSPORT message.\nThe AMF includes a routing identifier in the Additional information IE of the DL NAS TRANSPORT message which identifies the LMF and the positioning session between the AMF and LMF when a positioning session is being used.\nThe routing identifier is the correlation ID, which is defined in 3GPP TS 29.572 [6], so that the AMF can map the routing identifier to the LMF and the correlation identifier when the AMF receives a UL NAS TRANSPORT message including the responding SLPP message.\nThe UE shall set the Payload container type to \"SLPP message container\" in the UL NAS TRANSPORT message.\nThe UE includes a routing identifier received in the Additional Information IE of the DL NAS TRANSPORT message in the Additional Information IE of the UL NAS TRANSPORT message. This association of the routing identifier is provided at the SLPP level: the UL NAS TRANSPORT message carries an SLPP message that is a response to or instigated by the SLPP message in the DL NAS TRANSPORT message. The routing identifier is the correlation ID, which is defined in 3GPP TS 29.572 [6], so that the AMF can map the routing identifier to the correlation identifier when the AMF receives the UL NAS TRANSPORT message.\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}