{
    "document_name": "29256-i30.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document specifies the stage 3 protocol and data model for the UAS-NF functionality of the Nnef Service Based Interface. It provides stage 3 protocol definitions and message flows, and specifies the API for each service offered by the NEF (UAS-NF).\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].\nThe Uncrewed Aerial System Network Function (UAS-NF) provides the UAS-specific NEF services to NF service consumers (e.g. AMF, SMF). The UAS-NF is functionality within the NEF.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\t3GPP TS 23.256: \"Support of Uncrewed Aerial Systems (UAS) connectivity, identification and tracking; Stage 2\".\n[7]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[8]\tIETF RFC 9113: \"HTTP/2\".\n[9]\tOpenAPI Initiative, \"OpenAPI 3.0.0 Specification\", .\n[10]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[11]\t[11]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[12]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[13]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[14]\t3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".\n[15]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[16]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions of terms, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tTerms",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nFor the purposes of the present document, the terms and definitions given in 3GPP TS 23.256 [6] shall apply.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tSymbols",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the following symbols apply:\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.3\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nAA\tAuthorization/Authentication\nBRID\tBroadcast Remote Identification\nBVLOS\tBeyond Visual Line of Sight\nC2\tCommand and Control\nNRID\tNetworked Remote Identification\nPEI\tPermanent Equipment Identifier\nRID\tRemote Identification\nTPAE\tThird Party Authorized Entity\nUAS\tUncrewed Aerial System\nUAV\tUncrewed Aerial Vehicle\nUSS\tUAS Service Supplier\nUTM\tUncrewed Aerial System Traffic Management\nUUAA\tUSS UAV AA\nUUID\tUniversal Unique Identifier\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tOverview",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "Within the 5GC, the NEF (UAS-NF) offers services to the AMF, SMF, and PCF via the Nnef service based interface, and the NEF (UAS-NF) offers services to the SMF+PGW-C via the Nnef service based interface for UUAA-SM and C2 procedure supported in EPS (see 3GPP TS 23.256 [6]).\nFigure 4.1-1 provides the reference model (in service based interface representation and in reference point representation), with focus on the NEF (UAS-NF) and the scope of the present specification.\nFigure 4.1-1 presents a reference model for a Network Function Virtualization (NFV) environment, specifically focusing on the Network Function Aggregator (NEF) and User-Defined Networking (UDS) components. The model illustrates the integration of various network functions, such as packet processing and network control, within a virtualized infrastructure. The NEF is depicted as a central hub, receiving input from the User-Defined Networking (UDS) and distributing it to the network functions. This figure provides a clear overview of how NFV can streamline network operations and enhance flexibility in service provisioning.\nFigure 4.1-1: Reference model – NEF (UAS-NF)\nThe functionalities supported by the NEF (UAS-NF) are listed in clause 4.3.2 of 3GPP TS 23.256 [6].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tServices offered by the NEF (UAS-NF)",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The table 5.1-1 shows the NEF (UAS-NF) Services and Service Operations:\nTable 5.1-1 List of NEF (UAS-NF) Services\n\n",
                    "tables": [
                        {
                            "description": "Table 5.1-1 List of NEF (UAS-NF) Services",
                            "table number": 3,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tNnef_Authentication Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tService Description",
                            "text_content": "The service allows communication of authentication and authorization messages between AMF/SMF and external AF (USS). An NF as service consumer (e.g. AMF, SMF, SMF+PGW-C) can authenticate or subscribe to receive notifications from NEF (UAS-NF) related to reauthentication, update authorization data or revoke authorization of the UAV.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.2\tService Operations",
                            "text_content": "The Nnef_Authentication service supports following service operations:\n-\tAuthenticateAuthorize\n-\tNotification\nThe AuthenticateAuthorize service operation is used during the following procedure:\n-\tUUAA-MM and UUAA-SM procedures (see 3GPP TS 23.256 [6], clause 5.2.2 and clause 5.2.3, respectively)\n-\tC2 authorization (see 3GPP TS 23.256 [6], clause 5.2.5 and clause 5.4)\nThe AuthenticateAuthorize service operation is invoked by an NF Service Consumer (e.g. an AMF, SMF, SMF+PGW-C) towards the NEF (UAS-NF), when UUAA-MM is done at 5GS registration, UUAA-SM is done at PDU session establishment, or for Authorization for C2 in 5GS or EPS.\nThe NF Service Consumer (e.g. the AMF or the SMF or the SMF+PGW-C) shall send the authentication message to NEF (UAS-NF) by sending the HTTP POST request towards the UAV Authentications resource as shown in Figure 5.2.2.2.1-1.\nFigure 5.2.2.1-1 illustrates the process of authenticating and authorizing a service operation within a telecommunication network. The figure depicts the flow of data packets through various components, including the network elements responsible for authentication, authorization, and service operation. Key visual elements include the network nodes, such as the authentication server (AS) and the service operation center (SOC), which work together to ensure secure and efficient network operations. The figure emphasizes the importance of multi-layered security measures in modern telecommunication networks.\nFigure 5.2.2.2.1-1: AuthenticateAuthorize Service Operation\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the UAV Authentications resource of the NEF (UAS-NF) with a \"UAVAuthInfo\" object in the request body, including:\n-\tgpsi IE set to GPSI (in the format of External Identifier) of the UAV;\n-\tserviceLevelId IE set to Service Level Device Identity;\n-\tauthMsg IE contains the service-level AA message\n. This IE is deprecated; the \"authContainer\" IE should be used instead.\n-\t\"authContainer\" IE that contains one or more authentication message(s) in the AA container provided by the UE (see 3GPP TS 23.256 [6]). This IE deprecates the \"authMsg\" IE.\n-\tauthNotificationURI IE provides the notification URI to receive notifications related to authentication;\n-\tauthServerAddress IE provides the Authorization Server Address, e.g. Authorization Server FQDN. This IE is not included for intermediate round-trip authentication messages;\n-\tnfType IE carries the NF type of the  NF service consumer (e.g. AMF or SMF or SMF+PGW-C); and\n-\tuserLocInfo IE provides the user location information (e.g. cell Id).\nIf the NF Service Consumer is SMF or SMF+PGW-C, the \"UAVAuthInfo\" also may include:\n-\tipAddr IE carries the IP Address associated with the PDU session;\n-\tpei IE carries the PEI;\nIf the NF Service Consumer is SMF or SMF+PGW-C, for UUAA-MM and UUAA-SM procedures the \"UAVAuthInfo\" also may include:\n-\tdnn IE carries the DNN which can be used by NEF (UAS-NF) later on to create a subscription at SMF; and\n-\tsNssai IE carries the S-NSSAI which can be used by NEF (UAS-NF) later on to create a subscription at SMF.\n2a.\tOn success, the NEF (UAS-NF) shall store the result and return \"200 OK\".\nFor intermediate round-trip messages, the content (i.e. UAVAuthResponse) shall contain the GPSI of the UAV and Service Level Device Identity. The content optionally includes \"authContainer\", see 3GPP  TS 23.256 [6] for further details.\nFor the final NEF (UAS-NF) to NF service consumer message, the content (i.e. UAVAuthResponse) shall contain the GPSI of the UAV, notifyCorrId attribute and \"authResult\" attribute. If the UAV is authenticated successfully, the NEF (UAS-NF) shall set the \"authResult\" attribute to \"AUTH_SUCCESS\". \"authMsg\" and \"authResult\" attributes are deprecated; the attribute \"authContainer\" should be used instead. The content shall contain the authorized Service Level Device Identity and \"authContainer\" content delivering the AA result, configuration information to the UAV. The AMF forwards the message transparently to UE over NAS MM.\n2b.\tOn failure or redirection, one of the HTTP status codes listed in Table 6.1.7.3-1 shall be returned. For a 4xx/5xx response, the message body containing a ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.7.3-1.\nIf the NEF (UAS-NF) cannot successfully fulfil the received HTTP POST request due to an internal error or an error in the HTTP POST request, the NEF (UAS-NF) shall send the HTTP error response as specified in clause 6.1.7.\nIf the UAV authentication is failed, the NEF (UAS-NF) shall reject the request with an HTTP \"403 Forbidden\" response message including the \"cause\" attribute of the ProblemDetails data structure set to \"AUTHENTICATION_FAILURE\". NEF (UAS-NF) shall also include an indication of uasResourceRelease received from the USS to indicate if the PDU sessions associated with the \"DNN(s) subject to aerial services\" can be released or not, during re-authentication failure, when the service operation is used during Re-authentication procedure.\nIn above steps, while there is no expected response from the USS in the case of time out, the NEF(UAS-NF) shall return HTTP status code \"504 Gateway Timeout\", with the message body containing a ProblemDetails structure with the \"cause\" attribute set to \"PEER_NOT_RESPONDING\".\nThe AuthNotify service operation is used during the following procedure:\n-\tUSS Initiated reauthentication (see 3GPP TS 23.256 [6], clause 5.2.4)\n-\tUSS Initiated update authorization data or revoke authorization of the UAV\nThe AuthNotify service operation is invoked by the NEF (UAS-NF) to inform a NF Service Consumer (e.g. AMF, SMF, SMF+PGW-C), when USS triggers reauthentication, update authorization data or revoke authorization of the UAV. NEF (UAS-NF) shall determine the NF service consumer based on the previously stored UUAA context during the successful UUAA procedure as defined in clause 5.2.2.2.\nThe NEF (UAS-NF) shall send the AuthNotify request by sending the HTTP POST method towards the Notification URI as shown in Figure 5.2.2.3.1-1.\nFigure 5.2.2.3.1-1 illustrates the operation of the Authentication Notify Service in a telecommunication network. The figure depicts the interaction between the Authentication Server, the Authentication Notify Service, and the User Equipment (UE). The Authentication Server initiates the process by sending an Authentication Request to the UE. The UE responds with an Authentication Response, which includes a unique identifier. The Authentication Notify Service then relays this information to the Authentication Server, completing the authentication process. The figure emphasizes the importance of secure communication in telecommunication networks, ensuring that only authorized devices can access services.\nFigure 5.2.2.3.1-1: AuthNotify Service Operation\n1.\tThe NEF (UAS-NF) shall send a POST request towards the Notification URI received in the Authenticate service operation request (See clause 5.2.2.2.1). If the AMF for UUAA-MM has changed, the NEF (UAS-NF) should discover the Notification URI of the new AMF via NRF (in the default notification subscription with the \"UUAA_MM_AUTH_NOTIFICATION\" notification type). The NEF (UAS-NF) shall be able to determine the NF type of the NF service consumer by nfType IE received in the Authenticate service operation request. The request body shall contain an \"AuthNotification\" object containing the reauthentication information or update authorization information or revoke authorization indication.\nWhen the procedure is used for reauthentication or reauthorization/update authorization information, the AuthNotification object includes:\n- the gpsi IE set to the GPSI (in the format of External Identifier) of the given UAV required to be reauthenticated;\n- serviceLevelId IE set to the Service Level Device Identity of the UAV;\n- authMsg IE contains the service-level AA message. This IE is deprecated; the \"authContainer\" IE should be used instead.\n- \"authContainer\" IE that contains AA related data provided by the UE (see 3GPP TS 23.256 [6]). This IE deprecates the \"authMsg\" IE.\n- notifType IE set to REAUTH used for reauthentication and/or notifType IE set to UPDATEAUTH used for update authorization data; and\n- notifyCorrId IE set to the notification correlation ID;\nWhen the procedure is used for authorization revocation, the AuthNotification object includes:\n- the gpsi IE set to the GPSI (in the format of External Identifier) of the given UAV;\n- serviceLevelId IE set to the Service Level Device Identity of the UAV;\n- notifType IE set to REVOKE; and\n- notifyCorrId IE set to the notification correlation ID;\n2a.\tOn success, \"204 No content\" shall be returned without response body. If the NF Service consumer remove the successful UUAA result during UUAA Revocation procedure, the NEF (UAS-NF) shall remove the UUAA context (see clause 5.2.7 of 3GPP TS 23.256 [6]).\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.5.2.3.1-3 shall be returned. For a 4xx/5xx response, the response body should contain a \"ProblemDetails\" object.\nIf the NF service consumer cannot successfully fulfil the received HTTP POST request due to an internal error or an error in the HTTP POST request, the NF service consumer shall send an HTTP error response as specified in clause 6.1.7.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tAPI Definitions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tNnef_Authentication Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tIntroduction",
                            "text_content": "The Nnef_Authentication shall use the Nnef_Authentication API.\nThe API URI of the Nnef_Authentication API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nnef-authentication\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [8], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [9] specification of HTTP messages and content bodies for the Nnef_Authentication API is contained in Annex A.\nSee clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.\nJSON, IETF RFC 8259 [10], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [11].\nThe mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be applicable.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.3\tResources",
                            "text_content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.1.3.1-1 depicts the resource URIs structure for the Nnef_Authentication API.\nFigure 6.1.3.1-1 illustrates the resource URI structure of the Nnef_Auth authentication API, which is a crucial component of the network's security protocol. The figure shows a hierarchical organization of resources, with each resource having a unique identifier. The top-level resource is \"/auth\", which contains sub-resources such as \"/token\" and \"/refresh\". These sub-resources are used to manage authentication tokens and refresh them, ensuring secure access to network services. The figure also highlights the use of URIs to represent resources, enabling a uniform and machine-readable approach to network management.\nFigure 6.1.3.1-1: Resource URI structure of the Nnef_Authentication API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\n\nThe resource represents UAV Authentications to be done with the NEF (UAS-NF).\nResource URI: {apiRoot}/nnef-authentication/<apiVersion>/uav-authentications\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\n\nThis method performs UAV authentication.\nThis method shall support the URI query parameters specified in table 6.1.3.2.3.1-1.\nTable 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.2.3.1-2 and the response data structures and response codes specified in table 6.1.3.2.3.1-3.\nTable 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.2.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.2.3.1-5: Headers supported by the 308 Response Code on this resource\n\nNone\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.3.1-1: Resources and methods overview",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.5\tNotifications",
                            "text_content": "This clause specifies the notifications provided by the Nnef_Authentication service.\nNotifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nThe NF Service Consumer (e.g. the AMF or SMF or SMF+PGW-C) provides the Notification URI for getting notified about reauthentication requested by the USS. The NEF (UAS-NF) shall notify the NF Service Consumer when reauthentication is requested by the USS.\nThe Notification URI \"{notifUri}\" shall be used with the callback URI variables defined in table 6.1.5.2.2-1.\nTable 6.1.5.2.2-1: Callback URI variables\n\n6.1.5.2.3.1\tPOST\nThis method shall support the request data structures specified in table 6.1.5.2.3.1-1 and the response data structures and response codes specified in table 6.1.5.2.3.1-2.\nTable 6.1.5.2.3.1-1: Data structures supported by the POST Request Body\n\nTable 6.1.5.2.3.1-2: Data structures supported by the POST Response Body\n\nTable 6.1.5.2.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.5.2.3.1-5: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.5.2.2-1: Callback URI variables",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-1: Data structures supported by the POST Request Body",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-2: Data structures supported by the POST Response Body",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Nnef_Authentication service based interface protocol.\n\nTable 6.1.6.1-1: Nnef_Authentication specific Data Types\n\nTable 6.1.6.1-2 specifies data types re-used by the Nnef_Authentication service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Nnef_Authentication service based interface.\nTable 6.1.6.1-2: Nnef_Authentication re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.1.6.2.2-1: Definition of type UAVAuthInfo\n\nTable 6.1.6.2.3-1: Definition of type AuthNotification\n\nTable 6.1.6.2.4-1: Definition of type UAVAuthResponse\n\nTable 6.1.6.2.5-1: Definition of type UAVAuthFailure\n\nTable 6.1.6.2.6-1: Definition of type AuthContainer\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\n\nThe enumeration AuthResult represents the result of authentication and/or authorization. It shall comply with the provisions defined in table 6.1.5.3.3-1.\nTable 6.1.6.3.3-1: Enumeration AuthResult\n\nThe enumeration NotifType represents the type of notification. It shall comply with the provisions defined in table 6.1.6.3.4-1.\nTable 6.1.6.3.4-1: Enumeration NotifType\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.6.1-1: Nnef_Authentication specific Data Types",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.1-2: Nnef_Authentication re-used Data Types",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.2-1: Definition of type UAVAuthInfo",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.3-1: Definition of type AuthNotification",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.4-1: Definition of type UAVAuthResponse",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.5-1: Definition of type UAVAuthFailure",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.6-1: Definition of type AuthContainer",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.2-1: Simple data types",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.3-1: Enumeration AuthResult",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.4-1: Enumeration NotifType",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.7\tError Handling",
                            "text_content": "For the Nnef_Authentication API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Nnef_Authentication API.\nNo specific procedures for the Nnef_Authentication service are specified.\nThe application errors defined for the Nnef_Authentication service are listed in Table 6.1.7.3-1.\nTable 6.1.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.7.3-1: Application errors",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.8\tFeature negotiation",
                            "text_content": "The optional features in table 6.1.8-1 are defined for the Nnef_Authentication API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.8-1: Supported Features",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [12] and 3GPP TS 29.500 [4], the access to the Nnef_Authentication API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [13]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [14]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nnef_Authentication API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [14], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nnef_Authentication service.\nThe Nnef_Authentication API defines a single scope \"nnef-authentication\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.10\tHTTP redirection",
                            "text_content": "An HTTP request may be redirected to a different Nnef_Authentication service instance when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different NEF (UAS-NF) producer instance will return the NF Instance ID of the new NEF (UAS-NF) producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an NEF (UAS-NF) redirects a service request to a different NEF (UAS-NF) using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new NEF (UAS-NF) towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "This Annex specifies the formal definition of the API(s) defined in the present specification. It consists of OpenAPI 3.0.0 specifications in YAML format, following guidelines in 3GPP TS 29.501 [5].\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE 1:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository that uses the GitLab software version control system (see clause 5.3.1 of 3GPP TS 29.501 [5] and clause 5B of 3GPP TR 21.900 [7]).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tNnef_Authentication API",
            "description": "openapi: 3.0.0\n\ninfo:\ntitle: Nnef_Authentication\nversion: '1.0.2'\ndescription: |\nNEF Auth Service.\n© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: >\n3GPP TS 29.256 V17.3.0; 5G System;Uncrewed Aerial Systems Network Function (UAS-NF);\nAerial Management Services; Stage 3\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.256/\n\nservers:\n- url: '{apiRoot}/nnef-authentication/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nnef-authentication\n\npaths:\n/uav-authentications:\npost:\nsummary:  UAV authentication\ntags:\n- UAV authentication\nrequestBody:\ndescription: UAV authentication\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/UAVAuthInfo'\nresponses:\n'200':\ndescription: UAV Auth response or message exchange\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/UAVAuthResponse'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'403':\ndescription: UAV authentication failure\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/UAVAuthFailure'\n'504':\n$ref: 'TS29571_CommonData.yaml#/components/responses/504'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nauthNotification:\n'{request.body#/authNotification }':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AuthNotification'\nresponses:\n'204':\ndescription: Successful Notification response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnnef-authentication: Access to the Nnef_authentication API\n\n\n\n\n\nschemas:\n#\n# STRUCTURED DATA TYPES\n#\nUAVAuthInfo:\ndescription: UAV auth data\ntype: object\nrequired:\n- gpsi\n- serviceLevelId\n- nfType\nproperties:\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nserviceLevelId:\ntype: string\nauthNotificationURI:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nipAddr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/IpAddr'\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nauthServerAddress:\ntype: string\nauthMsg:\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\ndeprecated: true\nauthContainer:\ntype: array\nitems:\n$ref: '#/components/schemas/AuthContainer'\nminItems: 1\nueLocInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ExtSnssai'\nnfType:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType'\n\nUAVAuthResponse:\ndescription: UAV auth response data\ntype: object\nrequired:\n- gpsi\nproperties:\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nserviceLevelId:\ntype: string\nauthMsg:\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\ndeprecated: true\nauthContainer:\ntype: array\nitems:\n$ref: '#/components/schemas/AuthContainer'\nminItems: 1\nauthResult:\nallOf:\n- $ref: '#/components/schemas/AuthResult'\ndeprecated: true\nnotifyCorrId:\ntype: string\n\nAuthNotification:\ndescription: UAV related notification\ntype: object\nrequired:\n- gpsi\n- serviceLevelId\n- notifType\n- notifyCorrId\nproperties:\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nserviceLevelId:\ntype: string\nnotifyCorrId:\ntype: string\nauthMsg:\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\ndeprecated: true\nauthContainer:\ntype: array\nitems:\n$ref: '#/components/schemas/AuthContainer'\nminItems: 1\nnotifType:\n$ref: '#/components/schemas/NotifType'\n\nUAVAuthFailure:\ndescription: UAV auth failure\ntype: object\nrequired:\n- error\nproperties:\nerror:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nuasResourceRelease:\ntype: boolean\ndefault: false\n\nAuthContainer:\ndescription: Authentication/Authorization data\ntype: object\nproperties:\nauthMsgType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nauthMsgPayload:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nauthResult:\n$ref: '#/components/schemas/AuthResult'\n\n#\n# SIMPLE DATA TYPES\n#\n\n#\n# ENUMERATIONS\n#\n\nAuthResult:\ndescription: Enumeration representing the result of authentication and/or authorization.\nanyOf:\n- type: string\nenum:\n- AUTH_SUCCESS\n- AUTH_FAIL\n- type: string\nNotifType:\ndescription: Enumeration representing the type of notification.\nanyOf:\n- type: string\nenum:\n- REAUTH\n- UPDATEAUTH\n- REVOKE\n- type: string\n\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "",
                    "table number": 28,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        }
    ]
}