{
    "document_name": "29507-i40.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present specification provides the stage 3 definition of the Access and Mobility Policy Control Service (Npcf_AMPolicyControl) of the 5G System.\nThe stage 2 definition and procedures of the Access and Mobility Policy Control Service are contained in 3GPP TS 23.502 [3] and 3GPP TS 23.503 [4]. The 5G System Architecture is defined in 3GPP TS 23.501 [2].\nStage 3 call flows are provided in 3GPP TS 29.513 [7].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition of the 5G System are specified in 3GPP TS 29.500 [5] and 3GPP TS 29.501 [6].\nThe Access and Mobility Policy Control Service is provided by the Policy Control Function (PCF). This service provides Access and Mobility Policies.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System; Stage 2\".\n[5]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[6]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[7]\t3GPP TS 29.513: \"5G System; Policy and Charging Control signalling flows and QoS parameter mapping; Stage 3\".\n[8]\tIETF RFC 9113: \"HTTP/2\".\n[9]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[10]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", .\n[11]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[12]\t3GPP TS 23.402: \"Architecture enhancements for non-3GPP accesses\".\n[13]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[14]\t3GPP TS 29.518: \"5G System; Access and Mobility Management Services; Stage 3\".\n[15]\tvoid.\n[16]\tvoid.\n[17]\t3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service for Policy Data, Application Data and Structured Data for Exposure; Stage 3\".\n[18]\t3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment trace; Trace control and configuration management\".\n[19]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[20]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[21]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[22]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[23]\t3GPP TS 23.316: \"Wireless and wireline convergence access support for the 5G System (5GS)\".\n[24]\t3GPP TS 29.531: \"5G System; Network Slice Selection Services; Stage 3\".\n[25]\t3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".\n[26]\t3GPP TS 29.534: \"5G System; Access and Mobility Policy Authorization Service; Stage 3\".\n[27]\t3GPP TS 29.512: \"5G System; Session Management Policy Control Service; Stage 3\".\n[28]\t3GPP TS 29.523: \"5G System; Policy Control Event Exposure Service; Stage 3\".\n[29]\t3GPP TS 29.525: \"UE Policy Control Service; Stage 3\".\n[30]\t3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage 3\".\n[31]\t3GPP TS 29.502: \"5G System; Session Management Services; Stage 3\".\n[32]\t3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs; Stage 3\".\n[33]\t3GPP TS 29.594: \"5G System; Spending Limit Control Service; Stage 3\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nFor the purposes of the present document, the following terms and definitions given in 3GPP TS 23.501 [2], clause 3.1 apply:\nAllowed NSSAI\nAlternative S-NSSAI\nPartially Allowed NSSAI\nTarget NSSAI\nPending NSSAI\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\n5G-BRG\t5G Broadband Residential Gateway\n5G-RG\t5G Residential Gateway\n5GC\t5G Core Network\n5G-CRG\t5G Cable Residential Gateway\n5GS\t5G System\nAMBR\tAggregated Maximum Bit Rate\nAMF\tAccess and Mobility Management Function\nBBF\tBroadband Forum\nCHF\tCharging Function\nDNN\tData Network Name\nEPC\tEvolved Packet Core\nEPS\tEvolved Packet System\nE-UTRAN\tEvolved Universal Terrestrial Radio-Access Network\nFN-BRG\tFixed Network Broadband Residential Gateway\nFN-CRG\tFixed Network Cable Residential Gateway\nFN-RG\tFixed Network Residential Gateway\nFQDN\tFully Qualified Domain Name\nGBR\tGuaranteed Bit Rate\nGPSI\tGeneric Public Subscription Identifier\nGUAMI\tGlobally Unique AMF Identifier\nHFC\tHybrid Fiber-Coaxial\nJSON\tJavaScript Object Notation\nLBO\tLocal Break Out (roaming)\nMBR\tMaximum Bit Rate\nMME\tMobility Management Entity\nNID\tNetwork Identifier\nNRF\tNetwork Repository Function\nNSSAI\tNetwork Slice Selection Assistance Information\nNWDAF\tNetwork Data Analytics Function\nPCF\tPolicy Control Function\nPEI\tPermanent Equipment Identifier\nPRA\tPresence Reporting Area\nQoS\tQuality of Service\nRA\tRegistration Area\nRFSP\tRAT Frequency Selection Priority\nSMF\tSession Management Function\nS-NSSAI\tSingle Network Slice Selection Assistance Information\nSNPN\tStand-alone Non-Public Network\nSUPI\tSubscription Permanent Identifier\nUDM\tUnified Data Management\nURSP\tUE Route Selection Policy\nV-PCF\tVisited Policy Control Function\nW-5GAN\tWireline 5G Access Network\nW-5GBAN\tWireline BBF Access Network\nW-5GCAN\tWireline 5G Cable Access Network\nW-AGF\tWireline Access Gateway Function\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tAccess and Mobility Policy Control Service",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tService Description",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.1.1\tOverview",
                            "text_content": "The Access and Mobility Policy Control Service, as defined in 3GPP TS 23.502 [3] and 3GPP TS 23.503 [4], is provided by the Policy Control Function (PCF).\nThis service provides access control and mobility management related policies to the NF service consumer and offers the following functionalities:\n-\tpolicy creation based on a request from the NF service consumer during UE registration;\n-\tnotification of the NF service consumer of the updated policies which are subscribed; and\n-\tdeletion of the policy context for a UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.1.2\tService Architecture",
                            "text_content": "The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Policy and Charging related 5G architecture is also described in 3GPP TS 29.513 [7].\nThe Access and Mobility Policy Control Service (Npcf_AMPolicyControl) is part of the Npcf service-based interface exhibited by the Policy Control Function (PCF).\nThe known NF service consumer of the Npcf_AMPolicyControl service is the Access and Mobility Management Function (AMF).\nThe AMF accesses the Access and Mobility Policy Control Service at the PCF via the N15 Reference point. In the roaming scenario, the N15 reference point is located between the V-PCF in the visited network and the AMF.\nFigure 4.1.2-1 illustrates the reference architecture for the Npcf_AMPolicyControl service, which is a Service Based Interface (SBI) representation. The figure showcases the various components involved in the service, including the Policy Control Manager (PCM), Policy Control Agent (PCA), and the Policy Control Service (PCS). The PCM is responsible for managing and enforcing policies, while the PCA interacts with the PCS to implement these policies. The PCS, in turn, communicates with the network elements to ensure that the policies are correctly applied. The figure also highlights the role of the Policy Control Database (PCD) in storing and retrieving policy information. Overall, this architecture ensures that network policies are accurately enforced and that network resources are used efficiently.\nFigure 4.1.2-1: Reference Architecture for the Npcf_AMPolicyControl Service; SBI representation\nFigure 4.1.2-2 illustrates the non-roaming reference architecture for the Npcf_AMPolicyControl service, focusing on the reference point representation. The figure depicts the various components involved, including the network elements, interfaces, and protocols that facilitate the service. The architecture emphasizes the importance of efficient communication and coordination among these elements to ensure seamless service delivery and optimal resource utilization.\nFigure 4.1.2-2: Non-roaming Reference Architecture for the Npcf_AMPolicyControl Service; reference point representation\nFigure 4.1.3-2 illustrates the roaming reference architecture for the Npcf_AMPolicyControl Service, focusing on the reference point representation. The figure showcases the various components involved in the roaming process, including the home network, visited network, and the interconnection points between them. The architecture emphasizes the importance of seamless handover and policy control, ensuring efficient communication and data management during mobile connectivity. Key elements include the home network's Policy Control Function (PCF), the visited network's Policy Control Function (PCF), and the interconnection points that facilitate the transfer of policy and authentication data. The figure highlights the need for robust security measures and efficient resource management in modern mobile networks.\nFigure 4.1.3-2: Roaming reference Architecture for the Npcf_AMPolicyControl Service; reference point representation\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.1.3\tNetwork Functions",
                            "text_content": "The Policy Control Function (PCF):\n-\tSupports unified policy framework to govern network behaviour; and\n-\tProvides Access and Mobility Management related policies to the NF service consumer that enforces them.\nIn the roaming scenario, the Visited Policy Control Function (V-PCF) provides the functions described in this clause towards the visited network.\nThe policy decisions made by the PCF may be based on one or more of the following:\n-\tInformation obtained from the AF/NEF, e.g. high throughput indication;\n-\tInformation obtained from the UDR;\n-\tInformation obtained from the AMF, e.g. UE related and access related information;\n-\tInformation obtained from the NWDAF;\n-\tInformation from the CHF about spending limit control;\n-\tInformation from the TSCTSF; and\n-\tPCF pre-configured policy context.\nThe Access and Mobility Management function (AMF) provides:\n-\tRegistration management;\n-\tConnection management;\n-\tReachability management; and\n-\tMobility Management.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.2\tService Operations",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.2.1\tIntroduction",
                            "text_content": "Table 4.2.1-1: Operations of the Npcf_AMPolicyControl Service\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 4.2.1-1: Operations of the Npcf_AMPolicyControl Service",
                                    "table number": 1,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "4.2.2\tNpcf_AMPolicyControl_Create Service Operation",
                            "text_content": "The procedure in the present clause is applicable when the NF service consumer (e.g. AMF) creates an AM policy association when the UE registers to the network, and when the AMF is relocated (between the different AMF sets) and the new AMF selects a new PCF. The procedure for the case where the AMF is relocated and the new AMF selects the old PCF is defined in clause 4.2.3.1.\nThe creation of an AM policy association only applies for normally registered UEs, i.e., it does not apply for Emergency Registered UEs.\nFigure 4.2.2.1-1 illustrates the creation of a policy association.\nFigure 4.2.2.1-1 illustrates the process of creating a policy association in a telecommunication network. The figure depicts the interaction between the network elements, including the network element (NE), policy server (PS), and policy database (PD). The NE sends a request to the PS, which then checks the PD for the appropriate policy. Upon finding the policy, the PS sends a response back to the NE, indicating whether the request is approved or denied. This process ensures that network resources are allocated efficiently and in accordance with established policies.\nFigure 4.2.2.1-1: Creation of a policy association\nWhen a UE registers and a UE context is being established, the AMF can obtain Service Area Restrictions, RFSP index, subscribed UE-AMBR, subscribed UE-Slice-MBR(s) and GPSI(s) from the UDM during the Access and Mobility Subscription Data retrieval procedure, and the list of NWDAF instance IDs used for the UE and their associated Analytic ID(s) consumed by the AMF, the Allowed NSSAI and the Target NSSAI from local configuration or from the NSSF during the slice selection procedure and shall decide based on local policies whether to request policies from the PCF.\nTo request policies from the PCF, the NF service consumer (e.g. AMF) shall send an HTTP POST request with: \"{apiRoot}/npcf-am-policy-control/v1/policies\" as Resource URI and the PolicyAssociationRequest data structure as request body that shall include:\n-\tNotification URI encoded as \"notificationUri\" attribute;\n-\tSUPI encoded as \"supi\" attribute;\n-\tif the \"SliceSupport\" feature, the \"DNNReplacementControl\" feature and/or the \"NetSliceRepl\" feature is supported in the NF service consumer and the UE is registered via a 3GPP access, the Allowed NSSAI in the 3GPP access encoded in the \"allowedSnssais\" attribute; and\n-\tif the  \"PartNetSliceSupport\" feature and/or the \"NetSliceRepl\" feature is/are supported in the NF service consumer and the UE is registered via a 3GPP access, the Partially Allowed NSSAI in the 3GPP access within the \"partAllowedNssai\" attribute;\nand that shall include when available:\n-\tGPSI encoded as \"gpsi\" attribute;\n-\tif the feature \"MultipleAccessTypes\" is not supported, the access type encoded as \"accessType\" attribute;\n-\tPermanent Equipment Identifier (PEI) encoded as \"pei\" attribute;\n-\tUser Location Information encoded as \"userLoc\" attribute;\n-\tUE Time Zone encoded as \"timeZone\" attribute;\n-\tthe identifier of the serving network (the PLMN Identifier or the SNPN Identifier)encoded as \"servingPlmn\" attribute;\nNOTE 1:\tThe SNPN Identifier consists of the PLMN Identifier and the NID.\n-\tif the feature \"MultipleAccessTypes\" is not supported, the RAT type encoded as \"ratType\" attribute;\n-\tService Area Restrictions (see clause 4.2.2.3.1) derived from the Service Area Restrictions obtained from the UDM by mapping any service areas denoted by geographical information into Tracking Area Identities (TAIs) and encoded as \"servAreaRes\" attribute;\n-\tRFSP index (see clause 4.2.2.3.2) as obtained from the UDM encoded as \"rfsp\" attribute;\n-\ta list of Internal Group Identifiers encoded as \"groupIds\" attribute;\n-\tif the NF service consumer is an AMF, the GUAMI encoded as \"guami\" attribute;\n-\tif the NF service consumer is an AMF, the name of a service produced by the AMF that expects to receive information within Npcf_AMPolicyControl_UpdateNotify service operation encoded as \"serviceName\" attribute;\n-\tAlternate or backup IPv4 Address(es) where to send Notifications encoded as \"altNotifIpv4Addrs\" attribute;\n-\tAlternate or backup IPv6 Address(es) where to send Notifications encoded as \"altNotifIpv6Addrs\" attribute;\n-\tAlternate or backup FQDN(s) where to send Notifications encoded as \"altNotifFqdns\" attribute;\n-\ttrace control and configuration parameters information encoded as \"traceReq\" attribute;\n-\tif the feature \"UE-AMBR_Authorization\" is supported in the NF service consumer, the subscribed UE-AMBR (see clause 4.2.2.3.3) in the \"ueAmbr\" attribute;\n-\tif the \"DNNReplacementControl\" feature and/or the \"NetSliceRepl\" feature is/are supported, the mapping of each S-NSSAI of the Allowed NSSAI and, if the \"PartNetSliceSupport\" feature and/or the \"NetSliceRepl\" feature is/are supported, the mapping of each S-NSSAI of the Partially Allowed NSSAI to the corresponding S-NSSAI of the HPLMN encoded in the \"mappingSnssais\" attribute;\n-\tif the \"PartNetSliceSupport\" feature is supported in the NF service consumer and the UE is registered via a 3GPP access:\n-\tthe list of the S-NSSAI(s) partially rejected in the RA, if available, encoded via the \"snssaisPartRejected\" attribute;\n-\tthe list of the Rejected S-NSSAI(s) in the RA, if available, encoded via the \"rejectedSnssais\" attribute; and/or\n-\tthe Pending NSSAI encoded, if available, via the \"pendingNssai\" attribute;\n-\tif the feature \"UE-Slice-MBR_Authorization\" is supported in the NF service consumer, the subscribed UE-Slice-MBR for each subscribed S-NSSAI of the home PLMN mapping to a S-NSSAI of the serving PLMN if available (see clause 4.2.2.3.5) encoded in the \"ueSliceMbrs\" attribute;\n-\twhen the \"EneNA\" feature is supported, the list of NWDAF instance IDs used for the UE and their associated Analytic IDs consumed by the NF service consumer, included within the \"nwdafDatas\" attribute; and\n-\tif the feature \"TargetNSSAI\" is supported in the NF service consumer, the Target NSSAI generated by the NF service consumer or received from the NSSF encoded in the \"targetSnssais\" attribute.\nUpon the reception of this HTTP POST request, the PCF shall:\n-\tassign a policy association ID;\n-\tdetermine the applicable policy (taking into consideration and optionally modifying the possibly received UE-AMBR, UE-Slice-MBR(s) for the Allowed NSSAI and the Partially Allowed NSSAI, Service Area Restrictions, RFSP index, Allowed NSSAI, Partially Allowed NSSAI, list of the S-NSSAI(s) partially rejected in the RA, list of the Rejected S-NSSAI(s) in the RA and/or Pending NSSAI);\n-\tfor the successful case, send a HTTP \"201 Created\" response with the URI for the created resource in the \"Location\" header field\nNOTE 2:\tThe assigned policy association ID is part of the URI for the created resource and is thus associated with the SUPI.\nand the PolicyAssociation data type as response body including:\n-\tconditionally AMF Access and Mobility Policy (see clause 4.2.2.3), i.e.:\na)\tif the PCF received the \"servAreaRes\" attribute in the request, Service Area Restrictions encoded as \"servAreaRes\" attribute; and/or\nb)\tif the PCF received the \"rfsp\" attribute in the request, RAT Frequency Selection Priority (RFSP) Index encoded as \"rfsp\" attribute. If the feature \"RFSPValidityTime\" is supported and the PCF determines to provide an RFSP index value that indicates EPC/E-UTRAN access is prioritized over 5GS access, the PCF may provide, based on operator policies, a validity time for the RFSP index value within the \"rfspValTime\" attribute;; and/or\nc)\tif the feature \"UE-AMBR_Authorization\" is supported and the PCF received the \"ueAmbr\" attribute in the request, the authorized UE-AMBR encoded as \"ueAmbr\" attribute;\nd)\tif the feature \"UE-Slice-MBR_Authorization\" is supported and the PCF received the \"ueSliceMbrs\" attribute in the request, the corresponding authorized UE-Slice-MBR(s) encoded as \"ueSliceMbrs\" attribute;\ne)\tif the feature \"AMInfluence\" is supported, the PCF for the UE determines that the access and mobility policies may be influenced by the traffic of PDU session(s) and local operator policies indicate that the PCF for the UE shall subscribe with the PCF for the PDU session for established/terminated PDU session(s) event notifications via the AMF and the SMF, the PCF for the UE information within the \"pcfUeInfo\" attribute, and the DNN and S-NSSAI of the concerned PDU session(s) within the \"matchPdus\" attribute. The \"pcfUeInfo\" attribute shall include the PCF for the UE callback URI via which the PCF(s) for the PDU session shall send notifications about the related PDU session(s) established/terminated events within the \"callbackUri\" attribute, and if available, the associated PCF for the UE instance ID, PCF set ID, and the level of SBA binding within the \"bindingInfo\" attribute;\nf)\tif the feature \"5GAccessStratumTime\" is supported and the PCF receives the access stratum time distribution parameters from the TSCTSF as defined in 3GPP TS 29.534 [26], the 5G access stratum time distribution parameters encoded as \"asTimeDisParam\" attribute as defined in clause 4.2.2.3.6; and/or\ng)\tif the \"NetSliceUsageCtrl\" feature is supported and the PCF determines that one or more S-NSSAI(s) of the UE's Allowed NSSAI is/are on-demand S-NSSAI(s) and subject to network slice usage control, the network slice usage control information (e.g. slice deregistration inactivity timer) within the \"sliceUsgCtrlInfoSets\" attribute as specified in clause 4.2.2.3.7;\nNOTE 3:\tIn this release of the specification, network slice usage control information provisioning by the PCF is not supported in roaming scenarios.\n-\toptionally one or several of the following Policy Control Request Trigger(s) encoded as \"triggers\" attribute (see clause 4.2.3.2):\na)\tLocation change (tracking area);\nb)\tChange of UE presence in PRA;\nc)\tif the \"SliceSupport\" feature, the \"DNNReplacementControl\" feature and/or the \"NetSliceRepl\" feature is supported, change of Allowed NSSAI;\nd)\tif the \"DNNReplacementControl\" feature is supported, change of SMF selection information; and\ne)\tif the \"EneNA\" feature is supported, change of NWDAF data;\nf)\tif the \"TargetNSSAI\" feature is supported, Generation of Target NSSAI;\ng)\tif the \"NetSliceRepl\" feature is supported, S-NSSAI Replacement;\nh)\tif the \"PartNetSliceSupport\" feature and/or the \"NetSliceRepl\" feature is supported, Change of the Partially Allowed NSSAI;\ni)\tif the \"PartNetSliceSupport\" feature is supported, Change of the the S-NSSAI(s) rejected partially in the RA, Change of the rejected S-NSSAI(s) in the RA and/or Change of the Pending NSSAI;\n-\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is provided, the presence reporting areas for which reporting is required encoded as \"pras\" attribute;\nNOTE 4:\tIf the PCF uses a Presence Reporting Area identifier referring to a Set of Core Network predefined Presence Reporting Areas as defined in 3GPP TS 23.501 [2], the PCF includes the identifier of this Presence Reporting Area set within the \"praId\" attribute.\n-\tif the Policy Control Request Trigger \"Change of SMF selection information\" is provided, the SMF selection information representing the conditions upon which the AMF shall request a DNN replacement (see clause 4.2.2.3.4) encoded as \"smfSelInfo\" attribute; and\n-\tif the Policy Control Request Trigger \"Generation of Target NSSAI\" is provided, the RFSP Index associated with the Target NSSAI encoded as \"targetRfsp\" attribute;\nand\n-\tif errors occur when processing the HTTP POST request, apply error handling procedures as specified in clause 5.7 and according to the following provisions:\n-\tif the user information received within the \"supi\" attribute is unknown, the PCF shall reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"USER_UNKNOWN\";\n-\tif the PCF is, due to incomplete, erroneous or missing information in the request, not able to provision an AM policy decision, the PCF may reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"ERROR_REQUEST_PARAMETERS\"; and\n-\tif the PCF rejects the AM policy association establishment, the NF service consumer shall apply the policy retrieved from the UDM if available; otherwise, the NF service consumer shall apply the operator configured policy.\nIf the PCF received a GUAMI, the PCF may subscribe to GUAMI changes using the AMFStatusChange service operation of the Namf_Communication service specified in 3GPP TS 29.518 [14], and it may use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the obtained GUAMI and possibly service name) to query the other AMFs within the AMF set.\nIf the PCF received a \"traceReq\" attribute, it shall perform trace procedures as defined in 3GPP TS 32.422 [18].\nIf the PCF received the list of NWDAF instance IDs used for the UE and their associated Analytic IDs within the \"nwdafDatas\" attribute, the PCF may select those NWDAF instances as described in 3GPP TS 29.513 [7].\nThe PCF may retrieve AF requirements on Access and Mobility policies from the UDR as specified in 3GPP TS 29.519 [17] and consider them for determining the Access and Mobility policies to be provisioned.\nIf service area restrictions are enabled, the Service Area Restriction information is encoded using the \"ServiceAreaRestriction\" data type defined in 3GPP TS 29.571 [11] and consists of:\n-\ta limited allowed area represented as:\na)\tthe maximum number of allowed TAs that can be traversed encoded as \"maxNumOfTAs\" attribute; or\nb)\tboth of:\n(i)\ta list of allowed Tracking Area Identities (TAIs) encoded as \"tacs\" attributes within the \"areas\" attribute; and\n(ii)\tthe \"restrictionType\" attribute set to \"ALLOWED_AREAS\"; or\nc)\tboth a) and b) above;\n-\tor a limited allowed area represented as:\na)\tthe maximum number of allowed TAs that can be traversed encoded as \"maxNumOfTAsForNotAllowedAreas\" attribute; or\nb)\tall of:\n(i)\ta list of not allowed Tracking Area Identities (TAIs) encoded as \"tacs\" attributes within the \"areas\" attribute; and\n(ii)\tthe \"restrictionType\" attribute set to \"NOT_ALLOWED_AREAS\"; and\n(iii)\tthe maximum number of allowed TAs that can be traversed encoded as \"maxNumOfTAsForNotAllowedAreas\" attribute;\n-\tor a not allowed area represented as:\na)\ta list of not allowed Tracking Area Identities (TAIs) encoded as \"tacs\" attributes within the \"areas\" attribute; and\nb)\tthe \"restrictionType\" attribute set to \"NOT_ALLOWED_AREAS\".\nWhen the \"restrictionType\" attribute is set to \"NOT_ALLOWED_AREAS\", the \"maxNumOfTAs\" attribute shall not be present.\nWhen the \"restrictionType\" attribute is set to \"ALLOWED_AREAS\", the \"maxNumOfTAsForNotAllowedAreas\" attribute shall not be present.\nWhen for a limited allowed area both, \"maxNumOfTAs\" and \"areas\" attributes are present, the \"maxNumOfTAs\" attribute represents the upper limit of the limited allowed area. The AMF may add any not yet visited tracking areas to the allowed area represented by the \"areas\" attribute until the total number of TAs reaches the \"maxNumOfTAs\" attribute value.\nNOTE 1:\tThe \"maxNumOfTAs\" attribute value represents the maximum number of TAs of the limited allowed area. When \"maxNumOfTAs\" attribute value is lower than the number of TAs in the \"areas\" attribute it represents the maximum number of TAs allowed inside the limited allowed area defined by the TAs contained in the \"areas\" attribute. When the \"maxNumOfTAs\" attribute value is higher than the number of TAs in the \"areas\" attribute it represents that additional TAs up to the \"maxNumOfTAs\" attribute value can be dynamically added to the area defined by the TAs contained in the \"areas\" attribute.\nWhen for a limited allowed area the following three attributes are present:\n-\t\"maxNumOfTAsForNotAllowedAreas\" attribute; and\n-\tthe \"restrictionType\" attribute set to \"NOT_ALLOWED_AREAS\"; and\n-\tthe \"areas\" attribute,\nthe \"maxNumOfTAsForNotAllowedAreas\" attribute represents the maximum number of TAs allowed in a limited allowed area outside the not allowed area represented in the \"areas\" attribute. The limited allowed area is dynamically calculated by the AMF, and the TAs outside of the dynamically calculated limited allowed area become not allowed TAs.\nNOTE 2:\tBoth, the \"maxNumOfTAsForNotAllowedAreas\" attribute and the \"maxNumOfTAs\" attribute, when present in a \"ServiceAreaRestriction\" data type instance that does not include the \"areas\" attribute and the \"restrictionType\" attribute, represent a maximum number of allowed TAs in a limited allowed area dynamically calculated by the AMF.\nWhen the authorized service area restrictions result in an unlimited set of allowed tracking areas, the PCF shall include:\n-\tan empty \"servAreaRes\" attribute; or\n-\tthe \"restrictionType\" attribute set to \"NOT_ALLOWED_AREAS\" and an empty \"areas\" attribute.\nWhen the authorized service area restrictions result in an unlimited set of not-allowed tracking areas, the PCF shall include the \"restrictionType\" attribute set to \"ALLOWED_AREAS\" and an empty \"areas\" attribute.\nNOTE 3:\tThe \"maxNumOfTAs\" attribute and the \"maxNumOfTAs\" attribute are not used when the authorized service area restrictions result in an unlimited set of allowed or an unlimited set of not-allowed tracking areas.\nThe RFSP Index is an index referring to a UE information used locally by the Access Network in order to apply specific radio resource management strategies. It shall be encoded using the RfspIndex data type defined in 3GPP TS 29.571 [11].\nIf the feature \"TargetNSSAI\" is supported and when the PCF receives the Target NSSAI from the NF service consumer, the PCF shall, if the Policy Control Request Trigger \"Generation of Target NSSAI\" is provisioned in the response, additionally provide the RFSP Index associated with the Target NSSAI.\nIn order for the PCF to determine the RFSP Index value that will be authorized, the PCF shall be configured with a mapping between the RAT Type and/or frequency value and the RFSP Index.\nNOTE 1:\tThe RFSP index value that will be authorized is determined based on operator policies that take into consideration e.g. accumulated usage, analytics information related to load level information per network slice instance, UE communication, user data congestion or service experience, etc.\nThe PCF may determine an RFSP Index value that indicates that the EPC/E-UTRAN access is prioritized over 5GS access. In this case, if the feature \"RFSPValidityTime\" is supported, the PCF may, based on operator policy, send to the AMF a validity time associated to the provided RFSP Index within the \"rfspValTime\" attribute. When the AMF determines to use the RFSP Index received from the PCF, the AMF provides to the MME the validity time of the RFSP Index, if received. The validity time indicates the time for which the RFSP Index will be used in the MME after 5GS to EPS mobility, as specified in clause 4.11.1.5.8 of 3GPP TS 23.502 [3].\nNOTE 2:\tThe RFSP validity time is used by the MME to allow the UE to stay in EPS during the period of time indicated by the \"rfspValTime\" attribute and avoid the potential ping-pong issue from 5GS and EPS (i.e., 5GS keeps sending the UE to EPS based on authorized RFSP Index from PCF, and the EPS keeps sending the UE back to 5GS immediately based on the subscribed RFSP Index).\nUpon reception of the authorized RFSP index, the NF service consumer (e.g. AMF) shall choose the RFSP Index in use as described in 3GPP TS 23.501 [2] clause 5.3.4.3.1.\nThe UE-AMBR limits the aggregate bit rate that can be expected to be provided across all Non-GBR QoS Flows of a UE. It shall be encoded using the Ambr data type defined in 3GPP TS 29.571 [11].\nIf the \"DNNReplacementControl\" feature is supported, when SMF Selection Management is enabled, the SMF selection information is encoded using the \"SmfSelectionData\" data type, which consists of:\n-\tthe conditions upon which the AMF shall request to the PCF the replacement of SMF selection data, which may include:\na)\tan indication of whether the AMF shall request DNN replacement when the UE requested an unsupported DNN during PDU session establishment encoded in the \"unsuppDnn\" attribute; and/or\nb)\ta list of candidate DNNs for replacement encoded in the \"candidates\" map, where:\ni)\tthe key of the map is the S-NSSAI; and\nii)\teach entry of the map is of \"CandidateForReplacement\" data type, which:\n-\tshall include the S-NSSAI encoded in the \"snssai\" attribute; and\n-\tmay include the list of candidate DNNs for the S-NSSAI encoded in the \"dnns\" attribute;\nNOTE 1:\tThe S-NSSAIs included in the map are S-NSSAIs of the allowed NSSAI and/or the Partially Allowed NSSAI, if the \"PartNetSliceSupport\" feature and/or \"NetSliceRepl\" feature is/are supported, valid in the serving network. The PCF keeps updated information of the Allowed NSSAI valid in the serving network by subscribing to the policy control request trigger Change of Allowed NSSAI of the served UE.\nNOTE 2:\tWhen the PCF provides URSP rules (see 3GPP TS 29.525 [29]) to the UE with new DNN information and in order to provide uniform service experience for UEs from earlier Releases, the candidate DNNs for replacement will consider those included within the traffic descriptors in addition to those included as part of the Route Selection Descriptor(s) of the URSP rule(s) provided to the UE.\n-\tand,\na)\twhen included within the Npcf_AMPolicyControl_Update request, the UE requested DNN and S-NSSAI at PDU session establishment that matched an entry of the \"candidates\" map, encoded in the \"dnn\" attribute and in the \"snssai\" attribute respectively, and the mapping to the home S-NSSAI encoded in the \"mappingSnssai\" attribute if available; and\nb)\twhen included within the Npcf_AMPolicyControl_Update response, the PCF selected DNN encoded in the \"dnn\" attribute;\nNOTE 2:\tThe PCF can select the same DNN and S-NSSAI as the UE requested DNN and S-NSSAI. When the PCF returns an unsupported DNN, the AMF applies internal policies to reject the PDU session establishment.\nWhen the \"dnns\" attribute is omitted in an entry of the \"candidates\" map it represents that the AMF shall invoke the procedure for any UE request matching the S-NSSAI value included in the \"snssai\" attribute.\nThe UE-Slice-MBR limits the aggregate bit rate that can be expected to be provided across all GBR and Non-GBR QoS Flows of a UE for an S-NSSAI. It shall be encoded using the SliceMbr data type defined in 3GPP TS 29.571 [11].\nIf the feature \"5GAccessStratumTime\" is supported and the PCF receives the access stratum time distribution parameters from the TSCTSF as defined in 3GPP TS 29.534 [26], the 5G access stratum time distribution parameters are encoded using the \"asTimeDisParam\" attribute of the \"AsTimeDistributionParam\" data type, which consists of:\n-\tan indication of whether the 5G access stratum time distribution is enabled encoded in the \"asTimeDistInd\" attribute if applicable;\n-\tthe Uu Time synchronization error budget encoded in the \"uuErrorBudget\" attribute if applicable, and\n-\tthe clock quality detail level in the \"clkQltDetLvl\" attribute and optionally the clock quality accpetance criteria in the \"clkQltAcptCri\" attribute if applicable, and if the feature \"NetTimeSyncStatus\" is supported.\nIf the PCF receives multiple time synchronization error budgets for a given UE, the PCF shall encode the most stringent error budget within the \"uuErrorBudget\" attribute.\nIf the PCF receives the removal of the access stratum time distribution parameters from the TSCTSF as defined in 3GPP TS 29.534 [26] and there are no other access stratum time distribution parameters from other requests for the same UE, the PCF shall provide the \"asTimeDisParam\" attribute set to NULL.\nWhen the PCF receives a Npcf_AMPolicyControl_Create request and the \"NetSliceUsageCtrl\" feature is supported, the PCF may check whether any of the UE's S-NSSAI(s) are subject to network slice usage control. If it is the case, the PCF may provision in the Npcf_AMPolicyControl_Create response the network slice usage control information (e.g., slice deregistration inactivity timer) within the \"sliceUsgCtrlInfoSets\" attribute of the PolicyAssociation data structure for each on-demand S-NSSAI of the UE's Allowed NSSAI, as specified in clause 5.15.15.3 of 3GPP TS 23.501 [2].\nNOTE:\tIn this release of the specification, network slice usage control information provisioning by the PCF is not supported in roaming scenarios.\n4.2.2.3.8\tAlternative S-NSSAI\nWhen the \"NetSliceRepl\" feature is supported, the Alternative S-NSSAI indicates a compatible S-NSSAI for an S-NSSAI of the Allowed NSSAI and/or the Partially Allowed NSSAI that the AMF uses as a replacement when the S-NSSAI is not available or congested. It shall be encoded using the SnssaiReplaceInfo data type as defined in 3GPP TS 29.571 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.2.3\tNpcf_AMPolicyControl_Update Service Operation",
                            "text_content": "The procedure in the present clause is applicable when the NF service consumer modifies an existing AM policy association (including the case where the AMF is relocated and the new AMF selects the old PCF to maintain the policy association and to update the Notification URI).\nFigure 4.2.3.1-1 illustrates the update of a policy association.\nFigure 4.2.3.1-1 illustrates the process of updating a policy association in a telecommunication network. The figure shows the interaction between the network elements, including the network element (NE), policy server (PS), and policy database (PD). The NE sends a request to the PS to update the policy, which then communicates with the PD to modify the policy. This process ensures that the network remains efficient and up-to-date with the latest policies.\nFigure 4.2.3.1-1: Update of a policy association\nThe AMF as NF service consumer invokes this procedure when a policy control request trigger (see clause 4.2.3.2) occurs. When a policy control request trigger that does not require the subscription as defined in table 5.6.3.3-1 (e.g. Service Area Restriction change trigger) occurs, the NF service consumer (e.g. AMF) shall always invoke the procedure. When a policy control request trigger requires the subscription as defined in table 5.6.3.3-1 (e.g. location change trigger) occurs, the NF service consumer shall only invoke the procedure if the PCF has subscribed to that event trigger.\nIf an AMF knows by implementation specific means that the UE context has been transferred to an AMF with another GUAMI within the AMF set, it may also invoke this procedure to update the Notification URI and the GUAMI.\nNOTE 1:\tEither the old or the new AMF can invoke this procedure.\nDuring the AMF relocation, if the new AMF received the resource URI of the individual AM Policy from the old AMF and selects the old PCF, the new AMF shall also invoke this procedure to update the Notification URI and the GUAMI. The new AMF may also update the alternate or backup IP addresses. If the feature \"FeatureRenegotiation\" is supported, the new AMF may perform feature renegotiation, as described in clause 4.2.3.4.\nTo request policies from the PCF, to update the Notification URI, to renegotiate features, to update the trace control configuration and/or to request the termination of trace, the NF service consumer (e.g. AMF) shall request the update of the AM Policy Association by providing the relevant parameters about the UE context by sending an HTTP POST request with \"{apiRoot}/npcf-am-policy-control/v1/policies/{polAssoId}/update\" as Resource URI and the PolicyAssociationUpdateRequest data structure as request body that shall include:\n-\tat least one of the following:\n1.\ta new Notification URI encoded in the \"notificationUri\" attribute;\n2.\tobserved Policy Control Request Trigger(s) (see clause 4.2.3.2) encoded as \"triggers\" attribute;\n3.\tif a Service Area restriction change occurred, the Service Area Restrictions (see clause 4.2.2.3.1) as obtained from the UDM encoded as \"servAreaRes\" attribute;\n4.\tif a RFSP index change occurred, the RFSP index (see clause 4.2.2.3.2) as obtained from the UDM encoded as \"rfsp\" attribute;\n5.\tif a UE location change occurred and the Policy Control Request Trigger \"Location change\" was provided, the UE location encoded as \"userLoc\" attribute;\n6.\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" was provided, the current presence status of the UE for the presence reporting areas for which reporting was requested, if not previously provided, or the presence reporting areas for which reporting was requested and the status has changed encoded as \"praStatuses\" attribute;\nNOTE 2:\tIf the PCF included the identifer of a Core Network predefined Presence Reporting Area Set within the \"praId\" attribute during the subscription to changes of UE presence in PRA, the AMF only provides the presence reporting area information corresponding to the concerned individual Presence Reporting Area Identifier(s) within the Set. The \"praId\" attribute within each returned \"PresenceInfo\" data type hence includes the identifier of the concerned individual Presence Reporting Area.\n7.\tif the trace control configuration needs to be updated, trace control and configuration parameters information encoded as \"traceReq\" attribute;\n8.\tif trace needs to be terminated, the \"traceReq\" attribute set to the Null value;\n9.\tif the \"SliceSupport\" feature, the \"DNNReplacementControl\" feature and/or the \"NetSliceRepl\" feature is supported, the UE is registered via 3GPP access, the Allowed NSSAI changed, and the Policy Control Request Trigger \"Change of Allowed NSSAI\" was provided, then the Allowed NSSAI encoded in the \"allowedSnssais\" attribute;\n10.\tfor AMF relocation scenarios, if available, alternate or backup IPv4 Address(es) where to send Notifications encoded as \"altNotifIpv4Addrs\" attribute;\n11.\tfor AMF relocation scenarios, if available, alternate or backup IPv6 Address(es) where to send Notifications encoded as \"altNotifIpv6Addrs\" attribute;\n12.\tfor AMF relocation scenarios, if available,\t alternate or backup FQDN(s) where to send Notifications encoded as \"altNotifFqdns\" attribute;\n13.\tfor AMF relocation scenarios,  the GUAMI encoded as \"guami\" attribute;\nNOTE 3:\tAn alternate NF service consumer than the one that requested the generation of the subscription resource can send the request. For instance, an AMF as service consumer can change.\n14.\tif the feature \"UE-AMBR_Authorization\" is supported, and a subscribed UE-AMBR change occurred, the UE-AMBR (see clause 4.2.2.3.3) as obtained from the UDM encoded as \"ueAmbr\" attribute;\n15.\tif the feature \"DNNReplacementControl\" is supported, DNN replacement applies and the Policy Control Request Trigger \"Change of SMF selection information\" was provided, the \"smfSelInfo\" attribute including:\n-\tthe UE requested DNN in the \"dnn\" attribute; and\n-\tthe UE requested S-NSSAI in the \"snssai\" attribute and, if available, the corresponding mapped home S-NSSAI in the \"mappingSnssai\" attribute;\nwhen:\n-\tthe UE requested an unsupported DNN and the \"unsuppDnn\" attribute is set to \"true\"; or\n-\tthe UE requested DNN and S-NSSAI matched one of the S-NSSAI and DNN provided in the \"candidates\" attribute;\n16.\tif feature \"DNNReplacementControl\" is supported, the UE is registered via 3GPP access, the Allowed NSSAI changed and/or the mapping of a S-NSSAI of the Allowed NSSAI to the corresponding S-NSSAI of the HPLMN changed, and the Policy Control Request Trigger \"Change of allowed NSSAI\" was provided, then the mapping of each S-NSSAI of the Allowed NSSAI to the corresponding S-NSSAI of the HPLMN encoded in the \"mappingSnssais\" attribute;\nNOTE 4:\tWhen the feature \"DNNReplacementControl\" is supported, the AMF applies DNN replacement for non-roaming scenarios and LBO. For a PDU session with home routed roaming, whether to perform DNN replacement is based on operator agreement.\n17.\tif feature \"UE-Slice-MBR_Authorization\" is supported, and a subscribed UE-Slice-MBR change occurred, the subscribed UE-Slice-MBR for each subscribed S-NSSAI of the home PLMN mapping to a S-NSSAI of the serving PLMN (see clause 4.2.2.3.5) encoded in the \"ueSliceMbrs\" attribute;\n18.\tif the feature \"EneNA\" is supported and an NWDAF information change occurred, the list of NWDAF instance IDs used for the UE and their associated Analytic ID(s) with the updated values within the \"nwdafDatas\" attribute;\nNOTE 5:\tThe NF service consumer provides the complete updated list of NWDAF instance IDs and associated Analytic ID(s) used for the UE. If all NWDAF data is deleted an empty list is included.\n19. if the feature \"TargetNSSAI\" is supported, a new Target NSSAI is generated and the Policy Control Request Trigger \"Generation of Target NSSAI\" is provided, the new generated Target NSSAI encoded in the \"targetSnssais\" attribute;\n20.\tif the \"NetSliceRepl\" feature is supported, the AMF is aware that one or more S-NSSAI(s) become unavailable but cannot determine the corresponding Alternative S-NSSAI(s) and the Policy Control Request Trigger \"SLICE_REPLACE_MGMT\" was provided, these unavailable S-NSSAI(s) encoded within the \"unavailSnssais\" attribute; and\n21.\tif \"PartNetSliceSupport\" feature and/or \"NetSliceRepl\" feature is/are supported, the UE is registered via 3GPP access and:\n-\tif the Partially Allowed NSSAI changed and the Policy Control Request Trigger \"Change of the Partially Allowed NSSAI\" was subscribed by the PCF, then the updated Partially Allowed NSSAI encoded via the \"partAllowedNssai\" attribute; and\n-\tif the Partially Allowed NSSAI changed and/or the mapping of one or more of the S-NSSAI(s) of the Partially Allowed NSSAI to the corresponding HPLMN S-NSSAI changed, and the Policy Control Request Trigger \"Change of the Partially Allowed NSSAI\" was subscribed by the PCF, then the mapping of each S-NSSAI of the Partially Allowed NSSAI to the corresponding HPLMN S-NSSAI encoded within the \"mappingSnssais\" attribute;\n22.\tif the \"PartNetSliceSupport\" feature is supported, the UE is registered via 3GPP access and:\n-\tif the list of the S-NSSAI(s) partially rejected in the RA changed and the Policy Control Request Trigger \"Change of the S-NSSAI(s) rejected partially in the RA\" was subscribed by the PCF, then the updated list of the S-NSSAI(s) partially rejected in the RA encoded via the \"snssaisPartRejected\" attribute;\n-\tif the list of the Rejected S-NSSAI(s) in the RA changed and the Policy Control Request Trigger \"Change of the Rejected S-NSSAI(s)\" was subscribed by the PCF, then the updated list of the Rejected S-NSSAI(s) in the RA encoded via the \"rejectedSnssais\" attribute; and\n-\tif the Pending NSSAI changed and the Policy Control Request Trigger \"Change of the Pending NSSAI\" was subscribed by the PCF, then the updated Pending NSSAI encoded via the \"pendingNssai\" attribute.\nUpon the reception of the HTTP POST request, the PCF shall:\n-\tupdate the corresponding individual AM Policy resource based on the information provided by the NF service consumer;\n-\tdetermine the applicable policy based on local policy;\n-\tfor the successful case, send a HTTP \"200 OK\" response with the PolicyUpdate data type as body with possible updates for that applicable policy and Policy Control Request Trigger(s) encoded as described in clause 4.2.3.3 and according to the following provisions:\na)\tif the PCF received the \"servAreaRes\" attribute in the request, Service Area Restrictions encoded as \"servAreaRes\" attribute;\nb)\tif the PCF received the \"rfsp\" attribute in the request, RAT Frequency Selection Priority (RFSP) Index encoded as \"rfsp\" attribute. If the feature \"RFSPValidityTime\" is supported and the PCF determines to provide an RFSP index value that indicates EPC/E-UTRAN access is prioritized over 5GS access, the PCF may provide, based on operator policies, a validity time for the RFSP index value within the \"rfspValTime\" attribute;\nc)\tif the feature \"UE-AMBR_Authorization\" is supported and the PCF received the \"ueAmbr\" attribute in the request, UE-AMBR encoded as \"ueAmbr\" attribute;\nd)\tif the PCF received the \"smfSelInfo\" attribute in the request, the \"smfSelInfo\" attribute encoding the PCF selected DNN in the \"dnn\" attribute corresponding to the S-NSSAI received in the \"snssai\" attribute;\nNOTE 6:\tA PolicyUpdate data structure with only mandatory attribute(s) is included in the \"200 OK\" response when the PCF decides not to update the policies.\ne)\tif the feature \"UE-Slice-MBR_Authorization\" is supported and the PCF received the \"ueSliceMbrs\" attribute in the request, the corresponding authorized UE-Slice-MBR(s) encoded as \"ueSliceMbrs\" attribute;\nf)\tif the feature \"TargetNSSAI\" is supported and the PCF received the \"targetSnssais\" attribute in the request, the RFSP Index associated with the Target NSSAI encoded as \"targetRfsp\" attribute;\ng)\tif the \"NetSliceUsageCtrl\" feature is supported, the updated network slice usage control information (e.g., updated slice deregistration inactivity timer) within the \"sliceUsgCtrlInfoSets\" attribute for each on-demand S-NSSAI of the UE's Allowed NSSAI; and/or\nNOTE 7:\tIn this release of the specification, network slice usage control information provisioning/update/removal by the PCF is not supported in roaming scenarios.\nh)\tif the \"NetSliceRepl\" feature is supported and the PCF received the \"unavailSnssais\" attribute in the request, the Alternative S-NSSAI(s) associated with the received S-NSSAI(s) within the \"snssaiReplInfos\" attribute containing these unavailable S-NSSAI(s), and for each unavailable S-NSSAI, the corresponding status information set to \"UNAVAILABLE\" and the corresponding Alternative S-NSSAI;\n-\tif errors occur when processing the HTTP POST request, apply error handling procedures as specified in clause 5.7 and according to the following provisions:\na)\tif the PCF is, due to incomplete, erroneous or missing information in the request, not able to provision an AM policy decision, the PCF may reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"ERROR_REQUEST_PARAMETERS\".\nb)\tif the \"ES3XX\" feature is supported and the PCF (service) instance has changed, the PCF may respond with an HTTP 3xx redirect response pointing to a new PCF (service) instance as defined in clause 6.5.3.3 of 3GPP TS 29.500 [5].\nIf the PCF received a \"traceReq\" attribute, it shall perform trace procedures as defined in 3GPP TS 32.422 [18].\nIf the AMF received the request of removal of Service Area Restrictions and/or RFSP Index and/or UE-AMBR and/or UE-Slice-MBR(s) from the UDM, the AMF shall remove the authorized Service Area Restrictions and/or RFSP Index and/or UE-AMBR and/or UE-Slice-MBR(s) provisioned by the PCF and apply the configured Service Area Restrictions and/or RFSP Index and/or UE-AMBR and/or UE-Slice-MBR(s) at the AMF without interacting with the PCF.\nIf feature \"DNNReplacementControl\" is supported and the AMF received the update of the SMF selection information within the \"smfSelInfo\" attribute in the response, the AMF shall apply the updated SMF selection information to the new PDU Sessions only, i.e. already established PDU Sessions are not affected.\nIf the feature \"AMInfluence\" is supported, the PCF determines that the access and mobility policies may be influenced by the traffic of a PDU session(s), e.g. based on the received policy control request trigger(s), and local operator policies indicate the PCF for the UE shall subscribe with the PCF for the PDU session for established/terminated PDU session(s) event notifications, the PCF shall provision/update the AMF with the PCF for the UE information within the \"pcfUeInfo\" attribute and the complete list of S-NSSAI and DNN combinations within the \"matchPdus\" attribute. The AMF shall then update the affected established PDU sesssion(s), by forwarding the received PCF for the UE information for the PDU session(s) matching the new S-NSSAI and DNN combination(s) and removing the previously provided PCF for the UE information for the PDU session(s) matching the removed S-NSSAI and DNN combination(s) as defined in 3GPP TS 29.502 [31].\nWhen the feature \"AMInfluence\" is supported, and the SBA binding indication information for the PCF instance changes, the PCF may update the previously provided information in the AMF. The AMF shall apply the updated PCF callback information to the new PDU Sessions only, i.e., already established PDU sessions are not affected.\nIf the PCF received a new GUAMI, the PCF may subscribe to GUAMI changes using the AMFStatusChange service operation of the Namf_Communication service specified in 3GPP TS 29.518 [14], and it may use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the obtained GUAMI and possibly service name) to query the other AMFs within the AMF set.\nIf the PCF received a \"servAreaRes\" attribute which resulted to a change of the Service Area Restrictions, it shall send notifications to any NF Service Consumer(s) (e.g. AF) that have subscribed to the related event by using the Npcf_AMPolicyAuthorization service (see TS 29.534 [26]) and/or the Npcf_EventExposure service ((see TS 29.523 [28]).\nIf the PCF received a new list of NWDAF instance IDs used for the UE and their associated Analytic IDs within the \"nwdafDatas\" attribute, the PCF may select those NWDAF instances based on this new list as described in 3GPP TS 29.513 [7].\nThe following Policy Control Request Triggers are defined (see clause 6.1.2.5 of 3GPP TS 23.503 [4]):\n-\t\"LOC_CH\", i.e. location change (tracking area): the tracking area of the UE has changed;\n-\t\"PRA_CH\", i.e. change of UE presence in PRA: the UE is entering/leaving a Presence Reporting Area, this includes reporting the initial status at the time the request for reports is initiated;\n-\t\"SERV_AREA _CH\", i.e. Service Area Restriction change: the UDM notifies the AMF that the subscribed service area restriction information has changed;\n-\t\"RFSP_CH\", i.e. RFSP index change: the UDM notifies the AMF that the subscribed RFSP index has changed;\n-\t\"ALLOWED_NSSAI_CH\", i.e. change of allowed NSSAI of the served UE;\nNOTE 1:\tThe \"ALLOWED_NSSAI_CH\" trigger only applies if the \"SliceSupport\" feature, the \"DNNReplacementControl\" feature and/or \"NetSliceRepl\" feature is/are supported.\n-\t\"UE_AMBR_CH\", i.e. UE-AMBR change: the UDM notifies the AMF that the subscribed UE-AMBR has changed;\nNOTE 2:\tThe \"UE_AMBR_CH\" trigger only applies if the \"UE-AMBR_Authorization\" feature is supported.\n-\t\"SMF_SELECT_CH\", i.e. SMF selection information change: UE request for an unsupported DNN or UE request for a DNN within the list of DNN candidates for replacement per S-NSSAI;\nNOTE 3:\tThe \"SMF_SELECT_CH\" trigger only applies if the \"DNNReplacementControl\" feature is supported and \"ALLOWED_NSSAI_CH\" trigger is also subscribed.\n-\t\"ACCESS_TYPE_CH\", i.e. the access type change: the AMF notifies that the access type and the RAT type combinations available in the AMF for a UE with simultaneous 3GPP and non-3GPP connectivity has changed;\nNOTE 4:\tThe \"ACCESS_TYPE_CH\" trigger only applies if the \"MultipleAccessTypes\" feature is supported as specified in Annex B.\n-\t\"UE_SLICE_MBR_CH\", i.e. UE-Slice-MBR change: the AMF notifies for any changes in the subscribed UE-Slice-MBR for each subscribed S-NSSAI of the home PLMN mapping to a S-NSSAI of the serving PLMN;\nNOTE 5:\tThe \"UE_SLICE_MBR_CH\" trigger only applies if the \"UE-Slice-MBR_Authorization\" feature is supported.\n-\t\"NWDAF_DATA_CH\", i.e. NWDAF Data change:the list of NWDAF Instance IDs and/or their associated Analytics IDs consumed by the AMF have changed;\nNOTE 6:\tThe \"NWDAF_DATA_CH\" trigger only applies if the \"EneNA\" feature is supported.\n-\t\"TARGET_NSSAI\", i.e. Generation of Target NSSAI: the NF service consumer notifies that the Target NSSAI was generated;\nNOTE 7:\tThe \"TARGET_NSSAI\" trigger only applies if the \"TargetNSSAI\" feature is supported.\n-\t\"SLICE_REPLACE_MGMT\", i.e. Network slice replacement is needed for one or more S-NSSAI(s) and the NF service consumer (i.e., AMF) cannot determine the Alternative S-NSSAI(s) for these S-NSSAI(s); and\nNOTE 8:\tThe \"SLICE_REPLACE_MGMT\" trigger only applies if the \"NetSliceRepl\" feature is supported.\n-\t\"PARTIALLY_ALLOWED_NSSAI_CH\", i.e. change of the Partially Allowed NSSAI of the served UE;\nNOTE 9:\tThe \"PARTIALLY_ALLOWED_NSSAI_CH\" trigger only applies if the \"PartNetSliceSupport\" feature and/or \"NetSliceRepl\" feature is/are supported.\n-\t\"SNSSAIS_PARTIALLY_REJECTED_CH\", i.e. change of the S-NSSAI(s) partially rejected in the RA for the served UE;\n-\t\"REJECTED_SNSSAIS_CH\", i.e. change of the Rejected S-NSSAI(s) in the RA for the served UE;\n-\t\"PENDING_NSSAI_CH\", i.e. change of the Pending NSSAI of the served UE;\nNOTE 10:\tThe \"SNSSAIS_PARTIALLY_REJECTED_CH\", \"REJECTED_SNSSAIS_CH\" and \"PENDING_NSSAI_CH\" triggers only apply if the \"PartNetSliceSupport\" feature is supported.\nUpdated policies shall be encoded within the PolicyUpdate data type that may include:\n-\tAMF Access and Mobility Policy (see clause 4.2.2.3) Service Area Restriction encoded as \"servAreaRes\" attribute;\n-\tAMF Access and Mobility Policy (see clause 4.2.2.3) RFSP Index encoded as \"rfsp\" attribute and RFSP Index associated with the Target NSSAI encoded as \"targetRfsp\" attribute;\n-\tif the \"UE-AMBR_Authorization\" feature is supported, AMF Access and Mobility Policy (see clause 4.2.2.3) UE-AMBR encoded as \"ueAmbr\" attribute;\n-\tif the \"UE-Slice-MBR_Authorization\" feature is supported, AMF Access and Mobility Policy (see clause 4.2.2.3) UE-Slice-MBR(s) encoded as \"ueSliceMbrs\" attribute;\nNOTE:\tPCF can stop applying policies to already provided attributes under PolicyUpdate data type. In that case, PCF will modify those attributes by e.g. providing configured values. How the PCF gets those values is out of specification.\n-\tif the \"DNNReplacementControl\" feature is supported, AMF Access and Mobility Policy (see clause 4.2.2.3) SMF selection information encoded as \"smfSelInfo\" attribute;\n-\tif the \"NetSliceRepl\" feature is supported, network slice replacement information within the \"snssaiReplInfos\" attribute;\n-\tupdated Policy Control Request Trigger(s) (see clause 4.2.3.2) encoded as \"triggers\" attribute i.e.:\n1)\teither a new complete list of applicable Policy Control Request Trigger(s) including one or several of the following:\na)\tLocation change (tracking area);\nb)\tChange of UE presence in PRA;\nc)\tif the \"SliceSupport\" feature, the \"DNNReplacementControl\" feature and/or the \"NetSliceRepl\" feature is supported, change of Allowed NSSAI;\nd)\tif the \"DNNReplacementControl\" feature is supported, SMF selection information change;\ne)\tif the \"NetSliceRepl\" feature is supported, network slice replacement information change;\nf)\tif the \"PartNetSliceSupport\" feature and/or \"NetSliceRepl\" feature is/are supported, Change of the Partially Allowed NSSAI; and/or\ng)\tif the \"PartNetSliceSupport\" feature is supported, Change of the S-NSSAI(s) rejected partially in the RA, Change of the Rejected S-NSSAI(s) and/or Change of the Pending NSSAI;\n2)\ta \"NULL\" value to request the removal of all previously installed Policy Control Request Trigger(s); and\n-\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is provided or if that trigger was already set but the requested presence reporting areas need to be changed, the presence reporting areas for which reporting is required encoded as \"pras\" attribute encoded as follows:\na)\tA new entry shall be added by supplying a new identifier as key and the corresponding PresenceInfo data type instance with complete contents as value as an entry within the map.\nb)\tAn existing entry shall be modified by supplying the existing identifier as key and the PresenceInfo data type instance with complete contents as value as an entry within the map.\nc)\tAn existing entry shall be deleted by supplying the existing identifier as key and \"NULL\" as value as an entry within the map.\nd)\tFor an unmodified entry, no entry needs to be provided within the map.\n-\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is removed, the presence reporting areas for which reporting was required shall be removed by providing the \"pras\" attribute with \"NULL\" as value.;\n-\tif the Policy Control Request Trigger \"SMF selection information change\" is provided or if that trigger was already set and the indication of DNN replacement when the requested DNN is unknown needs to be set or changed, the \"unsuppDnn\" attribute within \"smfSelInfo\" attribute shall be provided including the appropriate value.\n-\tif the Policy Control Request Trigger \"SMF selection information change\" is provided or if that trigger was already set and the list of candidate DNNs for replacement needs to be set or changed, the \"candidates\" attribute within the \"smfSelInfo\" attribute is encoded as follows:\na)\tA new entry shall be added by supplying a new S-NSSAI as key and the corresponding CandidateForReplacement data type instance with complete contents as value as an entry within the map.\nb)\tAn existing entry shall be modified by supplying the existing S-NSSAI as key and the CandidateForReplacement data type instance with complete contents as value as an entry within the map.\nc)\tAn existing entry shall be deleted by supplying the existing S-NSSAI as key and \"NULL\" as value as an entry within the map.\nd)\tFor an unmodified entry, no entry needs to be provided within the map.\ne)\tThe complete list of candidate DNNs for which reporting is required shall be removed by providing the \"candidates\" attribute with \"NULL\" as value.\n-\tif the Policy Control Request Trigger \"SMF selection information change\" is removed, the candidate DNNs for which reporting was required shall be removed by providing the \"smfSelInfo\" attribute with \"NULL\" as value; and\n-\tif the \"NetSliceUsageCtrl\" feature is supported, the PCF may check whether any of the S-NSSAI(s) of the UE's Allowed NSSAI are on-demand S-NSSAI(s) and subject to network slice usage control. If it is the case, the PCF may provision/update/remove in the Npcf_SMPolicyControl_Update response the network slice usage control information (e.g., slice deregistration inactivity timer) within the \"sliceUsgCtrlInfoSets\" attribute of the PolicyUpdate data structure for one or more of these S-NSSAI(s).\nDuring the AMF relocation, if the new AMF received the resource URI of the individual AM Policy from the old AMF and selects the old PCF, and the feature \"FeatureRenegotiation\" is supported, the new AMF shall invoke the update of the AM policy association as described in clause 4.2.3.1 with the following differences:\n-\tThe new AMF shall include in the PolicyAssociationUpdateRequest data structure sent in the HTTP POST request:\na.\tthe \"FEAT_RENEG\" policy control request trigger within the \"triggers\" attribute;\nb.\tthe \"suppFeat\" attribute with the AMF supported features; and\nc.\tfor each supported feature, the required feature information elements as specified in clause 4.2.2.1, if applicable.\nNOTE 1:\tWhen the new AMF received from the old AMF the subscription to policy control request trigger(s) that depend on feature control, and a policy control request trigger is met, the required feature information included in the update request contains the report of the met policy control request trigger within the \"triggers\" attribute and the associated information in the corresponding attribute, when applicable.\n-\tUpon reception of the HTTP POST request, the PCF shall update the \"Individual AM Policy Association\" resource, determine the applicable policy and include in the PolicyUpdate data structure sent in the HTTP POST response:\nNOTE 2:\tThe determination of the applicable policy can consider the features supported by the new AMF.\na.\tthe \"suppFeat\" attribute with the negotiated features; and\nb.\tthe complete \"Individual AM Policy Association\" resource representation, as specified in clause clause 4.2.2.1.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.2.4\tNpcf_AMPolicyControl_UpdateNotify Service Operation",
                            "text_content": "The PCF may decide to update policies or to request the termination of the policy association and shall then use an Npcf_AMPolicyControl_UpdateNotify service operation.\nThe following procedures using the Npcf_AMPolicyControl_UpdateNotify service operation are supported:\n-\tpolicy update notification; and\n-\trequest for termination of the policy association.\nFigure 4.2.4.2-1 illustrates the policy update notification.\nFigure 4.2.4.2-1 illustrates a policy update notification process, showing the various stages of the update from the source to the destination. The figure depicts the initial policy update request sent by the source, which is then received by the policy server. The server processes the request and sends a confirmation back to the source. The policy update is then propagated to all relevant devices, ensuring that the updated policy is applied uniformly across the network. The figure highlights the importance of timely and accurate policy updates in maintaining the efficiency and security of a network.\nFigure 4.2.4.2-1: policy update notification\nThe PCF may decide to update policy control request trigger(s) and/or Access and Mobility policies related to an Individual AM Policy Association, e.g., in response to information provided to the PCF via external interfaces, (e.g., the Npcf_AMPolicyAuthorization service (see 3GPP TS 29.534 [26]), notifications provided by the Npcf_PolicyAuthorization service (see 3GPP TS 29.514 [25]), notifications received from UDR about new or updated AF requirements on Access and Mobility polices (see 3GPP TS 29.519 [17]), or in response to an internal trigger within the PCF, e.g., the activation of a pending policy counter provided via the Nchf_SpendingLimitControl Service (see 3GPP TS 29.594 [33]). The PCF shall send for this purpose an HTTP POST request with \"{notificationUri}/update\" as URI (where the Notification URI was previously supplied by the NF service consumer) and the PolicyUpdate data structure as request body encoded as described in clause 4.2.3.3.\nUpon the reception of the HTTP POST request, the NF service consumer shall enforce the received updated policy.\nIn case of a successful update notification:\n-\tif the feature \"ImmediateReport\" is supported and the PCF provisioned the policy control request triggers related to access type change, PRA change, Allowed NSSAI change, Partially Allowed NSSAI change, change of the S-NSSAI(s) rejected partially in the RA, change of the Rejected S-NSSAI(s) in the RA, Pending NSSAI change and/or location change, a \"200 OK\" response code and a response body with the corresponding available information in the \"AmRequestedValueRep\" data structure shall be returned in the response;\n-\totherwise, a \"204 No Content\" response code shall be returned in the response.\nIf errors occur when processing the HTTP POST request, the NF service consumer shall send an HTTP error response as specified in clause 5.7.\nIf the feature \"ES3XX\" is supported, and the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nIf the AMF as NF service consumer is not able to handle the notification but knows by implementation specific means that another AMF is able to handle the notification, it shall reply with an HTTP \"307 Temporary redirect\" response pointing to the URI of the new AMF. If the AMF is not able to handle the notification but another unknown AMF could possibly handle the notification, it shall reply with an HTTP \"404 Not found\" error response.\nIf the PCF receives a \"307 Temporary redirect\" response, the PCF shall resend the failed policy update notification request using the received URI in the Location header field as Notification URI. Subsequent policy update notifications, triggered after the failed one, shall be sent to the Notification URI provided by the NF service consumer during the corresponding policy association creation/update.\nIf the PCF becomes aware that a new AMF is requiring notifications (e.g. via the \"404 Not found\" response, via Namf_Communication service AMFStatusChange Notifications, see 3GPP TS 29.518 [14], or via link level failures), and the PCF knows alternate or backup IPv4, IPv6 Addess(es) or FQDN(s) where to send Notifications (e.g. via \"altNotifIpv4Addrs\", \"altNotifIpv6Addrs\" or \"altNotifFqdns\" attributes received when the policy association was created, via AMFStatusChange Notifications or via the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the service name and GUAMI obtained during the creation of the subscription) to  discover the other AMFs within the AMF set), the PCF shall exchange the authority part of the corresponding Notification URI with one of those addresses and shall use that URI in any subsequent communication.\nIf the PCF received a \"404 Not found\" response, the PCF should resend the failed policy update notification request to that URI.\nIf the feature \"DNNReplacementControl\" is supported and the AMF received the update of the SMF selection information within the \"smfSelInfo\" attribute in the request, the AMF shall apply the updated SMF selection information to the new PDU Sessions only, i.e. already established PDU Sessions are not affected.\nIf the feature \"AMInfluence\" is supported, the PCF determines that the access and mobility policies may be influenced by the traffic of a PDU session(s) based on an AF request, UDR notification or other internal policies, and local operator policies indicate the PCF for the UE shall subscribe with the PCF for the PDU session for established/terminated PDU session(s) event notifications, the PCF for the UE shall provision/update the AMF with the PCF for the UE information within the \"pcfUeInfo\" attribute and the complete list of S-NSSAI and DNN combinations within the \"matchPdus\" attribute. The AMF shall update the affected established PDU sesssions, forwarding the received PCF for the UE information for the PDU session(s) matching the new S-NSSAI and DNN combination(s), and removing the previously provided PCF for the UE information for the PDU session(s) matching the removed S-NSSAI and DNN combination(s) as defined in 3GPP TS 29.502 [31].\nWhen the feature \"AMInfluence\" is supported, and the SBA binding indication information for the PCF instance changes, the PCF may update the previously provided information in the AMF. The AMF shall apply the updated PCF callback information to the new PDU Sessions only, i.e., already established PDU sessions are not affected.\nNOTE 1:\tAlternatively, the PCF for the UE can subscribe with the BSF to notifications about the PCF binding information creation and/or termination for the affected PDU session(s) as described in 3GPP TS 29.521 [30].\nIf the PCF changed the Service Area Restrictions as part of the policy update, it shall send notifications to any NF Service Consumer(s) (e.g. AF) that have subscribed to the related event by using the Npcf_AMPolicyAuthorization service (see TS 29.534 [26]) and/or the Npcf_EventExposure service (see TS 29.523 [28]).\nIf the feature \"5GAccessStratumTime\" is supported and the PCF receives the access stratum time distribution parameters or removal of the access stratum time distribution parameters from the TSCTSF as defined in 3GPP TS 29.534 [26], the PCF may provision, update or remove the 5G access stratum time distribution parameters by provisioning the \"asTimeDisParam\" attribute as defined in clause 4.2.2.3.6. The AMF shall provision the 5G access stratum time distribution parameters to the NG-RAN when receiving it from the PCF.\nIf the feature \"RFSPValidityTime\" is supported and the PCF determines to modify the RFSP index value in use to indicate EPC/E-UTRAN access is prioritized over 5GS access, the PCF shall send to the AMF the RFSP Index value within the \"rfsp\" attribute and may provide, based on operator policies, the validity time for the indicated RFSP Index value within the \"rfspValTime\" attribute, as defined in clause 4.2.2.3.2.\nIf the feature \"NetTimeSyncStatus\" is supported and the PCF receives the clock quality detail level and optionally the clock quality acceptance criteria parameters from the TSCTSF as defined in 3GPP TS 29.534 [26], the PCF may update the clock quality detail level and if applicable the clock quality acceptance criteria parameters by provisioning the \"asTimeDisParam\" attribute as defined in clause 4.2.2.3.6. The AMF shall provision the clock quality detail level and the clock quality acceptance criteria parameters to the NG-RAN when receiving it from the PCF.\nIf the \"NetSliceUsageCtrl\" feature is supported, the PCF may check whether any of the S-NSSAI(s) of the UE's Allowed NSSAI are subject to network slice usage control. If it is the case, the PCF may provision/update/remove in the Npcf_AMPolicyControl_UpdateNotify request the network slice usage control information (e.g. slice deregistration inactivity timer) within the \"sliceUsgCtrlInfoSets\" attribute of the PolicyUpdate data structure for one or more of these S-NSSAI(s).\nNOTE 2:\tIn this release of the specification, network slice usage control information provisioning/update/removal by the PCF is not supported in roaming scenarios.\nIf the \"NetSliceRepl\" feature is supported, then:\n-\twhen the PCF detects that one or more S-NSSAI(s) of the UE's Allowed NSSAI and/or Partially Allowed NSSAI become(s) unavailable for a UE based on an OAM trigger, a received NWDAF notification or PCF internal triggers, the PCF may indicate this to the AMF by providing the \"snssaiReplInfos\" attribute containing these impacted S-NSSAI(s), and for each impacted S-NSSAI, the corresponding status information set to \"UNAVAILABLE\" and optionally an Alternative S-NSSAI; and\n-\twhen the PCF becomes aware that one or more S-NSSAI(s) of the UE's Allowed NSSAI and/or Partially Allowed NSSAI become(s) available again, the PCF may indicate this to the AMF also by providing the \"snssaiReplInfos\" attribute containing these impacted S-NSSAI(s), and for each impacted S-NSSAI, the corresponding status information set to \"AVAILABLE\".\nNOTE 3:\tThe PCF can provide within the \"snssaiReplInfos\" attribute both information about S-NSSAI(s) that are currently unavailable and information about S-NSSAI(s) that are available again.\nFigure 4.2.4.3-1 illustrates the request for a termination of the policy association.\nFigure 4.2.4.3-1 illustrates a request for a termination of the policy association, showing the process of deactivating a policy that was previously established. The figure depicts the interaction between the network elements, including the network element (NE) and the policy and charging element (PCE), as they communicate to cancel the policy. This termination request is crucial for managing network resources efficiently and ensuring accurate billing.\nFigure 4.2.4.3-1: request for a termination of the policy association\nThe PCF may request the termination of the policy association and shall then send an HTTP POST request with \"{notificationUri}/terminate\" as URI (where the Notification URI was previously supplied by the NF service consumer) and the TerminationNotification data structure as request body that shall include:\n-\tthe policy association ID encoded as \"polAssoId\" attribute; and\n-\tthe cause why the PCF requests the termination of the policy association encoded as \"cause\" attribute.\nUpon the reception of the HTTP POST request, the NF service consumer shall:\n-\teither send a HTTP \"204 No Content\" response for the successful processing of the HTTP POST request or an appropriate failure response; and\n-\tif errors occur when processing the HTTP POST request, send an HTTP error response as specified in clause 5.7; or\n-\tif the feature \"ES3XX\" is supported, and the NF service consumer determines the received HTTP POST request needs to be redirected, send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nAfter the successful processing of the HTTP POST request, the NF service consumer shall remove the context related to the policy association but still apply the provisioned AM policies to the UE and invoke the Npcf_AMPolicyControl_Delete Service Operation defined in clause 4.2.5 to terminate the policy association.\nIf the AMF as NF service consumer is not able to handle the notification but knows by implementation specific means that another AMF is able to handle the notification, it shall reply with an HTTP \"307 Temporary redirect\" response pointing to the URI of the new AMF. If the AMF is not able to handle the notification but another unknown AMF could possibly handle the notification, it shall reply with an HTTP \"404 Not found\" error response.\nIf the PCF receives a \"307 Temporary redirect\" response, the PCF shall resend the failed request for termination of the policy association using the received URI in the Location header field as Notification URI.\nIf the PCF becomes aware that a new AMF is requiring notifications (e.g. via the \"404 Not found\" response, via Namf_Communication service AMFStatusChange Notifications, see 3GPP TS TS 29.518 [14], or via link level failures), and the PCF knows alternate or backup IPv4, IPv6 Address(es) or FQDN(s) where to send Notifications (e.g. via \"altNotifIpv4Addrs\", \"altNotifIpv6Addrs\" or \"altNotifFqdns\" attributes received when the policy association was created, via AMFStatusChange Notifications or via the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the service name and GUAMI obtained during the creation of the subscription) to  discover the other AMFs within the AMF set), the PCF shall exchange the authority part of the corresponding Notification URI with one of those addresses and shall resend the failed request for termination of the policy association to that URI.\nIf the PCF received a \"404 Not found\" response, the PCF should resend the failed request for termination of the policy association to that URI.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.2.5\tNpcf_AMPolicyControl_Delete Service Operation",
                            "text_content": "Figure 4.2.5-1 illustrates the deletion of a policy association.\nFigure 4.2.5-1 illustrates the process of deleting a policy association in a network. The figure depicts a network topology with various nodes, including a central controller, access points, and a client device. The policy association is represented by a line connecting the client device to the central controller, indicating the rules and permissions governing the device's network access. The deletion process involves a series of steps, such as notifying the central controller, removing the association, and updating the access points. The figure emphasizes the importance of network management and the need for a clear and efficient process for policy association management.\nFigure 4.2.5-1: Deletion of a policy association\nThe AMF as NF service consumer requests that the policy association is deleted when the corresponding UE context is terminated, e.g. during UE de-registration from the network, or when the UE moves from 5GS to EPS and the UE is not connected to the 5GC over a non-3GPP access.\nDuring the AMF relocation, the old AMF shall invoke this procedure when:\n-\tthe resource URI of the \"Individual AM Policy Association\" resource is not transferred to the new AMF; or\n-\tthe new AMF informs the old AMF that the \"Individual AM Policy Association\" resource is not being reused (i.e. the old PCF is not being reused).\nTo request that the policy association is deleted, the NF service consumer (e.g. AMF) shall send an HTTP DELETE request with \"{apiRoot}/npcf-am-policy-control/v1/policies/{polAssoId}\" as Resource URI.\nUpon the reception of the HTTP DELETE request, the PCF shall:\n-\tdelete the policy association;\n-\tsend either an HTTP \"204 No Content\" response indicating the success of the deletion or an appropriate failure response; and\n-\tif errors occur when processing the HTTP DELETE request, send an HTTP error response as specified in clause 5.7; or\n-\tif the feature \"ES3XX\" is supported, and the PCF determines the received HTTP DELETE request needs to be redirected, send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "5\tNpcf_AMPolicyControl API",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The Access and Mobility Policy Control Service shall use the Npcf_AMPolicyControl API.\nThe API URI of the Npcf_AMPolicyControl API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the PCF shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [6], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [6].\n-\tThe <apiName> shall be \"npcf-am-policy-control\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 5.3.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tUsage of HTTP",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tGeneral",
                            "text_content": "HTTP/2, IETF RFC 9113 [8], shall be used as specified in clause 5 of 3GPP TS 29.500 [5].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [5].\nThe OpenAPI [10] specification of HTTP messages and content bodies for the Npcf_AMPolicyControl is contained in Annex A.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.2\tHTTP standard headers",
                            "text_content": "See clause 5.2.2 of 3GPP TS 29.500 [5] for the usage of HTTP standard headers.\nJSON, IETF RFC 8259 [9], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [5] The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [21].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.3\tHTTP custom headers",
                            "text_content": "The Npcf_AMPolicyControl API shall support HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [5] and may support HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [5].\nIn this Release of the specification, no specific custom headers are defined for the Npcf_AMPolicyControl API.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.3\tResources",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 5.3.1-1 depicts the resource URIs structure for the Npcf_AMPolicyControl API.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tResource Structure",
                            "text_content": "Figure 5.3.1-1 illustrates the resource URI structure of the Npcf_AMPolicyControl API, which is a crucial component in network policy control functions. The figure shows the hierarchical organization of the API, with various resources such as policies, rules, and actions, each represented by unique identifiers. The top-level resource is \"/npcf/v1/policy-controls,\" which contains sub-resources like \"/policy-controls,\" \"/rules,\" and \"/actions.\" This structured representation allows for efficient management and manipulation of network policies, ensuring secure and controlled communication flows.\nFigure 5.3.1-1: Resource URI structure of the Npcf_AMPolicyControl API\nTable 5.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 5.3.1-1: Resources and methods overview\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.1-1: Resources and methods overview",
                                    "table number": 2,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.3.2\tResource: AM Policy Associations",
                            "text_content": "This resource represents a collection of Individual AM policy Associations.\nResource URI: {apiRoot}/npcf-am-policy-control/v1/policies\nThis resource shall support the resource URI variables defined in table 5.3.2.2-1.\nTable 5.3.2.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 5.3.2.3.1-1.\nTable 5.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 5.3.2.3.1-2 and the response data structures and response codes specified in table 5.3.2.3.1-3.\nTable 5.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 5.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 5.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.2.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.3.3\tResource: Individual AM Policy Association",
                            "text_content": "This document resource represents an individual AM policy association.\nResource URI: {apiRoot}/npcf-am-policy-control/v1/policies/{polAssoId}\nThis resource shall support the resource URI variables defined in table 5.3.2.2-1.\nTable 5.3.2.2-1: Resource URI variables for this resource\n\nThis method shall support the URI query parameters specified in table 5.3.2.3.1-1.\nTable 5.3.3.3.1-1: URI query parameters supported by the GET method on this resource\n\nThis method shall support the request data structures specified in table 5.3.2.3.1-2 and the response data structures and response codes specified in table 5.3.2.3.1-3.\nTable 5.3.3.3.1-2: Data structures supported by the GET Request Body on this resource\n\nTable 5.3.3.3.1-3: Data structures supported by the GET Response Body on this resource\n\nTable 5.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 5.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\n\nThis method shall support the URI query parameters specified in table 5.3.3.3.2-1.\nTable 5.3.3.3.2-1: URI query parameters supported by the DELETE method on this resource\n\nThis method shall support the request data structures specified in table 5.3.3.3.2-2 and the response data structures and response codes specified in table 5.3.3.3.2-3.\nTable 5.3.3.3.2-2: Data structures supported by the DELETE Request Body on this resource\n\nTable 5.3.3.3.2-3: Data structures supported by the DELETE Response Body on this resource\n\nTable 5.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 5.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\n\nTable 5.3.3.4.1-1: Custom operations\n\nThe update custom operation allows an NF service consumer to report the occurrence of one or more policy control request trigger(s) and to obtain related updated policies.\nThis operation shall support the request data structures specified in table 5.3.3.4.2.2-1 and the response data structure and response codes specified in table 5.3.3.4.2.2-2.\nTable 5.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 5.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 5.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 5.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-1: URI query parameters supported by the GET method on this resource",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-2: Data structures supported by the GET Request Body on this resource",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-3: Data structures supported by the GET Response Body on this resource",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-1: URI query parameters supported by the DELETE method on this resource",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-2: Data structures supported by the DELETE Request Body on this resource",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-3: Data structures supported by the DELETE Response Body on this resource",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.3.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.1-1: Custom operations",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.4\tCustom Operations without associated resources",
                    "description": "",
                    "summary": "",
                    "text_content": "None.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.5\tNotifications",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.5.1\tGeneral",
                            "text_content": "Table 5.5.1-1: Notifications overview\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.5.1-1: Notifications overview",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.5.2\tPolicy Update Notification",
                            "text_content": "This notification is used by the PCF to provide updates of access and mobility policies to the NF service consumer.\nThis operation shall support the request data structures specified in table 5.5.2.2-1 and the response data structure and response codes specified in table 5.5.2.2-2.\nTable 5.5.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 5.5.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 5.5.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 5.5.2.2-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.5.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.5.3\tRequest for termination of the policy association",
                            "text_content": "This notification is used by the PCF to request the termination of a policy association.\nThis operation shall support the request data structures specified in table 5.5.3.2-1 and the response data structure and response codes specified in table 5.5.3.2-2.\nTable 5.5.3.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 5.5.3.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 5.5.3.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 5.5.3.2-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.5.3.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.3.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 30,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.3.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 31,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.3.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 32,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.6\tData Model",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.6.1\tGeneral",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 5.6.1-1 specifies the data types defined for the Npcf_AMPolicyControl service based interface protocol.\nTable 5.6.1-1: Npcf_AMPolicyControl specific Data Types\n\nTable 5.6.1-2 specifies data types re-used by the Npcf_AMPolicyControl service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Npcf_AMPolicyControl service based interface.\nTable 5.6.1-2: Npcf_AMPolicyControl re-used Data Types\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.6.1-1: Npcf_AMPolicyControl specific Data Types",
                                    "table number": 33,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.1-2: Npcf_AMPolicyControl re-used Data Types",
                                    "table number": 34,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.6.2\tStructured data types",
                            "text_content": "This clause defines the structures to be used in resource representations.\nTable 5.6.2.2-1: Definition of type PolicyAssociation\n\nTable 5.6.2.3-1: Definition of type PolicyAssociationRequest\n\nTable 5.6.2.4-1: Definition of type PolicyAssociationUpdateRequest\n\nTable 5.6.2.5-1: Definition of type PolicyUpdate\n\nTable 5.6.2.6-1: Definition of type TerminationNotification\n\nTable 5.6.2.7-1: Definition of type SmfSelectionData\n\nTable 5.6.2.8-1: Definition of type CandidateForReplacement\n\nTable 5.6.2.9-1: Definition of type AmRequestedValueRep\n\nTable 5.6.2.10-1: Definition of type AsTimeDistributionParam\n\nTable 5.6.2.11-1: Definition of type UeSliceMbr\n\nTable 5.6.2.12-1: Definition of type SliceUsgCtrlInfo\n\nTable 5.6.2.13-1: Definition of type SnssaiPartRejected\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.6.2.2-1: Definition of type PolicyAssociation",
                                    "table number": 35,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.3-1: Definition of type PolicyAssociationRequest",
                                    "table number": 36,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.4-1: Definition of type PolicyAssociationUpdateRequest",
                                    "table number": 37,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.5-1: Definition of type PolicyUpdate",
                                    "table number": 38,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.6-1: Definition of type TerminationNotification",
                                    "table number": 39,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.7-1: Definition of type SmfSelectionData",
                                    "table number": 40,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.8-1: Definition of type CandidateForReplacement",
                                    "table number": 41,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.9-1: Definition of type AmRequestedValueRep",
                                    "table number": 42,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.10-1: Definition of type AsTimeDistributionParam",
                                    "table number": 43,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.11-1: Definition of type UeSliceMbr",
                                    "table number": 44,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.12-1: Definition of type SliceUsgCtrlInfo",
                                    "table number": 45,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.2.13-1: Definition of type SnssaiPartRejected",
                                    "table number": 46,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.6.3\tSimple data types and enumerations",
                            "text_content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous sclauses.\nThe simple data types defined in table 5.6.3.2-1 shall be supported.\nTable 5.6.3.2-1: Simple data types\n\nThe enumeration RequestTrigger represents the possible Policy Control Request Triggers. It shall comply with the provisions defined in table 5.6.3.3-1.\nTable 5.6.3.3-1: Enumeration RequestTrigger\n\nThe enumeration PolicyAssociationReleaseCause represents the cause why the PCF requests the termination of the policy association. It shall comply with the provisions defined in table 5.6.3.4-1.\nTable 5.6.3.4-1: Enumeration PolicyAssociationReleaseCause\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.6.3.2-1: Simple data types",
                                    "table number": 47,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.3-1: Enumeration RequestTrigger",
                                    "table number": 48,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.3.4-1: Enumeration PolicyAssociationReleaseCause",
                                    "table number": 49,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.7\tError handling",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.7.1\tGeneral",
                            "text_content": "For the Npcf_AMPolicyControl API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [6]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [5] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [5].\nIn addition, the requirements in the following clauses are applicable for the Npcf_AMPolicyControl API.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.7.2\tProtocol Errors",
                            "text_content": "No specific protocol errors for the Npcf_AMPolicyControl API service are specified.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.7.3\tApplication Errors",
                            "text_content": "The application errors defined for the Npcf_AMPolicyControl service are listed in Table 5.7.3-1 and Table 5.7.3-2.\nTable 5.7.3-1: Application errors\n\nTable 5.7.3-2: Application errors when NF service consumer acts as a server to receive a notification\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.7.3-1: Application errors",
                                    "table number": 50,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.7.3-2: Application errors when NF service consumer acts as a server to receive a notification",
                                    "table number": 51,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                },
                {
                    "title": "5.8\tFeature negotiation",
                    "description": "",
                    "summary": "",
                    "text_content": "The optional features in table 5.8-1 are defined for the Npcf_AMPolicyControl API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [5].\nTable 5.8-1: Supported Features\n\n",
                    "tables": [
                        {
                            "description": "Table 5.8-1: Supported Features",
                            "table number": 52,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.9\tSecurity",
                    "description": "",
                    "summary": "",
                    "text_content": "As indicated in 3GPP TS 33.501 [19] and 3GPP TS 29.500 [5], the access to the Npcf_AMPolicyControl API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [20]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [13]) plays the role of the authorization server.\nIf OAuth2 is used, an NF service sonsumer, prior to consuming services offered by the Npcf_AMPolicyControl API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [13], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF service consumer used for discovering the Npcf_AMPolicyControl service.\nThe Npcf_AMPolicyControl API defines a single scope \"npcf-am-policy-control\" for the entire service, and it does not define any additional scopes at resource or operation level.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "The present Annex contains an OpenAPI [10] specification of HTTP messages and content bodies used by the Npcf_AMPolicyControl API.\nThis Annex shall take precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API.\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification file contained in this 3GPP Technical Specification are available on a Git-based repository that uses the GitLab software version control system (see clause 5B of the 3GPP TR 21.900 [22] and clause 5.3.1 of the 3GPP TS 29.501 [6] for further information).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tNpcf_AMPolicyControl API",
            "description": "openapi: 3.0.0\n\ninfo:\nversion: 1.3.0-alpha.4\ntitle: Npcf_AMPolicyControl\ndescription: |\nAccess and Mobility Policy Control Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: 3GPP TS 29.507 V18.3.0; 5G System; Access and Mobility Policy Control Service.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.507/'\n\nservers:\n- url: '{apiRoot}/npcf-am-policy-control/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- npcf-am-policy-control\n\npaths:\n/policies:\npost:\noperationId: CreateIndividualAMPolicyAssociation\nsummary: Create individual AM policy association.\ntags:\n- AM Policy Associations (Collection)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociationRequest'\nresponses:\n'201':\ndescription: Created\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociation'\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure\n{apiRoot}/npcf-am-policy-control/v1/policies/{polAssoId}\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\npolicyUpdateNotification:\n'{$request.body#/notificationUri}/update':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyUpdate'\nresponses:\n'200':\ndescription: >\nOK. The current applicable values corresponding to the policy control request\ntrigger is reported\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AmRequestedValueRep'\n'204':\ndescription: No Content, Notification was successful.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\npolicyAssocitionTerminationRequestNotification:\n'{$request.body#/notificationUri}/terminate':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TerminationNotification'\nresponses:\n'204':\ndescription: No Content, Notification was successful.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/policies/{polAssoId}:\nget:\noperationId: ReadIndividualAMPolicyAssociation\nsummary: Read individual AM policy association.\ntags:\n- Individual AM Policy Association (Document)\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Resource representation is returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociation'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualAMPolicyAssociation\nsummary: Delete individual AM policy association.\ntags:\n- Individual AM Policy Association (Document)\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/policies/{polAssoId}/update:\npost:\noperationId: ReportObservedEventTriggersForIndividualAMPolicyAssociation\nsummary: >\nReport observed event triggers and obtain updated policies for an individual AM\npolicy association.\ntags:\n- Individual AM Policy Association (Document)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociationUpdateRequest'\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Updated policies are returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyUpdate'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnpcf-am-policy-control: Access to the Npcf_AMPolicyControl API\nschemas:\nPolicyAssociation:\ndescription: Represents an individual AM Policy Association resource.\ntype: object\nproperties:\nrequest:\n$ref: '#/components/schemas/PolicyAssociationRequest'\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\ndescription: Request Triggers that the PCF subscribes.\nservAreaRes:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ServiceAreaRestriction'\nwlServAreaRes:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/WirelineServiceAreaRestriction'\nrfsp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RfspIndex'\nrfspValTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\ntargetRfsp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RfspIndex'\nsmfSelInfo:\n$ref: '#/components/schemas/SmfSelectionData'\nueAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nueSliceMbrs:\ntype: array\nitems:\n$ref: '#/components/schemas/UeSliceMbr'\nminItems: 1\ndescription: >\nOne or more UE-Slice-MBR(s) for S-NSSAI(s) of serving PLMN as part of the\nAMF Access and Mobility Policy as determined by the PCF.\npras:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\nminProperties: 1\ndescription: >\nContains the presence reporting area(s) for which reporting was requested.\nThe praId attribute within the PresenceInfo data type is the key of the map.\npcfUeInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nmatchPdus:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo'\nnullable: true\nasTimeDisParam:\n$ref: '#/components/schemas/AsTimeDistributionParam'\nsliceUsgCtrlInfoSets:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/SliceUsgCtrlInfo'\nminProperties: 1\ndescription: >\nRepresents the network slice usage control information.\nThe key of the map is the on-demand S-NSSAI (within the \"snssai\" attribute of the\ncorresponding map value) to which the network slice usage control information is\nrelated.\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- suppFeat\n\nPolicyAssociationRequest:\ndescription: >\nInformation which the NF service consumer provides when requesting the creation of a policy\nassociation. The serviveName property corresponds to the serviceName in the main body\nof the specification.\ntype: object\nproperties:\nnotificationUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltNotifIpv4Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nminItems: 1\ndescription: Alternate or backup IPv4 Address(es) where to send Notifications.\naltNotifIpv6Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nminItems: 1\ndescription: Alternate or backup IPv6 Address(es) where to send Notifications.\naltNotifFqdns:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nminItems: 1\ndescription: Alternate or backup FQDN(s) where to send Notifications.\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\naccessType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\naccessTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nminItems: 1\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\ntimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\nservingPlmn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nratTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nminItems: 1\ngroupIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nminItems: 1\nservAreaRes:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ServiceAreaRestriction'\nwlServAreaRes:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/WirelineServiceAreaRestriction'\nrfsp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RfspIndex'\nueAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nueSliceMbrs:\ntype: array\nitems:\n$ref: '#/components/schemas/UeSliceMbr'\nminItems: 1\ndescription: >\nThe subscribed UE Slice-MBR for each subscribed S-NSSAI of the home PLMN mapping  to\na S-NSSAI of the serving PLMN Shall be provided when available.\nallowedSnssais:\ndescription: array of allowed S-NSSAIs for the 3GPP access.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\npartAllowedNssai:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PartiallyAllowedSnssai'\nminProperties: 1\ndescription: >\nRepresents the Partially Allowed NSSAI. The \"snssai\" attribute within the\nPartiallyAllowedSnssai data type shall be the key of the map.\nsnssaisPartRejected:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/SnssaiPartRejected'\nminProperties: 1\ndescription: >\nRepresents the set of S-NSSAI(s) partially rejected in the RA.\nThe \"snssai\" attribute within the SnssaiPartRejected data type shall be the key of the\nmap.\nrejectedSnssais:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\npendingNssai:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\ntargetSnssais:\ndescription: array of target S-NSSAIs.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\nmappingSnssais:\ndescription: >\nmapping of each S-NSSAI of the Allowed NSSAI to the corresponding S-NSSAI of the HPLMN.\ntype: array\nitems:\n$ref: 'TS29531_Nnssf_NSSelection.yaml#/components/schemas/MappingOfSnssai'\nminItems: 1\nn3gAllowedSnssais:\ndescription: array of allowed S-NSSAIs for the Non-3GPP access.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nserviveName:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName'\ntraceReq:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TraceData'\nnwdafDatas:\ntype: array\nitems:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/NwdafData'\nminItems: 1\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- notificationUri\n- suppFeat\n- supi\n\nPolicyAssociationUpdateRequest:\ndescription: >\nRepresents information that the NF service consumer provides when requesting the update of\na policy association.\ntype: object\nproperties:\nnotificationUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltNotifIpv4Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nminItems: 1\ndescription: Alternate or backup IPv4 Address(es) where to send Notifications.\naltNotifIpv6Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nminItems: 1\ndescription: Alternate or backup IPv6 Address(es) where to send Notifications.\naltNotifFqdns:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nminItems: 1\ndescription: Alternate or backup FQDN(s) where to send Notifications.\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\ndescription: Request Triggers that the NF service consumer observes.\nservAreaRes:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ServiceAreaRestriction'\nwlServAreaRes:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/WirelineServiceAreaRestriction'\nrfsp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RfspIndex'\nsmfSelInfo:\n$ref: '#/components/schemas/SmfSelectionData'\nueAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nueSliceMbrs:\ntype: array\nitems:\n$ref: '#/components/schemas/UeSliceMbr'\nminItems: 1\ndescription: >\nThe subscribed UE-Slice-MBR for each subscribed S-NSSAI of the home PLMN mapping\nto a S-NSSAI of the serving PLMN Shall be provided for the \"UE_SLICE_MBR_CH\"\npolicy control request trigger.\npraStatuses:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\nminProperties: 1\ndescription: >\nContains the UE presence status for tracking area for which changes of the UE presence\noccurred. The praId attribute within the PresenceInfo data type is the key of the map.\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nallowedSnssais:\ndescription: array of allowed S-NSSAIs for the 3GPP access.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\npartAllowedNssai:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PartiallyAllowedSnssai'\nminProperties: 1\ndescription: >\nRepresents the Partially Allowed NSSAI. The \"snssai\" attribute within the\nPartiallyAllowedSnssai data type shall be the key of the map.\nsnssaisPartRejected:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/SnssaiPartRejected'\nminProperties: 1\ndescription: >\nRepresents the set of S-NSSAI(s) partially rejected in the RA.\nThe \"snssai\" attribute within the SnssaiPartRejected data type shall be the key of the\nmap.\nrejectedSnssais:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\npendingNssai:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\ntargetSnssais:\ndescription: array of target S-NSSAIs.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\nmappingSnssais:\ndescription: >\nmapping of each S-NSSAI of the Allowed NSSAI to the corresponding S-NSSAI of the HPLMN.\ntype: array\nitems:\n$ref: 'TS29531_Nnssf_NSSelection.yaml#/components/schemas/MappingOfSnssai'\nminItems: 1\naccessTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nminItems: 1\nratTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nminItems: 1\nn3gAllowedSnssais:\ndescription: array of allowed S-NSSAIs for the Non-3GPP access.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\nunavailSnssais:\ndescription: >\nRepresents the unavailable S-NSSAI(s) from the UE's Allowed NSSAI and/or\nPartially Allowed NSSAI that require network slice replacement.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\ntraceReq:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TraceData'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nnwdafDatas:\ntype: array\nitems:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/NwdafData'\nminItems: 1\nnullable: true\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n\nPolicyUpdate:\ndescription: >\nRepresents updated policies that the PCF provides in a notification or in a reply to an\nUpdate Request.\ntype: object\nproperties:\nresourceUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\nnullable: true\ndescription: Request Triggers that the PCF subscribes.\nservAreaRes:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ServiceAreaRestriction'\nwlServAreaRes:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/WirelineServiceAreaRestriction'\nrfsp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RfspIndex'\nrfspValTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\ntargetRfsp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RfspIndex'\nsmfSelInfo:\n$ref: '#/components/schemas/SmfSelectionData'\nueAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nueSliceMbrs:\ntype: array\nitems:\n$ref: '#/components/schemas/UeSliceMbr'\nminItems: 1\ndescription: >\nOne or more UE-Slice-MBR(s) for S-NSSAI(s) of serving PLMN the allowed NSSAI as\npart of the AMF Access and Mobility Policy as determined by the PCF.\npras:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfoRm'\ndescription: >\nContains the presence reporting area(s) for which reporting was requested. The praId\nattribute within the PresenceInfo data type is the key of the map.\nminProperties: 1\nnullable: true\npcfUeInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nmatchPdus:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo'\nnullable: true\nasTimeDisParam:\n$ref: '#/components/schemas/AsTimeDistributionParam'\nsnssaiReplInfos:\nnullable: true\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SnssaiReplaceInfo'\nminProperties: 1\ndescription: >\nContains the network slice replacement information.\nThe key of the map is the concerned unavailable S-NSSAI (within the \"snssai\" attribute\nof the corresponding map value) to which the network slice replacement information is\nrelated.\nsliceUsgCtrlInfoSets:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/SliceUsgCtrlInfo'\nminProperties: 1\ndescription: >\nRepresents the updated network slice usage control information.\nThe key of the map is the on-demand S-NSSAI (within the \"snssai\" attribute of the\ncorresponding map value) to which the network slice usage control information is\nrelated.\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- resourceUri\n\nTerminationNotification:\ndescription: >\nRepresents a request to terminate a policy Association that the PCF provides in a\nnotification.\ntype: object\nproperties:\nresourceUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ncause:\n$ref: '#/components/schemas/PolicyAssociationReleaseCause'\nrequired:\n- resourceUri\n- cause\n\nSmfSelectionData:\ndescription: Represents the SMF Selection information that may be replaced by the PCF.\ntype: object\nproperties:\nunsuppDnn:\ntype: boolean\ncandidates:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/CandidateForReplacement'\nminProperties: 1\ndescription: >\nContains the list of DNNs per S-NSSAI that are candidates for replacement. The snssai\nattribute within the CandidateForReplacement data type is the key of the map.\nnullable: true\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nmappingSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nnullable: true\nCandidateForReplacement:\ndescription: Represents a list of candidate DNNs for replacement for an S-NSSAI.\ntype: object\nproperties:\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\ndnns:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nminItems: 1\nnullable: true\nrequired:\n- snssai\nnullable: true\n\nAmRequestedValueRep:\ndescription: >\nRepresents the current applicable values corresponding to the policy control request\ntriggers.\ntype: object\nproperties:\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\npraStatuses:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\nminProperties: 1\ndescription: >\nContains the UE presence statuses for tracking areas. The praId attribute within the\nPresenceInfo data type is the key of the map.\naccessTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nminItems: 1\nratTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nallowedSnssais:\ndescription: array of allowed S-NSSAIs for the 3GPP access.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nn3gAllowedSnssais:\ndescription: array of allowed S-NSSAIs for the Non-3GPP access.\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\npartAllowedNssai:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PartiallyAllowedSnssai'\nminProperties: 1\ndescription: >\nRepresents the Partially Allowed NSSAI. The \"snssai\" attribute within the\nPartiallyAllowedSnssai data type shall be the key of the map.\nsnssaisPartRejected:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/SnssaiPartRejected'\nminProperties: 1\ndescription: >\nRepresents the set of S-NSSAI(s) partially rejected in the RA.\nThe \"snssai\" attribute within the SnssaiPartRejected data type shall be the key of the\nmap.\nrejectedSnssais:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\npendingNssai:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nminItems: 1\n\nAsTimeDistributionParam:\ndescription: Contains the 5G acess stratum time distribution parameters.\ntype: object\nproperties:\nasTimeDistInd:\ntype: boolean\nuuErrorBudget:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UintegerRm'\nclkQltDetLvl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityDetailLevel'\nclkQltAcptCri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityAcceptanceCriterion'\nnullable: true\n\nUeSliceMbr:\ndescription: Contains a UE-Slice-MBR and the related information.\ntype: object\nproperties:\nsliceMbr:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SliceMbr'\nminProperties: 1\ndescription: Contains the MBR for uplink and the MBR for downlink.\nservingSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nmappedHomeSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nrequired:\n- sliceMbr\n- servingSnssai\nnullable: true\n\nSliceUsgCtrlInfo:\ndescription: Represents network slice usage control information.\ntype: object\nproperties:\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nderegInactivTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSecRm'\nrequired:\n- snssai\n\nSnssaiPartRejected:\ndescription: Represents the list of the S-NSSAI(s) partially rejected in the RA.\ntype: object\nproperties:\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nallowedTaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Tai'\nminItems: 1\nrejectedTaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Tai'\nminItems: 1\nrequired:\n- snssai\noneOf:\n- required: [ allowedTaiList ]\n- required: [ rejectedTaiList ]\n\nRequestTrigger:\nanyOf:\n- type: string\nenum:\n- LOC_CH\n- PRA_CH\n- SERV_AREA_CH\n- RFSP_CH\n- ALLOWED_NSSAI_CH\n- UE_AMBR_CH\n- UE_SLICE_MBR_CH\n- SMF_SELECT_CH\n- ACCESS_TYPE_CH\n- NWDAF_DATA_CH\n- TARGET_NSSAI\n- SLICE_REPLACE_MGMT\n- FEAT_RENEG\n- PARTIALLY_ALLOWED_NSSAI_CH\n- SNSSAIS_PARTIALLY_REJECTED_CH\n- REJECTED_SNSSAIS_CH\n- PENDING_NSSAI_CH\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the possible request triggers.\nPossible values are:\n- LOC_CH: Location change (tracking area). The tracking area of the UE has changed.\n- PRA_CH: Change of UE presence in PRA. The AMF reports the current presence status\nof the UE in a Presence Reporting Area, and notifies that the UE enters/leaves the\nPresence Reporting Area.\n- SERV_AREA_CH: Service Area Restriction change. The UDM notifies the AMF that the\nsubscribed service area restriction information has changed.\n- RFSP_CH: RFSP index change. The UDM notifies the AMF that the subscribed RFSP index has\nchanged.\n- ALLOWED_NSSAI_CH: Allowed NSSAI change. The AMF notifies that the set of UE allowed\nS-NSSAIs has changed.\n- UE_AMBR_CH: UE-AMBR change. The UDM notifies the AMF that the subscribed UE-AMBR has\nchanged.\n- SMF_SELECT_CH: SMF selection information change. The UE requested for an unsupported\nDNN or UE requested for a DNN within the list of DNN candidates for replacement per\nS-NSSAI.\n- ACCESS_TYPE_CH: Access Type change. The AMF notifies that the access type and the RAT\ntype combinations available in the AMF for a UE with simultaneous 3GPP and non-3GPP\nconnectivity has changed.\n- UE_SLICE_MBR_CH: UE-Slice-MBR change. The NF service consumer notifies any changes\nin the subscribed UE-Slice-MBR for each subscribed S-NSSAI of the home PLMN mapping\nto a S-NSSAI of the serving PLMN.\n- NWDAF_DATA_CH: NDWAF DATA CHANGE. The AMF notifies that the NWDAF instance IDs used\nfor the UE and/or associated Analytics IDs used for the UE and available in the AMF\nhave changed.\n- TARGET_NSSAI: Generation of Target NSSAI. The NF service consumer notifies that the\nTarget NSSAI was generated.\n- SLICE_REPLACE_MGMT: Indicates that slice replacement is needed for one or more S-NSSAI(s)\nof the UE's Allowed NSSAI and/or Partially Allowed NSSAI and the AMF cannot determine the\nAlternative S-NSSAI(s) for these S-NSSAI(s).\n- FEAT_RENEG: The NF service consumer notifies that the target AMF is requesting feature\nre-negotiation.\n- PARTIALLY_ALLOWED_NSSAI_CH: Partially Allowed NSSAI change. The NF service consumer\nnotifies that the set of Partially Allowed S-NSSAI(s) of the UE has changed.\n- SNSSAIS_PARTIALLY_REJECTED_CH: Change of the S-NSSAI(s) partially rejected in the RA. The\nNF service consumer notifies that the set of S-NSSAI(s) partially rejected in the RA for\nthe UE has changed.\n- REJECTED_SNSSAIS_CH: Change of the Rejected S-NSSAI(s) in the RA. The NF service consumer\nnotifies that the set of the Rejected S-NSSAI(s) in the RA for the UE has changed.\n- PENDING_NSSAI_CH: Pending NSSAI change. The NF service consumer notifies that the set of\nPending S-NSSAI(s) of the UE has changed.\n\nPolicyAssociationReleaseCause:\nanyOf:\n- type: string\nenum:\n- UNSPECIFIED\n- UE_SUBSCRIPTION\n- INSUFFICIENT_RES\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the cause why the PCF requests the termination of the policy association.\nPossible values are:\n- UNSPECIFIED: This value is used for unspecified reasons.\n- UE_SUBSCRIPTION: This value is used to indicate that the session needs to be\nterminated because the subscription of UE has changed (e.g. was removed).\n- INSUFFICIENT_RES: This value is used to indicate that the server is overloaded and\nneeds to abort the session.\n\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.1\tScope",
            "description": "This annex defines procedures for wireless and wireline convergence access support for 5GS. The stage 2 definition and procedures are contained in 3GPP TS 23.316 [23]. The System Architecture for wireless and wireline convergence access is defined in 3GPP TS 23.501 [2].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.2\tNpcf_AMPolicyControl Service",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.2.1\tService Description",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.2.1.1\tOverview",
                            "text_content": "Clause 4.1.1 applies with the modification that the UE is replaced by the 5G-RG and the W-AGF, which is acting as a UE towards the 5GC on behalf of the FN-RG.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.1.2\tService Architecture",
                            "text_content": "Clause 4.1.2 applies with the exception that roaming functionality shall not apply in this Release of the specification for access and mobility policy control for 5G-RG connecting via W-5GAN and FN-RG. Roaming architecture is only applicable to a 5G-RG connecting to the 5GC via NG RAN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.2.1.3\tNetwork Functions",
                            "text_content": "The PCF functionality defined in clause 4.1.3.1 shall apply with the following modifications for wireline access:\n-\tThe UE-AMBR control by the serving network does not apply.\n-\tThe Service Area Restrictions for a FN-BRG do not apply.\n-\tThe PCF provides access and mobility related policy control as described in this Annex.\nThe NF service consumer functionality defined in clause 4.1.3.2 shall apply with the following exceptions:\n-\tThe UE-AMBR control by the visited network is only applicable for a 5G-RG registered over 3GPP access.\n-\tThe NF service consumer enforces access and mobility related policy control as described in this Annex.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "B.3\tService Operation",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.3.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The descriptions in clause 4.2.1 are applied with the following differences:\n-\tUE is replaced by the 5G-RG.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "B.3.2\tNpcf_AMPolicyControl_Create Service Operation",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.2.1\tGeneral",
                            "text_content": "The procedure defined in clause 4.2.2.1 is applied with following differences:\n-\tUE is replaced by the 5G-RG or FN-RG if applicable.\n-\tHandling of RFSP information is not applicable if the 5G-RG or FN-RG connects the 5GC via wireline access.\n-\tWhen the 5G-BRG or FN-BRG connects the 5GC via W-5BBAN, the \"n3gaLocation\" attribute shall be included in the \"ueLoc\" attribute and:\n-\tGlobal Line ID including the line Id and either PLMN Id or operator Id shall be encoded within the \"gli\" attribute; and\n-\t\tthe \"w5gbanLineType\" attribute to indicate whether the W-5GBAN access is DSL or PON may be included.\n-\tThe HFC Node Identifier in the \"hfcNodeId\" attribute of the \"n3gaLocation\" attribute included in the \"userLoc\" attribute within the PolicyAssociationRequest data structure when the 5G-CRG or FN-CRG connects to the 5GC via W-5GCAN.\n-\tOnly the policy control request triggers defined in clause B.3.4.2 are provided by the PCF when the 5G-RG or FN-RG connects the 5GC via wireline access.\n-\tThe PolicyAssociationRequest data structure shall include, if available, and if the feature \"WirelineWirelessConvergence\" is supported, wireline access Service Area Restrictions (see clause B.3.2.2.2) derived from the wireline access Service Area Restrictions obtained from the UDM by mapping any service areas denoted by geographical information into Line IDs (for a 5G-BRG) or HFC Node IDs (for a 5G-CRG and FN-CRG) encoded as \"wlServAreaRes\" attribute.\n-\tThe PolicyAssociation data type returned as body of the HTTP \"201 Created\" response shall include if the feature \"WirelineWirelessConvergence\" is supported, and if the PCF received the \"wlServAreaRes\" in the request, wireline Service Area Restrictions encoded as \"wlServAreaRes\" attribute.\n-\tIf the feature \"MultipleAccessTypes\" is supported, the NF service consumer (e.g. AMF) shall include:\na)\tthe RAT type entry corresponding to non-3GPP wireline access and/or the RAT type entry corresponding to the 3GPP access encoded in the \"ratTypes\" attribute, if available; and\nb)\tthe \"accessTypes\" attribute indicating registration in the 3GPP access, or registration in the non-3GPP access, or registration in both 3GPP and non-3GPP access, if available.\nNOTE:\tWhen both, 3GPP access and non-3GPP accesses are available, the \"accessType\" attribute and the \"ratType\" attribute within the PolicyAssociationRequest type contain the access type and RAT type corresponding to the 3GPP access.\n-\tIf the feature \"SliceSupport\" or the feature \"DNNReplacementControl\" is supported in the AMF, the UE is registered in the non-3GPP access, and the feature \"MultipleAccessTypes\" is supported, the NF service consumer (e.g. AMF) shall include the Allowed NSSAI in the non-3GPP access encoded in the \"n3gAllowedSnssais\" attribute.\n-\tIf the feature \"DNNReplacementControl\" is supported, the UE is registered in the non-3GPP access, and the  feature \"MultipleAccessTypes\" is supported, the NF service consumer (e.g. AMF) may include the mapping of each S-NSSAI of the Allowed NSSAI in the non-3GPP access to the corresponding S-NSSAI of the HPLMN encoded in the \"mappingSnssais\" attribute.\n-\tThe PEI that may be included within the \"pei\" attribute shall have one of the following representations:\na)\tIf the 5G-BRG supports only wireline access, the PEI shall be the 5G-BRG MAC address.\nb)\tIf the 5G-CRG supports only wireline access, the PEI shall be the cable modem MAC address.\nc)\tIf the 5G-RG supports at least one 3GPP access technology, the PEI shall be the allocated IMEI or IMEISV.\nd)\tFor the FN-BRG and FN-CRG, the PEI shall be the FN-RG MAC address.\nNOTE:\tWhen the PEI includes an indication that the MAC address cannot be used as Equipment identifier of the FN-RG, the PEI cannot be trusted for regulatory purposes and cannot be used for equipment based policy evaluation.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.3.2.2\tAMF Access and Mobility Policy",
                            "text_content": "The functionality defined in clause 4.2.2.3 shall apply with the following modifications:\n-\tUE-AMBR defined in clause 4.2.2.3.3 shall not apply for wireline access.\n-\tRFSP Index defined in clause 4.2.2.3.2 shall not apply for wireline access.\n-\tService Area Restriction defined in clause 4.2.2.3.1 is only applicable for a 5G-RG connected via NG-RAN. The wireline access Service Area Restriction defined in clause B.3.2.2.2 shall apply for a FN-CRG and/or a 5G-RG (5G-BRG and 5G-CRG) connected via wireline access.\nIf service area restrictions are enabled, and if the feature \"WirelineWirelessConvergence\" is supported, the Service Area Restriction information is encoded using the \"WirelineServiceAreaRestriction\" data type defined in 3GPP TS 29.571 [11] and consists of:\n-\teither a limited allowed area represented as both of:\n(i)\ta list of either Line IDs encoded as \"globLineIds\" (for a 5G-BRG) or HFC-Node IDs (for 5G-CRG and FN-CRG) encoded as \"hfcNIds\" attribute within the \"areas\" attribute; and\n(ii)\tthe \"restrictionType\" attribute set to \"ALLOWED_AREAS\";\n-\tor a limited not allowed area represented as both of:\n(i)\ta list of either Line IDs encoded as \"globLineIds\" (for a 5G-BRG) or HFC-Node IDs (for  5G-CRG and FN-CRG) encoded as \"hfcNIds\" attribute within the \"areas\" attribute; and\n(ii)\tthe \"restrictionType\" attribute set to \"NOT_ALLOWED_AREAS\";\nWhen the authorized wireline service area restrictions result in an unlimited set of allowed HFC-Node IDs or Line IDs, the PCF shall include:\n-\tan empty \"wlServAreaRes\" attribute; or\n-\tthe \"restrictionType\" attribute set to \"NOT_ALLOWED_AREAS\" and an empty \"areas\" attribute.\nWhen the authorized wireline service area restrictions result in an unlimited set of not-allowed HFC-Node IDs or Line IDs, the PCF shall include the \"restrictionType\" attribute set to \"ALLOWED_AREAS\" and an empty \"areas\" attribute.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "B.3.3\tNpcf_AMPolicyControl_UpdateNotify Service Operation",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.3.1\tGeneral",
                            "text_content": "The functionality defined in clause 4.2.4.2 and 4.2.4.3 shall apply.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "B.3.4\tNpcf_AMPolicyControl_Update Service Operation",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.4.1\tGeneral",
                            "text_content": "The general procedure specified in clause 4.2.3.2 to modify an existing AM policy association shall apply with the exception that for a FN-RG or a 5G-RG registering via wireline access only, the existing AM policy association shall not be updated due to location change (tracking area), change of UE presence in PRA, or RFSP index change.\nIf the feature \"MultipleAccessTypes\" is supported, the NF service consumer may include in the PolicyAssociationUpdateRequest data structure:\n-\tif the Access Type and/or the RAT type changed and the access type change Policy Control Request Trigger was previously provisioned (see clause B.3.4.2), the list of Access Type and RAT Type combinations available encoded in the \"accessTypes\" attribute, \"ratTypes\" attribute.\nWhen the feature \"MultipleAccessTypes\" is supported the PCF may include in the PolicyUpdate data type the access type change Policy Control Request Trigger (see clause B.3.4.2) encoded within the \"triggers\" attribute.\nIf the feature \"SliceSupport\" or the feature \"DNNReplacementControl\" is supported in the AMF, the UE is registered in the non-3GPP access, and the feature \"MultipleAccessTypes\" is supported, the NF service consumer (e.g. AMF) shall include the Allowed NSSAI in the non-3GPP access encoded in the \"n3gAllowedSnssais\" attribute together with the \"ALLOWED_NSSAI_CH\" policy control request trigger when a change of the Allowed NSSAI for the non-3GPP access occurred.\nIf the feature \"DNNReplacementControl\" is supported, the UE is registered in the non-3GPP access, and the feature \"MultipleAccessTypes\" is supported, the Allowed NSSAI changed and/or the mapping of a S-NSSAI of the Allowed NSSAI to the corresponding S-NSSAI of the HPLMN changed, and the Policy Control Request Trigger \"Change of allowed NSSAI\" was provided then NF service consumer (e.g. AMF) may include the mapping of each S-NSSAI of the Allowed NSSAI in the non-3GPP access to the corresponding S-NSSAI of the HPLMN encoded in the \"mappingSnssais\" attribute.\nIn addition, if the feature \"WirelineWirelessConvergence\" is supported:\n-\tthe PolicyAssociationUpdateRequest data structure shall include if a wireline access Service Area restriction change occurred, the wireline access Service Area Restrictions (see clause B.3.2.2.2) derived from the ones obtained from the UDM encoded as \"wlServAreaRes\" attribute;\n-\tthe PolicyUpdate data returned in the response, if the PCF received the \" wlServAreaRes\" attribute in the request, wireline access Service Area Restrictions encoded as \"wlServAreaRes\" attribute.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.3.4.2\tPolicy Control Request Triggers",
                            "text_content": "For a 5G-RG registering via NG-RAN, the Policy Control Request Triggers defined in clause 4.2.3.2 shall apply.\nFor a FN-RG or a 5G-RG registering via wireline access, only the following Policy Control Request Triggers defined in clause 4.2.3.2 shall apply:\n-\t\"SERV_AREA _CH\", i.e. Service Area Restriction change: the UDM notifies the NF service consumer that the subscribed service area restriction information has changed;\n-\t\"ALLOWED_NSSAI_CH\", i.e. change of allowed NSSAI of the served UE;\nNOTE 1:\tThe \"ALLOWED_NSSAI_CH\" trigger only applies if the feature \"SliceSupport\" or the feature \"DNNReplacementControl\" is supported.\nNOTE 2:\tThe \"SERV_AREA_CH\" trigger is also used to notify that the subscribed wireline access service area restriction information has changed.\n-\t\"ACCESS_TYPE_CH\", i.e. the access type change: the NF service consumer notifies that the access type and the RAT type combinations available in the NF service consumer for a UE with simultaneous 3GPP and non-3GPP connectivity has changed; and\nNOTE 3:\tThe \"ACCESS_TYPE_CH\" trigger only applies if the \"MultipleAccessTypes\" feature is supported.\n-\t\"SMF_SELECT_CH\", i.e. SMF selection information change.\nNOTE 4:\tThe \"SMF_SELECT_CH\" trigger only applies if the \"DNNReplacementControl\" feature is supported.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "B.3.4.3\tEncoding of updated policy",
                            "text_content": "Updated policies shall be encoded within the PolicyUpdate as specified in clause 4.2.3.3 with the modifications listed in clauses B.3.4.1, B.3.4.2, and this clause.\n-\tAMF Access and Mobility Policy (see clause B.3.2.2.2) Service Area Restriction for wireline access is encoded as \"wlServAreaRes\" attribute.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "B.3.5\tNpcf_AMPolicyControl_Delete Service Operation",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.3.5.1\tGeneral",
                            "text_content": "The functionality defined in clause 4.2.5 shall apply.\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 53,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}