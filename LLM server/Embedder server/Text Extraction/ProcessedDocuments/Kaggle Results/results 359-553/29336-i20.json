{
    "document_name": "29336-i20.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document describes the Diameter-based interfaces between the HSS and other network elements involved in the architecture for interworking with packet data networks and applications, such as Machine-Type Communications (MTC).\nIn particular, this document specifies the S6m interface between the Home Subscriber Server (HSS) and the MTC Interworking Function (MTC-IWF), the S6n interface between the HSS and the MTC-AAA and the S6t interface between the HSS and the Service Capability Exposure Function (SCEF). The procedures over those interfaces are defined in 3GPP TS 23.682 [2].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.682: \"Architecture enhancements to facilitate communications with packet data networks and applications\".\n[3]\tVoid.\n[4]\t3GPP TS 33.210: \"3G security; Network Domain Security (NDS); IP network layer security\".\n[5]\tIETF RFC 4960: \"Stream Control Transport Protocol\".\n[6]\t3GPP TS 29.228: \"IP multimedia (IM) Subsystem Cx Interface; Signalling flows and Message Elements\".\n[7]\t3GPP TS 29.229: \"Cx and Dx interfaces based on the Diameter protocol; protocol details \".\n[8]\t3GPP TS 29.173: \"Diameter-based SLh interface for Control Plane LCS\".\n[9]\tIETF RFC 5234: \"Augmented BNF for Syntax Specifications: ABNF\".\n[10]\t3GPP TS 29.329: \"Sh Interface based on the Diameter protocol\".\n[11]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[12]\t3GPP TS 29.338: \"Diameter based protocols to support SMS capable MMEs\".\n[13]\t3GPP TS 29.368: \"Tsp interface protocol between the MTC Interworking Function (MTC-IWF) and Service Capability Server (SCS)\".\n[14]\t3GPP TS 29.272: \"Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) related interfaces based on Diameter protocol\".\n[15]\tIETF RFC 7683 : \"Diameter Overload Indication Conveyance\".\n[16]\t3GPP TS 32.299: \"Telecommunication management; Charging management; Diameter charging applications\".\n[17]\t3GPP TS 29.217: \"Congestion Reporting Over Np Reference Point\".\n[18]\tIETF RFC 5777: \"Traffic Classification and Quality of Service (QoS) Attributes for Diameter\".\n[19]\t3GPP TS 23.007: \"Restoration procedures\".\n[20]\tIETF RFC 7944: \"Diameter Routing Message Priority\".\n[21]\tIETF RFC 5778: \"Diameter Mobile IPv6: Support for Home Agent to Diameter Server Interaction\".\n[22]\tIETF RFC 8583: \"Diameter Load Information Conveyance\".\n[23]\tIETF RFC 6733: \"Diameter Base Protocol\".\n[24]\t3GPP TS 29.128: \"Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) interfaces for interworking with packet data networks and applications\".\n[25]\t3GPP TS 29.154: \"Service capability exposure functionality over Nt Reference point\".\n[26]\t3GPP TS 29.122: \"T8 reference point for Northbound APIs\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\n\nAAA\tAuthentication, Authorization and Accounting\nABNF\tAugmented Backus-Naur Form\nAVP\tAttribute-Value Pair\nDRMP\tDiameter Routing Message Priority\nDSCP\tDifferentiated Services Code Point\nIANA\tInternet Assigned Numbers Authority\nMTC\tMachine-Type Communications\nMTC-IWF\tMTC Interworking Function\nNIDD\tNon-IP Data Delivery\nSCS\tServices Capability Server\nSCEF\tService Capability Exposure Function\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tGeneral Description",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The S6m reference point between the MTC-IWF and the HSS, the S6n reference point between the MTC-AAA and the HSS, and the S6t reference point between the SCEF and the HSS, are defined in the 3GPP TS 23.682 [2].\nThis document describes the Diameter-based S6m, S6n and S6t related procedures, message parameters and protocol specification.\nAn excerpt of the architecture for Machine-Type Communication, as defined in 3GPP TS 23.682 [2] is shown in Figure 4.1-1, where the relevant interfaces towards the HSS are highlighted.\nThe preceding context and figure name provide a brief overview of the 3GPP architecture for machine-type communication, which is depicted in Figure 4.1-1. This figure illustrates the various components and layers of the architecture, including the core switches, optical line terminals (OLTs), and distributed nodes. The layered design aligns with SDN principles, emphasizing the importance of redundancy and failover mechanisms.\nFigure 4.1-1: 3GPP Architecture for Machine-Type Communication\nIn this architecture, the S6m reference point connects the MTC-IWF with the HSS, where the subscription information of the UE (e.g., an MTC device) is stored. This reference points allows the MTC-IWF to retrieve subscription data and to do any necessary mapping between different identities associated to the UE.\nThe S6m interface shall allow the MTC-IWF to:\n-\tretrieve subscription information of the UE from the HSS,\n-\trequest routing information from the HSS, i.e. the address of the UE's serving nodes supporting SMS for the UE ; in this context serving nodes of the UE are the MSC or MME but not both, the SGSN, and the IP-SM-GW,\n-\tretrieve the IMSI of the UE,\n-\tretrieve the External Identifier of the UE associated to an Application Port Identifier,\n-\tperform authorization of the Service Capability Server that is requesting to send a device trigger to the UE.\nAdditionally, the S6n reference point connects the MTC-AAA with the HSS, and it allows the MTC-AAA to do the mapping of the UE IMSI to the external identifier(s) of the UE.\nThe S6t reference point connects the SCEF with the HSS to perform configuration and reporting of Monitoring events, and configuration of AESE Communication Pattern.\nThe S6t interface shall allow the SCEF to:\n-\tconfigure UE related Monitoring events\n-\treceive reporting of the configured Monitoring events from the HSS\n-\tconfigure UE related AESE Communication Pattern\n-\tAuthorize the UE for NIDD.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tDiameter-based S6m/S6n Interface",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the Diameter-based S6m and S6n interface related procedures and Information elements exchanged between functional entities.\nIn the tables that describe the Information Elements transported by each Diameter command, each Information Element is marked as (M) Mandatory, (C) Conditional or (O) Optional in the \"Cat.\" column. For the correct handling of the Information Element according to the category type, see the description detailed in clause 6 of the 3GPP TS 29.228 [6].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tProcedure Descriptions",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tSubscriber Information Retrieval",
                            "text_content": "This procedure is used between the MTC-IWF and the HSS and between the MTC-AAA and the HSS.\nWhen the procedure is invoked by the MTC-IWF, it is used:\n-\tTo translate an external identifier, or MSISDN, to the IMSI of the user,\n-\tTo retrieve information about the serving entities currently serving a certain user,\n-\tTo authorize a certain SCS to request a specific service (e.g. device triggering),\n-\tTo retrieve subscription data of the user, associated to the specific service requested by the SCS,\n-\tTo retrieve an External Identifier based on IMSI and application port identifier.\nWhen the procedure is invoked by the MTC-AAA, it is used:\n-\tTo translate an IMSI to one or more external identifiers of the user.\nThis procedure is mapped to the commands Subscriber-Information-Request/Answer in the Diameter application specified in clauser 6. Tables 5.2.1.1/1 and 5.2.1.1/2 detail the involved information elements.\nTable 5.2.1.1/1: Subscriber Information Retrieval (Request)\n\nTable 5.2.1.1/2: Subscriber Information Retrieval (Response)\n\nWhen the Subscriber Information Retrieval request is received from the MTC-IWF, indicated by the S6m/S6n indicator, which shall be set, the HSS shall, in the following order:\n1.\tCheck that the User Identity for whom data is asked exists in HSS. If not, Experimental-Result shall be set to DIAMETER_ERROR_USER_UNKNOWN in the Subscriber Information Retrieval Response.\n2.\tCheck whether the requesting/receiving SCS is authorized to request/receive the specified service for the UE. If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_REQUESTING_ENTITY (5510) in the Subscriber Information Retrieval Response.\n3.\tCheck that the requested service (e.g., device trigger) is present and authorized. If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_SERVICE (5511) in the Subscriber Information Retrieval Response.\n4.\tIf the requested service is DEVICE_TRIGGER, check whether the UE is currently registered in any serving node supporting SMS for the UE (MSC or MME which has registered as MSC but not both, SGSN, IP-SM-GW). If the user is not registered in any serving node, the HSS shall answer successfully, but it shall not include any Serving Node or Additional Serving Node(s) in the response; also, it shall indicate to the MTC-IWF that the user is absent, in the Subscriber Information Retrieval Response, by setting the relevant bit in the HSS-Cause IE.\nThe HSS shall also check if the UE is known to be not reachable in the registered serving nodes (i.e. check MNRF, MNRG, and UNRI) and if the trigger delivery is requested with \"non-priority\"; if both are true, the HSS shall answer successfully, but it shall not include any Serving Node or Additional Serving Node(s) in the response, and it shall set the \"Absent Subscriber\" flag in the HSS-Cause IE.\n5.\tIf the requested service is DEVICE_TRIGGER, check whether the requested service cannot be delivered according to the user's provisioned teleservices and the user's active barring conditions. If so, the HSS shall answer successfully, but it should not include any Serving Node or Additional Serving Node(s) in the response, and it shall set accordingly the corresponding bits in the HSS-Cause IE (see clause 6.4.9).\n6.\tIf the requested service is SMS_MO, check whether IMSI and Application Port Identifier are present in the request within User-Identifier and Service- Parameters AVPs. If not, Experimental-Result shall be set to DIAMETER_ERROR_MISSING_APPLICATION_DATA (5598) in the Subscriber Information Retrieval Response.\nIf there is an error in any of the above steps then the HSS shall stop processing and shall return the error code specified in the respective step.\nIf the HSS cannot fulfil the received request for reasons not stated in the above steps (e.g. due to a database error), it shall stop processing the request and set Result-Code to DIAMETER_UNABLE_TO_COMPLY.\nOtherwise, the requested operation shall take place and the HSS shall return the Result-Code AVP set to DIAMETER_SUCCESS. If the requested service is DEVICE_TRIGGER, the HSS returns the network addresses of the registered serving nodes supporting SMS for the UE (MSC or MME that has registered as MSC but not both and/or SGSN and/or IP-SM-GW), if available (and not marked \"not reachable\" by MNRF, MNRG, or UNRI, unless priority was indicated) in the HSS, and the IMSI of the subscriber, and the corresponding data needed by the service requested by the SCS; if available, the MSISDN of the user shall also be returned by the HSS, along with the user's IMSI. If the requested service is SMS_MO, the HSS returns the External-Identifier associated to the Application Port Identifier.\nWhen the Subscriber Information Retrieval request is received from the MTC-AAA, indicated by the S6m/S6n indicator, which shall be cleared, the HSS shall check:\n-\tThat the User Identity IE is included in the request, and that it contains an IMSI; if other IEs are included in the request, they may be ignored by the HSS.\n-\tWhether the user identified by that IMSI is known in the HSS.\nIf it is known, the HSS shall answer successfully and return in the response one or several instances of the User Identity IE, each one containing either an External-Identifier or an MSISDN (if any of these identities are present in the subscriber profile in HSS), or the subscriber's IMSI (if the subscriber does not have any External Identifiers or MSISDNs assigned).\nIf it is not known, Experimental-Result shall be set to DIAMETER_ERROR_USER_UNKNOWN in the Subscriber Information Retrieval Response.\nWhen the MTC-IWF sends a Subscriber Information Retrieval request to the HSS, it shall set the S6m/S6n indicator bit in the SIR Flags IE.\nUpon receipt of a successful Subscriber Information Retrieval response for the DEVICE_TRIGGER service, when multiple serving nodes are returned from HSS, the MTC-IWF should give a higher preference to the serving node included in the \"Serving Node\" IE, than to those serving nodes included in the list of \"Additional Serving Node\" IEs.\nUpon receipt of a successful Subscriber Information Retrieval response for the SMS_MO service, the MTC-IWF shall use the retrieved External-Identifier for communication with the SCS via Tsp.\nWhen the MTC-AAA sends a Subscriber Information Retrieval request to the HSS, it shall clear the S6m/S6n indicator bit in the SIR Flags IE.\nThe MTC-AAA shall only include the User Identifier IE in the request, and it shall contain only the IMSI of the UE.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.1.1/1: Subscriber Information Retrieval (Request)",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1.1/2: Subscriber Information Retrieval (Response)",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tProtocol Specification",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tUse of Diameter Base Protocol",
                            "text_content": "The Diameter base protocol as specified in IETF RFC 6733 [23] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as specified in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tSecuring Diameter Messages",
                            "text_content": "For secure transport of Diameter messages, see 3GPP TS 33.210 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.3\tAccounting Functionality",
                            "text_content": "Accounting functionality (Accounting Session State Machine, related command codes and AVPs) shall not be used on the S6m interface.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.4\tUse of Sessions",
                            "text_content": "Between the MTC-IWF and the HSS, Diameter sessions shall be implicitly terminated. An implicitly terminated session is one for which the server does not maintain state information. The client shall not send any re-authorization or session termination requests to the server.\nThe Diameter base protocol as specified in IETF RFC 6733 [23] includes the Auth-Session-State AVP as the mechanism for the implementation of implicitly terminated sessions.\nThe client (server) shall include in its requests (responses) the Auth-Session-State AVP set to the value NO_STATE_MAINTAINED (1), as described in IETF RFC 6733 [23]. As a consequence, the server shall not maintain any state information about this session and the client shall not send any session termination request. Neither the Authorization-Lifetime AVP nor the Session-Timeout AVP shall be present in requests or responses.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.5\tTransport Protocol",
                            "text_content": "Diameter messages over the S6m interface shall make use of SCTP IETF RFC 4960 [5] as transport protocol.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.6\tRouting Considerations",
                            "text_content": "This clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host.\nThe S6m reference point is defined as an intra-operator interface so, both MTC-IWF and HSS shall be located in the same network domain/realm.\nIf the MTC-IWF knows the address/name of the HSS for a certain user, both the Destination-Realm AVP and the Destination-Host AVP shall be present in the request. Otherwise, only the Destination-Realm AVP shall be present and the command shall be routed to the next Diameter node. Consequently, the Destination-Host AVP is declared as optional in the ABNF for all requests initiated by the MTC-IWF.\nDestination-Realm AVP is declared as mandatory in the ABNF for all requests.\nI If the Vendor-Specific-Application-ID AVP is received in any of the commands, it shall be ignored by the receiving node, and it shall not be used for routing purposes.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.7\tAdvertising Application Support",
                            "text_content": "The HSS and the MTC-IWF shall advertise support of the Diameter S6m Application by including the value of the application identifier in the Auth-Application-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe vendor identifier value of 3GPP (10415) shall be included in the Supported-Vendor-Id AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands, and in the Vendor-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe Vendor-Id AVP included in Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands that is not included in the Vendor-Specific-Application-Id AVPs as described above shall indicate the manufacturer of the Diameter node as per IETF RFC 6733 [23].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.8\tDiameter Application Identifier",
                            "text_content": "The S6m/S6n interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the S6m interface application is 16777310 (allocated by IANA).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.9\tUse of the Supported-Features AVP",
                            "text_content": "When new functionality is introduced on the S6m application, it should be defined as optional. If backwards incompatible changes can not be avoided, the new functionality shall be introduced as a new feature and support advertised with the Supported-Features AVP. The usage of the Supported-Features AVP on the S6m application is consistent with the procedures for the dynamic discovery of supported features as defined in clause 7.2 of 3GPP TS 29.229 [7].\nWhen extending the application by adding new AVPs for a feature, the new AVPs shall have the M bit cleared and the AVP shall not be defined mandatory in the command ABNF.\nAs defined in 3GPP TS 29.229 [7], the Supported-Features AVP is of type grouped and contains the Vendor-Id, Feature-List-ID and Feature-List AVPs. On the all reference points as specified in this specification, the Supported-Features AVP is used to identify features that have been defined by 3GPP and hence, for features defined in this document, the Vendor-Id AVP shall contain the vendor ID of 3GPP (10415). If there are multiple feature lists defined for the reference point, the Feature-List-ID AVP shall differentiate those lists from one another.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.10\tUser Identity to HSS resolution",
                            "text_content": "The User identity to HSS resolution mechanism enables the MTC-IWF to find the identity of the HSS that holds the subscription data for the target user when multiple and separately addressable HSSs have been deployed in the home network. The resolution mechanism is not required in networks that utilise a single HSS.\nThis User identity to HSS resolution mechanism may rely on routing capabilities provided by Diameter and be implemented in the home operator network within dedicated Diameter Agents (Redirect Agents or Proxy Agents) responsible for determining the HSS identity based on the provided user identity (e.g., external identifiers provided by the MTC-IWF).\nWhen the Diameter Load Control mechanism is supported (see IETF RFC 8583 [22]), load values from previously received Load AVPs of type HOST may be taken into account when determining the HSS identity.\nNOTE:\tAlternatives to the user identity to HSS resolution Diameter based implementation are outside the scope of this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.2\tCommands",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tIntroduction",
                            "text_content": "This clause defines the Command code values and related ABNF for each command described in this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tCommand-Code values",
                            "text_content": "This clause defines Command-Code values for the S6m/S6n interface application as allocated by IANA.\nEvery command is defined by means of the ABNF syntax IETF RFC 5234 [9], according to the Command Code Format (CCF) specification defined in IETF RFC 6733 [23]. When the definition and use of an AVP is not specified in this document, the guidelines in IETF RFC 6733 [23] shall apply.\nThe Vendor-Specific-Application-Id AVP shall not be included in any command sent by Diameter nodes supporting applications defined in this specification. If the Vendor-Specific-Application-Id AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node.\nNOTE:\tThe Vendor-Specific-Application-Id is included as an optional AVP in all Command Code Format specifications defined in this specification in order to overcome potential interoperability issues with intermediate Diameter agents non-compliant with the IETF RFC 6733 [23].\nThe following Command Codes are defined in this specification:\nTable 6.2.2/1: Command-Code values for S6m/S6n\n\nFor these commands, the Application-ID field shall be set to 16777310 (application identifier of the S6m/S6n interface application, allocated by IANA).\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.2/1: Command-Code values for S6m/S6n",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.3\tSubscriber-Information-Request (SIR) Command",
                            "text_content": "The Subscriber-Information-Request (SIR) command, indicated by the Command-Code field set to 8388641 and the \"R\" bit set in the Command Flags field, is sent from the MTC-IWF to the HSS or from the MTC-AAA to the HSS.\nMessage Format:\n< Subscriber-Information-Request> ::=\t< Diameter Header: 8388641, REQ, PXY, 16777310 >\n< Session-Id >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Identifier }\n[ Service-ID ]\n[ SCS-Identity ]\n[ Service-Parameters ]\n{ SIR-Flags }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.4\tSubscriber-Information-Answer (SIA) Command",
                            "text_content": "The Subscriber-Information-Answer (SIA) command, indicated by the Command-Code field set to 8388641 and the \"R\" bit cleared in the Command Flags field, is sent from the HSS to the MTC-IWF or from the HSS to the MTC-AAA.\nMessage Format:\n< Subscriber-Information-Answer> ::=\t< Diameter Header: 8388641, PXY, 16777310 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n*[ User-Identifier ]\n[ Service-Data ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[ AVP ]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.3\tResult-Code AVP and Experimental-Result AVP Values",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.3.1\tGeneral",
                            "text_content": "This clause defines result code values that shall be supported by all Diameter implementations that conform to this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.2\tSuccess",
                            "text_content": "Result codes that fall within the Success category shall be used to inform a peer that a request has been successfully completed. The Result-Code AVP values defined in Diameter base protocol as specified in IETF RFC 6733 [23] shall be applied.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.3\tPermanent Failures",
                            "text_content": "Errors that fall within the Permanent Failures category shall be used to inform the peer that the request has failed, and should not be attempted again. The Result-Code AVP values defined in Diameter base protocol as specified in IETF RFC 6733 [23] shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.\nThis result code shall be sent by the HSS to indicate that the user identified by the IMSI, MSISDN, or External-Identifier is unknown. This error code is defined in 3GPP TS 29.229 [7].\nThis result code shall be sent by the HSS to indicate that the SCS is not allowed to request control plane services for an UE, to the MTC-IWF.\nThis result code shall be sent by the HSS to indicate that the specific service requested by the SCS is not allowed for an UE, or that it cannot be delivered according to the current subscribed services of the UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.4\tAVPs",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.4.1\tGeneral",
                            "text_content": "The following table specifies the Diameter AVPs defined for the S6m/S6n interface protocol, their AVP Code values, types, possible flag values and whether or not the AVP may be encrypted. The Vendor-ID header of all AVPs defined in this specification shall be set to 3GPP (10415).\nFor all AVPs which contain bit masks and are of the type Unsigned32, bit 0 shall be the least significant bit. For example, to get the value of bit 0, a bit mask of 0x00000001 should be used.\nTable 6.4.1/1: S6m/S6n specific Diameter AVPs\n\nThe following table specifies the Diameter AVPs re-used by the S6m/S6n interface protocol from existing Diameter Applications, including a reference to their respective specifications and when needed, a short description of their use within S6m/S6n.\nAny other AVPs from existing Diameter Applications, except for the AVPs from Diameter base protocol as specified in IETF RFC 6733 [23], do not need to be supported. The AVPs from Diameter base protocol as specified in IETF RFC 6733 [23] are not included in table 6.4.1/2, but they may be re-used for the S6m/S6n protocol.\nTable 6.4.1/2: S6m/S6n re-used Diameter AVPs\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.4.1/1: S6m/S6n specific Diameter AVPs",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.4.1/2: S6m/S6n re-used Diameter AVPs",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.4.2\tUser-Identifier",
                            "text_content": "The User-Identifier AVP is of type Grouped and it contains the different identifiers used by the UE.\nAVP format:\nUser-Identifier ::= <AVP header: 3102 10415>\n[ User-Name ]\n[ MSISDN ]\n[ External-Identifier ]\n[ LMSI ]\n*[AVP]\nThis AVP shall contain at least one of the identifiers used by the UE, i.e., it shall not be empty. The IMSI of the UE shall be included (when applicable) in the User-Name AVP.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.3\tService-ID",
                            "text_content": "The Service-ID AVP is of type Enumerated and it shall identify the service requested by the SCS. The following values are defined:\nDEVICE_TRIGGER (0)\nThe SCS requests a control plane device triggering to the UE. .\nSMS_MO (1)\nThe UE (identified by IMSI and application port identifier) requests SMS_MO to be delivered to the SCS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.4\tSCS-Identity",
                            "text_content": "The SCS-Identity AVP is of type OctetString and it shall contain the identity of the SCS or UE which originated the service request towards the MTC-IWF, over the Tsp reference point.\nThe encoding of the SCS-Identity AVP is defined per SCS service.\nFor the device triggering service, the SCS-Identity AVP shall contain the ISDN number of the SCS in international ISDN number format as described in ITU-T Rec E.164 [41]. It shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.5\tService-Parameters",
                            "text_content": "The Service-Parameters AVP is of type Grouped, and it contains the service-specific parameters related to the requested service.\nAVP format:\nService-Parameters ::= <AVP header: 3105 10415>\n[ T4-Parameters ]\n[ Application-Port-Identifier ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.6\tT4-Parameters",
                            "text_content": "The T4-Parameters AVP is of type Grouped.\nAVP format:\nT4-Parameters ::= <AVP header: 3106 10415>\n[ Priority-Indication ]\n[ SM-RP-SMEA ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.7\tService-Data",
                            "text_content": "The Service-Data AVP is of type Grouped, and it contains the service-specific data related to the device triggering request handled by the MTC-IWF.\nService-Data ::= <AVP header: 3107 10415>\n[ T4-Data ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.8\tT4-Data",
                            "text_content": "The T4-Data AVP is of type Grouped and it shall contain information about the network node(s) serving the targeted user for SMS, i.e. the names/numbers of the serving nodes (MSC or MME, SGSN, IP-SM-GW) which allow the trigger delivery. AVP format:\nT4-Data ::= <AVP header: 3108 10415>\n[ HSS-Cause ]\n[ Serving-Node ]\n*[ Additional-Serving-Node ]\n*[AVP]\nWhen the HSS-Cause indicates Absent Subscriber, via the corresponding flag in the bit mask, the Serving-Node and Additional-Serving-Node AVPs shall not be present. When the HSS-Cause indicates Teleservice Not Provisioned or Call Barred, via the corresponding flag in the bit mask, the Serving-Node and Additional-Serving-Node AVPs should not be present. Additional-Serving-Node AVP shall be absent if Serving-Node AVP is absent.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.9\tHSS-Cause",
                            "text_content": "The HSS-Cause AVP is of type Unsigned32 and it contains a bit mask. The meaning of the bits is defined in table 6.4.9/1:\nTable 6.4.9/1: HSS-Cause\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.4.9/1: HSS-Cause",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.4.10\tSIR-Flags",
                            "text_content": "The SIR-Flags AVP is of type Unsigned32 and it contains a bit mask. The meaning of the bits is defined in table 6.4.10/1:\nTable 6.4.10/1: SIR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.4.10/1: SIR-Flags",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.4.11\tExternal-Identifier",
                            "text_content": "The External-Identifier AVP is of type UTF8String. For S6m/S6n interface it shall contain an external identifier of the UE. See 3GPP TS 23.003 [11] for the definition and formatting of the External Identifier. For S6t interface, it shall contain an external identifier for an individual UE or a group of UEs, as indicated by Type-Of-External-Identifier AVP. See 3GPP TS 23.003 [11] for the definition and formatting of the External Group Identifier.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.12\tServing-Node",
                            "text_content": "The Serving-Node AVP is of type Grouped and it shall contain the name/number of the serving node to be used for T4-triggering. It is originally defined in 3GPP TS 29.173 [8].\nServing-Node ::=\t<AVP header: 2401 10415>\n[ SGSN-Name ]\n[ SGSN-Realm ]\n[ SGSN-Number ]\n[ MME-Name ]\n[ MME-Realm ]\n[ MME-Number-for-MT-SMS ]\n[ MSC-Number ]\n[ IP-SM-GW-Number ]\n[ IP-SM-GW-Name ]\n[ IP-SM-GW-Realm ]\n*[AVP]\nThe following combinations are allowed:\na) SGSN-Number\nb) SGSN-Name & SGSN-Realm & SGSN-Number if the HSS supports the \"Gdd in SGSN\" feature and has received the \"Gdd in SGSN\" indication over S6a or Gr interface from the SGSN (cf. 3GPP TS 29.272 [4] and 3GPP TS 29.002 [9])\nc) MME-Name & MME-Realm & MME-Number-for-MT-SMS\nd) MSC-Number\ne) MSC-Number & MME-Name & MME-Realm\nf) IP-SM-GW-Number\ng) IP-SM-GW-Number & IP-SM-GW-Name & IP-SM-GW-Realm\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.13\tAdditional-Serving-Node",
                            "text_content": "The Additional-Serving-Node AVP is of type Grouped and when present it shall contain the name/number of an additional serving node to be used for T4-triggering. It is originally defined in 3GPP TS 29.173 [8],\nAdditional-Serving-Node ::=\t<AVP header: 2406 10415>\n[ SGSN-Name ]\n[ SGSN-Realm ]\n[ SGSN-Number ]\n[ MME-Name ]\n[ MME-Realm ]\n[ MME-Number-for-MT-SMS ]\n[ MSC-Number ]\n*[AVP]\nThe following combinations are allowed:\na) SGSN-Number\nb) SGSN-Name & SGSN-Realm & SGSN-Number if the HSS supports the \"Gdd in SGSN\" feature and has received the \"Gdd in SGSN\" indication over S6a or Gr interface from the SGSN (cf. 3GPP TS 29.272 [4] and 3GPP TS 29.002 [9])\nc) MME-Name & MME-Realm & MME-Number-for-MT-SMS\nd) MSC-Number\ne) MSC-Number & MME-Name & MME-Realm\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.14\tIP-SM-GW-Number",
                            "text_content": "The IP-SM-GW-Number AVP is of type OctetString and it shall contain the ISDN number of the IP-SM-GW in international number format as described in ITU-T Rec E.164 [41]. It shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.15\tIP-SM-GW-Name",
                            "text_content": "The IP-SM-GW-Name AVP is of type DiameterIdentity and it shall contain the Diameter identity of the registered IP-SM-GW. For further details on the encoding of this AVP, see IETF RFC 3588 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.16\tOC-Supported-Features",
                            "text_content": "The OC-Supported-Features AVP is of type Grouped and it is defined in IETF RFC 7683 [15]. This AVP is used to support Diameter overload control mechanism, see Annex A for more information.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.17\tOC-OLR",
                            "text_content": "The OC-OLR AVP is of type Grouped and it is defined in IETF RFC 7683 [15]. This AVP is used to support Diameter overload control mechanism, see Annex A for more information.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.18\tIP-SM-GW-Realm",
                            "text_content": "The IP-SM-GW-Realm AVP is of type DiameterIdentity and it shall contain the Diameter identity of the registered IP-SM-GW's realm. For further details on the encoding of this AVP, see IETF RFC 3588 [5].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.19\tDRMP",
                            "text_content": "The DRMP AVP is of type Enumerated and it is defined in IETF RFC 7944 [20]. This AVP allows the HSS and the MTC-IWF over the S6m interface and the HSS and the MTC-AAA over the S6n interface to indicate the relative priority of Diameter messages. The DRMP AVP may be used to set the DSCP marking for transport of the associated Diameter message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.20\tLoad",
                            "text_content": "The Load AVP is of type Grouped and it is defined in IETF RFC 8583 [22]. This AVP is used to support the Diameter load control mechanism.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "7\tDiameter-based S6t Interface",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "7.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the Diameter-based S6t interface related procedures and Information elements exchanged between functional entities.\nIn the tables that describe the Information Elements transported by each Diameter command, each Information Element is marked as (M) Mandatory, (C) Conditional or (O) Optional in the \"Cat.\" column. For the correct handling of the Information Element according to the category type, see the description detailed in clause 6 of the 3GPP TS 29.228 [6].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "7.2\tProcedure Descriptions",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.2.1\tConfiguration Information on S6t",
                            "text_content": "This procedure is used between the SCEF and the HSS for:\n-\tthe configuration/deletion of Monitoring events for a UE or a Group of UEs;\n-\tthe deletion or addition of configured Group-based Monitoring events for certain UE(s) in a Group of UEs;\n-\tthe configuration/deletion of Communication Patterns;\n-\tthe configuration/query of Enhanced Coverage Restrictions;\n-\tthe configuration of Network Configuration parameters;\n-\tthe translation of an External Group Identifier(s) to IMSI Group Id(s).\nThe following events may be configured for monitoring:\n-\tAssociation of the UE and UICC and/or new IMSI-IMEI-SV association;\n-\tUE reachability;\n-\tLocation of the UE, and change in location of the UE;\n-\tLoss of connectivity;\n-\tCommunication failure;\n-\tRoaming status (i.e. Roaming or No Roaming,  identity of the PLMN serving the UE) of the UE, and change in roaming status of the UE;\n-\tAvailability after DDN failure;\n-\tIdle Status Indication in addition to UE reachability or Availability after DDN failure;\n-\tPDN Connectivity Status.\nThis procedure is mapped to the commands Configuration-Information-Request/Answer in the Diameter application specified in clause 8. The tables 7.2.1.1-1 and 7.2.1.1-2 detail the involved information elements.\nTable 7.2.1.1-1: Configuration Information Request\n\nTable 7.2.1.1-2: Configuration Information Answer\n\nIn the following clauses (7.2.1.2 and 7.2.1.3), if the feature \"Extended Reference IDs\" (see clause 8.4.23.1) is supported by the SCEF and the HSS, the term \"SCEF Reference ID\" shall refer to the content of the 64-bit long \"SCEF-Reference-ID-Ext\" AVP, and the term \"SCEF Reference ID for Deletion\" shall refer to the content of the 64-bit long \"SCEF-Reference-ID-for-Deletion-Ext\" AVP.\nWhen the Configuration Information Request is received from the SCEF, the HSS shall, in the following order:\n1.\tCheck that the User Identity for whom data is asked exists in HSS. If not, Experimental-Result shall be set to DIAMETER_ERROR_USER_UNKNOWN (5001) in the Configuration Information Answer.\n2.\tCheck whether the requesting SCEF is authorized to request the specified service (e.g. presence of Monitoring Event Configuration AVPs indicates the MONTE service). If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_REQUESTING_ENTITY (5510) in the Configuration Information Answer.\n2a.\tIf the MTC Provider Information is received, check if the MTC Provider ID is authorized for the UE or the group of UEs. If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_MTC_PROVIDER (5516) in the Configuration Information Answer.\n3.\tCheck that the requested service (e.g. MONTE, indicated by the presence of Monitoring-Event-Configuration AVPs, or Communication Pattern, indicated by the presence of AESE-Communication-Pattern AVP) is authorized for the UE or the group of UEs. If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_SERVICE (5511) in the Configuration Information Answer.\n3a.\tIf the request is IMSI Group Id Retrieval (as indicated by the CIR-Flags AVP), the HSS shall return the IMSI Group Id(s) in the order of sequence that corresponds to the order of sequence of the received External Group Identifier(s) received in the User-Identifier AVP and AdditionalIdentifiers AVP. The Result Code shall be set to DIAMETER_SUCCESS. Stop processing.\nOtherwise, continue to step 4.\nNOTE:\tApplicable steps 4-8 are performed for each monitoring event type or communication pattern requested.\n4.\tCheck whether the limits on number of monitoring events that can be requested per monitoring type and SCEF-ID is reached. If so, Result-Code in Monitoring-Event-Config-Status for the affected service(s) shall be set to DIAMETER_RESOURCES_EXCEEDED (5006). The Result-Code shall be set to DIAMETER_SUCCESS in the Configuration Information Answer.\n4a.\tCheck whether the requesting SCEF is authorized to request the specific service configuration(s) (e.g. Monitoring Event Type indicates a specific monitoring event configuration). If not, Experimental-Result-Code in Monitoring-Event-Config-Status for the affected service configuration(s) shall be set to DIAMETER_ERROR_UNAUTHORIZED_REQUESTING_ENTITY (5510). The Result-Code shall be set to DIAMETER_SUCCESS in the Configuration Information Answer.\n4b.\tCheck that the requested specific service configuration(s) (e.g. Monitoring Event Type) is authorized for the UE or the group of UEs. If not, Experimental-Result-Code in Monitoring-Event-Config-Status for the affected service(s) shall be set to DIAMETER_ERROR_UNAUTHORIZED_SERVICE (5511). The Result-Code shall be set to DIAMETER_SUCCESS in the Configuration Information Answer.\n5.\tWhen the request is for a group, i.e. because the External-Identifier AVP of the User-Identifier AVP contain an External Group Identifier, the HSS applies the Monitoring-Event-Configuration AVP to each UE of the Group and includes the CIA-Flags AVP with the Group-Configuration-In-Progress bit set in the Configuration Information Answer. The Result-Code shall be set to DIAMETER_SUCCESS in the Configuration Information Answer.\n\nIf the CIR command is to delete configured monitoring event(s) for certain UE(s) in a group of UEs, i.e. Monitoring-Event-Configuration AVP(s) containing Exclude-Identifier AVP, and the HSS supports Dynamic-Group-Event-Monitoring feature, the HSS shall cancel the monitoring event(s) for the UE(s) indicated by Exclude-Identifier AVP and keep monitoring events(s) for other UEs in the group, as specified in clause 5.6.1 of 3GPP TS 23.682 [2].\nIf the CIR command is to add configured monitoring event(s) for certain UE(s) in a group of UEs, i.e. Monitoring-Event-Configuration AVP(s) containing Include-Identifier AVP, and the HSS supports Dynamic-Group-Event-Monitoring feature, the HSS shall create the monitoring event(s) for the UE(s) indicated by Include-Identifier AVP, as specified in clause 5.6.1 of 3GPP TS 23.682 [2].\n6.\tIf a serving node is registered and is involved in the reporting of the configured monitoring event, the HSS shall forward the monitoring event configuration to the serving node and wait for the answer before sending the Configuration Information Answer to the SCEF. The monitoring event configuration status from the serving node for each event shall be conveyed by the HSS to the SCEF. The Result-Code shall be set to DIAMETER_SUCCESS in the Configuration Information Answer.\n7.\tIf the user is not registered in any serving node or the user is purged in the registered serving node(s), the HSS shall store the configuration data related to the service; also, it shall indicate to the SCEF that the user is absent, in the Configuration Information Answer, by setting the relevant bit in the S6t-HSS-Cause IE. The Result-Code shall be set to DIAMETER_SUCCESS in the Configuration Information Answer.\n8.\tFor Monitoring, if the data related to an immediate reporting is available in the HSS, the HSS (e.g. as being received from the MME/SGSN in the Insert Subscriber Data answer) shall include this data in the Configuration Information Answer.For Monitoring events that can be answered by the HSS without requiring interation with the serving node (e.g. roaming status, IMEI-Change), the HSS shall respond immediately, either in the CIA or in an immediate RIR.\nIf the HSS is aware that the UE is registered in an MME and an SGSN and the services supported by the MME and SGSN are different, the HSS shall additionally report the capabilities of the different nodes to the SCEF by including Supported-Services AVP(s) with the subset of services supported by the serving node(s) among those supported by the HSS, as indicated by the Node-Type AVP (e.g. HSS, MME). If the capabilities are the same reported from the MME, the SGSN and the HSS, the HSS shall report the service capabilities without Node-Type to the SCEF. If the Supported-Services of the SGSN and MME are different and the UE is purged in SGSN or MME the HSS shall report the Supported-Services to the SCEF excluding the Supported-Services from the purged node.\nIf the HSS receives CIR command from SCEF and has sent IDR commands over S6a/S6d to an MME and an SGSN, the HSS shall check the Result-Codes in Monitoring-Event-Config-Status AVPs reported by the MME and the SGSN:\n-\tif they are different, the HSS shall include both Service-Report AVPs with the respective Node-Type (indicating the type of serving node) in the Monitoring-Event-Config-Status AVP to the SCEF in the CIA command;\n-\totherwise, the HSS shall include one Service-Report AVP without Node-Type in the Monitoring-Event-Config-Status AVP to the SCEF in the CIA command.\nIf the configuration data in the CIR command are out of the allowed range, the HSS shall set the Experimental-Result-Code in Monitoring-Event-Config-Status for the affected service(s) to DIAMETER_ERROR_REQUESTED_RANGE_IS_NOT ALLOWED (5512).\nIf the received SCEF Reference ID for Deletion does not exist, the HSS shall set the Experimental-Result-Code in Monitoring-Event-Config-Status for the affected service(s) to DIAMETER_ERROR_CONFIGURATION_EVENT_NON_EXISTANT (5514).\nIf the SCEF Reference ID exists and the old configuration data could not be replaced by new Configuration event data, the HSS shall set the Experimental-Result-Code in Monitoring-Event-Config-Status for the affected service(s) to DIAMETER_ERROR_CONFIGURATION_EVENT_STORAGE_NOT_SUCCESSFUL (5513).\nIf the HSS cannot fulfil the received request for reasons not stated in the above steps (e.g. due to a database error), it shall stop processing the request and set Result-Code in Configuration Information Answer to DIAMETER_UNABLE_TO_COMPLY.\nIf the HSS detects that configuration data provided by a Monitoring-Event-Configuration are overwritten by a CIR command and both configurations were initiated by the same SCEF, the HSS shall include in the CIA command the Monitoring Event Report AVP including the SCEF Reference ID and SCEF Reference ID for Deletion of the overwritten configuration data.\nIf the HSS needs to report loss of connectivity it shall include the Monitoring-Type AVP set to \"LOSS_OF_CONNECTIVITY\" in the Monitoring Event Report. In addition, the HSS may also include the Loss-Of-Connectivity-Reason AVP in the Monitoring Event Report.\nFor the \"CHANGE_OF_IMSI_IMEI(SV)_ASSOCIATION\" event type, if there was no previous IMEI(SV) information stored in the HSS, and a new IMEI(SV) is received from the MME/SGSN, this is equivalent to a change of IMEI(SV) and the corresponding event shall be reported, by setting the \"IMEI\" flag (bit 0) in the IMEI-Change AVP, as described in clause 8.4.22.\nFor the \"ROAMING_STATUS\" event type, if there was no previous roaming status information stored in the HSS, and a certain PLMN ID value is received from the MME/SGSN, this is equivalent to a change of roaming status and the corresponding event shall be reported.\nIf the SCEF indicates the support of Monitoring event feature to the HSS and the HSS supports Monitoring. The HSS shall include the Supported-Services AVP with the Supported-Monitoring-Events AVP indicating the authorized monitoring events for the requesting SCEF in the CIA command.\nIf CIR message includes multiple SCEF Reference ID and one, several or all SCEF Reference ID Monitoring events cannot be handled, or fail to be configured at the registered serving node(s), the HSS shall report all SCEF Reference ID requested to the SCEF with an appropriate Experimental-Result-Code or Result-Code in the Monitoring-Event-Config-Status AVP(s).\nNOTE:\tIn order to avoid reattempts from the SCS/AS when some configuration failed at the serving node(s), based on operator's choice, the HSS can still store the configuration data, return a successful response to SCEF and report the SCEF with monitoring event(s) suspended. The configuration data can then be forwarded whenever traffic is received from MME/SGSN and event(s) can be reported to SCEF as resumed, as described in clause 7.2.2.\nIf a CIR message includes multiple SCEF Reference ID and for a SCEF Reference ID at least one CP parameter set cannot be handled, the HSS shall reply within the AESE-Communication-Pattern-Config-Status all SCEF Reference ID requested to the SCEF with an appropriate Experimental-Result-Code or Result-Code.\nIf an SCEF Reference ID received in a CIR command match with an SCEF Reference ID stored in the HSS and both SCEF Reference ID are provided by the same SCEF ID, the HSS shall delete the stored CP sets associated with the SCEF reference Id and store the new CP set(s).\nIf the CIR message contains combinations of monitoring events and CP parameter set it shall handle each set belonging to an SCEF Reference ID separately and shall send a combined answer to the SCEF with all SCEF Reference IDs requested.\nIf the SCEF Reference ID for Deletion is present, the receiving node shall delete the corresponding configuration, if stored.\nIf the SCEF Reference ID is present, the receiving node shall store the configuration event.\nIF the CIR message contains the CIR-Flags with delete all monitoring events, the HSS shall delete all Monitoring events configured by the SCEF for the subscriber. This includes forwarding the deletion to involved serving nodes. In this case the CIR message shall not contain new monitoring events.\nIf the CIR message contains the CIR-Flags with delete all communication pattern, and the feature Config-Eff-CP is supported, the HSS shall delete all Communication Pattern configured by the SCEF for the subscriber. This includes forwarding the deletion to involved serving nodes. In this case the CIR message shall not contain new communication pattern.\nIf the CIR message contains the CIR-Flags with delete all network parameter configurations, and the feature Config-Eff-NP is supported, the HSS shall delete all Suggested Network Configurations configured by the SCEF for the subscriber. This includes the updating of involved serving nodes. In this case the CIR message shall not contain new network parameter configurations.\nIf the CIR command contains the CIR-Flags AVP with the bit for Enhanced Coverage Query set, the HSS shall return the current settings of Enhanced Coverage together with the current Serving PLMN-ID (if any) in the CIA command.\nIf the CIR command contains Enhanced-Coverage-Restriction AVP, the HSS shall update the subscription data for Enhanced Coverage; the update shall be a complete replacement of any stored information with the received information. This may result in the need to update the MME/SGSN via S6a/d/MAP-Gr with the new value for access restriction; there is however no need for the HSS to delay sending of CIA until updates of serving nodes are confirmed.\nIf the CIR command contains Suggested-Network-Configuration AVP to update a previous Suggested Network Configuration (i.e. the SCEF Reference ID matches with an SCEF Reference ID stored in the HSS and both SCEF Reference IDs are provided by the same SCEF ID), the HSS shall check whether the suggested parameters are acceptable, and if so, update the stored UE's subscription parameters accordingly. The update shall be a complete replacement of any stored information with the received information. This may result in Insert Subscriber Data Signalling towards the UE's serving node. If the HSS modifies parameters received in Suggested-Network-Configuration AVP, the HSS shall inform the SCEF about the active parameters. When the HSS did not modify parameters received in the Suggested-Network-Configuration AVP, the HSS shall return a Suggested-Network-Configuration AVP to the SCEF in CIA containing only SCEF Reference ID and SCEF-ID.\nIf a Monitoring-Event-Report is included in a CIA command and the Monitoring-Event-Report is related to a One-time Monitoring event request, the HSS shall delete the related Monitoring event for the UE or the individual group member UE locally after sending the Monitoring-Event-Report.\nIf the subscribed periodic RAU/TAU Timer, Active Time, Suggested number of downlink packets, or any combinatio was previously set by a different SCEF requests including the Monitoring-Event-Configuration AVP(s) or Suggested-Network-Configuration AVP identified by a different SCEF Reference ID for the same UE, the HSS shall accept the request as follows:\n-\tIf the newly received the value of the Maximum-Detection-Time AVP or the Maximum-Latency AVP within the Monitoring-Event-Configuration AVP(s) or the value of the Subscribed-Periodic-RAU-TAU-Timer AVP within the Suggested-Network-Configuration AVP is lower than the provided subscribed periodic RAU/TAU timer, the HSS shall set the subscribed periodic RAU/TAU timer using the newly received value.\n-\tIf the newly received the value of Maximum-Response-Time AVP within the Monitoring-Event-Configuration AVP(s) or the value of the Active-Time AVP within the Suggested-Network-Configuration AVP is higher than the provided subscribed Active Time (i.e. previously provided Maximum Response Time), the HSS shall set the subscribed Active Time using the newly received value.\n-\tIf the DL-Buffering-Suggested-Packet-Count AVP is newly received within the Monitoring-Event-Configuration AVP(s) or Suggested-Network-Configuration AVP, the HSS shall set the subscribed Suggested number of downlink packets by adding the newly received value to the currently used value of Suggested number of downlink packets if the aggregated value is within the operator defined range. If the aggregated value is not within the operator defined range, the HSS shall set the subscribed Suggested number of downlink packets according to operator defined range.\nWhen the SCEF receives Monitoring-Event-Report AVP from the HSS in CIA command, it shall handle it according to the procedures defined in 3GPP TS 23.682 [2].\nWhen the SCEF receives an AESE-Communication-Pattern-Config-Status AVP from the HSS in a CIA command, it shall handle it according to the procedures defined in 3GPP TS 23.682 [2]. If the SCEF has included a number of CP pattern sets with several SCEF reference IDs in the request, it shall handle each AESE-Communication-Pattern-Config-Status AVP separately according to the procedures defined in 3GPP TS 23.682 [2].\nIf the SCEF receives Supported-Services AVP(s), it shall only trigger those services which are supported and authorized by the HSS and the MME/SGSN.\nThe SCEF shall store the Supported-Services received from the HSS and modify them, if the HSS reports change of capabililities.\nNOTE:\tIt depends on SCEF implementation, if the SCEF triggers only those services which are supported in both nodes when the UE is registered in both the MME and the SGSN.\nWhen the SCEF needs to query the current settings of Enhanced Coverage Restriction, it shall send a CIR command to the HSS with the corresponding bit in the CIR-Flags AVP set, unless the SCEF knows that Enhanced Coverage Restriction Control is not supported by the HSS.\nWhen the SCEF needs to update the current settings of Enhanced Coverage Restriction, it shall send a CIR command to the HSS with the new values for Enhanced Coverage Restriction within the Enhanced-Coverage-Restriction AVP.\nThe SCEF shall not query and update the current settings of Enhanced Coverage Restriction by means of a single CIR command.\nWhen the SCEF receives Suggested-Network-Configuration AVP from the HSS in CIA command, it shall handle it according to the procedures defined in 3GPP TS 23.682 [2]. Absence of Suggested-Network-Configuration AVP from CIA -  while it was present in CIR – indicates that the HSS does not support and has ignored the Suggested-Network-Configuration received in CIR.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.2.1.1-1: Configuration Information Request",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 7.2.1.1-2: Configuration Information Answer",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.2.2\tReporting on S6t",
                            "text_content": "This procedure is used between the HSS and the SCEF.\nWhen the procedure is invoked by the HSS, it is used for reporting:\n-\tThe change of association of the UE and UICC and/or new IMSI-IMEI-SV;\n-\tThe UE reachability for SMS;\n-\tThe Roaming status (Roaming or No Roaming) of the UE, and change in roaming status of the UE.\nIt is also used:\n-\tTo update the SCEF with the suspend/resume/cancel status of an ongoing monitoring.\n-\tTo update the SCEF with information about removal of Communication Pattern.\n-\tTo convey reports and/or status indications and/or network parameter configurations for all or some UEs belonging to a group.\n-\tTo update the SCEF about changes in previously accepted Network Parameter Configuration(s) due to a new CIR command.\nThis procedure is mapped to the commands Reporting-Information-Request/Answer in the Diameter application specified in clause 8. The tables 7.2.2.1-1 and 7.2.2.1-2 detail the involved information elements.\nTable 7.2.2.1-1: Reporting Information Request\n\nTable 7.2.2.1-2: Reporting Information Answer\n\nIn the following clauses (7.2.2.2 and 7.2.2.3), if the feature \"Extended Reference IDs\" (see clause 8.4.23.1) is supported by the SCEF and the HSS, the term \"SCEF Reference ID\" shall refer to the content of the 64-bit long \"SCEF-Reference-ID-Ext\" AVP, and the term \"SCEF Reference ID for Deletion\" shall refer to the content of the 64-bit long \"SCEF-Reference-ID-for-Deletion-Ext\" AVP.\nFor group-based configuration processing, if the Group Guard Timer was included in the CIR command, the HSS shall send the RIR command before the Group Guard Timer expires and shall include several reports and/or status indications in one or more Group Report AVPs.\nNOTE:\tThe HSS may divide the accumulated Monitoring Configuration Indications/immediate reports into multiple messages.\nThe HSS shall send immediate reports and/or status indications (for Monitoring Event Configurations) and/or Network Parameter Configurations (for Suggested Network Configurations) for group-based configuration processing using the Group-Report.\nIf the HSS knows that it has additional RIR commands to send for the same group, the HSS shall include the RIR-Flags AVP with the Group-Configuration-In-Progress bit set and restart the Group Guard Timer to the value it originally received in the CIR.\nFor group based configuration processing, if the MME/SGSN previously indicated that it does not support the External-Identifier in the ULR command and the UE does not have an MSISDN configured as part of its subscription data, the HSS shall indicate that the UE is absent by setting the relevant bit in the S6t-HSS-Cause IE of the Group Report-Item AVP.\nIf the HSS detects that configuration data provided by a Monitoring-Event-Configuration are overwritten by a new CIR command and the configurations were initiated by different SCEFs, the HSS shall initiate an RIR command and include a Monitoring-Event-Report AVP including the SCEF Reference ID and SCEF Reference ID for Deletion of the overwritten configuration data.\nIf the HSS updates a previously accepted Network Parameter Configuration(s), e.g. Active Time is updated due to several SCS/AS suggesting different values for the same network parameter(s) for the same UE (see 3GPP TS 23.682 [2], clause 5.6.1.4), the HSS may initiate a RIR command providing the SCEF Reference ID of the previous Network Parameter Configurations and include the Updated-Network-Configuration AVP including only those parameter configuration(s) which have been updated and are being applied in the network.\nIf the HSS detects that suggested network configuration data provided by a Configuration Information Request are overwritten by a new CIR command and the configurations were initiated by different SCEFs, the HSS shall initiate an RIR command and include a Monitoring-Event-Report AVP including the SCEF Reference ID and SCEF Reference ID for Deletion of the overwritten configuration data.\nIf the Monitoring-Event-Report is related to a One-time Monitoring event request, the HSS shall delete the related Monitoring event for the UE or the individual group member UE locally after sending the Monitoring-Event-Report. This HSS response will be performed immediately when the event does not involve direct interaction with the serving node.\nIf UE Reachability is reported, a Maximum-UE-Availability-Time AVP may also be present in the report.\nIf the HSS detects that the serving node does not support or does not activate (as indicated in IDA or NOR commands) a Monitoring event, or if the UE is part of a group and requires the External-Identifier to be supported by the serving node when it does not, it shall send to the SCEF, an RIR command with the Event-Handling AVP with the value SUSPEND.\nIf an HSS detects that in the new serving node an event to be activated is supported which was not supported in the old serving node or if the HSS detects that the new serving node supports the External-Identifier for a UE that is part of a group and requires the External-Identifier which was not supported in the old serving node, it shall send an RIR command with the Event-handling AVP with the value RESUME to the SCEF.\nIf the HSS receives a Notify Request from the MME/SGSN to inform the Monitoring-Event-Config-Status at the IWK-SCEF, the HSS shall send an RIR command to the SCEF, for the monitoring event configurations not accepted by the IWK-SCEF, with the Event-Handling AVP set to the value CANCEL.\nIf the HSS receives a Notify Request from the MME/SGSN to inform that monitoring event configuration(s) no longer exist in the SCEF (DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN in Monitoring-Event-Config-Status), the HSS shall locally delete the monitoring event configuration(s) and shall skip the sending of a RIR command to the SCEF.\nIf the HSS receives the DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN within an RIA command, it shall delete the event stored for the indicated SCEF Reference ID (see 3GPP TS 23.007 [19]).\nIf the Supported-Services of the SGSN and/or MME have been previously reported to the SCEF, an the HSS detects that they have changed from a previous report, the HSS shall report all the Supported-Services AVP(s) to the SCEF with the corresponding Node-Type AVP (e.g. HSS, MME) If the services supported and authorized by the HSS are the same than those supported by the serving node(s), the Node-Type AVP shall be absent.\nIf a subscriber is barred/un-barred for services relevant to an active monitoring, the HSS shall send an RIR command to the SCEF with the Event-Handling AVP set to the value SUSPEND/RESUME.\nNOTE:\tWhen there is an HSS-initiated detach (e.g. due to MM interaction) or when the subscriber is purged in registered serving node(s) while monitoring is active, the sending of a RIR command to the SCEF is not needed since it is assumed that any SCS/AS requiring to be notified when this event is detected has configured monitoring event Loss of connectivity as specified in 3GPP TS 23.682 [2], clause 5.6.8.2.\nIf authorization for one or more events is granted or revoked for an SCEF and the Report-Eff-MONTE is supported by HSS and SCEF, the HSS shall send RIR command with RIR-flags indicating that authorization has changed for one or more events. The Supported-Monitoring-Events AVP shall indicate the authorized or revoked authorization for each event.\nWhen a subscriber or when the monitoring identity (i.e. External Identifier or MSISDN) is deleted from the HSS while monitoring is active or the authorization for monitoring is revoked or a group-based monitoring is partially cancelled for a subscriber or part of subscribers who belongs to the group, if Event Cancellation Report feature is supported by SCEF and HSS and Report-Eff-MONTE feature is not supported by SCEF or HSS, the HSS shall send an RIR command to the SCEF with the Event-Handling AVP set to the value CANCEL. If the RIR command is triggered by partially cancelling of group-based monitoring, the S6t-HSS-Cause IE shall be set to \"Group Event Monitoring Partially Cancel\". If the HSS and SCEF support the Report-Eff-MONTE feature, the HSS shall make use of RIR-flags AVP for a given User-Identity and no Monitoring-Event-Report AVP(s) shall be included.\nWhen a subscriber is deleted from the HSS or the authorization for communication pattern is revoked while communication pattern are configured, and the Config-Eff-CP feature is supported by SCEF and HSS, the HSS shall make use of the RIR-flag \"All-Communication-Pattern-Cancelled\" to indicate removal of Communication Pattern for a given User-Identity.\nWhen the SCEF receives a Reporting Information Request from the HSS, and at least one of the received Monitoring Event Reports has a SCEF-Reference-ID not known by the SCEF, it shall reply with DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN (see 3GPP TS 23.007 [19]). In that case, if the HSS had included multiple Monitoring Event Reports in the RIR command, the SCEF shall include in the Reporting Information Answer command a list of Monitoring-Event-Report-Status AVPs where the status of multiple monitoring event reports is detailed. In that AVP list, the AVPs corresponding to event reports with a successful status may be omitted by the SCEF, for efficiency.\nOtherwise when the SCEF receives a Reporting Information Request from the HSS, the SCEF shall set Experimental-Result to DIAMETER_SUCCESS in the Reporting Information Answer and shall handle it according to the procedures defined in 3GPP TS 23.682 [2].\nIf the SCEF receives RIR command with the Event-Handling AVP set to SUSPEND it shall either notify the SCS/AS that the event is not active or initiate deletion of the event depending on operator configuration.\nIf the SCEF receives a RIR command with the Event-Handling AVP set to CANCEL it shall delete the event.\nIf the SCEF supports Report-Eff-MONTE feature and receives a RIR command with RIR-flags indicating that its authorization has changed for one or more events, it shall consider all events indicated in Supported-Monitoring-Events AVP as cancelled and shall delete the events for all associated UEs.\nEditor's Note: The usage of Retry-After timer is FFS.\nIf the SCEF receives RIR command with the Event-Handling AVP set to RESUME it shall notify the SCS/AS that the event is activated in serving node.\nIf the SCEF receives a Reporting Information Request from the HSS with the Monitoring-Type AVP set to LOSS_OF_CONNECTIVITY, it shall interpret this as the reporting of loss of connectivity of the UE.\nIf the monitoring is not for One-time monitoring request (i.e. Maximum Number of Reports was configured with a value higher than one), on receiving Monitoring event reports for a Continuous Monitoring Request for an individual UE, the SCEF shall check whether the number of reports for this Monitoring event type reaches the configured maximum number of reports. When the reports reach the configured maximum number, the SCEF shall send CIR message to the HSS to delete the corresponding Monitoring Event Configuration for an individual UE, with the SCEF Reference ID for Deletion set to the related SCEF Reference ID.\nNOTE:\tFor One-Time report, the HSS/MME/SGSN/SCEF will locally delete the event after the first report is received at the SCEF. For continuous monitoring, the HSS/MME/SGSN, as an implementation option, can delete the monitoring event if it is ensured that the SCEF has received the configured maximum number of reports (if present) for the associated event type, regardless of the Monitoring Duration. However, the CIR message to delete the corresponding Monitoring Event Configuration is always required to ensure network consistency.\nOn receiving Monitoring event reports for a One-Time event for a group of UEs (i.e. External Group Identifier), the SCEF shall check whether it has received the reports for all individual group member UEs for this Monitoring event by using the total number of individual group member UE(s) (e.g. External Identifier or MSISDN) received in the reports and the number of UEs originaly received within the Number-of-UEs AVP from the HSS. When the reports for all individual group member UEs have been received, the SCEF shall determine that reporting for this group is complete and send the CIR message to the HSS to delete the corresponding Monitoring Event Configuration, with the SCEF Reference ID for Deletion set to the related SCEF Reference ID.\nOn receiving Monitoring event reports for a Continuous Monitoring Request for a group of UEs (i.e. External Group Identifier), the SCEF shall check whether the reports of each individual group member UE have reached the configured maximum number of reports by using the total number of individual group member UE(s) (e.g. External Identifier or MSISDN) received in the reports and the number of UEs originally within the Number-of-UEs AVP from the HSS. If the received Monitoring event reports indicate partially cancelling of group-based monitoring for certain UE(s) in the group and Maximum Number of Reports is configured for the monitoring, the SCEF shall set the stored number of reports of the indicated UE(s) to Maximum Number of Reports. When reports of each individual group member UE have reached the configured maximum number of reports, the SCEF shall determine that reporting for this group is complete and send the CIR message to the HSS to delete the corresponding Monitoring Event Configuration, with the SCEF Reference ID for Deletion set to the related SCEF Reference ID.\nIf the HSS reports change of Supported-Services, the SCEF shall replace the stored Supported-Service by the received ones. The SCEF shall only trigger those services which are supported and authorized by the HSS and the MME/SGSN.\nIf the SCEF receives the RIR command with the Group-Configuration-In-Progress bit of the RIR-Flags AVP set, the SCEF shall restart the associated Group Reporting Guard Timer.\nNOTE:\tThe SCEF needs to be prepared to receive RIR for Group based configuration processing before the Group Reporting Group Timer expires.\nIf the SCEF receives a Monitoring Event Report AVP with the SCEF Reference ID for Deletion, it shall initate cancelation of the Monitoring event identified by the SCEF Reference ID for Deletion in the Monitoring Event Report AVP.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.2.2.1-1: Reporting Information Request",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 7.2.2.1-2: Reporting Information Answer",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.2.3\tNIDD Information on S6t",
                            "text_content": "This procedure is used between the SCEF and the HSS for:\n-\tthe authorization of the UE or group of UEs for NIDD.\nThis procedure is used between the HSS and the SCEF for:\n-\tthe update/revocation of a UE's authorization for NIDD,\n-\tsending of group user identifier list segments.\nThis procedure is mapped to the commands NIDD-Information-Request/Answer in the Diameter application specified in clause 8. The tables 7.2.3.1-1 and 7.2.3.1-2 detail the involved information elements.\nTable 7.2.3.1-1: NIDD Information Request\n\nTable 7.2.3.1-2: NIDD Information Answer\n\nWhen the NIDD Information Request is received from the SCEF, the HSS shall, in the following order:\n1.\tCheck that the User Identity for whom data is asked exists in HSS. If not, Experimental-Result shall be set to DIAMETER_ERROR_USER_UNKNOWN in the NIDD Information Answer.\n2.\tCheck that the requested service is authorized for the UE. If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_SERVICE (5511) in the NIDD Information Answer.\n2a.\tIf the MTC Provider Information is received, check if the MTC Provider ID is authorized for the UE or the group of UEs. If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_MTC_PROVIDER (5516) in the NIDD Information Answer.\n3.\tCheck that the APN sent in the Service-Selection AVP of the NIDD-Authorization-Request AVP is subscribed for the subscriber identified by the given MSISDN or the External Identifier. If it is not subscribed, then the Experimental-Result shall be set to DIAMETER_ERROR_USER_NO_APN_SUBSCRIPTION (5451) in the NIDD Information Answer.\n4.\tIf the User-Identifier contains an External Identifier, the HSS shall include the IMSI and if available the MSISDN associated with the appropriate External Identifier in the NIDD-Authorization-Response.\n5.\tIf the User-Identifier contains an MSISDN, the HSS shall include the IMSI and if available, the appropriate External Identifier associated with the MSISDN in the NIDD-Authorization-Response.\n6.\tIf the User-Identifier contains an IMSI the HSS shall include the MSISDN and the appropriate External Identifier assigned to the IMSI in the NIDD-Authorization-Response.\n6a.\tIf the User-Identifier contains an External Group Identifier, the HSS shall include the IMSI and the MSISDN or External-Identifier assigned to each member of the group in the Group-User-Identifier. If due to message size constraints or timing constraints (NIA timeout) the complete list of group user identifier cannot be sent, the HSS shall segment the list, include the first segment in NIA and set the NIA-Flag \"Incomplete Group User Identifier List\", and send subsequent segments with separate NIR commands to the SCEF.\n7.\tIf the requested service is NIDD Authorization request and the feature \"NIDD Authorization Update\" is commonly supported by HSS and SCEF, the HSS shall store the granted NIDD Authorization in order to being able to update/revoke the Authorization towards the SCEF when so needed. The HSS may indicate within the NIDD-Authorization-Response AVP a granted validity time which shall not be later than the requested validity time as received within the NIDD-Authorization-Request AVP (if any). If so the HSS shall delete the stored Authorization at the indicated point in time.\nNOTE 1:\tIf several External Identifiers are mapped to one IMSI, some functions might not work in this release of the specification.\nNOTE 2:\tStep 6 above is applicable for the case where the SCEF receives a T6a/b-CMR (see 3GPP TS 29.128 [24]) command while a valid NIDD configuration does not exist for the UE at the SCEF.\nIf there is an error in any of the above steps then the HSS shall stop processing and return the error code specified in the respective step.\nIf the HSS cannot fulfil the received request for reasons not stated in the above steps (e.g. due to a database error), it shall stop processing the request and set Result-Code to DIAMETER_UNABLE_TO_COMPLY. Otherwise the Result-Code shall be set to DIAMETER_SUCCESS.\nWhen the need to update/revoke one or several stored granted NIDD Authorizations for a user is detected in the HSS, and the feature \"NIDD Authorization Update\" is commonly supported by the HSS and the SCEF, the HSS shall issue an NIDD-Information Request command containing a NIDD-Authorization-Update AVP towards the SCEF. The NIDD-Authorization-Update AVP may identify several granted NIDD Authorizations for the user to be updated.\nWhen the SCEF receives an NIDD-Authorization-Response AVP from the HSS in a NIA command, it shall handle it according to the procedures defined in 3GPP TS 23.682 [2]. If the feature \"NIDD Authorization Update\" is commonly supported by the HSS and the SCEF, and a granted validity time was received within the NIDD-Authorization-Response, the SCEF shall consider the authorization being implicitly revoked at the indicated time, and may issue a new NIDD Authorization request towards the HSS.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.2.3.1-1: NIDD Information Request",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 7.2.3.1-2: NIDD Information Answer",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "8\tProtocol Specification for S6t",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "8.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "8.1.1\tUse of Diameter Base Protocol",
                            "text_content": "The Diameter base protocol as specified in IETF RFC 6733 [23] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as specified in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.2\tSecuring Diameter Messages",
                            "text_content": "For secure transport of Diameter messages, see 3GPP TS 33.210 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.3\tAccounting Functionality",
                            "text_content": "Accounting functionality (Accounting Session State Machine, related command codes and AVPs) shall not be used on the S6t interface.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.4\tUse of Sessions",
                            "text_content": "The client (server) shall include in its requests (responses) the Auth-Session-State AVP set to the value NO_STATE_MAINTAINED (1), as described in IETF RFC 6733 [23]. As a consequence, the server shall not maintain any state information about this session and the client shall not send any session termination request. Neither the Authorization-Lifetime AVP nor the Session-Timeout AVP shall be present in requests or responses.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.5\tTransport Protocol",
                            "text_content": "Diameter messages over the S6t interface shall make use of SCTP IETF RFC 4960 [5] as transport protocol.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.6\tRouting Considerations",
                            "text_content": "This clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host.\nIf the SCEF knows the address/name of the HSS for a certain user, both the Destination-Realm AVP and the Destination-Host AVP shall be present in the request. Otherwise, only the Destination-Realm AVP shall be present and the command shall be routed to the next Diameter node. Consequently, the Destination-Host AVP is declared as optional in the ABNF for all requests initiated by the SCEF.\nAs the HSS knows the address/name and the associated home network domain name of the SCEF to which it sends RIR and NIR commands from a previously received CIR command, both the Destination-Realm and Destination-Host AVPs shall be present in request commands sent by the HSS to the SCEF.\nDestination-Realm AVP is declared as mandatory in the ABNF for all requests.\nIf the Vendor-Specific-Application-ID AVP is received in any of the commands, it may be ignored by the receiving node, and it shall not be used for routing purposes.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.7\tAdvertising Application Support",
                            "text_content": "The HSS and the SCEF shall advertise support of the Diameter S6t Application by including the value of the application identifier in the Auth-Application-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe vendor identifier value of 3GPP (10415) shall be included in the Supported-Vendor-Id AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands, and in the Vendor-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe Vendor-Id AVP included in Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands that is not included in the Vendor-Specific-Application-Id AVPs as described above shall indicate the manufacturer of the Diameter node as per IETF RFC 6733 [23].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.8\tDiameter Application Identifier",
                            "text_content": "The S6t interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the S6t interface application is 16777345 (allocated by IANA).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.9\tUse of the Supported-Features AVP",
                            "text_content": "When new functionality is introduced on the S6t application, it should be defined as optional. If backwards incompatible changes cannot be avoided, the new functionality shall be introduced as a new feature and support advertised with the Supported-Features AVP. The usage of the Supported-Features AVP on the S6t application is consistent with the procedures for the dynamic discovery of supported features as defined in clause 7.2 of 3GPP TS 29.229 [7].\nWhen extending the application by adding new AVPs for a feature, the new AVPs shall have the M bit cleared and the AVP shall not be defined mandatory in the command ABNF.\nAs defined in 3GPP TS 29.229 [7], the Supported-Features AVP is of type grouped and contains the Vendor-Id, Feature-List-ID and Feature-List AVPs. On the all reference points as specified in this specification, the Supported-Features AVP is used to identify features that have been defined by 3GPP and hence, for features defined in this document, the Vendor-Id AVP shall contain the vendor ID of 3GPP (10415). If there are multiple feature lists defined for the reference point, the Feature-List-ID AVP shall differentiate those lists from one another.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.1.10\tUser Identity to HSS resolution",
                            "text_content": "The User identity to HSS resolution mechanism enables the SCEF to find the identity of the HSS that holds the subscription data for the target user when multiple and separately addressable HSSs have been deployed in the home network. The resolution mechanism is not required in networks that utilise a single HSS.\nThis User identity to HSS resolution mechanism may rely on routing capabilities provided by Diameter and be implemented in the home operator network within dedicated Diameter Agents (Redirect Agents or Proxy Agents) responsible for determining the HSS identity based on the provided user identity (e.g. external identifiers provided by the SCEF).\nWhen the Diameter Load Control mechanism is supported (see IETF RFC 8583 [22]), load values from previously received Load AVPs of type HOST may be taken into account when determining the HSS identity.\nNOTE:\tAlternatives to the user identity to HSS resolution Diameter based implementation are outside the scope of this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "8.2\tCommands",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "8.2.1\tIntroduction",
                            "text_content": "This clause defines the Command code values and related ABNF for each command described in this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.2.2\tCommand-Code values",
                            "text_content": "This clause defines Command-Code values for the S6t interface application as allocated by IANA.\nEvery command is defined by means of the ABNF syntax IETF RFC 5234 [9], according to the Command Code Format (CCF) specification defined in IETF RFC 6733 [23]. When the definition and use of an AVP is not specified in this document, the guidelines in IETF RFC 6733 [23] shall apply.\nThe Vendor-Specific-Application-Id AVP shall not be included in any command sent by Diameter nodes supporting applications defined in this specification. If the Vendor-Specific-Application-Id AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node.\nNOTE:\tThe Vendor-Specific-Application-Id is included as an optional AVP in all Command Code Format specifications defined in this specification in order to overcome potential interoperability issues with intermediate Diameter agents non-compliant with the IETF RFC 6733 [23].\nThe following Command Codes are defined in this specification for S6t:\nTable 8.2.2-1: Command-Code values for S6t\n\nFor these commands, the Application-ID field shall be set to 16777345 (application identifier of the S6t interface application, allocated by IANA).\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.2.2-1: Command-Code values for S6t",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.2.3\tConfiguration Information Request (CIR) Command",
                            "text_content": "The Configuration Information Request (CIR) command, indicated by the Command-Code field set to 8388718 and the \"R\" bit set in the Command Flags field, is sent from the SCEF to the HSS.\nMessage Format:\n< Configuration-Information-Request > ::=\t< Diameter Header: 8388718, REQ, PXY, 16777345 >\n< Session-Id >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Identifier }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n*[ Monitoring-Event-Configuration ]\n[ CIR-Flags ]\n*[ AESE-Communication-Pattern ]\n[ Enhanced-Coverage-Restriction ]\n[ Group-Reporting-Guard-Timer ]\n[ AdditionalIdentifiers ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n[ Suggested-Network-Configuration ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.2.4\tConfiguration-Information-Answer (CIA) Command",
                            "text_content": "The Configuration-Information-Answer (CIA) command, indicated by the Command-Code field set to 8388718 and the \"R\" bit cleared in the Command Flags field, is sent from the HSS to the SCEF.\nMessage Format:\n< Configuration-Information-Answer > ::=\t< Diameter Header: 8388718, PXY, 16777345 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n[ User-Identifier ]\n[ Number-of-UEs ]\n*[ Monitoring-Event-Report ]\n*[ Monitoring-Event-Config-Status ]\n*[ AESE-Communication-Pattern-Config-Status ]\n*[ Supported-Services ]\n[ S6t-HSS-Cause ]\n[ Enhanced-Coverage-Restriction-Data ]\n[ CIA-Flags ]\n*[ IMSI-Group-Id]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n[ Suggested-Network-Configuration ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.2.5\tReporting-Information-Request (RIR) Command",
                            "text_content": "The Reporting-Information-Request (RIR) command, indicated by the Command-Code field set to 8388719 and the \"R\" bit cleared in the Command Flags field, is sent from the HSS to the SCEF.\nMessage Format:\n< Reporting-Information-Request > ::=\t< Diameter Header: 8388719, PXY, 16777345 >\n< Session-Id >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n*[ Supported-Features ]\n[ User-Identifier ]\n*[ Monitoring-Event-Report ]\n*[ Group-Report ]\n[ Updated-Network-Configuration ]\n[ RIR-Flags ]\n*[ Supported-Services ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.2.6\tReporting-Information-Answer (RIA) Command",
                            "text_content": "The Reporting-Information-Answer (RIA) command, indicated by the Command-Code field set to 8388719 and the \"R\" bit cleared in the Command Flags field, is sent from the HSS to the SCEF.\nMessage Format:\n< Reporting-Information-Answer > ::=\t< Diameter Header: 8388719, PXY, 16777345 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ Supported-Features ]\n*[ Monitoring-Event-Report-Status ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.2.7\tNIDD Information Request (NIR) Command",
                            "text_content": "The NIDD Information Request (NIR) command, indicated by the Command-Code field set to 8388726 and the \"R\" bit set in the Command Flags field, is sent from the SCEF to the HSS. It may also be sent from the HSS to the SCEF when the feature \"NIDD Authorization Update\" is commonly supported by the HSS and the SCEF.\nMessage Format:\n< NIDD-Information-Request > ::=\t< Diameter Header: 8388726, REQ, PXY, 16777345 >\n< Session-Id >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Identifier }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n[ NIDD-Authorization-Request ]\n[ NIDD-Authorization-Update ]\n[ NIR-Flags ]\n*[ Group-User-Identifier ]\n[ MTC-Provider-Info ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.2.8\tNIDD-Information-Answer (NIA) Command",
                            "text_content": "The NIDD-Information-Answer (NIA) command, indicated by the Command-Code field set to 8388726 and the \"R\" bit cleared in the Command Flags field, is sent from the HSS to the SCEF. It may also be sent from the SCEF to the HSS when the feature \"NIDD Authorization Update\" is commonly supported by the HSS and the SCEF.\nMessage Format:\n< NIDD-Information-Answer > ::=\t< Diameter Header: 8388726, PXY, 16777345 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n[ NIDD-Authorization-Response ]\n*[ Group-User-Identifier ]\n[ NIA-Flags ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "8.3\tResult-Code AVP and Experimental-Result AVP Values",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "8.3.1\tGeneral",
                            "text_content": "This clause defines result code values that shall be supported by all Diameter implementations that conform to this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.3.2\tSuccess",
                            "text_content": "Result codes that fall within the Success category shall be used to inform a peer that a request has been successfully completed. The Result-Code AVP values defined in Diameter base protocol specified in IETF RFC 6733 [23] shall be applied.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.3.3\tPermanent Failures",
                            "text_content": "Errors that fall within the Permanent Failures category shall be used to inform the peer that the request has failed, and should not be attempted again. The Result-Code AVP values defined in Diameter base protocol specified in IETF RFC 6733 [23] shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.\nThis result code shall be sent by the HSS to indicate that the user identified by the IMSI, MSISDN, or External-Identifier is unknown. This error code is defined in 3GPP TS 29.229 [7].\nThis result code shall be sent by the HSS to indicate that the SCEF is not allowed to request the service.\nThis result code shall be sent by the HSS to indicate that the specific service requested by the SCEF is not allowed for an UE, or that it cannot be delivered according to the current subscribed services of the UE.\nThis result code shall be sent by the HSS to indicate that the specific service requested by the SCEF is not allowed for an UE, or that it cannot be delivered according to the current subscribed services of the UE.\nThis result code shall be sent by the HSS to indicate that the specific service requested by the SCEF could not be stored for an UE.\nThis result code shall be sent by the HSS to indicate that the requested deletion by the SCEF could not be performed for an UE because the event does not exist.\nThis result code shall be sent by the HSS to indicate that the APN is not authorized for an UE.\nThis result code shall be sent by the HSS to indicate that the MTC provider is not allowed to request the service.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "8.4\tAVPs",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "8.4.1\tGeneral",
                            "text_content": "The following table specifies the Diameter AVPs defined for the S6t interface protocol, their AVP Code values, types, possible flag values and whether or not the AVP may be encrypted. The Vendor-ID header of all AVPs defined in this specification shall be set to 3GPP (10415).\nFor all AVPs which contain bit masks and are of the type Unsigned32, bit 0 shall be the least significant bit. For example, to get the value of bit 0, a bit mask of 0x00000001 should be used.\nTable 8.4.1-1: S6t specific Diameter AVPs\n\nThe following table specifies the Diameter AVPs re-used by the S6t interface protocol from existing Diameter Applications, including a reference to their respective specifications and when needed, a short description of their use within S6t.\nAny other AVPs from existing Diameter Applications, except for the AVPs from Diameter base protocol specified in IETF RFC 6733 [23], do not need to be supported. The AVPs from Diameter base protocol specified in IETF RFC 6733 [23] are not included in table 8.4.1-2, but they may be re-used for the S6t protocol.\nTable 8.4.1-2: S6t re-used Diameter AVPs\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.1-1: S6t specific Diameter AVPs",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 8.4.1-2: S6t re-used Diameter AVPs",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.2\tMonitoring-Event-Configuration",
                            "text_content": "The Monitoring-Event-Configuration AVP is of type Grouped, and it contains the details of the monitoring event from the SCEF. At least SCEF-Reference-ID or one SCEF-Reference-ID-for-Deletion shall be present.\nAVP format:\nMonitoring-Event-Configuration ::=\t<AVP header: 3122 10415>\n[ SCEF-Reference-ID ]\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n{ Monitoring-Type }\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n[ Maximum-Number-of-Reports ]\n[ Monitoring-Duration ]\n[ Charged-Party ]\n[ Maximum-Detection-Time ]\n[ UE-Reachability-Configuration ]\n[ Location-Information-Configuration ]\n[ Association-Type ]\n[ DL-Buffering-Suggested-Packet-Count ]\n[ PLMN-ID-Requested ]\n[ MTC-Provider-Info ]\n[ PDN-Connectivity-Status-Configuration ]\n[ Exclude-Identifiers ]\n[ Include-Identifiers ]\n*[AVP]\nAt least one of the SCEF-Reference-ID or SCEF-Reference–ID-for-Deletion shall be present.\nThe Maximum-Number-of-Reports AVP, if present, shall contain the maximum number of event reports to be generated by the HSS, MME, or SGSN until the monitoring event configuration is considered to expire.\nThe Monitoring-Duration AVP, if present, shall contain the absolute time at which the monitoring event configuration is considered to expire.\nIf both Maximum-Number-of-Reports and Monitoring-Duration AVPs are present, the monitoring event configuration shall be considered to expire as soon as one of the conditions is met.\nIf both Maximum-Number-of-Reports and Monitoring-Duration AVPs are absent, the monitoring event configuration shall be considered as a one-time monitoring request (same behaviour as setting Maximum-Number-of-Reports to 1).\nMonitoring-Type shall only be taken into account in combination with SCEF-Reference-ID; Monitoring-Type AVP shall be ignored for deletion of an event (in combination with SCEF-Reference-ID-for-Deletion).\nThe details of how to handle expiration of Monitoring events is described in 3GPP TS 23.682 [2].\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively.\nWhen the \"Dynamic-Group-Event-Monitoring\" feature is supported by the HSS and SCEF, the Exclude-Identifiers AVP may be included to cancel the event monitoring for the listed UEs in a group for which there is a configured Monitoring Event, or the Include-Identifiers AVP may be included to create the event monitoring for the listed UEs in a group for which there is a configured Monitoring Event.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.3\tMonitoring-Event-Report",
                            "text_content": "The Monitoring-Event-Report AVP is of type Grouped, and it contains the information to be reported as requested by Monitoring-Event-Configuration.\nAVP format:\nMonitoring-Event-Report::=\t<AVP header: 3123 10415>\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n[ SCEF-ID ]\n[ SCEF-Reference-ID-for-Deletion ]\n[ SCEF-Reference-ID-for-Deletion-Ext ]\n[ Visited-PLMN-Id ]\n[ Roaming-Information ]\n[ IMEI-Change ]\n[ Terminal-Information ]\n[ Reachability-Information ]\n[ Reachability-Cause ]\n[ Maximum-UE-Availability-Time ]\n[ EPS-Location-Information ]\n[ Monitoring-Type ]\n[ Event-Handling ]\n*[ Service-Report ]\n[ Loss-Of-Connectivity-Reason ]\n[ Idle-Status-Indication ]\n*[ PDN-Connectivity-Status-Report ]\n*[AVP]\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.4\tSCEF-Reference-ID",
                            "text_content": "The SCEF-Reference-ID AVP is of type Unsigned32 and it shall contain the identifier provided by the SCEF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.5\tSCEF-ID",
                            "text_content": "The SCEF- ID AVP is of type DiameterIdentity and it shall contain the identity of the SCEF which has originated the service request towards the HSS, i.e. when sent within a Monitoring-Event-Configuration AVP in S6t-CIR, SCEF-ID AVP and Origin-Host AVP shall have the same value.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.6\tSCEF-Reference-ID-for-Deletion",
                            "text_content": "The SCEF-Reference-ID-for-Deletion AVP is of type Unsigned32 and it shall contain the SCEF-Reference-ID (in combination with the SCEF identified by the SCEF-ID) for the event to be deleted.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.7\tMonitoring-Type",
                            "text_content": "The Monitoring-Type AVP is of type Unsigned32 and shall identify the type of event to be monitored. The following values are defined:\nLOSS_OF_CONNECTIVITY (0)\nUE_REACHABILITY (1)\nLOCATION_REPORTING (2)\nCHANGE_OF_IMSI_IMEI(SV)_ASSOCIATION (3)\nROAMING_STATUS (4)\nCOMMUNICATION_FAILURE (5)\nAVAILABILITY_AFTER_DDN_FAILURE (6)\nNUMBER_OF_UES_PRESENT_IN_A_GEOGRAPHICAL_AREA (7)\nUE_REACHABILITY_AND_IDLE_STATUS_INDICATION (8)\nAVAILABILITY_AFTER_DDN_FAILURE_AND_IDLE_STATUS_INDICATION (9)\nPDN_CONNECTIVITY_STATUS (10)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.8\tMaximum-Number-of-Reports",
                            "text_content": "The Maximum-Number-of-Reports AVP is of type Unsigned32. It shall contain the number of reports to be generated and sent to the SCEF.\nThis AVP shall not be present when Monitoring-Type is AVAILABILITY_AFTER_DDN_FAILURE (6).\nThis AVP shall not be greater than one if:\n-\tMonitoring-Type is UE_REACHABILITY (1) and Reachability-Type is \"Reachability for SMS\" or\n-\tMonitoring-Type is LOCATION_REPORTING (2) and MONTE-Location-Type is LAST_KNOWN_LOCATION (1).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.9\tUE-Reachability-Configuration",
                            "text_content": "The UE-Reachability-Configuration AVP is of type Grouped, and it shall contain the details for configuration for UE reachability.\nAVP format:\nUE-Reachability-Configuration::=\t<AVP header: 3129 10415>\n[ Reachability-Type ]\n[ Maximum-Latency ]\n[ Maximum-Response-Time ]\n[ DL-Buffering-Suggested-Packet-Count ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.10\tMonitoring-Duration",
                            "text_content": "The Monitoring-Duration AVP is of typeTime. It shall contain the absolute time at which the related monitoring event request is considered to expire.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.11\tMaximum-Detection-Time",
                            "text_content": "The Maximum-Detection-Time AVP is of type Unsigned32. It shall contain the maximum number of seconds without any communication with the UE after which the SCEF is to be informed that the UE is considered to be unreachable. It is used to set the subscribed periodic RAU/TAU timer by the HSS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.12\tReachability-Type",
                            "text_content": "The Reachability-Type AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 8.4.12-1:\nTable 8.4.12-1: Reachability-Type\n\nThe default value, when this AVP is not included, is Reachability for SMS (bit 0 set).\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.12-1: Reachability-Type",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.13\tMaximum-Latency",
                            "text_content": "The Maximum-Latency AVP is of type Unsigned32. It shall contain the maximum acceptable delay time for downlink data transfer in seconds. It is used to set the subscribed periodic RAU/TAU timer by the HSS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.14\tMaximum-Response-Time",
                            "text_content": "The Maximum-Response-Time AVP is of type Unsigned32. It shall contain the maximum time in seconds for which the UE stays reachable. It is used to set the active time by the HSS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.15\tLocation-Information-Configuration",
                            "text_content": "The Location-Information-Configuration AVP is of type Grouped, and it contains the details for location reporting.\nAVP format:\nLocation-Information-Configuration::=\t<AVP header: 3135 10415>\n[ MONTE-Location-Type ]\n[ Accuracy ]\n[ Periodic-Time ]\n*[AVP]\nIf present, Periodic-Time contains the mimum periodic location reporting time.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.16\tMONTE-Location-Type",
                            "text_content": "The MONTE-Location-Type AVP is of type Unsigned32. It indicates the type of location information to be provided. The following values are defined:\nCURRENT_LOCATION (0)\nLAST_KNOWN_LOCATION (1)\nThe default value, when this AVP is not included, is LAST_KNOWN_LOCATION (1).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.17\tAccuracy",
                            "text_content": "The Accuracy AVP is of type Unsigned32. It shall indicate the requested accuracy. The following values are defined:\nCGI-ECGI (0)\neNB (1)\nLA-TA-RA (2)\nPRA(3)\nPLMN-ID (4)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.18\tAssociation-Type",
                            "text_content": "The Association-Type AVP is of type Unsigned32. It shall indicate the details of the event configuration related to the change of IMEI(SV)-IMSI association. The following values are defined:\nIMEI-CHANGE (0)\nThe event shall be reported if the association between IMSI and IMEI has changed; if only the Software Version (SV) has changed, no event shall be reported.\nIMEISV-CHANGE (1)\nThe event shall be reported if the association between IMSI and IMEI, or SV, or both, has changed (this includes the case where only the SV has changed).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.19\tRoaming-Information",
                            "text_content": "The Roaming-Information AVP is of type Unsigned32. It shall indicate the roaming status of the subscriber. The following values are defined:\nSUBSCRIBER_ROAMING (0)\nSUBSCRIBER_NOT_ROAMING (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.20\tReachability-Information",
                            "text_content": "The Reachability-Information AVP is of type Unsigned32. It shall indicate the reachability of the subscriber. The following values are defined:\nREACHABLE_FOR_SMS (0)\nREACHABLE_FOR_DATA (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.21\tEPS-Location-Information",
                            "text_content": "The EPS-Location-Information AVP is of type Grouped. It shall contain the information related to the user location relevant for EPS. It was originally defined in 3GPP TS 29.272 [49].\nAVP format:\nEPS-Location-Information ::=\t<AVP header: 1496 10415>\n[ MME-Location-Information ]\n[ SGSN-Location-Information ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.22\tIMEI-Change",
                            "text_content": "The IMEI-Change AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 8.4.22-1:\nTable 8.4.22-1: IMEI-Change\n\nWhen a change of IMEI(SV) is reported, the new IMEI(SV) values may be reported to the SCEF in the Terminal-Information AVP inside the Monitoring-Event-Report AVP (see clause 8.4.3).\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.22-1: IMEI-Change",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.23\tFeature-List AVP",
                            "text_content": "The syntax of this AVP is defined in 3GPP TS 29.229 [7].\nFor the S6t application, the meaning of the bits shall be as defined in table 8.4.23-1 for the Feature-List-ID.\nTable 8.4.23-1: Features of Feature-List-ID used in S6t\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.23-1: Features of Feature-List-ID used in S6t",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.24\tMonitoring-Event-Config-Status",
                            "text_content": "The Monitoring-Event-Config-Status AVP is of type Grouped, and it contains the details of the result of the handling of the Requested action for the Monitoring event.\nAVP format:\nMonitoring-Event-Config-Status::=\t<AVP header: 3142 10415>\n*[ Service-Report ]\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n[ SCEF-ID ]\n*[AVP]\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext AVP shall be used insted of SCEF-Reference-ID; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.25\tAESE-Communication-Pattern",
                            "text_content": "The AESE-Communication-Pattern AVP is of type Grouped, and it shall contain the details of the Communication-Pattern from the SCEF.\nAVP format\nAESE-Communication-Pattern ::= <AVP header: 3113 10415>\n[ SCEF-Reference-ID ]\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n*[ Communication-Pattern-Set ]\n[ MTC-Provider-Info ]\n*[ AVP ]\n\nAt least one reference ID (either in SCEF-Reference-ID or in SCEF-Reference-ID-Ext) or a reference ID for deletion (either in SCEF-Reference-ID-for-Deletion or in SCEF-Reference-ID-for-Deletion-Ext) shall be present.\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.26\tCommunication-Pattern-Set",
                            "text_content": "The Communication-Pattern-Set AVP is of type Grouped, and it shall contain a set of Communication-Pattern.\nAVP format\nCommunication-Pattern-Set ::= <AVP header: 3114 10415>\n[ Periodic-Communication-Indicator ]\n[ Communication-Duration-Time ]\n[ Periodic-Time ]\n*[ Scheduled-Communication-Time ]\n[ Stationary-Indication ]\n[ Reference-ID-Validity-Time ]\n[ Traffic-Profile ]\n[ Battery-Indicator ]\n*[ AVP ]\nCommunication-duration-time and Periodic-Time shall be only provided when the Periodic-Communication-Indicator is set to PERIODICALLY.\nIf the Reference-ID-Validity-Time AVP is absent, it indicates that there is no expiration time defined for the Communication-Pattern-Set.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.27\tPeriodic-Communication-Indicator",
                            "text_content": "The Periodic-communication-indicator AVP is of type Unsigend32. The following values are defined:\nPERIODICALLY (0)\nON_DEMAND (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.28\tCommunication-duration-time",
                            "text_content": "The Communication-duration-time AVP is of type Unsigned32 and shall provide the time in seconds of the duration of the periodic communication.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.29\tPeriodic-time",
                            "text_content": "Periodic-time AVP is of type Unsigned32 and shall provide the time in seconds of the interval for periodic communication.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.30\tScheduled-communication-time",
                            "text_content": "The Scheduled-communication-time AVP is of type Grouped.\nAVP format\nScheduled-communication-time ::= <AVP header: 3118 10415>\n[ Day-Of-Week-Mask ]\n[ Time-Of-Day-Start ]\n[ Time-Of-Day-End ]\n*[AVP]\nIf Day-Of-Week-Mask is not provided this shall be interpreted as every day of the week.\nIf Time-Of-Day-Start is not provided, starting time shall be set to start of the day(s) indicated by Day-Of-Week-Mask.\nIf Time-Of-Day-End is not provided, ending time is end of the day(s) indicated by Day-Of-Week-Mask.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.31\tStationary indication",
                            "text_content": "The Stationary-indication AVP are of type Unsigned32.\nSTATIONARY_UE (0)\nMOBILE_UE (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.32\tAESE-Communication-Pattern-Config-Status",
                            "text_content": "The AESE-Communication-Pattern-Config-Status AVP is of type Grouped, and it shall contain the details of the outcome of Communication-Pattern handling from the HSS.\n\nAVP format\nAESE-Communication-Pattern-Config-Status ::= <AVP header: 3120 10415>\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n[ SCEF-ID ]\n[ AESE-Error-Report ]\n*[AVP]\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext AVP shall be used insted of SCEF-Reference-ID; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.33\tAESE-Error-Report",
                            "text_content": "The AESE-Error-Report AVP is of type Grouped, and it contains the details of the Error occurred during handling of the Requested action for the Communication-Pattern-Set.\n\nAVP format\nAESE-Error-Report ::= <AVP header: 3121 10415>\n[ Service-Result ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.34\tMME-Location-Information",
                            "text_content": "The MME-Location-Information AVP is of type Grouped. It shall contain the information related to the user location relevant for the MME. It was originally defined in 3GPP TS 29.272 [49].\nAVP format\nMME-Location-Information ::= <AVP header: 1600 10415>\n[ E-UTRAN-Cell-Global-Identity ]\n[ Tracking-Area-Identity ]\n[ Current-Location-Retrieved ]\n[ Age-Of-Location-Information ]\n[ User-CSG-Information ]\n[ eNodeB-ID ]\n[ Extended-eNodeB-ID ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.35\tSGSN-Location-Information",
                            "text_content": "The SGSN-Location-Information AVP is of type Grouped. It shall contain the information related to the user location relevant for the SGSN. It was originally defined in 3GPP TS 29.272 [49].\nAVP format\nSGSN-Location-Information ::= <AVP header: 1601 10415>\n[ Cell-Global-Identity ]\n[ Service-Area-Identity ]\n[ Routing-Area-Identity ]\n[ Current-Location-Retrieved ]\n[ Age-Of-Location-Information ]\n[ User-CSG-Information ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.36\tUser-Identifier",
                            "text_content": "The User-Identifier AVP is of type Grouped and it contains the different identifiers used by the UE. This AVP is defined in clause 6.4.2. The AVP format for the S6t interface shall be as given below.\nAVP format:\nUser-Identifier ::= <AVP header: 3102 10415>\n[ User-Name ]\n[ MSISDN ]\n[ External-Identifier ]\n[ Type-Of-External-Identifier ]\n*[AVP]\nThis AVP shall contain one of the identifiers (IMSI, MSISDN or External-Identifier). The IMSI of the UE shall be included (when applicable) in the User-Name AVP.\nThe External-Identifier AVP may either contain the identity of an individual UE or the identity of a Group of UEs. The Type-Of-External-Identifier is used to indicate which type of identity is carried in the External-Identifier. When the Type-Of-External-Identifier is not present, it means the External-Identifier AVP contains the identity of an individual UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.37\tService-Result",
                            "text_content": "The Service-Result AVP is of type Grouped, and it contains the Error code identified during the handling of the Requested action for the Monitoring event.\nAVP format:\nService-Result ::=\t<AVP header: 3146 10415>\n[ Vendor-Id ]\n[ Service-Result-Code ]\n*[AVP]\nIf the Service-Result-Code contains an Experimental-Result-Code value defined by 3GPP, then the Vendor-Id shall be set to the value 10415. If the Service-Result-Code contains a Result-Code value defined in the Diameter base protocol by IETF (see IETF RFC 6733 [23]), then the Vendor-Id shall be absent or set to the value 0.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.38\tService-Result-Code",
                            "text_content": "The Service-Result-Code AVP is of type Unsigned32. This AVP shall contain either the value of an Experimental-Result-Code defined by 3GPP or the value of a Result-Code defined in Diameter base protocol by IETF (see IETF RFC 6733 [23]).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.39\tCIR-Flags",
                            "text_content": "The CIR-Flags AVP is of type AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 8.4.39-1:\nTable 8.4.39-1: CIR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.39-1: CIR-Flags",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.40\tSupported-Services",
                            "text_content": "The Supported-Services AVP is of type Grouped and it shall contain the different bit masks representing the services supported by the HSS:\nAVP format\nSupported-Services ::= <AVP header: 3143 10415>\n[ Supported-Monitoring-Events ]\n[ Node-Type ]\n*[AVP]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.41\tSupported-Monitoring-Events",
                            "text_content": "The Supported-Monitoring-Events AVP is of type Unsigned64 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 8.4.41-1:\nTable 8.4.41-1: Supported-Monitoring-Events\n\nAbsence of this AVP shall have the same meaning as all bits cleared (i.e. serving node does not support MONTE).\nIf RIR-flags is included in Reporting-Information-Request to indicate a change of authorized monitoring events, each bit in Supported-Monitoring-Events AVP, if cleared, shall indicate the SCEF that associated monitoring event is not authorized.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.41-1: Supported-Monitoring-Events",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.42\tReference-ID-Validity-Time",
                            "text_content": "The Reference-ID-Validity-Time AVP is of type Time (see IETF RFC 6733 [23]), and contains the point of time when the CP sets associated to an SCEF-Reference-ID (in combination with an SCEF-ID) becoming invalid and shall be deleted.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.43\tEvent-Handling",
                            "text_content": "The Event-handling AVP is of type Unsigned32. The following Values are defined:\nSUSPEND (0)\nRESUME (1)\nCANCEL (2)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.44\tNIDD-Authorization-Request",
                            "text_content": "The NIDD-Authorization-Request AVP is of type Grouped, and it contains the details for the Authorisation of NIDD via the SCEF.\nAVP format:\nNIDD-Authorization-Request ::=\t<AVP header: 3150 10415>\n[ Service-Selection ]\n[ Requested-Validity-Time ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.45\tNIDD-Authorization-Response",
                            "text_content": "The NIDD-Authorization-Response AVP is of type Grouped, and it contains the information to be provided triggered by NIDD-Authorization-Request.\nAVP format:\nNIDD-Authorization-Response::=\t<AVP header: 3151 10415>\n[ MSISDN ]\n[ User-Name ]\n[ External-Identifier ]\n[ Granted-Validity-Time ]\n*[AVP]\nThe User-Name AVP, when present, shall contain the IMSI.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.46\tDRMP",
                            "text_content": "The DRMP AVP is of type Enumerated and it is defined in IETF RFC 7944 [20]. This AVP allows the HSS and the SCEF over the S6t interface to indicate the relative priority of Diameter messages. The DRMP AVP may be used to set the DSCP marking for transport of the associated Diameter message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.47\tService-Report",
                            "text_content": "The Service-Report AVP is of type Grouped, and it contains the result of the handling of the Requested action for the Monitoring event, the type of node and the services it supports.\nAVP format:\nService-Report ::=\t<AVP header: 3152 10415>\n[ Service-Result ]\n[ Node-Type ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.48\tNode-Type",
                            "text_content": "The Node-Type AVP is of type Unsigned32 and shall identify the type of node sending the information. The following values are defined:\nHSS (0)\nMME (1)\nSGSN (2)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.49\tService-Selection",
                            "text_content": "The Service-Selection AVP is of type of UTF8String. This AVP shall contain the APN Network Identifier (i.e. an APN without the Operator Identifier) per 3GPP TS 23.003 [11], clauses 9.1 & 9.1.1,).\nThe contents of the Service-Selection AVP shall be formatted as a character string composed of one or more labels separated by dots (\".\").\nThis AVP is defined in IETF RFC 5778 [21].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.50\tS6t-HSS-Cause",
                            "text_content": "The S6t-HSS-Cause AVP is of type Unsigned32 and it contains a bitmask. The meaning of the bits is defined in table 8.4.50-1:\nTable 8.4.50-1: S6t-HSS-Cause\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.50-1: S6t-HSS-Cause",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.51\tEnhanced-Coverage-Restriction",
                            "text_content": "The Enhanced-Coverage-Restriction AVP is of type Grouped and shall identify either a complete (and possibly empty) list of serving PLMNs where Enhanced Coverage shall be restricted or a complete (and possibly empty) list of serving PLMNs where Enhanced Coverage shall not be restricted.\nAVP format:\nEnhanced-Coverage-Restriction ::=\t<AVP header: 3155 10415>\n[ Restricted-PLMN-List ]\n[ Allowed-PLMN-List ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.52\tEnhanced-Coverage-Restriction-Data",
                            "text_content": "The Enhanced-Coverage-Restriction-Data AVP is of type Grouped and shall identify the current visited PLMN (if any) and the current settings of Enhanced-Coverage-Restriction.\nAVP format:\nEnhanced-Coverage-Restriction-Data ::=\t<AVP header: 3156 10415>\n{ Enhanced-Coverage-Restriction }\n[ Visited-PLMN-Id ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.53\tRestricted-PLMN-List",
                            "text_content": "The Restricted-PLMN-List AVP is of type Grouped and shall identify the complete set of serving PLMNs where Enhanced Coverage is restricted.\nAVP format:\nRestricted-PLMN-List ::=\t<AVP header: 3157 10415>\n*[ Visited-PLMN-Id ]\n*[AVP]\nAbsence of Visited-PLMN-Id AVPs indicates that Enhanced Coverage is allowed in all serving PLMNs.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.54\tAllowed-PLMN-List",
                            "text_content": "The Allowed-PLMN-List AVP is of type Grouped and shall identify the complete set of serving PLMNs where Enhanced Coverage is allowed.\nAVP format:\nAllowed-PLMN-List ::=\t<AVP header: 3158 10415>\n*[ Visited-PLMN-Id ]\n*[AVP]\nAbsence of Visited-PLMN-Id AVPs indicates that Enhanced Coverage is restricted in all serving PLMNs.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.55\tRequested-Validity-Time",
                            "text_content": "The Requested-Validity-Time AVP is of type Time (see IETF RFC 6733 [23]), and contains the point of time after which the SCEF is willing to consider a granted NIDD authorization as being implicitly revoked.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.56\tGranted-Validity-Time",
                            "text_content": "The Granted-Validity-Time AVP is of type Time (see IETF RFC 6733 [23]), and contains the point of time after which the HSS removes a stored NIDD Authorization and after which the SCEF shall consider a granted NIDD authorization as being implicitly revoked.\nA value in the past indicates that the NIDD Authorization is explicitly revoked.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.57\tNIDD-Authorization-Update",
                            "text_content": "The NIDD-Authorization-Update AVP is of type Grouped, and it contains the information to be provided triggered by an update or revocation of the NIDD-Authorization.\nAVP format:\nNIDD-Authorization-Update::=\t<AVP header: 3161 10415>\n*[ APN-Validity-Time ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.58\tLoss-Of-Connectivity-Reason",
                            "text_content": "The Loss-Of Connectivity-Reason AVP is of type Unsigned32 and shall identify the reason why loss of connectivity is reported. The following values are defined:\nUE_DETACHED_MME (0)\nUE_DETACHED_SGSN (1)\nMAX_DETECTION_TIME_EXPIRED_MME (2)\nMAX_DETECTION_TIME_EXPIRED_SGSN (3)\nUE_PURGED_MME (4)\nUE_PURGED_SGSN (5)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.59\tGroup-Reporting-Guard-Timer",
                            "text_content": "The Group-Reporting-Guard-Timer AVP is of type Unsigned32. The Group Reporting Guard Timer indicates an interval in seconds after which time the HSS (at the latest) shall send aggregated Status Indications and/or event report(s) which have been detected for UEs that are part of a group.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.60\tCIA-Flags",
                            "text_content": "The CIA-Flags AVP is of type AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 8.4.60-1:\nTable 8.4.60-1: CIA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.60-1: CIA-Flags",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.61\tGroup-Report",
                            "text_content": "The Group-Report AVP is of type Grouped, and it contains the information to be reported as requested by Monitoring-Event-Configuration or Suggested-Network-Configuration for a group.\nVP format:\nGroup-Report::=\t<AVP header: 3165 10415>\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n[ SCEF-ID ]\n*[ Group-Report-Item ]\n*[AVP]\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext AVP shall be used insted of SCEF-Reference-ID; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.62\tGroup-Report-Item",
                            "text_content": "The Group-Report-Item AVP is of type Grouped, and it contains the information to be reported as requested by Monitoring-Event-Configuration or Suggested-Network-Configuration for a specific UE as part of group processing.\nAVP format:\nGroup-Report-Item::=\t<AVP header: 3166 10415>\n{ User-Identifier }\n[ Visited-PLMN-Id ]\n[ Roaming-Information ]\n[ IMEI-Change ]\n[ Reachability-Information ]\n[ Maximum-UE-Availability-Time ]\n[ EPS-Location-Information ]\n[ Monitoring-Type ]\n*[ Service-Report ]\n[ S6t-HSS-Cause ]\n[ Idle-Status-Indication ]\n[ Reporting-Time-Stamp ]\n[ Updated-Network-Configuration ]\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n[ Event-Handling ]\n[ Loss-Of-Connectivity-Reason ]\n*[ PDN-Connectivity-Status-Report ]\n*[AVP]\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-for-Deletion-Ext AVP shall be used insted of SCEF-Reference-ID-for-Deletion.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.63\tRIR-Flags",
                            "text_content": "The RIR-Flags AVP is of type AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 8.4.63-1:\nTable 8.4.63-1: RIR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.63-1: RIR-Flags",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.64\tType-Of-External-Identifier",
                            "text_content": "The Type-Of-External-Identifier AVP is of type Unsigned32 and it shall indicate which type of identity is carried in the External-Identifier AVP. The following values are defined:\nEXTERNAL-UE-IDENTIFIER-TYPE (0)\nThe value 0 indicates the External-Identifier AVP carries the identity of an individual UE.\nEXTERNAL-GROUP-IDENTIFIER-TYPE (1)\nThe value 1 indicates the External-Identifier AVP carries the identity of a Group of UEs.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.65\tAPN-Validity-Time",
                            "text_content": "The APN-Validity-Time AVP is of type Grouped, and it contains the APN (within the Service-Selection AVP) and the updated validity time for the granted NIDD authorization associated to the APN.\nAVP format:\nAPN-Validity-Time::=\t<AVP header:3169 10415>\n{ Granted-Validity-Time }\n[ Service-Selection ]\n*[AVP]\nAbsence of Service-Selection AVP indicates that the Granted-Validity-Time applies to all granted NIDD Authorizations for the user. In this case only one APN-Validity-Time AVP shall be present within the NIDD-Authorization-Update AVP.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.66\tSuggested-Network-Configuration",
                            "text_content": "The Suggested-Network-Configuration AVP is of type Grouped, and it shall contain the details for configuration for Suggested Network configuration.\nAVP format:\nSuggested-Network-Configuration::=\t<AVP header: 3170 10415>\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n[ Subscribed-Periodic-RAU-TAU-Timer ]\n[ Active-Time ]\n[ DL-Buffering-Suggested-Packet-Count ]\n[ MTC-Provider-Info ]\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n*[AVP]\nIf the values of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion are the same, no Network Parameter Configurations AVP(s) shall be present, that is, SCEF-Reference-ID-for-Deletion takes precedence. If the values of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion are not the same, Network Parameter Configurations AVP(s) are related to SCEF-Reference-ID.\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.67\tMonitoring-Event-Report-Status",
                            "text_content": "The Monitoring-Event-Report-Status AVP is of type Grouped, and it contains the result of a specific event report (identified by the pair SCEF-ID and SCEF-Reference-ID) received by the SCEF.\nAVP format:\nMonitoring-Event-Report-Status\t::=\t<AVP header: 3171 10415>\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n[ Result-Code ]\n[ Experimental-Result-Code ]\n*[AVP]\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext AVP shall be used insted of SCEF-Reference-ID; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.68\tPLMN-ID-Requested",
                            "text_content": "The PLMN-ID-Requested AVP is of type Enumerated and it shall indicate whether the PLMN-ID value needs to be returned in the event report associated to the monitoring type \"ROAMING_STATUS\". The following values are defined:\nTRUE (0)\nThe value TRUE (0) indicates that the PLMN-ID value shall be returned in the corresponding event report for \"ROAMING_STATUS\".\nFALSE (1)\nThe value FALSE (1) indicates that the PLMN-ID value shall not be returned in the corresponding event report for \"ROAMING_STATUS\".\nThe default value, when this AVP is not included, is TRUE (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.69\tAdditionalIdentifiers",
                            "text_content": "The AdditionalIdentifiers AVP is of type Grouped, and it shall contain External Group Identifiers.\nAVP format:\nAdditionalIdentifiers::=\t<AVP header: 3173 10415>\n*[ External-Identifier ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.70\tNIR-Flags",
                            "text_content": "The NIR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 8.4.70-1:\nTable 8.4.70-1: NIR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.70-1: NIR-Flags",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.71\tReporting-Time-Stamp",
                            "text_content": "The Reporting-Time-Stamp AVP is of type Time (see IETF RFC 6733 [23]), and contains the point of time when the report was generated.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.72\tNIA-Flags",
                            "text_content": "The NIA-Flags AVP is of type AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 8.4.72-1:\nTable 8.4.72-1: NIA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.72-1: NIA-Flags",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.73\tGroup-User-Identifier",
                            "text_content": "The Group-User-Identifier AVP is of type Grouped and it contains the External-Identifier or MSISDN and the IMSI of a user belonging to a group.\nAVP format:\nGroup-User-Identifier ::= <AVP header: 3177 10415>\n[ User-Name ]\n[ MSISDN ]\n[ External-Identifier ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.74\tMTC-Provider-Info",
                            "text_content": "The MTC-Provider-Info AVP is of type Grouped and it contains the information associated to the MTC Service Provider and/or MTC Application (see 3GPP TS 23.682 [2], clause 5.6).\nAVP format:\nMTC-Provider-Info ::= <AVP header: 3178 10415>\n[ MTC-Provider-ID ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.75\tMTC-Provider-ID",
                            "text_content": "The MTC-Provider-ID AVP is of type UTF8String and it contains a character string representing the identity of the MTC Service Provider and/or MTC Application.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.76\tPDN-Connectivity-Status-Configuration",
                            "text_content": "The PDN-Connectivity-Status-Configuration AVP is of type Grouped and it indicates the APN(s) for which the PDN Connectivity Status is to be monitored. If the Service-Selection AVP is included, then the monitoring applies to that specific APN; if the Service-Selection is absent, the monitoring request applies to all APNs.\nAVP format:\nPDN-Connectivity-Status-Configuration ::= <AVP header: 3180 10415>\n[ Service-Selection ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.77\tPDN-Connectivity-Status-Report",
                            "text_content": "The PDN-Connectivity-Status-Report AVP is of type Grouped and it contains the different parameters associated to the reporting of the PDN Connectivity Status event type.\nAVP format:\nPDN-Connectivity-Status-Report ::= <AVP header: 3181 10415>\n{ Service-Selection }\n{ PDN-Connectivity-Status-Type }\n[ PDN-Type ]\n[ Non-IP-PDN-Type-Indicator ]\n[ Non-IP-Data-Delivery-Mechanism ]\n*2 [ Served-Party-IP-Address ]\n*[AVP]\nAbsence of PDN-Connectivity-Status-Report in Monitoring-Event-Report AVP including Monitoring-Type AVP with value PDN_CONNECTIVITY_STATUS (10) in responses (immediate report) shall indicate that none of the requested APNs are active. The AVP shall always be present in RIR command if Monitoring-Event-Report AVP includes Monitoring-Type AVP with value PDN_CONNECTIVITY_STATUS (10).\nThe PDN-Type AVP is defined in 3GPP TS 29.272 [14] and it shall be present when the PDN Connection is an IP connection, and it may contain the value IPv4, IPv6 or IPv4v6. The value IPv4_OR_IPv6 shall not be used for this event reporting. If PDN-Type AVP is present, then the Non-IP-PDN-Type-Indicator and Non-IP-Data-Delivery-Mechanism AVPs shall be absent.\nThe Non-IP-PDN-Type-Indicator AVP is defined in 3GPP TS 29.272 [14] and it indicates whether the PDN Connection is of type \"Non-IP\". If this AVP is present, it shall be set to TRUE and the PDN-Type AVP shall be absent.\nThe Non-IP-Data-Delivery-Mechanism AVP is defined in 3GPP TS 29.272 [14] and it shall be present if the Non-IP-PDN-Type-Indicator AVP is present and set to TRUE. It shall indicate whether the Non-IP data delivery is done via Point-To-Point tunnelling over the SGi interface, or via the SCEF.\nNOTE:\tIn 3GPP TS 23.682 [2], clause 5.6.3.9, the reporting of the data delivery mechanism is described in terms of a parameter called \"3GPP Interface Indication\"; however, the conveyance of such information inside the PDN-Connectivity-Status-Report AVP is done in the present specification in terms of the same set of AVPs used for the definition of the subscription data in 3GPP TS 29.272 [14]. The correspondence of the values of the parameter \"3GPP Interface Indication\" from 3GPP TS 23.682 [2] is as follows:\n\n-\t\"API-Connectivity\" corresponds to the presence of Non-IP-Data-Delivery-Mechanism set to value SCEF-BASED-DATA-DELIVERY;\n\n-\t\"IP-connectivity\" corresponds to the presence of PDN-Type AVP, and the absence of Non-IP-PDN-Type-Indicator and Non-IP-Data-Delivery-Mechanism AVPs;\n\n-\t\"Other\" corresponds to the presence of Non-IP-Data-Delivery-Mechanism set to value SGi-BASED-DATA-DELIVERY.\n\nThe Served-Party-IP-Address AVP may be present 0, 1 or 2 times, and contain the IP address(es) used by the UE (if available) and, if present, they shall contain either of:\n-\tan IPv4 address, or\n-\tan IPv6 address/prefix, or\n-\tboth, an IPv4 address and an IPv6 address/prefix (for dual-stack UEs with PDN-Type set to \"IPv4v6\").\nFor the IPv6 prefix, the lower 64 bits of the address shall be set to zero.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.78\tPDN-Connectivity-Status-Type",
                            "text_content": "The PDN-Connectivity-Status-Type AVP is of type Unsigned32 and it shall indicate the status of the PDN Connection being monitored. The following values are defined:\nCREATED (0)\nThe value CREATED (0) indicates that the event corresponds to the creation of a new PDN Connection on the monitored APN.\nDELETED (1)\nThe value DELETED (1) indicates that the event corresponds to the deletion of a PDN Connection on the monitored APN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.79\tTraffic-Profile",
                            "text_content": "The Traffic-Profile AVP is of type Unsigend32. The following values are defined:\nSINGLE_TRANSMISSION_UL (0)\nSINGLE_TRANSMISSION_DL (1)\nDUAL_TRANSMISSION_UL_WITH_SUBSEQUENT_DL (2)\nDUAL_TRANSMISSION_DL_WITH_SUBSEQUENT_UL (3)\nMULTI_TRANSMISSION (4)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.80\tUpdated-Network-Configuration",
                            "text_content": "The Updated-Network-Configuration AVP is of type Grouped. If not included inside Group-Report-Item AVP, it shall contain only the Network Parameter Configurations which were received in a previous CIR command and have been updated due to a new CIR command. If included inside Group-Report-Item AVP, it shall contain the current values applied in the network for each group member.\n\nAVP format:\nUpdated-Network-Configuration::=\t<AVP header: 3184 10415>\n{ SCEF-ID }\n[ SCEF-Reference-ID ]\n[ SCEF-Reference-ID-Ext ]\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n[ Subscribed-Periodic-RAU-TAU-Timer ]\n[ Active-Time ]\n[ DL-Buffering-Suggested-Packet-Count ]\n*[AVP]\nAt least one reference ID (either in SCEF-Reference-ID or in SCEF-Reference-ID-Ext) or a reference ID for deletion (either in SCEF-Reference-ID-for-Deletion or in SCEF-Reference-ID-for-Deletion-Ext) shall be present.\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and SCEF, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.81\tBattery-Indicator",
                            "text_content": "The Battery-Indicator AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits shall be as defined in table 8.4.81-1:\nTable 8.4.81-1: Battery-Indicator\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 8.4.81-1: Battery-Indicator",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "8.4.82\tSCEF-Reference-ID-Ext",
                            "text_content": "The SCEF-Reference-ID-Ext AVP is of type Unsigned64 and it shall contain a 64-bit identifier provided by the SCEF, which shall be used instead of the 32-bit identifier SCEF-Reference-ID, when supported by both SCEF and HSS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.83\tSCEF-Reference-ID-for-Deletion-Ext",
                            "text_content": "The SCEF-Reference-ID-for-Deletion-Ext AVP is of type Unsigned64 and it shall contain a 64-bit identifier provided by the SCEF, which shall be used instead of the 32-bit identifier SCEF-Reference-ID-for-Deletion, when supported by both SCEF and HSS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.84\tExclude-Identifiers",
                            "text_content": "The Exclude-Identifiers AVP is of type Grouped, and it shall contain External Group Identifiers or MSISDNs.\nAVP format:\nExclude-Identifiers::=\t<AVP header: 3188 10415>\n*[ External-Identifier ]\n*[ MSISDN ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "8.4.85\tInclude-Identifiers",
                            "text_content": "The Include-Identifiers AVP is of type Grouped, and it shall contain External Group Identifiers or MSISDNs.\nAVP format:\nInclude-Identifiers::=\t<AVP header: xxxx 10415>\n*[ External-Identifier ]\n*[ MSISDN ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "IETF RFC 7683 [15] specifies a Diameter overload control mechanism which includes the definition and the transfer of related AVPs between Diameter nodes.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tS6m interface",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "A.2.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The Diameter overload control mechanism is an optional feature over the S6m interface.\nIt is recommended to make use of the IETF RFC 7683 [15] on the S6m interface where, when applied, the MTC-IWF shall behave as a reacting node and the HSS3GPP AAA server as a reporting node.\nNOTE:\tThere is no need to support this mechanism in the other way (overload of the MTC-IWF) as no Diameter request commands are sent by the HSS to the MTC-IWF.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.2.2\tHSS behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The HSS requests traffic reduction from the MTC-IWF when it is in an overload situation, by including OC-OLR AVP in answer commands as described in IETF RFC 7683 [15].\nThe HSS identifies that it is in an overload situation by implementation specific means. For example, the HSS may take into account the traffic over the S6m interfaces or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources etc.\nThe HSS determines the specific contents of the OC-OLR AVP in overload reports and the HSS decides when to send OC-OLR AVPs by implementation specific means.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.2.3\tMTC-IWF behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The MTC-IWF applies required traffic reduction received in answer commands to subsequent applicable requests, as per IETF RFC 7683 [15].\nRequested traffic reduction is achieved by the MTC-IWF by implementation specific means. For example, it may implement message throttling with prioritization.\nAnnex B gives guidance on message prioritisation over the S6m interface.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "A.3\tS6t interface",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "A.3.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The Diameter overload control mechanism is an optional feature over the S6t interface.\nIt is recommended to make use of the IETF RFC 7683 [15] on the S6t interface where, when applied, the SCEF shall behave as a reacting node and the HSS as a reporting node.\nNOTE:\tWith the current services used on this interface there is no need to support this mechanism in the other direction (overload of the SCEF) as the number of Diameter request commands sent by the HSS to the SCEF is determined by the SCEF in one earlier command of the SCEF and they corresponds to non-frequent events.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.3.2\tHSS behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The HSS requests traffic reduction from the SCEF when it is in an overload situation, by including OC-OLR AVP in answer commands as described in IETF RFC 7683 [15].\nThe HSS identifies that it is in an overload situation by implementation specific means. For example, the HSS may take into account the traffic over the S6t interfaces or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources etc.\nThe HSS determines the specific contents of the OC-OLR AVP in overload reports and the HSS decides when to send OC-OLR AVPs by implementation specific means.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.3.3\tSCEF behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The SCEF applies required traffic reduction received in answer commands to subsequent applicable requests, as per IETF RFC 7683 [15].\nRequested traffic reduction is achieved by the SCEF by implementation specific means. For example, it may implement monitoring event activation throttling with prioritization.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "B.1\tIntroduction",
            "description": "Annex B gives guidance on the Diameter overload control node behaviours regarding message prioritisation over the S6m and S6t interface.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.2\tMessage prioritisation over S6m",
            "description": "This clause gives an analysis of possible behaviours of the MTC-IWF regarding message prioritisation as guidance and for an informative purpose.\nWhen the HSS is overloaded, the MTC-IWF will receive overload reports from the HSS requesting a reduction of requests sent by the MTC-IWF. This will apply to the SIR request commands.\nThe MTC-IWF can consider some messages with a lower or a higher priority; lower priority messages will be candidates for throttling before higher priority messages.\nFollowing considerations can be taken into account:\n-\tSIR messages for a given SCS can have a lower priority according to operator policies;\n-\tIf a SCS node generates a peak signalling over the Tsp interface, SIR messages over S6m related to this SCS can have a lower priority;\n-\tThe SIR messages over S6m related to a recall procedure or a replace procedure over the Tsp interface (see 3GPP TS 29.368 [13]) may have a lower priority according to operator policies.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.3\tMessage prioritisation over S6t",
            "description": "This clause gives an analysis of possible behaviours of the SCEF regarding message prioritisation as guidance and for an informative purpose.\nWhen the HSS is overloaded, the SCEF will receive overload reports from the HSS requesting a reduction of requests sent by the SCEF. This will apply to the CIR request commands.\nThe SCEF can consider some messages with a lower or a higher priority; lower priority messages will be candidates for throttling before higher priority messages.\nFollowing considerations can be taken into account:\n-\tCIR messages for a given SCEF can have a lower priority according to operator policies;\n-\tIf a SCEF node generates a peak signalling over the S6t interface, CIR messages from this SCEF can have a lower priority;\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.1\tGeneral",
            "description": "IETF 7944 [20] specifies a Diameter routing message priority mechanism that allows Diameter nodes to indicate the relative priority of Diameter messages. With this information, other Diameter nodes may leverage the relative priority of Diameter messages into routing, resource allocation, set the DSCP marking for transport of the associated Diameter message, and also abatement decisions when overload control is applied.\nIt is recommended to make use of IETF 7944 [20] over the S6m, S6n and S6t interfaces of an operator network when the overload control defined in Annex A is applied on these interfaces.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.2\tS6m, S6n, S6t interfaces",
            "description": "The Diameter message priority mechanism is an optional feature which may apply on one or several of the S6m, S6n, S6t interfaces.\nA 3GPP functional entity supporting the Diameter message priority mechanism over one or several of the S6m, S6n, S6t interfaces shall comply with IETF RFC 7944 [20].\nA 3GPP functional entity sending a request shall determine the required priority according to its policies. When priority is required, it shall include the DRMP AVP indicating the required priority level in the request it sends, and shall prioritise the request according to the required priority level.\nWhen the 3GPP functional entity receives the corresponding response, it shall prioritise received response according to the priority level received within the DRMP AVP if present in the response, otherwise according to the priority level of the corresponding request.\nWhen a 3GPP functional entity receives a request, it shall handle the request according to the received DRMP AVP priority level. For the response, it may modify the priority level received in the DRMP AVP according to its policies and shall handle the response according to the required priority level. If the required priority level is different from the priority level received in the request, it shall include the DRMP AVP in the response.\nThe decisions of the 3GPP functional entity for a required priority and for the priority level value are implementation specific.\nIf:\n-\ta 3GPP functional entity supports using the Diameter message priority mechanism for DSCP marking purposes,\n-\tthe transport network utilizes DSCP marking, and\n-\tmessage-dependant DSCP marking is possible for the protocol stack transporting Diameter,\nthen the 3GPP functional entity shall set the DSCP marking for transport of the request or response according to the required priority level.\nDiameter requests related to high priority traffic should contain a DRMP AVP with a high priority of which the level value is operator dependent.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "D.1\tGeneral",
            "description": "IETF RFC 8583 [22] specifies a mechanism for sharing of Diameter load information. It includes the definition and the transfer of related AVPs between Diameter nodes.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "D.2\tS6m interface",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "D.2.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The Diameter load control mechanism is an optional feature over the S6m interface.\nIt is recommended to make use of IETF RFC 8583 [22] on the S6m interface where, when applied, the MTC-IWF shall behave as reacting nodes and the HSS as a reporting node.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "D.2.2\tHSS behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The HSS may report its current load by including a Load AVP of type HOST in answer commands as described in IETF RFC 8583 [22].\nThe HSS calculates its current load by implementation specific means. For example, the HSS may take into account the traffic over the S6m interface or other interfaces, the level of usage of internal resources (e.g. CPU, memory), the access to external resources, etc.\nThe HSS determines when to send Load AVPs of type HOST by implementation specific means.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "D.2.3\tMTC-IWF behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "When performing next hop Diameter Agent selection for requests that are routed based on realm, the MTC-IWF may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [22].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "D.3\tS6t interface",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "D.3.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The Diameter load control mechanism is an optional feature over the S6t interface.\nIt is recommended to make use of IETF RFC 8583 [22] on the S6t interface where, when applied, the SCEF shall behave as reacting nodes and the HSS as a reporting node.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "D.3.2\tHSS behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The HSS may report its current load by including a Load AVP of type HOST in answer commands as described in IETF RFC 8583 [22].\nThe HSS calculates its current load by implementation specific means. For example, the HSS may take into account the traffic over the S6t interface or other interfaces, the level of usage of internal resources (e.g. CPU, memory), the access to external resources, etc.\nThe HSS determines when to send Load AVPs of type HOST by implementation specific means.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "D.3.3\tSCEF behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "When performing next hop Diameter Agent selection for requests that are routed based on realm, the SCEF may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [22].\n\n",
                    "tables": [
                        {
                            "description": "",
                            "table number": 30,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        }
    ]
}