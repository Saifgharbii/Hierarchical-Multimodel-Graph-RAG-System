{
    "document_name": "28819-i00.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Report has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "Introduction",
            "description": "The present document studies multi-vendor CI-CD chains for 3GPP NFs. The report reviews existing CI-CD and testing work in ETSI and NGMN in Clause 4. Clause 5 presents the concepts developed as part of the present document. Clause 6 reviews various relevant user scenarios and provides high level solution alternatives. Clause 7 proposes a high-level overall process for the operator pipeline supporting multi-vendor NF delivery. Based on the learning in the present document Clause 8 provides recommendations for normative work.\n\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document studies key issues in automating CI-CD based testing of 3GPP NFs after delivery to the operator's operation environment. The present document describes the support the 3GPP system provides for CI-CD and other testing such as:\n1)\tSupport for operational and simulation testing\n2)\tInformation relating to NFs required for testing\n3)\tFeedback on the new NF's performance\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\tNGMN: \"Continuous Delivery in Telecommunication Network Environments\" Version 1, 2019\n[3]\t3GPP TS 28.530: \"3rd Generation Partnership Project; Technical Specification Group Services and System Aspects; Management and orchestration; Concepts, use cases and requirements\"\n[4]\tETSI GR NFV-TST 006 v1.1.1 (2020-01): \"Network Functions Virtualisation (NFV); Testing; Report on CICD and DevOps\".\n[5]\tETSI GR NFV-TST 011 v1.1.1 (2019-03): \"Network Functions Virtualisation (NFV); Testing; Test Domain and Description Language Recommendations\".\n[6]\tETSI GR NFV-TST 002 v1.1.1 (2016-10): \"Network Functions Virtualisation (NFV); Testing Methodology; Report on NFV Interoperability Testing Methodology\".\n[7]\tDraft ETSI GS NFV-TST 013 v1.1.1_0.0.3 (2021.11): \"Network Functions Virtualisation (NFV); Testing; Test Case Description Template Specification\".\n[8]\t3GPP TS 28.541: \" 3rd Generation Partnership Project; Technical Specification Group Services and System Aspects; Management and orchestration; 5G Network Resource Model (NRM); Stage 2 and stage 3\".\n[9]\t3GPP TS 28.622: \"3rd Generation Partnership Project; Technical Specification Group Services and System Aspects; Telecommunication management; Generic Network Resource Model (NRM) Integration Reference Point (IRP); Information Service (IS)\".\n[10]\t3GPP TS 28.532: \"3rd Generation Partnership Project; Technical Specification Group Services and System Aspects; Management and orchestration; Generic management services\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions of terms, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tTerms",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms given in TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in TR 21.905 [1].\nTest task: A test task is an executable unit containing a set of test cases to be executed, outputting the execution results of test cases within the test task.\nTest orchestration: Determine the execution order of test cases in one test task, allocate/deallocate and reserve/release resources to support testing.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tSymbols",
                    "description": "",
                    "summary": "",
                    "text_content": "Void.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.3\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tRelated work in other SDOs",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tETSI-TST",
                    "description": "",
                    "summary": "",
                    "text_content": "The ETSI GR NFV-TST 006 [4] provides guidance and recommendations on how to leverage DevOps and CI/CD techniques across the boundary from VNF provider to service provider, or any combination of developer, installation and operational entities. The goal of the present document is to establish a DevOps Joint Pipeline between VNF provider to service provider.\n1)\tExploring use cases:\n-\tSingle vendor to single operator: This scenario can be understood as splitting the CICD process of a single product into different organizations. Development, building, and testing are in the vendor part, and deployment and operation are in the operator part. And analysed the delivery and feedback method between the two organizations.\n-\tMultiple vendors to single operator: This scenario analyses the interval of delivery by multiple vendors and the timing of integration of multiple vendor products in the Operator part, and points out that the integrated test is not on a component but on the combined integrated VNF or NS.\n-\tBased on the analysis of use cases, two components of the DevOps process are recommended:\nDevOps server: Stage and operate for the operator part of DevOps process.\nData handling component: Used to process sensitive information in feedback data to the vendor.\n2)\tDefining the test steps in the DevOps process:\n-\tStep 1: Test Definition\n-\tStep 2: Code/VNF Package Shipment\n-\tStep 3: Automated Test Execution\n-\tStep 4: Moving to Production\n-\tStep 5: Collecting operational data\n3)\tProviding recommendations on implementations\n-\tTest code/test function/description included in VNF Package\nVNF package is recommended to contain a testing clause with various information concerning testing and DevOps. VNF Package is recommended to include a description of the acceptance test, the test code, and a framework or test VNF that automates the execution of the test code.\n-\tImplementation of automated test execution\nOption 1: Package the test function that automates the test execution as part of the VNF Package: for example, as test VNFC.\nOption 2: Implement the test function that automates the test execution as separate test VNF: for example, a test Network Service consists of test VNFs and the VNF under test.\n-\tTest feedback to VNF vendor\nIt is recommended that a requirement be specified for the VNF to be capable to provide the information as feedback data.\nIt is recommended that a requirement be specified for the OSS to be capable to receive the feedback from the VNF\nGR NFV-TST 006 (TST006ed121) [4] will extend the scope of the report to analyse and provide recommendations on how to enhance the support for joint delivery pipeline, including:\n1)\tDefining the key components in the DevOps process:\n-\tDevOps server: Analyse which specific NFV components are involved in related operations of DevOps server, and discuss related requirements for NFV MANO APIs.\n-\tTest Framework: Analyse which specific NFV components are involved in related operations of Test Framework, and discuss related requirements for NFV MANO APIs.\n2)\tAnalyse implementation of automated test execution:\n-\tLeverage a standard test case description file which will be defined in NFV-TST 013 [7] Spec, Test Frame work will parse this machine-readable file to obtain information for automated test execution.\n3)\tDefining the CI-CD process in more detail based on the above analysis.\nETSI NFV has described a general framework to be used in CICD, with the following major components:\n-\tAs described in ETSI GR NFV-TST 006 [4], DevOps server is responsible for pre-checks of the NFVI, triggering the different testing phases, evaluating the testing phases, post event health checks of the VNF(s), sending feedback to the VNF Provider.\n-\tAs described in ETSI GR NFV-TST 011 [5], a Test Execution Platform is responsible for managing the execution of test cases and managing all resources outside the System Under Test.\n-\tAs described in ETSI GR NFV-TST 002 [6], the System Under Test includes the Virtual Network Functions, the NFV Infrastructure, and the associated management/orchestration and descriptors.\nAs introduced above, there are already some related works in ETSI. So, it is helpful to use the results of the above ETSI GRs in this 3GPP study.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.2\tNGMN",
                    "description": "",
                    "summary": "",
                    "text_content": "The work done in NGMN on \"Continuous Deliver in Telecommunication Network environments\" [2] highlights five main aspects that are to be considered for standardization:\n1.\tThe release model is the complete set of items required for instantiating a software-based function. In terms of 3GPP NF this would be the information and the supporting artefacts required instantiate the 3GPP NF.\n2.\tThe environment model describes the environment to which releases could be deployed. This refers to the available software and hardware artefacts in that environment. Release models may be specific to environment models.\n3.\tUse of version control in the operator environment.\n4.\tAutomated deployment steps that include testing the software artefacts delivered from across vendors in a staging environment.\n5.\tClear separation of development, testing and operations environment for security reasons.\nNGMN works acts as a guiding structure to the work in this study item. Some concepts from the NGMN work, particularly, release models are reused in the present document.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tConcepts",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tRelevant roles",
                    "description": "",
                    "summary": "",
                    "text_content": "The present document uses the roles as specified in clause 4.8 of TS 28.530 [3]. The roles that are particularly important for the present document are:\n-\tNetwork Operator (NOP).\n-\tthe NFVI Supplier.\n-\tThe Network equipment provider: Provides network equipment to network. Network equipment provider is referred to as 3GPP NF provider (or the VNF provider if the NF is virtualized).\nThe role of NOP in CICD chain may include:\n-\tTo control the delivery of new software version of 3GPP NF, including the capability to receive the notification of new software version of network function and fetch the software image.\n-\tTo validate new software version of 3GPP NF, including the validation test, etc.\n-\tTo deploy performance measurements in operational phase regarding the new software version of 3GPP NF.\n-\tTo monitor 3GPP NF, during the operational phase once the new software version of 3GPP NFs are deployed.\nThe role of Network equipment provider may include:\n-\tTo provide means of notification of the new software version of 3GPP NF.\n-\tTo provide the capability to deploy the new software version of 3GPP NF.\n-\tTo provide the capability to validate (e.g., the operational test) the new software version of 3GPP NF.\n-\tTo provide the capability to roll back to the old network function in case of necessities.\n-\tTo provide the capability to monitor the performance in operational phase, regarding the new software version of 3GPP NF.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tSingle and multiple NF suppliers CI-CD",
                    "description": "",
                    "summary": "",
                    "text_content": "The figure depicts a software development lifecycle (SDLC) chain with multiple stages, including source code management (SCM), continuous integration (CI), and continuous deployment (CD). The chain is represented as a flowchart with nodes representing different stages, such as source code, build, test, and deployment. The figure illustrates the importance of collaboration and automation in software development, highlighting the role of tools like Jenkins, Git, and Docker in managing the process.\nFigure 5.2-1: Single supplier software CI-CD Chain\nA typical software CI-CD chain consists of several stages as shown in Figure 5.2-1: Development Phase, Staging Phase and Operational Phase. Starting from the Development Phase, the developers write the software of the NF, and the test code used to test the NF. When the software is finished and committed, the CI-CD tool will automatically trigger the building and testing. At the step of testing, the integrity of software artifacts is checked and the functional/non-functional acceptance testing are performed. At the staging phase, the software which passes all the tests will be release to the operational environment. At the Operational phase, the software is deployed in the production environment with the real traffic/user load. The software delivered in such typical CI-CD chain is usually provided by a single supplier.\nThe figure depicts a network with multiple NF suppliers connected to a single operator, illustrating the concept of network function virtualization (NFV).\nFigure 5.2-2: Multiple NF supplier to single operator\nIn telco environments (see Figure 5.2-2), the coding, initial testing and package part of the CI-CD chain is typically at the vendor premises, and the validation, integration testing and deployment part is at the operator part. The CI-CD tools used in the operator part is responsible for fetching delivered artifacts, triggering tests, collecting test results and data, deploying software to staging/production environment, collecting operational data and sending feedback to the vendor.\n\nThe figure depicts the internal processes of a telecommunications vendor and operator, illustrating the various stages involved in the delivery of services. The vendor processes include network planning, design, and implementation, while the operator processes involve network management, maintenance, and customer support. The figure highlights the importance of collaboration between these two entities to ensure the smooth operation of the network.\nFigure 5.2-3: Vendor and Operator internal processes\nAs shown in Figure 5.2-3, the vendor internal CI-CD process can be vender specific, which may include coding, testing, and packaging. As a deployment option, the vendor internal CI-CD process may additionally include deployment of new NF and the health status monitoring and rollback.\nAdditionally, an operator receives software artifacts (for 3GPP NFs) from multiple vendors, Then follows its own internal CI-CD processes (see Figure 5.2-3) as a part of the CI-CD chain before deploying the NF to an operational platform.  The internal CI-CD processes including validation and testing phases are not in scope of this SID. However, there are scenarios in which the CI-CD process interacts with the 3GPP Management system, which are main focus of this report.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.3\tClassification of tests",
                    "description": "",
                    "summary": "",
                    "text_content": "The figure depicts a test classification system, illustrating the various components and their interactions. The system includes a classifier, a training dataset, and a test dataset, with the classifier being the central element. The figure shows the flow of data through the system, with the classifier processing the input data and producing an output. The system is designed to be modular, allowing for easy expansion and modification.\nFigure 4: Test classification\nWhen a new NF is delivered to the operator, the operator expects to perform certain tests. Tests can normally be classified into three basic types (see Figure 4)\n1)\tUnit and acceptance tests: These tests involve testing the independent functioning of the NF. The tests may be both functional and logistical in nature and include vertical testing. Vertical testing tests for aspects of the new NF such as claimed compatibility with the underlying hardware, software or virtualization platforms. These tests can be provided to the operator by the 3GPP NF supplier. In addition, the operators may specify their own set of unit and acceptance tests for each NF.\n2)\tIntegration tests: Integration tests refer typically to limited functionality horizontal test with other NF. For example, when a new SMF is delivered, it may be tested for expected functionality against existing AMFs. This naturally requires the combination of AMF and SMF to be tested together vertically with the underlying virtualization system (e.g. the ETSI NFV network service (NS) supporting the NFs).\n3)\tSystem tests: In the context of 3GPP NFs a system test could refer to testing the NFs functioning as part of a complete NSSI, NSI or communication service instance.\n4)\tOperational tests: Once all the above test (1-3) are completed to the operator's requirement the network operator may still roll out the new version of the NF into the operational environment slowly in a step wise process. At every step more responsibility (for example: more UEs, more geographical area) is assigned to the new version of the NF in comparison with the old one. Eventually, if the new NF version performs well and all functions of the old NF version may be assigned to the new NF, effectively replacing the old NF.\nThis classification of tests represents conceptual points on the continuum of tests' complexity for the purposes of this present document. A network operator may define his own tests anywhere along this continuum.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "6\tUse cases and solutions for automated delivery chains",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tThe operator is notified of the delivery of a new NF version from the NF supplier",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tDescription",
                            "text_content": "The new NF, named NF-3, is a significant advancement in the field of telecommunications, offering improved performance and enhanced capabilities. It is designed to address the growing demand for high-speed internet access and advanced network services. The NF-3 is built on a robust foundation of existing NF technologies, ensuring compatibility and ease of integration. It is expected to revolutionize the way businesses and individuals access the internet, making it faster, more reliable, and more cost-effective. The NF-3 is expected to be widely adopted by network operators and service providers, driving further growth in the telecommunications industry.\nFigure 3: A New NF is released\nThe NF supplier publishes a new release of an NF used by the operator in Figure 1. When a new release is published the operator's 3GPP management system should become aware of its availability and fetch the newly released version of the NF. There are two possibilities for this use case:\n1)\tThe 3GPP management system fetches the new release of the NF from a location provided by the NF supplier.\n2)\tThe 3GPP management system receives the newly released NF from the NF supplier.\nBoth cases should be supported.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tPotential requirements",
                            "text_content": "REQ-New_NF_CICD-1: The 3GPP Management system should be aware of the locations where any authorized NF suppliers provide notification of new releases of the NFs.\nREQ-New_NF_CICD-2: The 3GPP Management system should be able to receive the new release of the NF from an authorized NF supplier.\nREQ-New_NF_CICD-3: The 3GPP Management system should be able to fetch the new release of the NF from the location provided by an authorized NF supplier.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.3\tPossible solutions",
                            "text_content": "As part of the business agreement to purchase the license to use the NF, the NF supplier indicates to the network operator where to subscribe to receive NF software updates. The operator's 3GPP Management system subscribes to the said address to receive notifications of new NF versions. When the vendor internal processes are completed, and an updated new release of the NF is available for the network operator to test and deploy, the vendor provides a notification to the operator. The notification may include information such as authentication, payment details and the requests of data for feedback, the location on where to fetch the new NF version and the corresponding NF information, the NF information may include details such as:\n-\tThe NF type - example: AMF, SMF.\n-\tAn globally unique identifier (e.g., VnfdId) for the new release of the NF and the corresponding release model information.\n-\tAn identifier (e.g., DN) of the NF which needs to be updated, if any.\n-\tA list of newly added optional features in the new release and the corresponding variables to enable/disable those features.\n-\tThe tests to be run on the NF as provided by the vendor - with an address to fetch those tests (e.g., the location in the VNF package).\n-\tVendor information.\n-\tAn address where to send feedback to the NF supplier related to operator testing and use of the NF.\nThese details are used by both the test management system as well as the network management layer to conduct acceptance-integration-system and operational tests, respectively\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.2\tOperational testing",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tDescription",
                            "text_content": "The Network Slicing feature in 5G provides telecom operators the capability to support multiple logical networks on the common physical network infrastructure. Each of these Logical networks will cater to different services and might have different operational requirements spanning across domains. Therefore, in addition to the 5G feature, it is important for operators to have the flexibility to manage these logical networks independently. Cloud Native based platform and tools which are widely used in the IT world has inbuilt frameworks for agile and flexible deployment. These platforms are increasingly becoming the de-facto choice for 5G Telecom Products. This highlights the importance of bringing many Cloud Native benefits like CI-CD that are essential for automation and flexibility of 5G networks. CI-CD automates and integrates the development phase, testing phase and deployment phase to improve feature velocity. Enabling CI-CD in 5G networks which includes the most transaction-intensive and time-sensitive RAN network functions is still a challenge. Dynamic software upgrades and live testing of 5G software components in production environment without service interruptions remains the main challenge that need to be solved for enabling CI-CD in 5G networks.\nThe ability to test the upgraded network nodes in the operational network will increase the agility of 5G networks. Slicing and virtualization can be used to assist in live testing. A test network slice instance or a test NF can be created/deployed, using the upgraded network functions, for testing purpose. The basic principles of the operational testing are:\n-\tTest network slice instance or test NF creation with appropriate information e.g., test cases, test duration, target network nodes etc.\n-\tAutomatic UE selection: The set of UEs to be assigned to the test network slice instance or the test NF instance can be selected and updated over time to minimize the adverse effects of testing. The UEs can be selected based on any network or UE characteristics, such as current load of the network, location of the network nodes, UE mobility or dual connectivity etc.\n-\tDeployment location selection for the upgraded node: The location of the upgraded node can be selected to minimize the adverse impact of testing. The location of the Networks nodes that needs to be upgraded and tested can be selected based on load conditions of the Network nodes at a given location. The location of the node can also be based on the availability of UEs for testing in each location.\nFurthermore, such operational testing could be further automated. When a new version of NF is delivered to the operator that has passed all tests and can now be rolled out into the operational network the roll out could be combined with operational testing. This means that the new NF could be installed in the operational network without being initially being used at all. If the installation proceeds correctly then a small portion of the cases (examples: UEs or events or requests) that were handled by the old NF version can now automatically be assigned to the new NF version. If the new NF performs well and no failures occur further entities could incrementally be assigned to the new NF till eventually the old NF has no cases to handle and is rendered redundant. At this point the old NF could be uninstalled and removed from the operational network. In case of error or insufficient performance the system rolls-back to the old NF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tRequirements",
                            "text_content": "REQ-CICD-OP-FUN-1: The 3GPP Management system shall be able to support testing the upgraded software in the live network.\nREQ-CICD-OP-FUN-2: The 3GPP Management system shall be able to support creating/deploying a slice for testing the upgraded network functions in the live network.\nREQ-CICD-OP-FUN-3: The 3GPP Management system shall be able to support selecting appropriate UE(s) to be assigned to the test slice minimizing the service impacts, if any.\nREQ-CICD-OP-FUN-4: The 3GPP Management system shall be able to support selecting appropriate location for the upgrade network functions deployment minimizing the service impacts, if any.\nREQ-CICD-OP-FUN-5: The 3GPP Management system should support configurations that enable the automated roll-out of new NFs into the operational environment while performing operational tests.\nREQ-CICD-OP-FUN-6: The 3GPP Management system should support the roll-back of new NFs to the previous version in an operation environment.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.3\tPossible solutions",
                            "text_content": "The solution involves creating/instantiating a test entity (NSI, NSSI or a NF) exclusively for testing purpose triggered by a software upgrade procedure. The test entity will include information related with the testing including Managed Function to be tested, test duration, test case etc.\nThe appropriate UE(s) are assigned to this test entity minimizing the service impacts. UEs can be selected based on the location of the network nodes where the upgraded software is to be deployed. UEs can also be selected based on the UE characteristics like UE mobility and UE capabilities like dual connectivity or can just be percentage of available UEs.\nThe location of the networks nodes that needs to be upgraded and tested can be selected based on load conditions of the Network nodes at a given time. The location of the node can also be based on (not limited too) the availability of UEs for testing in each location.\nThe solution requires the ability to indicate that a particular test entity instance is meant for testing purpose. This will include enabling information like list of nodes to be tested, test duration, procedures (e.g., rrc connection setup, handover etc.) to be tested, etc.\nOnce the test network entity is instantiated, the UE(s) can be assigned to this entity. The UEs selected for testing can be:\n-\tBased on UE capability.\n-\tCarrier aggregation, Dual connectivity capability.\n-\tBased on UE characteristics.\n-\tBased on User Mobility (which can be determined based on UEmobilityLevel).\n-\tBased on UE RRC_State (which can be determined based on the UE history information stored with the operator)\n-\tAny Percentage of available UE.\nThe testing location of the new node can be critical in terms of minimizing the service experience and maintain better use experience. Selection of deployment location of the test software in the field can be based on:\n-\tthe availability of radio and cloud resources;\n-\tthe availability of UE selected; and\n-\tany other operator defined restrictions.\nThe solution involves creating/instantiating a network slice exclusively for testing an updated version of an NF. An existing network slice is duplicated and modified to contain the updated version of an NF. A selected number of UEs are then allowed to use this network slice.\nThe procedure to be used depends on whether the NF is a physical network function or a virtualized network function.\nTo test an updated version of a PNF, the operator (or an automated test management system) selects an existing network slice which contains the previous version of the PNF. The operator reads the management model for the existing network slice, to find the NetworkSliceSubnet (TS 28.541[8]) which refers to the PNF.\nThe network operator instantiates a new physical network element which contains the updated PNF. The network operator creates a duplicate of the NetworkSliceSubnet and modifies the new NetworkSliceSubnet to refer to the updated PNF.\nThe network operator creates a new network slice in the 3GPP Management System. The new network slice is a duplicate of the existing network slice, except that the original NetworkSliceSubnet which refers to the PNF is replaced by the new NetworkSliceSubnet which refers to the new PNF. The new network slice is configured with an S-NSSAI which is not already used in the network.\nThe network operator selects a number of UEs which will use the new network slice. These UEs may be automated test generators or may be a certain set of actual customer UEs. The network operator provisions these UEs (using BSS subscription management) with the S-NSSAI of the new network slice. The network operator activates the new network slice.\nDuring the testing period, the network operator monitors the performance measurements and alarms from the new network slice to determine the performance of the new network slice. The network operator investigates any anomalies to check if they are related to the new version of the PNF.\nAt the end of the test period, the network operator may choose to delete the new network slice from the 3GPP Management System and remove the new physical network element which contains the updated PNF. Alternatively, the network operator may choose to delete the old network slice use the new network slice as its replacement.\nNote that if the operator uses an automated test management system to conduct the testing, then the operator needs to instruct the automated test management system on how to connect to the 3GPP Management System (addressing, access keys, etc). The operator needs to specify which network slice should be used as the basis for testing. The automated test management system uses this information to read and write provisioning data to the 3GPP Management System and to collect alarms, performance measurements and KPIs.\nTo test an updated version of a VNF, the operator (or an automated test management system) selects an existing network slice which contains the previous version of the VNF. The operator reads the management model for the existing network slice, to find the Network Service Descriptor (NSD) which is identified by the attribute nsInfo in NetworkSliceSubnet (TS 28.541[8]).\nThe network operator creates a duplicate of the NSD and modifies the new NSD to refer to the VNFD of the updated VNF. The operator onboards the new NSD and the new VNFD to the MANO system.\nThe network operator creates a new network slice in the 3GPP Management System. The new network slice is a duplicate of the existing network slice, except that the nsInfo in NetworkSliceSubnet refers to the new NSD. The new network slice is configured with an S-NSSAI which is not already used in the network.\nThe network operator selects a number of UEs which will use the new network slice. These UEs may be automated test generators or may be a certain set of actual customer UEs. The network operator provisions these UEs (using BSS subscription management) with the S-NSSAI of the new network slice. The network operator activates the new network slice.\nDuring the testing period, the network operator monitors the performance measurements and alarms from the new network slice to determine the performance of the new network slice. The network operator investigates any anomalies to check if they are related to the new version of the VNF.\nAt the end of the test period, the network operator may choose to delete the new network slice from the 3GPP Management System and remove the new NSD and new VNFD from the MANO system. Alternatively, the network operator may choose to delete the old network slice use the new network slice as its replacement.\nNote that if the operator uses an automated test management system to conduct the testing, then the operator needs to instruct the automated test management system on how to connect to the 3GPP Management System (addressing, access keys, etc). The operator needs to specify which network slice should be used as the basis for testing. The automated test management system uses this information to read and write provisioning data to the 3GPP Management System and to collect alarms, performance measurements and KPIs.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.4\tSolution for automated roll-out",
                            "text_content": "The operator may configure a \"roll-out plan\" for any new version of a 3GPP NF. The roll-out plan may contain the following information\n-\tThe increments to assign cases (example: UEs, requests, etc.) to the new version of the NF. For example, in case a new version of NSSF is available: As a first increment 10 % of the request for slice selection could go to the new version of the NSSF, in a second increment this could be increased to 20 %.\n-\tThe conditions or thresholds to be met by the system to change from on increment to the next. For example: if there are no errors in the New version of the NSSF for the next 30 days move the increment 2.\n-\tOther performance KPIs.\n-\tConditions that signal a failure and may require a roll-back of the new NF. For example: Significantly higher drop rate for UEs assigned by the new version of the NSSF.\nBased on such a roll-out plan and on being triggered by the conditions in the network the 3GPP management may configure the cases in the core network. For example: the selection of NSSF probability could be configured in the NRF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.3\tFeature selection",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.3.1\tDescription",
                            "text_content": "An NF upgrade may provide the operator with several new features in the new version of the NF. In such a case it should be possible for the network operator to switch on or off the features that the operator does not wish to use or features that cannot be supported in the operator network due to technical considerations. For example, if Network function gNB-CU is upgraded with features X, Y, Z but feature Y has dependency on the NG interface with 5GC. In this case, only feature X, Z should be tested and enabled in the operational network till the 5GC is also upgraded with feature Y.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.2\tPotential requirements",
                            "text_content": "REQ-CICD-FS-FUN-1 The 3GPP Management system shall be able to support partial feature testing of the upgraded network functions.\nREQ-CICD-FS-FUN-2 The 3GPP Management system shall be able to activate and deactivate certain features of an NF in an operational network.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.3\tPossible Solutions",
                            "text_content": "Each NF has a version number already represented in its NRM as each NF is a child class of the ManagedElement defined in TS 28.622 [9]. In addition, and associated to the version number, is list of optional features that the appropriate management service (example: provisioning service in an operational environment or the test management service in the testing environment is able to enable or disable). This association can be a part of the NF NRM with a binary state of enabled or disabled on each per feature in the feature list\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.4\tTest task and test case management",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.4.1\tDescription",
                            "text_content": "Network operator may want to test all newly delivered NFs . The test could be any set of unit and acceptance tests, integration or systems tests which are carried out automatically when a new version of NF is delivered to the network operator. The network operator may arrange relevant test cases in one test task, and should have the possibility of adding, reading, updating and deleting tests tasks, or adding, reading, updating and deleting test cases in one test task to its internal process. These tests are run automatically over every new version of the NF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.2\tPotential Requirements",
                            "text_content": "REQ-CICD_TT-FUN-1: The 3GPP Management system should have the ability to allow CRUD operations on test tasks and test cases on a per NF basis to the authorized consumer.\nREQ-CICD_TT-FUN-2: The 3GPP Management system should have the ability to automatically run tests associated to an NF by an authorized consumer when a new version of the said NF is delivered to the service provider.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.3\tPossible Solutions",
                            "text_content": "To allow for CRUD operations of test. A solution is to add a test management service that can associate tests to a particular or yet to come NF version in a test inventory. When the new NF version is delivered, the tests that are assigned to the NF version are automatically executed in the testing environment. The order of test execution may be specified for enabling the correct orchestration of tests.\n6.5\tFeedback to vendor\n6.5.1\tDescription\nThe network operator may conduct different steps during CI-CD procedure, like verification, testing, deployment and so on when receiving the delivered NF from 3GPP NF supplier. During each step there may be problems (e.g. testing failure) happened or other useful information that need to feedback to the NF supplier. The network operator will combine the reported errors and network operation data to diagnose the problems and ask the NF supplier to make improvements. The network operator can also feedback other related information, like problem description, logs and so on to assist the improvement.\n6.5.2\tPotential requirements\nREQ-CICD_VF-FUN-1: The 3GPP Management system should have the ability to feedback the NF software problem during CI-CD procedure, related network environment information and certain adjustment requirements to the 3GPP NF supplier.\nREQ-CICD_VF-FUN-2: The 3GPP Management system should have the ability to feedback data according to NF supplier's request.\n6.5.3\tSolution alternate 1\nAfter analysing and diagnose problems, 3GPP management system filters and extracts the NF related information by sorting out the analysis results and reports during CI-CD procedure, e.g., removing user specific information, and then deliver the feedback to NF suppliers through subscription/notification mechanism.\nNF supplier can subscribe the feedback event generated by 3GPP management system so that the NF supplier knows how to receive the feedback. The notification should contain the NF information (e.g. NF version id, NF type), description of the problem happened during operator CI-CD procedure, time stamp (e.g. the time when the problem occurred, the duration of the problem), analysis report, the address to fetch logs, related network environment data and so on. If the NF supplier provides other requirements for the content of the feedback, then the notification should include such information accordingly. A new MnS can be introduced in 3GPP management system to achieve the feedback scenario with the following capabilities:\n-\tObtain the analysis results and reports, filter and extract the NF related information\n-\tGenerate notification of feedback\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.6\tEnvironment data collection",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.6.1\tDescription",
                            "text_content": "When conducting testing or in NF operation and maintenance, there may happen test failure, fault or other problems, the network operator will sustain to monitor network running status, collect network data, and use collected environment data to analyse and diagnose problems. The environment data can be obtained from fault supervision, performance management, NWDA, MDA and etc. To fulfil the automatic CICD chains, the network operator should filter the related data and may feedback them to the NF supplier according to analysis results or NF supplier's requests. This function can interact with 3GPP other MnFs to get data.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.6.2\tPotential requirements",
                            "text_content": "REQ-CICD_EDC-FUN-1: The 3GPP Management system should have the ability to collect test-related information.\nREQ-CICD_EDC-FUN-2: The 3GPP Management system should have the ability to provide data to CICD related systems.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.6.3\tPossible solutions",
                            "text_content": "The 3GPP management system needs to collect and manage test-related data for supporting CICD automation, such as test status, test results. When the test fails, 3GPP management system can use the data to position problem and analyse root cause. After tests passed, the 3GPP management system will involve the NF as part of operational network and keep continuous monitoring and collecting performance data and fault data from fault supervision, performance management service.\nIt is recommended that 3GPP management system has a new MnS for the following responsibilities:\n-\tCollecting test related data.\n-\tProviding the collected test data to the analysis management service (i.e. MDAS) for positioning problem and analysing root cause if needed.\n-\tObtaining logs, configurations, fault information, performance information and other information that are related to a specific NF from fault supervision, performance management service and etc.\n-\tProviding data to external CICD related system when it requests the test data or other environment information.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.7\tTest orchestration",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.7.1\tDescription",
                            "text_content": "After the NFs are delivered, network operator may conduct various tests (functional testing, performance testing and so on). The network operator may need to construct test tasks, determine the execution order of test cases, and allocate resources to support testing based on test types and requirements.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.7.2\tPotential requirements",
                            "text_content": "REQ-CICD_TO-FUN-1: The 3GPP Management system should have the ability to provide network resource status and test related information to CICD related systems for assisting test orchestration.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.7.3\tPossible solutions",
                            "text_content": "An authorized entity (e.g. the CI-CD testing system) requests the 3GPP management system to provide network resource status and test related information. Using the provisioning management service, Performance assurance or other MnSs (in TS 28.532 [10]), the 3GPP management system provides the related information, for example, target entities (e.g. the NF under operational tests) and network resource status (e.g. traffic load) to CICD related systems. The CI-CD testing system can use this information to decide the preferred order of tests to the 3GPP management system for operational testing.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.8\tSimulated testing",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.8.1\tDescription",
                            "text_content": "While system tests are expensive to perform, they do not represent the real operational network. Therefore, the gap between a system test and an operational network, especially in telecommunication network, maybe be a rather large one.\nTo overcome this the operator may perform system testing in a (partially) simulated environment of the live operational network or a recording of the operational network based on specific events that the operator may want to test against. A new version of the NF may replace the old NF in the simulated environment and help the operator simulate how the new NF would perform in the operational network.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.8.2\tPotential requirements",
                            "text_content": "REQ-CICD-SE_FUN-1: The 3GPP management should provide to authorized consumer the capability to configure the level of details required to create a simulation of the operational network.\nREQ-CICD-SE_FUN-2: The 3GPP management system should be able to periodically provide to authorized consumers the information required to simulate the  operational network.\nREQ-CICD-SE_FUN-3: The 3GPP management system should be able to record the information required to create a simulation of the operational network.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.8.3\tPossible solutions",
                            "text_content": "The 3GPP management system provides configurable parameters relating to network and managed entity state and other relevant data to help maintain the simulated environment which is as close as possible to the operational network. The entity responsible for maintaining the simulated network copy subscribes to the 3GPP management system to receive such changes in the 3GPP network.\nIn certain cases the operator or another authorized entity may configure events in the 3GPP network – for example failure of an NF – that result in the 3GPP management system saving relevant information, as configured by the authorized entity, to help recreate the network simulation at a later point in time.\nIn these simulation environment the old version of the NF can be replaced by the new NF version to conduct the simulated testing.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.9\tTest data analysis",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.9.1\tDescription",
                            "text_content": "During the conduct of testing in operational environment, there will have related network operations data and other environment data along with test results. When test fails (e.g. a performance testing under a test slice), 3GPP system can use these data to preliminary analyse where the problem is. If the analysis results show it is the problem of the NF, the network operator can send the improvement suggestions, problem description and relevant environment data to the NF supplier.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.9.2\tPotential requirements",
                            "text_content": "REQ-CICD_TDA-FUN-1: The 3GPP Management system should have the ability to analyse test related data and provide analysis results.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.9.3\tPossible solutions",
                            "text_content": "The 3GPP management system analyses test-related data, this solution is required to define a new MDAS capability to do the test data analysis.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.10\tNetwork function health analysis",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.10.1\tDescription",
                            "text_content": "During normal operation, analysis of performance monitoring and alarms may indicate implementation problems in regarding network or particular network functions. 3GPP management system can monitor health status in normal operational stage typically right after validate and deploy the new software version of network functions.\nThe performance measurement and alarm notifications can be used to analysis the problems during the operation phase and report the possible problems of the newly updated 3GPP network functions. The monitoring of network function health status can show a problem with a new software version of NF, the network operator can provide the recommendation(s) regarding the reported problems. This same type of analysis may be used during operational testing of a new or updated NF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.10.2\tPotential requirements",
                            "text_content": "REQ-CICD_NFH-FUN-1: The 3GPP Management system should have the ability to analyse management data to detect implementation problems related to network functions.\nREQ-CICD_NFH-FUN-2: The 3GPP Management system should have the ability to start the performance monitoring of the newly updated 3GPP network functions due to NF software update or upgrade.\nREQ-CICD_NFH-FUN-3: The 3GPP Management system should have the ability to report the result and the problem(s) of performance monitoring on the new software version of 3GPP network functions.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.10.3\tPossible solutions",
                            "text_content": "The monitoring of managed network can be performed in normal operation phase after deploy the new release of 3GPP network function. It is proposed to define a new MDAS capability to perform analysis on the health monitoring of the managed network. The new MDAS capability would analyse performance data and alarms and report on possible problems.\nThere are many possible causes of network problems, and these include implementation problems related to individual network functions. Other types of problems are outside the scope of this study. Possible NF-related problems may for example typically be found with a performance indicator of the NF that is significantly different to NFs in a similar setting. The problems that may be reported include:\n-\tUnexpected UE behaviour\n-\tUnexpected traffic loss or unexpected traffic rejection\n-\tUnexpected NF load\n-\tInefficient use of infrastructure resources\n-\tUnnecessary use of resources (resource leaks)\n-\tSlow response to scaling requests or rejected scaling requests\n-\tAny unexpected or exceptional performance indicator\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "7\tConclusions and recommendations",
            "description": "The former clauses put several requirements on the NF as well as the 3GPP management system which should be further standardized to enable cross-vendor automation of the CI-CD and testing pipelines.\nRecommendation 1: A newly delivered NF should have significant standardized supporting information to help the 3GPP management system identify the prioritization of tests relevant to the new NF and how to include the tested NF in operations. Examples of this information include:\n-\tThe NF types\n-\tThe previous NF it replaces\n-\tThe new list of optional features and the corresponding variables to enable/disable those features\n-\tThe tests to be run on the NF as proposed by the vendor\n-\tVendor information\n-\tFeedback address\nFurther work is required to specify an exhaustive list of such information.\nRecommendation 2:  software management aspects need to be studied. Examples include:\n-\tWhat information is needed in a software inventory\n-\tHow and where are NF versions stored\n-\tHow are they maintained – for example: updated and replaced\nRecommendation 3: the following management functions/capabilities for management system should be specified:\n-\tindicate a prioritization of tests for the CI-CD and operational testing and maintain information such as which tests are relevant for which NF\n-\tTest task and test case management, test orchestration\n-\tUniformly collect and handle testing related data, be responsible for data filter and processing to support the feedback to vendor\n-\tCollect an maintain information that may need to be provided to the 3GPP NF supplier, examples include:\n-\tNF identifier\n-\tTest results\n-\tDescription of problem\n-\tTime stamp (e.g. the time when the problem occurred, the duration of the problem)\n-\tAnalysis report\n-\tAddress of logs\nFurther work is required to specify an exhaustive list of such information.\nRecommendation 4: enablers and solutions to perform and automate operational, feature and simulated testing to further enhance operator confidence and enable automatic rollout of the new NF version into the operational environment should be specified.\nFigure Annex A-1: Example of Potential 3GPP management system involvement process\nFigure Annex A-1 shows an example of potential 3GPP management system involvement process, where the Operator CI-CD Pipeline acts as the consumer of the 3GPP management system.\nWhen a new release of a NF is ready, the NF supplier provides a notification to operator, the notification may includes the location on where to fetch the new NF version and NF information. The notification and feedback are representing the information level for a logical interaction i.e. may not be a machine to machine interface.\nThe Operator CI-CD Pipeline may execute the internal process for with the testing phase for the new NF version, which may includes deliver, validation and tes. At the operational phase, whenever is needed, the operator CI-CD pipeline may interact with the 3GPP management system by requesting corresponding MnSs (e.g. Provisioning MnS, Fault supervision MnS, performance assurance MnS and etc).\nFor new NF deployment, the Network Function Management Service Provider (NFMS_P) handles provisioning MnS request as described in TS 28.531. The NFMS_P may also trigger its internal process for NF management, which may include VNF test procedure as described in ETSI NFV TST [6].\n\n\n\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "",
                    "table number": 3,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        }
    ]
}