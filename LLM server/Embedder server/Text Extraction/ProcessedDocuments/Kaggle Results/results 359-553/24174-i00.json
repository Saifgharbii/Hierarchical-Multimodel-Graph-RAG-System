{
    "document_name": "24174-i00.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document provides the protocol details for the multi-device and multi-identity aspects in the IP Multimedia (IM) Core Network (CN) subsystem based on the requirements from 3GPP TS 22.173 [2].\nThe present document is applicable to user equipment (UE) and application servers (AS) which are intended to support multi-device and multi-identity aspects in the IMS.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 22.173: \"IP Multimedia Core Network Subsystem (IMS) Multimedia Telephony Service and supplementary services; Stage 1\".\n[3]\t3GPP TS 24.229: \"IP multimedia call control protocol based on Session Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".\n[4]\t3GPP TS 24.607: \"Originating Identification Presentation (OIP) and Originating Identification Restriction (OIR) using IP Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".\n[5]\tIETF RFC 3323: \"A Privacy Mechanism for the Session Initiation Protocol (SIP)\".\n[6]\tIETF RFC 3325: \"Private Extensions to the Session Initiation Protocol (SIP) for Network Asserted Identity within Trusted Networks\".\n[7]\t3GPP TS 24.623: \"Extensible Markup Language (XML) Configuration Access Protocol (XCAP) over the Ut interface for Manipulating Supplementary Services\".\n[8]\tIETF RFC 8946: \"Personal Assertion Token (PASSporT) Extension for Diverted Calls\".\n[9]\tOMA-TS-CPM_Message_Storage_Using_RESTFul_API-V1_0-20181025-D: \"CPM Message Store using RESTFul API, Draft Version 1.0 – 25 Oct 2018\",\n.\n[10]\tOMA-TS-REST_NetAPI_NMS-V1_0-20190528-C: \"RESTful Network API for Network Message Storage, Candidate Version 1.0 – 28 May 2019\",\n.\n[11]\t3GPP TS 24.629: \"Explicit Communication Transfer (ECT) using IP Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".\n[12]\t3GPP TS 24.147: \"Conferencing using the IP Multimedia (IM) Core Network (CN) subsystem; Stage 3\".\n[13]\t3GPP TS 24.175: \"Management Object (MO) for Multi-Device and Multi-Identity in IMS; Stage 3\".\n[14]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[15]\tIETF RFC 3261: \"SIP: Session Initiation Protocol\".\n[16]\tIETF RFC 4235: \"An INVITE-Initiated Dialog Event Package for the Session Initiation Protocol (SIP)\".\n[17]\t3GPP TS 24.628: \"Common Basic Communication procedures using IP Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".\n[18]\tRFC 4122 (July 2005): \"A Universally Unique IDentifier (UUID) URN Namespace\".\n[19]\t3GPP TS 24.173: \"IMS Multimedia telephony communication service and supplementary services; Stage 3\".\n[20]\t3GPP TS 31.102: \"Characteristics of the Universal Subscriber Identity Module (USIM) application\".\n[21]\t3GPP TS 31.103: \"Characteristics of the IP multimedia services identity module (ISIM) application\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nnative identity: an identity of form tel URI or SIP URI, used by the UE  and which is associated with the IMSI which is currently used by the UE for IMS registration. The native identity is IMS registered by the UE.\nalternative identity: an identity of form tel URI or SIP URI, used by the UE and which is not associated with the IMSI which is currently used by the UE for IMS registration and is associated with a different IMSI for the same IMS subscription owned by the same IMS network. The alternative identity can be IMS registered by the UE or can be configured in the service data of the UE's IMS subscription.\ncall pull: procedure in which a UE takes over an ongoing session from another UE in the set of federated UEs.\ncall push: procedure in which a UE pushes an ongoing session to another UE in the set of federated UEs.\nexternal alternative identity: an identity of form tel URI or SIP URI, used by the UE and which is not associated with the IMSI which is currently used by the UE for IMS registration but is associated with a different IMSI for another IMS subscription owned by the same or a different IMS network. The external alternative identity is not IMS registered by the UE but is configured in the service data of the UE's IMS subscription.\nvirtual identity: an identity of form tel URI or SIP URI, used by the UE and which is not associated as native identity with any IMSI that is associated with ISIM or USIM in the UE. The virtual identity can be IMS registered by the UE or can be configured in the service data of the UE's IMS subscription.The virtual identity can be used by a single user only or by several users having IMS subscriptions in the same or different IMS networks.\nnon-native identity: an identity which is not the native identity. The non-native identity may be an alternative identity, external alternative identity or a virtual identity.\nfederated UEs: a group of UEs which are configured to use the same public user identity.\nuser A: user A is the originating user, in the present document user A calls user B, where A can be using the identity C.\nuser B: user B is the terminating user, in the present document user A calls user B, where B can be reached under the identity D.\nidentity C: identity C is a non-native identity that can be used by user A and is not registered by user A.\nidentity D: identity D is a non-native identity that can be used by user B and is not registered by user B.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\n3pcc\tThird party call control\nAS\tApplication Server\nMiD\tMulti-iDentity\nMuD\tMulti-Device\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tMulti-device and multi-identity",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The Multi-Device (MuD) service is an operator specific service which enables a user to use different UEs that are registered under the same public user identity. The UEs can be of different types (e.g. phone, tablet, wearable device, PC) and can support a communication log.\nThe Multi-Identity (MiD) service is an operator specific service which enables a user to use different identities. A served user can use a single UE to receive calls addressed to any of its identities and to make calls using any of its identities.\nThe MuD and MiD services can be used at the same time.\nThe UE can indicate to the network which identities are active at the UE. If the identity is not active at the UE, the user cannot use given identity in a communication at the UE.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.2\tDescription",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.2.1\tMuD service description",
                            "text_content": "The MuD service enables a served user to use, in a communication, any of the UEs that are configured to use the same public user identity, i.e. any of the federated UEs.\nThe MuD service enables a synchronization of communication logs between the federated UEs which support communication log. The communication log provides lists of incoming and outgoing, missed, accepted and rejected calls. If the served user accepts or rejects call from one of the federated UEs or when a missed call notification has been read on one of the federated UEs, the communication logs of the other federated UEs are updated so the served user will see the same information on different federated UEs.\nAn outgoing call can be made from any of the federated UEs. A federated UE can indicate to the network which public user identities are (de)activated at the federated UE.\nAn incoming call towards the served user is sent to all federated UEs where that public user identity is active at the federated UE. The call can be accepted on any of the federated UEs which are alerting the served user of an incoming call. The federated UEs can synchronize the call logs by using the call log functionality in OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9] and OMA-TS-REST_NetAPI_NMS [10].\nA federated UE can if authorized by the AS push a call to any other of the federated UEs. A federated UE can if authorized pull a call from any of the other federated UEs.\nThe number of UEs using the same public user identity is implementation specific.\nNOTE:\tIn case federated UEs use common implicit registration set, all federated UEs will subscribe to the registration-state event package and will receive notifications related to all public user identities in this implicit registration set.\nIf the user of the MuD service also subscribes to the MiD service then the user can use non-native identities in addition to native identities on federated UEs. A federated UE can indicate to the network which of these non-native identities are (de)activated at the federated UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.2.2\tMiD service description",
                            "text_content": "The MiD service enables a served user to use any of its identities i.e. native and non-native identities for communication using a single UE. A native identity is always registered by the UE. An alternative identity and a virtual identity can be either registered by the UE, or the UE can be authorized to use these identities based on configuration in the user's service data. An external alternative identity cannot be registered by the UE, but the UE can be authorized to use this identity based on configuration in the user's service data.\nNOTE:\tThe identity registered by the UE is received in the P-Associated-URI header field within 200 (OK) response during registration. The identity not registered but authorized to be used by the UE is configured in the user's service data.\nWhen making a call the served user selects one of its identities that will be used by the UE as an originating identity (calling party number) in an outgoing call. Upon reception of an incoming call the UE provides to the served user an indication on which of its identities the served user is contacted (called party number).\nThe UE can indicate to the network which identities are active at the UE. A native identity is always active at the UE.\nSeveral users of the MiD service can share the same non-native identity for communication.\nThe number of non-native identities used by a user using a single UE is implementation specific.\nIf the user of the MiD service also subscribes to the MuD service then the user can use non-native identities on federated UEs. In such case, the UE can indicate to the network which of these non-native identities are active at each federated UE separately.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.3\tOperational requirements",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.3.1\tProvision/withdrawal",
                            "text_content": "The MiD service and the MuD service are provided after prior arrangement with the service provider.\nThe MiD service and the MuD service are withdrawn at the served user's request or for administrative purposes.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.3.2\tRequirements on the originating network side",
                            "text_content": "For the MiD service, the originating network shall support the Additional-Identity header field.\nFor the MuD service the originating network shall support using a token to identify the registration as specified in TS 24.229 [3].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.3.3\tRequirements in the network",
                            "text_content": "For the MiD service, a network serving an external alternative identity shall support adding the Additional-Identity header field.\nFor the MuD service no specific requirements are needed in the network.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.3.4\tRequirements on the terminating network side",
                            "text_content": "For the MiD service, the terminating network shall support the Additional-Identity header field.\nFor the MuD service the terminating network shall support using a token to identify the registration as specified in TS 24.229 [3].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.4\tCoding requirements",
                    "description": "",
                    "summary": "",
                    "text_content": "No specific coding requirements are defined in the present document.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.5\tSignalling requirements",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.5.1\tGeneral",
                            "text_content": "Configuration of the MiD services by the user should take place over the Ut interface using XCAP as enabling protocol as described in TS 24.623 [7].\nNOTE:\tOther possibilities for user configuration, such as web-based provisioning or pre-provisioning by the operator are outside the scope of the present document, but are not precluded.\nThe enhancements to the XML schema for use over the Ut interface is described in clause 4.8.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.5.2\tActivation/deactivation of MuD/MiD services",
                            "text_content": "The services and individual identities can be activated or deactivated following procedures in the following clauses.\nThe MuD and MiD services are activated at provisioning and deactivated at withdrawal or at the user's request.\nIf the MuD, MiD or both services are activated, the user controls whether identities can be used for incoming and outgoing calls by activation/deactivation of identities.\nVia activation/deactivation of identities in case of MiD service, the user controls if the identity is active on its device. Via activation/deactivation of identities in case of MuD service, the user controls if the identity is active on each device in federation separately. If the user of MuD service is also using MiD service, the user controls if each identity is active on each device separately. There is a separate <ue-instance> element for each of the device, distinguishable by the \"identity\" attribute. The \"identity\" attribute takes the form of a pvalue as derfined in IETF RFC 3261 [15] and can be set by the operator to a value linked with the IMS private user identity. The \"alias\" attribute is modifiable by the user and is filled with a user-friendly identifier making the UE instance easier distinguishable among all the devices in federation.\nThe user of MuD, MiD or both services decides which of the identities that it is allowed to use and can be registered are active and can be used for incoming and outgoing calls by changing the \"Activated\" attribute in the <Registered-identity> elements in the service configuration data.\nThe user of MiD service decides which of the identities that have been allowed to be used for the user but cannot be registered are active and can be used for incoming and outgoing calls by changing the \"Activated\" attribute in the <Shared-identity> elements in the service configuration data.\nThe user decides if it permits another user to use its native identity. The user decides which users among those who have been allowed to use its identity, can use this identity for incoming and outgoing calls by changing the \"Activated\" attribute in the <Delegated-user> elements in the service configuration data.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.5.3\tInvocation and operation",
                            "text_content": "If user A wishes to use a native identity, the UE shall include in the outgoing INVITE or MESSAGE request the From header field and may include the P-Preferred-Identity header field(s) as specified in TS 24.229 [3]. The From header field and the P-Preferred-Identity header field (if included) shall contain the native identity.\nIf user A wishes to use an alternative identity or a virtual identity that the UE has registered, the UE shall include in the outgoing INVITE or MESSAGE request the From header field and the P-Preferred-Identity header field. The P-Preferred-Identity header field and the From header field shall contain the alternative identity or the virtual identity.\nIf user A wishes to use the identity C, the UE shall include in any outgoing INVITE or MESSAGE requests, an Additional-Identity header field, defined in TS 24.229 [3], set to the selected identity and shall include the native identity in the From header field. The UE can learn the identity C by device configuration as specified in TS 24.175 [13] or by using the service configuration in clause 4.8.\nThe UE may support being configured with the identities to be used using one or more of the following methods:\na)\tthe \"MultiIdentity\" interior node of the EFMuDMiDConfigData file described in TS 31.102 [xx];\nb)\tthe \"MultiIdentity\" interior node of the EFMuDMiDConfigData file described in TS 31.103 [yy]; and\nc)\tthe \"MultiIdentity\" interior node of TS 24.175 [13].\nIf the UE is configured with both the \"MultiIdentity\" interior node of TS 24.175 [13] and the \"MultiIdentity\" interior node of the EFMuDMiDConfigData file described in TS 31.102 [xx] or TS 31.103 [yy], then the Media_type_restriction_policy node of the EFMuDMiDConfigData file shall take precedence.\nNOTE:\tPrecedence for files configured on both the USIM and ISIM is defined in TS 31.103 [yy].\nWhen establishing an emergency session and performing the emergency related procedures defined in TS 24.229 [3], the UE shall only use the native identity.\nA UE supporting the MuD service may synchronize the local call log with the network stored call log as specified in OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9] and OMA-TS-REST_NetAPI_NMS [10]. If the served user in the \"From\" header field is an identity not registered by the UE, the UE shall deduce that the call was originated using the Additional-Identity header field.\nThe UE may pull a session from another federated UE by performing the following steps:\nNOTE:\tIn this Release of the present document no procedure is specified to receive consent from the UE the call is pulled from.\na)\tthe UE learns about the session to pull by subscribing to the dialog event package, specified in RFC 4235 [16];\nb)\tthe UE sends an INVITE request towards the far end populated as follows:\n1)\tthe Request-URI is set to the uri in the <target> element of the <remote> element;\n2)\ta Replaces header field containing the dialog identifiers contained as attributes in the <dialog> element of the <dialog-info> element; and\n3)\tany other header field or body as determined by the service logic; and\nc)\twhen the UE receives a response to the INVITE request above the UE follows general procedures in TS 24.229 [3].\nThe UE may push a session to another federated UE by performing the following steps:\na)\tthe UE learns the status and identities of the other federated UEs using the dialog event package, specified in RFC 4235 [16] and extended as specified in clause 7.X.2 in TS 24.229 [3]; and\nb\tthe UE sends a REFER request towards the target UE populated as follows:\nNOTE 1:\tIn this Release of the present document only one UE is targeted in the transfer.\n1)\tthe Request-URI is set to the own public user identity and includes a \"gr\" SIP URI parameter set to the value of the \"identity\" attribute for the target UE received in the <ue-instance> element in the <dialog-info> element in the dialog event notification; and\nNOTE 2:\tThe value in the \"identity\" attribute has the same format as a GRUU, but is not a GRUU assigned by the S-CSCF. It only has local significance.\n2)\ta Refer-to header field set to the SIP URI of the remote end and including in the headers portion of the SIP URI the headers and bodies determined by the service logic.\nUpon receiving an incoming initial INVITE, REFER or MESSAGE request containing an Additional-Identity header field, the AS shall determine the served user as specified in TS 24.229 [3] clause 5.7.1.3A.2 and shall check if any of the served user's registered identities is also included in the Additional-Identity header field. If the Additional-Identity header field contains a served user's registered identity the AS shall remove the Additional-Identity header field from the request and shall forward the request in accordance with procedures defined in TS 24.229 [3]. Otherwise, if the received Additional-Identity header field does not contain any of the served user's registered identities the AS shall:\na)\tverify that the user is authorized to use the identity received in the Additional-Identity header field as specified in clause 4.5.3.2.2; and\nb)\tif the user is not authorized to use the identity included in the Additional-Identity header field, then the AS shall reject the incoming request. The originating request may be rejected by operator policy with a 403 (Forbidden) response including a warning header field 399 \"Identity not allowed\".\nIf the user is authorized to use the identity in the Additional-Identity header field then the AS shall generate a new SIP request based on the received SIP request in accordance with the procedures in TS 24.229 [3] clause 5.7.3 with the following clarifications:\na)\tremove any P-Served-User header field and insert a P-Served-User header field with the identity taken from the Additional-Identity header field in the received request;\nb)\tremove any existing Route header field and insert a Route header field pointing to an I-CSCF or to the S-CSCF hosting the identity in the Additional-Identity header field in the received request;\nc)\tin the Route header field above, append the \"orig\" parameter to the URI; and\nd)\tinsert the Additional-Identity header field with the same value as in the received SIP request.\nThe AS shall send the generated SIP request and may refrain from the invocation of other MMTel services serving the native identity.\nNOTE:\tNo specific procedures are needed regarding the Identity header field. The originating network can attest the identity of user A following normal procedures specified in TS 24.229 [3].\nIf the AS updates the Call Log as specified in OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9] the AS shall populate the \"From\" attribute of the call log object with the value in the Additional-Identity header field, provided the user is authorized to use this identity.\nThe AS serving user A shall authorize the usage of the identity contained in the Additional-Identity header field as the originating identity by checking:\n-\tif the identity contained in the Additional-Identity header field is included in the user's service data associated to the native identity of the originating user; and\n-\tif the \"Activated\" attribute of the <Shared-identity> element of the <multi-identity> element in the service configuration data is set to \"true\".\nOtherwise, user A is not authorized to use the identity contained in the Additional-Identity header field as the originating identity.\nAn AS supporting call pull handling, when receiving an INVITE request as specified in clause 4.5.3.1.2 shall verify that the calling user is allowed to pull a call. If the call pull is allowed, the AS forwards the received INVITE request in accordance with TS 24.229 [3], otherwise the AS rejects the request with an appropriate response code.\nAn AS supporting call push handling, when receiving a REFER request as specified in clause 4.5.3.1.3 shall\na)\tverify that the user is allowed to push a call; and\nb)\tif the call push is allowed, based on local policy, either\n1)\tforward the REFER request towards the REFER target; or\n2)\tstart 3pcc procedures as specified in TS 24.628 [17] to:\nA)\ttransfer the originating leg from the originator of the REFER reqeust to the REFER target; and\nB)\tif necessary, update the terminating leg.\nThe AS shall use the \"gr\" SIP URI parameter in the Request-URI to identify the REFER target UE. If the AS knows that the content of the \"gr\" SIP URI parameter is not a GRUU assigned by the S-CSCF the AS shall remove the \"gr\" SIP URI parameter from the Request-URI before forwarding the request.\nUpon receiving an incoming INVITE or MESSAGE request containing an Additional-Identity header field, the AS shall:\na)\tdetermine the served user as defined in TS 24.229 [3];\nb)\tif the user identified in the P-Asserted-Identity is not allowed to use the identity in the Additional-Identity header field, reject the request using a 403 (Forbidden) response including a warning header field 399 \"Identity not allowed\" and skip the rest of the steps;\nc)\treplace the identity in the From header field with the identity in the Additional-Identity header field;\nd)\tdepending on local configuration, related to the operator policy and regulatory requirements, allowing to determine whether an originating external alternative identity or an originating virtual identity is to be used as an originating identity (calling party number):\n1)\tif the P-Asserted-Identity header can be modified, replace the identity in the P-Asserted-Identity header field with the identity in the Additional-Identity header field; or\n2)\tif the P-Asserted-Identity header cannot be modified, set the Privacy header field \"id\" to keep the native identity private in the P-Asserted-Identity header field as defined in IETF RFC 3325 [6];\ne)\tif the identity of the originating user can be verified, based on local policy initiate addition of an Identity header field attesting the identity C;\nf)\tremove the Additional-Identity header field received in the request; and\ng)\tperform any other originating services as performed by the service logic,\nbefore forwarding the request downstream.\nFor a terminating user, upon receiving an incoming INVITE or MESSAGE request, the AS shall perform any terminating services as performed by the service logic before forwarding the request downstream.\nIf the AS service determines based on configuration that the AS shall forward the request to any of the identities that can use the identity received in the Request-URI, the AS shall for each forwarded request modify the request as follows:\na)\tthe Request-URI is set to the identity configured in the AS; and\nb)\tan Additional-Identity header field, defined in TS 24.229 [3], is added and set to the identity received in the Request-URI.\nIf the AS supports calling number verification using signature verification and attestation information as specified in TS 24.229 [3], the AS treats the forwarding to the identities above as diversions, i.e. uses the \"div\" PASSporT as specified in IETF RFC 8946.\nIf the AS identifies the INVITE request as a PSAP callback, the MiD service shall not be triggered.\nUpon receiving an INVITE or MESSAGE request not containing an Additional-Identity header field and if the terminating user is subscribed to the MuD service, the AS shall when sending the request to the UEs verify whether the identity in the Request-URI is activated by the MiD service and on the target UE. The AS shall only send the request to a target UE if the identity is active both in the MiD service and on the target UE. If the user does not subscribe to the MiD service, but the user has the received identity configured in the implicit registration set, the AS considers the identity to be activated by the MiD service.\nUpon receiving an INVITE or MESSAGE request containing an Additional-Identity header field and if the terminating user is subscribed to the MuD and the MiD service, the AS shall when sending the request to the UEs verify whether the identity in the Additional-Identity header field is activated by the MiD service and on the target UE. The AS shall only send the request to a target UE if the identity is active both in the MiD service and on the target UE. The AS may refrain from the invocation of other MMTel services configured for the user of the native identity.\nIf the AS updates the Call Log as specified in OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9] the AS shall populate the \"To\" attribute of the call log object with the value in the Additional-Identity header field, provided the user is authorized to use this identity.\nAn AS supporting call pull and call push handling, uses the procedures specified in clauses 4.5.3.2.3 and 4.5.3.2.4.\nA UE supporting the MiD service shall support the receipt of the Additional-Identity header field, defined in TS 24.229 [3], in SIP requests initiating a dialog or standalone transaction.\nNOTE:\tThe UE finds a targeted external alternative identity in the Additional-Identity header field.\nA UE supporting the MuD service may synchronize the local call log with the network stored call log as specified in OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9] and OMA-TS-REST_NetAPI_NMS [10]. If the served user in the \"To\" header field is an identity not registered by the UE, the UE shall deduce that the call was originated using the Additional-Identity header field.\nA UE supporting call pull and call push handling uses the procedures specified in 4.5.3.1.2 and 4.5.3.1.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.6\tService interactions",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.6.1\tOriginating Identification Presentation (OIP)",
                            "text_content": "No impact. Neither service shall affect the operation of the other service.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.2\tOriginating Identification Restriction (OIR)",
                            "text_content": "No impact.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.3\tTerminating Identification Presentation / Terminating Identification Restriction (TIP/TIR)",
                            "text_content": "No impact.\nFor TIP, the AS serving identity D shall in SIP responses remove the P-Asserted-Identity header field received from UE-B and insert a P-Asserted-Identity identifying the served user.\nFor TIR, the AS serving identity D shall pass any Privacy header field unchanged towards the originating user.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.4\tAdvice of Charge",
                            "text_content": "No impact. Neither service shall affect the operation of the other service.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.5\tCommunication Waiting (CW)",
                            "text_content": "For MuD, if there are ongoing communications, it is a service option whether to send an incoming initial INVITE to all federated UEs or only those UEs with ongoing communications.\nFor MiD, no impact.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.6\tCommunication Hold",
                            "text_content": "No impact. Neither service shall affect the operation of the other service.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.7\tExplicit Communication Transfer (ECT)",
                            "text_content": "No impact; i.e. neither service shall affect the operation of the other service.\nWhen the UE initiates a communication transfer, the UE shall use the same identity in the Referred-By header field as was indicated for the established session. If the UE uses identity C or identity D for the established session, the UE shall add the Addditional-Identity header field containing this identity.\n4.6.7.2.2.1\tIdentifying a request for communication transfer\nSee TS 24.629 [11] on the criteria to determine that a REFER request is to be treated as a request for transfer of an existing communication.\n4.6.7.2.2.2\tHandling of transfer requests\nWhen a REFER request identified as a request for transfer is received from the served user and the Additional-Identity header field is included in the REFER request the AS shall authorize the use of the Additional-Identity header field as specified in clause 4.5.3.2.2. If the user is authorized to use the Additional-Identity header field the AS shall forward the REFER request as follows:\na)\tif the REFER request was received inside the dialog, the AS forwards the request in the existing dialog towards the transferee; or\nb)\tif the REFER request was received outside the existing dialog, as specified in TS 24.629 [11], the AS forwards the REFER request towards the transferee with the same considerations as specified for an initial INVITE request in clause 4.5.3.2.1.\n4.6.7.2.2.3\tActions at the AS serving the identity C or identity D\nWhen a REFER request identified as a request for transfer that contains an Additional-Identity header field containing a URI of the served user is received the AS shall in addition to the procedures in clause 4.5.3.3 verify that the Referred-By header field is consistent with the Additional-Identity header field, and if necessary replace the Referred-By header field value with the identity in the received Additional-Identity header field. The AS then forwards the REFER request following normal procedures.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.8\tConference calling (CONF)",
                            "text_content": "No impact, i.e. neither service shall affect the operation of the other service.\nTo be able to later use the CONF service, when the UE sends an INVITE request to a second user, the UE shall use the same identity as the UE used when setting up the first communication.\nWhen creating the conference with an INVITE request the UE shall use the same identity as the UE used in the communications now on HOLD. If the UE uses identity C or identity D for the established sessions, the UE shall add the Addditional-Identity header field containing this identity. The UE sets the Request-URI to the same conference factory URI as the UE uses for the native identities.\nWhen the UE adds a conference participant using the procedures in clause 5.3.1.5.3 in TS 24.147 [12], the UE shall set the Referred-By header field in the REFER request to the same identity as the one used when creating the original session(s). If this identity is a non-registered identity (identity C or identity D) the UE adds the Additional-Identity header field containing this identity.\nIf the AS receives an INVITE request with a Request-URI to a conference factory used in the serving network and an Additional-Identity header field, the AS in addition to the procedures in clause 4.5.3.2.1 replaces the Request-URI with a default conference factory URI for MMTel (as specified in TS 23.003 [14]) valid in the home network of the identity in the Additional-Identity header field.\nIf the AS receives an INVITE request, addressed to a default conference conference factory URI for MMTel as specified in TS 23.003 [14], including an Additional-Identity header field the AS may in additon to the procedures in clause 4.5.3.3 modify the Request-URI to include any conference factory URI of the serving network.\nIf the AS receives a REFER request containing an Additional-Identity header field, the AS shall in additon to the procedures in clause 4.5.3.3 verify that the identity in the Referred-By header field is consistent with the Additional-Identity header field, and if necessary replace the Referred-By header field value with the identity in the received Additional-Identity header field. The AS then forwards the REFER request following normal procedures.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.9\tClosed User Group (CUG)",
                            "text_content": "For MuD no impact, i.e. neither service shall affect the operation of the other service.\nFor MiD, CUG imposes restrictions on both incoming and outgoing calls. The MiD shall not use any identity C or identity D that are restricted by the CUG service.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.10\tCompletion of Communications to Busy Subscriber (CCBS)",
                            "text_content": "No impact, i.e. neither service shall affect the operation of the other service.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.11\tCommunication Diversion (CDIV)",
                            "text_content": "At the AS serving the user holding the terminating external alternative or virtual identity, the CFU (communication forwarding unconditional) take precedence over execution of MiD and MuD services.\nAt the terminating side, it is implementation specific to select CDIV service when different CDIV services apply to different federated UEs.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.12\tMalicious Communication Identification (MCID)",
                            "text_content": "NOTE:\tWhen the originating user has a MiD service invoked and if the operator policy and regulatory requirements state that for the originating request the P-Asserted-Identity header cannot be modified, identities from the P-Asserted-Identity header field and From header field stored by MCID service represent different users.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.13\tAnonymous Communication Rejection (ACR) and Communication Barring (CB)",
                            "text_content": "The Incoming Communications Barring (ICB), Outgoing Communications Barring (OCB) and Anonymous Call Rejection (ACR) of the non-native identity take precedence over MuD and MiD services.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.14\tMessage Waiting Indication (MWI)",
                            "text_content": "In case of the MuD service, there is no impact on the operation of the other service.\nThe MWI is not supported for the identities, which are shared.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.15\tFlexible Alerting (FA)",
                            "text_content": "MuD service can be combined with FA with no impacts.\nTerminating MiD service is competing with FA.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.16\tEnhanced Calling Name (eCNAM)",
                            "text_content": "In case of the MuD service, if the terminating user with MuD service has eCNAM activated, incoming calls to an identity shall apply eCNAM to all federated UEs.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.17\tMulti-Device (MuD)",
                            "text_content": "When a user has the MiD service, any external alternative or virtual identity that is authorized to be used and activated by the MiD service can be activated on any of the Federated UEs as part of the user's MuD service.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.18\tMulti-Identity (MiD)",
                            "text_content": "No impact. The activation of an identity by the MiD service is a condition for that identity to be active on a federated UE by the MuD service.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.19\tCustomized Alerting Tones (CAT)",
                            "text_content": "No impact.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.6.20\tCustomized Ringing Signal (CRS)",
                            "text_content": "No impact.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "4.7\tParameter values and timers",
                    "description": "",
                    "summary": "",
                    "text_content": "No parameters and timers are defined in the present document.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "4.8\tService configuration for multi-device and multi-identity",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "4.8.1\tGeneral",
                            "text_content": "The multi-device and multi-identity documents are subtrees of the simservs document specified in TS 24.623 [7]. As such, multi-device and multi-identity documents use the XCAP application usage in TS 24.623 [7].\nXML schema: Implementations in compliance with the present document shall implement the XML schema that minimally includes the XML schema defined in clause 4.8.2 and the simservs XML schema specified in TS 24.623 [7].\nData semantics: The semantics of the multi-device and multi-identity XML configuration document is specified in clause 4.8.3.\nThe UE can only read the MuD and MiD configuration document and modify the \"Activated\" attribute of the <Registered-identity>,<Shared-identity> and <Delegated-user>  elements.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.8.2\tXML schema",
                            "text_content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:ss=\"http://uri.etsi.org/ngn/params/xml/simservs/xcap\"\ntargetNamespace=\"http://uri.etsi.org/ngn/params/xml/simservs/xcap\"\nelementFormDefault=\"qualified\"\nattributeFormDefault=\"unqualified\" >\n<xs:include schemaLocation=\"XCAP.xsd\"/>\n<xs:element name=\"multi-device\" substitutionGroup=\"ss:absService\">\n<xs:annotation>\n<xs:documentation>Element describing the multi-device specific features for a given UE instance</xs:documentation>\n</xs:annotation>\n<xs:complexType>\n<xs:complexContent>\n<xs:extension base=\"ss:simservType\">\n<xs:sequence>\n<!-- Element identitifying the UE among federated UEs, containing the attributes \"identity\" for IMPI and \"alias\" for user friendly name) -->\n<xs:element name=\"ue-instance\" minOccurs=\"1\" maxOccurs=\"unbounded\">\n<xs:complexType>\n<xs:sequence>\n<!-- Element containing the identity the UE can use, which can be registered -->\n<xs:element name=\"Registered-identity\" type=\"ss:Registered-identityType\" minOccurs=\"1\" maxOccurs=\"unbounded\"/>\n<!-- Element containing the identity the UE can use since it is shared with it -->\n<xs:element name=\"Shared-identity\" type=\"ss:Shared-identityType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n<xs:attribute name=\"identity\" type=\"xs:string\"/>\n<xs:attribute name=\"alias\" type=\"xs:string\"/>\n</xs:complexType>\n</xs:element>\n</xs:sequence>\n</xs:extension>\n</xs:complexContent>\n</xs:complexType>\n</xs:element>\n<xs:element name=\"multi-identity\" substitutionGroup=\"ss:absService\">\n<xs:annotation>\n<xs:documentation>Element describing the multi-identity specific features</xs:documentation>\n</xs:annotation>\n<xs:complexType>\n<xs:complexContent>\n<xs:extension base=\"ss:simservType\">\n<xs:sequence>\n<!-- Element containing the delegated identity, i.e., which can use the identity of the UE since it is shared with it -->\n<xs:element name=\"Delegated-user\" type=\"ss:Delegated-userType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\n</xs:sequence>\n</xs:extension>\n</xs:complexContent>\n</xs:complexType>\n</xs:element>\n<xs:complexType name=\"Registered-identityType\">\n<xs:simpleContent>\n<xs:extension base=\"xs:anyURI\">\n<xs:attribute name=\"Activated\" type=\"xs:boolean\" default=\"true\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"Shared-identityType\">\n<xs:simpleContent>\n<xs:extension base=\"xs:anyURI\">\n<xs:attribute name=\"Activated\" type=\"xs:boolean\" default=\"true\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n<xs:complexType name=\"Delegated-userType\">\n<xs:simpleContent>\n<xs:extension base=\"xs:anyURI\">\n<xs:attribute name=\"Activated\" type=\"xs:boolean\" default=\"true\"/>\n</xs:extension>\n</xs:simpleContent>\n</xs:complexType>\n</xs:schema>\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "4.8.3\tSemantics",
                            "text_content": "This clause contains the description of the data elements in the XML schema.\nThis is a root element for elements related to MuD service. This element contains one or more occurrences of <ue-instance> element.\nThe <ue-instance> element represents the instance of the UE. If the user of the UE is subscribed to the MuD service, there is a dedicated element per each of the devices within MuD. This element has following attributes:\n-\t\"identity\" – a unique identity allowing to distinguish the UEs within the user's federated UEs. The \"identity\" value shall take the form of a pvalue as defined in IETF RFC 3261 [15] and is derived from the IMS private user identity using the name-based UUID algorithm specified in RFC 4122 [18]. The hash algorithm shall be SHA-1.;\n-\t\"alias\" – a user friendly identifier of given UE instance.\nNOTE:\tA single <ue-instance> element exists even if the user did not subscribe to MuD service, but is using MiD service on a single UE.\nEach <ue-instance> element contains one or more <Registered-identity> element, containing the identity, which can be registered by a given UE instance. The identity has an attribute associated, which indicates if the identity can be used for incoming and outgoing communication.\nEach <ue-instance> element contains zero or more occurrences of <Shared-identity> element, containing the shared identity for a given UE instance. The identity has an attribute associated, which indicates if the identity can be used for incoming and outgoing communication.\nThis is a root element for elements related to MiD service. This element contains zero or more occurrences of <Delegated-user> element.\nThe <Delegated-user> element contains the delegated identity that is allowed to use the native identity. The identity has an attribute associated, which indicates if the user of delegated identity can use the native identity for incoming and outgoing communication.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tIntroduction",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "A.1.1\tCall flow overview",
                    "description": "",
                    "summary": "",
                    "text_content": "This annex contains originating and terminating call flow examples for the following use cases:\n-\tOriginating flow when user A uses a non-native identity A1 registered by the UE.\n-\tOriginating flow when user A uses an identity C.\n-\tTerminating flow when user B is reached by an identity D.\n-\tTerminating flow when user B is reached by a native identity on multiple devices.\n-\tMuD call flow: subscription to notifications of network call log changes.\n-\tMuD call flow: synchronization of list of outgoing calls.\n-\tMuD call flow: synchronization of missed call notifications.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.1.2\tIdentity conventions used in this annex",
                    "description": "",
                    "summary": "",
                    "text_content": "A native identity is designated A-or B-in the flows for originating and terminating users, respectively. In the coding examples tel:+11111111 is used for originating native identities and tel:+11112222 is used for terminating native identities. For originating user A, a non-native identity registerd by the UE is designated A1 in the flows. In the coding examples, for simplicity reason, tel:+11111111 is also used in case of originating non-native registered identity.\nIdentity C and D are used in the flows for originating and terminating users, respectively. In the coding examples tel:+22221111 is used for originating non-registered identities and tel:+22222222 is used for terminating non-registered identities.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "A.2\tOriginating call flows",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "A.2.1\tUE-A indicates a non-native identity A1 registered by the UE",
                    "description": "",
                    "summary": "",
                    "text_content": "This call flow illustrates the handling of the identity A1 registered by the UE for originating call.\nIt applies to the cases when alternative identity registered by the UE or virtual identity registered by the UE is used.\nIn this case, only the AS of user A is involved on the originating side.\nNOTE:\tA deployment option where the UE-A indicates an identity not registered by the UE and only the AS serving user A is involved is out of the scope of this specification.\nThe figure depicts a 2.1-1 on-native identity A1 registered by the UE, illustrating the process of identity registration in a 5G network.\nFigure A.2.1-1: UE-A indicates a non-native identity A1 registered by the UE\n1.\tUE-A sends an INVITE message to P/S-CSCF-A, for an example see table A.2.1-1\nThe UE-A includes in the initial INVITE request the From header field and the P-Preferred-Identity header field set to the identity A1 registered by the UE and sends the initial INVITE request to the P/S-CSCF-A according to TS 24.229 [3].\nTable A.2.1-1: INVITE request (UE-A to P/S-CSCF-A)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Preferred-Identity: <tel:+11111111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n2.\tP/S-CSCF-A forwards the INVITE message to AS-A, for an example see table A.2.1-2\nThe P-CSCF-A populates the P-Asserted-Identity header field with the identity A1 registered by the UE following procedures defined in TS 24.229 [3].\nThe S-CSCF-A forwards the request to the AS-A using initial filter criteria.\nTable A.2.1-2: INVITE request (P/S-CSCF-A to AS-A)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Asserted-Identity: <sip:+11111111@plmnA.net;user=phone>, <tel:+11111111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n3.\tAS-A forwards the INVITE message to the S-CSCF-A, for an example see table A.2.1-3\nAS-A performs originating services as needed and forwards the request to the S-CSCF-A according to TS 24.229 [3].\nTable A.2.1-3: INVITE request (AS-A to P/S-CSCF-A)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Asserted-Identity: <sip:+11111111@plmnA.net;user=phone>, <tel:+11111111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n4.\tS-CSCF-A forwards the INVITE message towards the PLMN-B\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.2.2\tUE-A indicates an identity C",
                    "description": "",
                    "summary": "",
                    "text_content": "This alternative is applicable to the cases when the UE-A indicates an identity which has not been registered by UE-A (i.e., it applies to the cases when UE-A indicates an alternative identity not registered by the UE or a virtual identity not registered by the UE) or an external alternative identity.\nThe figure depicts a 2.2-1 network topology, showing the relationship between the user equipment (UE) and the base station (B). The UE-A indicates a n identity C, which is a key component in the network.\nFigure A.2.2-1: UE-A indicates an identity C\n1.\tUE-A sends an INVITE message to P/S-CSCF-A, for an example see table A.2.2-1\nUser A at UE-A initiates a call on behalf of the identity C. The UE-A includes the Additional-Identity header field in the initial INVITE request to indicate that the user of UE-A wishes to use the identity C for this call, the From and the P-Preferred-Identity header fields set to the native identity and sends the initial INVITE request to the P/S-CSCF-A according to TS 24.229 [3].\nNOTE 1:\tAccording to procedures defined in TS 24.229 [3] the P-Preferred-Identity header field can be omitted.\nTable A.2.2-1: INVITE request (UE-A to P/S-CSCF-A)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+11111111>;tag=4fa3\nAdditional-Identity: <tel:+22221111>\nP-Preferred-Identity: <tel:+11111111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n2.\tS-CSCF-A forwards the INVITE message to AS-A, for an example see table A.2.2-2\nThe P-CSCF-A populates the P-Asserted-Identity header field with the native identity following procedures defined in TS 24.229 [3].\nThe S-CSCF-A forwards the request to the AS-A using initial filter criteria.\nTable A.2.2-2: INVITE request (P/S-CSCF-A to AS-A)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Asserted-Identity: <sip:+11111111@plmnA.net;user=phone>, <tel:+11111111>\nAdditional-Identity: <tel:+22221111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n3.\tAS-A forwards the INVITE message to the S-CSCF-C, for an example see table A.2.2-3\nAS-A verifies that the user is authorized to use the identity received in the Additional-Identity header field and if so, it does not modify the P-Asserted-Identity header field, it creates a P-Served-User header field with the identity copied from the received Additional-Identity header field and it insert a Route header field pointing to an I-CSCF or to the S-CSCF hosting the identity in the Additional-Identity header field and append the \"orig\" parameter to it. AS-A performs the originating services as needed and forwards the request to the S-CSCF-C.\nTable A.2.2-3: INVITE request (AS-A to S-CSCF-C)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Asserted-Identity: <sip:+11111111@plmnA.net;user=phone>, <tel:+11111111>\nAdditional-Identity: <tel:+22221111>\nP-Served-User: <tel:+22221111>\nRoute: <sip:server-C.plmnA.net; orig>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n4.\tS-CSCF-C forwards the INVITE message to AS-C, for an example see table A.2.2-4\nThe S-CSCF-C removes the Route header field pointing to it and forwards the request to the AS-C using initial filter criteria.\nTable A.2.2-4: INVITE request (S-CSCF-C to AS-C)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Asserted-Identity: <sip:+11111111@plmnA.net;user=phone>, <tel:+11111111>\nAdditional-Identity: <tel:+22221111>\nP-Served-User: <tel:+22221111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n5.\tAS-C forwards the INVITE message to the S-CSCF-C, for an example see table A.2.2-5\nAS-C verifies that the identity C received in the Additional-Identity header field has been authorized to be used by user A. If it is the case, it creates the P-Asserted-Identity header field with the identity copied from the received Additional-Identity header field and performs originating services as needed. AS-C replaces the identity in the From header field with the identity copied from the received Additional-Identity header field, removes from the INVITE request the received P-Asserted-Identity, P-Served-User and Additional-Identity header fields and forwards the request to the S-CSCF-C according to TS 24.229 [3].\nNOTE 2:\tDepending on local configuration, related to the operator policy and regulatory requirements, AS-C replaces the identity in the P-Asserted-Identity header field with the identity in the Additional-Identity header field, or if the P-Asserted-Identity header cannot be modified, AS-C sets the Privacy header field to value \"id\", as specified in clause 4.5.3.3.\nTable A.2.2-5: INVITE request (AS-C to S-CSCF-C)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+22221111>;tag=4fa3\nP-Asserted-Identity: <sip:+22221111@plmnA.net;user=phone>, <tel:+22221111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n6.\tS-CSCF-C forwards the INVITE message towards the PLMN-B\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "A.3\tTerminating flows",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "A.3.1\tUE-B reached by identity D",
                    "description": "",
                    "summary": "",
                    "text_content": "This call flow illustrates the handling of an identity for terminating calls not registered by UE-A. For simplicity the CSCF nodes have been omitted.\nThe figure depicts a 3D representation of a wireless communication network, specifically highlighting the path taken by a UE (User Equipment) to reach an Identity D. The network is composed of various elements such as base stations (B), user equipment (UE), and scatterers, which are essential for signal propagation and reception. The figure illustrates the multi-path signal propagation, with the UE reflecting off buildings and combining at the receiver. Key components such as beamforming techniques are used to mitigate interference, ensuring reliable communication.\nFigure A.3.1-1: UE-B reached by an identity D\n1.\tAS-D receives an INVITE message from PLMN-A, for an example see table A.3.1-1\nThe Request-URI identifies the target user as D. Based on that, AS-D determines the identities to which it shall forward the request.\nThe AS-D determines that this request needs to go to UE-B for which the identity in Request-URI is not a native identity and it applies required forwarding behavior, as part of the MiD service.\nThe AS-D also sends this message to UE(s) of the user owning identity D following procedures defined in TS 24.229 [3].\nThe AS-D sets the Request-URI to identity B and adds an Additional-Identity header field set to identity D.\nTable A.3.1-1: INVITE request (PLMN-A to AS-D)\nINVITE tel:+22222222 SIP/2.0\n\nTo: <tel:+22222222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Asserted-Identity: <sip:+11111111@plmnA.net;user=phone>, <tel:+11111111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n2.\tAS-D forwards the INVITE message towards S-CSCF-B, for an example see table A.3.1-2\nTable A.3.1-2: INVITE request (AS-D to S-CSCF-B)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+22222222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Asserted-Identity: <sip:+11111111@plmnA.net;user=phone>, tel:+11111111\nAdditional-Identity: <tel:22222222>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n3.\tS-CSCF-B forwards the INVITE message to AS-B\n-\tAS-B performs terminating services.\n4.\t-AS-B forwards the INVITE message to S-CSCF-B\n5.\tS-CSCF-B forward the INVITE message to UE-B\nS-CSCF-B replaces B identity with the UE-B contact in the Request-URI and adds a P-Called-Party-ID header field.\nUE-B determines from the Additional-Identity header field that it has been reached using the identity D. The P-Called-Party-Id header field can be ignored.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.3.2\tUE-B reached by native identity on multiple devices",
                    "description": "",
                    "summary": "",
                    "text_content": "This call flow illustrates the handling of the terminating call case when the request is forwarded towards the user holding the requested identity as native identity who subscribes to the MuD service. It follows normal procedures and is included for completeness.\nThe figure depicts a scenario where a UE (User Equipment) is connected to a native identity on multiple devices, illustrating the concept of multi-hop communication in a 5G network.\nFigure A.3.2-1: UE-B reached by a native identity on multiple devices\n1.\tS-CSCF-B receives an INVITE message from PLMN-A, for an example see table A.3.2-1\nThe Request-URI identifies user B as B-native.\nTable A.3.2-1: INVITE request (PLMN-A to I/S/P-CSCF-B)\nINVITE tel:+11112222 SIP/2.0\n\nTo: <tel:+11112222>\nFrom: <tel:+11111111>;tag=4fa3\nP-Asserted-Identity: <sip:+11111111@plmnA.net;user=phone>, <tel:+11111111>\n\nOther SIP header fields and SDP according to 3GPP TS 24.229 [3]\n\n2.\tS-CSCF-B forwards the INVITE message to AS-B\nThe AS-B determines that it shall forward the request towards UE1-B and UE2-B for which the identity in Request-URI is a native identity.\nAS-B can also send this to UEs configured to use the identity from the Request-URI as external alternative identity. This follows the terminating procedure in clause A.3.1.\n3.\tAS-B forwards the INVITE message to the S-CSCF-B\nThe S-CSCF-B replaces B identity with the UE1-B contact and UE2-B contact , respectively, in the Request-URI and adds a P-Called-Party-ID header field.\n4.\tS-CSCF-B forwards the INVITE message to UE-B\n5.\tUE2-B responds with 200 (OK)\n6.\tThe S-CSCF-B forwards the 200 (OK) response to AS-B\nThe S-CSCF-B inserts a Feature-Caps header field including a \"registration-token\" header field parameter to identify the registration flow.\nNOTE:\tThe AS-B learns the values of the registration-token during registration as specified in TS 24.229 [3]\n7.\tThe AS-B forwards the 200 (OK) response to the S-CSCF-A.\n8.\tThe S-CSCF-B forwards the 200 (OK) response to PLMN-A.\nThe S-CSCF-B removes the \"registration-token\" header field parameter.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "A.4\tMuD call flows: Synchronization of call logs",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "A.4.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The call flows in the following clauses illustrate typical scenarios to synchronize local call logs in federated UEs with the network stored call log.\nThe network call log storage is hosted in the AS. The AS updates the call log objects as appropriate based on the SIP call control signalling. The UE uses HTTP over the Ut reference point to subscribe to changes in the centralized call log, and use the notifications received to update the own local call log. The UE and the AS procedures and signalling related to the call log synchronization are based on the \"strict synchronization\" mechanism in accordance to OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9] and OMA-TS-REST_NetAPI_NMS.\nIncoming and outgoing calls of user A follow normal procedures as specified in TS 24.229 [3] but for simplicity only the AS node is shown (the CSCF, MRF, IBCF nodes have been omitted).\nIn the examples, \"solid\" lines represent the HTTP signalling between the UE and the AS and \"dashed\" lines represent the SIP call control signalling.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.4.2\tSubscription to notifications of network call log changes",
                    "description": "",
                    "summary": "",
                    "text_content": "This call flow illustrates subscription to notifications of network call log changes for the user of the MuD service which has two UEs. Subscription to notifications of network call log changes needs to be done separately for each UE.\nNOTE 1:\tThe UE can also read an individual subscription to a call log notification, update an individual subscription to notifications of network call log changes or unsubscribe to call log notifications.\nThe figure depicts a network call log change notification system, showing the steps involved in updating the system to notify users of changes in network call logs. The system includes a notification system, a database, and a user interface for managing the system.\nFigure A.4.2-1: Subscription to notifications of network call log changes\n1.\tUE1-A sends an HTTP POST request to AS-A\nTo subscribe to notifications of network call log changes, the UE1-A sends the HTTP POST request with \"{apiRoot}/nms/{apiVersion}/{storeName}/{boxId}/subscriptions\" as a request URI and the \"NmsSubscription\" data structure as a request body to the AS-A.\nNOTE 2:\tThe \"NmsSubscription\" data structure is defined in OMA-TS-REST_NetAPI_NMS.\nThe UE1-A includes in the \"NmsSubscription\":\n-\ta UE1-A_callback_URI where the UE1-A wants to receive the requested notifications in the \"callbackReference\" attribute;\n-\tchanges in the call log the UE1-A is interested to receive in the \"filter\" attribute i.e. flag for an indication of a call log entry with enriched calling information received in association with the call (type = Flag, name = $CPM_CallLog_EnCall);\nand can include:\n-\tperiod of time (in seconds) notifications are provided for in the \"duration\" attribute; and\n-\tsubscription restart token indicating the point at which this UE1-A subscription is to start in the \"restartToken\" attribute (e.g., if the UE1-A has been offline for a period).\nNOTE 3:\tIf the \"restartToken\" attribute is absent, any changes from the time this UE1-A subscription is created will be notified by the AS-A.\n2.\tAS-A sends a HTTP response \"201 Created\" to UE1-A\nThe AS-A creates a new Individual Subscription resource and sends a \"201 Created\" response to the UE1-A. The AS-A includes in the \"201 Created\" response:\n-\ta Location header field containing the URI of the created resource i.e. \"{apiRoot}/nms/{apiVersion}/{storeName}/{boxId}/subscriptions/{subscriptionId-1}\"; and\n-\t\"NmsSubscription\" data structure.\nThe AS-A includes in the \"NmsSubscription\" data structure subscription data for the UE1-A:\n-\tperiod of time (in seconds) which the UE1-A subscription will still be valid in the \"duration\" attribute;\n-\tindex of the next notification to be issued to the UE1-A in the \"index\" attribute; and\n-\tsubscription restart token indicating the point at which this UE1-A subscription currently starts in the \"restartToken\" attribute,\nand can include:\n-\tthe maximum number of events that can be delivered in a NmsEventList in the \"maxEvents\" attribute if \"maxEvents\" attribute was not provided by the UE1-A.\n3.\tUE2-A sends an HTTP POST request to AS-A\nThis step is same as step 1, but in the \"NmsSubscription\" data structure the UE2-A includes its own subscription data e.g. the \"callbackReference\" attribute contains a UE2-A_callback_URI where the UE2-A wants to receive the requested notifications.\n4.\tAS-A sends a HTTP response \"201 Created\" to UE2-A\nThis step is same as step 2, but the AS-A creates a new Individual Subscription resource for the UE2-A. The \"NmsSubscription\" data structure contains subscription data for the UE2-A. The URI of the created resource is indicated in a Location header field:\n\"{apiRoot}/nms/{apiVersion}/{storeName}/{boxId}/subscriptions/{subscriptionId-2}\".\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.4.3\tSynchronization of list of outgoing calls",
                    "description": "",
                    "summary": "",
                    "text_content": "This call flow illustrates synchronization of list of outgoing calls when the user of the MuD service has two UEs and both UEs subscribed to notifications of network call log changes, as shown in clause A.4.2.\nThe figure depicts a list of outgoing calls, illustrating the synchronization of calls across different time zones.\nFigure A.4.3-1: Synchronization of list of outgoing calls\n1. - 10\tUser A makes a call towards UE-B from UE1-A\nThe call flow between the UE1-A and the UE-B via the AS-A follows normal procedures as specified in TS 24.229 [3]. The UE-B answered call.\nNOTE 1:\tFor simplicity SIP \"100 Trying\", \"183 Session Progress\" responses, SIP ACK requests etc. are not shown.\n11.\tUE1-A updates local call log\nAfter call release i.e. in this example sending SIP 200 OK response to the UE-B, the UE1-A adds outgoing call to the UE-B in the local call log.\n12.\tAS-A updates UE-A network call log\nAfter call release i.e. in this example sending SIP 200 OK response to the UE-B, the AS-A adds a call log entry with enriched calling information in the UE-A's network call log.\n13.\tAS-A sends a HTTP POST request to UE1-A\nThe AS-A observes changes in the call log for which the UE1-A has subscribed to and sends an HTTP POST request with \"callbackReference\" as a request URI (i.e. UE1-A_callback_URI) and the \"NmsEventList\" data structure as a request body, containing the call log object.\nNOTE 2:\tThe \"NmsEventList\" data structure is defined in OMA-TS-REST_NetAPI_NMS [10] and Call log object is defined in OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9].\n14.\tUE1-A sends a HTTP response \"204 No Content\" to AS-A\nUpon successful reception of the HTTP POST request the UE1-A:\n-\tstores received \"index\" attribute;\n-\tstores received \"restartToken\" attribute; and\n-\tsends an HTTP \"204 No Content\" response to the AS-A.\n15.\tUE1-A local call log update\nThe UE1-A may update its local call log with the call log object for the outgoing call from the UE1-A to the UE-B as needed.\n16.\tAS-A sends a HTTP POST request to UE2-A\nThe AS-A observes changes in the call log for which the UE2-A has subscribed to and sends an HTTP POST request with \"callbackReference\" as a request URI (i.e. UE2-A_callback_URI) and the \"NmsEventList\" data structure as a request body, containing the call log object.\n17.\tUE2-A sends a HTTP response \"204 No Content\" to AS-A\nUpon successful reception of the HTTP POST request the UE1-A:\n-\tstores received \"index\" attribute;\n-\tstores received \"restartToken\" attribute; and\n-\tsends an HTTP \"204 No Content\" response to the AS-A.\n18.\tUE2-A local call log update\nBased on information received from the AS-A in the HTTP POST request, the UE2-A adds the outgoing call log object from the UE-A to the UE-B in the local call log.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.4.4\tSynchronization of missed call notifications",
                    "description": "",
                    "summary": "",
                    "text_content": "This call flow illustrates synchronization of missed call notifications when the user of the MuD service has two UEs and both UEs subscribed to notifications of network call log changes, as shown in clause A.4.2.\nThe figure depicts a synchronization of missed call notifications, illustrating the process of how calls are received and processed in a call center. The figure shows the various stages of the call, including the reception of the call, the call being transferred to the call center, and the notification of the missed call. The figure also shows the different types of notifications, such as voice, text, and email, and the different levels of priority, such as urgent, important, and non-urgent. The figure is a visual representation of the call center's workflow, helping to improve efficiency and accuracy in the call center's operations.\nFigure A.4.4-1: Synchronization of missed call notifications\n1. - 6\tUE-B makes a call towards UE-A\nThe call flow between the UE-B and the user A UE's via the AS-A follows normal procedures as specified in TS 24.229 [3]. The user A subscribed to MuD service and the AS-A forwards SIP initial INVITE request to the UE1-A and the UE2-A. The user A did not answer call from the UE-B.\nNOTE 1:\tFor simplicity SIP \"100 Trying\", \"183 Session Progress\" responses, SIP ACK requests etc. are not shown.\n7a.\tUE1-A updates local call log\nAfter sending of an unsuccessful SIP response on SIP initial INVITE request (i.e. in this example SIP \"480 Temporarily Unavailable\" response) to the UE-B, the UE1-A adds incoming call from the UE-B in the local call log and marks it as \"Missed\" and flagged as \"Not seen\".\n7b.\tUE2-A updates local call log\nAfter sending of an unsuccessful SIP response on SIP initial INVITE request (i.e. in this example SIP \"480 Temporarily Unavailable\" response) to the UE-B, the UE2-A adds incoming call from the UE-B in the local call log and marks it as \"Missed\" and flagged as \"Not seen\".\n8.\tAS-A updates UE-A network call log\nAfter sending of unsuccessful SIP response on SIP initial INVITE request (i.e. in this example SIP \"480 Temporarily Unavailable\" response) to the UE-B, the AS-A creates a call log entry with enriched calling information in the UE-A's network call log: incoming call from the UE-B is marked as \"LEFT_MESSAGE\".\nNOTE 2:\tThe following values are specified for the incoming call: \"ANSWERED\", \"LEFT_MESSAGE\", \"HUNG_UP\", \"REJECTED\", \"BUSY\" or \"BLACKLISTED\", see attribute \"Call-Disposition\" defined in clause 5.3.9.3 of OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9].\n9.\tAS-A sends a HTTP POST request to UE1-A\nThe AS-A observes changes in the call log for which the UE1-A has subscribed to and sends an HTTP POST request with \"callbackReference\" as a request URI (i.e. UE1-A_callback_URI) and the \"NmsEventList\" data structure as a request body, containing the call log object.\n10.\tUE1-A sends a HTTP response \"204 No Content\" to AS-A\nUpon successful reception of the HTTP POST request the UE1-A:\n-\tstores received \"index\" attribute;\n-\tstores received \"restartToken\" attribute; and\n-\tsends an HTTP \"204 No Content\" response to the AS-A.\n11.\tUE1-A local call log update\nThe UE1-A may update the local call object if needed with information from the call log object for the incoming call from the UE-B.\n12.\tAS-A sends a HTTP POST request to UE2-A\nThe AS-A observes changes in the call log for which the UE2-A has subscribed to and sends an HTTP POST request with \"callbackReference\" as a request URI (i.e. UE2-A_callback_URI) and the \"NmsEventList\" data structure as a request body, containing the call log object.\n13.\tUE2-A sends a HTTP response \"204 No Content\" to AS-A\nUpon successful reception of the HTTP POST request the UE2-A:\n-\tstores received \"index\" attribute;\n-\tstores received \"restartToken\" attribute; and\n-\tsends an HTTP \"204 No Content\" response to the AS-A.\n14.\tUE2-A local call log update\nThe UE2-A may update the local call object if needed with information from the call log object for the incoming call from the UE-B.\n15.\tUser A checked UE2-A local call log\nThe user A checked UE2-A local call log and flag \"Not seen\" is deleted from call log.\n16.\tUE2-A sends HTTP PUT request to AS-A\nThe UE2-A indicates to the AS-A that the call from the UE-B needs to be flagged as \"Seen\" by sending the HTTP PUT request.\nNOTE 3:\tFlag \"/Seen\" is added to the flaglist of a call log object in accordance to clause 6.6.1.1. of OMA-TS-CPM_Message_Storage_Using_RESTFul_API [9] and clause 6.3.4 of OMA-TS-REST_NetAPI_NMS [10].\n17.\tAS-A sends a HTTP response \"200 OK\" to UE2-A\nThe AS-A responds with HTTP \"200 OK\" response to the UE2-A.\n18.\tAS-A updates UE-A network call log\nThe AS-A adds flag \"/Seen\" to the call log object for the incoming call from the UE-B.\n19.\tAS-A sends a HTTP POST request to UE1-A\nSince the AS-A observes changes in the call log for which the UE1-A has subscribed to (flag \"/Seen\" added to the call log object for the incoming call from the UE-B), the AS-A sends an HTTP POST request with \"callbackReference\" as a request URI (i.e. UE1-A_callback_URI) and the \"NmsEventList\" data structure as a request body containing the call log object with the flag \"/Seen\".\n20.\tUE1-A sends a HTTP response \"204 No Content\" to AS-A\nUpon successful reception of the HTTP POST request the UE1-A:\n-\tstores received \"index\" attribute;\n-\tstores received \"restartToken\" attribute; and\n-\tsends an HTTP \"204 No Content\" response to the AS-A.\n21.\tUE1-A local call log update\nThe UE1-A updates local call log and deletes flag \"Not seen\" for the incoming call from the UE-B.\n22.\tAS-A sends a HTTP POST request to UE2-A\nSince the AS-A observes changes in the call log for which the UE2-A has subscribed to (flag \"/Seen\" added to the call log object for the incoming call from the UE-B), the AS-A sends an HTTP POST request with \"callbackReference\" as a request URI (i.e. UE2-A_callback_URI) and the \"NmsEventList\" data structure as a request body containing the call log object with the flag \"/Seen\".\n23.\tUE2-A sends a HTTP response \"204 No Content\" to AS-A\nUpon successful reception of the HTTP POST request the UE2-A:\n-\tstores received \"index\" attribute;\n-\tstores received \"restartToken\" attribute; and\n-\tsends an HTTP \"204 No Content\" response to the AS-A.\n24.\tUE2-A local call log update\nThe UE2-A observes that local call update is not needed since the UE2-A deleted flag \"Not seen\" for the incoming call from the UE-B in step 15.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "B.1\tScope",
            "description": "The present annex defines IP-CAN specific requirements for a multimedia telephony communication service and associated supplementary services in the IP Multimedia (IM) Core Network (CN) subsystem, where the IP-CAN is General Packet Radio Service (GPRS).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.2\tGPRS aspects when connected to the IM CN subsystem",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.2.1\tProcedures at the UE",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "B.2.1.1\tService specific access control",
                            "text_content": "This clause specifies service specific access control in addition to procedures as specified in annex K of 3GPP TS 24.173 [19].\nWhen the UE decides to pull a call from another federated UE, the UE provides a \"call-pull-initiated\" indication to the lower layers.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "C.1\tScope",
            "description": "The present annex defines IP-CAN specific requirements for a multimedia telephony communication service and associated supplementary services in the IP Multimedia (IM) Core Network (CN) subsystem, where the IP-CAN is Evolved Packet System (EPS).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.2\tEPS aspects when connected to the IM CN subsystem",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "C.2.1\tProcedures at the UE",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "C.2.1.1\tService specific access control",
                            "text_content": "This clause specifies service specific access control in addition to procedures as specified in annex J of 3GPP TS 24.173 [19].\nWhen the UE decides to pull a call from another federated UE, the UE provides a \"call-pull-initiated\" indication to the lower layers.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "D.1\tScope",
            "description": "The present annex defines IP-CAN specific requirements for a multimedia telephony communication service and associated supplementary services in the IP Multimedia (IM) Core Network (CN) subsystem, where the IP-CAN is 5G System (5GS).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "D.2\t5GS aspects when connected to the IM CN subsystem",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "D.2.1\tProcedures at the UE",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "D.2.1.1\tService specific access control",
                            "text_content": "This clause specifies service specific access control in addition to procedures as specified in annex M of 3GPP TS 24.173 [19].\nWhen the UE decides to pull a call from another federated UE, the UE provides a \"call-pull-initiated\" indication to the lower layers.\n\n\n\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 1,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}