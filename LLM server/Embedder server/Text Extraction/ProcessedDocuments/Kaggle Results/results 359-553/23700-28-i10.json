{
    "document_name": "23700-28-i10.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Report has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The scope of the TR is to investigate further 5GC/EPC enhancements to support satellite access using the work done in Release 17 as baseline with the following 5GC/EPC areas for study:\n-\tPossible enhancements to support of Discontinuous coverage with the following areas of focus:\n-\tArchitectural enhancements to support discontinuous coverage for mobility enhancement (e.g. paging enhancement).\n-\tArchitectural enhancements considering prediction, awareness and notification of UE wake-up time, power saving optimizations.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G system, Stage 2\".\n[4]\t3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System\".\n[5]\t3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".\n[6]\t3GPP TS 23.682: \"Architecture enhancements to facilitate communications with packet data networks and applications\".\n[7]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[8]\t3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core network protocols; Stage 3\".\n[9]\t3GPP TS 26.531: \" Data Collection and Reporting; General Description and Architecture\".\n[10]\t3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to support network data analytics services\".\n[11]\t3GPP TR 23.700-61: \"Study on Seamless UE context recovery\".\n[12]\t3GPP TS 38.300: \"NR; NR and NG-RAN Overall description; Stage-2\".\n[13]\t3GPP TS 23.122: \"Non-Access-Stratum (NAS) functions related to Mobile Station (MS) in idle mode\".\n[14]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n[15]\tS2-2109199: \"Support for IoT NTN with discontinuous coverage\", Vodafone et al.\n[16]\t3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA); Radio Resource Control (RRC); Protocol specification\".\n[17]\t3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access (E-UTRA); User Equipment (UE) procedures in idle mode\".\n[18]\t3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".\n[19]\t3GPP TS 23.256: \"Support of Uncrewed Aerial Systems (UAS) connectivity, identification and tracking; Stage 2\".\n[20]\t3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage 2\".\n[21]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions of terms and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tTerms",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms given in TR 21.905 [1], in TS 23.501 [2] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in TR 21.905 [1] or in TS 23.501 [2].\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1], in TS 23.501 [2] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1] or in TS 23.501 [2].\n<ABBREVIATION>\t<Expansion>\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tArchitecture assumptions and Principles",
            "description": "Discontinuous satellite coverage for satellite access in the context of this study is characterized by the fact that Uu interface is available for the UE less than 100% of the time, due to predictable patterns of satellite coverage.\nThe architecture for satellite access to 5GC as defined in TS 23.501 [2] is used as a baseline.\nThe architecture for satellite access to EPC as defined in TS 23.401 [5] is used as a baseline.\nThe solution defined for support of discontinuous coverage in EPC as defined in TS 23.401 [5] could be used as a baseline.\nSolutions should be applicable to both EPS and 5GS. Discontinuous satellite coverage under EPC and 5GC interworking is not considered.\nSolutions shall minimize the impact on 5GS and EPS system protocols.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "5\tKey Issues",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tKey Issue #1: Mobility Management enhancement with discontinuous satellite coverage",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.1.1\tGeneral description",
                            "text_content": "In Rel-17, Tracking Area and therefore RAT specific MME configuration has been introduced in EPS in order to allow support for discontinuous coverage for satellite access in EPS.\nThe key issue intends to study the essential issues for mobility management related to discontinuous coverage modelling. At least the following aspects need to be further studied:\n-\tIdentify gaps in rel.17 solution designed in EPS (e.g. concerning minimizing a period of no coverage and/or minimizing power consumption), considering at least below aspects:\na)\tStudy how UE determines that it has to remain with no service or it has to attempt to register on available different RAT's/ PLMNs to receive the normal service during discontinuous coverage in current NTN RAT.\nNOTE:\tConsider dependencies with RAN2 and CT1 since inter-RAT selection and PLMN selection related specifications are in control of RAN2 and CT1.\nb)\tStudy how to reduce the impact to target RAT or system due to large number of UEs triggering signalling load on the target RAT or system to receive normal service.\n-\tPropose solution to resolve these gaps.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.2\tKey Issue #2: Power saving enhancement for UE in discontinuous coverage",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tGeneral description",
                            "text_content": "For a UE using a NG-RAN that provides discontinuous coverage (e.g. for satellite access with discontinuous coverage), the UE may be out of network coverage at a certain time. The UE may then attempt to scan for available cell due to the UL traffic or NAS layer signalling, e.g. Periodic Registration. In Rel-17, the UE in EPS may deactivate the access stratum when there is no network coverage, however there might still be some additional issues, e.g. whether de-registration occurs due to any inconsistency of CM states between UE and CN and, the usage of eDRX in CM-IDLE state, etc.\nTherefore, for power saving mechanisms, like MICO mode and eDRX in CM-IDLE state, how to apply the power saving mechanism to ensure that the UE does not attempt PLMN access when there is no coverage still needs to be studied.\nThe key issue intends to study architectural enhancement for UE in discontinuous coverage.\nAt least the following aspects need to be investigated:\n-\tBased on the coverage information of the UE:\n-\twhether and how to enhance the power saving mechanisms, e.g. PSM, MICO mode and eDRX in CM-IDLE state, in order to make sure that the UE:\n-\tdoes not attempt PLMN access when there is no network coverage; and\n-\twhen there is network coverage the UE attempts PLMN access as needed e.g. to transfer signalling, transfer data or receive paging, etc.\nNOTE:\tNetwork coverage can be provided by any RAT supported by the UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tSolutions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.0\tMapping of solutions to key issues",
                    "description": "",
                    "summary": "",
                    "text_content": "Editor's note:\tThis clause describes the mapping between solutions and key issues.\nTable 6.0-1: Mapping of solutions to key issues\n\n",
                    "tables": [
                        {
                            "description": "Table 6.0-1: Mapping of solutions to key issues",
                            "table number": 3,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.1\tSolution #1: Power Saving based on AMF awareness of coverage information",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tDescription",
                            "text_content": "This solution resolves Key Issue #2 about the power saving enhancements for UE in discontinuous coverage.\nIn order to make sure the UE is kept in power saving mode without any uplink MO signalling request, this solution enhances the AMF to derive power saving parameters, e.g. eDRX parameters, periodic registration timer and the active time for MICO mode, based on the coverage information. Then only when UE is within the network coverage, the periodic registration update request would be initiated or the UE would wake up to monitor the paging occasion.\nAs the discontinuous coverage information it taken into account when determining the parameters for eDRX, MICO mode the existing procedures for reachability (including exposure), MT data buffering, etc can be reused.\nThe available eDRX cycles may not match the timing of the coverage for a UE. Then this occurs the network can provide the UE with an eDRX cycle that is a divisor of the coverage time. For example, if there is coverage in 60 mins time, and the available eDRX cycles would be 20mins, 40min, 80min, then the 20min cycle should be selected (example is for illustration and is not using actual eDRX cycle time values). When combined with the UEs knowledge of when there is no network coverage the UE will avoid waking up. The network knows the UE coverage and therefore can avoid paging the UE. When there is available network coverage, the UE can wake up according to the eDRX parameters and the network can page the UE as usual.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tProcedures",
                            "text_content": "Before moving the UE to CM-IDLE state, the NG-RAN or AMF may decide to trigger the AN release procedure based on the coverage information.\nNOTE 1:\tA similar mechanism can also be applied for EPS where the UE uses the S1 release procedure instead.\nThe figure depicts a high-level procedure for power saving enhancement in 5G systems, illustrating the steps involved in reducing power consumption. The figure includes a series of numbered steps, each representing a step in the process, and a corresponding description of the action being taken. The steps are numbered from 1 to 12, with each step providing a brief description of the action being performed. The steps are numbered from 1 to 12, with each step providing a brief description of the action being performed. The steps are numbered from 1 to 12, with each step providing a brief description of the action being performed.\nFigure 6.1.2.1-1: High-level procedure for power saving enhancement in 5GS\n0.\tWhen UE detects it is about to leave network coverage, it may use an existing AS procedures to request release from RRC_CONNECTED.\n1.\tIf the RAN detects that the UE in CM-CONNECTED is about to be out of network coverage based on the coverage information or if it receives the release request, the (R)AN may trigger the AN release procedure to move UE into CM-IDLE state before entering the non-coverage area.\n2.\tThe RAN may send an N2 UE Context Release Request message to the AMF.\n3.\tIf the AMF detects that the UE in CM-CONNECTED is about to leave the current network coverage based on the coverage information, the AMF may trigger the AN release procedure to move UE into CM-IDLE state when the UE is still within the network coverage.\n4.\tDuring the AN release procedure, AMF may determine the power saving parameters for the UE based on the discontinuous coverage information. The coverage information may be derived by the AMF based on the satellite assistance information from RAN, e.g. satellite id, satellite ephemeris. The power saving parameters can be periodic registration timer, active time for MICO mode and the eDRX parameters. This is to make sure the UE is kept in power saving mode without initiating  any MO signalling requests when it is out of network coverage. The active time may be used to keep UE reachable before the UE moves outside of coverage.\nNOTE 2:\tIt is assumed the UE is in a fixed location, mobile in limited area or mobile with known/predictable trajectories. Based on the known mobility pattern, including the time it covers, and coverage information of the UE, the AMF can help to derive the power saving parameters.\nNOTE 3:\tThe periodic registration timer may also be the Strictly Periodic Registration Timer.\nNOTE 4:\tFor powering saving enhancements for EPS, MME may update the power saving parameters to the UE (e.g. through GUTI Reallocation procedure)\n5.\tAMF may trigger the UE Configuration Update procedure to update the power saving parameters.\n6.\tThe AMF sends an N2 UE Context Release Command to the (R)AN.\n7.\tThe RAN requests the UE to release the (R)AN connection. Upon receiving (R)AN connection release confirmation from the UE, the (R)AN deletes the UE's context.\n8.\tThe (R)AN confirms the N2 Release by returning an N2 UE Context Release Complete (List of PDU Session ID(s) with active N3 user plane, User Location Information, Age of Location Information) message to the AMF.\n9.\t[Conditional] AMF to SMF: For each of the PDU Sessions in the N2 UE Context Release Complete, the AMF invokes Nsmf_PDUSession_UpdateSMContext Request in order to release N3 resources as defined in clause 4.2.6 of TS 23.502 [3].\nNOTE 3:\tThe UE may deactivate the AS layer and/or withhold sending MO traffic when there is no network coverage for power saving.\nBefore moving outside network coverage, the UE triggers the Tracking Area Update procedure for power saving parameters update.\nNOTE 1:\tA similar mechanism can also be applied for 5GS where the UE uses the Registration procedure instead.\nThe figure depicts a high-level procedure for power saving enhancement in EP S, illustrating the steps involved in reducing power consumption. The figure includes a flowchart with arrows indicating the sequence of actions, such as turning off the power supply, adjusting the power settings, and monitoring the power consumption. The steps are clearly labeled and visually represented, making it easy to understand the process.\nFigure 6.1.2.2-1: High-level procedure for power saving enhancement in EPS\n0.\tBased on coverage information, the UE may determine that it is about to move outside network coverage and trigger the TAU procedure towards the MME.\n1.\tThe UE sends the TAU request message to the MME to request an update of the power saving parameters.\nNOTE 1:\tThe TAU request may not only be triggered by coverage information, e.g. periodic TAU timer.\n2.\tThe MME may determine the power saving parameters for the UE based on the discontinuous coverage information. The coverage information may be derived by the MME based on the UE location and the satellite assistance information from RAN, e.g. satellite id, satellite ephemeris. The power saving parameters can be periodic TAU timer, active time for PSM and the eDRX parameters. This is to make sure the UE is kept in power saving mode without initiating any MO signalling requests when it is out of network coverage. The active time may be used to keep UE reachable before the UE moves outside the coverage.\nNOTE 2:\tIt is assumed the UE is in a fixed location or mobile in limited area.\n3.\tThe MME returns the TAU Accept message with the updated power saving parameters to the UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.3\tImpacts on services, entities and interfaces",
                            "text_content": "RAN:\n-\tTrigger AN release/S1 release based on the coverage information for the UE or request from the UE.\n-\tSend satellite assistance information to AMF/MME.\nAMF:\n-\tTrigger AN release based on the coverage information for the UE.\n-\tConfigure the power saving parameters based on the coverage information for the UE.\n-\tderive the coverage information based on the satellite assistance information and UE location.\n-\tProvide power saving parameters to the UE through UCU or registration procedure.\nMME:\n-\tConfigure the power saving parameters based on the coverage information for the UE.\n-\tDerive the coverage information based on the satellite assistance information and UE location.\n-\tProvide power saving parameters to the UE through GUTI Reallocation or TAU/RAU procedure\nUE:\n-\tTrigger the Tracking Area Update procedure or AN release when it is about to leave outside the network coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.4\tSolution evaluation",
                            "text_content": "The solution is based on existing EPS/5GS power saving solutions and protocols, enhances the AMF/MME with additional behaviour and has therefore minimal impact to Rel-17.\nThe CN is aware of the satellite ephemeris and therefore the expected coverage for a UE in the future and replies the UE being stationary, moving with a predictable trajectory or being in an expected location in the future. The solution does not rely on the UE being aware of its mobility patterns.\nWhen the UE in CONNECTED mode is about to leave coverage, the AN release is triggered and the AMF can use UCU procedure to provide the UE with power saving parameters (MICO and/or eDRX) that match the expected remaining time until the next coverage window (eDRX/Periodic registration timer) and the time before the UE is released to IDLE (Active Time).\nThe solution also support EPS using the same procedures, but the UE uses TAU to be provided with power saving parameters (PSM and/or eDRX) that match the expected coverage.\nThe reuse of existing procedures results in minimal impact for both EPS and 5GS.\nThe solution allows the UE to take into account the coverage information from RAN when determining when to wake-up as well as the assigned eDRX cycle, which may not match the expected coverage from RAN. The UE is reachable during the DRX PTWs that coincide with the expected coverage for the UE, if eDRX is used. If eDRX is not used the UE is unreachable until it connects to the network (e.g. for MO traffic or TAU/periodic registration).\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.2\tSolution #2: predictive Power Saving Mode",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tDescription",
                            "text_content": "This solution resolves Key Issue #2 about the power saving enhancements for UE in discontinuous coverage.\nIn the proposed solution:\n-\tThe CN (MME ), through interfacing with external specialized server, can determine if a given position will be under coverage at a given time. External specialized server, aware of the motion of the satellites of the constellation and of all necessary characteristics (antenna, beams, status …), is able to extrapolate the position of the different satellites of the constellation, as well as the period of time during which the satellites are visible at a given terrestrial location.\n-\tKnowledge of the ephemeris for the serving and for neighbouring satellites is not sufficient to ensure the effective future coverage of an area. It is not enough for a UE to be in view and footprint of a satellite to connect to it. To verify this, it is necessary to know the antenna characteristics, the link budget, the orientation of the beams and their footprint on the ground, and to integrate maintenance operations and the management of faults and errors. Only the network, in collaboration with the satellite management system, can produce reliable and complete information to verify future coverage for a UE. In general these information could be used directly by network or transmitted to the UE. Thus in the solution, MME has access to a service able to verify future coverage for a UE, taking into account all parameters as above.\n-\tThe UE is capable of PSM operation, and as per R17 assumption for NTN access, is equipped with GNSS receiver.\n-\tThe UE, when requesting periodic update timer value and active time, indicates its current position and may also indicate its extrapolated position at the time of the next expected periodic update. e.g.: UE located in latitude/longitude (t0) request 3hours and indicates latitude/longitude (t0+3h).\n-\tIn MME response, if PSM is accepted, the network may indicate periodic update timer value different from the requested timer to accommodate with the satellites movement, for the UE to be under coverage for the next periodic tracking area update.\n-\tIf no coverage is foreseen by the MME at the time and the extrapolation position requested by the UE, the MME may perform linear extrapolation on UE position to find the closest possible coverage time.\n-\tThe periodic update timer value provided by MME is a signed offset on the value of requested timer, to coincide next TAU with when the UE will be in coverage, according MME hypothesis and knowledge on UE and satellites movements. For example if UE is requesting timer value of 24h and if the network foresees that the UE will be in coverage in 24h and 30mn, the network will return positive offset of 30mn (unit=10 minutes, value=3 as per GPRS Timer 3 coding).\nEditor's note:\tThe final choice for correction time value type and coding is for CT1 decision.\n-\tNote that specifying an offset value, with different possible unit values, may enable more accurate time than providing absolute timer value. (For example, the GPRS timer 3 format currently used implies a granularity of 1 hour if the assigned timer period is larger than ~5 hours).\nEditor's note:\tThe choice for interfacing external coverage server through SCEF trusted northbound API is let for normative phase.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tProcedures",
                            "text_content": "In the existing PSM procedure, as stated in specifications (TS 23.682 [6], TS 24.301 [7], and TS 24.008 [8]):\nUE requests the PSM by including a timer with the desired value in the ATTACH REQUEST, or TAU REQUEST. By the way the UE reports how often and for how long it needs to be active in order to transmit and receive data. However, the final values are determined by the network.\nIn the proposed solution, ATTACH REQUEST, or TAU REQUEST are complemented by the following IEs, if PSM is requested by the UE:\n-\tUE current position (mandatory in case of satellite access).\n-\tUE position extrapolated at the end of requested sleep time (optional).\nMME makes assumption of linear UE movement based on above information and compares UE future trajectory with prediction of satellites coverage in the zone. The value returned as extension timer correspond to the closest point to UE extrapolated position where UE will find coverage.\nATTACH ACCEPT, or TAU ACCEPT is complemented by the following IEs, if PSM is accepted by the network:\n-\t Signed offset on timer extension value, with same or similar coding as defined by GPRS timer 3 in TS 24.008 [8].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.3\tImpacts on services, entities and interfaces",
                            "text_content": "UE:\n-\tComputes its current and extrapolated location depending on its local PSM configuration.\nRAN:\n-\tNone.\nMME:\n-\tObtain information on future coverage given satellites motion: provides to external server given positions for given future time and retrieve extrapolated coverage information (yes, no, closest coverage date) for this future time and positions-\tConfigure the power saving parameters based on the coverage information for the UE\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.4\tSolution evaluation",
                            "text_content": "The solution is based on existing EPS power saving solutions and protocols and has therefore small impact to Rel-17.\nThe main interest of this solution is to take into account the motion of the UE, when it can be known, to predict and adapt PSM timer values on the network side, based on the trajectory prediction done by the UE.\nThe solution enables to take into account the motion of the UE independently of NW capabilities to predict UE trajectory.\nThis solution is tailored for IoT NTN tracking use case, where UE are GNSS equipped and are supposed to evolve on a predictable trajectory.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.3\tSolution #3: Power Saving based on UE awareness of coverage information",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.3.1\tDescription",
                            "text_content": "General\nThis solution addresses Key Issue #2 about the power saving enhancements for UE in discontinuous coverage.\nThe solution is based on the Rel-17 approach agreed in TS 23.401 [5] and clarifies how it works with PSM and MICO. It is based on the following existing pre-Rel-18 features and functionalities:\n-\tThe UE is aware of its location and the satellite coverage information\n-\tIn the case of Power Saving Mode (PSM), the UE can request an Active Time value and Periodic TAU Timer value in the TAU Request. The MME takes the UE requested values into account and assigns an Active Time value and Periodic TAU Timer value in the TAU Accept.\n-\tIn the case of MICO mode with Active Time, the UE can request an Active Time value during the Registration procedure. The AMF takes the UE requested values into account and assigns the Active Time value in the Registration Accept.\n-\tIn the case of eDRX, the UE requests eDRX parameters (e.g. cycle length) during the Registration/TAU procedure. The AMF/MME takes the UE requested values into account and assigns the eDRX parameters in the Registration/TAU Accept.\n-\tHLCOM can be applied while the UE is in PSM/MICO mode to buffer data in the network, or notify the AF about UE reachability, as applicable.\n-\tTracking Area or RAT specific MME configuration of implicit deregistration timer can be used to ensure that the UE is not deregistered in case the UE is out of coverage when the Periodic TAU Timer expires.\nPower Saving Mode (PSM)\nThe UE determines based on its knowledge of its location and the satellite ephemeris data when it will have coverage and when it will not have coverage.\nIn this solution the UE enters PSM based on current specification. The UE leaves PSM based on the existing specification triggers i.e. when it is during the active time or due to an MO event but only when it has coverage (based on the coverage information) and there is a need to contact the network.\nAs per existing standard, the network will not try to page the UE while it is in PSM. The only time the network may page the UE is during the Active Time for the period of Active Time directly after the UE has moved to IDLE state. During other times, the NW will wait for the UE to initiate connectivity with the network, using e.g. TAU or SR procedures.\nWhen the UE uses PSM, the UE requests an Active Time and may request a Periodic TAU Timer value in the TAU Request. In this solution the UE can take the coverage information into account when requesting these values. Since these timers start when the UE moves to IDLE mode, if the UE is in CONNECTED state the UE will need to take into account an expected time for how long the UE will remain in CONNECTED state. For example, if there is 15 more minutes until the UE loses coverage, and 4 hours of out-of-coverage after that, the UE could select an Active Time value of 10 minutes and Periodic TAU Timer value of 4h20min. Normally a PSM UE may chose a shorter Active Time in order to move back to PSM as fast as possible.\nWhen the UE again has coverage, the UE may access the PLMN and initiate signalling as per existing standard, e.g. a TAU or SR, e.g. if there is UL data or the periodic TAU timer has expired. The UE could then request new Active Time and Periodic TAU Timer values based on coverage information as described above. The UE may also trigger a TAU specifically to request new Active Time value and Periodic TAU Timer value, as described in bullet w in clause 5.5.3.2.2 of TS 24.301 [7]. The UE could trigger such request when it enters coverage or is about to lose coverage.\nMICO\nMICO mode is very similar to PSM with the difference that the use of Active Time is optional and that the UE cannot request a Periodic Registration Timer value.\nIn this solution the UE enters MICO mode based on current specification. The UE can initiate transition to CM-CONNECTED based on existing specification but only when it has coverage (based on the coverage information) and there is a need to contact the network.\nAs per existing standard, the network will not try to page the UE while it is in MICO mode. The only time the network may page the UE is when Active Time is used, and in that case for the period of Active Time directly after the UE has moved to IDLE state. During other times, the NW will wait for the UE to initiate connectivity with the network, using Registration or SR procedures.\nIn case MICO with Active Time is used, the UE can take the coverage information into account when requesting Active Time value. Similar to PSM mode, the UE may need to use an expected time for how long the UE will remain in CONNECTED state when determining a suitable Active Time based on coverage information.\nCommon to PSM and MICO\nThe solution does not guarantee that the UE cannot lose coverage while the UE is in CONNECTED state or while the Active Time timer is running. For example, if the UE loses coverage during the Active Time timer is running, the AMF/MME may page the UE without getting a reply. The UE may also not have coverage when the TAU timer expires e.g. in case the UE has moved to a new location during the out-of-coverage period. However, as in rel-17, the solution is stable to handle such cases. TAI or RAT specific MME configuration is used to ensure that the UE is not deregistered in those cases and HLCOM can be used to buffer DL packets in the network or to notify the AF about reachability status. Also, by using UE-provided Active Time and Periodic TAU Timer values based on coverage information, the risk for such failed paging or missed Periodic TAU Timers is reduced.\neDRX\nIf the UE decides to request for extended idle mode DRX, the UE includes an extended idle mode DRX parameters information element in the Registration Request message, as described in TS 23.501 [2] (for 5GS), or Tracking Area Update as described in TS 23.682 [6] (for EPS). The AMF/MME will then provide the eDRX parameters to the UE based on UE requested values, subscription data, etc.\nIn this solution, the UE can request eDRX parameters based on its awareness of the coverage information. The eDRX cycle length is defined in TS 24.008 [8] and can only express certain fixed values. The available eDRX cycles may therefore not match the timing of the coverage and out-of-coverage for a UE. The UE may in this case request a eDRX cycle length that is less than the coverage window to ensure that the UE is reachable within the window. TAI or RAT specific AMF/MME configuration can be used to allow the AMF/MME to use the UE requested value when assigning the eDRX parameter in the reply to the UE.\nWhen the UE is out of coverage, the AMF/MME may page the UE based on the eDRX cycle but without getting a reply from the UE. TAI or RAT specific AMF/MME configuration is used to ensure that the UE is not deregistered in those cases and HLCOM can be used to buffer DL packets in the network or to notify the AF about reachability status.\nEditor's note:\tAdditional enhancements to reduce failed paging attempts is FFS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.2\tProcedures",
                            "text_content": "The call flow below illustrates an example for PSM. The handling of MICO mode and eDRX is similar. All signalling is based on existing procedures and protocols.\nThe figure depicts a scenario where discontinuous coverage is present, illustrating the use of Power Saving Mode (PSM) in a 5G network. PSM is a technique that allows the network to conserve energy by reducing the transmit power of the base station (gNB) when the signal strength is insufficient. This can be particularly useful in scenarios where the network is experiencing high levels of interference or when the signal is weak. The figure shows how PSM can be used to optimize the network's energy consumption and ensure reliable communication even in challenging conditions.\nFigure 6.3.1-1: Example of PSM usage in case of discontinuous coverage\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.3\tImpacts on existing nodes and functionalities",
                            "text_content": "The solution has no protocol impacts.\nUE and AMF/MME functional impacts:\n-\tThe UE to take coverage info into account to 1) stay in PSM/MICO mode while out of coverage and 2) (optionally) request Active Time, Periodic TAU Timer and eDRX parameters based on coverage info.\n-\tThe MME/AMF to honour the UE requested Active Time value (for MICO and PSM), Periodic TAU Timer value (for PSM) and eDRX parameters (for eDRX) when using satellite RAT type. This behaviour could be based on Tracking Area or RAT specific MME configuration.\nThe normative impacts would be to describe the above two bullets.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.4\tSolution evaluation",
                            "text_content": "The solution is based on existing EPS/5GS power saving solutions and protocols and has therefore minimal impact to Rel-17.\nLetting the UE handle the awareness of coverage information has the following benefits:\n-\tThe UE can be aware of its location also during out-of-coverage times, e.g. by periodically determining its position using GNSS. The network would however need to rely on predicted UE mobility information that is not always available and that, when available, may not be very reliable.\n-\tThe UE anyway needs satellite ephemeris information in order to access NTN. The information received from RAN is limited but can be used, e.g. to determine when the UE will lose coverage. Other solution candidates for how UE can become aware of coverage information are available in the TR.\n-\tNo need for MME/AMF to be aware of satellite-specific information such as ephemeris, that is more RAN related than CN related.\nThe solution does not guarantee that CN will never try to page a UE while it is out of coverage but based on Rel-17 approach this can be handled without deregistering the UE. HLCOM can be applied for data buffering and reachability notifications to the AF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.4\tSolution #4: Mobility Management enhancement based on coverage information and UE location",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.4.1\tDescription",
                            "text_content": "This solution attempts to resolve part of the Key Issue #1 about the mobility management enhancements for UE in discontinuous coverage.\nIn the network with satellite access, the network resource may be scarce and a cell may cover several TAs. To save the network resource for paging, it is proposed that the TA where the UE is geographically located may be regarded as the last known TA for the first paging if the TA where the UE is geographically located is:\n-\tknown by the AMF; and\n-\tdetermined in coverage based on information from the RAN when the Paging is needed.\nThe above principle also applies to EPS, the AMF is replaced by MME and the matching EPS procedures are used instead of the 5GS procedures.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.2\tProcedures",
                            "text_content": "The figure depicts a high-level procedure for paging in a last known TA (Transport Address) system. It illustrates the steps involved in identifying the last known TA, which is crucial for efficient network management and resource allocation. The figure includes a flowchart, a table, and a diagram, providing a clear and concise visual representation of the process.\nFigure 6.4.2-1: high-level procedure for Paging in last known TA\n1.\tIn the case of satellite access, the AMF may initiate the Location Reporting procedure to request the RAN to report the TA where UE is geographically located as last known location to the AMF before AN release. The RAN provides all broadcast TAIs for the selected PLMN to the AMF as part of the ULI. The RAN also reports the TA where the UE is geographically located if this TA can be determined.\nThe RAN may report the coverage information (e.g. ephemeris data) to the AMF when needed.\nEditor's note:\tHow RAN reports satellite ephemeris data to the AMF will be determined in the normative phase or other solutions.\n2-4.\tThe AMF initiates the UE Context Release procedure.\n5.\tWhen the Paging is needed and the sub-area based paging (e.g. first page in the last known cell-id or TA and retransmission in all registered TAs) is determined to apply, the TA where the UE is geographically located could be regarded as the last known TA if the TA where the UE is geographically located is:\n-\tKnown by the AMF; and\n-\tDetermined in coverage based on the coverage information (e.g. ephemeris data) from the RAN when the Paging is needed.\nNOTE:\tWhether first page in the TA where the UE is geographically located is up to the AMF implementation.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.3\tImpacts on services, entities and interfaces",
                            "text_content": "AMF/MME:\n-\tRequest RAN to report the TA where UE is geographically located as last known location before AN release.\n-\tThe coverage information (e.g. ephemeris data) may be used to determine whether a TA is in coverage.\nRAN:\n-\tProvide to the AMF/MME the TA where the UE is geographically located if this TA can be determined before AN release.\n-\tProvide to the AMF/MME the coverage information (e.g. ephemeris data) when needed.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.4\tSolution evaluation",
                            "text_content": "The solution reuses the current existing RAN Location reporting procedures as defined in clause 4.10 in TS 23.502, but with enhanced RAN Location reporting condition, i.e. RAN report the TA before AN release. Besides, this solution has no dependency on UE involving coverage detection, i.e. the paging optimization is done on the network side only.\nUtilizing the last visited TAC as the first paging attempt in AMF can reduce the paging effort:\n-\tIf the AMF knows the coverage information of the UE and the UE is in discontinuous coverage, the AMF may determine not to page the UE to save energy;\n-\tIf the AMF knows the coverage information of the UE and the UE is in coverage, the AMF may determine to page the UE with the last visited TAC as the paging area;\n-\tIf the AMF does not know the coverage information of the UE and the UE is in discontinuous coverage, the AMF may determine to page the UE with the last visited TAC as the paging area;\n-\tIf the AMF does not know the coverage information of the UE and the UE is in coverage, the AMF may determine to page the UE with the last visited TAC as the paging area.\nThis solution provides EPS compatibility.\nHowever, this solution has a limitation on whether the UE is in the last visited TAC when the paging occurs. If the UE is in the last visited TAC, the paging effort is saved; while if the UE is not in the last visited TAC, the AMF still needs to reinitiate the paging with the registration area as the paging area.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.5\tSolution #5: Power Saving based on updating parameters before releasing signalling connection",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.5.1\tDescription",
                            "text_content": "This solution resolves Key Issue #2 about the power saving enhancements for UE in discontinuous coverage.\nTo make sure that the UE does not attempt to access the network when there is no coverage, and that the UE is aware of the coverage returning and attempts to access the network as needed, it is proposed that the AMF/MME determines the power saving parameters (e.g. eDRX parameters, periodic registration timer, Extended Connected Time and the active time for MICO mode) based on the coverage information and provide the power saving parameters to the UE before releasing the signalling connection.\nIn this solution, coverage information of satellite(s) is the key part when deriving the power saving mode parameters. Based on the assumption of AMF/MME knows the coverage information, the AMF will e.g. derive firstly the discontinuous coverage period and then utilize it to determine the PSMs.\nThis solution also offers a way of obtaining the coverage information from e.g. the ephemeris data, from RAN. The RAN can provide either the coverage information or the ephemeris data to the AMF/MME via Location Reporting procedure. However, this has dependency on RAN workgroups.\nThe Extended Connected Time as described in clause 5.31.7.3 of TS 23.501 [2] can be used by AMF, for example in the case that it has determined that if UE is released to IDLE state, it may not be possible for UE to get back into connected mode to deliver downlink data before UE enters into no service due to discontinuous coverage. The Extended Connected Time is only applicable to 5GS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.5.2\tProcedures",
                            "text_content": "The figure depicts a procedure for updating parameters before releasing a signalling connection, which is crucial for ensuring the smooth operation of a 5G network.\nFigure 6.5.2-1: Procedure for updating parameters before releasing signalling connection\n1.\tThe UE is registered in the network.\n2.\tThe AMF/MME may initiate the Location Reporting Control procedure to ask for the coverage information from the RAN. The RAN will send the coverage information (e.g. the ephemeris data of a satellite access system that the UE is using) to the AMF using the Location Report procedure before the RAN sends the N2/S1 UE CONTEXT RELEASE REQUEST message to the AMF/MME.\nEditor's note:\tHow RAN reports satellite ephemeris data to the AMF/MME will be determined in the normative phase or other solutions.\n3.\tIf the RAN detects the UE in CM-CONNECTED mode is about out of coverage, the RAN may initiates the AN release procedure by sending the N2/S1 UE CONTEXT RELEASE REQUEST message to the AMF/MME.\n4.\tThe AMF/MME determines the power saving parameters (e.g. eDRX parameters, periodic registration timer, Extended Connected Time and the active time for MICO mode) for the UE.\nNOTE:\tIf NWDAF is deployed, the AMF may use predicted information about the UE's mobility provided by NWDAF.\nThe extended connected time as described in clause 5.31.7.3 of TS 23.501 [2] can also be applied by AMF to the UEs which have not requested for MICO mode.\n5.\tThe AMF initiates the UEConfiguratioUpdate procedure to update the power saving parameters in the UE. And the MME initiates the GUTI Reallocation procedure to update the parameters to the UE.\n6-8.\tThe AMF/MME initiates AN Release procedures.\n9.\tUsing the received power saving parameters, UE can determine when the UE could not access the network, and when (e.g. the coverage is recovered) could attempt to access the network if needed.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.5.3\tImpacts on services, entities and interfaces",
                            "text_content": "RAN:\n-\tSend coverage information (e.g. the ephemeris data of a satellite access system that the UE is using) to the AMF when needed.\nAMF/MME:\n-\tAsk RAN to send coverage information (e.g. the ephemeris data of a satellite access system that the UE is using) to the AMF when needed.\n-\tUpdate the power saving parameters based on the coverage information from the RAN and send the power saving parameters to the UE or the RAN.\nUE:\n-\tUpdate the power saving parameters during the UCU procedure.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.5.4\tSolution evaluation",
                            "text_content": "Satellite(s)/UE coverage information is important for the network to optimize the operation when the UE is in discontinuous coverage, e.g. paging optimization, power saving parameters determination and etc. This solution has the following main contributions:\n-\tThis solution proposes that the coverage information can be used to determine the power saving parameters, periodic registration timer, MICO mode with active time, eDRX as explained in Solution#3 and utilizes the existing UE Configuration Update procedure/GUTI Reallocation procedure to provide to the UE;\n-\tThe extended connected time as described in TS 23.501 [2] clause 5.31.7.3 can also be applied by AMF to the UEs which have requested or not requested for MICO mode based on discontinuous coverage. This ensures the UE will remain in CONNECTED state based on discontinuous coverage. This proposal is not applicable to EPS;\n-\tThis solution provides a way of how the AMF can obtain the coverage information, i.e. from the RAN, especially when needed;\n-\tThis solution has no dependency on UE involved coverage detection, i.e. the power saving parameter optimization is done on the network side only and preserve the privacy of UE.\n-\tThis solution supports EPS compatibility.\nHowever, this solution has an assumption that the AMF knows the coverage information either by RAN to provide, interactions with other NFs, interaction with 3rd party server, pre-configured or some O&M operation.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.6\tSolution #6: Discontinuous coverage architecture",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.6.1\tDescription",
                            "text_content": "The solution applies especially on LEO and MEO satellites, as the coverage area of GEO satellite is typically static projection on the Earth surface and thus the coverage area can be handled the same way as in terrestrial networks.\nBoth UE and the network are expected be aware of out-of-coverage times under discontinuous satellite coverage. UE needs this information to optimise its power budget and to know when it needs to listen to paging. The network needs the same knowledge in order to avoid paging the UE that is known to be not reachable. The same unreachability information is also shared by the AMF to any NF that might have subscribed to UE reachability monitoring information. If the network supports HLcom, then core network buffering of DL data can be triggered when DL packet targeted towards unreachable UE is received in the CN.\nNWDAF may be used as a possible optimisation to improve the accuracy of the UE Unreachability Period in those cases when the network has got sufficient information on the UE mobility to predict its trajectory. Since the satellite ephemeris data is assumed to be broadcast via SIB, the capacity limitations might not allow the distribution of the full satellite constellation information. Consequently, the UE might only receive information of a few selected satellite neighbours from NG-RAN. For static UE, that might be sufficient, but for moving UE it is possible to improve the accuracy of the UE reachability prediction if the properties of the whole satellite constellation and the observed UE trajectory is taken into account. This is the task where the NWDAF can help by providing the AMF with more accurate estimate than the one received from the UE that determines the Unreachability Period based on limited amount of data on the available satellites.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.6.2\tHigh level architecture principles",
                            "text_content": "Figure 6.6.2-1 shows the call flow for the AN to inform the UE of satellite ephemeris. The UE uses this information to negotiate with the AMF in NAS signalling Unreachability Period that is thus known by both the UE and the AMF.\nThe AMF uses the negotiated information to determine when the UE would be reachable and when it is not reachable.\nThe figure depicts a scenario where an UE (User Equipment) negotiates an Unreachability Period with the AMF (Access Multiplexing Facilitator) using satellite ephemeris information. The UE is equipped with a satellite receiver, which receives the satellite signal and uses it to negotiate the Unreachability Period with the AMF. The figure illustrates the process of satellite signal reception and the negotiation of the Unreachability Period.\nFigure 6.6.2-1: UE negotiates Unreachability Period with the AMF using satellite ephemeris information\nProcedure for NG-RAN to inform the UE of satellite ephemeris and the UE to negotiate unreachability period with the AMF.\n1.\tNG-RAN informs the UE of the satellite ephemeris of the serving cell in RRC signalling. The UE determines how long the UE is still covered by the serving cell.\nEditor's note:\tIt is TBD by RAN WG2 whether the ephemeris can be signalled in SIB.\n2.\tUE includes Unreachability Period in its Registration Request. The Unreachability Period tells the AMF the foreseen unreachability period caused by discontinuous satellite coverage in the UE location.\nNOTE:\tThe encoding of the unreachability period in terms of start and end time or start time and duration is left for stage 3 specifications.\n3.\tThe AMF may request for UE Unreachability Period estimate from the NWDAF. If the NWDAF has got sufficient history of UE trajectory and the ephemeris of the satellite constellation, it returns UE Unreachability Period estimate to the AMF.\nEditor's note:\tNWDAF information to be used for the service gap estimate is TBD.\n4.\tAMF stores the Unreachability Period as part of the UE context in AMF and considers the UE as \"not reachable\" during that period. The AMF echoes back the UE requested Unreachability Period to acknowledge it has taken notice of it.\nAny procedures that apply on UE that is not reachable due to e.g. MICO mode or eDRX, apply also during Unreachability Period, so that the AMF does not page the UE, notifies the UE reachability as \"unreachable\" to those NFs that have subscribed to UE reachability notifications. Extended DL data buffering in the CN applies if it is supported in the network.\nThe AMF assigns a Periodic Update Timer that allows the UE to omit periodic updates until the next foreseen connectivity period.\n5.\tUE is not reachable due to coverage gap caused by discontinuous coverage. If the UE finds coverage before the end of Unreachability Period, it may initiate UL signalling or send UL data. The UE may initiate an additional registration update procedure if it finds unpredicted coverage before the end of Unreachability Period.\n6.\tDL data targeted for the UE arrives while the UE is not reachable due to discontinuous coverage.\n7.\tUpon receiving DL Data Notification, the SMF requests DL data transfer from the AMF\n8.\tThe AMF knows based on Unreachability Period received from the UE in step 2 in the previous registration procedure that the UE is not reachable. The AMF includes the corresponding Estimated Maximum Wait time as specified in clause 4.2.3.3 of TS 23.502 [3].\n9.\tIf extended DL data buffering is supported in the SMF, then the SMF initiates data DL data buffering as specified in TS 23.502 [3]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.6.3\tImpacts on services, entities and interfaces",
                            "text_content": "This solution impacts the following system entities.\nAN:\n-\tCapability to send satellite ephemeris to the UE.\nRemote UE:\n-\tCapability to determine Unreachability Period based on the satellite ephemeris information.\n-\tCapability to indicate the Unreachability Period in Registration Request.\nAMF:\n-\tCapability to consider UE as unreachable after negotiating Unreachability Period.\n-\tOptionally, acquiring better UE reachability estimate from NWDAF.\nNWDAF:\n-\tCapability to determine UE unreachability period based on satellite constellation and whatever UE history information might be available.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.7\tSolution #7: Utilizing discontinuous coverage wait timer for satellite discontinuous coverage scenario",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.7.1\tDescription",
                            "text_content": "This is a candidate solution for part of Key Issue #1 and Key Issue #2. For KI#1, the solution aims to solve the scenario when the UEs have to remain with no service until the coverage recovers and when the UEs detect new RAT type, how to reduce the impact on the target system, The considered NTN RAN is the Quasi-earth-fixed satellite that offers the coverage in a limited period in the same geographical area by steering the beam as defined in TS 38.300 [12]. For the new detecting RAT type, if the RAT type is MEO/LEO satellite, only Quasi-earth-fixed satellite is considered because the geographical UE distribution cannot provide surfficient randomization. It is assumed that terrestrial RAT type and GEO satellite providing RAT type is similar with Quasi-earth-fixed satellite that provides insurfficient randomization, i.e. only MEO/LEO satellites that sweeping the beam on the earth is assumed to provide enough randomization.\nThis solution proposes to introduce a new timer, named discontinuous coverage wait (DCW) timer, to address both the signalling overload situation and the power saving situation when UEs are using access type and/or RAT type that offer discontinuous coverage, especially:\n-\tWhen the UEs (in CM-IDLE state) using an NTN RAN that provides discontinuous coverage in the same geographical area lose coverage, and the discontinuous coverage period is larger than the CN assigned Periodic Registration Update timer, the UEs may simultaneously initiate the Periodic Registration Update procedure when they recover to be in coverage (i.e. the same satellite is steered to serve the same area) due to the expiration of Periodic Registration Update timer. Signalling overload will occur.\n-\tWhen the UEs (in CM-IDLE state) using an NTN RAN that provides discontinuous coverage in the same geographical area lose coverage, and the discontinuous coverage period is larger than the CN assigned Periodic Registration Update timer, the UEs may have some buffered uplink data to deliver when they recover to be in coverage (i.e. the same satellite is steered to serve the same area) and simultaneously initiate the service Request procedure and Periodic Registration Update procedure and. Signalling overload will occur.\n-\tWhen the UEs (in CM-CONNECTED state) using an NTN RAN that provides discontinuous coverage in the same geographical area lose coverage and there is UL traffic ongoing, the UEs may immediately initiate the Service Request procedure when they recover to be in coverage (i.e. the same satellite is coming to serve the same area). Signalling overload will occur.\nThe DCW timer consists of 3 parts:\nDCW timer = (T2-T1) + DCW value (i.e. random value in DCW range) + offset (optional)\n-\tThe discontinuous period (T2-T1), used to ensure the UEs do not initiate any 5G NAS signalling to 5GCN within this period. The period value is calculated by the UE based on the RAN broadcasting satellite ephemeris data, e.g. time information on when the ongoing satellite is to end serving the area (e.g. T1) and when the incoming satellite is to start serving the area (e.g. T2). For the case of UEs detecting new RAT type and deciding to access it, the discontinuous period \"T2-T1\" will be set to \"0\".\n-\tThe DCW value, is used by the UE to determine how long to wait before triggering the 5G NAS signalling after the discontinuous period. The DCW value is generated within a DCW range that is provided by 5G CN via Registration procedure or UE Configuration Update procedure.\n-\t[Optional] The offset, is provided by the AMF to distinguish the accessing priorities of users. E.g. for higher priority users, the offset can be 0; for lower priority users, the offset can be a fixed value, e.g. 1s, to give the higher priority users more chance to access.\nWhile the timer is running, the UE shall not initiate any 5G NAS signaling to 5G CN.\nUpon the expiration of the DCW timer, the UE shall initiate the 5G NAS signalling. From the perspective of 5G CN,  the Periodic Registration Update procedure, the Service Request procedure, the Mobility Registration Procedure will arrive in a random way, as shown in Figure 6.7.1-1.\nThe figure depicts a random 5G NAS signalling scenario with a DCW timer, illustrating the use of a DCW timer in 5G network signaling. The DCW timer is a key component in 5G networks, enabling efficient time synchronization and ensuring reliable communication.\nFigure 6.7.1-1: Random 5G NAS signalling with DCW timer\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.7.2\tProcedures",
                            "text_content": "The figure depicts a high-level procedure for utilizing the DCW timer, which is a crucial component in the design of a DCW (Digital Clockwork) system. The figure illustrates the steps involved in setting up the timer, including selecting the appropriate configuration parameters, configuring the timer settings, and ensuring proper operation. The DCW timer is used to synchronize the clock of the system, ensuring accurate timekeeping and maintaining the integrity of the system's timekeeping.\nFigure 6.7.2-1: High-level Procedure for utilizing DCW timer\n0a.\tThe NTN RAN broadcasts its satellite ephemeris data, from which UE can determine when the coverage will lose (i.e. T1) and when the coverage will recover (i.e. T2).\nNOTE 1:\tThe provision of how the satellite broadcasts its ephemeris data depends on RAN work group discussion.\nNOTE 2:\tThe NTN RAN is assumed to be a Quasi-earth-fixed satellite as defined in TS 38.300 [12].\n0b.\tThe AMF determines the DCW range based on the operator policy and provides the DCW range to the UE via Registration procedure or UE Configuration Update procedure.\n1.\tThe UE generates DCW value based on the received DCW range and determines the DCW timer based on both the generated DCW value and satellite ephemeris data.\n2a.\tThe discontinuous coverage period starts , the UE and/or RAN may release the AN resources.\n2b.\tWhen the UE detects the discontinuous coverage starts, the UE triggers the DCW timer.\n3.\tThe DCW timer expires.\n4.\tThe UE initiates to send the 5G NAS signalling to the AMF. The 5G NAS signalling can be used to establish the Periodic Registration Update procedure and/or Service Request procedure.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.7.3\tImpacts on services, entities and interfaces",
                            "text_content": "NTN RAN:\n-\tBroadcast satellite ephemeris data that includes e.g. time information on when the ongoing satellite is to end serving the area (e.g.T1) and when the incoming satellite is to start serving the area (e.g. T2).\nUE:\n-\tReceive the DCW range.\n-\tReceive satellite ephemeris data.\n-\tGenerate DCW value within the range of DCW range.\n-\tCalculate DCW timer based on both the generated DCW value and satellite ephemeris data.\n-\tDetect the discontinuous coverage period start\n-\tRun the DCW timer.\nAMF:\n-\tSend DCW range to the UE via Initial Registration procedure or UE Configuration Update procedure.\n-\tDetermine the DCW range based on the operator policy.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.7.4\tSolution Evaluation",
                            "text_content": "The proposed solution introduces a \"wait range\" for the UEs that experience discontinuous coverage by the MEO/LEO satellite(s). There are 2 kinds of MEO/LEO satellite regarding the beam steerability. The non-steerable beam offering MEO/LEO, whose beam sweeps on the earth surface is considered to provide sufficient randomization (around 7.5 km/s speed) based on the geographical distribution of UEs. However, the steerable beam offering MEO/LEO that provides fixed beam foot print may not produce randomization for the UEs, which needs the \"wait range\" to reduce the overload impact on both RAN and AMF.\nExisting solutions for randomizing access are supported, e.g. when IDLE UEs start AS level random access procedure, which results in throttling of UE access attempts on AS level before NAS messages can be sent.\nThe NAS level \"wait range\" will randomize the UEs when accessing the same MEO/LEO satellite coverage and accessing new detected RAT type to initiate NAS procedure.\nThe UEs remaining in no service is more common compared to the others, as satellite provides service usually in rural area or hard to reach area than in terrestrial area where there is terrestrial coverage. In this situation, the DCW timer can also reduce the UE power consumption during discontinuous coverage period. However, if the UEs leave this satellite coverage area during the discontinuous period and the DCW timer is running, the UEs should disable the DCW timer to access a new target system.\nThere is also advantage regarding providing differentiated priority accessing mechanism for satellite users. The additional offset provides a fixed value of differed accessing for lower priority users.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.8\tSolution #8: Leaving Coverage Notification",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.8.1\tDescription",
                            "text_content": "This solution resolves part of Key Issue #1 about the mobility management enhancements to avoid unnecessary paging UE in discontinuous coverage.\nThe UE may enter IDLE mode when the UE is within the network coverage and leave the network coverage while the UE is in IDLE mode, for example, a mobile UE may leave coverage and return to coverage in a non-predictable way e.g. due to being mobile. In this case, the network may still believe that the UE is reachable and attempt to page the UE, but in fact the UE is out of network coverage and the paging would fail. To avoid unnecessary paging, the UE notifies the network it is leaving network coverage and when it returns to coverage, so the network always knows when the UE is in or out of coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.8.2\tProcedures",
                            "text_content": "This procedure is used by the UE and network to a) enable the use of the Leaving Coverage Indication, b) when the UE leaves coverage and c) when the UE returns to coverage when using 5GS.\nThe figure depicts a procedure for leaving coverage notification in a 5G network. It illustrates the steps involved in informing the network of a user's intention to leave the coverage area. The figure includes a user interface (UI) for selecting the desired coverage area, a notification message, and a confirmation message. The UI is designed to be user-friendly and intuitive, ensuring that users can easily navigate through the process. The figure also includes a visual representation of the network infrastructure, such as the base station (BS) and the user equipment (UE), which helps to understand the overall network setup. Overall, the figure provides a clear and concise overview of the procedure for leaving coverage notification in a 5G network.\nFigure 6.8.2-1: Procedure for Leaving Coverage Notification\n1.\tThe UE sends Registration Request to the AMF.\n2.\tIf the UE is using a RAN that provides discontinuous coverage and the MICO Indication is not included in the Registration Request, the AMF sends Registration Response including a Leaving Notification Indication to the UE. The Leaving Notification Indication indicates that the UE shall notify the network it is leaving network coverage.\nNOTE:\tThe network can take other information into consideration when determining whether to include the Leaving Notification Indication in the Registration Response, for example mobility patterns.\n3.\tThe (R)AN connection may be released and the UE enter IDLE mode using the AN Release Procedure, see clause 4.2.6 of TS 23.502 [3].\n4.\tThe UE determines that it is about to leave network coverage based on coverage information, e.g. satellite ephemeris, while in either CONNECTED or IDLE mode.\n5.\tThe UE sends a Service Request or Registration Request, including a Leaving Coverage Indication. The Leaving Coverage Indication indicates that the UE is about to leave the network coverage. Upon receipt of Leaving Converge Indication, the AMF considers the UE unreachable. Whether Service Request or Registration Request is used may depend upon e.g. the UE connected state etc.\n6.\tThe AMF sends N2 UE Context Release Command to the (R)AN.\n7.\tThe (R)AN connection is released.\n8.\tWhen the UE enters network coverage, the UE sends Service Request or Registration Request, to the AMF and the network the UE is back in coverage and reachable again. The existing procedures are used to determine which NAS Message e.g. Service Request or Registration is used, i.e. the only solution adds a triggering condition to enter CM_CONNECTED on returning to coverage.\nThis procedure is used by the UE and network to a) enable the use of the Leaving Coverage Indication, b) when the UE leaves coverage and c) when the UE returns to coverage when using EPS.\nThe procedure in clause 6.8.2.1 with the following modifications is used:\n-\tThroughout: The TAU procedure instead of the Registration Procedure is used.\n-\tSteps 1 & 2: The ATTACH procedure may additionally be used.\n-\tStep 6: S1 UE Context Release Command and the S1 release procedure, see clause 5.3.5 of TS 23.401 [5], instead of the N1 UE Context Release Command and the AN Release Procedure is used.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.8.3\tImpacts on services, entities and interfaces",
                            "text_content": "AMF/MME:\n-\tSend Leaving Notification Indication to the UE if the UE is using a RAN that provides discontinuous coverage.\nUE:\n-\tSend Leaving Coverage Indication when it is about to leave the network coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.8.4\tSolution evaluation",
                            "text_content": "This solution reuses procedures from EPS/5GS with enhancements to the parameters of the messages of the existing procedures to provide the solution enhancements.\nThe solution allows a UE to signal to a network when it leaves and returns to coverage, so the network may not have to rely upon predicted UE mobility information that is not always available in the UE and the CN, and when available may not be very reliable.\nThis has the advantage of being accurate and based on the UEs determination of when it can receive coverage compared to a predication of a future location/time and the coverage available there and then, which may not be fully accurate. The solution does not help a UE determine coverage availability, other solutions in this TR could be used for that.\nThe signalling overhead may be more costly compared to predication of when the UE is in and out of coverage, and therefore it is only used when enabled, minimising its cost to the network and UE, allowing balancing of cost vs accuracy, and should only be enabled when required. As the behaviour is controlled, it can used in conjunction with other solutions in the TR as part of wider suite of solutions or as the only solution.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.9\tSolution #9: Modification of Timers when in or out of Coverage",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.9.1\tDescription",
                            "text_content": "This solution resolves Key Issue #2 about the power saving enhancements for UE in discontinuous coverage.\nIn this solution, AMF/MME sends to UE a future periodic registration timer/TAU timer which is to be activated when UE leaves satellite coverage during the Registration/Attach procedure.\nThe future periodic registration timer/TAU timer can be set so that the UE does not need to perform Periodic Registration or TAU while out of coverage while allowing the network to maintain its preferred timer settings while in coverage automatically.\nHow the future periodic registration timer/TAU timer which is used while out of coverage can be determined by other solutions and this solution provides the future periodic registration timer/TAU timer in addition to the periodic registration timer/TAU timer while in coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.9.2\tProcedures",
                            "text_content": "Figure 6.9.2-1 shows the procedure to send the future periodic registration timer/TAU timer during any registration, attach or any TAU procedure.\nThe figure depicts a high-level procedure for power saving enhancement in 5G/EPS, highlighting the importance of energy efficiency in modern communication systems.\nFigure 6.9.2-1: High-level procedure for power saving enhancement in 5GS/EPS\n1.\tThe UE initiates Registration/Attach/TAU procedure by sending Registration/Attach/TAU request to AMF/MME.\n2.\tThe AMF/MME determines a future periodic registration timer/TAU timer which is to be activated when UE leaves satellite coverage considering satellite coverage information.\nFor UEs with no mobility, the AMF/MME may determine the future periodic registration timer/TAU timer based on the UE location and the satellite coverage information.\nFor UEs moving in limited area or with known/predictable trajectories, the AMF/MME may determine the future periodic registration timer/TAU timer based on the UE location, the known/predicted mobility pattern and the satellite coverage information.\nNOTE:\tThe future periodic registration timer/TAU timer can be determined by other solutions or existing behaviour.\nThe AMF/MME may also determine power saving parameters which is to be used when UE is in satellite coverage and RRC_IDLE, e.g. active time, periodic registration timer/TAU timer, eDRX parameters etc.\n3.\tThe AMF/MME sends Registration/Attach/TAU Accept message to UE including the future periodic registration timer/TAU timer which is to be activated when UE leaves satellite coverage.\nThe AMF/MME also sends to UE the power saving parameters which is to be used when UE is in satellite coverage and RRC_IDLE.\n4.\tIf the UE is in satellite coverage and RRC_IDLE, the UE activates the received power saving parameters. When the UE leaves the satellite coverage, the UE stops the power saving parameters and activates the future periodic registration timer/TAU timer.\nThe UE determines it leaves satellite coverage based on broadcast satellite ephemeris.\n5.\tThe AMF/MME predicts when the UE leaves the satellite coverage and activates the future periodic registration timer/TAU timer.\nWhen the future periodic registration timer/TAU timer expires, the UE initiates registration/TAU procedure as normal and may be assigned another the future periodic registration timer/TAU timer during the registration/TAU procedure.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.9.3\tImpacts on existing nodes and functionalities",
                            "text_content": "AMF/MME:\n-\tdetermines a future periodic registration timer/TAU timer which is to be activated when UE leaves satellite coverage based on the UE location, the known mobility pattern if UE moves with known mobility pattern and satellite coverage information.\n-\tactivates the future periodic registration timer/TAU timer at the timer when the UE is predicted to leave coverage.\nUE:\n-\tstop using current power saving parameters and activate the future periodic registration timer/TAU timer when UE leaves satellite coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.9.4\tSolution evaluation",
                            "text_content": "This solution reuses procedures from EPS/5GS with enhancements to the parameters of the messages of the existing procedures to provide the solution enhancements.\nThe solution avoids additional signalling and/or power consumption in the case that the preferred periodic registration/ TAU timers from the network are shorter than the periods a UE is out of coverage. As the timer is adjusted automatically when the UE is out of coverage, it is not compelled to search for coverage when there may not be none and the CN does not consider the UE has missed periodic registration/TAU, which avoids the costs of the recovery mechanisms. The automatic adjustment avoids signalling/power consumption to update timers when the UE is leaving coverage.\nThe solution has benefits scenarios when the out of coverage periods exceeds the preferred timer values and may not provide benefits in other scenarios. The solution does not help a UE or network determine coverage availability, other solutions in this TR can be used for this.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.10\tSolution #10: UE Reachability Events with Expected in Coverage Time",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.10.1\tDescription",
                            "text_content": "This is a solution for KI#1 Mobility Management enhancement with discontinuous satellite coverage as the AF can understand the UE status, and can also assist with Key Issue #2: Power saving enhancement for UE in discontinuous coverage. It can help avoid the AF starting long running procedures with a UE that will be out of coverage before those procedures complete.\nAn AF may subscribe to the SCEF or NEF for UE Reachability for downlink data transfer, however the AF does not know for how long the UE will remain reachable for downlink data transfer. If UE Reachability for SMS is requested then the event sent to the AF can include \"maxUEAvailabilityTime\" which provides the time the UE is expected to be reachable for SMS delivery.\nIf the UE is using discontinuous coverage then when the UE becomes reachable the SCEF/NEF sends the UE monitoring event indicating that a UE has become reachable for paging. The AF can then use this event to trigger downlink services or operations on the UE.\nThe UE monitoring event for reachability is extended to include a time for which the UE is expected to be in coverage and can be used assist the AF to understand reachability of the UE. The time the UE is reachable for is not determined by this solution and is expected to be determined by other solusions and once it has been determined it is reported using the UE monitoring event for reachability.\nThe Maximum Response Time used in the existing monitoring event provides similar, but not the same information about the UE and is a configuration parameter and a parameter included in the monitoring events and is under control of the network on a per UE basis. The Maximum Response Time is a) provided by the AF to the SCEF/NEF in order to set the active time, b) used by the network to consider how long to keep a connection and c) how early to send the monitoring event for a UE using eDRX.\nThe in coverage time can be used to complement the existing monitoring events parameters which are provided to the AF. For example, active time in PSM/MICO which could be set to the remaining time during the in-coverage window when the UE moves to IDLE, but requires the UE have changed to IDLE, meaning the UE has to have been in CONNECTED and then released, whereas the in coverage time does not depend on this.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.10.2\tProcedures",
                            "text_content": "No new procedures are defined for providing the time the UE will remain in coverage and therefore reachable.\nFor reporting the in coverage time for a UE using 5GS, the procedures defined in TS 23.502 [3] clause 4.15.3 and the associated service operations of Namf_EventExposure_Notify are reused with the additional information included for the expected in coverage time when the AMF determines the UE is using satellite access becomes reachable.\nFor reporting the in coverage time for a UE using EPS, the procedures defined in TS 23.682 [6] clause 5.6.3.3 are reused with the additional information included for the expected in coverage time when the MME determines the UE is using satellite access becomes reachable.\nThis allows the AF to reuse the existing event exposure procedures for UE Reachability with the enhancement for the time in coverage to determine when to send data or determine which application level procedures to perform.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.10.3\tImpacts on existing nodes and functionalities",
                            "text_content": "AMF:\n-\tInclude the expected in coverage time in the Namf_EventExposure_Notify event for UE reachability if the UE is using satellite access.\nMME:\n-\tInclude the expected in coverage time in the Monitoring Indication sent to the SCEF for UE reachability if the UE is using satellite access.\nNEF/SCEF:\n-\tProvide the expected in coverage time to the AF if received from the AMF/MME, for the AF to take into account, using existing service and information elements (maxUEAvailabilityTime).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.10.4\tSolution evaluation",
                            "text_content": "This solution does not introduce any new procedures, but adds a new scenario (discontinuous coverage) for providing an existing parameter in the exiting UE reachability events sent to the AF.\nThis solution uses other solutions to determine the in-coverage time and based on that a report can be sent to the AF. This allows an AF to adapt its behaviour, such as not starting a long running procedure, based on the knowledge of the expected in coverage time.\nHow the AF uses this information is outside of the solution, and similar to the monitoring events in general, not all use cases or AFs are expected to take advantage of this information, but where they can it provides an input to allow them to understand the UE reachability.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.11\tSolution #11: Combined UE Management Architecture",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.11.1\tDescription",
                            "text_content": "This is a solution for Key Issue #1: Mobility Management enhancement with discontinuous satellite coverage and Key Issue #2: Power saving enhancement for UE in discontinuous coverage.\nWhen the UE is out of coverage, a UE is unreachable and any paging from the network will not succeed. The UE mobility patterns may be known to either the UE, network, both the UE and network or neither.\nThis solution combines proposed solutions for different cases of mobility and a solution for when the mobility pattern is not known therefore providing a complete solution for UE power saving and reachability management.\nThe solution has 2 phases. 1st phase when the UE is released, either at the end of a coverage window by the CN or the requested by the UE, or during a coverage period when the UE is not expected to return to CONNECTED during a coverage window. The 2nd phase is when the UE returns to coverage and the actions the UE takes when it returns to coverage.\nThroughout the solution it is expected that the UE is aware of the coverage available from satellites and the UE, if it knows there is no coverage at a time, chooses not to attempt to activate its AS and initiate a connection or attempt to receive paging from the network.\nIf at any point between coverage periods, if the UE needs to connect to the network (e.g. for MO traffic or signalling) can detect coverage using a TN or NTN it can choose to initiate a connection, otherwise it is expected the UE will disable its AS procedures. Whether and how the UE choose to deactivate its AS when it is not required to receive paging or initiate a connection to the network is up to the UE implementation or network can send an indication to the UE to withhold UL MO data traffic/signalling or maybe addressed by other solutions.\nThe UE maybe in RRC_CONNECTED at the end of a coverage period, or at any point during a coverage period and transitioning from RRC_CONNECTED to RRC_IDLE. If the UE is in RRC_CONNCETED the UE may send a Registration Request to the network to transfer its understanding of its mobility pattern before the UE is released. If the UE is in RRC_IDLE or RRC_CONNECTED at the end of a coverage period, the UE may send a Registration Request to the to notifying the network it is leaving network coverage. In both cases, after the Registration procedure the UE is released.\nThe UE sends a Registration Request to inform the network about 4 different cases related to discontinuous coverage:\n1.\tThe UE believes itself to be stationary or moving on a predictable trajectory.\n2.\tThe UE understands it mobility and can predict a location it will be in the future and/or the time it will return to coverage at a location.\n3.\tThe UE does not have an understanding of its mobility because it is not predictable.\n4.\tThe UE is about to leave network coverage, remains in coverage when it is not expected to be, or has returned to network coverage and the UE has been requested to notify the network about its leaving, remaining in and returning to coverage in an earlier Registration procedure.\nThe network may use additional information to help determine the UE mobility in addition to the indications from the UE. This can include interactions with the NWDAF or other mobility information, for example mobility patterns provisioned by an AF to the network or other sources of information.\nTaking into account the UEs indication about its mobility state, the network can combine it with information it holds and respond to the UE.\nThe response to the UE can be to:\n1.\tProvide the UE with an eDRX cycle the UE should follow, if there is no satellite coverage available to the UE at a specific location\n2.\tEnable MICO/PSM mode for the UE, providing a periodic registration timer to the UE that coincides with coverage in the future so that the UE performs Periodic Registration or TAU when it returns to coverage.\n3.\tProvide an indication that the UE should inform the CN when it leaves and subsequently returns to coverage in the future at an unpredictable time and use MICO/PSM mode until the UE returns to coverage, or inform the CN that it has remained in coverage when it is expected to have moved out of coverage. The CN should provide a periodic registration timer to the UE that covers the longest expected period out of coverage and the CN may provide the time when it expects the UE to be first out of coverage.\nIf the UE had provided its capability for supporting NTN MO Backoff Mode and AMF had accepted the NTN MO Backoff Mode during an earlier Registration, it may provide an indication that the UE to enable NTN MO Backoff Mode with a NTN MO Backoff time to withhold UL MO data traffic/signalling to the UE.\nIf the UE is provided with an eDRX cycle, the CN may take into account the coverage at the predicted position when paging the UE. This may mean that some PTWs are skipped and this should be taken into account when responding to requests or providing a reachability time for the UE.\nThe UEs mobility may not be as expected and to assist in this case the CN may provide the UE with the time it expects the UE to remain in coverage, i.e. the time the UE is expected to be reachable for. If the UE remains in coverage longer than this expected time, for example if its mobility deviates from what was expected, the UE can inform the network about it remaining in coverage for longer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.11.2\tProcedures",
                            "text_content": "This procedure is used when the UE is leaving coverage.\nThe figure depicts a UE (User Equipment) leaving coverage procedure, illustrating the steps taken by the device to disconnect from the network. The figure shows the UE's antennae, signal strength indicators, and the network's signal strength indicators, indicating the UE's progress in leaving the coverage area.\nFigure 6.11.2.1-1: UE Leaving Coverage Procedure\n1a.\tRAN detects the UE is leaving coverage and initiates N2 UE Context Release Request if the UE is in RRC_CONNECTED.\n1b.\tThe UE sends a Registration Request including:\n-\t[Optional] a time when it expects to return to coverage, and/or\n-\t[Optional] where the UE believes it will be when it returns to coverage, and/or\n-\t[Optional] an indication that it does not know when or where it will be back in coverage.\n-\t[Optional] an indication that the UE is leaving coverage if the UE has previously received a Leaving Notification Indication instructing the UE to notify the network when it is leaving the network coverage.\nThe UE may be in RRC_IDLE or RRC_CONNECTED when it determines it needs to send the Registration Request.\n1c.\tIf the AMF detects that the UE is about to leave the current network coverage based on the coverage information, the AMF may trigger this procedure to move UE into CM-IDLE state when the UE is still within the network coverage.\n2.\t[Optional] The AMF make request predicated mobility and coverage information from the NWDAF.\n3.\tIf the AMF had provided the UE with a Leaving Notification Indication and the UE is indicating that it is leaving coverage then a Registration Accept is sent, otherwise the AMF takes into account the UEs indications in Registration Request about mobility to determine whether to:\n-\tProvide the UE with an eDRX configuration the UE should follow, if there is no satellite coverage available to the UE at a specific location.\n-\tEnable MICO/PSM mode for the UE, providing a periodic registration timer to the UE that coincides with coverage in the future so that the UE performs Periodic Registration or TAU when it returns to coverage.\n-\tProvide the UE with a Leaving Notification Indication so the UE informs the CN when leaves, remains unexpectedly, or returns to coverage in the future and use MICO/PSM mode until the UE is out of coverage. The CN should provide a periodic registration timer to the UE that covers the longest expected period out of coverage and may provide the time when the UE is expected to move out of coverage.\nThe AMF uses the UEs indications in the Registration Request, its knowledge of mobility and coverage, if available, and information from the NWDAF, if available, to determine what to indicate to the UE for handling the out of coverage period. The AMF always provides a Periodic Registration Timer value, taking into account the coverage and how the UE will handle the out of coverage period.\nIf Registration Request was received in step 1b, then the AMF responds with Registration Accept (step 3b) otherwise the AMF uses the UE Configuration Update procedure (step 3a).\nIf the UE and the AMF had negotiated NTN MO Backoff Mode, the AMF may provide an indication to the UE to enable NTN MO Backoff Mode with NTN MO Backoff time. The AMF may include the indication to enable NTN MO Backoff Mode with NTN MO Backoff Time during UE Configuration Update or Registration procedures.\n4.\tThe AMF sends an N2 UE Context Release Command to the (R)AN\n5.\tSteps 2 onwards of the AN Release Procedure as defined in clause 4.2.6 of TS 23.502 [3].\nFor the procedure for a UE leaving coverage in EPS is the same as the 5GS procedure in clause 6.11.2.1 with the following modifications:\n-\tThroughout: The TAU procedure instead of the Registration Procedure is used.\n-\tSteps 1b & 3b: The ATTACH procedure may additionally be used.\n-\tSteps 2 and 3a: The NWDAF and UCU procedure are not available in EPS, so these steps don't apply.\n-\tStep 5: S1 UE Context Release Command and the S1 release procedure, see clause 5.3.5 of TS 23.401 [5], instead of the N1 UE Context Release Command and the AN Release Procedure is used.\nThis procedure is used when the UE returns to coverage if it was instructed to inform the network during the leaving coverage procedure that it has returned to coverage or e.g. if the time the UE returns to coverage or remains in coverage is different from the expected time as determined in the leaving procedure.\nIf 5GS is used then the Registration procedure as defined in clause 4.2.2.2 of TS 23.502 [3] is reused and if EPS is used then Tracking Area Update procedure is used as defined in TS 23.401 [5].\nThe triggers the UE uses to detect coverage can be UE implementation dependent or defined by other solutions. The UE may take into account any previously received satellite ephemeris/coverage information from RAN, its expected or known position and time to determine whether to look for coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.11.3\tImpacts on existing nodes and functionalities",
                            "text_content": "UE:\n-\tProvide the AMF/MME with indications about its mobility predictability, including extrapolated future location and/or time in coverage, whether it is stationary/predictable mobility or not predictable.\n-\tSend indications to the AMF/MME when it is leaving coverage/remaining in/returning to coverage if instructed to do so.\n-\tReceive the time when the UE is expected to move out of coverage.\n-\tSupports the NTN MO Backoff Mode.\nRAN:\n-\tTrigger AN Release for a UE if it is about to leave coverage.\nMME/AMF:\n-\tObtain information on future coverage given satellites motion.\n-\tTrigger AN Release if the UE is about to leave coverage (5GS only).\n-\tConfigure the power saving parameters or Leaving Notification Indication based on the coverage information for the UE, indications from UE, information from the NWDAF (5GS only) and other information the MME/AMF may hold/have been provisioned with.\n-\tConsider the UE unreachable while out of coverage.\n-\tSend an indication to UE to enable NTN MO Backoff Mode with NTN MO Backoff time. (5GS only).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.11.4\tSolution evaluation",
                            "text_content": "This solution brings together the handling for different cases of the UE and/or the network having knowledge about mobility patterns or predications of when/where the UE will have coverage in the future, including the case when it is not known.\nThe following information is taken into account when determine current and future coverage for the UE:\n-\tUE awareness of coverage information and its predication of coverage at a future time and location the UE understands it will be at.\n-\tThe CN awareness of coverage information and its predication of coverage at a future time and location for the UE, based on, for example, mobility patterns or NWDAF inputs if available.\n-\tNo information available, and only requesting potentially the most signalling intensive operations in this case.\nThis allows flexibility in terms of who knows what, taking into account different use cases/scenarios to provide flexibility as not all use cases/deployments will be identical in terms of this. To share the information between the UE and CN there needs to be signalling and more inputs are taken into account for the decision making process for how to handle/signal out of coverage handling. Existing procedures are used and additional parameters are added to them, reducing this impact, but covering all the different scenarios/use cases for which entity knows what means that is unavoidable.\nThe solution builds upon the principles of other solutions, for example for provisioning of eDRX/MICO/PSM information to the UE and when, or use of the NWDAF for additional predications, etc. If the details of those solutions are adapted further, for example, based on a determination that some parameters or options are updated/changed/removed, then this solution can adapt accordingly, while still covering the multiple scenarios.\nThe solution can take advantage of additional information provided by other solutions, for example, UE location provided by UE location reporting, and provide additional/update information to the UE based on, for example, different granularity/offsets of timer values if required.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.12\tSolution #12: Minimize discontinuous coverage by inter-RAT handover processing",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.12.1\tDescription",
                            "text_content": "This solution resolves Key Issue #1 about how UE determines to remain with no service or to attempt to register on available different RAT's/ PLMNs to receive the normal service during discontinuous coverage in current NTN RAT.\nThe UE can detects it is about to move outside network coverage in current NTN access based on the ephemeris information. Meanwhile, it can also dectects the other available access. Both the accesses can have the same RAT type but belong to different Satellite Operators, or have different RAT type but can belong to same SO. Besides, the other available access can be TN access (e.g. E-UTRAN, NR). In this solution, both the source access network and the target access network are WB-E-UTRAN satellite accesses which have different RAT type and belong to different SOs. Inter-RAT handover for the UE may cause serving PLMN change in this solution.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.12.2\tProcedures",
                            "text_content": "The figure depicts an inter-RAN handover scenario for an UE using satellite access with discontinuous coverage. It illustrates the handover process, including the handover request, handover decision, and handover execution. The figure shows the handover path from the RAN to the UE, with the handover decision made at the RAN level and the handover execution at the UE level. The figure is important for understanding the handover process in a multi-access network, as it provides a visual representation of the handover decision and execution.\nFigure 6.12.2-1: Inter-RAN handover for UE using satellite access with discontinuous coverage\n0.\tWhen UE detects it is about to leave network coverage of LEO-A and MEO-B is available to access, it reports the radio condition measurements in which MEO-B access the UE wants to access is included as one of the neighbour cells to source eNB. This detection can be based on the UE current location and ephemeris information of LEO-A and MEO-B.\nNOTE 1:\tThe solution is available for the case when UE detects there is other available access. If there is no other available access, the UE determines to remain with no service until returns to the next coverage.\n1.\tTriggered by radio condition measurements report, and/or triggered by the source eNB based on ephemeris information, when detecting the UE is about to leave network coverage of LEO-A,the source eNB determines to perform handover based on the available RAT(s). The source eNB sends the handover required message to the source MME to request the CN to establish resources in the target eNB, target MME and the serving GW. The target eNB identifier and target TAI needs to be included in the message.\nNOTE 2:\tHow to determine inter-RAT handover for the UE by eNB depends on RAN WGs work.\n2.\tThe source MME determines from the target eNB identifier that the type of handover is an inter-RAT handover. The source MME selects the target MME based on \"MME selection\" as described in TS 23.401 [5]. The source MME initiates the handover resource allocation procedure by sending a Forward Relocation Request to the target MME. Information such as UE identity, target eNB id, etc are included in the message.\n3.\tIf the PLMN serving the UE changes, when receiving Forward Relocation Request from source MME, the target MME should verify the PLMN is whether allowed to operate at the present UE location (target TAI) based on the UE subscription information received from HSS. If it is not allowed to operate, the handover is failed.\nIf the target access is not satellite access, there is no need to verify UE location. 4.\tThe target MME determines if the serving GW is to be relocated, e.g. due to PLMN change. If the Serving GW is to be relocated, the target SGSN selects the target Serving GW as described in TS 23.401 [5] on \"Serving GW selection function\", and sends a Create Session Request message to the target serving GW. The target Serving GW allocates its local resources and returns a Create Session Response to the target MME.\n5.\tThe target MME requests the target eNB to establish the radio network resources by sending the Handover Request message. The target eNB allocates the resources and returns the applicable parameters to the target MME in the message Handover Request Acknowledge.\n6.\tIndirect Data Forwarding Tunnel is created if needed.\n7.\tThe target MME sends the Forward Relocation Response message to the source MME. In the message, Serving GW change indication indicates a new Serving GW has been selected. The Target to Source Transparent Container contains the value from the Target eNB to Source eNB Transparent Container received from the target eNB.\n8.\tCorresponding to step 7, Indirect Data Forwarding Tunnel is created.\n9.\tThe source MME completes the preparation phase towards source eNB by sending the Handover command message. The source eNB gives a command to the UE to handover to the target access network. .When the source eNB receives Handover Preparation Failure message (including when the target MME rejects based on UE location verification at step 3), and UE was using satellite access with discontinuous coverage over the source eNB (E-UTRAN LEO in this case), the source eNB determines whether to attempt another available neighbour cell within the radio condition measurements.\n10.\tThe UE moves to the target eNB and executes the handover according to the parameters provided in the message delivered in step 9.\n11.\tForward relocation completes in the execution phase to finish inter-RAT handover before moving outside LEO-A network coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.12.3\tImpacts on existing nodes and functionalities",
                            "text_content": "UE:\n-\tDetects it's about to leave from the current satellite access coverage and other available access based on the ephemeris information and UE location information\n-\tProvides measurements about available accesses to RAN.\nRAN:\n-\tDetects the UE is about to leave from the satellite coverage based on the ephemeris information.\n-\tDetermines whether to perform inter-RAN handover for the UE based on radio condition measurements, the available RATs, etc.\nNOTE:\thow to determine inter-RAT handover for the UE by eNB depends on RAN WGs work.\n-\tProvides target TAI to the source MME to provide UE location information to the target MME.\nMME:\n-\tIf the target access is satellite access and PLMN serving for the UE changes, performs UE location verification to meet regulatory requirements.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.12.4\tSolution evaluation",
                            "text_content": "This solution is based on existing inter-RAT handover procedure with minimal impact to Rel-17.\nOnly enhancement is that detecting the UE is about to leave from the current satellite access coverage by UE and/or RAN triggers the inter-RAT handover procedure.\nUsing UE and/or RAN triggered inter-RAT handover procedure to UE discontinuous coverage may have the following benefits:\n-\tLet UE and RAN aware of the coverage information is based on existing implementation, UE can use the coverage information combined with other information(e.g. present location, mobility restriction information) to determine to stay in current access with power saving mode or handover to other available RAT/PLMN.\n-\tUsing inter-RAT handover procedure in satellite access discontinuous coverage case can provide service continuity as much as possible.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.13\tSolution #13: Applicability of no service in discontinuous coverage",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.13.1\tDescription",
                            "text_content": "When UE enters into discontinuous coverage it has two options either to remain in no service or it can look for alternate RAT or PLMN to receive normal services. But based on what it has to make this decision is not very clear. This solution proposes that HPLMN can guide UE or UE determines itself on how to do on this aspect.\nBased on multiple factors HPLMN have better idea what UE should do in such a situation for example:\na)\tThere can be some delay tolerant UEs who are OK to remain in no service during discontinuous coverage. If such UEs trigger signalling and register on alternate PLMN those can unnecessarily incur cost to the HPLMN. At the same time there can be normal smartphones who are required to continue to receive services by looking for a source which can provide normal services to the UE.\nb)\tBased on alternate PLMN/RAT which is providing service to UEs, for example in few countries the roaming partner may incur less cost but in some other country it may incur higher cost.\nc)\tBased on subscription plans of the UE, etc.\nBased on above factors, or based on local operator policy UDM in HPLMN is configured with DisCoNoserviceapplicability parameter in per PLMN basis and further this solution proposes this parameter is configured by HPLMN into the UE, based on which UE will determine the following aspects:\n-\tWhether it has to negotiate power saving mechanisms, e.g. PSM/MICO/eDRX, for staying at no service with the serving network before entering no service discontinues coverage.\n-\tWhether it remains in no service or it looks for alternate source(PLMN or RAT) which can provide normal services to the UE.\nTo enable a roaming UE staying at a current VPLMN and Satellite RAT, the UDM in HPLMN needs to trigger Steering of Roaming procedure to SoR-AF during UE registration or after UE registration to obtain the Steering of Roaming information with the following enhancement:\n-\tIn the list of preferred PLMN/access technology combinations, the DisCoNoserviceapplicability parameter is configured in per PLMN/Satellite RAT basis, i.e. for each combination of VPLMN and Satellite RAT.\nNOTE 1:\tDisCoNoserviceapplicability value may be influenced by the parameters (e.g. Maximum Latency) from AF.\nNOTE 2:\tThe Steering of Roaming aspects need to be evaluated by CT WG1.\nThe UE can determine the better action when entering into discontinuous coverage with taking the following example information into account if DisCoNoserviceapplicability indicates UE can register on alternate PLMN/RAT during discontinuous coverage period:\na)\tThe coverage information and the UE location to determine when to move outside and when to enter into the satellite coverage.\nb)\tThe UE preference during discontinuous coverage, e.g. with the preference on remaining in no service or select other available RAT/PLMN to access.\nc)\tUE battery level. For example, if the battery level is lower than 30%, the UE determines to enter power saving mode during discontinuous coverage, otherwise can access to other available RAT/PLMN.\nd)\tThe UE type, the application type that the UE subscribed to, etc. For example, if the UE is delay tolerant UE or if the application is an IoT application which can tolerate long delay, the UE can determine stay in no service when discontinuous coverage happens.\nBased on the above network provided information or UE preconfigured information, the UE can make a better choice during discontinuous coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.13.2\tProcedures",
                            "text_content": "The figure depicts a user interface for updating the DisCoNoserviceapplicability parameter for a specific PLMN. The interface includes a list of available parameters and their corresponding values, as well as a button for selecting the desired parameter. The figure also includes a legend to help users understand the different parameters and their meanings. The layout is clean and user-friendly, making it easy for users to navigate and update the parameter.\nFigure 6.13.2-1: UE parameter update for DisCoNoserviceapplicability parameter per PLMN\n0)\tBy re-using the procedures described in clause 4.15.6.2 of TS 23.502 [3], the AF provisions the DisCoNoserviceapplicability parameter into the UDM/UDR, or the UDM/UDR can be configured with the DisCoNoserviceapplicability parameter based on operator policy. Whether to apply the DisCoNoserviceapplicability parameter as provisioned by AF is based on operator policy.\n1)\tUDM decides to perform UE parameter update to update DisCoNoserviceapplicability parameter.\n2 to 6a)\tUDM uses the UE Parameters Update via UDM Control Plane Procedure as described in clause 4.20 of TS 23.502 [3] to configure the DisCoNoserviceapplicability parameter in per PLMN basis into the UE.\n7)\tBased on DisCoNoserviceapplicability of the current PLMN/Satellite RAT, if DisCoNoserviceapplicability is set to true, the UE negotiates power saving mechanisms, e.g. PSM/MICO/eDRX, with the network for staying at current PLMN/RAT before moving out of coverage.\n8)\tEach time UE detects that it has entered into discontinuous coverage, the UE:\na)\tIf DisCoNoserviceapplicability of the current PLMN is set to true then UE will remain in no service during the discontinuous coverage duration and wait for completion of discontinuous coverage to resume normal services.\nb)\tIf DisCoNoserviceapplicability of the current PLMN is set to false then UE can perform PLMN selection procedure as described in TS 23.122 [13] to receive normal services from alternate RAT or different PLMN.\nFor the roaming UE, procedures to configure Steering of Roaming information for roaming UE during registration and after registration can based on TS 23.122 [13] in Figure C.2.1 and Figure C.3.1, respectively, with the following enhancement:\n-\tThe SoR-AF configures SoR information in the list of preferred PLMN/access technology combinations with the DisCoNoserviceapplicability parameter in per PLMN/Satellite RAT basis, i.e. for each combination of VPLMN and Satellite RAT.\nNOTE:\tThe Steering of Roaming aspects need to be evaluated by CT WG1.\nThe figure depicts a network topology with various components such as base stations (BTS), radio access network (RAN), and optical transport network (OTN). It illustrates the interconnection of these components, highlighting the importance of network redundancy and failover mechanisms. The figure also shows the use of optical line terminals (OLTs) for data transmission, which is a key component in 5G networks.\nFigure 6.13.2.1-1\n1)\tUDM uses the UE Parameters Update via UDM Control Plane Procedure as described in clause 4.20 of TS 23.502 [3] to update UE subscription data to the UE, e.g. DisCoNoserviceapplicability parameter defined in clause 6.13.2.1.\n2)\tThe AMF updates mobility restriction information to the UE via registration/UCU procedure, etc.\n3)\tWhen UE detects it's about to leave the network coverage based on the satellite coverage information, it determines to remain in no service and enter into power saving mode or select another available RAT/PLMN as described in 6.13.1.\n4)\tIf UE determines to remain in no service and enter power saving mode, UE and 5GC negotiates power saving parameters, e.g. eDRX parameters, periodic registration timer and the active time for MICO mode, before entering into discontinuous coverage.\nIf UE determines to access other RAT/PLMN to receive normal service during discontinuous coverage period, it performs RAT/PLMN selection as specified in TS 23.122 [13].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.13.3\tImpacts on services, entities and interfaces",
                            "text_content": "This solution impacts the following system entities.\nUDM:\n-\tTo configure DisCoNoserviceapplicability parameter in per PLMN/Satellite RAT basis in the UE using UE parameter update procedure.\nUE:\n-\tBased on the DisCoNoserviceapplicability parameter UE determines if it can remain in no service or it can trigger registration on alternate RAT or PLMN to receive normal services.\n-\tDetermines to remain in no service and enter into power saving mode or attempt to register on another available RAN/PLMN to receive normal service during discontinuous coverage.\n-\tBased on the DisCoNoserviceapplicability parameter UE determines if it needs to negotiate power saving mechanism, e.g. PSM/MICO/eDRX, for staying at no service with the serving network before entering no service discontinues coverage.\n-\tSupport to stay at no service discontinuous coverage in current PLMN/Satellite RAT based on the UE configuration.\nAF/NEF:\n-\tAs described in clause 4.15.6.2 of TS 23.502 [3], the AF can provision the DisCoNoserviceapplicability parameter into the UDM/UDR.\nAF:\n-\tTo configures SoR information in the list of preferred PLMN/access technology combinations with the DisCoNoserviceapplicability parameter in per PLMN/Satellite RAT basis, i.e. for each combination of VPLMN and Satellite RAT.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.13.4\tSolution evaluation",
                            "text_content": "The solution proposes a better control on the UEs during discontinuous coverage period. Operator based on roaming agreements, subscription of the UE, deployment choice can decide if UE has to get the service from alternate PLMN/RAT during the discontinuous coverage period or its OK to keep the UE in NO service till it gets back into satellite coverage.\nThe UE is expected to follow network instructions:\na)\tif network indicates that it has to remain in no service during discontinuous coverage then UE should remain in no service without executing any PLMN selection procedure till coverage is returned from serving PLMN/satellite access.\nb)\tIf network indicates it can select alternate PLMN/RAT, then based on UE inputs/preference UE can select alternate RAT/PLMN.\nThe solution also has an impact to external provisioning procedures in which AF can influence the value of DisCoNoserviceapplicability parameter provisioning at UDM/UDR through NEF as described in clause 4.15.6.2 of TS 23.502 [3].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.14\tSolution #14: Wait timer for discontinuous coverage",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.14.1\tDescription",
                            "text_content": "When discontinuous coverage occurs this will happen for all the UEs which were served by satellite access in a given area, if all these (or at least majority) of this UEs look for alternate PLMN or RAT then it can create spike of signalling load on the target system which can have negative impacts to target system. Similar problem was studied as part of the MINT work item. Thus, in Rel-17 as part of MINT work item the concept of wait timer was introduced, so that when coverage from serving network is lost all UEs does not attack the target system at the same time, there registration attempts are randomised. See below references:\nClause 5.40.6 of TS 23.501 [2]:\n\"To prevent signalling overload in PLMN providing Disaster Roaming, the HPLMN or registered PLMN:\n-\tmay provide disaster roaming wait range information to control when the UE can initiate the registration for Disaster Roaming service upon arriving in the PLMN providing Disaster Roaming service as specified in TS 23.122 [13] and TS 24.501 [14];\"\nClause 4.24 of TS 24.501 [14]:\n\"Upon selecting a PLMN for disaster roaming as specified in TS 23.122 [13]:\na)\tif the UE does not have a stored disaster roaming wait range, the UE shall perform a registration procedure for disaster roaming services on the selected PLMN as described in clause 5.5.1; and\nb)\tif the UE has a stored disaster roaming wait range, the UE shall generate a random number within the disaster roaming wait range and start a timer with the generated random number. While the timer is running, the UE shall not initiate registration on the selected PLMN. Upon expiration of the timer, the UE shall perform a registration procedure for disaster roaming services as described in clause 5.5.1 if still camped on the selected PLMN.\"\nIt is proposed to reuse the same solution even for discontinuous coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.14.2\tProcedures",
                            "text_content": "Either reuse the disaster roaming wait range configuration (hereafter called as discontinuous coverage wait range) or the new discontinuous coverage wait range is configured in the UE by the HPLMN as part of registration procedure or using UE Parameters Update via UDM Control Plane Procedure as described in clause 4.20 of TS 23.502 [3]. The registered PLMN can also configure the discontinuous wait range in the UE during registration procedure.\nWhen the UE detects discontinuous coverage, selects the different PLMN or alternate RAT of the same PLMN to continue to receive the services and if the UE has a stored discontinuous coverage wait range, the UE shall generate a random number within the discontinuous coverage wait range and start a timer with the generated random number. While the timer is running, the UE shall not initiate registration on the selected PLMN or alternate RAT. Upon expiration of the timer, the UE shall perform a registration procedure.\nIf the UE does not have stored discontinuous coverage wait range timer then UE will attempt registration procedure on selected PLMN or alternate RAT immediately following the legacy procedures.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.14.3\tImpacts on existing nodes and functionalities",
                            "text_content": "UE:\n-\tIf the preference is to reuse the existing disaster roaming wait range configuration then UE can re-use the same configuration as discontinuous coverage wait range and determine when to attempt or access the new PLMN or different RAT when discontinuous coverage is detected.\n-\tIf the preference is to go with new discontinuous coverage wait range configuration then UE can use respective configuration and determine when to attempt or access the new PLMN or different RAT discontinuous coverage.\nAMF or UDM:\n-\tTo provide discontinuous coverage wait range configuration to the UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.14.4\tSolution evaluation",
                            "text_content": "The solution proposes randomization of UE attempts on the target PLMN/RAT when UE enters discontinuous coverage.\nThe solution keeps open to either re-use the \"disaster roaming wait range configuration\" or to create a similar new configuration \"discontinuous coverage wait range configuraton\" which can be configured by network. Given the end purpose are same and solution does not propose any disadvantages of re-using the existing configuration. Existing configuration can be used to solve this issue.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.15\tSolution #15: Solution to support Provision of Coverage Data to a UE",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.15.1\tDescription",
                            "text_content": "This solution supports portions of KI#1 and KI#2 and consists of procedures for providing coverage data to a UE.\nThe content of coverage data can include a coverage map which shows the expected coverage by one or more satellite RATs at one or more locations and for a particular time in the future. A set of coverage maps can then be provided for each of a sequence of times occurring at fixed periodic intervals, such as at intervals of one minute. The locations supported by a coverage map can correspond to grid points in a rectangular (or possibly hexagonal) array, as illustrated by the rectangular array shown in Figure 6.15.1-1.\nThe figure depicts a coverage data map for a set of grid point locations, illustrating the distribution of signal strength across the area. The map is color-coded to represent different levels of signal strength, with darker shades indicating higher signal strength and lighter shades indicating lower signal strength. The map is overlaid with a legend that indicates the type of grid point (e.g., power line, communication line, etc.) and the corresponding signal strength level. The figure is useful for understanding the coverage of different types of grid points and for planning and designing communication networks.\nFigure 6.15.1-1: Coverage Data Map for a set of Grid Point Locations\nIn Figure 6.15.1-1, each grid point (dot) represents one location. These locations (i.e. grid points) can be spaced apart by a fixed distance (e.g. 100 to 400 kms). The absolute location of each grid point can then be known by specifying an absolute (global) location for just one grid point in the array (e.g. a centre grid point or a grid point at one corner). The expected satellite coverage at the location of each grid point can then be indicated by a binary one or zero value (indicating that coverage is expected to be either available or not available).\nThe example in Figure 6.15.1-1 assumes that a coverage map is spatial (for one time only) and is repeated for subsequent times. However, this could be reversed by providing a temporal coverage map for one location (grid point) for a sequence of times and then repeating this for each of the other locations (grid points).\nThe size of a coverage map may be reduced by using a lower resolution (e.g. a greater distance between grid points or longer interval between successive times) or by compressing any sequence of repeated binary ones or repeated binary zeros\nA coverage map (or set of maps) can be provided to a UE by a server via user plane or SMS or by an MME or AMF using NAS. Three alternative solutions can be used for this part.\nThe first solution is based on an HTTPS or SMS query from a UE to a server. The UE includes authorization data with the query that is meaningful to the server and is provided to the UE by the RPLMN.\nThe second solution is based on a simple NAS request/response (e.g. as part of NAS Attach, TAU or Registration).\nWith the third solution, the DCAF/AF functionality and architecture as defined in TS 26.531 [9] and TS 23.288 [10] could be extended to expose network data analytics to a UE.\nEditor's note:\tWhether and how DCAF/AF functionality is FFS.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.15.2\tProcedures",
                            "text_content": "The procedure is in two parts. First the UE obtains authorization data from the RPLMN. The authorization data is a text string that can be used as a URI for an HTTPS query or placed in the body of an SMS message. The content and structure of the authorization data can be transparent to the UE. All the UE sees is a text string that can be used as a URI or included in an SMS message. The authorization data may indicate the type of coverage map information being requested by the UE (e.g. can indicate a particular location, an area, a sequence of times, a set of satellite RATs), an address for the server and a temporary UE ID that is already pre-configured in (and thus recognizable by) the server. In the case of SMS (but not HTTPS), the UE would also need to receive a destination SMS address. Then the UE sends an HTTPS request or SMS message to the server and includes the authorization data either as the URI for HTTPS or in the body of the SMS message.\nEditor's note:\tApplicability of an HTTPS query to 3GPP specs and 3GPP WGs is FFS.\nFigure 6.15.2.1-1 shows the first procedure for 5GS. A procedure for EPS can be analogous using an Attach or TAU. The procedure is based on NAS but could use some other protocol layer instead - e.g. RRC.\nThe figure depicts a procedure to request authorization data, with a step-by-step guide for the user to follow.\nFigure 6.15.2.1-1: Procedure to Request Authorization Data\n1.\tThe UE sends a Registration Request to the serving AMF (e.g. for an initial registration, periodic registration or registration update) and includes a request for provision of coverage data and whether HTTPS or SMS is preferred. Additional parameters can be included to indicate applicable location(s), times and satellite RATs .\n2.\tThe serving AMF may verify the UE subscription to receive coverage data and whether the requested location(s) can be supported (e.g. are in a country supported by the AMF).\n3.\tThe AMF determines a server applicable to the location(s) and authorization data. The authorization data can be a text string URI for the server or the content of an SMS message to be sent to the server. The authorization data can include a temporary ID for the UE as well as details of the request received at step 1 (e.g. may indicate the applicable location(s), times and satellite RATs). The encoding of the authorization data can be out of scope of 3GPP (e.g. may be proprietary to the server and the RPLMN).\nEditor's note:\tThe generation, sharing and configuration of the security information are FFS and requires coordination with SA WG3.\n4.\tThe AMF returns authorization data in the Registration Accept and, in the case of SMS, an SMS address for the server. The AMF may also indicate a limitation on usage of the authorization data - e.g. a maximum number of requests to the server or a maximum time duration of usage.\nFigure 6.15.2.1-2 shows the second procedure which can be the same for both 5GS and EPS.\nThe figure depicts a procedure to request coverage data from a server, illustrating the steps involved in obtaining information about the network's coverage. The figure includes a server, a user interface (UI), and a server-side application (SSA), all connected to a network infrastructure. The UI allows users to input their location and request the necessary data, while the SSA processes the request and provides the requested coverage data. The figure highlights the importance of network infrastructure in providing reliable and efficient coverage for users.\nFigure 6.15.2.1-2: Procedure to Request Coverage Data from a Server\n1.\tThe UE sends an HTTPS Request (e.g. an HTTPS GET) to the server with a URI equal to the authorization data obtained in the first procedure or sends an SMS message with the authorization data in the message body using an SMS address received in the first procedure. The HTTPS Request or SMS message does not need to include any additional data because the authorization data already includes all data needed by the server. This avoids the UE having to support proprietary server protocols related to the request or any need to standardize such protocols.\n2.\tThe server verifies that the authorization data is valid.\n3\tThe server returns the requested coverage data to the UE according to the request at step 1. The returned coverage data would need to use an encoding known to both the UE and server.\nEditor's note:\tThe generation, sharing and configuration of the security information are FFS and requires coordination with SA WG3.\nFigure 6.15.2.2-1 shows a NAS procedure for 5GS. A procedure for EPS can be analogous using an Attach or TAU.\nThe figure depicts a procedure to obtain coverage data using NAS (Network Access Services), which is a key component of 5G network architecture. It illustrates the steps involved in obtaining data from the network, including obtaining the necessary permissions, configuring the NAS, and accessing the data. The figure also highlights the importance of network access services in ensuring seamless network connectivity and data sharing.\nFigure 6.15.2.2-1: Procedure to obtain coverage data using NAS\n1.\tThe UE sends a Registration Request to the serving AMF (e.g. for an initial registration, periodic registration or registration update) and includes a request for provision of coverage data. Additional parameters can be included to indicate applicable location(s), times and satellite RATs.\n2.\tThe serving AMF may verify the UE subscription to receive coverage data and whether the requested location(s) can be supported (e.g. are in a country supported by the AMF).\n3.\tThe AMF returns the coverage data in the Registration Accept. The AMF may obtain the coverage data from pre-configured data in the AMF which may not need any AMF interpretation if coverage data is configured for a limited set of locations and a small set of alternative durations. Alternatively, the AMF could send on the UE request to another server (e.g. using a procedure similar to that in Figure 6.15.2.1-2) and include returned coverage data at step 3, though this would be out of scope of 3GPP.\nThe procedure shown in Figure 6.15.2.2-1 is identical to the procedure shown in Figure 6.15.2.1-1 except for returning coverage data instead of authorization data. That would allow an RPLMN to support either procedure or both procedures based on a common request/response from/to the UE. For example, a UE could indicate in a NAS Registration Request which procedure(s) the UE supports and then the AMF can attempt to match the UE support. Conflict will arise only when the UE and AMF each support only one procedure that is different from the other. That can be avoided if one of the procedures is defined as a common default.\nEditor's note:\tThe details of these procedures are FFS.\nThis procedure is an alternative to the procedure in clause 6.15.2.1 and clause 6.15.2.2 and is focused on PLMN provision of coverage data without impacting NAS.\nSince Rel-17, the DCAF functionality which is part of the AF was introduced to enable the NWDAF to perform data collection from an Application. Given the communication path between NWDAF and the DCAF has been introduced for data collection, it is extend the existing DCAF/AF functionality and architecture as defined in TS 26.531 [9] to expose network data analytics related to the UE to assist the UE's determination for coverage information.\nEditor's note:\tThe feasibility of this clause needs further discussion and to be checked with eNA_Ph3 and SA WG4.\nThe following assumptions are made:\n-\tThe UE can Subscribe/Request to NWDAF via DCAF to request the information from 5GC (e.g. the Analytics result from the NWDAF).\n-\tThe communication services and functional architecture between UE and DCAF is in the scope of SA4 and shall be compatible with the existing architecture defined in TS 26.531 [9].\nA user plane data collection from UE application client is in clause 6.2.8 of TS 23.288 [10] in Rel-17. A UE Application is configured the address of DCAF by the Application server. The UE establishes a connection to the DCAF over user plane via a PDU session. The DCAF communicates with the UE and collects data from the UE Application to NWDAF.\nEditor's note:\tIt is FFS how the Application server determines the address.\nThe same procedure for user plane connection between the UE and DCAF (R2 interface in TS 26.531 [9]) is proposed to be used by the UE to request data exposure from NWDAF.\nThe following information can be exposed to the UE via the support of the DCAF based on network consent acquired by UE:\n-\tSatellite ephemeris from any satellite operators the UE may be able to access.\n-\tOther RAT information the UE may be able to access.\nEditor's note:\tHow to extend the interaction between UE and DCAF as defined in TS 26.531 [9] to enable UE to subscribe/request information to/from 5GC NF (e.g. NWDAF) via DCAF is in SA WG4 scope.\nThe SLA between the operator and an External Provider of the related information to NWDAF further include the Supported Analytics ID list.\nThe Supported Analytics ID indicates the Analytics outputs that allowed by the operator to expose to the UE. The Supported Analytics ID list will be stored in DCAF.\nThe External Provider will provision the Supported Analytics IDs to UE with means out of scope of 3GPP.\nThe UE requested data exposure procedure is described in Figure 6.15.2.3-1.\nThe figure depicts a user-requested data exposure procedure, with a focus on the UE (User Equipment) and the network infrastructure. The diagram illustrates the steps involved in the procedure, including the request, data exchange, and response. The figure is labeled with the figure number \"6.15.2\" and the figure name \"Figure 6.15.2.\"\nFigure 6.15.2.3-1: UE requested data exposure procedure\n1.\tThe UEs Direct Data Collection Client to send the Analytics Request to DCAF via signalling defined in TS 26.531 [9]. The DCAF address is provided to UE using a PCO when the UE establishes the PDU session to access DCAF. The requested Analytics ID(s) are included in the signalling to DCAF.\nDCAF can retrieve the UE IP address from the source IP address of the received packet.\n2.\tUE ID retrieval procedure is described in clause 6.15.2.3.\n3.\tDCAF discovers the NWDAF that supports the Analytics ID received in step 1.\nFor DCAF in trusted domain, DCAF sends Nnrf_nwdafdiscovery _request to NRF to discovery the NWDAF. The request message shall include the Analytics ID and the S-NSSAI.\nFor DCAF in untrusted domain, DCAF sends Nnef_EventExposure_subscribe with AF specific Identifier to NEF. NEF determines the S-NSSAI for the AF specific and sends Nnrf_nwdafdiscovery _request to NRF to discovery the NWDAF. The request message shall include the Analytics ID and the S-NSSAI\n4.\tNRF sends the Nnrf_nwdafdiscovery_response with the discovered NWDAF identity.\n5.\tDCAF subscribes to NWDAF for the analytics request with UE Identity and Analytics ID(s). Step 5a is for DCAF in trusted domain and step 5b is for DCAF in untrusted domain.\nBefore step 5b, the AF asks the NEF for authorization information to check if the UE is allowed to obtain analytics ID from the network. The NEF determines the authorization information for the UE based on local policy and the UE subscription data from the UDM about whether the UE has subscribed to the service that obtaining some specific analytics ID from network. Then the NEF sends the authorization information to the AF.\n6.\tIf NWDAF does not have available analytics result for the requested analytics ID, the NWDAF will trigger the analytics procedures for the analytics ID(s). NWDAF performs user consent check to UDM to determine if the analytics procedure is allowed or not.\n7.\tAnalytics procedure is performed as described in TS 23.288 [10]. NWDAF may combine data it received from various sources e.g. OAM, external satellite providers etc in order to determine the analytics results.\n8.\tNWDAF sends analytics result to DCAF. Step 8a is for DCAF in trusted domain and step 8b is for DCAF in untrusted domain.\nNOTE:\tThe security aspects of exposure of network data must be evaluated by SA3.\n9.\tDCAF sends the analytics result to UE application client via application layer signalling.\n10-11.\tIf a Subscribe/Notify service operation is invoked in step 5, the NWDAF may further notify the analytics to UE e.g. periodically). NWDAF notifies the analytics result to DCAF. Step 11a is for DCAF in trusted domain and step 11b is for DCAF in untrusted domain.\n12.\tDCAF exposes the requested analytics to UE application client.\nFor DCAF in trusted domain, since the supported pairs of S-NSSAI+DNN for the PDU session established for UE to DCAF are configured in the DCAF, DCAF may also retrieve the S-NSSAI+DNN for the PDU sessions that used by the UE sent the Analytics request. DCAF provides the UE IP address and the S-NSSAI to request UE ID from BSF as described in Figure 6.15.2.3-2.\nThe figure depicts the process of UE ID retrieval by DCAF in a trusted domain, showing the steps involved in obtaining the unique identifier for each user equipment (UE) within the network. The figure illustrates the use of DCAF, a device that authenticates and authorizes users, to ensure secure communication. The process includes the identification of the UE, the verification of the identity of the UE, and the generation of the UE ID. The figure also shows the steps of the authentication process, including the use of encryption and the generation of a unique identifier for each UE.\nFigure 6.15.2.3-2: UE ID Retrieval by DCAF in trusted domain\n1.\tDCAF sends the Nbsf_Management_Discovery request to BSF with UE IP address, DNN and S-NSSAI to retrieve the session binding information of the UE.\n2.\tBSF provides SUPI to DCAF via Nbsf_Management_Discovery response message.\nFor DCAF in untrusted domain, the supported pairs of S-NSSAI+DNN are configured in NEF. DCAF provides UE IP address to NEF and NEF retrieves the UE ID from BSF by reusing the procedure as described in clause 4.15.10 of TS 23.502 [3]. Figure 6.15.2.2-3 is the UE ID Retrieval procedure by DCAF in untrusted domain.\nThe figure depicts the process of UE ID retrieval by DCAF in an untrusted domain, where the DCAF is a device that collects and processes data from the UE. The figure shows the UE ID retrieval process, which involves the UE sending a request to the DCAF, and the DCAF processing the request and returning the UE ID. The figure also includes a visual representation of the DCAF's interface, showing the various buttons and input fields that the UE can use to interact with the DCAF. Overall, the figure provides a clear and concise overview of the UE ID retrieval process in an untrusted domain.\nFigure 6.15.2.3-3: UE ID Retrieval by DCAF in untrusted domain\n1.\tDCAF requests to retrieve UE ID via the Nnef_UEID_Get service operation. The request message shall include UE address and AF Identifier.\nNOTE:\tThe case where UE IP address provided by the AF to the NEF corresponds to an IP address that has been NATed (Network and Port Address Translation) is not supported in this Release.\n2.\tThe NEF authorizes the DCAF request.\n3-4.\tThe NEF may use the Nbsf_Management_Discovery service operation with UE address to retrieve the session binding information of the UE. BSF provides the SUPI / GPSI, S-NSSAI and DNN to NEF.\nNEF stores the SUPI / GPSI, S-NSSAI and DNN for the UE address.\n5-6.\tNEF interacts with UDM to retrieve the AF specific Identifier from UDM and further responds to DCAF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.15.3\tImpacts on existing nodes and functionalities",
                            "text_content": "UE:\n-\tRequest and obtain authorization data (and an SMS address) from an AMF or MME using NAS.\n-\tRequest and obtain coverage data from a server using HTTPS or SMS.\nAMF/MME:\n-\tVerify a UE subscription to receive coverage data and provide and record authorization data (and an SMS address)for a server to the UE using NAS.\nServer:\n-\tReceive a request for coverage data from a UE using HTTPS or SMS, verify and record the authorization data and provide coverage data.\nUE:\n-\tRequest and obtain coverage data from an AMF or MME using NAS.\nAMF/MME:\n-\tVerify a UE subscription to receive coverage data and provide coverage data to the UE using NAS.\n-\tSupport pre-configuration of coverage data or access to coverage data on another server.\nDCAF:\n-\tReceives analytics request from UE via HTTP signalling to be defined in TS 26.531 [9].\n-\tDiscovers NWDAF for the received analytics request from UE.\n-\tSends analytics request to NWDAF.\n-\tReceives analytics response from NWDAF.\n-\tSends the received analytics result to UE with signalling to be defined in TS 26.531 [9].\n-\tChecks with NEF about authorization information for the UE if it is allowed to obtain analytics ID from the network.\nNEF:\n-\tChecks about authorization information for the UE based on local policy, the UE subscription data about whether the UE has subscribed to the service that obtaining some specific analytics ID from network.\nNWDAF:\n-\tSupport coverage data encoded as a binary coverage map.\n-\tProvide coverage data in response to a request from a DCAF.\nUE:\n-\tSend an analytics request to a DCAF for coverage data and receive coverage data in a response.\n-\tSupport coverage data encoded as a binary coverage map.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.15.4\tSolution evaluation",
                            "text_content": "A coverage map as defined in clause 6.15.1 has several advantages compared to provision of satellite orbital data using a SIB (e.g. as in SIB32 in TS 36.331 [16] in Release 17).\n-\tA UE is not required to perform any complex satellite orbital calculations to determine expected coverage and can just lookup its current location and time in a coverage data map to see whether there is coverage.\n-\tThe coverage data can be prepared in advance (e.g. by a satellite operator) with complete and accurate knowledge of satellite orbital data and radio cell planning and can thus be more accurate and reliable than coverage data inferred by a UE from satellite orbital parameters.\n-\tThe coverage data can be provided for an arbitrary period - e.g. for 24 hours or 1 week or more.\n-\tThe coverage data can be provided for multiple satellite RATs.\n-\tThe coverage data can be more complete. For example, SIB32 in TS 36.331 [16] can only include ephemeris data for 4 satellites. It is possible that a UE near to a boundary of a radio cell might receive coverage from satellites not included in the SIB32 or that a satellite included in the SIB32 that should be visible to a UE does not provide coverage due to restrictions on PLMN, country and/or time of day support or because radio cells are not configured for the entire area of visibility of the satellite.\nThe procedure in clause 6.15.2.1 for obtaining Coverage Data using an HTTPS or SMS Query to a Server has the following benefits:\n-\tAllows use of a server from a satellite operator which avoids impacts to PLMNs for determining and providing coverage data to UEs.\n-\tSupports charging for coverage data and secure transfer of coverage data.\n-\tSupports UEs with and without an IP protocol stack.\nThe procedure in clause 6.15.2.2 for obtaining Coverage Data using NAS has the following benefits:\n-\tHas reduced signalling impact due to being an extension of existing Registration, Attach and TAU procedures.\n-\tSupports charging for coverage data and secure transfer of coverage data.\nThe procedure in clause 6.15.2.3 for obtaining Coverage Data using an DCAF and NWDAF has the following benefits:\n-\tEnables reuse of parts of NWDAF and DCAF architecture and functionality for data collection.\n-\tCan be reused to enable a UE to request and obtain other types of data analytics from a DCAF and NWDAF.\n-\tSupports charging for coverage data and secure transfer of coverage data.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.16\tSolution #16: Solution to support a UE Triggered Generalized Unavailability Period",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.16.1\tDescription",
                            "text_content": "This solution supports portions of KI#1 and KI#2. The solution is based on \"Solution #2: UE provided Unavailability Period\" in clause 6.2 of TR 23.700-61 [11] where an unavailability period for an event that is unavoidable is indicated by a UE to a serving AMF using a Registration Update. In that solution, the events that may be supported currently include:\na)\tSilent reset at Modem;\nb)\tSecurity patch updates;\nc)\tOS upgrade;\nd)\tModem SW updates; and\ne)\tDevice reboot upon Modem setting changes via OMA-DM.\nThis solution though can be generalized to indicate UE unavailability for other events that are unavoidable such as satellite discontinuous coverage or UE power savings combined with satellite discontinuous coverage.\nNOTE 1:\tUE power savings combined with satellite discontinuous coverage refers to a period of power savings for a UE that includes one or more periods of (expected) no satellite coverage. The UE can then determine a preferred period of unavailability that starts at or before a first period of no satellite coverage and ends after this period and possibly subsequent periods of no satellite coverage have ended and thus during a period of satellite coverage. The network (AMF or MME) then does not need to know the details of the one or more periods of no satellite coverage and can just support a single overall period of UE unavailability. If the UE were to instead indicate unavailability for each separate period of no satellite coverage, the UE power savings could be much less and the network (AMF or MME) might need to process a much larger number of separate unavailability periods.\nThe principles of the solution are as follows and are aligned with principles described in clause 6.2.1 of TR 23.700-61 [11].\n(a)\tThe UE determines a period of impending unavailability based on one or more of: data on satellite coverage availability, power savings requirements, SW upgrade, patching or reboot of the UE, and possibly other unavoidable events.\nNOTE 2:\tThe solution depends on UE access to data on satellite coverage availability which may be supported as in Release 17 or by some other new solution in Release 18.\n(b)\tThe UE indicates the period of unavailability to an AMF in a Registration Update or to an MME in a TAU. The UE could also indicate the events or events causing the unavailability.\nNOTE 3:\tThe event(s) may be useful for data analytics though may not affect support by an AMF or MME.\n(c)\tThe AMF or MME may set the periodic registration or TAU timer to a value equal to or slightly larger than the unavailability period provided by the UE. During this unavailability period the AMF or MME maintains the UE context in CM-IDLE or ECM-IDLE, and considers the UE unreachable. Functions for High latency Communication (HLCom) may be used to buffer incoming data or functions applicable to MICO mode may be used (e.g. for very long periods of unavailability).\n(d)\tWhen the period of unavailability ends or if the UE becomes available before the unavailability is expected to end (e.g. if the UE obtains satellite access or access using a TN RAT before a satellite coverage gap is expected to end), the UE triggers a registration update or TAU and does not provide an indication of an unavailability period. The AMF or MME may then provide the UE with a normal periodic registration or TAU timer. If the UE is now using a different RAT, the context in the previous AMF or MME will be transferred.\n(e)\tWhen the period of unavailability ends at the expected time and is due to an unavoidable event common to many UEs (e.g. discontinuous satellite coverage), the UE, if requested by the MME or AMF, can delay sending of the registration update or TAU for bullet (d) by a time delay indicated by the MME or AMF.\nNOTE 4:\tThe time delay in bullet (e) may need to be small (e.g. 1 minute or less in the case of discontinuous satellite coverage) and can avoid a large number of UEs sending a registration update or TAU at the same time which might otherwise congest the network.\n(f)\tWhen unavailability is due to lack of satellite coverage, the procedure may be used only for long periods of unavailability to reduce extra signalling. For a short period of no satellite coverage (e.g. 5 or 10 minutes), the UE need not notify the CN. The lack of coverage may then be treated by the CN the same as temporary loss of coverage for TN which may lead to some failed paging attempts but not to deregistration of a UE. An RPLMN might also indicate to a UE a minimum period of lack of satellite coverage for which the procedure should be used (e.g. in a Registration Accept message).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.16.2\tProcedure for UE Triggered Generalized Unavailability Period",
                            "text_content": "Figure 6.16.2-1 shows a procedure performed by a UE and AMF to support a Generalized UE Unavailability Period for NR satellite access. A procedure for LTE or NB-IoT satellite access would be similar. The procedure is based on the procedure in clause 6.2.3 of TR 23.700-61 [11]. A similar procedure to the one shown in Figure 6.16.2-1 would be used for EPS with initial Registration replaced by an initial Attach and Registration for unavailability replaced by a TAU.\nThe figure depicts the generalized UE unavailability period for a specific UE (User Equipment) triggered by a generalized UE (Universal Equipment). The period is represented by a series of bars, each representing a different UE unavailability period. The bars are color-coded to indicate the severity of the unavailability, with darker bars indicating higher unavailability periods. The figure provides a visual representation of the UE unavailability period, allowing for easy comparison and understanding of the different periods.\nFigure 6.16.2-1: UE Triggered Generalized UE Unavailability Period\n1.\tDuring an initial Registration procedure, the UE provides an indication of support of \"Generalized Unavailability Period\" in the Registration Request, and the AMF indicates whether this is supported in the Registration Accept message. The AMF may also indicate in the Registration Accept a minimum period of unavailability for which notification according to steps 2-4 is needed. For periods of unavailability shorter than this, the UE shall not notify the AMF\n2.\tThe UE determines a period of impending unavailability based on any of e.g.: satellite coverage unavailability, power savings requirements (when combined with satellite unavailability), SW upgrade or reboot of the UE or some other unavoidable event. The determination of the unavailability is implementation dependent and assumes the UE has the necessary data (e.g. for satellite coverage in the case of satellite coverage unavailability).\n3.\tThe UE sends a Registration Request sometime before the unavailability starts indicating the Unavailability period and may indicate an event or events causing the unavailability.\nNOTE:\tThe Registration Request can be a mobility Registration Request or could be left up to CT WG1 to decide.\n4.\tThe AMF responds with a Registration Accept. The AMF may set the periodic registration timer to a value equal or slightly greater than the unavailability period provided by the UE. For an event common to many UEs (e.g. discontinuous satellite coverage), the AMF may indicate a time delay (e.g. fixed or random) to the UE for re-accessing the PLMN.\n5.\tThe AMF stores the information that the UE is in unavailability period in the UE context, and considers the UE unreachable until the UE performs a registration update again. In this state, all HLCom features apply if supported, e.g. extended data buffering, downlink data buffering status report, etc.\n6.\tThe UE becomes available either due to normal termination of the unavailability period or because the UE became available earlier - e.g. if the UE obtains PLMN access using some NTN or TN RAT before a period of satellite unavailability was expected to end.\n7.\tThe UE triggers a registration update to resume regular service. The UE does not include an unavailability period in the Registration Request. Depending on whether the UE has changed PLMN, TAI or RAT type and whether the periodic registration timer has expired, the Registration may be an initial Registration (e.g. if the UE has changed PLMN), \"mobility\" or \"periodic\" Registration. If the UE becomes available due to normal termination of the unavailability period, the UE delays sending of the registration update for the time delay indicated at step 4.\nEditor's note:\tIf the periodic registration timer did not expire and the UE has UL data to send, the UE might send a Service Request instead. This is FFS.\n8.\tThe AMF responds with Registration Accept. The AMF assigns a new periodic registration timer not applicable to an unavailability period.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.16.3\tImpacts on existing nodes and functionalities",
                            "text_content": "UE:\n-\tDetermination of a generalized unavailability period.\n-\tNegotiating and signalling an unavailability period to an AMF (or MME).\n-\tNotifying an AMF (or MME) after exiting unavailability and possibly after a small time delay.\nAMF/MME:\n-\tSupport of an unavailability period indication in Registration or TAU procedure.\n-\tStoring unavailability period in UE context.\n-\tHandling of MT data and control plane procedures for an unreachable UE (no new procedures compared to HLCom).\n-\tAssigning a time delay to a UE for re-accessing the PLMN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.16.4\tSolution evaluation",
                            "text_content": "For EPS, the solution is backward compatible with Release 17. If the UE is Release 18 but the MME is Release 17, the MME will not indicate support for the generalized unavailability period in an Attach Accept. If the UE is Release 17 but the MME is Release 18, the UE will not indicate support for the generalized unavailability period in an Attach Request and TAU Request. In these cases, both entities can use the solution for Release 17.\nThe solution does not require any support for satellite discontinuous coverage in an MME or AMF e.g. the AMF or MME does not need to receive data on satellite coverage or determine itself whether and when a UE will have a coverage gap.\nThe solution is multi-purpose and can support UE unavailability for several different unavoidable types of events and not just for satellite coverage gaps.\nThe solution can avoid a large number of UEs re-accessing a serving PLMN at the same time after a coverage gap has ended.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.17\tSolution #17: Solution with event list coverage information over NAS",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.17.1\tDescription",
                            "text_content": "This solution proposes that the UE requests, using existing NAS signalling messages, coverage information from the core network, specifying in the request a trajectory or area of geographical evolution (type of shape), as well as a sampling distance and a study time. The core network will return projections of coverage for sampled positions, with corresponding locations, timing elements, and coverage type information, under the form of coverage event list, for study time duration.\nIn 5GS, it is also possible for the UE trajectory forecast to be provided directly to the core network by external server via NEF or via NWDAF. In this hypothesis, the AMF will push coverage information over NAS to the UE supporting the feature.\nIt is also possible that coverage information can be provided for any RAT type, not only satellite NG-RAN.\nFollowing Figure illustrates a simple scenario for providing coverage events over NAS, with following steps:\nThe figure depicts a trajectory of a spacecraft in orbit around a planet, illustrating the various types of shapes that can be represented in a trajectory graph. The graph is divided into different shapes, each representing a different type of trajectory, such as a straight line, a curve, or a loop. The shapes are labeled with their respective types, and the graph is color-coded to indicate the type of trajectory. The figure is useful for understanding the different types of trajectories that can be represented in a trajectory graph and for analyzing the trajectory of a spacecraft in orbit around a planet.\nFigure 6.17.1-1: Illustration of the solution for Type of shape = trajectory\nAt T=T0, the UE, in any NAS request (e.g.: REGISTRATION REQUEST, PDU SESSION ESTAB…) provides its current location P0 and future points in its trajectory or evolution zone P1, P2, P3 … together with a sampling distance, a study period, and an indication of type of shape (trajectory or evolution zone).\nIf UE knows it future trajectory, it will indicate type of shape = trajectory and the AMF/MME will define sampled points {Q0, Q1, …, Q6} along this trajectory as illustrated in Figure 6.17.1-1.\nIf UE only knows a possible evolution zone, the provided list of points defines a polyhedron and the AMF/MME will sample points in two dimensions inside the polyhedron, considering sampling distance on 2 axis (e.g. X, Y), as illustrated in Figure 6.17.1-2.\nThe figure depicts a simplified representation of the evolution zone, illustrating the various shapes and their corresponding solutions. The evolution zone is a critical component in the design of a communication system, as it determines the optimal path for data transmission. The figure provides a visual guide to understand the different shapes and their corresponding solutions, such as the square, triangle, and rectangle, and how they can be used to optimize the system's performance.\nFigure 6.17.1-2: illustration of the solution for Type of shape = evolution zone\nWhen receiving the request, the AMF/MME contacts a server to get current coverage information and coverage information forecast for the study period on the sampled {Q0, … , Qn} list of points. In the simple scenario here, depicted in Figure 6.17.1-1:\nAt T=T0, situation is that all sampled positions {Q0, Q1, Q2, Q3, Q5, Q6} are under coverage.\nAt T=T1, forecast is that Q3 and Q4 will lost LEO coverage, respectively cell identifier X and Y.\nAt T=T2, forecast is that Q4 will recover a LEO coverage, on cell identifier Z.\nCoverage information returned to the UE in NAS downlink message, e.g.: REGISTRATION ACCEPT (or UE CONFIGURATION UPDATE in 5G) will then be the following, under the form of event list:\n-\tQ0 (POS=LAT, LONG, ALT); GNSS time = T0; EVENT TYPE= COVERAGE LEO; CELL ID =W\n-\tQ1 (POS=LAT, LONG, ALT); GNSS time = T0; EVENT TYPE= COVERAGE LEO; CELL ID =W\n-\t…\n-\tQ3 (POS=LAT, LONG, ALT); GNSS time = T1; EVENT TYPE= LOST COVERAGE LEO; CELL ID =X\n-\tQ4 (POS=LAT, LONG, ALT); GNSS time = T1; EVENT TYPE= LOST COVERAGE LEO; CELL ID =Y\n-\tQ4 (POS=LAT, LONG, ALT); GNSS time = T2; EVENT TYPE= RECOVER COVERAGE LEO; CELL ID =Z\nIn the above scenario of the solution, the AMF/MME contacts a server to get coverage information forecast as defined above. It is also (optionally) part of the solution, in 5GS case, that a new Coverage Map management Network Function is defined and integrated in the SBA/SBI 5GC architecture, to take benefits of this architecture and normalize the AMF interface definition through new NF APIs: Ncmnf_communication and Ncmnf_EventExposure.\nThe figure depicts a new coverage map network function integrated in SBA/SBI, showcasing the integration of various network functions such as network slicing, network function virtualization (NFV), and network orchestration. The map highlights the distribution of network functions across different network slices, with each slice representing a specific network function. The integration of these functions into the SBA/SBI architecture enhances the overall network performance and efficiency.\nFigure 6.17.1-3: New Coverage Map Network Function integrated in SBA/SBI\nIn this (optionally) part of the solution, the AMF requests coverage event list to the CMNF, providing in the request the parameters received from the UE in NAS message, or alternatively the parameters received from external AF trough NEF or received from NWDAF. The CMNF provides coverage event list in response, and AMF routes back the event list to the UE in NAS downlink message.\nThe AMF can also subscribe any changes about coverage information for a trajectory or an evolution zone parameter set. In this mode, the CMNF periodically re-evaluate coverage for the sampled positions and manages the event list during the study period, generating a notification with new list in case new events are foreseen or occur during the period. In this case, AMF receives notification from CMNF and generates a UE CONFIGURATION UPDATE message to the UE with the refreshed event list.\nAlternatively, if CMNF is not introduced in SBA, the AMF could request coverage event list to another server and route back the returned event list to the UE in NAS downlink message. This would be out of scope of 3GPP.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.17.2\tProcedures",
                            "text_content": "NOTE:\tFor the clarity of the illustration, example of 5G REGISTRATION procedure is taken, but other NAS procedure like PDU SESSION in 4G or 5G could be used.\nThe figure depicts a sequence chart based on the registration procedure, illustrating the steps involved in the registration process. The chart is divided into two columns, with the left column representing the registration process and the right column representing the verification process. The figure provides a visual representation of the steps involved in the registration procedure, including the identification of the registration key, the verification of the registration key, and the verification of the registration key. The figure is useful for understanding the sequence of steps involved in the registration process and for ensuring that the registration process is carried out correctly.\nFigure 6.17.2.1-1: Sequence chart based on registration procedure\nThe UE sends a Registration Request to the serving AMF (e.g. for an initial registration, periodic registration or registration update) and includes a list of points, the type of shape, a sampling distance, a study period.\nAMF performs usual procedures as per TS 23.501 [2] / TS 23.502 [3].\nIn coordination with a Coverage map server, the AMF determines the list of coverage events for all the positions sampled with the sample distance and for a future period of study period.\nThe coverage event list for sampled positions, including coordinates and absolute time stamp, type of coverage event (lost, recover), type of coverage (LEO/MEO/GEO/terrestrial), cell identification is returned.\nAlternatively, the UE CONFIGURATION UPDATE message can be used after the NAS procedure:\nThe figure depicts a sequence chart based on UCU (User Context Understanding) for a 1-2-3 sequence. It illustrates the steps and conditions for a user to understand the context and make a decision. The chart is divided into two columns, with the left column representing the user's context and the right column representing the decision-making process. The figure is a visual representation of the UCU model, which is a key concept in artificial intelligence and machine learning.\nFigure 6.17.2.1-2: Sequence chart based on UCU\nIf the coverage map server is included in the SBA/SBI architecture, through a new Network Function here called CMNF, then it is possible to define in the scope of 3GPP the interface between AMF and CMNF.\nFollowing sequence illustrates the request/response mode:\nThe figure depicts a sequence chart for the SBA/SBI request/response mode in a network. It illustrates the flow of data between the SBA and SBI, with the SBA initiating the request and the SBI responding. The chart shows the sequence of events, including the SBA's request, the SBI's response, and the SBA's acknowledgment. The chart is used to ensure that the network is functioning correctly and to troubleshoot any issues that may arise.\nFigure 6.17.2.2-1: Sequence chart for SBA/SBI request /response mode\n1.\tThe AMF request CMNF service using Ncmnf_communication API that needs to be defined, together with CMNF network function in TS 23.501 [2], TS 23.502 [3] according TS 29.500 [21] guidance, including list of points; type of shape; sampling distance; study period.\n2.\tResponse from the CMNF including Coverage event list for and with sampled positions.\nFollowing sequence illustrates the subscribe/notify mode:\nThe figure depicts a sequence chart for the SBA/SBI subscribe/notify mode in a network. It illustrates the steps involved in the subscription and notification process, including the steps for the SBA and SBI protocols. The chart is divided into two columns, with the SBA protocol on the left and the SBI protocol on the right. The steps are numbered and labeled, making it easy to understand the sequence of actions. The chart is color-coded, with different colors representing different steps, and arrows pointing to the next step, indicating the flow of the process. The figure is a useful tool for network administrators and engineers to understand the flow of data and ensure that the SBA/SBI protocol is correctly implemented in the network.\nFigure 6.17.2.2-2: Sequence chart for SBA/SBI subscribe /notify mode\n1.\tThe AMF request CMNF subscribe for notifications using Ncmnf_EventExposure API that needs to be defined, together with CMNF network function in TS 23.501 [2], TS 23.502 [3] according TS 29.500 [21], including List of points; type of shape; sampling distance; study period.\n2.\t(and 4) During all the study period, if CMNF detects a change on coverage for the sampled positions compared to what was previously provided, then the CMNF notifies the AMF with the new list.\n3.\t(and 5) The AMF inform the UE about the new list using UCU message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.17.3\tImpacts on existing nodes and functionalities",
                            "text_content": "UE:\n-\tDetermines its future trajectory or evolution zone for a given study period in the future.\n-\tDetermines the sample distance defining the accuracy of coverage information.\n-\tUsing NAS, send to AMF/MME above elements and retrieve coverage information event list.\n-\tAnalyses the list and adapt power saving mechanisms, e.g.: setting up ad-hoc parameters, MICO Active time, Periodic registration timer, eDRX, other (e.g. as proposed in other solutions) according the predictions.\nAMF/MME:\n-\tAct as interface between UE and server/CMNF\n-\t(for CMNF) subscribe for notifications, according configuration.\nServer/CMNF:\n-\tReceive a request for coverage data from AMF/MME.\n-\tPerform Sampling and determination on the coverage info event list, return the list to requester.\n-\t(for CMNF) perform regular evaluation of the coverage information for sampled positions, generates a notification of the list to subscriber if new event is detected.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.17.4\tSolution evaluation",
                            "text_content": "The solution proposes an alternative way to provide accurate coverage information to the UE, information that can be shared between UE and Core Network and that can be used in other solution to solve KI#1 and KI#2.\nUsing event list to describe future coverage information has several advantages compared to provision of satellite orbital data using SIB:\n-\tA UE is not required to perform any complex calculation to determine expected coverage.\n-\tThe coverage events are managed in real time based on satellite operator knowledge of full constellation and radio cell planning and by the way is more reliable and complete than information computed in UE based on orbital and satellite footprint parameters only.\n-\tThe coverage events can be provided for terrestrial RATs as well as satellite RATs, which may assist in areas where terrestrial coverage is partially available.\nUsing NAS instead of user plan as several advantages:\n-\tNAS layer is compatible to all UE types (full IP stack, constrained devices, etc.).\n-\tIntrinsically does not require additional signalling to setup a data bearer.\n-\tSynchronizes the UE and the CN for the management of discontinuous coverage.\nIn optional part of the solution, defining a dedicated CMNF in the 5GS as several advantages, inherent to SBA/SBI architecture:\n-\tStandardization and mutualisation of the CMNF interface for all other Network Function (e.g.: AMF).\n-\tPossible reuse of coverage information for other uses cases (e.g.: PWS, external AF interface through NEF, etc.).\n-\tCentralization of the coverage information in a single point, in relation with network O&M and Satellite Network Control Center.\n-\tSecurity.\n-\tIntegration into NF virtualization policy and life cycle management.\n-\tIntegration into slicing policy.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.18\tSolution #18: Response to Nnef_ParameterProvision request containing Maximum Latency",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.18.1\tDescription",
                            "text_content": "This solution addresses an aspect of Key Issue #1.\nClause 4.3.5.2 of TS 23.401 [5] contains the following text:\nTracking Area or RAT specific MME configuration can be used to support UEs using a RAN that provides discontinuous coverage (e.g. for satellite access with discontinuous coverage).\nNOTE 1:\tFor example, if a satellite system only provides coverage to a UE for 20 minutes when a satellite passes, and the maximum time before a satellite passes any point on the earth is 10 hours, the MME could configure the periodic TAU timer and mobile reachable timer to be just greater than 20 minutes and the Implicit Detach timer to be greater than 10 hours.\nAs the description of Key Issue #1 suggests, it is expected that an equivalent of the above (i.e. Tracking Area or RAT specific AMF configuration) will be introduced in 5GS in Rel-18.\nThere is a slight difference between EPS and 5GS; 5GS allows AF to influence the periodic registration timer by using Nnef_ParameterProvision service.\nClause 4.15.6.3a of TS 23.502 [3] contains the following text:\n\n\n[…] The UDM shall use the minimum value of Maximum Latency(s) to derive the subscribed periodic registration timer […]\nCurrently it's not clear whether or not the subscribed periodic registration timer that AF influences overwrites a periodic registration timer that is contained in the above-mentioned AMF configuration for discontinuous coverage and is currently in use. This aspect needs to be made clear.\nThe proposed way forward is to prevent such situation from happening, i.e. if UE uses the AMF configuration for discontinuous coverage, Nnef_ParameterProvision request containing Maximum Latency is to be rejected.\nThe solution uses the existing procedure in clause 4.15.6.2 of TS 23.502 [3] with the following enhancement.\n-\tWhen AMF registers UDM, the AMF notifies UDM whether UE uses the AMF configuration for discontinuous coverage.\nNOTE:\tIf e.g. RAT type is sufficient to judge whether UE uses the AMF configuration for discontinuous coverage, the enhancement of this bullet point is not needed.\n-\tWhen UDM queries UDR, the UDM retrieves AMF registration information as well and considers this information to determine whether to accept AF request.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.18.2\tProcedures",
                            "text_content": "The following figure represents a procedure of the solution.\nThe figure depicts a procedure for solving a problem, with a step-by-step approach to identify and resolve issues.\nFigure 6.18.2-1: A procedure of the solution\n1.\tAMF contains an indication of use of configuration for discontinuous coverage in Nudm_UECM_Registration request, if UE is in discontinuous coverage and uses the configuration for discontinuous coverage.\n2.\tUDM stores the AMF registration information containing the indication in UDR.\n3.\tAF sends Nnef_ParameterProvision_Create request containing Maximum Latency to NEF.\n4.\tNEF sends Nudm_ParameterProvision_Create request containing Maximum Latency to UDM.\n5.6.\tWhen Nudm_ParameterProvision_Create request contains Maximum Latency, UDM retrieves the above-mentioned indication (or AMF registration information) as well as the subscription data of the targeted user from UDR.\n7.\tUDM determines that if the above-mentioned indication exists, the request is to be rejected.\n8.9.\tIf UDM has determined that the request is to be rejected, steps 8 and 9 are skipped.\n10.\tUDM sends Nudm_ParameterProvision_Create response indicating rejection of the request.\n11.\tNEF sends Nudm_ParameterProvision_Create response indicating rejection of the request.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.18.3\tImpacts on services, entities and interfaces",
                            "text_content": "AMF:\n-\tAdd an indication (of use of configuration for discontinuous coverage) in Nudm_UECM_Registration request.\nUDM:\n-\tQuery AMF registration information when receiving Nudm_ParameterProvision_Create request containing Maximum Latency.\n-\tConsider the indication to determine whether to accept Nudm_ParameterProvision_Create request containing Maximum Latency.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.19\tSolution #19: AMF/MME awareness of coverage times based on AF parameter provisioning",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.19.1\tDescription",
                            "text_content": "This solution applies to KI#1 and KI#2.\nThe AF can currently provide information targeting a UE, a group of UEs, any UE, DNN, S_NSSAI etc. using Nnef Parameter Provisioning service. The AF can e.g. provide UE behaviour information, including expected UE moving trajectory. The AF can also provide Network Configuration parameters such as Maximum Latency and Maximum Response Time. The UDM will use these values to derive subscribed periodic registration time and subscribed Active Time, as specified in TS 23.502 [3], clause 4.15.6.3a and notify AMF if there are any changes to the previously provided values. This information is used by MME/AMF to determine periodic registration time as well Active Time with PSM/MICO mode. If the AF is aware of the satellite constellation information the AF can adjust these values based on the in-coverage and out-of-coverage times for the UE.\nIn this solution the NEF parameter provision service is enhanced to allow the AF to provide coverage information as a list of {time, coverage in/out} pairs based in its awareness of UE location, UE trajectory and satellite coverage information. Other functionalities such as AF providing Maximum Latency, Maximum Response Time, Stationary indication, Expected UE moving trajectory etc are re-used. The in/out coverage times can be provisioned together with this other expected UE behaviour information.\nThe AMF takes this information into account when determining suitable NAS timer values, e.g. periodic registration timer, mobile reachable timer, active time for MICO mode. The AMF may also use the information to determine when it can try to page the UE.\nThe trigger for AF sending this information is AF implementation specific.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.19.2\tProcedures",
                            "text_content": "The figure depicts a 5G network with various components such as base stations (gNB), user equipment (UE), and scatterers. The diagram illustrates the signal propagation in a 5G network, highlighting the multi-path signal path and beamforming techniques to mitigate interference. The fiber-optic backbone architecture is shown, with core switches, optical line terminals (OLTs), and distributed nodes. Redundancy paths are depicted in dashed lines, ensuring failover reliability. The layered design aligns with SDN principles.\nFigure 6.19.2-1\n0.\tThe AF determines suitable UE behaviour parameters, e.g. UE trajectory information, UE coverage information.\n1.\tThe AF invokes Nnef_ParameterProvision to provision the Expected UE behaviour and the Network Configuration related parameters. This information may include information such as Maximum Latency and Maximum Response Time as described in TS 23.502 [3]. This information can also include information related to when the UE is expected to have coverage and when the UE is expected to be out of coverage.\n2.\tThe NEF invokes Nudm_ParameterProvision to provide the parameters to UDM, as described in TS 23.502 [3], clause 4.15.6. The UDM stores the information and replies to NEF.\n3.\tThe NEF replies to the AF\n4.\tThe UDM notifies all AMFs that have subscribed to subscription data updates.\n5.\tThe AMF uses the information received from UDM to determine suitable timer values, and to determine when the UE is expected to be in- or out-of-coverage.\n6a.\tFor 5GS, the AMF provides NAS timers (e.g. periodic timer, Active Time etc) to the UE using existing procedures, e.g. during registration or UCU.\n6b.\tFor EPS, the UE triggers a Tracking Area Update when it is about to lose coverage. The MME provides NAS timers (e.g. periodic timer, Active Time etc) to the UE in the TAU Accept.\n7.\tRAN may release the AS connection when the UE loses coverage. RAN may also request the AMF to release the N2 connection. The AMF may also trigger the AN release when it determines that the UE is about to lose coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.19.3\tImpacts on services, entities and interfaces",
                            "text_content": "AF:\n-\tDetermine Maximum Latency, Maximum Response Time and in/out coverage times etc. based on awareness of satellite coverage information and expected UE moving patterns.\nNEF:\n-\tExtend Nnef Parameter Provision to include in/out coverage time information\nUDM/HSS:\n-\tExtend Parameter Provision and subscription data to include in/out coverage time information\nAMF/MME:\n-\tReceive coverage time information for a UE (or group of UEs) from UDM/HSS\n-\tTrigger AN release based on the coverage time information for the UE.\n-\tConfigure the power saving parameters and other NAS timers based on the coverage time information for the UE.\nUE:\n-\tTrigger the Tracking Area Update procedure when it is about to lose network coverage.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.19.4\tSolution evaluation",
                            "text_content": "The solution re-uses existing NFs and services. The solution assumes that the AMF/MME receives time information about when the UE is expected to be in-coverage and out-of-coverage for satellite access from AF (via UDM/HSS). There is no need for AMF/MME to calculate coverage based on ephemeris data or coverage maps.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.20\tSolution 20: UE-specific Dynamic Tracking Areas",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.20.1\tDescription",
                            "text_content": "This is a candidate solution for part of Key Issue #1. In particular, the solution proposed in this contribution is a paging enhancement aimed at reducing the paging-signalling load in NB-IoT deployment scenarios with discontinuous coverage. In particular, the proposed solution may be especially relevant for scenarios using (1) large satellite beam footprints (e.g. beam diameter of hundreds of kms, as considered for Set-3 and Set-4 scenarios in TR 36.763v17.0.0) and (2) earth-moving cells (satellite cells provisioned by beam(s) whose coverage area slides over the Earth surface such as the case of NGSO satellites generating fixed or non-steerable beams). The solution introduces the concept of UE-specific Dynamic Tracking Area (UE-DTA), which defines a geographic region for paging/reachability purposes that is described by means of a geometrical figure and assigned dynamically and individually per UE during registration or registration update procedures. The proposed solution is also applicable to scenarios beyond discontinuous coverage. In the proposed solution:\n-\tWhen UE registers into the network (i.e. network attach) or performs TAU, UE indicates its current position to the CN (MME or AMF).\nNOTE 1:\tUE location could be represented using GNSS coordinates, which may be reported from the UE to the network once security procedure is established. Other possibilities may be considered (coarse location information reported by UE or UE location information it may be available at RAN level).\n-\tIn addition to the registration using (conventional) TA or list of TAs, the CN (MME or AMF) may define a UE-specific Dynamic Tracking Area (UE-DTA) for the main purpose of paging/reachability. The UE-DTA can be determined based on the UE position and specified by means of a regular geometrical form (e.g. a circle, ellipse, polygon) or a collection of geographical coordinates. The size and shape of the UE-DTA can be adapted to the mobility conditions of the UE (e.g. larger UE-DTA for fast-moving UEs and smaller UE-DTAs for static or quasi-static UEs) and other deployment/service considerations (e.g. commercial traffic (ship, plane, etc.) routes, device density). The specification of the UE-DTA may leverage the work on Geographical Area Description (GAD) in Release 17 TS 23.032 [18].\nNOTE 2:\tExisting UE access control mechanisms and geographical attributes for provision of service like e.g. forbidden registration areas, roaming restrictions, etc. can remain associated with (conventional) TAs, while UE-DTAs can be used for the only purpose of improved reachability/paging. FFS if access control/geographical service restrictions may also be extended and made applicable to UE-DTA.\n-\tUpon acceptance of the registration/TAU procedure, in addition to the registered TAI or TAI-list, the UE is notified with the UE-DTA parameters.\n-\tThe UE uses the provided UE-DTA and the knowledge of its location to determine whether the UE stays within the registered UE-DTA or moves outside. In the latter case, a mobility registration update procedure is triggered to update the UE-DTA.\nNOTE 3:\tA mobility registration update procedure may also be triggered if the UE does not detect its registered TA/TAI-list as part of the TACs broadcasted by the satellite cell.\n-\tThe CN is aware of the motion of the satellites of the constellation and is able to trigger paging based on UE-DTAs (i.e. only UEs whose UE-DTA overlaps with the beam coverage will be paged)\n-\tThe use of UE-DTAs and (conventional) TA is not mutually exclusive (i.e. UE can be registered in a (conventional) TA or list of TA, and in addition, be provided with a UE-DTA for paging/reachability optimization).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.20.2\tProcedures",
                            "text_content": "Figure 6.20.2.1-1 illustrates the high-level procedures for network registration/attach and Tracking Area Update (TAU) using the proposed UE-specific Dynamic Tracking Areas (UE-DTAs).\nThe figure depicts a high-level procedure for registration/attachment and TAU with the proposed UE-DTAs, highlighting the importance of these processes in ensuring efficient and secure communication.\nFigure 6.20.2.1-1: High-level procedures for registration/attach and TAU with the proposed UE specific dynamic tracking areas (UE-DTAs)\nFor network registration/attach with UE-DTA, the steps illustrated in Figure 4 are as follows:\n1.\tWhen registering/attaching to the network, the UE provides its location (with some granularity, after security).\n2.\tThe MME/AMF determines/calculates the specification of the UE-DTA. This will be based on UE location and additional knowledge the MME/AMF may have with respect to mobility patterns and/or most likely locations and/or subscription information. This additional knowledge may be acquired via interactions with NWDAF and/or subscriber databases (steps 2a and 2b in the message chart).\nNOTE:\tMultiple UEs can be assigned to the same UE-DTA specification.\n3.\tThe assigned UE-DTA specification is provided to the UE upon acceptance of the registration/attach request.\n4.\tThe UE monitors its position to check whether it remains within or moves outside the assigned UE-DTA specification.\nFor TAU procedure with UE-DTA, the steps illustrated in Figure 4 are as follows:\n5.\tThe UE detects it is outside the assigned UE-DTA.\n6.\tA TAU procedure is triggered, with the UE providing its location (with some granularity, after security).\n7.\tThe MME/AMF determines the specification of a new UE-DTA for the UE according to the new location. As for the registration/initial attach, the determination of the UE-DTA will be based on UE location and additional knowledge the MME/AMF may have with respect to mobility patterns and/or most likely locations and/or subscription information. This additional knowledge may be acquired via interactions with NWDAF and/or subscriber databases (steps 7a and 7b in the message chart).\n8.\tThe assigned UE-DTA specification is provided to the UE upon acceptance of the TAU request.\n9.\tThe UE monitors its position to check whether it remains within or moves outside the assigned UE-DTA specification.\nFigure 6.20.2.2-1 illustrates the high-level procedure for paging triggering from MME/AMF using the proposed UE specific dynamic tracking areas (UE-DTAs). The following steps are indicated:\n1.\tThe MME/AMF determines the time or a time window for the triggering of the paging procedure. This determination may be based on:\na.\tUE-DTA specification assigned to the UE.\nb.\tKnowledge on satellite constellation coverage (e.g. ephemeris, beam footprint size).\nc.\tPSM configuration.\n2.\tThe MME/AMF starts the paging procedure towards the RAN node that is going to provide coverage at the UE location. Paging can be triggered by the MME/AMF for the RAN node to perform paging immediately over the service link. Alternatively, the MME/AMF may provide the UE-DTA description to the RAN node, which can then determine by itself the right instant to perform paging over the service link based on its own knowledge of the satellite coverage.\nNOTE:\tProviding the RAN node with the description of the UE-DPA for its own determination of when to perform paging over the service link is FFS.\n3.\tThe RAN triggers the paging requests over the service link.\nThe figure depicts a high-level procedure for paging trigger from MME/AMF using the proposed UE-specific dynamic tracking areas (UE-DTAs). It outlines the steps involved in triggering paging from the MME/AMF, including the use of UE-DTAs. The figure is crucial for understanding the technical aspects of paging and its implementation in a 5G network.\nFigure 6.20.2.2-1: High-level procedures for paging trigger from MME/AMF using the proposed UE specific dynamic tracking areas (UE-DTAs)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.20.3\tImpacts on services, entities and interfaces",
                            "text_content": "UE:\n-\tProvides its current location when registering/attaching or in TAU procedures.\n-\tStores the UE-DTA specification received from the network and monitors whether its location remains within the UE-DTA or moves outside.\n-\tTriggers mobility registration update procedures if the UE detects by itself that it has moved outside the registered UE-DTA.\nRAN:\n-\tnone\nNOTE:\tIf consideration is given to options for using a paging time window or providing the UE-DTA to the RAN node for paging purposes, this impacts on paging procedure over the RAN-CN interface.\nAMF/MME:\n-\tDetermines/Calculates the UE-DTA parameters based on the UE location and additional information such as mobility patterns/service characteristics/deployment characteristics that may be available. The specification of the UE-DTA may leverage the work on Geographical Area Description (GAD) in Release 17 TS 23.032 [18].\n-\tSends the UE-DTA parameters to the UE during the registration/TAU procedures.\n-\tTriggers paging for a given UE based on the registered UE-DTA parameters and knowledge of the motion and coverage of the satellites of the constellation (i.e. by calculating the times of overlapping of UE-DTA and satellite coverage).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.20.4\tSolution evaluation",
                            "text_content": "The solution proposes the introduction of UE-specific Dynamic Tracking Areas (UE-DTA) to reduce the paging-signalling load in NB-IoT NTN deployment scenarios, thus contributing to solve KI#1. The use of UE-DTA is proposed as an extension of existing registration mechanisms based on TA or list of TA.\nThe introduction of UE-DTA will allow:\n-\tPaging a terminal based on its assigned UE-DTA, reducing the paging signalling load (i.e. only UEs whose UE-DTA overlaps with the beam coverage will be paged)\n-\tOptimizing paging of terminals under the coverage of the satellite beam (i.e. the scheduling of paging requests can be adjusted to the movement of the satellite along the UE-DTAs).\n-\tAchieving a better trade-off between paging signalling load and registration update signalling, thanks to being able to adjust the size of the UE-DTA to the specific mobility conditions of UEs (e.g. extremely small UE-DTAs can be established for stationary UEs)\n-\tEstablishing UE-DTAs along heavier trafficked areas such as trade-routes.\n-\tDynamically changing the size and shape of UE-DTAs.\n-\tImplementing more flexible paging and mobility management solutions, combining as needed the advantages of using:\n-\t(Current/Conventional) Tracking Areas, as earth-fixed areas, not tied to the location of any UE, whose identifiers (TACs) are broadcasted in a cell and read by UEs, but whose geographical boundaries are not defined or known to UEs. TAs are currently used for reachability/paging purposes as well as for establishing provision of service constraints (e.g. forbidden registration areas).\n-\t(New) UE-specific Dynamic Tracking Area (UE-DTA), as also earth-fixed areas but now dynamically defined in time and space for an individual UE and described by means of a geometrical figure so that the UE can derive from its GNSS measurements whether the UE stays inside or has moved outside the assigned UE-DTA. UE-DTAs may be used for enhanced paging/reachability.\nThe implementation of the UE-DTA concept requires:\n-\tSpecification of the geometrical objects to define a UE-DTA, which may leverage the work on Geographical Area Description (GAD) in Release 17 TS 23.032 [18].\n-\tNew information elements for the exchange of the UE-DTA description during registration processes.\n-\tA UE to be able to monitor its location (e.g. from GNSS) and detect if it moves outside the registered UE-DTA.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.21\tSolution #21: NWDAF assisted power saving mechanism for UE in discontinuous NTN coverage",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.21.1\tDescription",
                            "text_content": "This solution proposes to enhance NWDAF to assist UE in negotiation of power saving mechanisms, e.g. PSM/MICO/eDRX for staying at current PLMN/Satellite RAT and out of NTN coverage.\nThe Analytics model of NWDAF for generating NTN coverage analytics is as shown in Figure 6.21.1-1:\n-\tInput data includes one or more of the following information:\n-\tSatellite data, e.g. Empheris data, of one or more satellites, from OAM, NG-RAN, or AF.\n-\tAvailable analytics: the UE related analytics, e.g. expected UE behavioural parameters can include one or both of the analytics, TS 23.288 [10] Table 7.1-2, including Analytics ID: UE Mobility, which can be Statistics or predictions on UE mobility, and Analytics ID: UE Communication, which can be Statistics or predictions on UE communication.\n-\tUE-related information: using Event Exposure from 5GC NFs, NG-RAN, or UE.\n-\tOutput Analytics: NTN coverage\n-\tAnalytics ID: NTN coverage\n-\tNTN coverage Type includes ephemeris data, Estimate of in NTN coverage period, Estimate of out of NTN coverage period.\nThe figure depicts a NWDAF enhancement for analytics of NTN coverage, highlighting the use of a 3D model to visualize the coverage area and the enhancement's impact on NTN performance.\nFigure 6.21.1-1: NWDAF enhancement for analytics of NTN coverage\nNOTE:\tThis solution introduces a new Analytics ID of NTN coverage to enhance NWDAF based on network data analytics services for eNA in TS 23.288 [10].\nWith the analytics information of NTN coverage, UE can obtain the estimate of in NTN coverage period and estimate of out of NTN coverage period from the NWDAF or calculate both estimates based on Satellite data and UE location information. The estimate of in NTN coverage and the estimate of out of NTN coverage can be used by the UE to negotiate the timer/parameters of power saving mechanisms.\n-\tFor Power Saving Mode (PSM), the UE can request an Active Time value based on the estimate of in NTN coverage period and Periodic TAU Timer value based on the estimate of out of NTN coverage period in the Registration Request Message. The AMF takes the UE requested values into account to assign an Active Time value and Periodic TAU Timer value in the Registration Accept message. If AMF is aware of NTN coverage Analytics, the AMF considers both UE requested values and NTN coverage analytics to assign Active Time value and Periodic TAU Timer value.\n-\tFor MICO mode with (optional) Active Time, the UE can request an Active Time value based on the estimate of in NTN coverage period during the Registration procedure. The AMF takes the UE requested values into account and assigns the Active Time value in the Registration Accept message. If AMF is aware of NTN coverage Analytics, the AMF considers both UE requested values and NTN coverage analytics to assign Active Time value for MICO mode.\n-\tFor eDRX (Extended Discontinuous Reception), the UE requests eDRX parameters (e.g. cycle length) based on the estimate out of NTN coverage period and the estimate in NTN coverage period during the Registration Request procedure. The AMF takes the UE requested values into account and assigns the eDRX parameters in the Registration Accept message. If AMF is aware of NTN coverage analytics, the AMF considers both UE requested values and NTN coverage analytics to assign eDRX parameters.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.21.2\tProcedures",
                            "text_content": "In Rel-17, the UE can read ephemeris data of serving cell and neighbouring cells broadcast by NG-RAN. This solution assumes the NTN coverage of ephemeris data provided by NWDAF can be spanned in broader area, e.g. across different gNBs within expected UE's mobility trajectory.\nThe following procedures provide two examples of the NWDAF assisted power saving mechanism for UE in discontinuous NTN coverage including:\n-\tExample for UE awareness of NTN coverage and UE location\n-\tExample for AMF awareness of NTN coverage and UE location\n-\tExample for NG-RAN awareness of NTN coverage and UE location\nNOTE:\tThe Example for NG-RAN awareness of NTN coverage and UE location needs to be determined and coordinated with RAN WGs.\nThe solution follows the existing procedure for the negotiation of power saving mechanisms requested by the UE. The primary principle of both UE initiated and AMF initiated mechanisms is to allow UE to make the decision on the UE behaviour for staying at no service with enabled power saving mechanism. The decision can base on UE's local information and preference as well as network assisted NTN coverage information from the network in the negotiation of power saving procedure.\nThe following procedures assume that the UE is configured with StayIndication by the UDM. Based on the StayIndication configured for the current PLMN, the UE using Satellite RAT can determine to negotiate power saving mechanism for staying at current PLMN/Satellite RAT and out of coverage before moving out of NTN coverage.\nFor the case of UE awareness of NTN coverage and UE location, the UE can get rigorous NTN coverage information from the NWDAF, and then trigger negotiation of the PSM/MICO/eDRX for power saving as in Registration procedure in TS 23.502 [3] Figure 4.2.2.2.2-1: Registration procedure with the following enhancement:\n-\tStep1: The UE initiate Registration Request message for Mobility Update when the UE is about to be out of NTN coverage (before entering idle state due to move out of NTN coverage).\n-\tIf the NTN coverage from NWDAF is ephemeris data from NWDAF, the UE calculates the estimate of out of NTN coverage period and the estimate of in NTN coverage period based on its location and requested PSM/MICO/eDRX based on the estimate of out of NTN coverage period and the estimate of in NTN coverage period.\n-\tAlternatively, if the analytics of NTN coverage from NWDAF is the estimate of out of NTN coverage period and the estimate of in NTN coverage period, the UE determines to negotiate PSM/MICO/eDRX with the AMF based on its preferences and the received analytics of NTN coverage.\nNOTE:\tThe procedure that UE requests the analytics of NTN coverage from NWDAF can refer to clause 6.21.2.3 Figure 6.21.2.3-1 and Figure 6.21.2.3-2.\n-\tStep2: The AMF assigns the requested timers/parameters for PSM/MICO/eDRX in the Registration Accept message to UE based on the UE's requested timers/parameters of PSM/MICO/eDRX.\nThe above mechanism assumes that the UE is aware of its location regarding to in/out of NTN coverage based on its GNSS capability, received broadcasting ephemeris data of the serving and neighbouring cells. However, there are scenarios that the UE may fail to calculate the estimate of the in/out of NTN coverage, for example:\n-\tThe UE does not support GNSS capability.\n-\tGNSS precision, which is impacted by the quality of the GNSS signal received by the UE GNSS module. The obstacles in between the UE and the GNSS satellite may block the GNSS signal.\n-\tAvailability of the SIB providing the information (e.g., the averaged ephemeris information) for estimating the NTN coverage. Note that the NG-RAN may not provide such SIB or may provide the SIB but the information is only sufficient for UE to roughly estimate the NTN coverage.\n-\tThe UE is a computation constrained device, e.g. NB-IOT device.\n-\tThe UE mobility pattern, e.g. moving direction and speed, may be across multiple NG-RAN coverages.\nNOTE 1:\tFor UE without GNSS capability is out of scope in this release.\nNOTE 2:\tWhat factor(s) to be considered by the UE for the determination of confidence indication and by the AMF for the determination on whether to change or respect the UE requested timers/parameters can be specified in normative work.\nNOTE 3:\tThe granularity of confidence indication can be up to stage 3.\nIn this case, it is beneficial that the UE calculates the confidence level based on the above scenarios, and indicates the confidence level along with the requested timers/parameters during negotiation of power saving mechanism with the AMF. With the confidence indication, the AMF can determine whether to change or respect the requested timers/parameters of power saving mechanism. For example:\n-\tIf confidence indication is above a preconfigured threshold, the AMF takes the UE requested values into account to assign an Active Time value and Periodic TAU Timer value in the Registration Accept message.\n-\tIf confidence indication is below a preconfigured threshold, and AMF is aware of NTN coverage of the estimate of out of NTN coverage period and the estimate of in NTN coverage period, the AMF assigns Active Time value based on the estimate of in NTN coverage period and Periodic TAU Timer value based on its estimate of out of NTN coverage period.\nThe figure depicts a UE initiating a negotiation process for power saving, with PSM/MICO/eDRX being the key negotiation parameters. The negotiation is initiated by the UE, and the process involves the negotiation of power saving parameters such as PSM, MICO, and eDRX. The figure illustrates the steps involved in the negotiation process, including the initiation of the negotiation, the exchange of negotiation parameters, and the subsequent negotiation of the power saving parameters.\nFigure 6.21.2.1-1: UE initiated negotiation of PSM/MICO/eDRX for power saving\n-\tStep1: The UE transmits Registration Request message including confidence indication, power saving timers/parameters for power saving mechanisms, e.g. PSM/MICO/eDRX.\n-\tStep2: The AMF determines to request assistance information from NWDAF or a new NF if confidence indication is below a pre-configured threshold.\n-\tStep3: The AMF requests the AnalyticsInfo of estimate of in/out of NTN coverage period from NWDAF or a NF which is capable of providing requested assistant information.\n-\tStep4: The AMF sends registration accept message including power saving timers/parameters based on estimate of in/out of NTN coverage period to UE.\n-\tStep5: The UE applies the power saving timers/parameters when it enters idle state.\nFor the case of AMF awareness of NTN coverage and UE location, the AMF can get rigorous NTN coverage information from the NWDAF, and then trigger negotiation of the PSM/MICO/eDRX for power saving in the following procedure in Figure 6.21.2.2-1.\nThe figure depicts a communication protocol in action, specifically AMF initiated negotiation of PSM/MICO/eDRX for power saving. The protocol is used to reduce power consumption in the network, with PSM and MICO being key components. The eDRX is an extension of the protocol that enhances the power saving capabilities.\nFigure 6.21.2.2-1: AMF initiated negotiation of PSM/MICO/eDRX for power saving\n-\tStep1: In the registration procedure, the AMF gets the StayIndication information from UDM and stores the StayIndication information for the current PLMN/Satellite RAT in the UE context.\n-\tStep2: The AMF gets NTN coverage information from NWDAF. The NTN coverage information can be ephemeris data, or the estimates of in NTN Coverage period and out of NTN coverage period based on Area of Interest (AOI) information. The procedure is as shown in Figure 6.21.2.3-1: NWDAF assisted NTN coverage analytics procedure.\nEditor's note:\tIt is TBD by RAN WGs whether the NTN coverage information, e.g. ephemeris data, can be provided to AMF.\n-\tStep3: With the active StayIndication for the current PLMN/Satellite RAT and NTN coverage analytics, the AMF determines whether to update UE with timers/parameters of power saving mechanisms for UE staying at out of NTN coverage.\n-\tStep4: if StayIndication is active for the current PLMN/RAT, the AMF sends UE Configuration Update command containing UE parameters related to power saving mechanism for staying at out of NTN coverage including recommended power saving mechanism, e.g. MICO, PSM, eDRX, based on the UE capability, UE subscriptions, network capability, and operator's local policy, an indication requesting to perform re-registration, estimate of in NTN coverage period, and estimate of out of NTN coverage period.\n-\tStep5: The UE determines the power saving mechanism, e.g. MICO, PSM, eDRX, based on the estimate of in NTN coverage period and estimate of out of NTN coverage period, and then sends registration request for Mobility Update including requested timers/parameters set based on estimate of in NTN coverage period and estimate of out of NTN coverage period. The AMF returns Registration Accept message including timers/parameters of power saving, including Active time, Periodic TAU time, eDRX, etc.\n-\tStep 6: the AMF performs AN release procedure when UE is about to enter discontinuous coverage.\n-\tStep 7: the UE enters Idle mode. Both AMF and UE applied negotiated timers when UE is staying at current PLMN/Satellite RAT and out of NTN Coverage. When the UE regains the NTN Coverage, the UE initiates the Registration procedure for mobility update to notify the network its reachability.\nFor AMF awareness of NTN coverage, the AMF can get rigorous NTN coverage information from the NWDAF using the procedure indicated in Figure 6.21.2.3-1, based on TS 23.288 [10] Figure 6.1.2.1-1: Network data analytics Request, in which NF Consumer is AMF with the following enhancement:\n-\tThe NWDAF produces Analytics with Analytics ID: NTN coverage, based on requested NTN coverage Type, the Target UE ID(s), Analytics Filter Information (e.g. Areas of Interests by referring to predefined areas that are represented by a list of Tracking Areas, list of cells or list of (R)AN node identifiers), Analytics Reporting Information (e.g. Analytics target period, Preferred granularity of location information for TA level, NG-RAN node level, or cell level), etc. to AMF as NF consumer.\n-\tThe NWDAF collects Satellite data from OAM/NFs in 5GC, or AF.\nEditor's note:\tIt is TBD by RAN WGs whether the NTN coverage information, e.g. ephemeris data, can be provided to AMF.\nThe figure depicts a procedure for analyzing the coverage of an NTN (Network-to-Network) system using NWDAF (Network Wide Data Aggregation Framework) assisted by AMF (Advanced Metering Infrastructure). The procedure involves analyzing the coverage of the NTN system using various metrics, such as signal strength, signal quality, and coverage area, to determine the effectiveness of NWDAF in enhancing the coverage of the NTN system. The figure also includes a visual representation of the coverage area and the coverage of the NTN system, which can be used to assess the performance of the NWDAF system.\nFigure 6.21.2.3-1: NWDAF assisted NTN coverage analytics procedure to AMF\nFor UE awareness of NTN coverage, the UE can get NTN coverage information via AMF using procedure in Figure 6.21.2.3-1 based on rigorous NTN coverage information from NWDAF. The subscription to the NADAF is delegated by AMF. The analytics of NTN coverage is provisioned to the UE via NAS message as shown in Figure 6.21.2.3-2 with the following principles:\n-\tDuring UE registration procedure, the Registration request message includes an indication for NTN coverage. With the NTN coverage indication, the AMF discovers a NWDAF instance and associates the UE with the NWDAF.\n-\tThe NAS AnalyticsInfo request message can be UL NAS Transport message.\n-\tThe NAS AnalyticsInfo Notify message can be DL NAS Transport message.\nEditor's note:\tIt is FFS how to leverage eNA work for the info/analytics exchange with UE.\nEditor's note:\tIt is FFS whether AMF and UE get the same or different analytics from NWDAF.\nThe figure depicts a procedure for analyzing the coverage of a network with Next Generation (NG) technology (NWDAF) assisted by Next Generation Network (NGN) technology (NTN). The procedure involves analyzing the coverage of a network with Next Generation (NG) technology (NWDAF) assisted by Next Generation Network (NGN) technology (NTN). The figure shows the coverage of a network with Next Generation (NG) technology (NWDAF) assisted by Next Generation Network (NGN) technology (NTN). The figure shows the coverage of a network with Next Generation (NG) technology (NWDAF) assisted by Next Generation Network (NGN) technology (NTN). The figure shows the coverage of a network with Next Generation (NG) technology (NWDAF) assisted by Next Generation Network (NGN) technology (NTN). The figure shows the coverage of a network with Next Generation (NG) technology (NWDAF) assisted by Next Generation Network (NGN) technology (NTN). The figure shows the coverage of a network with Next Generation (NG) technology (NWDAF) assisted by Next Generation Network (NGN) technology (NTN). The figure shows the coverage of a network with Next Generation (NG\nFigure 6.21.2.3-2: NWDAF assisted NTN coverage analytics procedure to UE\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.21.3\tImpacts on services, entities and interfaces",
                            "text_content": "This solution impacts the following system entities.\nNWDAF:\n-\tTo support data collection of Satellite Data based on Area of Interest by referring to predefined areas that are represented by a list of Tracking Areas, list of cells or list of (R)AN node identifiers.\n-\tTo support new Analytics ID of NTN coverage including ephemeris data, estimate of in NTN coverage, estimate of out of NTN coverage.\n-\tTo support Analytics information exposure to UE/NG-RAN/NFs in 5GC/AF.\nAMF:\n-\tFor the case of UE awareness of NTN coverage:\n-\tTo determine whether to change or respect the timers/parameters requested by the UE for the negotiation of power saving mechanisms based on confidence indication.\n-\tFor the case of AMF awareness of NTN coverage:\n-\tTo determine to initiate negotiation of power saving mechanisms, e.g. PSM/MICO/eDRX before moving out of NTN coverage.\n-\tTo support to request and get notification for Analytics Info of NTN coverage from NWDAF.\nUE:\n-\tFor the case of UE awareness of NTN coverage:\n-\tTo determine to initiate negotiation of power saving mechanisms, e.g. PSM/MICO/eDRX before moving out of NTN coverage based on the stayIndication configuration.\n-\tTo calculate and indicate its confidence level for the requested timers/parameters of power saving mechanisms (PSM/MICO/eDRX).\n-\tTo support to request and get notification for Analytics Info of NTN coverage via NAS messages.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.21.4\tSolution Evaluation",
                            "text_content": "This solution introduces a new Analytics ID of NTN coverage to enhance NWDAF based on network data analytics services for eNA in TS 23.288 [10].\nThe main interest of this solution is to leverage NWDAF capability of data collection and analytics exposure for NTN coverage estimation, including:\n-\tbase on eNA work related to the UE related analytics, e.g. expected UE behavioral parameters including Analytics ID: UE Mobility, which can be Statistics or predictions on UE mobility, and Analytics ID: UE Communication, which can be Statistics or predictions on UE communication;\n-\tcollect satellite data as enhancement by using the capability of the Data Collection from OAM/NFs in 5GC/AF at NWDAF;\n-\texposure its analytics of NTN coverage to UE/NFs in 5GC/AF.\nThe use of the NTN coverage information for Network initiated negotiation of power saving mechanism or UE initiated negotiation of power saving mechanism includes:\n1)\tto determine whether the UE is about to leave the NTN coverage;\n2)\tto trigger the negotiation of power saving mechanism before the UE leaves the NTN coverage;\n3)\tto assist UE the determination of the timers/parameters for selected power saving mechanism.\nWithout network assistance via data collection and analytics capabilities at NWDAF, the timing to trigger the first two events and the decision of timers/parameters values for the power saving mechanism are difficult and would result in unnecessary complicated design for power saving timers/parameters management.\nThere are trade off between UE initiated and AMF initiated negotiation of PSM/MICO/eDRX mechanism in terms of the following aspects:\n-\tgenerated overheads between the UE and AMF when communicating shared data and analytics information;\n-\tinformation of satellite data in the scope of expected UE mobility trajectory or serving and neighbouring cells;\n-\tuser privacy of the UE location information;\n-\tuse of the analytics information with user consent.\nThe solution follows the existing procedure for the negotiation of power saving mechanisms requested by the UE. The primary principle of both UE initiated and AMF initiated mechanisms is to allow UE to make the decision on the UE behaviour for staying at no service with enabled power saving mechanism. The decision can base on UE's local information and preference as well as network assisted NTN coverage information from the network in the negotiation of power saving procedure.\nAll in all, network assisted negotiation of power saving mechanism are deemed necessary and the NWDAF analytics for NTN coverage estimate are beneficial for this matter.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.22\tSolution #22: Coverage data transfer in 5GS and EPS",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.22.1\tDescription",
                            "text_content": "This solution addresses several objectives in KI#1 and KI#2 which need provision of coverage data of NR/E-UTRAN satellite access with discontinuous coverage to UE and CN. The logical system architecture and coverage data transfer procedure in this solution is designed by re-using architecture and procedures for UUAA (USS UAV Authentication & Authorization) described in TS 23.256 [19], and no new EPC interface needs to be defined.\nThe coverage data can be various in its type and format (e.g. grid based coverage map, hexagonal coverage map) according to the satellite operators or third-parties who are managing, and it can be stored in different external severs. The coverage data is provided by external servers to allowed UEs via 3GPP core networks, and possible system architecture for coverage data transfer is shown in Figure 6.22.1-1.\nThe figure depicts the 5G and Enhanced Passive System (EPS) architecture for coverage data transfer, illustrating the various components and their interconnections. The figure includes 5G base stations (gBSs), user equipment (UE), and distributed nodes, with redundancy paths for failover reliability. The layered design aligns with SDN principles, allowing for efficient data transfer and network management.\nFigure 6.22.1-1: 5GS and EPS architecture for coverage data transfer\nIn above architecture, CMS(Coverage Map Server) can be a DN, and CM NF(Coverage Map transfer NF) can be collocated with NEF.\nWhen the UE or the core network needs coverage data to determine whether to keep UE being registered without no service or to attempt to other accessible network during out of service period, the UE and the core network (e.g. AMF) request the coverage data of satellite accesses during registration or session establishment. CM NF as NEF, transfers the request from the UE and core network towards CMS, and transfers authentication messages and coverage data between UE/CN and CMS.\nThe core network does not need to support all type and format of coverage data (e.g. grid based coverage map, hexagonal coverage map), only the coverage data request (e.g. coverage map required area, coverage data required trajectories, coverage data required time period, accuracy level of coverage data) needs to be processed. CM NF may translate the location related information (e.g. coverage map required area, Cell ID or TAI in UE location information) into the format that CMS can understand (e.g. geographical position, GNSS coordinates). CM NF may modify the coverage data request to obtain precise response from CMS, for example, CM NF can add interpolated positions to meet the accuracy level of coverage data in the request). CMS performs authentication to ensure that only the allowed UE receives the coverage data, and provide the requested data to the UE and CN.\nIn the core network, AMF or SMF in 5GS, and SMF+PGW-C in EPS are responsible for triggering the authentication and coverage data request, therefore any new EPC interface is not needed.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.22.2\tProcedures",
                            "text_content": "The figure depicts a detailed view of the 5G Registration procedure, illustrating the data transfer process at various stages. It highlights the importance of network coverage, with data transfer occurring at 2.2 GHz, 2.3 GHz, and 2.4 GHz bands, and at 2.5 GHz, 2.6 GHz, and 2.7 GHz bands. The figure also illustrates the use of 5G NR (New Radio) technology, which enables higher data rates and improved network performance.\nFigure 6.22.2-1: Coverage data transfer at 5GS Registration procedure\n1.\tThe UE sends a Registration request message including CMT ID, CMT Data Container (coverage data request), and optionally CMS address. CMT ID is an UE identity for receiving coverage data. CMT Data Container includes coverage data request and it is used by CM NF. The coverage data request describes the coverage data that UE needs (e.g. coverage map required area, coverage data required trajectories, coverage data required time period, accuracy level of coverage data) for its decision during the out of coverage period.\n2.\tIf primary authentication is required (e.g. if this is an initial Registration), AMF invokes it as described in step 9 in Figure 4.2.2.2.2-1 of TS 23.502 [3].\n3.\tSubsequently AMF retrieves UE subscription data from UDM as described in step 14 in Figure 4.2.2.2.2-1 of TS 23.502 [3].\n4.\tAMF determines whether additional authentication is required for the UE with CMT ID. The AMF decides that the additional authentication is required when (a) the UE has a valid subscription which indicates it is allowed to receive coverage data (as in step 3b), (b) the AMF is configured to trigger Coverage Map Transfer procedure based on operator policy, (c) there is no successful authentication for coverage map transfer before, and (d) the UE provided CMT ID (as in step 1).\n5.\tThe rest of registration procedure is continued, and completed.\n6.\tIf AMF determined additional authentication for Coverage Map Transfer procedure is required for the UE in step 4, the AMF invokes Nnef_Authentication_AuthenticateAuthorize Request message, including GPSI, CMT ID, CMT Data Container (coverage data request), CMS address (e.g. FQDN) if received from UE. CM NF resolves the CMS address based on CMT ID or uses the provided CMS address. In addition, the AMF may also include the User Location Information (e.g. Cell ID, TAI). The CM NF should store the serving AMF ID.\n7.\tCM NF /NEF invokes Naf_Authentication_AuthenticateAuthorize Request message, include: GPSI, CMT ID, CMT Data (coverage data request) and optionally UE location obtained from AMF in step 6. The CM NF selects CMS based on CMS address provided by the UE, or CMT ID. CM NF/NEF may translate the UE Location Information received from AMF in step 6 or, location information in coverage data request (e.g. coverage map required area or positions) contained in CMT Data Container into a corresponding geographic area and/or may further obtain the UE location information using Location Service Procedures as defined in TS 23.273 [20]. CM NF/NEF may add additional information in the coverage data to ensure to get precise information from CMS (e.g. add interpolated positions to meet the accuracy level of coverage data in the request).\n8.\tAuthentication for Coverage Map Transfer is performed by the CMS. Multiple round-trip messages as required by the authentication method used by CMS. In this case, step 4 of Figure 5.2.2.2-1 in TS 23.256 [19] can be reused by replacing CAA-Level UAV ID to CMT ID.\n9.\tCMS sends Naf_Authentication_AuthenticateAuthorize Response message, include: GPSI, CMT ID, result of authentication for Coverage Map Transfer (success/failure), and CMT Data (coverage data) which is requested.\n10.\tCM NF sends Nnef_Authentication_AuthenticateAuthorize Response message, include: GPSI, CMT ID, result of authentication for Coverage Map Transfer (success/failure) and if AMF requested, then CMT Data (coverage data) is also included.\n11.\tAMF provides result of authentication for Coverage Map Transfer to UE.\n12.\tAMF stores the CMT Data (coverage data), and utilizes it in corresponding procedures (e.g. paging, de-registration). AMF may take into account this coverage data when it decide whether to keep UE be registered during the out of coverage period.\n13.\tCM NF invokes Namf_Communication_N1N2MessageTransfer, include: GPSI, CMT ID, CMT Data Container (coverage data). The coverage data may be the data received in step 9 from CMS, or if any translation or modification was conducted in step 7, inversely converted coverage data will be included in the CMT Data Container.\n14.\tAMF triggers a UE Configuration Update procedure to deliver to the UE the CMT Data Container (coverage data).\n15.\tUE stores and processes the received coverage data and performs corresponding procedure. UE may take into account this coverage data when it decide whether to remain with no service, or to attempt to register on available different RATs/PLMNs to receive normal service during the out of coverage period.\nThe figure depicts the coverage data transfer at 5GS PDU Session Establishment procedure, illustrating the various steps involved in establishing a session between a base station (BTS) and a user equipment (UE) within a 5G network. The figure shows the data transfer process, including the transmission of the session identifier (SID), the establishment of the session, and the transmission of the session key (SK). The figure also highlights the use of the 5G PDU Session Establishment procedure, which is a key component of 5G network architecture.\nFigure 6.22.2-2: Coverage data transfer at 5GS PDU Session Establishment procedure\n1.\tThe UE sends a PDU Session Establishment Request message including CMT ID, CMT Data Container (coverage data request), and optionally CMS address. CMT ID is an UE identity for receiving coverage data. CMT Data Container includes coverage data request and it is used by CM NF. The coverage data request describes the coverage data that UE needs (e.g. coverage map required area, coverage data required trajectories, coverage data required time period, accuracy level of coverage data) for its decision during the out of coverage period.\n2.\tAMF invokes Nsmf_PDUSession_CrateSMContext Request, include: including CMT ID, CMT Data Container (coverage data request), and CMS address if received from the UE, and optionally UE Location Information (e.g. Cell ID, TAI).\n3.\tSMF determines whether additional authentication is required for the UE with CMT ID as described as AMF's operation in step 4 of Figure 6.X.2-1. SMF retrieves SM subscription data which indicates whether the UE is allowed to receive coverage data. If SMF determined additional authentication for Coverage Map Transfer is required, then SMF invokes Nnef_Authentication_AuthenticateAuthorize Request message, including GPSI, CMT ID, CMT Data Container (coverage data request), and UE Location Information received from AMF in step 2, PEI if available, UE IP address if available. The CM NF should store the serving SMF ID.\n4.\tCM NF /NEF invokes Naf_Authentication_AuthenticateAuthorize Request message, include: GPSI, CMT ID, CMT Data (coverage data request), and UE Location Information received from AMF, PEI if received in step 3, UE IP address if received in step 3. The CM NF selects CMS based on CMS address provided by the UE, or CMT ID. CM NF/NEF may translate the UE Location Information received from AMF or, location information in coverage data request (e.g. coverage map required area or positions) contained in CMT Data Container into a corresponding geographic area and/or may further obtain the UE location information using Location Service Procedures as defined in TS 23.273 [20]. CM NF/NEF may add additional information in the coverage data to ensure to get precise information from CMS (e.g. add interpolated positions to meet the accuracy level of coverage data in the request).\n5.\tAuthentication for Coverage Map Transfer is performed by the CMS. Multiple round-trip messages as required by the authentication method used by CMS. In this case, step 4 of Figure 5.2.2.2-1 in TS 23.256 [19] can be reused by replacing CAA-Level UAV ID to CMT ID.\n6.\tCMS sends Naf_Authentication_AuthenticateAuthorize Response message, include: GPSI, CMT ID, result of authentication for Coverage Map Transfer (success/failure), and CMT Data (coverage data) which is requested.\n7.\tCM NF sends Nnef_Authentication_AuthenticateAuthorize Response message, include: GPSI, CMT ID, result of authentication for Coverage Map Transfer (success/failure), and CMT Data Container (coverage data), and if SMF requested CMT Data (coverage data) is also included. The coverage data may be the data received in step 6 from CMS, or if any translation or modification was conducted in step 4, inversely converted coverage data will be included in the CMT Data for SMF and CMT Data Container for UE.\n8.\tSMF stores the CMT Data (coverage data), and utilizes it in corresponding procedures (e.g. provide to NWDAF for Data collection if requested).\n9.\tThe rest of PDU Session Establishment procedure is continued.\n10.\tSMF invokes Namf_Communication_N1N2MessageTransfer, include: GPSI, CMT ID, result of authentication for Coverage Map Transfer, CMT Data Container (coverage data).\n11-12.\tAMF delivers GPSI, CMT ID, result of authentication for Coverage Map Transfer, CMT Data Container (coverage data) to UE.\n13.\tUE stores and processes the received coverage data and performs corresponding procedure. UE may take into account this coverage data when it decide whether to remain with no service, or to attempt to register on available different RATs/PLMNs to receive normal service during the out of coverage period.\nThe figure depicts the process of data transfer during the PDN connection establishment at the Attach procedure in EPS. It shows the transmission of data from the source to the destination, with the use of a PDN (Point-to-Point) connection. The figure illustrates the various steps involved in establishing the connection, including the use of a PDN, the transmission of data, and the establishment of the connection.\nFigure 6.22.2-3: Coverage data transfer during PDN connection establishment at Attach procedure in EPS\n0.\tSteps 1-13 in TS 23.401 [5] Figure 5.3.2.1-1 and steps 1-2 in TS 23.502 [3] Figure 4.11.1.5.2-1 or clause 4.11.2.4.1 in TS 23.502 [3].\nUE sends Attach Request including the CMT ID, CMT Data Container (coverage data request), and optionally CMS address in the PCO to the SMF+PGW-C.\n1-6.\tSteps 3-8 of Figure 6.22.2-3 triggered by SMF+PGW-C.\n7.\tSMF+PGW-C updates the UE by invoking the PDN GW initiated bearer modification without QoS update procedure (Figure 5.4.3-1 of TS 23.401 [5]) initiated by sending an Update Bearer Request message to the SGW. The PCO includes GPSI, CMT ID, result of authentication for Coverage Map Transfer, CMT Data Container (coverage data).\n8.\tUE stores and processes the received coverage data and performs corresponding procedure. UE may take into account this coverage data when it decide whether to remain with no service, or to attempt to register on available different RATs/PLMNs to receive normal service during the out of coverage period.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.22.3\tImpacts on existing nodes and functionalities",
                            "text_content": "UE:\n-\tThe UE includes GPSI, CMT ID, CMT Data Container (coverage data request), and optionally CMS address in Registration request during Registration procedure in 5GS, in PDU Session Establishment request during PDU Session Establishment procedure in 5GS, and in PCO included in Attach Request during PDN connection establishment at Attach procedure in EPS.\n-\tThe UE provides coverage data request to the network and CMS that describes the coverage data UE needs (e.g. coverage map required area, coverage data required trajectories, coverage data required time period, accuracy level of coverage data) for its decision during the out of coverage period.\n-\tThe UE stores and process the reived coverage data and performs corresponding procedures.\nAMF:\n-\tThe AMF determines whether the addition authentication for coverage map transfer to the UE with CMT ID, and triggers the coverage map transfer procedure.\n-\tThe AMF delivers the coverage data received from CM NF to the UE. The coverage data for UE is included in the CM Data Container.\n-\tThe AMF receives coverage data from CM NF. The coverage data for AMF is included in the CM Data, and the AMF takes utilizes coverage data in corresponding procedures (e.g. paging, deregistration).\nMME:\n-\tNo impact.\nSMF (and SMF+PGW-C):\n-\tThe SMF determines whether the addition authentication for coverage map transfer to the UE with CMT ID, and triggers the coverage map transfer procedure.\n-\tThe SMF delivers the coverage data received from CM NF to the UE. The coverage data for UE is included in the CM Data Container. For UE in EPS, the SMF+PGW-C includes CM Data Container in PCO and provides to the UE.\n-\tThe SMF receives coverage data from CM NF. The coverage data for SMF is included in the CM Data, and the SMF takes utilizes coverage data in corresponding procedures (e.g. provide to NWDAF for data collection).\nCM NF/NEF:\n-\tThe CM NF selects CMS based on CMS address provided by the UE, or CMT ID.\n-\tThe CM NF translate and modify the coverage data request from UE to obtain precise coverage data from CMS.\nCMS:\n-\tThe CMS receives the coverage data request from UE.\n-\tThe CMS authenticates the UE with CMT ID, and determines whether the UE is allowed to receive the coverage data.\n-\tThe CMS provides the coverage data to the authenticated UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.22.4\tSolution evaluation",
                            "text_content": "This solution provides the logical architecture and several procedures for transfer coverage data to the UE and the Core Network. The procedures in clause 6.22.2 have the following benefits:\n-\tBoth UE using NR satellite access and E-UTRAN satellite access can receive the coverage data in consistent way.\n-\tAMF, MME, SMF are not required to process the coverage data. Any type or format of coverage data can be provided to the UE. No new interface needs to be defined for EPS, especially no impacts on MME.\n-\tCM NF as NEF handles the coverage data request and coverage data, so the existing service operations such as Nnef_Authentication_AuthenticateAuthorize and Naf_Authentication_AuthenticateAuthorize can be re-used.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.23\tSolution #23: Handling of the UE attempt to Connected mode",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.23.1\tDescription",
                            "text_content": "UEs may go to connected mode to look for alternate PLMN or RAT (e.g. clause 6.12) or to go back to IDLE mode, then it can also create spike of signalling load on the source satellite system which can have negative impacts also to source system.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.23.2\tProcedures",
                            "text_content": "If the UE application layer has the knowledge when there is no network coverage, RRC Connection Request to the source satellite system can also be calculated and randomized so that UEs does not attack the source satellite system.\nAnd in order to prevent access overload to the source satellite system, NW can apply the existing mechanisms specified in clause 5.19 of TS 23.501 [2] and access control and barring specified in clause 5.2.5 of TS 23.501 [2]. In addition the NW has the knowledge when there is no network coverage, NW can apply the legacy mechanisms efficiently.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.23.3\tImpacts on existing nodes and functionalities",
                            "text_content": "No specification impact will be expected to apply the existing overload control mechanism.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "7\tOverall Evaluation",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "7.1\tRel.17 solution for support of discontinuous satellite coverage",
                    "description": "",
                    "summary": "",
                    "text_content": "Several solutions are documented in the present TR for support of NTN discontinuous coverage. This clause provides a general description of the support for NTN discontinuous coverage in EPS as documented for Release 17 in SA2 and RAN specifications.\nSupport for IoT NTN discontinuous coverage was introduced in TS 23.401 [5] with CR S2-2109199 [15]. The basic principles of the solution are:\n-\tThe UE is assumed to know how the E-UTRAN NTN coverage varies with time based on information defined in TS 36.331 [16] and TS 36.304 [17] (e.g. from the ephemeris data of a satellite access system that the UE is using). The UE may then deactivate its Access Stratum functions in order to optimise power consumption until coverage returns. The UE NAS Periodic Tracking Area Update attempts may be postponed but the PLMN selection timer T is not deactivated as defined in TS 23.122 [13].\n-\tTS 36.331 [16] defines SystemInformationBlockType31-NB and SystemInformationBlockType32-NB that provides ephemeris data and coverage parameters to the UE. SystemInformationBlockType31-NB contains satellite assistance information for the serving cell. SystemInformationBlockType32-NB contains satellite assistance information for up to four cells that is used for prediction of discontinuous coverage.\n-\tTS 36.331 [16] also defines SystemInformationBlockType3 that includes t-Service which is time information on when an NTN quasi-Earth fixed cell is going to stop serving the area it is currently covering.\n-\tTS 36.304 [17] defines the AS idle mode behaviour of the UE as follows: \"If the UE has determined that it is out of coverage using available satellite assistance information (e.g. ephemeris parameters and coverage parameters in SystemInformationBlockType32, SystemInformationBlockType31 or other parameters), the AS configuration (e.g. priorities provided by dedicated signalling and logged measurements) is kept, but the UE need not perform any idle mode tasks. It is up to UE implementation to handle running timers. The detection of out of coverage using satellite assistance information is up to UE implementation and once in coverage the UE shall perform all idle mode tasks.\"\n-\tAs in clause 5.3.3.1d of TS 36.331 [16], decoding of SIB31/32 is implicitly mandatory for UE, together with valid GNSS position, to start RRC connection through NTN.\n-\tThe MME provides independent control over the Periodic Tracking Area Update/Mobile Reachable Timer and Implicit Detach Timer. These parameters are to be configured on a per-RAT or per-TAC basis.\n-\tIt is indicated in a NOTE in TS 23.401 [5] that if a satellite system only provides coverage to a UE for e.g. 20 minutes when a satellite passes, and the maximum time before a satellite again passes any point on the earth is 10 hours, the MME could configure the periodic TAU timer and mobile reachable timer to be just greater than 20 minutes and the Implicit Detach timer to be greater than 10 hours.\n-\tHigh Latency Communication (HLCOM) functionality allows support of MT data when NTN with discontinuous coverage is used.\nFor an example scenario for the UE being in coverage for 20 minutes every 10 hours, (based on the MME knowing that the Tracking Area is associated with that discontinuous coverage IoT NTN system) the MME:\n-\tsets the Periodic TAU timer to 24 minutes and Mobile Reachable Timer to 30 minutes (this limits unecessary paging traffic);\n-\tsets the Implicit Detach Timer to 10 hours (which keeps any PDN connection alive while the UE is out of coverage);\n-\tmay use HLCOM by setting the DL Buffering Duration time to the time left before the Implicit Detach timer expires;\n-\tsupports SMS message waiting capability and/or Monitoring event: UE Reachability;\n-\tevery time coverage \"returns\" since the UE's Periodic TAU timer would have expired, the UE will perform periodic TAU and therefore inform the MME that is back in coverage. As per TS 23.401 [5] clause 4.3.17.7, \"High latency communication\" already mandates that when the UE performs a TAU, the MME establishes the user plane to deliver the buffered data.\nIn Rel.17 the MME is not expected to:\n-\tenable eDRX;\n-\tenable Power Save Mode;\neven though it is not prevented by the normative specification.\nThere is no support for any enhancements for NTN discontinuous coverage in 5GS in rel.17.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "7.2\tMethodology",
                    "description": "",
                    "summary": "",
                    "text_content": "Considering that the elaborated Key Issues are mentioning some aspects that need to be covered in priority by final selected solution(s) (each may be single self-contained solution or an aggregation of interesting part of proposed solutions), and that it might be possible to  assess the solutions according preferable underlying system assumptions, for each Key Issue, proposed methodology is the following:\n1.\t Refine the mapping between solutions and Key Issues, by identifying for each aspect of the Key Issue, if the given solution addresses the aspect or not.\n2.\tIndicate as simply as possible, underlying system assumptions, requirements and impacts as described in clause 7.3.\n3.\tOnce solutions are grouped as described above, considerations on preferable system assumptions, in relation with Key Issue aspects may help in determining the conclusion or assembly of parts of solutions for conclusions.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "7.3\tRequirements, Impacts and System Assumptions",
                    "description": "",
                    "summary": "",
                    "text_content": "KI#1 and KI#2 identify the following requirements (denoted R1 to R6) related to mobility management with discontinuous coverage.\n-\tR1: KI#1 \"minimizing a period of no coverage\"\n-\tR2: KI#1 \"minimizing power consumption\"\n-\tR3: KI#1 \"UE determines that it has to remain with no service or it has to attempt to register on available different RAT's/ PLMNs to receive the normal service during discontinuous coverage in current NTN RAT\"\n-\tR4: KI#1 \"reduce the impact to target RAT or system due to large number of UEs triggering signalling load on the target RAT or system to receive normal service\"\n-\tR5: KI#2 \"UE does not attempt PLMN access when there is no network coverage\"\n-\tR6: KI#2 \"when there is network coverage the UE attempts PLMN access as needed e.g. to transfer signalling, transfer data or receive paging, etc.\"\nSolutions may also have one of more of the following impacts. These refer to new impacts and not impacts already defined in Release 17 with the exception of impacts for the solution in Release 17 for discontinuous coverage which are considered as new impacts because the other solutions in the TR may avoid all or some of these impacts.\n-\tI1: New impact to UE to obtain coverage information and determine periods of coverage and no coverage.\n-\tI2: New impact to UE to support mobility management.\n-\tI3: New impact to CN (e.g. MME or AMF) to obtain coverage information and determine periods of coverage and no coverage for UEs.\n-\tI4: New impact to CN (e.g. MME or AMF) to support mobility management.\n-\tI5: New impact to RAN to support mobility management.\n-\tI6: Other impacts not listed.\nEach solution is based on system assumptions.\nThe following system assumptions, with corresponding justification, are provided:\n-\tA1: Satellite service coverage is determined by the NW.\n-\tJustification:\n-\tMore complete information on satellite constellation due to connection with Satellite Network Centre.\n-\tNo UE resources required to determine satellite coverage.\n-\tA2: Satellite service coverage is determined by the UE.\n-\tJustification:\n-\tUE can always know its location - NW can only assume or predict UE location.\n-\tA3: For non-static UEs, the UE mobility is known or predicated by the UE.\n-\tA4: For non-static UEs, the UE mobility is known or predicated by the network\n-\tJustification for A3 and A4:\n-\tIf movement is predictable, the parameter adaptation will better correspond to reality\n-\tA5]: The solution applies to 5GC.\n-\tA6: The solution applies to EPC.\n-\tJustification for A5 and A6:\n-\tReuse concepts and avoid procedure divergence.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "7.4\tCoverage Information Provisioning",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.4.0\tOverview",
                            "text_content": "Coverage information provisioning is a key part to realize the requirements as descried in clause 7.3.\nThis clause categories related solutions into two types:\n1)\tCoverage information provisioning to UE as described in clause 7.4.1.\n2)\tCoverage information provisioning to core network (AMF/MME) as described in clause 7.4.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.1\tTo UE",
                            "text_content": "The solution in Release 17 and Solutions #1, #3, #6, #7, #8, #11 and #16 assume that a UE has access to coverage information allowing the UE to know fairly precisely (e.g. maybe with 1 minute or better accuracy) when coverage at a current or future location will start and end.\nThe solution in Release 17 relies on broadcast of satellite ephemeris data in a SIB defined in TS 36.331 [16]. The solution is limited to support of ephemeris data for up to 4 satellites. The solution in Release 17 contains the following limitations.\n-\tA UE would be expected to calculate whether and when each satellite will be visible from a UE location and assume that the satellite might be accessed if the satellite is visible (e.g. with an elevation above 10 degrees). This could be a significant processing burden to an IoT UE, at the opposite of KI#2 objective to save power\n-\tThere is no information in the SIB on whether a satellite supports only certain PLMNs, only certain countries, is operating only at certain times (e.g. not late at night to reduce operating cost) or whether radio cell coverage is for an entire area of satellite visibility or only for some portion of that area.\n-\tThere is no charging capability - this is a free service to all UEs.\n-\tThere is no security - a fake base station could broadcast the SIB to spoof coverage or out of coverage at incorrect times.\n-\tThe SIB seems to be restricted to one satellite RAT only and may not support coverage from all satellite RATs.\n-\tThe limitation to 4 satellites could limit coverage information to only a short period in the future (e.g. 2 hours).\nThe number of satellites RAN broadcasts ephemeris data for will be increased from 4 in Rel-17 to 8 in Rel-18.\nNOTE:\tWhether the size of SIB is enough to carry the ephemeris data of 8 satellites needs to check with the RAN WG2.\nSolutions #15, #17, #21, #22 address the provision of coverage information to a UE as an alternative to the solution in Release 17. The solutions may overcome the limitations of the solution in Release 17 as shown in clause 6.15.4. The solutions are not a RAN based solution but instead rely upon support from the CN and/or an external server (e.g. supported by a satellite operator).\nWhether and how the provisioned coverage information is used by the UE has to be defined in cooperation with the RAN and CT working groups and until that is done whether the solutions are required is still to be determined.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.2\tTo Core Network (AMF/MME)",
                            "text_content": "Solutions #1, #2, #4, #5, #6, #9, #11, #15, #17, #19, #21 and #22 assume that the CN (e.g. MMEs, AMFs, or other network entities) has access to coverage information allowing the CN to know when UEs will be in or out of coverage. There are several mechanisms supporting the provision/acquisition of coverage information, e.g. from RAN, from OAM, from pre-configuration, from NWDAF, from 5G dedicated coverage provision network function, from AF and from 3rd party server.\nSolution #1, Solution #4 and Solution #5 propose methods to address the acquisition of coverage information from RAN. Solution #1 suggests that the coverage information may be derived by the AMF based on the satellite assistance information from RAN, e.g. satellite id, satellite ephemeris. Solution #4 and Solution #5 both suggest to enable the provision of satellite coverage information to the AMF by RAN via existing UE Location Reporting procedures. However, all these solutions have RAN dependency which should be discussed and checked by RAN WGs. Also RAN based solutions are only applicable to the UEs with limited mobility, e.g. stationary. And generating coverage information by AMF/MME may bring unexpected overload to those entities.\nSolution #2 proposes to provision future coverage information for a UE through interfacing with an external server. Solution #22 also proposes to obtain coverage map information from a 3rd party server called CMS (Coverage Map Server), which is provided via a new NF called CM NF (Coverage Map transfer NF) that can be collocated with NEF. These solutions with communicating external server may have potential issues in terms of privacy and security.\nSolution #17 proposes to introduce a new 5G NF called CMNF (Coverage Map Network Function), which determines and provides coverage information including projected coverage with locations, timing and type, to the other NFs.\nSolution #15 proposes three alternative ways for AMF to obtain the coverage map information, including from a server via user plane or SMS, from coverage information available to an AMF or MME, or from DCAF with utilizing NWDAF.\nSolution #21 proposes to utilize NWDAF in order to generate coverage information including ephemeris data and estimate of in/out NTN coverage periods based on existing UE related analytics information e.g. expected UE's mobility trajectory.\nSolution #19 proposes that AMF obtains coverage information as a list of time and coverage in/out from AF via NEF.\nSolution #22 proposes authentication procedure performed by external server to ensure that only the allowed UE receives the coverage data.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.5\tKI Requirements Solution Evaluations",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.5.1\tSolution Mapping to Requirements and Impacts",
                            "text_content": "Table 7.5-1 shows the requirements that are applicable to mobility management that each solution supports. Note that Table 7.5-1 does not show how well the requirements can be supported or the magnitude of the impacts, only that requirements can or cannot be supported to a degree and that there is or is not some types of impact.\nTable 7.5-1: Support of Mobility Management Requirements for KI#1 and KI#2\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.5-1: Support of Mobility Management Requirements for KI#1 and KI#2",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.5.2\tSolution Categorisation",
                            "text_content": "The 23 solutions can be categorised as following:\n-\tGeneral mobility management and/or power saving solutions.\nThis category corresponding to the requirements of R1, R2, R5 and R6.\nSolutions#1, #2, #3, #4, #5, #6, #8, #9, #10, #11(combined solution), #15, #16(mobility management and/or power saving part of this solution), #19, #20, #21 and #22 solve how to configure mobility management and/or power saving parameters, e.g. periodic MRU/TAU timer, active time, eDRX, sub-area paging.\n-\tAlternative RAT/PLMN selection.\nThis category corresponding to the requirements of R3.\nSolutions #12 and #13 describe alternative RAT/PLMN selection.\n-\tOverload impacts to target RAT/PLMN.\nThis category corresponding to the requirements of R4.\nSolutions#7, #14, #16, #23 corresponding to the requirements of R4.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.5.3\tSolutions for general mobility management and/or power saving",
                            "text_content": "This clause evaluates whether solutions have any limitations that might restrict their use or cause them to fail.\nFor Solution #1, if the UE is in RRC CONNECTED state and accessing then 5GS sends an RRC message when it is about to leave coverage (step 0 in Figure 6.1.2.1-1). A UE accessing EPS sends a TAU message when it is about to leave coverage (step 0 in Figure 6.1.2.2-1). The procedures can also be applied at other times before moving the UE to CM-IDLE. The UE will enter CM-CONNECTED (for example to send TAU/Periodic Registration based on the previously provided periodic registration time, or to send UL traffic) while in CM-CONNECTED the parameters can be updated and the Active Timer can be used while in coverage.\nFor Solution #3, the UE uses existing PSM. eDRX or MICO procedures to cause the MME/AMF to treat the UE as unavailable during periods of no coverage. The MME/AMF is not aware if the UE is requesting PSM, eDRX or MICO procedures out of coverage or for power saving. Therefore, as acknowledged in clause 6.3.3, the AMF/MME needs to honour the UE request and is not able to provide different PSM, eDRX or MICO parameters back to the UE, which is a limitation and also prevents incorrect configuration. That could mean, for example, that when out of coverage occurs rarely, support of PSM, eDRX or MICO the reachability latency may not be perfect from a network perspective.\nFor Solution #6, the AMF can receive an unreachability period from both the UE (step 2 in Figure 6.6.2-1) and NWDAF (step 3 in Figure 6.6.2-1). ). If the two periods are significantly different (e.g. because the NWDAF unreachability period is based on an assumed UE trajectory not used by the UE, or vice versa), then the AMF will have to resolve this and has chance to correct. Depending upon how the AMF resolves this, Solution #6 may become rather similar to Solution #16 which also uses an unreachability period sent by the UE to an MME or AMF.\nFor Solution #11, the \"5GS UE Leaving Coverage Procedure\" in clause 6.11.2.1 has 3 possible triggers: the RAN can detect the UE is about to leave coverage (step 1a), the UE can detect impending out of coverage (step 1b), or the AMF can detect the UE is about to lose coverage (step 1c). This implies the UE, RAN and AMF are aware of the coverage related data and determining when the UE will go out of coverage, which helps with the cases where not one entity knows all the information. Sending the Registration Request some time in advance of leaving coverage should be more efficient if the UE would otherwise be in IDLE state shortly before loss of coverage and is supported. Optionally, NTN MO Backoff Mode and timer are introduced for UE to withhold the UL MO data and signalling for a given time.\nFor Solution #13, HPLMN UDM configures a DisCoNoserviceapplicability parameter in per PLMN basis to the UE capable of Satellite RAT. With the DisCoNoserviceapplicability parameter, the UE using Satellite RAT can determine whether to negotiate power saving mechanisms, e.g. PSM/MICO/eDRX, for staying at no service in current PLMN before entering no service discontinues NTN coverage, and whether to remain in no service or perform PLMN selection procedure after entering no service discontinuous NTN coverage. Accurate estimation of NTN coverage is needed to achieve more power saving for the UE to initiate negotiation of power saving mechanism before entering no service discontinues NTN coverage.\nSolution #16 is similar to other solutions that provide UE awareness of unavailability due to coverage restrictions and requires that the CN follows what the UE has provided as the timings. The solution relies upon the UE knowing its current location and having access to satellite coverage data. The solution does not require knowledge by the UE of future locations because the solution allows the UE to return to coverage sooner or later than originally expected. This occurs as a result of the CN assuming the UE is out of coverage until the UE sends a Registration Request or TAU to indicate that the UE is back in coverage.\nThe satellite coverage information provided by OAM or 3rd party server has broader scope of the ephemeris data than information obtained by the UE from SIB. It may not be efficient for a UE to frequently update and calculate the satellite coverage information based on SIB ephemeris data. Therefore, AMF/MME could determine mobility management and power saving parameters, and update them to the UE based on the coverage information. However, this would require that an AMF/MME determine coverage for all UEs with NTN access (e.g. thousands or millions of UEs) which is not efficient either. A better solution may thus be provision of satellite coverage maps to a UE and/or AMF/MME which simplifies and reduces calculations.\nIf the UE initiates UL without knowing that it will be out of coverage soon due to lack of information it has, the UE may fail to communicate when coverage is lost. Therefore, if the network can indicate a timer to the UE, or the UE can determine such a timer, before the UE will be out of coverage, UE can decide not to send any UL data/signalling during the time.\nExisting power saving modes (e.g. MICO, PSM, eDRX) do not prevent the UE's MO data and signalling and it is not assumed that the UE will be out of coverage for a long time. A different mode is needed to prevent the UE from sending MO data/signalling while out of coverage for power saving enhancement.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.5.4\tSignalling load on target RAT/PLMN",
                            "text_content": "KI#1 bullet b) proposed to address the signalling overload on target RAT/PLMN when a large number of UEs attempt to receive normal services when the satellite discontinuous coverage occurs. Considering whether the UEs can select other available RAT (e.g. NTN RAT/TN RAT provided by same operator that provides current discontinuous coverage, NTN RAT/TN RAT provided by different operator), or have to remain in no service, the target RAT/PLMN can be categorized as follows:\n-\tAspect#1, the signalling impact is to same RAT, same PLMN, i.e., there is no other available RAT type to be selected during the discontinuous coverage period, the UEs have to remain in no service until the same satellite or satellite from same constellation can provide the coverage. The signalling impact is to same RAT, same operating system.\n-\tAspect#2, the signalling impact is to different RAT, same PLMN, i.e. there are available RAT types during discontinuous coverage period, the available RAT type can be NTN or TN provided by the same operator, the UEs can handover to the new detected RAT type.\n-\tAspect#3, the signalling impact is to different RAT, different PLMN, i.e. there are available RAT types during discontinuous overage period, the available RAT types can be NTN or TN provided by different operator, the UEs will register to the new detected RAT type.\nNOTE:\tWhether to apply wait timer if the UE selects other RAT/PLMN to continue the service due to discontinuous coverage can be discussed during normative phase.\nSolution#7, Solution#14, Solution#16 and Soltuion#23 are proposed to address the signalling impacts to the target RAT/PLMN.\nTo address Aspect#1:\n-\tSolution#7, #14 both proposed that the AMF will set the \"wait range\" to the UE, and UE will further calculate the \"wait timer\" based on the \"wait range\" to reduce the signalling overload. In addition:\n-\tSolution#7 supports the UEs to calculate the unavailable period caused by satellite discontinuous coverage together with the \"wait range\" as provided by the AMF. The resulting wait timer covers both the unavailable period and randomization of delay when the satellite coverage recovers. In addition, the AMF can also give higher priority to the VIP users to recover the coverage by setting different \"wait range\".\n-\tSolution#14 can adopt similar procedures with \"disaster roaming wait range\" to control the signalling overload. The \"wait range\" can reuse \"disaster roaming range\", or define a new \"wait range\" that is specific for the satellite discontinuous coverage event.\n-\tSolution#16 proposed that the UE firstly determines the unavailable period (because of the discontinuous coverage) and indicates it to AMF and the AMF will then set the TAU timer together with a \"delay time\" to the UEs that request with same event (i.e. discontinuous coverage) to reduce the signalling overload. The \"delay value\" can be fixed or random and hence (if random) can reduce the signalling overload.\n-\tSolution#23 proposed to reuse the mechanism as defined in clause 5.19 of TS 23.501 [2], however, the load/overload control mechanism only works for the UEs that in CM-CONNECTED mode, which cannot address the signalling overload impact for UEs that in CM-IDLE mode.\nTo address Aspect#2 and Aspect#3:\n-\tSolution#7, #14 proposed to utilize the \"wait range\" value as received from AMF to calculate the \"wait timer\" and the UEs need to wait until the \"wait timer\" expires to initiate the NAS level signalling, i.e. Mobility Registration Update, TAU, Initial Registration and etc. The signalling overload to the target system can be mitigated.\n-\tIn Solution#16, if the UEs can select available RAT/PLMNs, the UEs can wait a random delay time to initiate the NAS signalling.\n-\tIn Solution#23, the load balancing or overload control mechanism can only work for the source RAT system and has no improvement on signalling overload mitigation to the target system.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.5.5\tSolutions for alternative RAT/PLMN selection",
                            "text_content": "Regarding the UE determines that it has to remain with no service or attempt to access other available RAT/PLMN to receive the normal service during discontinuous coverage, there are solutions #12 and #13.\n-\tIn solution#12, if the UE determines that there is other available access based on the ephemeris information when it is about to move outside the current network coverage, the inter-RAN handover can be performed.\n-\tIn solution#13, the UE determines that it has to remain in no service or it tries to access other RAT/PLMN based on the parameter configured in the UDM, service requirement, UE input/preference, etc. This solution takes into account the influence of the operator policy and is more practical.\nSolution #12 can provide service continuity as much as possible to the UE when it starts a service in the satellite discontinuous coverage case. This solution reuses existing inter-RAT handover procedure with minimal impact to Rel-17. Only enhancement is that UE/RAN should detect the UE is out of coverage and RAN triggers the handover procedure before coverage is lost. The normative work will in cooperation with RAN working groups.\nSolution #13 can give a better control on the UEs during discontinuous coverage period. Operators based on roaming agreements, subscription of the UE, deployment choice can decide if UE has to get the service from alternate PLMN/RAT during the discontinuous coverage period or keep the UE in no service until it gets back into satellite coverage.\nOnly considering utilizing power saving mode to UE during coverage gap will have great influence on service experience, especially, in case of long period of no coverage, service with latency requirement may not be suitable to bear in satellite network. Solution #12 & #13 allow UE to choose other access as a supplement when coverage is lost, which can improve service experience, moreover, can help enrich more service to use the network.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.6\tFunctional Evaluation",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause evaluates how different solutions support common functions.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.6.1\tDetermination of Satellite Coverage",
                            "text_content": "Table 7.6.1-1 shows assumptions regarding which types of entity (UE, RAN or CN) are able to determine satellite coverage for those solutions that use satellite coverage information to support mobility management. The type of satellite coverage information and the means to obtain it are not included.\nTable 7.6.1-1: Determination of Satellite Coverage by Different Types of Entity\n\nFrom Table 7.6.1-1, it can be seen that 13 of the listed 16 solutions assume (or allow) that the UE is able to determine satellite coverage for itself.\nTable 7.6.1-1 also shows that 8 of the listed 16 solutions assume (or allow) that the CN is able to determine satellite coverage for UEs. Table 7.6.1-1 also shows that 5 of these 8 solutions are among the 13 solutions that support UE determination of satellite coverage.\nTable 7.6.1-1 further shows that 3 of the listed 16 solutions assume that the RAN is able to determine satellite coverage for UEs.\nBased on the numbers, it seems clear that UE determination of satellite coverage is a common denominator of most solutions. CN determination of satellite coverage does not then seem essential, unless UE determination of satellite coverage may not be reliable or if only CN is aware about future UE trajectory. If UE and possibly CN determination of satellite coverage are supported, RAN determination of satellite coverage does not seem essential.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.6.1-1: Determination of Satellite Coverage by Different Types of Entity",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.6.2\tCoordination of Coverage Gap Periods",
                            "text_content": "Some but not all of the solutions listed in Table 7.6.1-1 use the determination of satellite coverage to coordinate coverage gap periods between a UE and AMF or MME such that both entities are explicitly or implicitly aware of when a coverage gap begins and ends. One entity acts as the coordinator by determining one or more coverage gaps and sends information about this to the other entity which may act on the information and/or check the information.\nTable 7.6.2-1 shows the coordinating entity, the information that is transferred by the coordinating entity and what are the actions at the recipient entity.\nTable 7.6.2-1: Coordination of Coverage Gaps by Different Solutions\n\nAs shown in Table 7.6.2-1, 7 solutions (#1, #2, #3, #5, #9, #11-B, #21) coordinate coverage gaps using existing power saving parameters for eDRX, MICO or PSM. However, 6 of these 7 solutions are MME/AMF coordinated or allow for MME/AMF coordination and only 2 solutions support UE coordination.\nTable 7.6.2-1, also shows that 4 solutions (#6, #8, #11-A, #16) coordinate coverage gaps using explicit indications of when coverage will cease and when it resumes. All 4 of these solutions are UE coordinated. In the case of Solution #16, the method of transfer would use an indication of an unavailability period in a Registration Request that is part of the conclusions for the Study on Seamless UE context recovery in TR 23.700-61 [11]. This could reduce impacts by combining common support for two separate features.\nThis suggests using explicit indications of when coverage will cease and when it resumes if a UE determines and coordinates coverage gaps. Use of existing power saving parameters for eDRX, MICO or PSM seems suitable if an MME/AMF determines and coordinates coverage gaps. However, it is not clear that MME/AMF determination and coordination of coverage gaps is needed if a UE is able to perform this reliably, but in the other hand MME/AMF will require coverage gaps analysis for paging optimization.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.6.2-1: Coordination of Coverage Gaps by Different Solutions",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.6.3\tSource of Satellite Coverage Data",
                            "text_content": "Table 7.6.3-1 summarizes different sources of coverage data as defined or allowed by different solutions. The listed sources may not be the ultimate sources and may obtain coverage data from some other source (e.g. a satellite network provider) but that aspect is not specified by the solutions.\nTable 7.6.3-1: Source of Satellite Coverage Data defined by Different Solutions\n\nAs shown in Table 7.6.3-1, 8 of the 20 listed solutions assume the RAN as the source of coverage data (for the UE, CN or both). The RAN probably cannot be the ultimate source of the data and O&M might be needed to configure the data in the RAN, but that may be considered as out of scope of Release 18.\nAs also shown in Table 7.6.3-1, 8 of the 20 listed solutions assume availability of coverage data but leave the source undefined.\nThe remaining possible sources listed in Table 7.6.3-1 comprise an external server (4 solutions), NWDAF (3 solutions), AMF/MME (2 solutions), O&M (2 solutions), AF (3 solutions), and a new NF (1 solution).\nSince the 8 solutions defining RAN as the source of coverage data would very likely need to rely on O&M to configure the RAN (even though out of scope), use of O&M to configure coverage data in the CN also seems to be suitable. The next most popular solution is an external server which could be owned and/or managed by a satellite network operator.\nThis suggests that O&M or an external server should be the ultimate source of coverage data for UEs, RAN and CN. Use of an AF can also be considered since this can correspond to an external server. In this case, use of SCEF/NEF interface is recommended for security reasons.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.6.3-1: Source of Satellite Coverage Data defined by Different Solutions",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.6.4\tType of Satellite Coverage Data",
                            "text_content": "Table 7.6.4-1 summarizes different types of satellite coverage related data as defined by different solutions including Release 17. The table also shows whether the data would be applicable to all UEs or just to one specific UE and whether calculation of coverage availability is performed by the source of the coverage data (in which case the coverage data contains indications of coverage versus no coverage) or by the recipient of the coverage data (in which case the coverage data contains information for satellites and possibly radio cells).\nTable 7.6.4-1: Satellite Coverage Data defined by Different Solutions\n\nThe solution in Release 17, Solution #15, Solution #21 (in the case of ephemeris) and Solution #22 can provide coverage data that is applicable to all UEs, whereas Solutions #17, #19, #21 (in the case of in and out of coverage periods) and #22 (in the case that UE trajectory is included) provide coverage data that is applicable to one UE only due to being based on a known or expected mobility pattern or trajectory for a specific UE.\nHowever, coverage data calculation is performed by the source of the coverage data for all solutions except Release 17 and Solution #21 where ephemeris data is used. While the source may need to calculate separate coverage data for each UE in Solutions #17, #19, #21, #22, the source could rely on intermediate data (e.g. similar to that for Solution #15) for these solutions, which might enable a once only type of calculation rather than a separate complete calculation for each UE. The once only calculation for all solutions except Release 17 could use known ephemeris data for all satellites plus details of radio cell coverage to calculate and store locations and times where coverage is and is not available, after which per UE coverage can be obtained for Solutions #17, #19 and #21 or location/time related coverage can be obtained for Solution #15 without any more complex calculation.\nThe recipient calculation required for Release 17 and Solution #21 where ephemeris coverage data is supported could lead to a much greater amount of processing (by UEs or the CN) than in other solutions. As an example, in Solution #15, coverage needs to be calculated once only for separate grid point locations at a sequence of future times (and this can also be used as an intermediate step for solutions #17, #19, #21, #22). For Release 17 and any Release 18 solution that uses ephemeris, coverage would need to be calculated for or by each UE at a sequence of <location, time> pairs representing a future mobility pattern or trajectory of the UE (or representing a single fixed location if the UE is not expected to move very far). The sequence of times should delimit short periods (e.g. 2 to 10 minutes) during which a satellite could become visible or cease to be visible. Assume, for comparison purposes, that the density of the grid points used in a coverage map solution (e.g. Solution #15) is DGP per sq km and that the average density of UEs where satellite coverage is needed is DUE per sq km. Then, over an area of size A sq kms, the number of grid points would be A*DGP and the number of UEs would be A*DUE. For each grid point with a coverage map type of solution or for each UE with an ephemeris type of solution, a calculation would need to be performed of future coverage at a sequence of future times. There would be no significant difference between each type of calculation because they would each need to determine coverage versus no coverage at a series of future times. This means that the total amount of calculation (e.g. the total amount of processing needed) would be proportional to the number of grid points (A*DGP) for a coverage map solution like Solution #15 or to the number of UEs (A*DUE) for an ephemeris based solution. If grid points are spaced apart by 100 kms, then DGP = 0.0001. (100 kms is used in this example because satellite coverage will tend to be the same over an area of 100 kms extent or less, so the coverage at a grid point can indicate the coverage in an area 100 kms in extent surrounding the grid point with high reliability.) If there is one UE every 10 sq kms (which is a very low density), then DUE = 0.1. In that case, there would be around 1000 times as much overall coverage calculation using an ephemeris based solution as there would be using a coverage map solution like Solution #15. This is because with an ephemeris type of solution, almost the same coverage calculation would be repeated by all UEs that are close to (e.g. within 100 kms of) each other. While this extra coverage calculation could be distributed among the individual UEs, it would still represent about 1000 times as much power usage overall (in this example) which would not be good for very low power IoT type of UEs. While this is an example, it indicates that a coverage map based solution should be much more efficient regarding processing than a solution based on use of ephemeris. Combining this with the far more effective and accurate possibility of calculating coverage data using radio cells as well as other advantages for a coverage map type of solution described in clause 7.4.1, shows that coverage map type solutions should be much more effective.\nProviding coverage map data as in Solutions #15 and #22 would be the simplest type of coverage map solution as it can apply to all UEs and is not UE specific. However, as an option, coverage data might also be provided per UE as in Solution #17. #19, #21 or #22 where a UE trajectory or mobility pattern is known or can be provided (e.g. by an NWDAF or by the UE).\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.6.4-1: Satellite Coverage Data defined by Different Solutions",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.6.5\tTransfer of Satellite Coverage Data to a UE",
                            "text_content": "Table 7.6.5-1 summarizes different methods of transferring satellite coverage related data to a UE and to an MME/AMF. These entities are chosen as they are typically the final consumer of the coverage data, or, in the case of an MME/AMF, might be an immediate source of the data to the UE.\nTable 7.6.5-1: Methods of Transferring Coverage Data\n\nTable 7.6.5-1 shows that for transfer to a UE, 4 solutions define SIB transfer from a RAN node and 4 solutions define NAS transfer from an AMF or MME which will generally be an intermediate entity for another more remote source.\nTable 7.6.5-1 shows that for transfer to an MME/AMF, 3 solutions assume NGAP/S1AP transfer from the RAN, 2 solutions assume transfer from an external server and different single solutions assume one of SBI from a new NF, SBI from an AF, SBI from an NWDAF and O&M.\nSince it has been shown that ephemeris data can be very inefficient when it comes to calculation of coverage periods and could be less accurate and with other drawbacks as described in clause 7.4.1, the SIB solution for ephemeris data transfer could be ruled out. That leaves NAS transfer to a UE (included in 4 solutions) or user plane transfer from an external server or DCAF according to Solution #15. NAS transfer will impact an AMF and MME in terms of extra NAS signalling and support for obtaining (e.g. via O&M or from an external server) and transferring the coverage map data, but in case both AMF/MME and UE are requiring satellite coverage data, it will insure that same information is shared and synchronized on both sides. It will also be interesting if no SMS nor IP are available User plane transfer can avoid MME/AMF impacts in the case of the DCAF solution or reduce the impacts in the case of user plane transfer from an external server, where the impact is to provide a URI for the external server plus information to be included by the UE in a request to the external server.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.6.5-1: Methods of Transferring Coverage Data",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "title": "8\tConclusions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "8.1\tConclusion on general mobility management and/or power saving",
                    "description": "",
                    "summary": "",
                    "text_content": "The conclusions for solutions to the requirements R1, R2 for KI#1 and R5 and R6 for KI#2 are the following:\nPrinciples of system behaviour:\n-\tNTN MEO/LEO satellite or satellite constellation that provides discontinuous coverage is considered as the satellite access in 5GS and EPS for the power saving enhancement and UE unreachability period can be provided to both the UE and AMF/MME.\n-\tUE unreachability period provided to the UE and/or AMF/MME shall include either timing information when UE moves out/in of NTN coverage or information on satellite coverage at current and potential future locations of the UE.\n-\tBoth network centric and UE centric procedures are used to determine and coordinate the UE unreachability period. These two approaches are not mutually exclusive, they serve different use cases and they can co-exist in the same network. In Network centric procedure, the AMF/MME determines the PSM parameters taking into account the UE unreachability period. In UE centric procedure, the UE informs the network about UE determined UE unreachability period and/or an indication when leaving/entering coverage.\nAMF/MME information retrieval:\n-\tAMF/MME shall not determine UE unreachability period based on satellite orbit data by itself. The AMF/MME receives UE unreachability period to be used for setting up the power saving parameters or handling mobility management of NTN UE.\n-\tAMF/MME obtains UE unreachability period information (timing information when UE moves out/in of NTN coverage) from an AF via the NEF/SCEF, from the UE or from OAM. The AMF/MME also takes into account UE location/mobility/trajectory information.\nThe role of AMF/MME:\n-\tThe AMF/MME configures the UEs mobility management and Power saving mode (PSM) parameters and sends the MICO/PSM parameters to UE before the satellite discontinuous coverage starts.\n-\tTakes into account the UE unreachability period in order to make sure the UE is in power saving mode if it is leaving network coverage, to avoid attempting to page the UE during this time and that the UE need not initiate NAS procedures excessively frequently compared to the Expected UE behavior, if known by the AMF/MME.\n-\tThe mobility management and MICO/PSM parameters include:\n-\tPeriodic registration update timer / Periodic TAU Timer,\n-\tMICO mode with optional Active Time and PS,\n-\tMICO mode with Extended Connected time (only for AMF case),\n-\teDRX parameters.\n-\tAMF/MME takes the Tracking Area reported by RAN before AN release as the paging area.\n-\tThe AMF/MME sets an implicit detach timer based on the UE unreachability period information to avoid de-registering or detaching the UE when it is in discontinuous coverage.\nNOTE:\tWhether the UE can be in CM-connected with RRC inactive and the AN release procedure is needed when there is no satellite coverage can be discussed during the normative phase.\n-\tOptionally, AMF can provide a backoff timer to prevent the UE from sending MO data/signalling while out of coverage.\n-\tRequest the UE to inform AMF/MME about when UE unreachability periods begin and end.\nRegarding which information UE has and how UE retrieves it:\n-\tIf possible, accurate UE coverage information is shared with UE, i.e. UE coverage information received from the network with enhanced solution compared to Rel-17.\n-\tSatellite coverage data may be transferred to a UE from an external server over user plane (via N6) or, e.g. for NB-IoT, using \"data over NAS\".\n-\tFollowing Rel-17, the UE has satellite assistance information for predication of discontinuous coverage from RAN broadcasts.\nRegarding the role of the UE:\n-\tThe capability for the UE to be able to determine requested NAS timer values and MICO/PSM parameters based on its predicted UE unreachability periods needs to be specified. A UE that uses power saving initiates a NAS procedure, with sufficient time to complete the NAS procedure before the start of the unreachability period, and negotiates timer values and power saving parameters with AMF/MME as per existing specifications.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "8.2\tConclusion on overload impacts to a target RAT/PLMN",
                    "description": "",
                    "summary": "",
                    "text_content": "The following aspects are concluded for normative work:\n-\tMEO/LEO providing quasi-static fixed earth footprint with steerable beams is considered as the satellite type that needs the signalling overload control due to their insufficient randomization compared to MEO/LEO that provides earth moving coverage.\n-\tAMF determines the \"wait range\" based on network configuration and sends the \"wait range\" to the UE via the Registration procedure or UE Configuration Update procedure.\n-\tThe \"wait range\" configuration value should take care that higher priority users are given better priority than normal UEs.\nNOTE 1:\tWhether to use the same parameter as in MINT or to define new parameter for satellite discontinuous coverage, will be determined during normative phase.\n-\tThe UE calculates the \"wait timer\" based on \"wait range\" configuration from the network and starts the respective \"wait timer\" when returning to coverage after being in discontinuous coverage:\nNOTE 2:\tWhether to apply wait timer if the UE selects other RAT/PLMN to continue the service due to discontinuous coverage can be discussed during normative phase.\n-\tIf the UE has to remain in no service (e.g. by applying power saving) due to discontinuous coverage and waits until the same RAT/PLMN coverage returns, the UE will calculate the \"wait timer\" (e.g. by selecting a random value between 0 and \"wait range\") to reduce signalling overload on the same RAT/PLMN.\n-\tThe UE will not initiate any NAS signalling to the target system when the \"wait timer\" is running.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "8.3\tConclusion on alternative RAT/PLMN selection",
                    "description": "",
                    "summary": "",
                    "text_content": "The conclusions for solutions to the requirement R3, alternative RAT/PLMN selection, for KI#1, are:\nIt is concluded not to have a normative work on alternative RAT/PLMN selection.\n\n",
                    "tables": [
                        {
                            "description": "",
                            "table number": 11,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        }
    ]
}