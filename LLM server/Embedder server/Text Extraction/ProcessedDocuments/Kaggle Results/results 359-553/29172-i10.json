{
    "document_name": "29172-i10.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document specifies the procedures and information coding for the EPC LCS Protocol (ELP) that is needed to support the location services in E-UTRAN, UTRAN and GERAN. The ELP message set is applicable to the SLg interface between the MME and the GMLC and the Lgd interface between the SGSN and the GMLC. ELP is developed in accordance to the general principles stated in 3GPP TS 23.271 [2].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.271: \"Functional stage 2 description of Location Services (LCS)\".\n[3]\t3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".\n[4]\tVoid.\n[5]\tIETF RFC 2234: \"Augmented BNF for syntax specifications\".\n[6]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[7]\t3GPP TS 29.171: \"LCS Application Protocol (LCS-AP) between the MME and E-SMLC\".\n[8]\t3GPP TS 29.274: \"Evolved General Packet Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C)\".\n[9]\tVoid\n[10]\t3GPP TS 32.299: \"Charging management; Diameter charging applications\".\n[11]\t3GPP TS 29.272: \"Evolved Packet System; MME and SGSN Related Interfaces Based on Diameter Protocol\".\n[12]\t3GPP TS 29.329: \"Sh Interface based on the Diameter protocol\".\n[13]\t3GPP TS 33.210: \"3G Security; Network Domain Security; IP Network Layer Security\".\n[14]\tIETF RFC 4960: \"Stream Control Transmission Protocol\".\n[15]\t3GPP TS 22.071: \"Location Services (LCS); Service description\".\n[16]\tIETF  RFC 5778: \"Diameter Mobile IPv6: Support for Home Agent to Diameter Server Interaction\".\n[17]\t3GPP TS 29.229: \"Cx and Dx Interfaces based on the Diameter protocol; protocol details\".\n[18]\t3GPP TS 29.173: \"Location Services; Diameter-based SLh interface for Control Plane LCS\".\n[19]\t3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".\n[20]\t3GPP TS 49.031: \"Location Services (LCS) – Base Station System Application Part LCS Extension – (BSSAP-LE)\".\n[21]\t3GPP TS 25.413: \"UTRAN Iu Interface RANAP signalling\".\n[22]\t3GPP2 A.S0014-D v5.0: \"Interoperability Specification (IOS) for cdma2000 Access Network Interfaces – Part 4 (A1, A1p, A2, and A5 Interfaces) UTRAN Iu Interface RANAP signalling\".\n[23]\tIETF RFC 6733: \"Diameter Base Protocol\".\n[24]\t3GPP TS 24.080: \"Mobile radio interface layer 3 Supplementary services specification; Formats and coding\".\n[25]\tIETF RFC 7944: \"Diameter Routing Message Priority\".\n[26]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces Stage 3\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in TR 21.905 [1].\nEPC-MO-LR: EPC Mobile Originating Location Request\nEPC-MT-LR: EPC Mobile Terminating Location Request\nEPC-NI-LR: EPC Network Induced Location Request\nPS-MO-LR: Packet Switched Mobile Originating Location Request\nPS-MT-LR: Packet Switched Mobile Terminating Location Request\nPS-NI-LR: Packet Switched Network Induced Location Request\nLCS:  LoCation Services\nLCS Client: software and/or hardware entity that interacts with a LCS Server (in this case, the GMLC) for the purpose of obtaining location information for one or more Mobile Stations. LCS Clients subscribe to LCS in order to obtain location information. LCS Clients may or may not interact with human users. The LCS Client is responsible for formatting and presenting data and managing the user interface (dialogue). The LCS Client may reside in the Mobile Station (UE).\nLCS QoS: The QoS class determines the degree of adherence to the quality of service information as required by the source of a location request.\nTarget: UE being positioned\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tSymbols",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the following symbols apply:\nSLg\tInterface between GMLC and MME\nLgd\tInterface between GMLC and SGSN\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.3\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\nDRMP\tDiameter Routing Message Priority\nEPC\tEnhanced Packet Core\nGMLC\tGateway Mobile Location Centre\nIMEI\tInternational Mobile Equipment Identity\nIMS\tIP Multimedia Subsystem\nIMSI\tInternational Mobile Subscriber Identity\nMME\tMobility Management Entity\nTTTP\tTransfer To Third Party\nUE\tUser Equipment, as defined in 3GPP TS 23.032 [3]\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tFunctional Overview",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This document defines the EPC LCS Protocol (ELP) used on the SLg interface between the GMLC and the MME and on the Lgd interface between the GMLC and the SGSN in the Evolved Packet Core (EPC).\nThe location of the SLg interface within the LCS logical architecture is shown in Figure 4.1-1.\nThe figure depicts the SLg interface in the LCS (Layer 2 Control and Switching) architecture, illustrating the various components and their connections. The diagram includes the SLg interface, which is a crucial component for managing network traffic and ensuring efficient data transmission. The figure also shows the connection between the SLg interface and the LCS, highlighting the interconnection between the two layers. The figure is a visual representation of the LCS architecture, providing a clear understanding of its structure and components.\nFigure 4.1-1 SLg interface in the LCS Architecture\nThe location of the Lgd interface within the LCS logical architecture is shown in Figure 4.1-2.\nThe figure depicts the LCS (Layer 2 Control and Signaling) interface in the LGS (Layer 2 Gateway Switching) architecture, illustrating the various components and their connections.\nFigure 4.1-2 Lgd interface in the LCS Architecture\nThe high level functions of the ELP protocol are described in 3GPP TS 23.271 [2].\nThe main functions of the protocol are:\n-\tTo allow the GMLC to request position estimates for a particular target UE from the MME or SGSN in order to support the EPC-MT-LR or PS-MT-LR positioning procedures. This is achieved using the Provide Subscriber Location message;\n-\tTo allow the MME or SGSN to return a position estimate or an error report to the GMLC in response to a Provide Subscriber Location request as part of an EPC-MT-LR or PS-MT-LR positioning procedure;\n-\tTo allow the MME to forward an unsolicited position estimate to the GMLC as part of the EPC-MO-LR or EPC-NI-LR procedures. This is achieved using the Subscriber Location Report message;\n-\tTo allow the SGSN to forward an unsolicited position estimate to the GMLC as part of the PS-MO-LR, PS-NI-LR or periodic MO-LR TTTP procedures. This is achieved using the Subscriber Location Report message;\n-\tTo allow the GMLC to acknowledge receipt of an unsolicited position estimate as part of the EPC-MO-LR, EPC-NI-LR, PS-MO-LR, PS-NI-LR or periodic MO-LR TTTP procedures;\n-\tTo allow the GMLC to request position estimates for a particular target UE from the SGSN or MME as part of the deferred MT-LR procedure. This is achieved using the Provide Subscriber Location message;\n-\tTo allow the SGSN or MME to acknowledge receipt of position estimate request to the GMLC as part of a deferred MT-LR procedure;\n-\tTo support the procedures for handover of an IMS emergency call with EPS/GPRS access.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tELP Message Transport",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The ELP protocol is defined as a Vendor Specific diameter application (SLg application). It reuses the basic mechanisms defined by the Diameter base protocol as specified in IETF RFC 6733 [23], and it defines a number of additional commands and AVPs to implement the SLg, Lgd specific procedures.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tUse of Diameter base protocol",
                    "description": "",
                    "summary": "",
                    "text_content": "The Diameter base protocol as specified in IETF RFC 6733 [23] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as described in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.3\tSecuring Diameter Messages",
                    "description": "",
                    "summary": "",
                    "text_content": "For secure transport of Diameter messages, see 3GPP TS 33.210 [13].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.4\tAccounting functionality",
                    "description": "",
                    "summary": "",
                    "text_content": "Accounting functionality (Accounting Session State Machine, related command codes and AVPs) shall not be used on the SLg, Lgd interfaces.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.5\tUse of sessions",
                    "description": "",
                    "summary": "",
                    "text_content": "Between the MME and the GMLC and between the SGSN and the GMLC, Diameter sessions shall be implicitly terminated. An implicitly terminated session is one for which the server does not maintain state information. The client shall not send any re-authorization or session termination requests to the server.\nThe Diameter base protocol as specified in IETF RFC 6733 [23] includes the Auth-Session-State AVP as the mechanism for the implementation of implicitly terminated sessions.\nThe client (server) shall include in its requests (responses) the Auth-Session-State AVP set to the value NO_STATE_MAINTAINED (1), as described in IETF RFC 6733 [23]. As a consequence, the server shall not maintain any state information about this session and the client shall not send any session termination request. Neither the Authorization-Lifetime AVP nor the Session-Timeout AVP shall be present in requests or responses.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.6\tTransport protocol",
                    "description": "",
                    "summary": "",
                    "text_content": "Diameter messages over the SLg and Lgd interfaces shall make use of SCTP (see IETF RFC 4960 [14]).\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.7\tRouting considerations",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host.\nDestination-Realm AVP shall always be included in all diameter requests, and therefore is declared as mandatory in the ABNF for all commands.\nWhen a request is initiated by the GMLC, the name of the MME or SGSN shall be determined by querying the HSS over the SLh interface, and retrieve the specific MME or SGSN that is currently serving the UE. Therefore, Destination-Host AVP shall always be included in the commands originated at the GMLC, and is declared as mandatory in the ABNF.\nWhen a request is initiated by the MME or SGSN, the name of the GMLC may be either locally configured in the MME/SGSN (e.g., in the intra-domain scenario, when the GMLC belongs to the same PLMN as the MME/SGSN), or it is known from a previously received location procedure initiated at the GMLC. Therefore, the Destination-Host AVP is declared as mandatory in the ABNF of the commands originated at the MME or SGSN.\nIf the Vendor-Specific-Application-ID AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node, and it shall not be used for routing purposes.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.8\tAdvertising Application Support",
                    "description": "",
                    "summary": "",
                    "text_content": "The MME, SGSN and GMLC shall advertise support of the Diameter SLg Application by including the value of the application identifier in the Auth-Application-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe vendor identifier value of 3GPP (10415) shall be included in the Supported-Vendor-Id AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands, and in the Vendor-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe Vendor-Id AVP included in Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands that is not included in the Vendor-Specific-Application-Id AVPs as described above shall indicate the manufacturer of the Diameter node as per IETF RFC 6733 [23].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "6\tELP Procedures",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The ELP procedures, between the GMLC and the MME over SLg interface and between GMLC and SGSN over Lgd interface, are used to exchange messages related to location services. The ELP can be divided into the following sub-procedures.\n-\tProvide Subscriber Location\n-\tSubscriber Location Report\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "6.2\tProvide Subscriber Location",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tGeneral",
                            "text_content": "The Provide Subscriber Location operation is used by a GMLC to request the location of a target UE from the MME or SGSN at any time, as part of EPC-MT-LR or PS-MT-LR positioning procedures. The response contains a location estimate of the target UE and other additional information.\nThe Provide Subscriber Location operation is also used by a GMLC to request the location of the target UE from the SGSN or MME at any time, as part of deferred MT-LR procedure. The response contains the acknowledgment of the receipt of the request and other additional information.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tSuccessful Operation",
                            "text_content": "\nThe figure depicts a detailed procedure for providing a subscriber location, highlighting the steps involved in successful operation. It includes the use of a GPS receiver, a network interface controller (NIC), and a subscriber location service (SLS). The figure also illustrates the communication between the NIC and the SLS, as well as the steps to configure the GPS receiver and the network.\nFigure 6.2.2-1: Provide Subscriber Location procedure. Successful operation.\nThe GMLC initiates the procedure by sending a PROVIDE SUBSCRIBER LOCATION REQUEST message to the MME or SGSN. This message carries the type of location information requested (e.g. current location and optionally, velocity), the UE subscriber's IMSI, LCS QoS information (e.g. accuracy, response time), an indication of whether the LCS client has the override capability, and an indication of whether delayed location reporting for UEs transiently not reachable (e.g. UEs in extended idle mode DRX or Power Saving Mode) is supported as specified in clauses 9.1.6 and 9.1.15 of 3GPP TS 23.271 [2]. The message also carries an LCS reference number, if delayed location reporting is supported. For deferred MT-LR procedure, additionally, the message carries Deferred location type, LCS reference number, H-GMLC address, periodic LDR info, triggered LDR info, etc.\nUpon reception of PROVIDE SUBSCRIBER LOCATION REQUEST message, the MME or SGSN shall perform authentication privacy verification on the location request. After that, for EPC-MT-LR or PS-MT-LR procedures the MME or SGSN shall retrieve the location information of the target UE from E-UTRAN or UTRAN/GERAN according to the procedures described in 3GPP TS 23.271 [2]. For a deferred EPC-MT-LR procedure, the MME shall wait until the UE becomes reachable before performing authentication privacy verification on the location request and instigating periodic or triggered location in the UE.\nThe MME or SGSN returns a PROVIDE SUBSCRIBER LOCATION RESPONSE to the GMLC. For EPC-MT-LR or PS-MT-LR procedures, if the target UE is transiently not reachable and delayed location reporting for UEs transiently not reachable is supported, the message shall contain an indication that the UE is transiently not reachable; otherwise the message shall contain the location estimate, its age and obtained accuracy. If the MME or SGSN failed to get the current location and the LCS client is requesting the current or last known location, the MME or SGSN may return the last known location of the target UE if this is known.\nFor a deferred EPC-MT-LR procedure for periodic or triggered location, the MME returns a PROVIDE SUBSCRIBER LOCATION RESPONSE to the GMLC to indicate that the MME is able and willing to support the procedure. After the MME has performed successful authentication privacy verification on the location request and successfully instigated periodic or triggered location in the UE, the MME returns a SUBSCRIBER LOCATION REPORT to the GMLC to indicate that periodic or triggered location has been activated in the UE. The MME (or a different MME) returns additional SUBSCRIBER LOCATION REPORT messages to the GMLC (or possibly to a different GMLC if not the HGMLC) for each periodic or triggered location event detected by the UE. For details, refer to 3GPP TS 23.271 [2].\nIf the GMLC has received indication from the HSS indicating the combined MME/SGSN node supporting the optimized LCS procedure (see 3GPP TS 29.173 [18] clause 5.2.1.2) and if the GMLC also supports optimized LCS procedure, the GMLC shall set the \"Optimized-LCS-Proc-Req\" bit within the PLR-Flags of the PROVIDE SUBSCRIBER LOCATION REQUEST message during EPC-MT-LR and/or PS-MT-LR procedures. When the combined MME/SGSN receives this message with \"Optimized-LCS-Proc-Req\" bit within the PLR-Flags set, the combined MME/SGSN shall perform EPC-MT-LR or PS-MT-LR procedure depending upon the knowledge of the current RAT type of the UE. E.g. if the UE is in active mode in E-UTRAN, the combined MME/SGSN shall perform only EPC-MT-LR procedure; if the ISR activated UE is in idle mode, the combined MME/SGSN shall perform the paging followed by either EPC-MT-LR or PS-MT-LR procedure (depending upon the RAT where the UE is active). Hence, the combined MME/SGSN shall perform optimized LCS procedure to retrieve the location information of the target UE from either E-UTRAN or UTRAN/GERAN.\nThe combined MME/SGSN shall return a PROVIDE SUBSCRIBER LOCATION RESPONSE to the GMLC. If the target UE is transiently not reachable and delayed location reporting for UEs transiently not reachable is supported, the message shall contain an indication that the UE is transiently not reachable; otherwise the message shall contain the location estimate, its age and obtained accuracy. If the combined MME/SGSN failed to get the current location and the LCS client is requesting the current or last known location, the combined MME/SGSN should return the latest of the last known EPS or UTRAN/GERAN location of the target UE if this is known. In both the cases, the combined MME/SGSN may set \"Optimized-LCS-Proc-Performed\" bit within PLA-Flags, if it has performed optimized LCS procedure.\n\nThis procedure is mapped to the commands Provide-Location-Request/Answer in the Diameter application specified in clauses 7.3.1 and 7.3.2.\nTable 6.2.2-1: Provide Subscriber Location Request\n\nTable 6.2.2-2: Provide Subscriber Location Answer\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.2-1: Provide Subscriber Location Request",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.2.2-2: Provide Subscriber Location Answer",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.3\tUnsuccessful Operation",
                            "text_content": "On receipt of a PROVIDE SUBSCRIBER LOCATION RESPONSE with a Result-Code or Experimental-Result AVP indicating failure the GMLC considers the positioning request as failed.\nIf the GMLC receives \"Optimized-LCS-Proc-Performed\" bit within PLA-Flags set, it shall assume that the combined MME/SGSN has either performed EPC-MT-LR or PS-MT-LR procedure to retrieve the location of the target UE. And hence, it need not send another PROVIDE SUBSCRIBER LOCATION REQUEST message to the combined MME/SGSN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.3\tSubscriber Location Report",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.3.1\tGeneral",
                            "text_content": "The Subscriber Location Report operation is used by an MME or SGSN to provide the location of a target UE to a GMLC, when a request for location has been implicitly issued or when a Delayed Location Reporting is triggered after receipt of a request for location for a UE transiently not reachable.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.2\tSuccessful Operation",
                            "text_content": "\nThe figure depicts a detailed procedure for a subscriber location report, highlighting the steps involved in successful operation. It includes a step-by-step guide on how to access the report, input the required information, and submit the report. The figure also provides a visual representation of the report's layout, ensuring that the user can easily understand the process.\nFigure 6.3.2-1: Subscriber Location Report procedure. Successful operation.\nThe MME or SGSN initiates the procedure by sending a SUBSCRIBER LOCATION REPORT message to the GMLC. The message may carry the identity of the UE, the location estimate and its age, and the event causing the location report.\nUpon reception of SUBSCRIBER LOCATION REPORT message, the GMLC shall return a SUBSCRIBER LOCATION REPORT ACK to the MME or SGSN and process the location report accordingly, e.g. transfer of the location estimate to an external LCS Client according to procedure described in 3GPP TS 23.271 [2].\nIf the Location-Event indicates a DEFERRED_LR_RESPONSE then the Location-Estimate shall not be sent if the LCS-Supported-GAD-Shapes had been received in Provide Subscriber Location request and the shape encoded in Location-Estimate was not marked as supported in LCS-Supported-GAD-Shapes. In such a case Termination-Cause in Deferred-MT-LR-Data shall be present with value SHAPE_OF_LOCATION_ESTIMATE_NOT_SUPPORTED.\nIf the Location-Event indicates a HANDOVER_TO_5GC, the Subscriber Location Report shall include Location-Event, UE identifies and AMF ID as target node information, EPC-GMLC identifies the handover by Location-Event and target AMF.\nThis procedure is mapped to the commands Location-Report-Request/Answer in the Diameter application specified in clauses 7.3.3 and 7.3.4.\nTable 6.3.2-1: Subscriber Location Report\n\nTable 6.3.2-2: Subscriber Location Report Ack\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.3.2-1: Subscriber Location Report",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.3.2-2: Subscriber Location Report Ack",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.3.3\tUnsuccessful Operation",
                            "text_content": "If for some reason the GMLC does not accept the SUBSCRIBER LOCATION REPORT APDU, the GMLC shall send a SUBSCRIBER LOCATION REPORT ACK message with a Result-Code or Experimental-Result AVP indicating failure.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "7\tELP Messages and Message Formats",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "7.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The Diameter base protocol as specified in IETF RFC 6733 [23] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as specified in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified.\nThis clause specifies a Diameter application that allows a Diameter server and a Diameter client:\n-\tto retrieve the location information of a target UE\n-\tto report the location information of a target UE\nThe SLg/Lgd interface protocol is defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the SLg interface application is 16777255 (allocated by IANA).\nThe Lgd interface uses the Diameter application identifier defined for the SLg interface application.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "7.2\tMessage Formats",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause defines Command-Code values for the SLg interface application. These Command-Code values are applicable for the SLg and Lgd interfaces.\nEvery command is defined by means of the ABNF syntax IETF RFC 2234 [5], according to the Command Code Format (CCF) specification defined in IETF RFC 6733 [23]. If the definition and use of an AVP is not specified in this document, the guidelines IETF RFC 6733 [23] shall apply.\nFor these commands, the Application-ID field shall be set to16777255 (application identifier of the SLg interface application).\nThe Vendor-Specific-Application-Id AVP shall not be included in any command sent by Diameter nodes supporting applications defined in this specification. If the Vendor-Specific-Application-Id AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node.\nNOTE:\tThe Vendor-Specific-Application-Id is included as an optional AVP in all Command Code Format specifications defined in this specification in order to overcome potential interoperability issues with intermediate Diameter agents non-compliant with IETF RFC 6733 [23].\nThe following Command Codes are defined in this specification:\nTable 7.2-1: Command-Code values\n\n",
                    "tables": [
                        {
                            "description": "Table 7.2-1: Command-Code values",
                            "table number": 7,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "7.3\tELP Messages",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.3.1\tProvide-Location-Request (PLR) Command",
                            "text_content": "The Provide-Location-Request (PLR) command, indicated by the Command-Code field set to 8388620 and the 'R' bit set in the Command Flags field, is sent by the GMLC in order to request subscriber location to the MME or SGSN.\nMessage Format\n< Provide-Location-Request> ::=\t< Diameter Header: 8388620, REQ, PXY, 16777255 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ SLg-Location-Type }\n[ User-Name ]\n[ MSISDN ]\n[ IMEI ]\n{ LCS-EPS-Client-Name }\n{ LCS-Client-Type }\n[ LCS-Requestor-Name ]\n[ LCS-Priority ]\n[ LCS-QoS ]\n[ Velocity-Requested ]\n[ LCS-Supported-GAD-Shapes ]\n[ LCS-Service-Type-ID ]\n[ LCS-Codeword ]\n[ LCS-Privacy-Check-Non-Session ]\n[ LCS-Privacy-Check-Session ]\n[ Service-Selection ]\n[ Deferred-Location-Type ]\n[ LCS-Reference-Number ]\n[ Area-Event-Info ]\n[ GMLC-Address ]\n[ PLR-Flags ]\n[ Periodic-LDR-Information ]\n[ Reporting-PLMN-List ]\n[ Motion-Event-Info ]\n*[ Supported-Features ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.2\tProvide-Location-Answer (PLA) Command",
                            "text_content": "The Provide-Location-Answer (PLA) command, indicated by the Command-Code field set to 8388620 and the 'R' bit cleared in the Command Flags field, is sent by the MME or SGSN to the GMLC in response to the Provide-Location-Request command.\nMessage Format\n< Provide-Location-Answer > ::=\t< Diameter Header: 8388620, PXY, 16777255 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Location-Estimate ]\n[ Accuracy-Fulfilment-Indicator ]\n[ Age-Of-Location-Estimate]\n[ Velocity-Estimate ]\n[ EUTRAN-Positioning-Data]\n[ ECGI ]\n[ GERAN-Positioning-Info ]\n[ Cell-Global-Identity ]\n[ UTRAN-Positioning-Info ]\n[ Service-Area-Identity ]\n[ Serving-Node ]\n[ PLA-Flags ]\n[ ESMLC-Cell-Info ]\n[ Civic-Address ]\n[ Barometric-Pressure ]\n*[ Supported-Features ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.3\tLocation-Report-Request (LRR) Command",
                            "text_content": "The Location-Report-Request (LRR) command, indicated by the Command-Code field set to 8388621 and the 'R' bit set in the Command Flags field, is sent by the MME or SGSN in order to provide subscriber location data to the GMLC.\nMessage Format\n< Location-Report-Request> ::=\t< Diameter Header: 8388621, REQ, PXY, 16777255 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ Location-Event }\n[ LCS-EPS-Client-Name ]\n[ User-Name ]\n[ MSISDN]\n[ IMEI ]\n[ Location-Estimate ]\n[ Accuracy-Fulfilment-Indicator ]\n[ Age-Of-Location-Estimate ]\n[ Velocity-Estimate ]\n[ EUTRAN-Positioning-Data ]\n[ ECGI]\n[ GERAN-Positioning-Info ]\n[ Cell-Global-Identity ]\n[ UTRAN-Positioning-Info ]\n[ Service-Area-Identity ]\n[ LCS-Service-Type-ID ]\n[ Pseudonym-Indicator ]\n[ LCS-QoS-Class ]\n[ Serving-Node ]\n[ LRR-Flags ]\n[ LCS-Reference-Number ]\n[ Deferred-MT-LR-Data]\n[ GMLC-Address ]\n[ Reporting-Amount ]\n[ Periodic-LDR-Information ]\n[ ESMLC-Cell-Info ]\n[ 1xRTT-RCID ] ]\n[ Delayed-Location-Reporting-Data ]\n[ Civic-Address ]\n[ Barometric-Pressure ]\n*[ Supported-Features ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.3.4\tLocation-Report-Answer (LRA) Command",
                            "text_content": "The Location-Report-Answer (LRA) command, indicated by the Command-Code field set to 8388621 and the 'R' bit cleared in the Command Flags field, is sent by the GMLC to the MME or SGSN in response to the Location-Report-Request command.\nMessage Format\n< Location-Report-Answer > ::=\t< Diameter Header: 8388621, PXY, 16777255>\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ GMLC-Address ]\n[ LRA-Flags ]\n[ Reporting-PLMN-List ]\n[ LCS-Reference-Number ]\n*[ Supported-Features ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.4\tInformation Elements",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.4.1\tGeneral",
                            "text_content": "The following table describes the Diameter AVPs defined for the SLg interface protocol, their AVP Code values, types, possible flag values and whether the AVP may or not be encrypted.\nFor all AVPs which contain bit masks and are of the type Unsigned32, bit 0 shall be the least significant bit. For example, to get the value of bit 0, a bit mask of 0x00000001 should be used.\nTable 7.4.1-1: Diameter ELP Application AVPs\n\nTable 7.4.1-2: Diameter ELP Application reused AVPs\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.4.1-1: Diameter ELP Application AVPs",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 7.4.1-2: Diameter ELP Application reused AVPs",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.4.2\tSLg-Location-Type",
                            "text_content": "The SLg-Location-Type AVP is of type Enumerated. The following values are defined:\nCURRENT_LOCATION (0)\nCURRENT_OR_LAST_KNOWN_LOCATION (1)\nINITIAL_LOCATION (2)\nACTIVATE_DEFERRED_LOCATION (3)\nCANCEL_DEFERRED_LOCATION (4)\nNOTIFICATION_VERIFICATION_ONLY (5)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.3\tLCS-EPS-Client-Name",
                            "text_content": "The LCS-EPS-Client-Name AVP is of type Grouped.\nAVP format:\nLCS-EPS-Client-Name ::= <AVP header: 2501 10415>\n[ LCS-Name-String ]\n[ LCS-Format-Indicator ]\nThe details of the LCS-Name-String AVP and the LCS-Format-Indicator AVP are described in 3GPP TS 32.299 [10].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.4\tLCS-Requestor-Name",
                            "text_content": "The LCS-Requestor-Name AVP is of type Grouped.\nAVP format:\nLCS-Requestor-Name ::= <AVP header: 2502 10415>\n[ LCS-Requestor-Id-String ]\n[ LCS-Format-Indicator ]\nThe details of the LCS-Requestor-Id-String AVP and the LCS-Format-Indicator AVP are described in 3GPP TS 32.299 [10].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.5\tLCS-Priority",
                            "text_content": "The LCS-Priority AVP is of type Unsigned32. It indicates the priority of the location request. The value 0 shall indicate the highest priority, and the value 1 shall indicate normal priority. All other values shall be treated as 1 (normal priority). For details, refer to 3GPP TS 22.071 [15].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.6\tLCS-QoS",
                            "text_content": "The LCS-QoS AVP is of type Grouped.\nAVP format:\nLCS-QoS ::= <AVP header: 2504 10415>\n[ LCS-QoS-Class ]\n [ Horizontal-Accuracy ]\n[ Vertical-Accuracy ]\n[ Vertical-Requested ]\n[ Response-Time]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.7\tHorizontal-Accuracy",
                            "text_content": "The Horizontal-Accuracy AVP is of type Unsigned32. Bits 6-0 corresponds to Uncertainty Code defined in 3GPP TS 23.032 [3]. The horizontal location error should be less than the error indicated by the uncertainty code with 67% confidence. Bits 7 to 31 shall be ignored.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.8\tVertical-Accuracy",
                            "text_content": "The Vertical-Accuracy AVP is of type Unsigned32. Bits 6-0 corresponds to Uncertainty Code defined in 3GPP TS 23.032 [3]. The vertical location error should be less than the error indicated by the uncertainty code with 67% confidence. Bits 7 to 31 shall be ignored.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.9\tVertical-Requested",
                            "text_content": "The Vertical-Requested AVP is of type Enumerated. The following values are defined:\nVERTICAL_COORDINATE_IS_NOT REQUESTED (0)\nVERTICAL_COORDINATE_IS_REQUESTED (1)\nDefault value if AVP is not present is: VERTICAL_COORDINATE_IS_NOT_REQUESTED (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.10\tVelocity-Requested",
                            "text_content": "The Velocity-Requested AVP is of type Enumerated. The following values are defined:\nVELOCITY_IS_NOT_REQUESTED (0)\nVELOCITY_IS_REQUESTED (1)\nDefault value if AVP is not present is: VELOCITY_IS_NOT_REQUESTED (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.11\tResponse-Time",
                            "text_content": "The Response-Time AVP is of type Enumerated. The following values are defined:\nLOW_DELAY (0)\nDELAY_TOLERANT (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.12\tSupported-GAD-Shapes",
                            "text_content": "The Supported-GAD-Shapes AVP is of type Unsigned32 and it shall contain a bitmask.\nA node shall mark in the BIT STRING all Shapes defined in 3GPP TS 23.032 [3] it supports.\nBits 10-0 in shall indicate the supported Shapes defined in 3GPP TS 23.032 [3]. Bits 11 to 31 shall be ignored.\nellipsoidPoint (0)\nellipsoidPointWithUncertaintyCircle (1)\nellipsoidPointWithUncertaintyEllipse (2)\npolygon (3)\nellipsoidPointWithAltitude (4)\nellipsoidPointWithAltitudeAndUncertaintyElipsoid (5)\nellipsoidArc (6)\nhighAccuracyEllipsoidPointWithUncertaintyEllipse (7)\nhighAccuracyEllipsoidPointWithAltitudeAndUncertaintyEllipsoid (8)\nhighAccuracyEllipsoidPointWithScalableUncertaintyEllipse (9)\nhighAccuracyEllipsoidPointWithAltitudeAndScalableUncertaintyEllipsoid (10)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.13\tLCS-Codeword",
                            "text_content": "The LCS-Codeword AVP is of type UTF8String. It indicates the potential codeword string to send in a notification message to the UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.14\tLCS-Privacy-Check",
                            "text_content": "The LCS-Privacy-Check AVP is of type Enumerated. The following values are defined:\nALLOWED_WITHOUT_NOTIFICATION (0)\nALLOWED_WITH_NOTIFICATION (1)\nALLOWED_IF_NO_RESPONSE (2)\nRESTRICTED_IF_NO_RESPONSE (3)\nNOT_ALLOWED (4)\nDefault value if AVP is not present is: ALLOWED_WITHOUT_NOTIFICATION (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.15\tAccuracy-Fulfilment-Indicator",
                            "text_content": "The Accuracy-Fulfilment-Indicator AVP is of type Enumerated. The following values are defined:\nREQUESTED_ACCURACY_FULFILLED (0)\nREQUESTED_ACCURACY_NOT_FULFILLED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.16\tAge-Of-Location-Estimate",
                            "text_content": "The Age-Of-Location-Estimate AVP is of type Unsigned32. It indicates how long ago the location estimate was obtained in minutes, as indicated in 3GPP TS 29.002 [19].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.17\tVelocity-Estimate",
                            "text_content": "The Velocity-Estimate AVP is of type OctetString. It is composed of 4 or more octets with an internal structure according to 3GPP TS 23.032 [3].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.18\tEUTRAN-Positioning-Data",
                            "text_content": "The EUTRAN-Positioning-Data AVP is of type OctetString. It shall contain the encoded content of the \"Positioning-Data\" Information Element as defined in 3GPP TS 29.171 [7].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.19\tECGI",
                            "text_content": "The ECGI AVP is of type OctetString. It indicates the E-UTRAN Cell Global Identifier. It is coded according to clause 8.21.5, in 3GPP TS 29.274 [8].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.20\tLocation-Event",
                            "text_content": "The Location-Event AVP is of type Enumerated. The following values are defined:\nEMERGENCY_CALL_ORIGINATION (0)\nEMERGENCY_CALL_RELEASE (1)\nMO_LR (2)\nEMERGENCY_CALL_HANDOVER (3)\nDEFERRED_MT_LR_RESPONSE (4)\nDEFERRED_MO_LR_TTTP_INITIATION (5)\nDELAYED_LOCATION_REPORTING (6)\nHANDOVER_TO_5GC (7)\nDEFERRED_MT_LR_RESPONSE is applicable to the delivery of an event report and/or a location estimate for an LDR initiated earlier by either the network (via an MT-LR activate deferred location) or the UE (via a periodic MO-LR TTTP initiation for a UE with UTRAN access).\nDELAYED_LOCATION_REPORTING is applicable to the delivery of a location estimate for an EPC-MT-LR or PS-MT-LR initiated earlier by the network for a UE which was transiently not reachable.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.21\tPseudonym-Indicator",
                            "text_content": "The Pseudonym-Indicator AVP is of type Enumerated. It defines if a pseudonym is requested. The following values are defined:\nPSEUDONYM_NOT_REQUESTED (0)\nPSEUDONYM_REQUESTED (1)\nDefault value if AVP is not present is: PSEUDONYM_NOT_REQUESTED (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.22\tLCS-Service-Type-ID",
                            "text_content": "The LCS-Service-Type-ID is of type Unsigned32. It defines the identifier associated to one of the Service Types for which the LCS client is allowed to locate the particular UE.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.23\tLCS-Privacy-Check-Non-Session",
                            "text_content": "The LCS-Privacy-Check-Non-Session AVP is of type Grouped.\nAVP format:\nLCS-Privacy-Check-Non-Session ::= <AVP header: 2521 10415>\n{ LCS-Privacy-Check }\nDefault value if AVP is not present is that AVP LCS-Privacy-Check take value: ALLOWED_WITHOUT_NOTIFICATION (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.24\tLCS-Privacy-Check-Session",
                            "text_content": "The LCS-Privacy-Check-Session AVP is of type Grouped.\nAVP format:\nLCS-Privacy-Check-Session ::= <AVP header: 2522 10415>\n{ LCS-Privacy-Check }\nDefault value if AVP is not present is that AVP LCS-Privacy-Check take value: NOT_ALLOWED (4).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.25\tFeature-List-ID",
                            "text_content": "The syntax of this AVP is defined in 3GPP TS 29.229 [17]. For this release, the Feature-List-ID AVP value shall be set to 1.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.26\tFeature-List",
                            "text_content": "The syntax of this AVP is defined in 3GPP TS 29.229 [17]. A null value indicates that there is no feature used by the application.\nNOTE:\tThere are no features defined for this release.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.27\tLCS-QoS-Class",
                            "text_content": "The LCS-QoS-Class AVP is of the type Enumerated. The following values are defined.\nASSURED (0)\nBEST EFFORT (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.28\tServing-Node",
                            "text_content": "The Serving-Node AVP is of type Grouped. This AVP shall contain the information about the network node serving the targeted user.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.29\tGERAN-Positioning-Info",
                            "text_content": "The GERAN-Positioning-Info AVP is of type Grouped.\nAVP format:\nGERAN-Positioning-Info ::= <AVP header: 2524 10415>\n[ GERAN-Positioning-Data ]\n[ GERAN-GANSS-Positioning-Data ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.30\tGERAN-Positioning-Data",
                            "text_content": "The GERAN-Positioning-Data AVP is of type OctetString. It shall contain the encoded content of the \"Positioning Data\" Information Element as defined in 3GPP TS 49.031 [20].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.31\tGERAN-GANSS-Positioning-Data",
                            "text_content": "The GERAN-GANSS-Positioning-Data AVP is of type OctetString. It shall contain the encoded content of the \"GANSS Positioning Data\" Information Element as defined in 3GPP TS 49.031 [20].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.32\tUTRAN-Positioning-Info",
                            "text_content": "The UTRAN-Positioning-Info AVP is of type Grouped.\nAVP format:\nUTRAN-Positioning-Info ::= <AVP header: 2527 10415>\n[ UTRAN-Positioning-Data ]\n[ UTRAN-GANSS-Positioning-Data ]\n[ UTRAN-Additional-Positioning-Data ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.33\tUTRAN-Positioning-Data",
                            "text_content": "The UTRAN-Positioning-Data AVP is of type OctetString. It shall contain the encoded content of the \"positioningDataDiscriminator\" and the \"positioningDataSet\" included in the \"positionData\" Information Element as defined in 3GPP TS 25.413 [21].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.34\tUTRAN-GANSS-Positioning-Data",
                            "text_content": "The UTRAN-GANSS-Positioning-Data AVP is of type OctetString. It shall contain the encoded content of the \"GANSS-PositioningDataSet\" only, included in the \"positionData\" Information Element as defined in 3GPP TS 25.413 [21].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.35\tLRR-Flags",
                            "text_content": "The LRR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.4.35/1:\nTable 7.4.35/1: LRR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.4.35/1: LRR-Flags",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.4.36\tDeferred-Location-Type",
                            "text_content": "The Deferred-Location-Type AVP is of type Unsigned32 and it shall contain a bit mask. Each bit indicates a type of event, until when the location estimation is deferred. For details, please refer to 3GPP TS 23.271 [3] clause 4.4.2. The meaning of the bits shall be as defined in table 7.4.36/1:\nTable 7.4.36/1: Deferred-Location-Type\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.4.36/1: Deferred-Location-Type",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.4.37\tLCS-Reference-Number",
                            "text_content": "The LCS-Reference-Number AVP is of type OctetString of length 1. It shall contain the reference number identifying the deferred location request.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.38\tArea-Event-Info",
                            "text_content": "The Area-Event-Info AVP is of type Grouped.\nAVP format:\nArea-Event-Info ::= <AVP header: 2533 10415>\n{ Area-Definition }\n[ Occurrence-Info ]\n[ Interval-Time ]\n[ Maximum-Interval ]\n[ Sampling-Interval ]\n[ Reporting-Duration ]\n[ Reporting-Location-Requirements ]\n*[ AVP ]\nIf not included, the default value of Occurrence-Info shall be considered as \"ONE_TIME_EVENT\" (0). Interval-Time and Maximum-Interval AVPs are only applicable when the Occurrence-Info is set to \"MULTIPLE_TIME_EVENT\" (1). If not included, the default value of Interval-Time shall be considered as one and the default values of Maximum-Interval, Sampling-Interval and Reporting-Duration shall each be considered as the maximum value.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.39\tArea-Definition",
                            "text_content": "The Area-Definition AVP is of type Grouped.\nAVP format:\nArea-Definition ::= <AVP header: 2534 10415>\n1*10{ Area }\n*240[ Additional-Area ]\n*[ AVP ]\nFor a PS-MT-LR over the Lgd interface, the Additional-Area AVP shall not be included.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.40\tArea",
                            "text_content": "The Area AVP is of type Grouped.\nAVP format:\nArea ::= <AVP header: 2535 10415>\n{ Area-Type }\n{ Area-Identification }\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.41\tArea-Type",
                            "text_content": "The Area-Type AVP is of type Unsigned32. The following values are defined:\n\"Country Code\"\t0\n\"PLMN ID\"\t1\n\"Location Area ID\"\t2\n\"Routing Area ID\"\t3\n\"Cell Global ID\"\t4\n\"UTRAN Cell ID\"\t5\n\"Tracking Area ID\"\t6\n\"E-UTRAN Cell Global ID\"\t7\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.42\tArea-Identification",
                            "text_content": "The Area-Identification AVP is of type OctetString and shall contain the identification of the area applicable for the change of area event based deferred location reporting. For Area-Type 0 to 5, octets are coded as described in 3GPP TS 29.002 [24]. For Area-Type 6, octets are coded as defined for the Tracking Area Identity area identification in 3GPP TS 24.080 [24]. For Area-Type 7, octets are coded as defined for the ECGI area identification in 3GPP TS 24.080 [24]. For a deferred EPC-MT-LR for the area event, only Area-Type 6 and 7 are applicable.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.43\tOccurrence-Info",
                            "text_content": "The Occurrence-Info AVP is of type Enumerated. The following values are defined:\nONE_TIME_EVENT (0)\nMULTIPLE_TIME_EVENT (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.44\tInterval-Time",
                            "text_content": "The Interval-Time AVP is of type Unsigned32 and it contains the minimum time interval between area reports or motion reports, in seconds. The minimum value shall be 1 second and the maximum value 32767 seconds.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.45\tPeriodic-LDR-Info",
                            "text_content": "The Periodic-LDR-Info AVP is of type Grouped.\nAVP format:\nPeriodic-LDR-Info ::= <AVP header: 2540 10415>\n{ Reporting-Amount }\n{ Reporting-Interval }\n*[ AVP ]\nReporting-Interval x Rreporting-Amount shall not exceed 8639999 (99 days, 23 hours, 59 minutes and 59 seconds) for compatibility with OMA MLP and RLP.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.46\tReporting-Amount",
                            "text_content": "The Reporting-Amount AVP is of type Unsigned32 and it contains reporting frequency. Its minimum value shall be 1 and maximum value shall be 8639999.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.47\tReporting-Interval",
                            "text_content": "The Interval-Time AVP is of type Unsigned32 and it contains reporting interval in seconds. Its minimum value shall be 1 and maximum value shall be 8639999.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.48\tReporting-PLMN-List",
                            "text_content": "The Reporting-PLMN-List AVP is of type Grouped.\nAVP format:\nReporting-PLMN-List ::= <AVP header: 2543 10415>\n1*20{ PLMN-ID-List }\n[ Prioritized-List-Indicator ]\n*[ AVP ]\nIf not included, the default value of Prioritized-List-Indicator shall be considered as \"NOT_PRIORITIZED\" (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.49\tPLMN-ID-List",
                            "text_content": "The PLMN-ID-List AVP is of type Grouped.\nAVP format:\nPLMN-ID-List ::= <AVP header: 2544 10415>\n{ Visited-PLMN-Id }\n[ Periodic-Location-Support-Indicator ]\n*[ AVP ]\nIf not included, the default value of Periodic-Location-Support-Indicator shall be considered as \"NOT_SUPPORTED\" (0).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.50\tPeriodic-Location-Support-Indicator",
                            "text_content": "The Periodic-Location-Support-Indicator AVP is of type Enumerated and it indicates if the given PLMN-ID (indicated by Visited-PLMN-Id) supports periodic location or not. The following values are defined:\nNOT_SUPPORTED (0)\nSUPPORTED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.51\tPrioritized-List-Indicator",
                            "text_content": "The Prioritized-List-Indicator AVP is of type Enumerated and it indicates if the PLMN-ID-List is provided in prioritized order or not. The following values are defined:\nNOT_PRIORITIZED  (0)\nPRIORITIZED (1)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.52\tPLR-Flags",
                            "text_content": "The PLR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.4.52/1:\nTable 7.4.52/1: PLR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.4.52/1: PLR-Flags",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.4.53\tPLA-Flags",
                            "text_content": "The PLA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.4.53/1:\nTable 7.4.53/1: PLA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.4.53/1: PLA-Flags",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.4.54\tDeferred-MT-LR-Data",
                            "text_content": "The Deferred-MT-LR-Data AVP is of type Grouped.\nAVP format:\nDeferred-MT-LR-Data ::= <AVP header: 2547 10415>\n{ Deferred-Location-Type }\n[ Termination-Cause ]\n[ Serving-Node ]\n*[ AVP ]\nServing-Node may be included only when the Termination-Cause is present indicating MT_LR_RESTART.\nThe Serving-Node refers to the node where the UE has moved to and shall be included, if available.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.55\tTermination-Cause",
                            "text_content": "The Termination-Cause AVP is of type Unsigned32. The following values are defined:\n\"Normal\"\t\t0\n\"Error Undefined\"\t\t1\n\"Internal Timeout\"\t\t2\n\"Congestion\"\t\t3\n\"MT_LR_Restart\"\t\t4\n\"Privacy Violation\"\t\t5\n\"Shape of Location Estimate Not Supported\"\t6\n\"Subscriber Termination\"\t7\n\"UE Termination\"\t\t8\n\"Network Termination\"\t9\n\"MT_LR_Restart\" cause code shall be used to trigger the GMLC to restart the location procedure, either because the sending node knows that the terminal has moved under coverage of another SGSN or MME, or because the subscriber has been deregistered due to a Cancel Location received from HSS.\nAny unrecognized value of Termination-Cause shall be treated the same as value 1 (\"Error Undefined\").\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.56\tLRA-Flags",
                            "text_content": "The LRA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.4.56/1:\nTable 7.4.56/1: LRA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.4.56/1: LRA-Flags",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.4.57\tESMLC-Cell-Info",
                            "text_content": "The ESMLC-Cell-Info AVP is of type Grouped.\nAVP format:\nESMLC-Cell-Info ::= <AVP header: 2552 10415>\n[ ECGI ]\n[ Cell-Portion-ID ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.58\tCell-Portion-ID",
                            "text_content": "The Cell-Portion-ID AVP is of type Unsigned32. It indicates the current Cell Portion location of the target UE as provided by the E-SMLC. It shall contain the value of the \"Cell Portion ID\" Information Element as defined in 3GPP TS 29.171 [7].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.59\t1xRTT-RCID",
                            "text_content": "The 1xRTT-RCID AVP is of type OctetString. It indicates the 1xRTT Reference Cell Id that consists of a Cell Identification Discriminator and a Cell Identification and shall be formatted according to octets 3 through the end of the Cell Identifier element defined in clause 4.2.17 in 3GPP2 A.S0014-D [22]. The allowable cell discriminator values are \"0000 0010\", and \"0000 0111\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.60\tDelayed-Location-Reporting-Data",
                            "text_content": "The Delayed-Location-Reporting-Data AVP is of type Grouped.\nAVP format:\nDelayed-Location-Reporting-Data ::= <AVP header: 2555 10415>\n[ Termination-Cause ]\n[ Serving-Node ]\n*[ AVP ]\nServing-Node may be included only when the Termination-Cause is present indicating MT_LR_RESTART.\nThe Serving-Node refers to the node where the UE has moved to and shall be included, if available.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.61\tCivic-Address",
                            "text_content": "The Civic-Address AVP is of type UTF8String. It contains the XML document carried in the \"Civic Address\" Information Element as defined in 3GPP TS 29.171 [7].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.62\tBarometric-Pressure",
                            "text_content": "The Barometric-Pressure AVP is of type Unsigned32. It contains the \"Barometric Pressure\" Information Element as defined in 3GPP TS 29.171 [7].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.63\tUTRAN-Additional-Positioning-Data",
                            "text_content": "The UTRAN-Additional-Positioning-Data AVP is of type OctetString. It contains the \"UTRAN Additional Positioning Data\" Information Element as defined in 3GPP 25.413 [21].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.64\tMotion-Event-Info",
                            "text_content": "The Motion-Event-Info AVP is of type Grouped.\nAVP format:\nMotion-Event-Info ::= <AVP header: 2559 10415>\n{ Linear-Distance }\n[ Occurrence-Info ]\n[ Interval-Time ]\n[ Maximum-Interval ]\n[ Sampling-Interval ]\n[ Reporting-Duration ]\n[ Reporting-Location-Requirements ]\n*[ AVP ]\nIf not included, the default value of Occurrence-Info shall be considered as \"ONE_TIME_EVENT\" (0). Interval-Time and Maximum-Interval AVPs are only applicable when the Occurrence-Info is set to \"MULTIPLE_TIME_EVENT\" (1). If not included, the default value of Interval-Time shall be considered as one and the default values of Maximum-Interval, Sampling-Interval and Reporting-Duration shall each be considered as the maximum value. The Motion-Event-Info AVP is only applicable to a deferred EPC-MT-LR.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.65\tLinear-Distance",
                            "text_content": "The Linear-Distance AVP is of type Unsigned32 and it contains the minimum linear (straight line) distance for motion event reports, in meters. The minimum value shall be 1 and maximum value shall be 10,000. The Linear-Distance AVP is only applicable to a deferred EPC-MT-LR.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.66\tMaximum-Interval",
                            "text_content": "The Maximum-Interval AVP is of type Unsigned32 and it contains the maximum time interval between consecutive event reports, in seconds. The minimum value shall be 1 second and the maximum value 86400 seconds. The Maximum-Interval AVP is only applicable to a deferred EPC-MT-LR.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.67\tSampling-Interval",
                            "text_content": "The Sampling-Interval AVP is of type Unsigned32 and it contains the maximum time interval between consecutive evaluations by a UE of an area event or motion event, in seconds. The minimum value shall be 1 second and the maximum value 3600 seconds. The Sampling-Interval AVP is only applicable to a deferred EPC-MT-LR.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.68\tReporting-Duration",
                            "text_content": "The Reporting-Duration AVP is of type Unsigned32 and it contains the maximum duration of event reporting, in seconds. Its minimum value shall be 1 and maximum value shall be 8640000. The Reporting-Duration AVP is only applicable to a deferred EPC-MT-LR.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.69\tReporting-Location-Requirements",
                            "text_content": "The Reporting-Location-Requirements AVP is of type Unsigned32 and it shall contain a bit string indicating requirements on location provision for a deferred EPC-MT-LR. When a bit is set to one, the corresponding requirement is present. When a bit is set to zero or when the AVP is omitted, the corresponding requirement is not present. For support of backward compatibility, a receiver shall ignore any bits that are set to one but are not supported\nThe meaning of the bits shall be as defined in table 7.4.69/1:\nTable 7.4.69/1: Reporting-Location-Requirements\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 7.4.69/1: Reporting-Location-Requirements",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "7.4.70\tAdditional-Area",
                            "text_content": "The Additional-Area AVP is of type Grouped.\nAVP format:\nAdditional-Area ::= <AVP header: 2565 10415>\n{ Area-Type }\n{ Area-Identification }\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.4.71\tAMF-Instance-Id",
                            "text_content": "The AMF-Instance-Id AVP is of type UTF8String and contain the AMF Instance ID. It is coded as the NfInstanceId according to clause 5.3.2-1, in 3GPP TS 29.571 [26].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "7.5\tResult-Code AVP and Experimental-Result AVP Values",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "7.5.1\tGeneral",
                            "text_content": "This clause defines result code values that shall be supported by all Diameter implementations that conform to this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.5.2\tSuccess",
                            "text_content": "Result codes that fall within the Success category shall be used to inform a peer that a request has been successfully completed. The Result-Code AVP values defined in the Diameter base protocol specified in IETF RFC 6733 [23] shall be applied.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.5.3\tPermanent Failures",
                            "text_content": "Errors that fall within the Permanent Failures category shall be used to inform the peer that the request has failed, and should not be attempted again. The Result-Code AVP values defined in the Diameter base protocol specified in IETF RFC 6733 [23]shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.\nThis result code shall be sent by the MME/SGSN to indicate that the user is unknown. This error code is defined in 3GPP TS 29.229 [17]\nThis result code shall be sent by the MME/SGSN to indicate that the requesting GMLC's network is not authorized to request UE location information.  This error code is defined in 3GPP TS 29.173 [18]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "7.5.4\tTransient Failures",
                            "text_content": "Errors that fall within the transient failures category are those used to inform a peer that the request could not be satisfied at the time that it was received. The request may be able to be satisfied in the future.\nThis result code shall be sent by the MME/SGSN to indicate that the user could not be reached in order to perform positioning procedure.\nThis result code shall be sent by the MME/SGSN to indicate that the user is suspended in the MME.\nThis result code shall be sent by the MME/SGSN to indicate that the user is detached in the MME.\nThis result code shall be sent by the MME/SGSN to indicate that the positioning procedure was denied.\nThis result code shall be sent by the MME/SGSN to indicate that the positioning procedure failed.\nThis result code shall be sent by the GMLC to indicate that the LCS Client was not known or could not be reached.\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}