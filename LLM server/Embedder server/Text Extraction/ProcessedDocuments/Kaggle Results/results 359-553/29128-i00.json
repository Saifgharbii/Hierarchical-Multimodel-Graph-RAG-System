{
    "document_name": "29128-i00.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document describes the Diameter-based interfaces between the SCEF/IWK-SCEF and other network entities such as MME/SGSN for the Architecture enhancements to facilitate communications with packet data networks and applications.\nIn particular, this document specifies the T6a interface between the MME and the SCEF, the T6ai interface between the MME and the IWK-SCEF, the T6b interface between the SGSN and the SCEF, the T6bi interface between the SGSN and the SCEF and the T7 interface between the SCEF and the IWK-SCEF. The procedures over those interfaces are defined in 3GPP TS 23.682 [2].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.682: \"Architecture enhancements to facilitate communications with packet data networks and applications \".\n[3]\tVoid.\n[4]\t3GPP TS 29.229: \"Cx and Dx interfaces based on the Diameter protocol; protocol details \".\n[5]\t3GPP TS 29.336: \"Home Subscriber Server (HSS) diameter interfaces for interworking with packet data networks and applications\".\n[6]\t3GPP TS 29.228: \"IP multimedia (IM) Subsystem Cx Interface; Signalling flows and Message Elements\".\n[7]\tIETF RFC 4960: \"Stream Control Transport Protocol\".\n[8]\tIETF RFC 5234: \"Augmented BNF for Syntax Specifications: ABNF\".\n[9]\tIETF RFC 7683: \"Diameter Overload Indication Conveyance\".\n[10]\t3GPP TS 29.212: \"Policy and Charging Control (PCC); Reference points\".\n[11]\t3GPP TS 25.413: \"UTRAN Iu interface Radio Access Network Application Part (RANAP) signalling\".\n[12]\t3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core Network Protocols; Stage 3\".\n[13]\t3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network (E-UTRAN); S1 Application Protocol (S1AP)\".\n[14]\t3GPP TS 48.018: \"General Packet Radio Service (GPRS); Base Station System (BSS) - Serving GPRS Support Node (SGSN); BSS GPRS protocol (BSSGP)\".\n[15]\tIETF RFC 7944: \"Diameter Routing Message Priority\".\n[16]\t3GPP TS 29.272: \"Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) related interfaces based on Diameter protocol\".\n[17]\t3GPP TS 29.329: \"Sh Interface based on the Diameter protocol; Protocol details\".\n[18]\tVoid.\n[19]\t3GPP TS 23.007: \"Restoration procedures\".\n[20]\t3GPP TS 32.299: \"Telecommunication management; Charging management; Diameter charging applications\".\n[21]\tIETF RFC 5778: \"Diameter Mobile IPv6: Support for Home Agent to Diameter Server Interaction\".\n[22]\t3GPP TS 32.299: \"Telecommunication management; Charging management; Diameter charging applications\".\n[23]\t3GPP TS 32.253: \"Telecommunication management; Charging management; Control Plane (CP) data transfer domain charging\".\n[24]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[25]\t3GPP TS 23.401: \"GPRS enhancements for E-UTRAN access\".\n[26]\t3GPP TS 29.172: \"Location Services (LCS); Evolved Packet Core (EPC) LCS Protocol (ELP) between the Gateway Mobile Location Centre (GMLC) and the Mobile Management Entity (MME); SLg interface\".\n[27]\t3GPP TS 29.338: \"Diameter based protocols to support SMS capable MMEs\".\n[28]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[29]\t3GPP TS 29.061: \"Interworking between the Public Land Mobile Network (PLMN) supporting packet based services and Packet Data Networks (PDN)\".\n[30]\t3GPP TS 32.298: \"Telecommunication Management; Charging Management; Charging Data  Record (CDR) parameter description\".\n[31]\tIETF RFC 8583: \"Diameter Load Information Conveyance\".\n[32]\tIETF RFC 6733: \"Diameter Base Protocol\".\n[33]\t3GPP TS 29.274: \" Evolved General Packet Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C)\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nDRMP\tDiameter Routing Message Priority\nDSCP\tDifferentiated Services Code Point\nSCEF\tService Capability Exposure Function\nIWK-SCEF\tInterworking - SCEF\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tGeneral Description",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The T6a/b reference point between the MME/SGSN and the SCEF, the T6ai/bi reference point between the MME/SGSN in the VPLMN and the IWK-SCEF and the T7 reference point between the IWK-SCEF and the SCEF are defined in the 3GPP TS 23.682 [2].\nThis document describes the Diameter-based T6a/b, T6ai/bi and T7 related procedures, message parameters and protocol specification.\nAn excerpt of the 3GPP Architecture for the enhancements to facilitate communications with packet data networks and applications, as defined in 3GPP TS 23.682 [2] is shown in Figure 4.1-1, where the relevant interfaces towards the SCEF/IWK-SCEF are highlighted.\nThe preceding context and figure name suggest that the telecommunication figure is related to the 3GPP architecture, which is a standard for 3G and 4G mobile networks. The figure shows the architecture of the 3GPP network, including the core switches, optical line terminals (OLTs), and distributed nodes. The layered design aligns with SDN principles, which is a network architecture that allows for the control and management of network resources through software.\nFigure 4.1-1: 3GPP Architecture for the enhancements to facilitate communications with packet data networks and applications\nIn this architecture, the T6a/b reference point connects the MME/SGSN with the SCEF.\nThe T6a/b interface shall allow the SCEF:\n-\tto receive reports of the monitoring events from the MME/SGSN configured via an HSS;\n-\tto configure the monitoring events at an MME/SGSN which are not UE related in the non roaming cases;\n-\tto manage a connection between the MME and the SCEF on T6a;\n-\tto send MT data on T6a;\n-\tto receive MO data on T6a.\nThe T6ai/bi reference point connects the MME/SGSN with the IWK-SCEF in the visited network, if the IWK-SCEF is deployed.\nThe T6ai/bi interface shall allow the IWK-SCEF to:\n-\tto receive configuration of the monitoring events from the MME or the SGSN and perform a filtering of the services which are allowed for this subscriber in this visited network based on roaming policies;\n-\tto receive reports of the monitoring events from the MME/SGSN that are configured via an HSS, perform a filtering and forward them to the SCEF (in the home network which has configured the event) via the T7 reference point;\n-\tto receive MO data on T6ai/bi and forward them to the SCEF;\n-\tto receive MT data and forward them to the MME on T6ai/bi;\n-\tto manage a connection between MME/SGSN and IWK-SCEF on T6ai/bi and forward connection management commands to the SCEF.\nThe T7 reference point connects the IWK-SCEF in the visited network with the SCEF in the home network.\nThe T7 interface shall allow the IWK-SCEF to:\n-\tto forward reports received on T6ai/bi to the SCEF indicated in the event report received on T6ai/T6bi;\n-\tto receive MO data on T6ai/bi and forward them to the SCEF on T7;\n-\tto receive MT data on T7 and forward them to the MME/SGSN;\n-\tto manage connection between the SCEF and the IWK-SCEF on T7 and forward connection management commands to the MME/SGSN.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tProcedures Description",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause describes the Diameter-based T6a, T6b, T6ai, T6bi and T7 interface related procedures and the Information elements exchanged between the functional entities.\nIn the tables that describe the Information Elements transported by each Diameter command, each Information Element is marked as (M) Mandatory, (C) Conditional or (O) Optional in the \"Cat.\" column. For the correct handling of the Information Element according to the category type, see the description detailed in clause 6 of the 3GPP TS 29.228 [6].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tReport Procedures",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tGeneral",
                            "text_content": "This procedure is used between the MME/SGSN and the SCEF, between the MME/SGSN and the IWK-SCEF and between the IWK-SCEF and the SCEF.\nWhen the procedure is invoked by the MME or the SGSN, it is used for reporting:\n-\tUE Loss of Connectivity;\n-\tUE Reachability;\n-\tLocation of the UE and change in location of the UE;\n-\tCommunication Failure;\n-\tAvailability after DNN failure;\n-\tIdle Status Indication;\n-\tPDN Connectivity Status.\nWhen the procedure is invoked by the IWK-SCEF, it is used for conveying the monitoring event reported by the MME or the SGSN to the SCEF, after applying the roaming policies configured at the IWK-SCEF.\nThis procedure is mapped to the commands Reporting-Information-Request/Answer in the Diameter application specified in clause 6. The tables 5.2.1-1 and 5.2.1-2 detail the involved information elements.\nTable 5.2.1-1: Reporting Information Request\n\nTable 5.2.1-2: Reporting Information Answer\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.1-1: Reporting Information Request",
                                    "table number": 3,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.2.1-2: Reporting Information Answer",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.2\tDetailed Behaviour of the MME/SGSN",
                            "text_content": "The MME/SGSN shall fill the Monitoring-Event-Report AVP according to the event reported as specified below. For all monitoring events, the SCEF-ID, the SCEF-Reference-ID/SCEF-Reference-ID-Ext and the Monitoring-Type AVPs shall be included. In addition, the event specific AVPs as listed below shall be included based on the type of event reported.\nThe MME/SGSN shall include the External-Identifier or the MSISDN if present in the subscription data received from the HSS.\nIf the MME/SGSN receives an Experimental-Result-Code set to DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN within an RIA command, it shall delete the event stored for the indicated SCEF-ID and SCEF-Reference-ID/SCEF-Reference-ID-Ext (see 3GPP TS 23.007 [19]).\nThe following AVPs shall be present within the Monitoring-Event-Report AVP when the UE Loss of Connectivity event is reported:\n-\tMonitoring-Type set to LOSS_OF_CONNECTIVITY (0)\nThe following AVPs may be present within the Monitoring-Event-Report AVP when the UE Loss of Connectivity event is reported:\n-\tLoss-Of-Connectivity-Reason set to one of the values defined in 3GPP TS 29.336 [5]\nThe following AVPs shall be present within the Monitoring-Event-Report AVP when the UE Reachability event is reported:\n-\tMonitoring-Type set to either UE_REACHABILITY (1) or UE_REACHABILITY_AND_IDLE_STATUS_INDICATION (8), as received in the configuration request.\n-\tReachability-Information set to REACHABLE_FOR_DATA(1)\nThe following AVPs may be present within the Monitoring-Event-Report AVP when the UE Reachability event is reported:\n-\tMaximum-UE-Availability-Time\n-\tReachability-Cause\nNOTE:\tWhen the Monitoring-Type is UE_REACHABILITY_AND_IDLE_STATUS_INDICATION (8), absence of the Idle-Status-Indication AVP from the Monitoring-Event-Report AVP indicates that UE reachability is reported.\nThe following AVPs shall be present within the Monitoring-Event-Report AVP when the location event is reported:\n-\tMonitoring-Type set to LOCATION_REPORTING (2)\n-\tEPS-Location-Information\nThe following AVPs shall be present within the Monitoring-Event-Report AVP when the Communication Failure event is reported\n-\tMonitoring-Type set to COMMUNICATION_FAILURE (5)\n-\tCommunication-Failure-Information (see clause 6.4.3)\nThe following AVPs shall be present within the Monitoring-Event-Report AVP when the Availablability after DDN failure event is reported:\n-\tMonitoring-Type set to either AVAILABILITY_AFTER_DDN_FAILURE (6) or AVAILABILITY_AFTER_DNN_FAILURE_AND_IDLE_STATUS_INDICATION (9), as received in the configuration request.\nNOTE:\tWhen the Monitoring-Type is AVAILABILITY_AFTER_DNN_FAILURE_AND_IDLE_STATUS_INDICATION (9), absence of the Idle-Status-Indication AVP from the Monitoring-Event-Report AVP indicates that Availability after DNN failure is reported.\nThe following AVPs shall be present within the Monitoring-Event-Report AVP when the Idle Status Indication event is reported:\n-\tMonitoring-Type set to UE_REACHABILITY_AND_IDLE_STATUS_INDICATION (8) or to AVAILABILITY_AFTER_DDN_FAILURE_AND_IDLE_STATUS_INDICATION (9), depending on the Monitoring-Type of the corresponding event configuration.\n-\tIdle-Status-Indication\nThe following AVPs shall be present within the Monitoring-Event-Report AVP when the PDN Connectivity Status event is reported:\n-\tMonitoring-Type set to PDN_CONNECTIVITY_STATUS (8)\n-\tPDN-Connectivity-Status-Report\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.3\tDetailed Behaviour of the SCEF",
                            "text_content": "When the SCEF receives a Reporting Information Request from the MME/SGSN or the IWK-SCEF and at least one of the Monitoring Event Report AVPs has a SCEF-Reference-ID/SCEF-Reference-ID-Ext not known by the SCEF, it shall reply with Experimental-Result-Code set to DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN (see 3GPP TS 23.007 [19]). In that case, if the HSS had included multiple Monitoring Event Reports in the RIR command, the SCEF shall include in the Reporting Information Answer command a list of Monitoring-Event-Report-Status AVPs where the status of multiple monitoring event reports is detailed. In that AVP list, the AVPs corresponding to event reports with a successful status may be omitted by the SCEF, for efficiency.\nOtherwise when the SCEF receives a Reporting-Information-Request command from the MME/SGSN or the IWK-SCEF, the SCEF shall set Result-Code to DIAMETER_SUCCESS in the Reporting-Information-Answer and shall handle it according to the procedures defined in 3GPP TS 23.682 [2].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.4\tDetailed Behaviour of the IWK-SCEF",
                            "text_content": "When the IWK-SCEF receives a Reporting-Information-Request command from the MME/SGSN it shall deliver the request to the SCEF after applying the roaming policies configured at the IWK-SCEF, as specified in 3GPP TS 23.682 [2].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.3\tEvent Configuration Procedure",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.3.1\tGeneral",
                            "text_content": "This procedure is used between the SCEF and the MME and between the SCEF and the SGSN to configure the monitoring events directly at the MME/SGSN through the T6a/b interface.\nWhen the procedure is invoked by the SCEF, it is used for configuring the event(s):\n-\tthe number of UEs at a given geographic location.\nThis procedure is mapped to the commands Configuration-Information-Request/Answer in the Diameter application specified in clause 6. The tables 5.3.1-1 and 5.3.1-2 detail the involved information elements.\nTable 5.3.1-1: Configuration Information Request\n\nTable 5.3.1-2: Configuration Information Answer\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.3.1-1: Configuration Information Request",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.3.1-2: Configuration Information Answer",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.3.2\tDetailed Behaviour of the MME/SGSN",
                            "text_content": "Monitoring Events configuration and deletion directly at the MME/SGSN for roaming scenarios is not supported. For the non roaming cases, when the Configuration-Information-Request is received from the SCEF, the MME/SGSN shall, in the following order:\n1.\tCheck whether the requesting SCEF is authorized to request the specified service (e.g: number of UEs at a given geographic location). If not, Experimental-Result-Code shall be set to DIAMETER_ERROR_UNAUTHORIZED_REQUESTING_ENTITY (5510) in the Configuration-Information-Answer.\n2.\tIf the TA / RA / ECGI location requested by the SCEF is not served by the MME/SGSN, then the MME/SGSN shall set the Experimental-Result AVP to DIAMETER_ERROR_REQUESTED_LOCATION_NOT_SERVED (5650) in the Configuration-Information-Answer.\nIf there is an error in any of the above steps then the MME/SGSN shall stop processing and shall return the error code specified in the respective step.\nIf the MME/SGSN cannot fulfil the received request for reasons not stated above, it shall stop processing the request and set Result-Code to DIAMETER_UNABLE_TO_COMPLY.\nIf CIR message includes multiple SCEF Reference IDs (either in SCEF-Reference-ID or in SCEF-Reference-ID-Ext AVPs) and for a SCEF Reference ID the monitoring events cannot be handled, the MME/SGSN shall report the failed SCEF Reference ID to the SCEF with an appropriate status in the Monitoring-Event-Config-Status AVP.\nFor the number of UEs in a geographic location monitoring event, for each SCEF-Reference-ID that the MME/SGSN is able to successfully process, the MME/SGSN shall\n-\tif filtering is not requested (i.e. IMSI-Group-Id was not present in the request) or not supported:\ninclude in the Configuration-Information-Answer, the exact count of the number of UEs that are known to be at the requested location.\n-\tif filtering is requested and (i.e. IMSI-Group-Id was present in the request) and supported:\ninclude in the Configuration-Information-Answer, the exact count of the number of UEs belonging to the provided IMSI Group that are known to be at the requested location.\nIf the requested location type is current location, then the MME/SGSN may activate the paging and RAN location reporting procedures (if required) before providing the response in the Configuration-Information-Answer.\nIf the monitoring event configuration is for a continuous monitoring (i.e. Monitoring-Duration and/or Maximum-Number-Of-Reports are set) and the deletion criteria are met (i.e. Monitoring-Duration time expired and/or Maximum-Number-Of-Reports are sent) the MME/SGSN shall locally delete the Monitoring event.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.3.3\tDetailed Behaviour of the IWK-SCEF",
                            "text_content": "Monitoring Events configuration and deletion directly at the MME/SGSN for roaming scenarios is not supported. Consequently the IWK-SCEF is not impacted for Monitoring Events configuration and deletion directly at the MME/SGSN from the SCEF.5.3.4\tDetailed Behaviour of the SCEF\nWhen the SCEF receives Monitoring Event Report AVP from the MME/SGSN or the IWK-SCEF in the CIA command, it shall handle it according to the procedures defined in 3GPP TS 23.682 [2].\nWhen the SCEF receives a Monitoring Event Report AVP from the MME/SGSN with a SCEF-Reference-ID/SCEF-Reference-ID-Ext not known by the SCEF, it should discard the Monitoring Event Report received in CIA command.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.4\tEvent Configuration Procedure for Roaming",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.4.1\tGeneral",
                            "text_content": "The MME/SGSN shall send the monitoring event configuration information to the IWK-SCEF in roaming scenarios, when the MME/SGSN receives the monitoring event configuration from the HSS. The monitoring event configuration information as received in the Monitoring-Event-Configuration AVP shall be locally consumed at the IWK-SCEF and the IWK-SCEF shall not route such information s beyond it.\nThis procedure is mapped to the commands Configuration-Information-Request/Answer in the Diameter application specified in clause 6. The tables 5.4.1-1 and 5.4.1-2 detail the involved information elements.\nTable 5.4.1-1: Configuration-Information-Request\n\nTable 5.4.1-2: Configuration-Information-Answer\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.4.1-1: Configuration-Information-Request",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.4.1-2: Configuration-Information-Answer",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.4.2\tDetailed Behaviour of the IWK-SCEF",
                            "text_content": "When the Configuration-Information-Request is received from the MME/SGSN, the IWK-SCEF shall, in the following order:\n1.\tCheck whether the requesting SCEF, identified by the SCEF-ID is authorized to request the specified service at the VPLMN. If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_REQUESTING_ENTITY (5510) in the Configuration-Information-Answer.\n2.\tCheck whether the chargeable party for the monitoring event is authorized to be charged at the VPLMN. If not, Experimental-Result shall be set to DIAMETER_ERROR_UNAUTHORIZED_REQUESTING_ENTITY (5510) in the Configuration-Information-Answer.\nIf the Configuration-Information-Request also carries the monitoring event report, the IWK-SCEF checks if the immediate events reported by the MME/SGSN needs to be normalized. If yes, the IWK-SCEF shall normalize the event report as per local policies. The IWK-SCEF shall then send the normalized monitoring event report towards the SCEF as a separate Reporting-Information-Request message.\nIf the monitoring event configuration is for a continuous monitoring (i.e. Monitoring-Duration and/or Maximum-Number-Of-Reports are set), then the IWK-SCEF shall temporarily store the monitoring event configuration until the deletion criteria for the monitoring event configuration is met. If the deletion criteria are met, the IWK-SCEF shall delete the Monitoring event locally. The stored monitoring event configuration information shall be used during subsequent monitoring event report procedure, to generate the charging records towards the right chargeable party.\nIf the received SCEF Reference ID for Deletion (either in SCEF-Reference-ID-for-Deletion or in SCEF-Reference-ID-for-Deletion-Ext AVPs) does not exist, the IWK-SCEF shall set the Experimental-Result-Code to DIAMETER_ERROR_CONFIGURATION_EVENT_NON_EXISTANT (5514).\nIf the SCEF Reference ID (either in SCEF-Reference-ID or in SCEF-Reference-ID-Ext) exists and the old configuration data could not be replaced by new Configuration event data, the HSS shall set the Experimental-Result-Code to DIAMETER_ERROR_CONFIGURATION_EVENT_STORAGE_NOT_SUCCESSFUL (5513).\nIf the IWK-SCEF cannot fulfil the received request for reasons not stated in the above, it shall stop processing the request and set Result-Code to DIAMETER_UNABLE_TO_COMPLY.\nThe details how to handle expiring of Monitoring events is described in 3GPP TS 23.682 [2]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.4.3\tDetailed Behaviour of the MME/SGSN",
                            "text_content": "When the MME/SGSN receives the Configuration-Information-Answer from the IWK-SCEF, it shall handle it as follows: For the monitoring event configurations for which the configuration status have changed since last informed to the HSS, the MME/SGSN shall report the status to the HSS through a Notify-Request command as specified in clause 5.2.5 of 3GPP TS 29.272 [16].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.5\tMO-Data Procedure",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.5.1\tGeneral",
                            "text_content": "This procedure shall be used between the MME/SGSN and the SCEF, between the MME/SGSN and the IWK-SCEF and between the IWK-SCEF and the SCEF.\nWhen the procedure is invoked by the MME or SGSN, it is used to forward mobile originated Non-IP data of a mobile user from the MME or SGSN to the SCEF. The procedure is also invoked by the MME on reception of RRC cause \"MO Exception data\".\nThis procedure is used according to 3GPP TS 23.682 [2] clause 5.13.4.\nThe IWK-SCEF may be in the path between the MME/SGSN and the SCEF for roaming cases when the IWK-SCEF is deployed by the operator of the visited PLMN.\nWhen the procedure is invoked by the IWK-SCEF, it is used to forward mobile originated Non-IP data received from the MME or SGSN to the SCEF.\nThis procedure is mapped to the commands MO-Data-Request/Answer (ODR/ODA) in the Diameter application specified in clause 6.\nThe tables 5.5.1-1 and 5.5.1-2 detail the involved information elements.\nTable 5.5.1-1: MO Data Request\n\nTable 5.5.1-2: MO Data Answer\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.5.1-1: MO Data Request",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.5.1-2: MO Data Answer",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.5.2\tDetailed Behaviour of the MME/SGSN",
                            "text_content": "The MME shall make use of this procedure over a T6a connection identified by its EPS bearer identity and previously established with the SCEF to forward the Non-IP data received from the UE to the SCEF or to an IWK-SCEF when deployed for a roaming case.\nThe SGSN shall make use of this procedure over a T6b connection identified by the NSAPI of the PDP context, and previously established with the SCEF, to forward the Non-IP data received from the UE to the SCEF or to an IWK-SCEF when deployed for a roaming case.\nThe MME shall increment the \"MO Exception data counter\" by one each time the MME has received the RRC cause \"MO Exception data\". The MME may defer sending a MO Data command message to report a non-zero value for the MO Exception Data Counter based on local configuration.\nIf the MME has sent the RRC-Cause-Counter for RRC Cause \"MO Exception data\" in the MO Data Request command the MME shall reset the RRC-Cause-Counter when receiving MO Data Answer command.\nWhen receiving a Permanent Failure Result-Code/Experimental-Result, the MME or SGSN shall initiate a PDN disconnection procedure or Detach procedure towards the UE and if the permanent failure is different from DIAMETER_ERROR_ INVALID_EPS_BEARER and different from DIAMETER_ERROR_USER_UNKNOWN, the MME or SGSN shall make use of the \"Connection Management by MME/SGSN\" Procedure (see clause 5.7) to release the T6a/b connection between the MME/SGSN and the SCEF.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.5.3\tDetailed Behaviour of the SCEF",
                            "text_content": "When the SCEF receives a MO Data Request from the MME/SGSN or the IWK-SCEF, the SCEF shall, in the following order:\n-\tCheck that the User Identity exists in the SCEF. If not, Experimental-Result shall be set to DIAMETER_ERROR_USER_UNKNOWN in the MO Data Answer;\n-\tCheck if, for this user, a bearer context exists. If not, Experimental-Result shall be set to DIAMETER_ERROR_ INVALID_EPS_BEARER in the MO Data Answer;\n-\tProcess the delivery of the data (if available) to the SCS/AS and/or process the RRC Cause Counter (if available). If the processing of either of them is not successful, return an appropriate Diameter error code, otherwise return a Result code set to DIAMETER_SUCCESS to the MME/SGSN or IWK-SCEF. If the data delivery to the SCS/AS has failed due to there being no NIDD configuration context with an SCS/AS, set the Experimental-Result to DIAMETER_ERROR_NIDD_CONFIGURATION_NOT_AVAILABLE in the MO Data Answer.\nNOTE:\tThe Diameter Result-Code / Experimental-Result returned by the SCEF can depend on the error returned by the SCS/AS to the SCEF. The interface between the SCEF and the SCS/AS is out of scope of 3GPP.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.5.4\tDetailed Behaviour of the IWK-SCEF",
                            "text_content": "When the IWK-SCEF receives a MO Data Request from the MME or SGSN, it shall forward the request to the SCEF.\nWhen the IWK-SCEF receives a MO Data Answer from the SCEF, it shall forward the answer to the MME or SGSN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.6\tMT Data Procedure",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.6.1\tGeneral",
                            "text_content": "This procedure shall be used between the SCEF and the MME or SGSN, between the SCEF and the IWK-SCEF and between the IWK-SCEF and the MME or SGSN.\nWhen the procedure is invoked by the SCEF, it is used to forward mobile terminated Non-IP data of a mobile user from the SCEF to the MME or SGSN.\nThis procedure is used according to 3GPP TS 23.682 [2] clause 5.13.3.\nThe IWK-SCEF may be in the path between the SCEF and the MME/SGSN for roaming cases when the IWK-SCEF is deployed by the operator of the visited PLMN.\nWhen the procedure is invoked by the IWK-SCEF, it is used to forward mobile terminated Non-IP data received from the SCEF to the MME or SGSN.\nThis procedure is mapped to the commands MT-Data-Request/Answer (TDR/TDA) in the Diameter application specified in clause 6.\nThe tables 5.6.1-1 and 5.6.1-2 detail the involved information elements.\nNOTE:\tThe corresponding message name in 3GPP TS 23.682 [2] is \"NIDD Submit Request\".\nTable 5.6.1-1: MT Data Request\n\nTable 5.6.1-2: MT Data Answer\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.6.1-1: MT Data Request",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.6.1-2: MT Data Answer",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.6.2\tDetailed Behaviour of the SCEF",
                            "text_content": "The SCEF shall make use of this procedure over a T6a connection identified by its EPS Bearer Identity, and previously established with the MME, to forward the Non-IP data received from the SCS/AS to the MME or to an IWK-SCEF when deployed for a roaming case.\nThe SCEF shall make use of this procedure over a T6b connection identified by the NSAPI of the PDP context, and previously established with the SGSN, to forward the Non-IP data received from the SCS/AS to the SGSN or to an IWK-SCEF when deployed for a roaming case.\nThe SCEF shall check if a bearer context exists for the user before sending the request.\nThe SCEF may include the Maximum-Retransmission-Time AVP in the MT Data Request to indicate the maximum retransmission time for when it is capable to retransmit the Non-IP Data.\nIf the MT Data Answer includes the Requested-Retransmission-Time AVP, the SCEF shall retransmit the MT Non-IP Data at the requested retransmission time.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.6.3\tDetailed Behaviour of the MME/SGSN",
                            "text_content": "When the MME or SGSN receives a MT Data Request from the SCEF or the IWK-SCEF, the MME or SGSN shall, in the following order:\n-\tCheck that the User Identity exists in the MME or SGSN. If not, Experimental-Result shall be set to DIAMETER_ERROR_USER_UNKNOWN in the MT Data Answer;\n-\tCheck whether, for this user, a bearer context exists. If not, Experimental-Result shall be set to DIAMETER_ERROR_ INVALID_EPS_BEARER in the MT Data Answer.\n-\tProcess the data delivery to the UE and:\n-\tif it is successful, return a Result code set to DIAMETER_SUCCESS to the SCEF or IWK-SCEF; in addition, if the successful delivery was acknowledged by the eNodeB, the MME/SGSN shall set the \"Success Acknowledged Delivery\" bit within the TDA-Flags AVP.\n-\treturn an Experimental-Result set to DIAMETER_ERROR_USER_TEMPORARILY_UNREACHABLE, if the UE is using a power saving function (e.g. extended idle mode DRX or UE Power Saving Mode as defined in 3GPP TS 23.682 [27]) and the UE is expected to not be reachable shortly or, based on MME or SGSN implementation, within the time indicated by the SCEF-Wait-Time;\n\nThe MME or SGSN shall set the Not Reachable for NIDD flag and store the SCEF Host and Realm for which this flag is set;\n\nIf the MT Data Request includes the Maximum-Retransmission-Time AVP, the MME or SGSN may additionally include the Requested-Retransmission-Time AVP requesting the SCEF to retransmit the Non-IP Data at a later time prior to the Maximum Retransmission Time;\n\nThe MME or SGSN shall then update the SCEF, as specified in clause 5.7, when it detects that the UE is reachable or about to become reachable and the Not Reachable for NIDD flag is set. If the MME or SGSN included the Requested-Retransmission-Time AVP in the MT Data Answer, the MME or SGSN shall do so only if the UE becomes reachable before the Requested Retransmission Time, i.e. the MME or SGSN shall reset the Not Reachable for NIDD flag when the Requested-Retransmission-Time expires if the UE has not become reachable beforehand;\n-\treturn an Experimental-Result set to DIAMETER_ERROR_UNREACHABLE_USER, if the UE is not reachable;\n-\totherwise return an appropriate Diameter error code.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.6.4\tDetailed Behaviour of the IWK-SCEF",
                            "text_content": "When the IWK-SCEF receives a MT Data Request from the SCEF, it shall forward the request to the MME or SGSN.\nWhen the IWK-SCEF receives a MT Data Answer from the MME or SGSN, it shall forward the answer to the SCEF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.7\tConnection Management by MME/SGSN Procedure.",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.7.1\tGeneral",
                            "text_content": "This procedure shall be used between the MME/SGSN and the SCEF, between the MME/SGSN and the IWK-SCEF and between the IWK-SCEF and the SCEF.\nWhen the procedure is invoked by the MME or SGSN, it is used:\n-\tto establish a T6a/b connection between the MME/SGSN and the SCEF;\n-\tto update the parameters (e.g. RAT-Type) for a T6a/b connection between the MME/SGSN and the SCEF;\n-\tto update the status of a T6a/b connection between the MME/SGSN and the SCEF, e.g. to indicate to the SCEF that the UE has become or is about to become reachable when MT non-IP data is pending at the SCEF for a UE using a power saving function;\nThis procedure is used according to 3GPP TS 23.682 [2] clause 5.13.1 and 5.13.5 and 5.13.6. The IWK-SCEF may be in the path between the MME/SGSN and the SCEF for roaming cases when the IWK-SCEF is deployed by the operator of the visited PLMN.\nWhen the procedure is invoked by the IWK-SCEF, it is used to forward the Connection Management Request received from the MME or SGSN to the SCEF.\nThis procedure is mapped to the commands Connection-Management-Request/Answer (CMR/CMA) in the Diameter application specified in clause 6.\nThe tables 5.7.1-1 and 5.7.1-2 detail the involved information elements.\nTable 5.7.1-1: Connection Management Request\n\nTable 5.7.1-2: Connection Management Answer\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.7.1-1: Connection Management Request",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.7.1-2: Connection Management Answer",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.7.2\tDetailed Behaviour of the MME/SGSN",
                            "text_content": "The MME or SGSN shall make use of this procedure to request one of the following T6a/b connection management actions:\n-\tfor a T6a/b connection establishment, the MME shall:\n-\tinclude the user's IMSI.\n-\tfill the EPS Bearer Identity information element with either the identity of the EPS bearer that MME allocated to the Non-IP PDN connection, or the NSAPI of the PDP context used by the SGSN for the Non-IP connection, as described in 3GPP TS 23.682 [2];\n-\tif Serving PLMN Rate Control is configured, the MME shall include the Serving PLMN Rate Control information as described in 3GPP TS 23.401 [25];\n-\tfor a T6a/b connection release, the MME or SGSN shall:\n-\tfill the EPS Bearer Identity information element with the identity of the EPS bearer of the T6a connection, or the NSAPI of the PDP context of the T6b connection, which is released as described in 3GPP TS 23.682 [2];\n-\tupon getting the Connection Management Answer from the SCEF, delete the T6a/b connection context;\n-\tfor a T6a/b connection update, the MME or SGSN shall:\n-\tfill the EPS Bearer Identity information element with the identity of the EPS bearer of the T6a connection, or the NSAPI of the PDP context of the T6b connection, that needs to be updated;\n-\tset the UE-Reachable-Indicator in the CMR-Flags AVP if the UE has become or is about to become reachable. The MME or SGSN may additionally include the Maximum UE Availability Time AVP, if available, to indicate the timestamp (in UTC) until which a UE using a power saving mechanism (such as extended idle mode DRX) is expected to be reachable for MT Non-IP Data Delivery;\n-\tupon getting the Connection Management Answer from the SCEF, reset the Not Reachable for NIDD flag if this flag was set and if the UE-Reachable-Indicator was set in the CMR-Flags AVP in the Connection Management Request;\n-\tif Serving PLMN Rate Control needs to be added or updated, the MME shall include Serving PLMN Rate Control information as described in 3GPP TS 23.401 [25].\nNOTE:\tIf the UE has several T6a/b connections to the same SCEF, for which Non-IP data is pending, the MME or SGSN initiates a T6a/b connection update for only one of the T6a/b connections towards this SCEF; the UE can have either T6a or T6b connections, but not both simultaneously.\nIf the MME or SGSN receives the Extended-PCO AVP in the Connection Management Answer from the SCEF, the MME or SGSN shall forward the Extended-PCO to the UE transparently, as specified in 3GPP TS 24.301 [28].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.7.3\tDetailed Behaviour of the SCEF",
                            "text_content": "When the SCEF receives a Connection Management Request from the MME or SGSN the SCEF shall, in the following order:\n-\tcheck that the User Identity exists in the SCEF. If not, Experimental-Result shall be set to DIAMETER_ERROR_USER_UNKNOWN in the Connection Management Answer;\n-\tcheck that the T6a/b connection action indicates a T6a/b connection establishment, a T6a/b connection release or a T6a/b connection update. If not, the Experimental-Result shall be set to DIAMETER_ERROR_OPERATION_NOT_ALLOWED in the Connection Management Answer;\n-\tif the T6a/b connection action indicates a T6a/b connection establishment:\n-\tcheck whether a valid NIDD configuration exists for the UE at the SCEF;\nIf not, the SCEF shall:\n-\treject the Connection Management Request, with Experimental-Result set to DIAMETER_ERROR_NIDD_CONFIGURATION_NOT_AVAILABLE in the Connection Management Answer, or\n-\taccept the Connection Management Request, and initiate a NIDD Configuration procedure with a default SCS/AS configured in the SCEF and the MSISDN or an external ID obtained from the HSS, as specified in 3GPP TS 29.336 [5] clause 7.2.3.2. If such NIDD Configuration procedure fails, the SCEF shall reject the Connection Management Request, with Experimental-Result set to DIAMETER_ERROR_NIDD_CONFIGURATION_NOT_AVAILABLE in the Connection Management Answer;\n-\tcreate an EPS bearer context;\n-\tstore the MME or SGSN Identity identified by the Origin-Host AVP of the T6a/b Connection Management Request, and the MME or SGSN realm identified by the Origin-Realm AVP of the T6a/b Connection Management Request in the EPS bearer context;\n-\tinclude the Extended-PCO AVP in the Connection Management Answer, if the Extended PCO information (e.g. APN Rate Control information) needs to be provided to the UE;\n-\tif Serving PLMN Rate Control is provided by the MME, restrict the number of messages for the downlink to not exceed the values provided in Serving PLMN Rate Control. If it is not provided and Serving PLMN Rate Control is active, then continue using the previously provided values;\n-\tIf successful, Result shall be set to DIAMETER_SUCCESS in the Connection Management Answer;\n-\tif the T6a/b connection action indicates a T6a/b connection release:\n-\tcheck whether, for this user and the received EPS bearer ID, a T6a connection context exists. If not, Experimental-Result shall be set to DIAMETER_ERROR_INVALID_EPS_BEARER in the Connection Management Answer;\n-\tinclude the Extended-PCO AVP in the Connection Management Answer, if the Extended PCO information needs to be provided to the UE;\n-\tdelete the T6a/b connection context at the SCEF. If successful, Result code shall be set to DIAMETER_SUCCESS in the Connection Management Answer;\n-\tif the T6a/b connection action indicates a T6a connection update:\n-\tcheck whether, for this user and the received EPS Bearer Identity, a T6a/b connection context exists. If not, Experimental-Result shall be set to DIAMETER_ERROR_INVALID_EPS_BEARER in the Connection Management Answer;\n-\tif successful:\n-\tif Serving PLMN Rate Control is provided by the MME, restrict the number of messages for the downlink to not exceed the values provided in Serving PLMN Rate Control. If it is not provided and Serving PLMN Rate Control is active, then continue using the previously provided values;\n-\tinclude the Extended-PCO AVP in the Connection Management Answer, if the Extended PCO information (e.g. APN Rate Control information) needs to be provided to the UE;\n-\tstore the MME or SGSN Identity identified by the Origin-Host AVP of the T6a/b Connection Management Request and the MME or SGSN realm identified by the Origin-Realm AVP of the T6a/b Connection Management Request, if the MME or SGSN identity has changed, in the bearer context, and the Result shall be set to DIAMETER_SUCCESS in the Connection Management Answer;\n-\tif the UE-Reachable-Indicator was set in the CMR-Flags AVP, forward any MT Non-IP data pending for any T6a/b connection for this UE, to the MME or SGSN.\nIf the Serving-PLMN-Rate-Control AVP is included in the Connection Management Request message from the MME, the SCEF shall enforce the Serving PLMN Rate Control as specified in 3GPP TS 23.401 [12] clause 4.7.7.2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.7.4\tDetailed Behaviour of the IWK-SCEF",
                            "text_content": "When the IWK-SCEF receives a Connection Management Request from the MME or SGSN, it shall forward the request to the SCEF.\nWhen the IWK-SCEF receives a Connection Management Answer from the SCEF, it shall forward the answer to the MME or SGSN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "5.8\tConnection Management by SCEF Procedure",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.8.1\tGeneral",
                            "text_content": "This procedure shall be used between the SCEF and the MME/SGSN, and between the SCEF and the MME/SGSN via the IWK-SCEF acting as a Diameter proxy agent for roaming cases.\nWhen the procedure is invoked by the SCEF, it is used\n-\tto update the parameters (e.g. Extended PCO information) associated to a T6a/b connection between the MME/SGSN and the SCEF;\n-\tto release a T6a/b connection between MME/SGSN and SCEF.\nThis procedure is used according to 3GPP TS 23.682 [2]. The IWK-SCEF may be in the path between the MME/SGSN and the SCEF for roaming cases when the IWK-SCEF is deployed by the operator of the visited PLMN.\nThis procedure is mapped to the commands Connection-Management-Request/Answer (CMR/CMA) in the Diameter application specified in clause 6.\nThe tables 5.8.1-1 and 5.8.1-2 detail the involved information elements.\nTable 5.8.1-1: Connection Management SCEF Request\n\nTable 5.8.1-2: Connection Management SCEF Answer\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.8.1-1: Connection Management SCEF Request",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 5.8.1-2: Connection Management SCEF Answer",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.8.2\tDetailed Behaviour of the SCEF",
                            "text_content": "The SCEF shall make use of this procedure to send the updated Extended PCO information (e.g. APN Rate Control information) to the UE during T6a/b connection update, if needed. If APN Rate Control Control information is included in the Extended-PCO AVP within the Connection Management SCEF Request message from the SCEF, the SCEF shall enforce the APN Rate Control as specified in 3GPP TS 23.401 [12] clause 4.7.7.3.\nThe SCEF shall make use of this procedure to request the release of the T6a/b connection.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.8.3\tDetailed Behaviour of the MME/SGSN",
                            "text_content": "When the MME or SGSN receives a Connection Management SCEF Request from the SCEF or the IWK-SCEF, the MME or SGSN shall, in the following order:\n-\tcheck that the User Identity exists in the MME or SGSN. If not, Experimental-Result shall be set to DIAMETER_ERROR_USER_UNKNOWN in the Connection Management SCEF Answer;\n-\tcheck that the T6a/b connection action indicates a T6a/b connection update or T6a/b connection release. If not, the Experimental-Result shall be set to DIAMETER_ERROR_OPERATION_NOT_ALLOWED in the Connection Management SCEF Answer;\n-\tcheck whether, for this user and the received EPS Bearer Identity, a T6a/b connection context exists. If not, Experimental-Result shall be set to DIAMETER_ERROR_ INVALID_EPS_BEARER in the Connection Management SCEF Answer;\n-\tif the T6a/b connection action indicates a T6a/b connection update:\n-\tif the Extended-PCO AVP is received, forward the Extended-PCO to the UE, as specified in 3GPP TS 24.301[28]. If successful, the Result code shall be set to DIAMETER_SUCCESS in the Connection Management SCEF Answer.\n-\tif the T6a/b connection action indicates T6a/b connection release, delete the T6a/b connection context at the MME/SGSN. If successful, the Result code shall be set to DIAMETER_SUCCESS in the Connection Management SCEF Answer.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.8.4\tDetailed Behaviour of the IWK-SCEF",
                            "text_content": "When the IWK-SCEF receives a Connection Management SCEF Request from the SCEF, it shall forward the request to the MME or SGSN.\nWhen the IWK-SCEF receives a Connection Management SCEF Answer from the MME or SGSN, it shall forward the answer to the SCEF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tProtocol Specification and Implementation",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tUse of Diameter Base Protocol",
                            "text_content": "The Diameter base protocol as specified in IETF RFC 6733 [32] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as specified in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tSecuring Diameter Messages",
                            "text_content": "For secure transport of Diameter messages, see 3GPP TS 33.210 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.3\tAccounting Functionality",
                            "text_content": "Accounting functionality (Accounting Session State Machine, related command codes and AVPs) shall not be used on the T6a/T6b interface, T6ai/T6bi interface and the T7 interface.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.4\tUse of Sessions",
                            "text_content": "Diameter sessions shall be implicitly terminated between:\n-\tthe MME/SGSN and the SCEF, for the T6a/T6b interface;\n-\tthe MME/SGSN and the IWK-SCEF, for the T6ai/T6bi interface and\n-\tthe IWK-SCEF and the SCEF for the T7 interface.\nAn implicitly terminated session is one for which the server does not maintain state information. The client shall not send any re-authorization or session termination requests to the server.\nThe Diameter base protocol includes the Auth-Session-State AVP as the mechanism for the implementation of implicitly terminated sessions.\nThe client (server) shall include in its requests (responses) the Auth-Session-State AVP set to the value NO_STATE_MAINTAINED (1), as described in IETF RFC 6733 [32]. As a consequence, the server shall not maintain any state information about this session and the client shall not send any session termination request. Neither the Authorization-Lifetime AVP nor the Session-Timeout AVP shall be present in requests or responses.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.5\tTransport Protocol",
                            "text_content": "Diameter messages over the T6a/T6b, T6ai/T6bi and T7 interface shall make use of SCTP IETF RFC 4960 [7] as transport protocol.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.6\tRouting Considerations",
                            "text_content": "This clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host for Monitoring Event related requests.\nThe MME/SGSN shall use the SCEF-ID and the SCEF realm previously received over S6a/b for a monitoring event configuration as the Destination-Host AVP and the Destination-Realm AVP in the Reporting-Information-Request for the monitoring event reports sent over the T6a/T6b or T6ai/bi interface.\nThe MME/SGSN shall use the pre-configured IWK-SCEF identify and the pre-configured IWK-SCEF realm as the Destination-Host AVP and the Destination Realm AVP in the Configuration-Information-Request for the monitoring event configuration sent over the T6ai/bi interface.\nThe IWK-SCEF behaves as a Diameter Proxy agent according to IETF RFC 6733 [32] for the Reporting-Information-Request received from the MME/SGSN over the T6ai/bi interface and shall forward these requests to the SCEF over the T7 interface by keeping unchanged the Destination Realm and Destination Host AVPs.\nFor monitoring events directly configured at the MME/SGSN by the SCEF, if the SCEF knows the address/name of the MME/SGSN, both the Destination-Realm AVP and the Destination-Host AVP shall be present in the request. Otherwise, only the Destination-Realm AVP shall be present and the command shall be routed to the next Diameter node. Consequently, the Destination-Host AVP is declared as optional in the ABNF for all Monitoring Event related requests initiated by the SCEF.\nThe Destination-Realm AVP is declared as mandatory in the ABNF for all Monitoring Event related requests. The Destination-Host AVP is declared as optional in the ABNF description of the Reporting-Information-Request and of the Configuration Information-Request.\nThis clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host for Non-IP Data related requests.\nThe MME or SGSN shall use the SCEF-ID and the SCEF realm that it received in the subscribed APN associated to the T6a/b connection at its establishment as the Destination-Host AVP and the Destination realm AVP in the Non-IP data related request commands sent over the T6a/b and T6ai/bi interfaces.\nThe Destination-Host AVP is declared as optional and the Destination realm AVP as mandatory in the ABNF description of the Non-IP data related requests initiated by the MME or SGSN.\nNOTE 1:\tFor roaming cases, the routing of MME or SGSN initiated request commands to the IWK-SCEF relies on the Destination Realm AVP as according to the Diameter base protocol.\nNOTE 2:\tThe Diameter implicitly terminated sessions and their Session ID for the Non-IP data related traffic are end to end between the MME/SGSN and the SCEF.\nThe IWK-SCEF behaves as a Diameter Proxy agent according to IETF RFC 6733 [32] for the Non-IP related requests received  from the MME or SGSN over the T6ai/bi interfaces and shall forward these  requests to the SCEF over the T7 interface by keeping unchanged the Destination Realm and Destination Host AVPs.\nThe SCEF obtains the Destination-Host AVP and the Destination-Realm AVP to use in the Non-IP data related requests towards an MME or SGSN from the Origin-Host AVP and the Origin-Realm AVP received in previous Non-IP Data related requests from the MME or SGSN. The Origin-Realm AVP in the requests received by the SCEF in roaming cases should contain the domain name of the network to which the MME or SGSN belongs, encoded as specified in clause 19.2 of 3GPP TS 23.003 [24].\nThe Destination-Host AVP is declared as optional and the Destination realm AVP as mandatory in the ABNF for the Non-IP Data related requests initiated by the SCEF.\nThe IWK-SCEF behaves as a Diameter Proxy agent according to IETF RFC 3588 [3] for the Non-IP related requests received  from the SCEF over the T7 interface and shall forward these requests to the MME or SGSN over the T6ai/bi interfaces by keeping unchanged the Destination Realm and Destination Host AVPs.\nIf the Vendor-Specific-Application-ID AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node, and it shall not be used for routing purposes.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.7\tAdvertising Application Support",
                            "text_content": "The SCEF, MME, SGSN and the IWK-SCEF shall advertise support of the Diameter T6a/T6b Application by including the value of the application identifier in the Auth-Application-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nNOTE:\tEven though the reference point between the MME/SGSN and the IWK-SCEF is called T6ai/T6bi respectively and the reference point between the IWK-SCEF and the SCEF is called T7, all these reference points use the same Diameter Application ID.\nThe vendor identifier value of 3GPP (10415) shall be included in the Supported-Vendor-Id AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands, and in the Vendor-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe Vendor-Id AVP included in Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands that is not included in the Vendor-Specific-Application-Id AVPs as described above shall indicate the manufacturer of the Diameter node as per IETF RFC 6733 [32].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.8\tDiameter Application Identifier",
                            "text_content": "The T6a/T6b interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the T6a/T6b interface application is 16777346.\nThe T6ai/T6bi and the T7 interface protocol shall use the same Diameter application identifier as the T6a/T6b interface.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.9\tUse of the Supported-Features AVP",
                            "text_content": "When new functionality is introduced on the T6a/T6b application, it should be defined as optional. If backwards incompatible changes cannot be avoided, the new functionality shall be introduced as a new feature and support advertised with the Supported-Features AVP. The usage of the Supported-Features AVP on the T6a/T6b application is consistent with the procedures for the dynamic discovery of supported features as defined in clause 7.2 of 3GPP TS 29.229 [4].\nWhen extending the application by adding new AVPs for a feature, the new AVPs shall have the M bit cleared and the AVP shall not be defined mandatory in the command ABNF.\nAs defined in 3GPP TS 29.229 [4], the Supported-Features AVP is of type grouped and contains the Vendor-Id, Feature-List-ID and Feature-List AVPs. On the all reference points as specified in this specification, the Supported-Features AVP is used to identify features that have been defined by 3GPP and hence, for features defined in this document, the Vendor-Id AVP shall contain the vendor ID of 3GPP (10415). If there are multiple feature lists defined for the reference point, the Feature-List-ID AVP shall differentiate those lists from one another.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.2\tCommands",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.2.1\tIntroduction",
                            "text_content": "This clause defines the Command code values and related ABNF for each command described in this specification. The ABNF for the commands on T6a/T6b, T6ai/T6bi and T7 are the same if not specified explicitly different.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.2\tCommand-Code values",
                            "text_content": "This clause defines Command-Code values for the T6a/T6b interface application as allocated by IANA.\nEvery command is defined by means of the ABNF syntax IETF RFC 5234 [8], according to the Command Code Format (CCF) specification defined in IETF RFC 6733 [32]. When the definition and use of an AVP is not specified in this document, the guidelines in IETF RFC 6733 [32] shall apply.\nThe Vendor-Specific-Application-Id AVP shall not be included in any command sent by Diameter nodes supporting applications defined in this specification. If the Vendor-Specific-Application-Id AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node.\nNOTE:\tThe Vendor-Specific-Application-Id is included as an optional AVP in all Command Code Format specifications defined in this specification in order to overcome potential interoperability issues with intermediate Diameter agents non-compliant with IETF RFC 6733 [32].\nThe following Command Codes are defined in this specification for T6a/T6b:\nTable 6.2.2-1: Command-Code values for T6a/T6b\n\nFor these commands, the Application-ID field shall be set to 16777346 (application identifier of the T6a/T6b interface application, allocated by IANA).\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.2.2-1: Command-Code values for T6a/T6b",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.2.3\tConfiguration Information Request (CIR) Command",
                            "text_content": "The Configuration Information Request (CIR) command, indicated by the Command-Code field set to 8388718 and the \"R\" bit set in the Command Flags field, is sent from:\n-\tthe SCEF to the MME/SGSN;\n-\tthe SCEF to the IWK-SCEF and\n-\tthe MME/SGSN to the IWK-SCEF\nThis command is originally defined in 3GPP TS 29.336 [5].\nFor the T6a/T6b interface, the Configuration-Information-Request command format is specified as following:\nMessage Format:\n< Configuration-Information-Request > ::=\t< Diameter Header: 8388718, REQ, PXY, 16777346 >\n< Session-Id >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n*[ Supported-Features ]\n*[ Monitoring-Event-Configuration ]\n*[ Monitoring-Event-Report ]\n[ User-Identifier ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.4\tConfiguration-Information-Answer (CIA) Command",
                            "text_content": "The Configuration-Information-Answer (CIA) command, indicated by the Command-Code field set to 8388718 and the \"R\" bit cleared in the Command Flags field, is sent from:\n-\tthe MME/SGSN to the SCEF;\n-\tthe IWK-SCEF to the SCEF and\n-\tthe IWK-SCEF to the MME/SGSN\nThis command is originally defined in 3GPP TS 29.336 [5].\nFor the T6a/T6b interface, the Configuration-Information-Answer command format is specified as following:\nMessage Format:\n< Configuration-Information-Answer > ::=\t< Diameter Header: 8388718, PXY, 16777346 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ Supported-Features ]\n*[ Monitoring-Event-Report ]\n*[ Monitoring-Event-Config-Status ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.5\tReporting-Information-Request (RIR) Command",
                            "text_content": "The Reporting-Information-Request (RIR) command, indicated by the Command-Code field set to 8388719 and the \"R\" bit set in the Command Flags field, is sent from:\n-\tthe MME/SGSN to the SCEF;\n-\tthe MME/SGSN to the IWK-SCEF and\n-\tthe IWK-SCEF to the SCEF.\nThis command is originally defined in 3GPP TS 29.336 [5].\nFor the T6a/T6b interface, the Reporting-Information-Request command format is specified as following:\nMessage Format:\n< Reporting-Information-Request > ::=\t< Diameter Header: 8388719, REQ, PXY, 16777346 >\n< Session-Id >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n[ User-Identifier ]\n*[ Monitoring-Event-Report ]\n**[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.6\tReporting-Information-Answer (RIA) Command",
                            "text_content": "The Reporting-Information-Answer (RIA) command, indicated by the Command-Code field set to 8388719 and the \"R\" bit cleared in the Command Flags field, is sent from:\n-\tthe SCEF to the MME/SGSN;\n-\tthe SCEF to the IWK-SCEF and\n-\tthe IWK-SCEF to the MME/SGSN.\nThis command is originally defined in 3GPP TS 29.336 [5].\nFor the T6a/T6b interface, the Reporting-Information-Answer command format is specified as following:\nMessage Format:\n< Reporting-Information-Answer > ::=\t< Diameter Header: 8388719, PXY, 16777346 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n*[ Monitoring-Event-Report-Status ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.7\tConnection-Management-Request (CMR) Command",
                            "text_content": "The Connection-Management-Request (CMR) command, indicated by the Command-Code field set to 8388732 and the \"R\" bit set in the Command Flags field, is sent from:\n-\tthe MME or SGSN to the SCEF;\n-\tthe MME or SGSN to the SCEF via the IWK-SCEF for roaming cases;\n-\tthe SCEF to the MME or SGSN;\n-\tthe SCEF to the MME or SGSN via the IWK-SCEF for roaming cases.\nFor the T6a/b, T6ai/bi, T7 interfaces, the Connection-Management-Request command format is specified as following:\nMessage Format:\n< Connection-Management-Request > ::=   < Diameter Header: 8388732, REQ, PXY, 16777346 >\n< Session-Id >\n< User-Identifier >\n< Bearer-Identifier >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n[ OC-Supported-Features ]\n[ CMR-Flags ]\n[ Maximum-UE-Availability-Time ]\n*[ Supported-Features ]\n[ Connection-Action ]\n[ Service-Selection ]\n[ Serving-PLMN-Rate-Control ]\n[ Extended-PCO ]\n[ 3GPP-Charging-Characteristics ]\n[ RAT-Type ]\n[ Terminal-Information ]\n[ Visited-PLMN-Id ]\n[ APN-Rate-Control-Status ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.8\tConnection-Management-Answer (CMA) Command",
                            "text_content": "The Connection-Management-Answer (CMA) command, indicated by the Command-Code field set to 8388732 and the \"R\" bit cleared in the Command Flags field, is sent from:\n-\tthe SCEF to the MME or SGSN;\n-\tthe SCEF to the MME or SGSN via the IWK-SCEF for roaming cases;\n-\tthe MME or SGSN to the SCEF;\n-\tthe MME or SGSN to the SCEF via the IWK-SCEF for roaming cases.\nFor the T6a/b, T6ai/bi and T7 interfaces, the Connection-Management-Answer command format is specified as following:\nMessage Format:\n< Connection-Management-Answer > ::=\t< Diameter Header: 8388732, PXY, 16777346 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n[ PDN-Connection-Charging-Id ]\n[ Extended-PCO ]\n[ APN-Rate-Control-Status ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.9\tMO-Data-Request (ODR) Command",
                            "text_content": "The MO-Data-Request (ODR) command, indicated by the Command-Code field set to 8388733 and the \"R\" bit set in the Command Flags field, is sent from:\n-\tthe MME or SGSN to the SCEF;\n-\tthe MME or SGSN to the IWK-SCEF and\n-\tthe IWK-SCEF to the SCEF.\nFor the T6a/b, T6ai/bi, T7 interfaces, the MO-Data-Request command format is specified as following:\nMessage Format:\n< MO-Data-Request > ::=   < Diameter Header: 8388733, REQ, PXY, 16777346 >\n< Session-Id >\n< User-Identifier >\n< Bearer-Identifier >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n[ Non-IP-Data ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n[ RRC-Cause-Counter ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.10\tMO-Data-Answer (ODA) Command",
                            "text_content": "The MO-Data-Answer (ODA) command, indicated by the Command-Code field set to 8388733 and the \"R\" bit cleared in the Command Flags field, is sent from:\n-\tthe SCEF to the MME or SGSN;\n-\tthe SCEF to the IWK-SCEF and\n-\tthe IWK-SCEF to the MME or SGSN.\nFor the T6a/b, T6ai/bi and T7 interfaces, the MO-Data-Answer command format is specified as following:\nMessage Format:\n< MO-Data-Answer > ::=\t< Diameter Header: 8388733, PXY, 16777346 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.11\tMT-Data-Request (TDR) Command",
                            "text_content": "The MT-Data-Request (TDR) command, indicated by the Command-Code field set to 8388734 and the \"R\" bit set in the Command Flags field, is sent from:\n-\tthe SCEF to the MME or SGSN;\n-\tthe SCEF to the IWK-SCEF and\n-\tthe IWK-SCEF to the MME or SGSN.\nFor the T6a/b, T6ai/bi, T7 interfaces, the MT-Data-Request command format is specified as following:\nMessage Format:\n< MT-Data-Request > ::=   < Diameter Header: 8388734, REQ, PXY, 16777346 >\n< Session-Id >\n< User-Identifier >\n< Bearer-Identifier >\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n[ Non-IP-Data ]\n[ SCEF-Wait-Time ]\n[ Maximum-Retransmission-Time ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.2.12\tMT-Data-Answer (TDA) Command",
                            "text_content": "The MT-Data-Answer (TDA) command, indicated by the Command-Code field set to 8388734 and the \"R\" bit cleared in the Command Flags field, is sent from:\n-\tthe MME or SGSN to the SCEF;\n-\tthe MME or SGSN to the IWK-SCEF and\n-\tthe IWK-SCEF to the SCEF.\nFor the T6a/b, T6ai/bi and T7 interfaces, the MT-Data-Answer command format is specified as following:\nMessage Format:\n< MT-Data-Answer > ::=\t< Diameter Header: 8388734, PXY, 16777346 >\n< Session-Id >\n[ DRMP ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n[ Requested-Retransmission-Time ]\n*[ Supported-Features ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n[ TDA-Flags ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.3\tResult-Code AVP and Experimental-Result AVP Values",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.3.1\tGeneral",
                            "text_content": "This clause defines result code values that shall be supported by all Diameter implementations that conform to this specification.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.2\tSuccess",
                            "text_content": "Result codes that fall within the Success category shall be used to inform a peer that a request has been successfully completed. The Result-Code AVP values defined in the Diameter base protocol specified in IETF RFC 6733 [32] shall be applied.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.3.3\tPermanent Failures",
                            "text_content": "Errors that fall within the Permanent Failures category shall be used to inform the peer that the request has failed, and should not be attempted again. The Result-Code AVP values defined in the Diameter base protocol specified IETF RFC 6733 [32] shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.\nThis result code shall be sent by the MME/SGSN or the IWK-SCEF to indicate that the SCEF is not allowed to request Monitoring services. This error code is defined in 3GPP TS 29.336 [5].\nThis result code shall be sent by the MME/SGSN or the IWK-SCEF to indicate that the specific service requested by the SCEF is not allowed as per local policies. This error code is defined in 3GPP TS 29.336 [5].\nThis result code shall be sent by the MME/SGSN to indicate that the specific service requested by the SCEF could not be stored. This error code is defined in 3GPP TS 29.336 [5].\nThis result code shall be sent by the IWK-SCEF to indicate that the requested deletion by the MME/SGSN could not be performed because the event does not exist. This error code is defined in 3GPP TS 29.336 [5].\nThis result code shall be sent by the MME/SGSN to indicate that the location for which a related monitoring event is configured (e.g. Number of UEs at a given geographical location) by the SCEF, is not served by the MME/SGSN.\nThis result code shall be sent by the SCEF or the MME/SGSN to indicate that the user identified by the IMSI is unknown. This error code is defined in 3GPP TS 29.229 [4].\nThis result code shall be sent by the SCEF to indicate that the operation is not allowed when an EPS bearer context exists for the user. This error code is defined in 3GPP TS 29.329 [17].\nThis result code shall be sent by the SCEF or the MME/SGSN to indicate that the requested T6a/b connection action is not allowed.\nThis result code shall be sent by the SCEF or the MME/SGSN to indicate that there is no bearer context for the user.\nThis result code shall be sent by the SCEF to indicate that there is no valid NIDD configuration available.\nThis result code shall be sent by the SCEF to indicate that the SCEF reference ID is not known by the SCEF.\nThis result code shall be sent by the MME or SGSN to indicate that the UE is temporarily not reachable due to a power saving function, and that the MME or SGSN will update the SCEF when it detects that the UE is reachable or about to become reachable as specified in clause 5.6.3.\nThis result code shall be sent by the MME to indicate that the UE is not reachable. This error code is defined in 3GPP TS 29.172 [26].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                },
                {
                    "title": "6.4\tAVPs",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.4.1\tGeneral",
                            "text_content": "The following table specifies the Diameter AVPs defined for the T6a/T6b interface protocol, their AVP Code values, types, possible flag values and whether or not the AVP may be encrypted. The Vendor-ID header of all AVPs defined in this specification shall be set to 3GPP (10415).\nFor all AVPs which contain bit masks and are of the type Unsigned32, bit 0 shall be the least significant bit. For example, to get the value of bit 0, a bit mask of 0x00000001 should be used.\nTable 6.4.1-1: T6a/T6b specific Diameter AVPs\n\nThe following table specifies the Diameter AVPs re-used by the T6a/T6b interface protocol from existing Diameter Applications, including a reference to their respective specifications and when needed, a short description of their use within T6a/T6b.\nAny other AVPs from existing Diameter Applications, except for the AVPs from Diameter Base Protocol, do not need to be supported. The AVPs from Diameter Base Protocol are not included in table 6.4.1-2, but they may be re-used for the T6a/T6b protocol.\nTable 6.4.1-2: T6a/T6b re-used Diameter AVPs\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.4.1-1: T6a/T6b specific Diameter AVPs",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.4.1-2: T6a/T6b re-used Diameter AVPs",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.4.2\tMonitoring-Event-Configuration",
                            "text_content": "The Monitoring-Event-Configuration AVP is of type Grouped. It shall contain the Monitoring event configuration related data. It is originally defined in 3GPP TS 29.336 [5].\nFor the T6a/T6b interface, the Monitoring-Event-Configuration AVP format is specified as following:\nAVP format:\nMonitoring-Event-Configuration ::= <AVP header: 3122 10415>\n[ SCEF-Reference-ID ]\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n{ Monitoring-Type }\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n[ Maximum-Number-of-Reports ]\n[ Monitoring-Duration ]\n[ Charged-Party ]\n[ UE-Reachability-Configuration ]\n[ Location-Information-Configuration ]\n*[ Number-Of-UE-Per-Location-Configuration ]\n*[AVP]\nWhen the \"Extended Reference IDs\" feature is supported by the SCEF and MME/SGSN, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.3\tMonitoring-Event-Report",
                            "text_content": "The Monitoring-Event-Report AVP is of type Grouped. It shall contain the Monitoring event report data. It is originally defined in 3GPP TS 29.336 [5].\nFor the T6a/T6b interface, the Monitoring-Event-Report AVP format is specified as following:\nAVP format:\nMonitoring-Event-Report ::= <AVP header: 3123 10415>\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n[ SCEF-ID ]\n[ Monitoring-Type ]\n[ Reachability-Information ]\n[ EPS-Location-Information ]\n[ Communication-Failure-Information ]\n*[ Number-Of-UE-Per-Location-Report ]\n[ Loss-Of-Connectivity-Reason ]\n[ Visited-PLMN-Id ]\n[ Idle-Status-Indication ]\n[ Reporting-Time-Stamp ]\n[ Maximum-UE-Availability-Time ]\n*[ PDN-Connectivity-Status-Report ]\n[ Reachability-Cause ]\n*[AVP]\nThe AVPs applicable for each Monitoring-Type reported by the MME/SGSN are specified under clause 5.2.2.\nWhen the \"Extended Reference IDs\" feature is supported by the SCEF and MME/SGSN, the SCEF-Reference-ID-Ext AVP shall be used insted of SCEF-Reference-ID; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.4\tCommunication-Failure-Information",
                            "text_content": "The Communication-Failure-Information AVP is of type Grouped. It shall contain the reason for communication failure.\nAVP format:\nCommunication-Failure-Information ::= <AVP header: 4300 10415>\n[ Cause-Type ]\n[ S1AP-Cause ]\n[ RANAP-Cause ]\n[ BSSGP-Cause ]\n[ GMM-Cause ]\n[ SM-Cause ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.5\tCause-Type",
                            "text_content": "The Cause-Type AVP is of type Unsigned32 and it shall identify the type of the S1AP-Cause. The following values are defined:\nRADIO_NETWORK_LAYER (0)\nTRANSPORT_LAYER (1)\nNAS (2)\nPROTOCOL (3)\nMISCELLANEOUS (4)\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.6\tS1AP-Cause",
                            "text_content": "The S1AP-Cause AVP is of type Unsigned32. It shall contain a non-transparent copy of the S1AP cause code as specified clause 9.2.1.3 of 3GPP TS 36.413 [13]. The RAN cause sub-category of the S1AP-Cause as specified in 3GPP TS 36.413 [13] shall be encoded in the Cause-Type AVP as specified in clause 6.4.5 above.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.7\tRANAP-Cause",
                            "text_content": "The RANAP-Cause AVP is of type Unsigned32. It shall contain the non-transparent copy of the cause value of the RANAP cause code as specified in clause 9.2.1.4 of 3GPP TS 25.413 [11].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.8\tBSSGP-Cause",
                            "text_content": "The BSSGP-Cause AVP is of type Unsigned32. It shall contain the non-transparent copy of the cause value of the BSSGP \"Cause\" as specified in clause 11.3.8 in 3GPP TS 48.018 [14].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.9\tGMM-Cause",
                            "text_content": "The GMM-Cause AVP is of type Unsigned32. It shall contain the GMM cause code as specified in clause 10.5.5.14 of 3GPP TS 24.008 [12].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.10\tSM-Cause",
                            "text_content": "The SM-Cause AVP is of type Unsigned32. It shall contain the SM cause code as specified in clause 10.5.6.6 and 10.5.6.6A of 3GPP TS 24.008 [12].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.11\tNumber-Of-UE-Per-Location-Configuration",
                            "text_content": "The Number-Of-UE-Per-Location-Configuration AVP is of type Grouped. It shall contain the location information for which the number of UEs needs to be reported by the MME/SGSN.\nAVP format:\nNumber-of-UE-Per-Location-Configuration ::= <AVP header: 4306 10415>\n{ EPS-Location-Information }\n[ IMSI-Group-Id ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.12\tNumber-Of-UE-Per-Location-Report",
                            "text_content": "The Number-Of-UE-Per-Location-Report AVP is of type Grouped. It shall contain the location information along with the number of UEs found at that location by the MME/SGSN.\nAVP format:\nNumber-of-UE-Per-Location-Report ::= <AVP header: 4307 10415>\n{ EPS-Location-Information }\n{ UE-Count }\n[ IMSI-Group-Id ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.13\tUE-Count",
                            "text_content": "The UE-Count AVP is of type Unsigned32. It shall contain the number of UEs counted against a given criteria (say location information).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.14\tFeature-List AVP",
                            "text_content": "The syntax of this AVP is defined in 3GPP TS 29.229 [4].\nFor the T6a/b application, the meaning of the bits shall be as defined in table 6.4.14.1-1 for the Feature-List-ID.\nTable 6.4.14.1-1: Features of Feature-List-ID used in T6a/b\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.4.14.1-1: Features of Feature-List-ID used in T6a/b",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.4.15\tDRMP",
                            "text_content": "The DRMP AVP is of type Enumerated and it is defined in IETF RFC 7944 [15]. This AVP allows the MME, the SGSN, the SCEF and the IWK-SCEF to indicate the relative priority of Diameter messages. The DRMP AVP may be used to set the DSCP marking for transport of the associated Diameter message.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.16\tUser-Identifier",
                            "text_content": "The User-Identifier AVP is of type Grouped and it contains the different identifiers used by the UE.\nIt is defined in 3GPP TS 29.336 [5]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.17\tBearer-Identifier",
                            "text_content": "The Bearer-Identifier AVP contains either the identity of the EPS bearer used to identify the T6a connection between the MME and the SCEF or the NSAPI of the PDP context identifying the T6b connection between the SGSN and the SCEF. It is defined in 3GPP TS 29.212 [10].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.18\tConnection-Action",
                            "text_content": "The Connection-Action AVP is of type Unsigned32 and it shall identify the action to be performed on the T6a/b connection. The following values are defined:\nCONNECTION_ESTABLISHMENT (0)\nThis value shall be used if the T6a/b Connection-Management-Request applies to a T6a/b connection establishment.\nCONNECTION_RELEASE (1)\nThis value shall be used if the T6a/b Connection-Management-Request applies to a T6a/b connection release.\nCONNECTION_UPDATE (2)\nThis value shall be used if the T6a/b Connection-Management-Request applies to updating the properties of a T6a/b connection.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.19\tNon-IP-Data",
                            "text_content": "The Non-IP-Data AVP is of type OctetString and it contains the Non-IP data conveyed between the MME or SGSN and the SCEF.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.20\tService-Selection",
                            "text_content": "The Service-Selection AVP is of type of UTF8String. This AVP shall contain the APN Network Identifier as specified in 3GPP TS 23.003 [24] clause 9.1.\nThe contents of the Service-Selection AVP shall be formatted as a character string composed of one or more labels separated by dots (\".\").\nThis AVP is originally defined in IETF RFC 5778[21].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.21\tServing-PLMN-Rate-Control",
                            "text_content": "The Serving-PLMN-Rate-Control AVP is of type Grouped and shall contain.\nThe AVP format shall conform to:\nServing-PLMN-Rate-Control::=\t<AVP header: 4310 10415>\n[ Uplink-Rate-Limit ]\n[ Downlink-Rate-Limit ]\n*[AVP]\nA Downlink-Rate-Limit set to 0 shall be interpreted that the Serving PLMN Rate Control for downlink messages is deactivated in the MME. If the Serving PLMN Rate Control is activated, the value of Downlink-Rate-Limit shall not be less than 10, see 3GPP TS 23.401 [25].\nAn Uplink-Rate-Limit set ot 0 shall be interpreted that the Serving PLMN Rate Control for uplink messages is deactivated in the MME. If Serving PLMN Rate Control is activated, the value of Uplink-Rate-Limit shall not be less than 10, see 3GPP TS 23.401 [25].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.22\tDownlink-Rate-Limit",
                            "text_content": "The Downlink-Rate-Limit AVP is of type type Unsigned32 and shall contain the maximum number of NAS Data PDUs per deci hour for this UE for downlink.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.23\tUplink-Rate-Limit",
                            "text_content": "The Uplink-Rate-Limit AVP is of type Unsigned32 and shall contain the maximum number of NAS Data PDUs per deci hour for this UE for uplink.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.24\tSCEF-Wait-Time",
                            "text_content": "The SCEF-Wait-Time is of type Time and it shall contain the timestamp (in UTC) until which the SCEF expects a response.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.25\tCMR-Flags",
                            "text_content": "The CMR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 6.4.25/1:\nTable 6.4.25/1: CMR-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.4.25/1: CMR-Flags",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.4.26\tExtended-PCO",
                            "text_content": "The Extended-PCO AVP is of type OctetString. The Extended-PCO AVP shall contain the value part of the ePCO IE, starting from octet 4, as specified in clause 9.9.4.26 of 3GPP TS 24.301[28].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.27\tRRC-Cause-Counter",
                            "text_content": "The RRC-Cause-Counter AVP is of type Grouped and shall contain the number of receptions of \"MO Exception data\" and the time when the cause \" MO Exception Data\" is received for the first time.\nThe AVP format shall conform to:\nRRC-Cause-Counter::=\t<AVP header: 4318 10415>\n[ Counter-Value ]\n[ RRC-Counter-Timestamp ]\n*[AVP]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.28\tCounter-Value",
                            "text_content": "The Counter-Value AVP is of type type Unsigned32 and shall contain the number of occurrences of reception of RRC cause \"MO Exception data\".\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.29\tRRC-Counter-Timestamp",
                            "text_content": "The RRC-Counter-Timestamp AVP is of type Time and shall contain a timestamp.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.30\tTerminal-Information",
                            "text_content": "The Terminal-Information AVP is of type Grouped. This AVP shall contain the information about the user's terminal. It is originally defined in 3GPP TS 29.272 [16].\nAVP format\nTerminal-Information ::= <AVP header: 1401 10415>\n[ IMEI ]\n[ Software-Version ]\n*[ AVP ]\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.31\tTDA-Flags",
                            "text_content": "The TDA-Flags AVP is of type Unsigned32 and it shall contain a bit map. The meaning of the bits shall be as defined in table 6.4.31-1:\nTable 6.4.31-1: TDA-Flags\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.4.31-1: TDA-Flags",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.4.32\tIdle-Status-Indication",
                            "text_content": "The Idle-Status-Indication AVP is of type Grouped, and it shall contain the details when the UE transitions into idle mode.\nAVP format:\nIdle-Status-Indication::=\t<AVP header: 4322 10415>\n[ Idle-Status-Timestamp ]\n[ Active-Time ]\n[ Subscribed-Periodic-RAU-TAU-Timer ]\n[ eDRX-Cycle-Length ]\n[ DL-Buffering-Suggested-Packet-Count ]\n*[AVP]\nThe Subscribed-Periodic-RAU-TAU-Timer AVP shall contain the periodic TAU/RAU time granted to the UE by the MME/SGSN.\nThe eDRX-Cycle-Length AVP shall contain the eDRX cycle length granted to the UE by the MME/SGSN.\nThe DL-Buffering-Suggested-Packet-Count AVP shall contain the suggested number of downlink packets sent to the S-GW by the MME/SGSN.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.33\tIdle-Status-Timestamp",
                            "text_content": "The Idle-Status-Timestamp AVP is of type Time and shall contain a timestamp (the time at which the UE transitioned into idle mode).\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.34\tActive-Time",
                            "text_content": "Active-Time AVP is of type Unsigned32 and shall provide the active time granted to the UE in seconds.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.35\tReachability-Cause",
                            "text_content": "The Reachability-Cause AVP is of type Unsigned32. The following values are defined:\nCHANGE_TO_CONNECTED_MODE (0)\nREACHABLE_FOR_PAGING (1)\nAnnex A (normative):\nDiameter overload control mechanism\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.36\tAPN-Rate-Control-Status",
                            "text_content": "The APN-Rate-Control-Status AVP is of type Grouped. It shall contain APN Rate Control Status Information as specified in figure 8.38-10 of 3GPP TS 29.274 [33].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.37\tUplink-Number-Of-Packets-Allowed",
                            "text_content": "The Uplink-Number-Of-Packets-Allowed AVP is of type Unsigned32. It shall contain information of octets k+1 to k+4 as specified in figure 8.38-10 of 3GPP TS 29.274 [33].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.38\tNumber-Of-Additional-Exception-Reports",
                            "text_content": "The Number-Of-Additional-Exception-Reports AVP is of type Unsigned32. It shall contain information of octets k+5 to k+8 as specified in figure 8.38-10 of 3GPP TS 29.274 [33].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.39\tDownlink-Number-Of-Packets-Allowed",
                            "text_content": "The Downlink-Number-Of-Packets-Allowed AVP is of type Unsigned32. It shall contain information of octets k+9 to k+12 as specified in figure 8.38-10 of 3GPP TS 29.274 [33].\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.4.40\tAPN-Rate-Control-Status-Validity-Time",
                            "text_content": "The APN-Rate-Control-Status-Validity-Time AVP is of type Unsigned64. It shall contain information of octets k+13 to k+20 as specified in figure 8.38-10 of 3GPP TS 29.274 [33].\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tT6a/b and T7 interfaces",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "A.1.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The Diameter overload control mechanism is an optional feature over the T6a/b and T7 interface, which may be applied to the traffic of requests commands sent to the SCEF and/or to the traffic of request commands sent to the MME or SGSN.\nIt is recommended to make use of the IETF RFC 7683 [9] on the T6a/b and T7 interface where:\n-\twhen applied to the traffic of request commands sent to the SCEF, the SCEF shall behave as a reporting node while the MME/SGSN, and as an alternative  the IWK-SCEF shall behave as a reacting node;\n-\twhen applied to the traffic of request commands sent to the MME or SGSN, the MME or SGSN shall behave as a reporting node while the SCEF, and as an alternative  the IWK-SCEF, shall behave as a reacting node.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.1.2\tSCEF behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The SCEF requests traffic reduction from the MME/SGSN and the IWK-SCEF when it is in an overload situation, by including OC-OLR AVP in answer commands as described in IETF RFC 7683 [9].\nThe SCEF identifies that it is in an overload situation by implementation specific means. For example, the SCEF may take into account the traffic over the T6a/b interfaces or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources etc.\nThe SCEF determines the specific contents of the OC-OLR AVP in overload reports and the SCEF decides when to send OC-OLR AVPs by implementation specific means.\nThe SCEF may decide to deactivate Monitoring events to reduce the number of Reporting-Information-Requests sent for reporting monitoring events.\nThe SCEF shall apply required traffic reduction according to the OC-OLR AVPs received in answer commands from the MME to subsequent applicable requests, as per IETF RFC 7683 [9].\nRequested traffic reduction is achieved by the SCEF by implementation specific means. It may in particular implement throttling of MT non-IP data messages.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.1.3\tMME/SGSN behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The MME or SGSN requests traffic reduction from the SCEF when it is in an overload situation, by including OC-OLR AVP in answer commands as described in IETF RFC 7683 [9].\nThe MME or SGSN identifies that it is in an overload situation by implementation specific means.\nThe MME or SGSN shall apply required traffic reduction according to the OC-OLR AVPs received in answer commands from the SCEF to subsequent applicable requests, as per IETF RFC 7683 [9].\nRequested traffic reduction is achieved by the MME or SGSN by implementation-specific means. It may in particular implement:\n-\tthrottling of monitoring event reports or stop reporting with prioritization (e.g. prioritisation on the type of events, or that one-time reporting takes priority over continuous reporting, …);\n-\tthrottling of new T6a/b connection establishment messages;\n-\tthrottling of MO non-IP data messages.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "A.1.4\tIWK-SCEF behaviour",
                    "description": "",
                    "summary": "",
                    "text_content": "The IWK-SCEF, when acting as a reacting node towards the SCEF shall apply required traffic reduction received in answer commands from the SCEF to subsequent applicable requests received from the MME or SGSN, as per IETF RFC 7683 [9]. In this case the IWK-SCEF does not forward OC-OLR AVPs to the MME or SGSN.\nThe IWK-SCEF, when acting as a reacting node towards the MME or SGSN, shall apply required traffic reduction received in answer commands from the MME or SGSN to subsequent applicable requests received from the SCEF, as per IETF RFC 7683 [9]. In this case the IWK-SCEF does not forward OC-OLR AVPs to the SCEF.\nRequested traffic reduction is achieved by the IWK-SCEF by implementation specific means. For example, it may implement throttling of monitoring event report with prioritization, throttling of MO data or MT data messages.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "B.1\tGeneral",
            "description": "IETF RFC 7944 [15] specifies a Diameter routing message priority mechanism that allows Diameter nodes to indicate the relative priority of Diameter messages. With this information, other Diameter nodes may leverage the relative priority of Diameter messages into routing, resource allocation, set the DSCP marking for transport of the associated Diameter message, and also abatement decisions when overload control is applied.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.2\tT6a, T6ai, T6b, T6bi, T7 interfaces",
            "description": "The Diameter message priority mechanism is an optional feature which may apply on one or several of the T6a, T6ai, T6b, T6bi, T7 interfaces.\nIt is recommended to make use of IETF RFC 7944 [15] over the T6a, T6ai, T6b, T6bi, T7 interfaces of an operator network when the overload control defined in Annex A is applied on these interfaces.\nA 3GPP functional entity supporting the Diameter message priority mechanism over one or several of the T6a, T6ai, T6b, T6bi, T7 interfaces shall comply with IETF RFC 7944 [15].\nA 3GPP functional entity sending a request shall determine the required priority according to its policies. When priority is required, it shall include the DRMP AVP indicating the required priority level in the request it sends, and shall prioritise the request according to the required priority level.\nWhen the 3GPP functional element receives the corresponding response, it shall prioritise the received response according to the priority level received within the DRMP AVP if present in the response, otherwise according to the priority level of the corresponding request.\nWhen a 3GPP functional entity receives a request, it shall handle the request according to the received DRMP AVP priority level. For the response, it may modify the priority level received in the DRMP AVP according to its policies and shall handle the response according to the required priority level. If the required priority level is different from the priority level received in the request, it shall include the DRMP AVP in the response.\nIf:\n-\ta 3GPP functional entity supports using the Diameter message priority mechanism for DSCP marking purposes,\n-\tthe transport network utilizes DSCP marking, and\n-\tmessage-dependant DSCP marking is possible for the protocol stack transporting Diameter,\nthen the 3GPP functional entity shall set the DSCP marking for transport of the request or response according to the required priority level.\nThe decisions of the 3GPP functional entity for a required priority and for the priority level value are implementation specific.\nDiameter requests related to high priority traffic shall contain a DRMP AVP with a high priority of which the level value is operator dependent.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.1\tGeneral",
            "description": "The Diameter load control mechanism is an optional feature over the T6a/b and T7 interface, which may be applied to the traffic of request commands sent to the SCEF and/or to the traffic of request commands sent to the MME/SGSN.\nIt is recommended to make use of the IETF RFC 8583 [31] on the T6a/b and T7 interface where:\n-\twhen applied to the traffic of request commands sent to the SCEF, the MME/SGSN, and as an alternative  the IWK-SCEF shall behave as a reacting node;\n-\twhen applied to the traffic of request commands sent to the MME/SGSN, the SCEF, and as an alternative the IWK-SCEF, shall behave as a reacting node.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.2\tSCEF behaviour",
            "description": "When performing next hop Diameter Agent selection for requests that are routed based on realm, the SCEF may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [31].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.3\tMME/SGSN behaviour",
            "description": "When performing next hop Diameter Agent selection for requests that are routed based on realm, the MME/SGSN may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [31].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.4\tIWK-SCEF behaviour",
            "description": "When performing next hop Diameter Agent selection for requests that are routed based on realm, the IWK-SCEF may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [31].\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "",
                    "table number": 23,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        }
    ]
}