{
    "document_name": "29502-i50.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document specifies the stage 3 protocol and data model for the Nsmf Service Based Interface. It provides stage 3 protocol definitions and message flows, and specifies the API for each service offered by the SMF other than the Session Management Event Exposure service and Session Management services for Non-IP Data Delivery (NIDD).\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].\nThe Session Management Event Exposure Service is specified in 3GPP TS 29.508 [6]. The Session Management services for Non-IP Data Delivery (NIDD) are specified in 3GPP TS 29.542 [37].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\t3GPP TS 29.508: \"5G System; Session Management Event Exposure Service; Stage 3\".\n[7]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n[8]\t3GPP TS 24.007: \"Mobile radio interface signalling layer 3; General aspects\".\n[9]\t3GPP TS 38.413: \"NG Radio Access Network (NG-RAN); NG Application Protocol (NGAP)\".\n[10]\tIETF RFC 2387: \"The MIME Multipart/Related Content-type\".\n[11]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[12]\tIETF RFC 2045: \"Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies\".\n[13]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[14]\tIETF RFC 9113: \"HTTP/2\".\n[15]\tOpenAPI Initiative, \"OpenAPI Specification Version 3.0.0\", .\n[16]\t3GPP TS 29.274: \"3GPP Evolved Packet System (EPS); Evolved General Packet Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C); Stage 3\".\n[17]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[18]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[19]\t3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".\n[20]\t3GPP TS 29.518: \"5G System; Access and Mobility Management Service; Stage 3\".\n[21]\t3GPP TS 23.380: \"IMS Restoration Procedures\".\n[22]\t3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment trace; Trace control and configuration management\".\n[23]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[24]\t3GPP TS 23.527: \"5G System; Restoration Procedures\".\n[25]\t3GPP TS 32.255: \"Charging management; 5G data connectivity domain charging; stage 2\".\n[26]\t3GPP TS 32.291: \"Charging management; 5G system, charging service; Stage 3\".\n[27]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[28]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[29]\t3GPP TS 29.244: \"Interface between the Control Plane and the User Plane Nodes; stage 3\".\n[30]\t3GPP TS 29.512: \"5G System; Session Management Policy Control Service; Stage 3\".\n[31]\tVoid\n[32]\tIETF RFC 9110: \"HTTP Semantics\".\n[33]\t3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access; Stage 2\".\n[34]\t3GPP TS 29.524: \"5G System; Cause codes mapping between 5GC interfaces; Stage 3\".\n[35]\t3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC); Stage 2\".\n[36]\t3GPP TS 23.316: \"Wireless and wireline convergence access support for the 5G System (5GS)\".\n[37]\t3GPP TS 29.542: \"5G System; Session Management Services for Non-IP Data Delivery (NIDD); Stage 3\".\n[38]\t3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service for Policy Control Data, Application Data and Structured Data for Exposure; Stage 3\".\n[39]\t3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".\n[40]\t3GPP TS 29.531: \"5G System; Network Slice Selection Services; Stage 3\".\n[41]\t3GPP TS 23.256: \"Support of Uncrewed Aerial Systems (UAS) connectivity, identification and tracking; Stage 2\".\n[42]\t3GPP TS 23.015: \"Technical realization of Operator Determined Barring (ODB)\".\n[43]\t3GPP TS 23.304: \"Proximity based Services (ProSe) in the 5G System (5GS)\".\n[44]\t3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast services; Stage 2\".\n[45]\t3GPP TS 23.007: \"Restoration procedures\".\n[46]\t3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".\n\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tDefinitions",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nAlternative S-NSSAI: Indicating a compatible S-NSSAI for an S-NSSAI in the Allowed NSSAI that the AMF uses to replace an S-NSSAI when the S-NSSAI is not available or congested, as specified in 3GPP TS 23.501 [2].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nBP\tBranching Point\nDNAI\tData Network Access Identifier\nDNN\tData Network Name\nHR\tHome Routed\nHR-SBO\tHome Routed Session BreakOut\nH-SMF\tHome SMF\nI-SMF\tIntermediate SMF\nJSON\tJavascript Object NotationNAS\tNon-Access Stratum\nLADN\tLocal Area Data Network\nMA\tMulti-Access\nMO\tMobile Originated\nMT\tMobile TerminatedPSA\tPDU Session Anchor\nRSN\tRedundancy Sequence Number\nSM\tSession Management\nSMF\tSession Management Function\nSNPN\tStand-alone Non-Public Network\nTNGF\tTrusted Non-3GPP Gateway Function\nTWIF\tTrusted WLAN Interworking Function\nUAS\tUncrewed Aerial System\nUAV\tUncrewed Aerial Vehicle\nUL CL\tUplink Classifier\nUPF\tUser Plane Function\nUSS\tUAS Service Supplier\nUUAA\tUSS UAV Authorization/Authentication\nV-SMF\tVisited SMF\nW-AGF\tWireline Access Gateway Function\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tOverview",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "Within the 5GC, the SMF offers services to NF service consumers via the Nsmf service based interface (see 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3]).\nFigure 4.1-1 provides the reference model (in service based interface representation and in reference point representation), with focus on the SMF services specified within the present specification.\n\n\nThe figure depicts a reference model for a Single-Mode Fiber (SMF) network, illustrating the various components and their interconnections. The SMF network is designed to support high-speed data transmission, with a focus on minimizing the number of fiber-optic links required to achieve the desired performance. Key components include the SMF core, which serves as the backbone for the network, and the SMF distribution system, which distributes the SMF core to the various nodes in the network. The figure also includes a reference model for a Single-Mode Fiber (SMF) network, highlighting the various components and their interconnections.\nFigure 4.1-1: Reference model – SMF\nN16 is the reference point between the V-SMF and H-SMF in Home Routed (HR) roaming cases.\nN16a is the reference point between SMF and I-SMF.\nN38 is the reference point between I-SMFs or V-SMFs.\nThe functionalities supported by the SMF are listed in clause 6.2.2 of 3GPP TS 23.501 [2].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tServices offered by the SMF",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The SMF supports the following services.\nTable 5.1-1: NF Services provided by SMF\n\nTable 5.1-2 summarizes the corresponding APIs defined in this specification.\nTable 5.1-2: API Descriptions\n\n",
                    "tables": [
                        {
                            "description": "Table 5.1-1: NF Services provided by SMF",
                            "table number": 3,
                            "summary": "",
                            "name": ""
                        },
                        {
                            "description": "Table 5.1-2: API Descriptions",
                            "table number": 4,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tNsmf_PDUSession Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tService Description",
                            "text_content": "The Nsmf_PDUSession service operates on the PDU Sessions. The service operations exposed by this service allow other NFs to establish, modify and release the PDU Sessions. The following are the key functionalities of this NF service:\n-\tCreation, modification and deletion of SM contexts for PDU Sessions; an SM context represents an association between the NF Service Consumer (e.g. AMF) and the SMF for a PDU session;\n-\tRetrieval of SM contexts of PDU sessions (i.e. UE EPS PDN connection or complete SM context), e.g. to move PDU sessions towards the EPC using the N26 interface or to transfer SM contexts between I-SMFs or V-SMFs over the N38 interface;\n-\tCreation, modification and deletion of PDU sessions between the V-SMF and H-SMF in HR roaming scenarios, or between the I-SMF and SMF for PDU sessions involving an I-SMF;\n-\tSending of mobile originated data (received over NAS) for a PDU session to the SMF, V-SMF in HR roaming scenarios, or I-SMF for PDU sessions involving an I-SMF;\n-\tTransferring of NEF anchored mobile originated data for a PDU session to the H-SMF in HR roaming scenarios, or SMF for PDU sessions involving an I-SMF;\n-\tTransferring of NEF anchored mobile terminated data for a PDU session to the V-SMF in HR roaming scenarios, or I-SMF for PDU sessions involving an I-SMF;\n-\tAssociation of policy and charging rules with PDU Sessions and binding the policy and charging rules to flows;\n-\tInteracting with the UPF over N4 for creating, modifying and releasing user plane sessions;\n-\tProcess user plane events from the UPF and apply the corresponding policy and charging rules.\nThe Nsmf_PDUSession service supports the following service operations.\nTable 5.2.1-1: Service operations supported by the Nsmf_PDUSession service\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.1-1: Service operations supported by the Nsmf_PDUSession service",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.2\tService Operations",
                            "text_content": "See Table 5.2.1-1 for an overview of the service operations supported by the Nsmf_PDUSession service.\nThe Create SM Context service operation shall be used to create an individual SM context, for a given PDU session, in the SMF, in the V-SMF for HR roaming scenarios, or in the I-SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tUE requested PDU Session Establishment (see clauses 4.3.2 and 4.23.5.1 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS Idle mode mobility, EPS to 5GS Idle mode mobility with data forwarding or handover using N26 interface (see clauses 4.11.1, 4.23.12.3, 4.23.12.5 and 4.23.12.7 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS mobility without N26 interface (see clause 4.11.2.3 3GPP TS 23.502 [3]);\n-\tHandover of a PDU session between 3GPP access and non-3GPP access, when the target AMF does not know the SMF resource identifier of the SM context used by the source AMF, e.g. when the target AMF is not in the PLMN of the N3IWF (see clause 4.9.2.3.2 of 3GPP TS 23.502 [3]), or when the UE is roaming and the selected N3IWF is in the HPLMN (see clause 4.9.2.4.2 of 3GPP TS 23.502 [3]);\n-\tHandover from EPS to 5GC-N3IWF (see clause 4.11.3.1 of 3GPP TS 23.502 [3]);\n-\tHandover from EPC/ePDG to 5GS (see clause 4.11.4.1 of 3GPP TS 23.502 [3]);\n-\tXn based or N2 based handover with I-SMF or V-SMF insertion and change (see clauses 4.23.7.3, 4.23.11 and 4.23.12 of 3GPP TS 23.502 [3]);\n-\tUE Triggered Service Request with I-SMF insertion/change/removal or V-SMF change (see clause 4.23.4.3 of 3GPP TS 23.502 [3]);\n-\tRegistration procedure for a UE with a PDU session with I-SMF or V-SMF insertion, change and removal (see clause 4.23.3 of 3GPP TS 23.502 [3]);\n-\tHandover from EPC/ePDG to 5GS with I-SMF insertion (see clause 4.23 of 3GPP TS 23.502 [3]);\n-\tHandover from non-3GPP to 3GPP access with I-SMF insertion or V-SMF change, and Handover from 3GPP to non-3GPP access with I-SMF removal (see clause 4.23.16 of 3GPP TS 23.502 [3]);\n-\tSMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause 4.26.5.3 of 3GPP TS 23.502 [3]);\n-\tI-SMF Context Transfer procedure (see clause 4.26.5.2 of 3GPP TS 23.502 [3]);\n-\t5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of 3GPP TS 23.316 [36]);\n-\tFN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG requested PDU Session Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tHandover from 3GPP access/EPS to W-5GAN/5GC (see clause 7.6.4.1 of 3GPP TS 23.316 [36]);\n-\tSMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);\n-\tMulticast Session join and session establishment procedure in clause 7.2.1.3 of 3GPP TS 23.247 [44].\nThere shall be only one individual SM context per PDU session.\nThe NF Service Consumer (e.g. AMF) shall create an SM context by using the HTTP POST method as shown in Figure 5.2.2.2.1-1.\nThe figure depicts a complex network setup, with various components such as SMs (Service Mains) and SMs (Service Mains) and their respective connections. The SM context creation process is detailed in this figure, illustrating the steps involved in creating a context for a specific SM.\nFigure 5.2.2.2.1-1: SM context creation\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the SM contexts collection resource of the SMF. The content of the POST request shall contain:\n-\ta representation of the individual SM context resource to be created;\n-\tthe requestType IE, if the Request type IE is received from the UE for a single access PDU session and if the request refers to an existing PDU session or an existing Emergency PDU session; the requestType IE shall not be included for a MA-PDU session establishment request; it may be included otherwise;\n-\tthe Old PDU Session ID, if it is received from the UE (i.e. for a PDU session establishment for the SSC mode 3 operation);\n-\tthe indication that the UE is inside or outside of the LADN (Local Area Data Network) service area, if the DNN corresponds to a LADN;\n-\tthe perLadnDnnSnssaiInd IE, indicating that the PDU Session is subject to LADN per LADN DNN and S-NSSAI, if the AMF enforces the LADN Service Area per LADN DNN and S-NSSAI;\n-\tthe indication that a MA-PDU session is requested if a MA-PDU session is requested to be established by the UE, or the indication that the PDU session is allowed to be upgraded to a MA-PDU session if so indicated by the UE;\n-\tthe n3gPathSwitchSupportInd IE if the AMF supports non-3GPP access path switching while maintaining two N2 connections for non-3GPP access, the selected SMF supports non-3GPP path switching and if the UE supports non-3GPP access path switching as specified in clause 4.22.2.1 of 3GPP TS 23.502 [3];\n-\tthe indication that the same PCF is required for the requested DNN and S-NSSAI, if it is received by the AMF from UE Subscription data in the UDM, together with the PCF ID selected by the AMF;\n-\tthe alternative S-NSSAI, if the NF service consumer and UE support the network slice replacement and it is requested to replace the S-NSSAI with the alternative S-NSSAI (see clause 5.15.19 of 3GPP TS 23.501 [2]);\n-\tthe alternative HPLMN S-NSSAI, if the NF service consumer and UE support the network slice replacement and it is requested to replace the HPLMN S-NSSAI with the alternative HPLMN S-NSSAI for a HR PDU session (see clause 5.15.19 of 3GPP TS 23.501 [2]);\n-\tthe anType;\n-\tthe additionalAnType, if the UE is registered over both 3GPP and Non-3GPP accesses;\n-\tthe cpCiotEnabled IE with the value \"True\", if the NF service consumer (e.g. the AMF) has verified that the CIOT feature is supported by the SMF (and for a home-routed session, that it is also supported by the H-SMF), and Control Plane CIoT 5GS Optimisation is enabled for this PDU session;\n-\tthe cpOnlyInd IE with the value \"True\", if the PDU session shall only use Control Plane CIoT 5GS Optimisation;\n-\tthe Invoke NEF indication with the value \"True\" for a home-routed PDU session, if the cpCiotEnabled IE is set to \"True\" and data delivery via NEF is selected for the PDU session;\n-\ta subscription for SM context status notification;\n-\tthe servingNfId identifying the serving AMF;\n-\ttrace control and configuration parameters, if trace is to be activated (see 3GPP TS 32.422 [22]);\n-\tidentifiers (i.e. FQDN or IP address) of N3 terminations at the W-AGF, TNGF or TWIF, if available;\n-\ta subscription for DDN failure notification, if the Availability after DDN failure event is subscribed by the UDM;\n-\tthe upipSupported IE set to \"true\", if the UE supports User Plane Integrity Protection with EPS and if the AMF supports the related functionality.\nFor the UE requested PDU Session Establishment procedure in home routed roaming scenario (see clause 4.3.2.2.2 of 3GPP TS 23.502 [3]), the NF Service Consumer shall provide the URI of the Nsmf_PDUSession service of the H-SMF in the hSmfUri IE and optionally the corresponding SMF ID, and may provide the URI of the Nsmf_PDUSession service of additional H-SMF(s) with the corresponding SMF ID(s). The V-SMF shall try to create the PDU session using the hSmfUri IE. If due to communication failure on the N16 interface the V-SMF does not receive any response from the H-SMF, then:\n-\tdepending on operator policy, the V-SMF may try reaching the hSmfUri via an alternate path; or\n-\tif additional H-SMF URI is provided, the V-SMF may try to create the PDU session on one of the additional H-SMF(s) provided.\nFor a PDU session establishment with an I-SMF (see clause 4.23.5.1 of of 3GPP TS 23.502 [3]), the NF Service Consumer shall provide the URI of the Nsmf_PDUSession service of the SMF in the smfUri IE and optionally the corresponding SMF ID, and may provide the URI of the Nsmf_PDUSession service of additional SMF(s) with the corresponding SMF ID(s). The I-SMF shall try to create the PDU session using the smfUri IE. If due to communication failure on the N16a interface the I-SMF does not receive any response from the SMF, then:\n-\tdepending on operator policy, the I-SMF may try reaching the smfUri via an alternate path; or\n-\tif additional SMF URI is provided, the I-SMF may try to create the PDU session on one of the additional SMF(s) provided.\nFor the UE requested PDU Session Establishment procedure, if the AMF determines that the RAT type is NB-IoT and the UE has already 2 PDU Sessions with user plane resources activated, the AMF may continue with the PDU Session establishment and include the cpCiotEnabled IE or cpOnlyInd IE with the value \"True\" to the SMF as specified in clause 4.3.2.2.1 of 3GPP TS 23.502 [3].\nThe content of the POST request may further contain:\n-\tthe name of the AMF service to which SM context status notification are to be sent (see clause 6.5.2.2 of 3GPP TS 29.500 [4]), encoded in the serviceName attribute;\n-\tthe remote provisioning server information, if both the AMF and SMF support the Remote Provisioning of UEs in Onboarding Network procedures and the AMF received the information from AUSF for remote provisioning of the UE via user plane;\n-\tthe Onboarding Indication, if the UE is registered for onboarding in an SNPN;\n-\tthe indication of Notification for SM Policy Association events with the value \"true\" and the callback information of the PCF for the UE (i.e. the PCF for AM Policy and possibly UE Policy) to receive the notification, if both NF service consumer and the SMF support the \"SPAE\" feature and if the SM Policy Association Establishment and Termination events should be reported for the PDU session by the PCF for SM Policy to the PCF for the UE. See clause 4.3.2.2.1 of 3GPP TS 23.502 [3];\n-\tthe satelliteBackhaulCat IE indicating the category of the satellite backhaul used towards the 5G AN serving the UE, if the AMF is aware of that a satellite backhaul is used towards the 5G AN;\n-\tthe disasterRoamingInd IE set to true if the UE is registered for Disaster Roaming service;\n-\tthe hrsboAllowedInd IE set to true if the Session Breakout for HR session in VPLMN is allowed;\n-\tthe indication of PDU session establishment rejection together with the corresponding rejection cause, if the SMF supports the \"PSER\" (PDU Session Establishment Rejection) feature and the NF service consumer (i.e. the AMF) has determined that the PDU Session Establishment shall be rejected (e.g. due to the ODB configuration retrieved from the UDM).\n2a.\tOn success, \"201 Created\" shall be returned, the content of the POST response shall contain the representation describing the status of the request and the \"Location\" header shall be present and shall contain the URI of the created resource. The authority and/or deployment-specific string of the apiRoot of the created resource URI may differ from the authority and/or deployment-specific string of the apiRoot of the request URI received in the POST request.\n\nIf the requestType IE was received in the request and set to EXISTING_PDU_SESSION or EXISTING_EMERGENCY_PDU_SESSION (i.e. indicating that this is a UE request for an existing PDU session or an existing emergency PDU session), the SMF shall identify the existing PDU session or emergency PDU session based on the PDU Session ID; in this case, the SMF shall not create a new SM context but instead update the existing SM context and provide the representation of the updated SM context in the \"201 Created\" response to the NF Service Consumer.\nThe POST request shall be considered as colliding with an existing SM context if:\n-\tthis is a request to establish a new PDU session, i.e.:\n-\tthe RequestType IE is present in the request and set to INITIAL_REQUEST or INITIAL_EMERGENCY_REQUEST (e.g. single access PDU session establishment request);\n-\tthe RequestType IE and the maRequestInd IE are both absent in the request (e.g. EPS to 5GS mobility); or\n-\tthe maRequestInd IE is present in the request (i.e. MA-PDU session establishment request) and the access type indicated in the request corresponds to the access type of the existing SM context.\nand either of the following conditions is met:\n-\tthis is a request to establish a non-emergency PDU session and the request includes the same SUPI and the same PDU Session ID as for an existing SM context; or\n-\tthis is a request to establish an emergency PDU session and the request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, as for an existing SM context for an emergency PDU session.\nA POST request that collides with an existing SM context shall be treated as a request for a new SM context. Before creating the new SM context, the SMF should delete the existing SM context locally and any associated resources in the UPF, PCF, CHF, and UDM. If the UP connection of the existing PDU session is active, the SMF should also request (R)AN to release associated resources. See also clause 5.2.3.3.1 for the handling of requests which collide with an existing SM context. If the smContextStatusUri of the existing SM context differs from the smContextStatusUri received in the POST request, the SMF shall also send an SM context status notification (see clause 5.2.2.5) targeting the smContextStatusUri of the existing SM context to notify the release of the existing SM context. For a HR PDU session, if the H-SMF URI in the request is different from the H-SMF URI of the existing PDU session, the V-SMF should also delete the existing PDU session in the H-SMF by invoking the Release service operation (see clause 5.2.2.9). For a PDU session with an I-SMF, if the SMF URI in the request is different from the SMF URI of the existing PDU session, the I-SMF should also delete the existing PDU session in the SMF by invoking the Release service operation (see clause 5.2.2.9).\nIf the requestType IE was received in the request and indicates this is a request for a new PDU session (i.e. INITIAL_REQUEST) and if the Old PDU Session ID was also included in the request, the SMF shall identify the existing PDU session to release and to which the new PDU session establishment relates, based on the Old PDU Session ID.\nIf no GPSI IE is provided in the request, e.g. for a PDU session moved from another access or another system, and the SMF knows that a GPSI is already associated with the PDU session (or a GPSI is received from h-SMF for a HR PDU session), the SMF shall include the GPSI in the response.\nIf the indication of Notification for SM Policy Association events was received with the value \"true\" together with the callback information of the PCF for the UE in the request and SM Policy Association is to be established for the PDU session, the SMF shall provide the callback information of the PCF for the UE to the PCF for SM Policy during SM Policy Association Establishment.\n2b.\tIf the request does not include the \"UE presence in LADN service area\" indication and the SMF determines that the DNN corresponds to a LADN, then the SMF shall consider that the UE is outside of the LADN service area. The SMF shall reject the request if the UE is outside of the LADN service area.\nOn failure, or redirection during a UE requested PDU Session Establishment, one of the HTTP status code listed in Table 6.1.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body shall contain an SmContextCreateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.2.3.1-3;\n-\tN1 SM information (PDU Session Reject), if the request included N1 SM information, except if the error prevents the SMF from generating a response to the UE (e.g. invalid request format).\nFor the UE requested PDU Session Establishment, the SMF shall reject the request with \"EXCEEDED_SLICE_DATA_RATE\" application error if the SMF receives from the PCF that the maximum bit rate per S-NSSAI is exceeded, or with \"EXCEEDED_UE_SLICE_DATA_RATE\" application error if the SMF receives from the PCF that the maximum bit rate per S-NSSAI per UE is exceeded.\nFor the UE requested PDU Session Establishment, the SMF shall directly reject the request if the SMF supports the \"PSER\" feature and it has received the indication of PDU Session Establishment Rejection from the AMF in the Create SM Context request.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to move a UE EPS PDN connection to 5GS using N26 interface, as follows.\nThe figure depicts a schematic representation of an EPS (Enhanced Passive System) to 5GS Idle mode mobility using the N26 interface. It illustrates the steps involved in transitioning from EPS to 5GS Idle mode, including the use of the N26 interface for data transmission. The figure provides a clear visual representation of the process, making it easier to understand the steps and the steps involved.\nFigure 5.2.2.2.2-1: EPS to 5GS Idle mode mobility using N26 interface\n1.\tThe NF Service Consumer shall send a POST request towards the SMF (+PGW-C) of each UE EPS PDN connection, as specified in clause 5.2.2.2.1, with the following additional information:\n-\tUE EPS PDN connection, including the EPS bearer contexts, received from the MME, representing the individual SM context resource to be created;\n-\tthe pduSessionsActivateList attribute, including the PDU Session ID of all the PDU session(s) to be re-activated;\n-\tthe epsBearerCtxStatus attribute, indicating the status of all the EPS bearer contexts in the UE, if corresponding information is received in the Registration Request from the UE;\n-\tthe dlDataWaitingInd attribute, indicating that DL data buffered in EPS needs to be forwarded to the UE, if such indication is present in the Context Response received from the MME.\n2a.\tUpon receipt of such a request, if:\n-\ta corresponding PDU session is found based on the EPS bearer contexts (after invoking a Create service operation towards the H-SMF for a Home Routed PDU session, or towards the SMF for a PDU session with an I-SMF);\n-\tthe default EPS bearer context of the corresponding PDU session is not reported as inactive by the UE in the epsBearerCtxStatus attribute, if received; and\n-\tit is possible to proceed with moving the PDN connection to 5GS,\nthen the SMF shall return a 201 Created response including the following information:\n-\tPDU Session ID corresponding to the default EPS bearer ID of the EPS PDN connection;\n-\tS-NSSAI assigned to the PDU session; in home routed roaming case, the S-NSSAI for home PLMN shall be returned;\n-\tthe allocatedEbiList attribute, containing the EBI(s) allocated to the PDU session;\nand, if the PDU session that is derived by the SMF based on the EPS bearer contexts was requested to be re-activated, i.e. if the PDU Session ID was present in the pduSessionsActivateList,or if DL data buffered in EPS needs to be forwarded to the UE:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tN2 SM information to request the 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including (among others) the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\nIf the epsBearerCtxStatus attribute is received in the request, the SMF shall check whether some EPS bearer(s) of the corresponding PDU session have been deleted by the UE but not notified to the EPS, and if so, the SMF shall release these EPS bearers, corresponding QoS rules and QoS flow level parameters locally, as specified in clause 4.11.1.3.3 of 3GPP TS 23.502 [3].\n\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID, and store the allocated EBI(s) associated to the PDU Session ID.\nNOTE:\tThe behaviour specified in this step also applies if the POST request collides with an existing SM context, i.e. if the POST request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, and the default EPS bearer ID received in the UE EPS PDN connection is the same as in the existing SM context.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1. Steps 3 to 4 are skipped in this case.\nIf the SMF determines that seamless session continuity from EPS to 5GS is not supported for the PDU session, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".\nIf the default EPS bearer context of the PDU session is reported as inactive by the UE in the epsBearerCtxStatus attribute, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"DEFAULT_EPS_BEARER_INACTIVE\".\n3.\tSame as step 3 of figure 5.2.2.3.2.2-1, if the SMF returned a 201 Created response with the upConnectionState set to ACTIVATING and N2 SM Information,\n4.\tSame as step 4 of figure 5.2.2.3.2.2-1. During an EPS to 5GS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.3A of 3GPP TS 23.502 [3]), the 200 OK response shall additionally contain the CN tunnel information for data forwarding from EPS, i.e. the forwardingFTeid attribute or the forwarding bearer contexts to be sent to the MME in the Context Acknowledge, based on the association between the EPS bearer ID(s) and QFI(s) for the QoS flow(s).\nThe NF Service Consumer (e.g. AMF) shall request the SMF to handover a UE EPS PDN connection to 5GS using N26 interface, as follows.\nThe figure depicts a handover process from EPS (Enhanced Packet Service) to 5GS (5G Service) using the N26 interface. It illustrates the steps involved in transitioning from EPS to 5GS, including the use of the N26 interface for signaling and data transfer. The figure provides a visual representation of the handover process, allowing users to understand the steps and the role of the N26 interface in the transition.\nFigure 5.2.2.2.3-1: EPS to 5GS handover using N26 interface\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.2.1, with the following additional information:\n-\tUE EPS PDN connection, including the EPS bearer contexts, representing the individual SM context resource to be created;\n-\thoState attribute set to PREPARING (see clause 5.2.2.3.4.1);\n-\tthe indication of whether direct or indirect DL data forwarding applies;\n-\ttargetId identifying the target RAN Node ID and TAI based on the Target ID IE received in the Forward Relocation Request message from the source MME.\nNOTE 1:\tThe Target ID IE can be set to the Target NG-RAN Node ID containing a Global RAN Node ID and selected TAI with 3-octets length, or the Target eNB ID containing a Global eNB ID and selected TAI with 2-octets length; for the latter case, the NF Service Consumer, i.e. the AMF needs determine a value for the Target NG-RAN Node ID and TAI with 3-octets length based on the local configuration to be provided to the SMF.\n2a.\tUpon receipt of such a request, if a corresponding PDU session is found based on the EPS bearer contexts (after invoking a Create service operation towards the H-SMF, for a Home Routed PDU session) and it is possible to proceed with handing over the PDN connection to 5GS, the SMF shall return a 201 Created response including the following information:\n-\thoState attribute set to PREPARING and N2 SM information to request the target 5G-AN to assign resources to the PDU session, as specified in step 2 of Figure 5.2.2.3.4.2-1; if the SMF was indicated in step 1 that direct data forwarding is applicable, the SMF shall include an indication that a direct forwarding path is available in the N2 SM information;\n-\tPDU Session ID corresponding to the default EPS bearer ID of the EPS PDN connection;\n-\tS-NSSAI assigned to the PDU session; in home routed roaming case, the S-NSSAI for home PLMN shall be returned;\n-\tallocatedEbiList, containing the EBI(s) allocated to the PDU session;\n-\toptional udmGroupId, containing the identity of the UDM group serving the UE, to facilitate the UDM selection at the target AMF;\n-\toptional pcfGroupId, containing the identity of the PCF group for Session Management Policy for the PDU session, to facilitate the PCF selection at the target AMF.\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\n\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID, and store the allocated EBI(s) associated to the PDU Session ID.\nNOTE 2:\tThe behaviour specified in this step also applies if the POST request collides with an existing SM context, i.e. if the POST request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, and the default EPS bearer ID received in the UE EPS PDN connection is the same as in the existing SM context.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1 with the following additions. Steps 3 and 4 of figure 5.2.2.3.8.2-1 are skipped in this case.\nIf the SMF determines that seamless session continuity from EPS to 5GS is not supported for the PDU session, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".\nWhen receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g. the AMF) shall regard the hoState of the SM Context to be NONE.\nThe NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF insertion or change) or the SMF (for I-SMF removal) to create a SM context during Xn based handover, as follows.\n1.\tThe NF Service Consumer shall send a POST request, with the following additional information:\n-\tN2 SM information received from the target 5G-AN (see Path Switch Request Transfer IE in clause 9.3.4.8 of 3GPP TS 38.413 [9]);\n-\tadditional N2 SM information received from the source 5G-AN (see Secondary RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF during I-SMF insertion, or the SM Context resource in the source I-SMF during I-SMF change or removal, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF during I-SMF insertion or change, and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response.\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\n\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nIf the Path Swith Request Transfer IE is included within the N2 SM Information in the request message but the path switch failed, the message body shall contain an SmContextCreateError structure, including:\n-\tN2 SM information (Path Swith Request Unsuccessful Transfer).\nThe NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF insertion or change) or the SMF (for I-SMF removal) to create a SM context during N2 based handover, as follows.\n1.\tThe NF Service Consumer shall send a POST request, with the following additional information:\n-\tN2 SM information received from the source NG-RAN (see Handover Required Transfer IE in clause 9.3.4.14 of 3GPP TS 38.413 [9]);\n-\tthe hoState attribute set to PREPARING (see clause 5.2.2.3.4.1);\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF during I-SMF insertion,,or the SM Context resource in the source I-SMF during I-SMF change or removal, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF during I-SMF insertion or change, and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response including the following information:\n-\thoState attribute set to PREPARING and N2 SM information to request the target 5G-AN to assign resources to the PDU session, as specified in step 2 of Figure 5.2.2.3.4.2-1;\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\n\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nThe NF Service Consumer (e.g. AMF) shall request the new I-SMF or new V-SMF to create a SM context during a Service Request with I-SMF insertion/change or with V-SMF change, or shall request the SMF to create a SM context during a Service Request with I-SMF removal, as follows.\nThe figure depicts a service request with I-SMF insertion/change/removal or with V-SMF change, illustrating the process of managing network services. The figure includes various elements such as the service request form, the I-SMF insertion/change/removal interface, and the V-SMF change interface, all of which are essential for managing network services.\nFigure 5.2.2.2.6-1: Service Request with I-SMF insertion/change/removal or with V-SMF change\n1.\tThe NF Service Consumer shall send a POST request as specified in clause 5.2.2.2.1, with the following additional information:\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF (for a Service Request with an I-SMF insertion) or in the old I-SMF (for a Service Request with an I-SMF change or removal) or in the old V-SMF (for a Service Request with a V-SMF change), and optionally the NF instance identifier of the SMF hosting the SM Context resource.\n-\tthe upCnxState attribute set to ACTIVATING (see clause 5.2.2.3.2.1) to indicate the establishment of N3 tunnel User Plane resources for the PDU Session;\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF (for a Service Request with an I-SMF insertion or change), and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF;\n-\tthe hSmfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the H-SMF (for a Service Request with an V-SMF change), and optionally the NF instance identifier of the H-SMF, if the \"ACSCR\" feature is not supported by the AMF and V-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response as specified in clause 5.2.2.2.1 with the following additional information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tN2 SM information to request the 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\n2b.\tSame as step 2b of figure 5.2.2.2.1-1. Steps 3 to 4 of figure 5.2.2.3.2.2-1 are skipped in this case.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to create a SM context during UE Registration procedure for a PDU session with I-SMF or V-SMF insertion, change and removal, as follows.\n1.\tSame as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST request, with the following additional information:\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF during I-SMF or V-SMF insertion or the SM Context resource in the I-SMF or V-SMF during I-SMF or V-SMF removal or the SM Context resource in the old I-SMF or old V-SMF during I-SMF or V-SMF change, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe upCnxState attribute set to ACTIVATING (see clause 5.2.2.3.2.1) to indicate the establishment of N3 tunnel User Plane resources for the PDU Session, if the UE requested to activate the PDU session;\n-\tif the UE is in CM-CONNECTED state during the registration procedure after an EPS to 5GS handover (see clause 4.11.1.3.3 of 3GPP TS 23.502 [3]), the ranUnchangedInd attribute shall be set to indicate that NG-RAN is not changed for the PDU Session (i.e. for this case, the NG-RAN tunnel info shall be included in SM context retrieved from old I-SMF, or old V-SMF or SMF);\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF during I-SMF insertion or change, and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response.\nIf the SMF establishes N3 tunnel User Plane resources for the PDU Session, e.g. due to the NF Service Consumer requesting so or due to buffered DL data in the old I-SMF/I-UPF or old V-SMF/V-UPF (see clause 4.23.3 of 3GPP TS 23.502 [3]), the 201 Created response shall contain the following additional information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tN2 SM information to request the 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\nIf the SMF receives the ranUnchangedInd attribute set to indicate that NG-RAN is not changed for the PDU Session, the SMF shall respond with a 201 Created with the following additional information:\n-\tN2 SM information to request the 5G-AN to update UPF tunnel info of the PDU session (see PDU Session Resource Modify Request Transfer IE in clause 9.3.4.3 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic and NG-RAN's GTP-U F-TEID for downlink traffic).\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\n\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to create a SM context during an SMF Context Transfer procedure, LBO or no Roaming, no I-SMF, as follows.\n1.\tSame as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST request, with the following additional information:\n-\tSMF transfer indication, Old SMF ID, the identifier of the SM Context resource in old SMF.\n2a.\tOn success, the SMF shall return a 201 Created response.\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\n\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to create a SM context during I-SMF Context Transfer procedure, as follows.\n1.\tSame as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST request, with the following additional information:\n-\tSMF transfer indication, Old SMF ID, the identifier of the SM Context resource in old SMF.\n2a.\tOn success, the SMF shall return a 201 Created response.\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\n\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nThe NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF insertion during a handover from non-3GPP to 3GPP access), the V-SMF (for V-SMF change during a handover from non-3GPP to 3GPP access) or the SMF (for I-SMF removal during a handover from 3GPP to non-3GPP access) to create a SM context as follows.\n1.\tThe NF Service Consumer shall send a POST request as specified in clause 5.2.2.2.1, with the following additional information:\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF (during I-SMF insertion), the SM Context resource in the source I-SMF during I-SMF removal, or the SM Context resource in the source V-SMF during V-SMF change, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF (during I-SMF insertion), and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF;\n-\tthe hSmfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the H-SMF (during V-SMF change), and optionally the NF instance identifier of the H-SMF, if the \"ACSCR\" feature is not supported by the AMF and V-SMF.\n2a.\tSame as step 2a of figure 5.2.2.2.1-1.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nThe SMF (for I-SMF removal during a handover from 3GPP to non-3GPP access) may perform Network Slice Admission Control before the PDU Session is moved to the target access (i.e., before the N3 tunnel for the PDU Session is established).\nThe NF Service Consumer (e.g. AMF) shall invoke the following procedure to request:\n-\tthe new I-SMF to create a SM context if the SMF (or the associated old I-SMF) cannot serve the target DNAI; or\n-\tthe SMF to create the SM context if an I-SMF is used for the PDU Session and the SMF itself can serve the target DNAI hence the existing I-SMF is no longer needed; or\n-\tthe SMF to create the SM context if an I-SMF is used for the PDU Session and the DNAI currently served by I-SMF is not used for the PDU Session anymore, hence the existing I-SMF is not needed; or\n-\tthe new V-SMF to create a SM context if the associated old V-SMF cannot serve the target DNAI.\nThe figure depicts a selection or removal process for I-SMF (Inter-SMF) and V-SMF (Vertical SMF) selection per DNAI (Digital Network Interface) in a 5G network. The process involves selecting or removing SMF (Signal Medium) based on the specific requirements of the DNAI. This is crucial for ensuring efficient and reliable communication in a 5G network.\nFigure 5.2.2.2.12-1: I-SMF selection/removal or V-SMF selection per DNAI\n1.\tThe NF Service Consumer shall send a POST request as defined in step 1 of Figure 5.2.2.2.6-1, with the following additional information:\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF during I-SMF insertion, or the SM Context resource in the source I-SMF during I-SMF change/removal, or the SM Context resource in the source V-SMF during V-SMF change, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe target DNAI, if it is received in the targetDnaiInfo attribute of the SM context status notification;\n-\tif the UE is in CM-CONNECTED state, the ranUnchangedInd attribute shall be set to indicate that NG-RAN is not changed for the PDU Session (i.e. for this case, the NG-RAN tunnel info shall be included in SM context retrieved from old I-SMF, old V-SMF or SMF) as specified in clause 4.23.5.4 of 3GPP TS 23.502 [3] and clause 6.7.3.2 of 3GPP TS 23.548 [74];\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF (during I-SMF insertion/change, or V-SMF change), and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF, I-SMF or V-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response, with the following additional information:\nIf the SMF receives the ranUnchangedInd attribute set to indicate that NG-RAN is not changed for the PDU Session, the SMF shall include the N2 SM information to request the 5G-AN to update UPF tunnel info of the PDU session (see PDU Session Resource Modify Request Transfer IE in clause 9.3.4.3 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic and NG-RAN's GTP-U F-TEID for downlink traffic).\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nThe Update SM Context service operation shall be used to update an individual SM context and/or provide N1 or N2 SM information received from the UE or the AN, for a given PDU session, towards the SMF, or the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tPDU Session modification (see clause 4.3.3 of 3GPP TS 23.502 [3]);\n-\tUE or network requested PDU session release (see clause 4.3.4.2 and clause 4.3.4.3 of 3GPP TS 23.502 [3]);\n-\tUE requested MA PDU session establishment over the other access (see clause 4.22.7 of 3GPP TS 23.502 [3]);\n-\tUE or network-initiated MA PDU session release over a single access (see clause 4.22 of 3GPP TS 23.502 [3]);\n-\tActivation or Deactivation of the User Plane connection of an existing PDU session, i.e. establishment or release of the N3 tunnel between the AN and serving CN (see clause 5.6.8 of 3GPP TS 23.501 [2], clauses 4.2.2.2, 4.2.3, 4.2.6, 4.2.10 and 4.9.1.3.3 of 3GPP TS 23.502 [3], clauses 7.2.2.1, 7.2.2.2, 7.2.5.2 and 7.2.5.3 of 3GPP TS 23.316 [36]) and clause 7.2.5.2 of 3GPP TS 23.247 [44];\n-\tXn and N2 Handover procedures (see clauses 4.9.1, 4.23.7 and 4.23.11 of 3GPP TS 23.502 [3]);\n-\tHandover between 3GPP and untrusted non-3GPP access procedures (see clause 4.9.2 of 3GPP TS 23.502 [3]);\n-\tInter-AMF change due to AMF planned maintenance or AMF failure (see clause 5.21.2 of 3GPP TS 23.501 [2]), or inter-AMF mobility in CM-IDLE mode (see clauses 4.2.2.2 and 4.23.3 of 3GPP TS 23.502 [3]);\n-\tRAN Initiated QoS Flow Mobility (see clause 4.14.1 of 3GPP TS 23.502 [3] and clause 8.2.5 of 3GPP TS 38.413 [9]);\n-\tAll procedures requiring to provide N1 or N2 SM information to the SMF, e.g. UE requested PDU Session Establishment procedure (see clause 4.3.2.2 of 3GPP TS 23.502 [3]), USS UAV Authorization/Authentication (UUAA) to carry the UUAA authentication message during the PDU Session Establishment (see clause 5.2.3.2 of 3GPP TS 23.256 [41] and Service-level-AA container in 3GPP TS 24.501 [7]), session continuity procedure (see clause 4.3.5 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS Idle mode mobility, EPS to 5GS Idle mode mobility with data forwarding or handover using N26 interface (see clause 4.11 of 3GPP TS 23.502 [3]);\n-\t5GS to EPS Handover using N26 interface (see clause 4.11.1.2 of 3GPP TS 23.502 [3]);\n-\t5GS to EPS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.2A of 3GPP TS 23.502 [3]);\n-\tPDU Session Reactivation during P-CSCF Restoration procedure via AMF (see clause 5.8.4.3 of 3GPP TS 23.380 [21]);\n-\tAMF requested PDU session release due to a change of the set of network slices for a UE where a network slice instance is no longer available (see clause 4.3.4.2 of 3GPP TS 23.502 [3]);\n-\tAMF receives an \"initial request\" with PDU Session Id which already exists in PDU session context of the UE (see clause 5.4.5.2.5 of 3GPP TS 24.501 [7]);\n-\tSecondary RAT Usage Data Reporting (see clause 4.21 of 3GPP TS 23.502 [3]);\n-\tService Request Procedures with I-SMF change or I-SMF removal when downlink data packets are buffered at the I-UPF (See clause 4.23.4 of 3GPP TS 23.502 [3]);\n-\tConnection Suspend procedure (see clause 4.8.1.2 of 3GPP TS 23.502 [3]);\n-\tConnection Resume in CM-IDLE with Suspend procedure (see clause 4.8.2.3 of 3GPP TS 23.502 [3]);\n-\t5G-RG or Network requested PDU Session Modification via W-5GAN (see clause 7.3.2 of 3GPP TS 23.316 [36]);\n-\t5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network requested PDU Session Modification via W-5GAN (see clause 7.3.6 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.7 of 3GPP TS 23.316 [36]);\n-\tHandover between 3GPP access/5GC and W-5GAN access (see clause 7.6.3 of 3GPP TS 23.316 [36]);\n-\tAMF requested PDU session release due to Network Slice-Specific (Re-)Authentication and (Re-)Authorization failure or revocation (see clauses 4.2.9.2, 4.2.9.3 and 4.2.9.4 of 3GPP TS 23.502 [3]);\n-\t5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of 3GPP TS 23.316 [36]);\n-\tFN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG requested PDU Session Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU Session Modification via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tCN-initiated selective deactivation of UP connection of an existing PDU Session associated with W-5GAN Access (see clause 7.3.5 of 3GPP TS 23.316 [36]);\n-\tHandover between 3GPP access / EPS and W-5GAN/5GC access (see clause 7.6.4 of 3GPP TS 23.316 [36]);\n-\tAMF requested PDU session release due to Control Plane Only indication associated with PDU Session is not applicable any longer as described in 3GPP TS 23.501 [2] clause 5.31.4.1;\n-\tSubscribe to / unsubscribe from the DDN failure status notification (see clauses 4.15.3.2.7 and 4.15.3.2.9 of 3GPP TS 23.502 [3]);\n-\tAMF requested PDU session release due to ODB changes (see clause 2.6C.2 of 3GPP TS 23.015 [42]);\n-\tSimultaneous change of Branching Points or UL CLs controlled by different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]);\n-\tRemote UE Report during 5G ProSe Communication via 5G ProSe Layer-3 UE-to-Network Relay without N3IWF (see clause 6.5.1.1 of 3GPP TS 23.304 [43];\n-\tMulticast Session join and session establishment procedure in clause 7.2.1.3 of 3GPP TS 23.247 [44];\n-\tMulticast MBS session leave and release procedure in clause 7.2.2 of 3GPP TS 23.247 [44];\n-\tMBS session activation procedure in clause 7.2.5.2 of 3GPP TS 23.247 [44];\n-\tMobility procedures for MBS in clause 7.2.3 of 3GPP TS 23.247 [44];\n-\tConnection Inactive procedure with CN based MT communication handling in clause 4.8.1.1a of 3GPP TS 23.502 [3];\n-\tUE Triggered Connection Resume in RRC Inactive procedure in clause 4.8.2.2 of 3GPP TS 23.502 [3];\n-\tNetwork Slice Replacement, see clause 5.15.19 of 3GPP TS 23.501 [2];\n-\tAMF requested PDU Session release due to MBSR not authorized as described in clause 5.35A.4 of 3GPP TS 23.501 [2] and in clause 4.3.4.2 of 3GPP TS 23.502 [3].\nThe NF Service Consumer (e.g. AMF) shall update an individual SM context and/or provide N1 or N2 SM information to the SMF by using the HTTP POST method (modify custom operation) as shown in Figure 5.2.2.3.1-1.\nThe figure depicts a complex network architecture, illustrating the interconnection of various components such as base stations (BTS), user equipment (UE), and scatterers. The diagram highlights the importance of beamforming techniques to mitigate interference, as well as the use of redundancy paths to ensure failover reliability. The layered design of the network aligns with SDN principles, emphasizing the importance of network virtualization and automation.\nFigure 5.2.2.3.1-1: SM context update\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual SM context resource in the SMF. The content of the POST request shall contain the modification instructions and/or the N1 or N2 SM information, or the indication that the PDU session is allowed to be upgraded to a MA PDU session if so indicated by the UE as specified in clause 6.4.2.2 of 3GPP TS 24.501 [7], or subscribe/unsubscribe of the DDN failure notification as specified in clause 4.15.3.2.7 of 3GPP TS 23.502 [3]. If the request contains EBI(s) to revoke, then the SMF shall disassociate the EBI(s) with the QFI(s) with which they are associated.\n2a.\tOn success, \"204 No Content\" or \"200 OK\" shall be returned; in the latter case, the content of the POST response shall contain the representation describing the status of the request and/or N1 or N2 SM information.\nIf the ExemptionInd IE is included in the request message, indicating that the NAS SM message included in the request was exempted from NAS congestion control by the AMF, the SMF shall verify that the included 5G SM message can be exempted from a NAS SM congestion control activated in the AMF as specified in clause 5.19.7 of 3GPP TS 23.501 [2].\nThe SMF may indicate to the NF Service Consumer that it shall release EBI(s) that were assigned to the PDU session by including the releaseEbiList IE, e.g. when a QoS flow is released.\n2b.\tOn failure or redirection, one of the HTTP status codes listed in Table 6.1.3.3.4.2.2-2 shall be returned.  For a 4xx/5xx response, the message body shall contain an SmContextUpdateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.3.4.2.2-2;\n-\tN1 SM information, if the SMF needs and can return a response to the UE;\n-\tN2 SM information, if the SMF needs and can return a response to the NG-RAN.\nThe following clauses specify additional requirements applicable to specific scenarios.\nThe upCnxState attribute of an SM context represents the state of the User Plane connection of the PDU session. The upCnxState attribute may take the following values:\n-\tACTIVATED: a N3 tunnel is established between the 5G-AN and UPF (F-TEIDs assigned for both uplink and downlink traffic);\n-\tDEACTIVATED: no N3 tunnel is established between the 5G-AN and UPF;\n-\tACTIVATING: a N3 tunnel is being established (5G-AN's F-TEID for downlink traffic is not assigned yet).\nClauses 5.2.2.3.2.2 and 5.2.2.3.2.3 specify how the NF Service Consumer (e.g. AMF) request the SMF to activate or deactivate the User Plane connection of the PDU session, e.g. upon receiving a Service Request from the UE requesting to activate a PDU session or upon an AN release procedure respectively. Clause 5.2.2.3.2.3 also applies in case of 5G-AN requested PDU session resource release by sending the NGAP PDU SESSION RESOURCE NOTIFY to the AMF (see step 1d in clause 4.3.4.2 of 3GPP TS 23.502 [3]).\nIn scenarios where the SMF takes the initiative to activate or deactivate the User Plane connection of the PDU session, e.g. during a Network Triggered Service Request or CN-initiated selective deactivation of the User Plane connection of a PDU session respectively, the SMF invokes the Namf_N1N2MessageTransfer procedure with the inclusion of N2 SM Information (and optionally of a N1 SM Container) as specified in 3GPP TS 23.502 [3] to request the establishment or release of the PDU session's resources in the 5G-AN. The Update SM Context service operation is then used as specified in clause 5.2.2.3.1 to transfer the response to the SMF.\nClause 5.2.2.3.2.4 specifies how the NF Service Consumer (e.g. AMF) indicates to the SMF that the access type of a PDU session can be changed from non-3GPP access to 3GPP access, during a Network Triggered Service Request initiated for a PDU session associated to the non-3GPP access, if the PDU Session for which the UE was paged or notified is in the List Of Allowed PDU Sessions provided by the UE and if the AMF has received N2 SM Information only or N1 SM Container and N2 SM Information for that PDU session from the SMF in step 3a of clause 4.2.3.3 of 3GPP TS 23.502 [3].\nThe NF Service Consumer (e.g. AMF) shall request the SMF to activate the User Plane connection of an existing PDU session, i.e. establish the N3 tunnel between the 5G-AN and UPF, as follows.\nThe figure depicts the activation of the User Plane connection of a PDU session, illustrating the process of data transmission and control signals between the PDU and the user equipment (UE). The figure shows the connection between the PDU and the UE, with the PDU transmitting data and control signals, and the UE receiving and processing the data. The figure also includes a visual representation of the signal path, showing the path of the data and control signals from the PDU to the UE.\nFigure 5.2.2.3.2.2-1: Activation of the User Plane connection of a PDU session\n1.\tThe NF Service Consumer shall request the SMF to activate the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tthe user location and access type associated to the PDU session, if modified;\n-\tthe indication that the UE is inside or outside of the LADN service area, if the DNN of the established PDU session corresponds to a LADN;\n-\tthe access type for which the user plane connection needs to be re-activated, for a MA PDU session (i.e. the access type over which a Registration or Service Request was received);\n-\tthe \"MO Exception Data Counter\" if the UE has accessed the network by using \"MO exception data\" RRC establishment cause;\n-\tthe n3gPathSwitchExecutionInd IE if the AMF receives the indication \"Non-3GPP access path switching while using old AN resources\" in the registration request message from the UE and if the SMF supports non-3GPP path switching, so to request the SMF to add a new non-3GPP access path (while also keeping the existing one) during a UE requested non-3GPP access switching for a MA-PDU session;\n-\tother information, if necessary.\n2a.\tUpon receipt of such a request, if the SMF can proceed with activating the user plane connection of the PDU session (see clause 4.2.3 of 3GPP TS 23.502 [3]), the SMF shall set the upCnxState attribute to ACTIVATING and shall return a 200 OK response including the following information:\n-\tupCnxState attribute set to ACTIVATING;\n-\tN2 SM information to request the 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\nIf the SMF finds the PDU session already activated when receiving the request in step 1, the SMF shall delete the N3 tunnel information and update the UPF accordingly (see step 8a of clause 4.2.3.2 of 3GPP TS 23.502 [3]).\nFor a MA-PDU session, the SMF shall perform the above requirements for the access type for which the user plane connection is requested to be re-activated (i.e. the access type indicated in the anTypeToReactivate attribute). The SMF shall not modify the user plane connection status for the other access type, e.g. if the user plane connection is already established for the other access type, it shall remain established. If the SMF receives the n3gPathSwitchExecutionInd IE the SMF shall not trigger the release of the UP connection in the old non-3GPP access.\nIf the \"MO Exception Data Counter\" is included in the request and Small Data Rate Control is enabled for the PDU session, then the V-SMF/I-SMF shall forward the counter to the H-SMF/SMF.\n2b.\tIf the request does not include the \"UE presence in LADN service area\" indication and the SMF determines that the DNN corresponds to a LADN, then the SMF shall consider that the UE is outside of the LADN service area. The SMF shall reject the request if the UE is outside of the LADN service area.\nIf the SMF cannot proceed with activating the user plane connection of the PDU session (e.g. if the PDU session corresponds to a PDU session of SSC mode 2 and the SMF decides to change the PDU Session Anchor), the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.  For a 4xx/5xx response, the SmContextUpdateError structure shall include the following additional information:\n-\tupCnxState attribute set to DEACTIVATED.\n3.\tIf the SMF returned a 200 OK response, the NF Service Consumer (e.g. AMF) shall subsequently update the SM context in the SMF by sending POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tN2 SM information received from the 5G-AN (see PDU Session Resource Setup Response Transfer IE in clause 9.3.4.2 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of one or two downlink termination point(s) and the associated list of QoS flows for this PDU session (i.e. 5G-AN's GTP-U F-TEID(s) for downlink traffic), if the 5G-AN succeeded in establishing resources for the PDU sessions; or\n-\tN2 SM information received from the 5G-AN (see PDU Session Resource Setup Unsuccessful Transfer IE in clause 9.3.4.16 of 3GPP TS 38.413 [9]), including the Cause of the failure, if resources failed to be established for the PDU session.\nUpon receipt of this request, the SMF shall:\n-\tupdate the UPF with the 5G-AN's F-TEID(s) and set the upCnxState attribute to ACTIVATED, if the 5G-AN succeeded in establishing resources for the PDU sessions; or\n-\tconsider that the activation of the User Plane connection has failed and set the upCnxState attribute to DEACTIVATED\" otherwise.\n4.\tThe SMF shall then return a 200 OK response including the upCnxState attribute representing the final state of the user plane connection. If the activation of the User Plane connection failed due to insufficient resources, the cause IE shall be included in the response and set to \"INSUFFICIENT_UP_RESOURCES\".\nThe NF Service Consumer (e.g. AMF) shall request the SMF to deactivate the User Plane connectivity of an existing PDU session, i.e. release the N3 tunnel, as follows.\nThe figure depicts a user plane connection deactivation scenario in a network, illustrating the process of disconnecting the user plane from the network. The user plane is a critical component of a network, responsible for transmitting data packets to the network. The figure shows the steps involved in deactivating the user plane connection, including the removal of the user plane interface, the removal of the user plane connection, and the reconnection of the user plane connection. This process is crucial for network security and performance.\nFigure 5.2.2.3.2.2-1: Deactivation of the User Plane connection of a PDU session\n1.\tThe NF Service Consumer shall request the SMF to deactivate the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupCnxState attribute set to DEACTIVATED;\n-\tuser location and user location timestamp;\n-\tcause of the user plane deactivation; the cause may indicate a cause received from the 5G-AN or AMF has detected that the UE has moved out of the network slice support area or due to an AMF internal event;\n-\tN2 SM information received from the 5G-AN (see PDU Session Resource Notify Released Transfer IE in clause 9.3.4.13 of 3GPP TS 38.413 [9] and PDU Session Resource Release Response Transfer IE in clause 9.3.4.21 of 3GPP TS 38.413 [9]), if the request is triggered due to an 5G-AN requested PDU session resource release or due to an AN Release procedure respectively;\n-\tother information, if necessary.\nNOTE:\tThe SMF can receive a N2 SM information (PDU Session Resource Release Response Transfer IE) without having sent any prior N2 SM information (PDU Session Resource Release Command Transfer IE) to the AMF.\n2.\tUpon receipt of such a request, the SMF shall deactivate release the N3 tunnel of the PDU session, set the upCnxState attribute to DEACTIVATED and return a 200 OK response including the upCnxState attribute set to DEACTIVATED.\nIf the request is triggered due to 5G-AN requested PDU session resource release, the SMF may decide to keep the PDU Session (with user plane connection deactivated) or release the PDU Session. If the SMF decides to keep the PDU Session, it shall return \"200 OK\" with the upCnxState attribute set to DEACTIVATED, but not including n1SmMsg and n2SmInfo. If the SMF decides to release the PDU Session, it shall return \"200 OK\" with the upCnxState attribute set to DEACTIVATED, including n1SmMsg IE but not-including n2SmInfo IE.\nThe NF Service Consumer (e.g. AMF) shall indicate to the SMF that the access type of a PDU session can be changed as follows:\nThe figure depicts a diagram illustrating the various access types of a PDU session, including the ability to change the access type. This is crucial for managing network traffic and ensuring efficient use of resources.\nFigure 5.2.2.3.2.4-1: Indicating that the access type of a PDU session can be changed\n1.\tThe NF Service Consumer shall indicate that the access type of a PDU session can be changed by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tanTypeCanBeChanged attribute set to \"true\";\n-\tother information, if necessary.\n2a.\tSame as step 2a of figure 5.2.2.3.1-1. In HR roaming scenarios, the V-SMF shall invoke the Update service operation towards the H-SMF to notify that the access type of the PDU session can be changed (see clause 5.2.2.8.2.2).\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.\nNOTE:\tThis is used during a Service Request procedure (see clause 4.2.3.2 of 3GPP TS 23.502 [3]), in response to paging or NAS notification indicating non-3GPP access, if the PDU Session for which the UE was paged or notified is in the List Of Allowed PDU Sessions provided by the UE and if the AMF has received N2 SM Information only or N1 SM Container and N2 SM Information for that PDU session from the SMF in step 3a of clause 4.2.3.3 of 3GPP TS 23.502 [3].\nThe SMF may perform Network Slice Admission Control before the PDU Session is moved from the non-3GPP access to 3GPP access (i,e, before N3 tunnel for the PDU Session is established).\nIf the PDU Session is moved from the non-3GPP access to 3GPP access (i.e. N3 tunnel for the PDU Session is established successfully), the SMF and NF Service Consumer (e.g. AMF) updates the associated access of the PDU Session.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to switch the downlink N3 tunnel of the PDU session towards a new GTP tunnel endpoint as follows.\nThe figure depicts a handover scenario in a 5G network, showing the handover process from the base station (gNB) to the user equipment (UE) and the subsequent handover from the UE to the base station. The figure illustrates the use of beamforming techniques to mitigate interference and the importance of redundancy paths to ensure reliable communication.\nFigure 5.2.2.3.3-1: Xn handover\n1.\tThe NF Service Consumer shall request the SMF to switch the downlink N3 tunnel of the PDU session towards a new GTP tunnel endpoint by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe indication that the PDU session is to be switched;\n-\tN2 SM information received from the target 5G-AN (see Path Switch Request Transfer IE in clause 9.3.4.8 of 3GPP TS 38.413 [9]), including the new transport layer address and tunnel endpoint of the downlink termination point for the user data for this PDU session (i.e. 5G-AN's GTP-U F-TEID for downlink traffic);\n-\tadditional N2 SM information received from the source 5G-AN (see Secondary RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;\n-\tthe user location associated to the PDU session;\n-\tthe indication that the UE is inside or outside of the LADN service area, if the DNN of the established PDU session corresponds to a LADN;\n-\tother information, if necessary.\n2a.\tIf the SMF can proceed with switching the user plane connection of the PDU session, the SMF shall return a 200 OK response including the following information:\n-\tN2 SM information (see Path Switch Request Acknowledge Transfer IE in clause 9.3.4.9 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\nIf the request does not include the \"UE presence in LADN service area\" indication and the SMF determines that the DNN corresponds to a LADN, then the SMF shall consider that the UE is outside of the LADN service area. The SMF shall proceed as specified in clause 5.6.5 of 3GPP TS 23.501 [2].\n2b.\tIf the SMF cannot proceed with switching the user plane connection of the PDU session, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1, including:\n-\tN2 SM information (see Path Switch Request Unsuccessul Transfer IE in clause 9.3.4.20 of 3GPP TS 38.413 [9]), including the cause of the failure.\n\nFor a PDU session that is rejected by the target RAN (i.e. a PDU session indicated as failed to setup in the PATH SWITCH REQUEST), the NF Service Consumer (e.g. AMF) shall indicate the failure to setup the PDU session in the target RAN as follows.\nThe figure depicts a handover scenario in a 5G network, where a user equipment (UE) is transitioning from one radio access network (RAN) to another. The figure shows the PDU session being rejected by the target RAN, indicating a potential issue with the handover process. This could be due to network congestion, interference, or a failure in the handover procedure. The figure also includes a visual representation of the handover process, with the UE moving from one RAN to another, and the PDU session being rejected by the target RAN. This helps to understand the complexity of the handover process in a 5G network and the potential challenges that need to be addressed.\nFigure 5.2.2.3.3-2: Xn handover – PDU session rejected by the target RAN\n1.\tThe NF Service Consumer shall indicate to the SMF that the PDU session could not be setup in the target RAN by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe indication that the PDU session failed to be switched;\n-\tN2 SM information received from the target 5G-AN (see Path Switch Request Setup Failed Transfer IE in clause 9.3.4.15 of 3GPP TS 38.413 [9]), including the cause why the session could not be setup;\n-\tadditional N2 SM information received from the source 5G-AN (see Secondary RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;\n-\tother information, if necessary.\n2a.\tUpon receipt of such a request, the SMF shall return a \"204 No Content\" response. The SMF shall decide whether to release the PDU session or deactivate the user plane connection of the PDU session, as specified in clause 4.9.1.2 of 3GPP TS 23.502 [3].\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.\nThe hoState attribute of an SM context represents the handover state of the PDU session. The hoState attribute may take the following values:\n-\tNONE: no handover is in progress for the PDU session;\n-\tPREPARING: a handover is in preparation for the PDU session; SMF is preparing the N3 tunnel between the target 5G-AN and UPF, i.e. the UPF's F-TEID is assigned for uplink traffic;\n-\tPREPARED: a handover is prepared for the PDU session; SMF is updated for the N3 tunnel between the target 5G-AN and UPF, with the target 5G-AN's F-TEID to be assigned for downlink traffic upon handover execution;\n-\tCOMPLETED: the handover is completed (successfully);\n-\tCANCELLED: the handover is cancelled.\nThe NF Service Consumer (e.g. T-AMF) shall request the SMF to prepare the handover of an existing PDU session, i.e. prepare the N3 tunnel between the target 5G-AN and UPF, as follows.\nThe figure depicts a handover preparation process for a network segment, specifically N2, with various steps and components highlighted. The figure includes a handover diagram, a handover table, and a handover checklist, all of which are essential for ensuring a smooth handover process.\nFigure 5.2.2.3.4.2-1: N2 Handover Preparation\n1.\tThe NF Service Consumer shall request the SMF to prepare the handover of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupdating the hoState attribute of the individual SM Context resource in the SMF to PREPARING;\n-\ttargetId identifying the target RAN Node ID and TAI received in the Handover Required from the source NG-RAN;\n-\ttargetServingNfId set to the target AMF Id, for a N2 handover with AMF change;\n-\tN2 SM information received from the source NG-RAN (see Handover Required Transfer IE in clause 9.3.4.14 of 3GPP TS 38.413 [9]), indicating whether a direct path is available;\n-\tthe supportedFeatures IE indicating the optional features it supports, if at least one optional feature defined in clause 6.1.8 is supported;\n-\tother information, if necessary.\n2a.\tUpon receipt of such a request, if the SMF can proceed with preparing the handover of the PDU session (see clause 4.9.1.3 of 3GPP TS 23.502 [3]), the SMF shall set the hoState attribute to PREPARING and shall return a 200 OK response including the following information:\n-\thoState attribute set to PREPARING;\n-\tN2 SM information to request the target 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including (among others) the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic);\n-\tthe supportedFeatures IE in the response, if the supportedFeatures IE was received in the request and at least one optional feature defined in clause 6.1.8 is supported by the updated SM context resource.\nThe SMF shall store the targetServingNfId, if received in the request, but the SMF shall still consider the AMF (previously) received in the servingNfId IE as the serving AMF for the UE.\n2b.\tIf the SMF cannot proceed with preparing the handover of the PDU session (e.g. the UE moves into a non-allowed service area), the SMF shall return an error response, as specified in step 2b of figure 5.2.2.3.1-1.\n\nWhen receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g. the AMF) shall regard the hoState of the SM Context to be NONE.\n3.\tIf the SMF returned a 200 OK response in step 2a, the NF Service Consumer (e.g. AMF) shall subsequently update the SM context in the SMF by sending POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\thoState attribute set to PREPARED;\n-\tN2 SM information received from the target 5G-AN (see Handover Request Acknowledge Transfer IE in clause 9.3.4.11 of 3GPP TS 38.413 [9]), including (among others) the transport layer address and tunnel endpoint of the downlink termination point for the user data for this PDU session (i.e. target 5G-AN's GTP-U F-TEID for downlink traffic), if the target 5G-AN succeeded in establishing resources for the PDU session;\n-\tN2 SM information received from the target 5G-AN (see Handover Resource Allocation Unsuccessful Transfer IE in clause 9.3.4.19 of 3GPP TS 38.413 [9]), including the Cause of the failure, if resources failed to be established for the PDU sessions.\n4a.\tIf the target 5G-AN succeeded in establishing resources for the PDU sessions, the SMF shall set the hoState attribute to PREPARED and return a 200 OK response including the following information:\n-\thoState attribute to PREPARED;\n-\tN2 SM information (see Handover Command Transfer IE in clause 9.3.4.10 of 3GPP TS 38.413 [9]) containing DL forwarding tunnel information to be sent to the source 5G-AN by the AMF if direct or indirect data forwarding applies (see step 11f of clause 4.9.1.3.2 of 3GPP TS 23.502 [3]).\n4b.\tIf the SMF cannot proceed with preparing the handover of the PDU session (e.g. the target 5G-AN failed to establish resources for the PDU session), the SMF shall set the hoState to NONE, release resources reserved for the handover to the target 5G-AN, and return an error response as specified in step 2b of figure 5.2.2.3.1-1. For a 4xx/5xx response, the SmContextUpdateError structure shall include the following additional information:\n-\tN2 SM information (see Handover Preparation Unsuccessful Transfer IE in clause 9.3.4.18 of 3GPP TS 38.413 [9]) indicating the cause of the failure;\n-\tthe cause in the error attribute set to HANDOVER_RESOURCE_ALLOCATION_FAILURE, if the target 5G-AN failed to establish resources for the PDU session.\nWhen receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g. the AMF) shall regard the hoState of the SM Context to be NONE.\nIf the handover preparation fails completely on the target 5G-AN (i.e. target 5G-AN returns a NGAP HANDOVER_FAILURE), the (T-)AMF shall request the SMF to cancel the handover of the PDU session as described in clause 5.2.2.3.4.4.\nThe NF Service Consumer (e.g. T-AMF) shall request the SMF to complete the execution the handover of an existing PDU session, upon being notified by the target 5G-AN that the handover to the target 5G-AN has been successful, as follows.\nThe figure depicts the handover execution in a 5G network, showing the steps taken by the network to ensure a smooth handover from one network to another. Key components include the network elements, such as the base station (gNB), user equipment (UE), and the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements, such as the network elements\nFigure 5.2.2.3.4.3-1: N2 Handover Execution\n1.\tThe NF Service Consumer shall request the SMF to complete the execution of the handover of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupdating the hoState attribute of the individual SM Context resource in the SMF to COMPLETED;\n-\tservingNfId set to the new serving AMF Id, for a N2 handover with AMF change;\n-\tthe indication that the UE is inside or outside of the LADN service area, if the DNN of the established PDU session corresponds to a LADN;\n-\tN2 SM information received from the source 5G-AN (see Secondary RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;\n-\tother information, if necessary.\n2.\tUpon receipt of such a request, the SMF shall return a 200 OK response including the following information:\n-\thoState attribute set to COMPLETED.\nThe SMF shall complete the execution of the handover, e.g. switch the PDU session towards the downlink termination point for the user data received from the target 5G-AN (i.e. target 5G-AN's GTP-U F-TEID for downlink traffic), set the hoState to NONE and delete any stored targetServingNfId. For PDU session with I-SMF insertion, the I-SMF shall complete the execution of the handover by initiating an Update service operation towards the anchor SMF in order to switch the PDU session towards the I-UPF controlled by I-SMF (see clause 5.2.2.8.2.12).\nIf the request does not include the \"UE presence in LADN service area\" indication and the SMF determines that the DNN corresponds to a LADN, then the SMF shall consider that the UE is outside of the LADN service area. The SMF shall proceed as specified in clause 5.6.5 of 3GPP TS 23.501 [2].\nThe (T-)AMF shall request the SMF to complete the execution of the handover of the PDU session only for those PDU sessions that successfully completed the handover procedure. If there are PDU sessions that failed to handover due to timeout of SMF responses in any step of the handover preparation phase (e.g. if the Update SM Context Response arrived too late or not at all during the handover preparation phase, see step 7 of clause 4.9.1.3.3 of 3GPP TS 23.502 [3]), then the (T-)AMF shall inform the SMF about this failure, by sending a POST request with the cause attribute set to \"HO_FAILURE\" for every such PDU session, upon receipt of the NGAP HANDOVER NOTIFY. The SMF shall then release the resources prepared for the handover and consider that the PDU session is deactivated and that the handover attempt is terminated for the PDU session.\nIf the handover fails completely on the target 5G-AN due to the execution phase not completed successfully (i.e. missing NGAP HANDOVER NOTIFY), the (T-)AMF shall request the SMF to cancel the handover of the PDU session as described in clause 5.2.2.3.4.4.\nThe NF Service Consumer (e.g. T-AMF) shall request the SMF to cancel the handover of an existing PDU session, e.g. upon receipt of such a request from the source 5G-AN, as follows.\nThe figure depicts a handover cancellation scenario in a 5G network, illustrating the process of signal cancellation between two mobile users. The figure shows the handover path, including the base station (gNB), user equipment (UE), and the signal path, with the signal cancellation process highlighted. The figure also includes key components such as the base station, user equipment, and signal path, and the handover path is shown in dashed lines to indicate redundancy.\nFigure 5.2.2.3.4.3-1: N2 Handover Cancellation\n1.\tThe NF Service Consumer shall request the SMF to cancel the execution of the handover of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupdating the hoState attribute of the individual SM Context resource in the SMF to CANCELLED;\n-\tcause information;\n-\tother information, if necessary.\n2.\tUpon receipt of such a request, the SMF return a 200 OK response including the following information:\n-\thoState attribute set to CANCELLED.\nThe SMF shall cancel the execution of the handover, e.g. release resources reserved for the handover to the target 5G-AN, set the hoState to NONE and delete any stored targetServingNfId. For PDU Session with I-SMF insertion, the I-SMF shall cancel the handover by initiating an Update service operation towards the anchor SMF in order to release resources at the SMF and PSA UPF reserved during handover preparation (see clause 5.2.2.8.2.13).\nThe handover of a PDU session between 3GPP and untrusted non-3GPP access shall be supported as specified in clause 4.9.2 of 3GPP TS 23.502 [3]. Such a handover may involve:\n-\tthe same AMF, or a target AMF in the same PLMN as the source AMF (see clauses 4.9.2.1, 4.9.2.2, 4.9.2.3.1 and 4.9.2.4.1 of 3GPP TS 23.502 [3]). The Update SM Context service operation is used in these cases; or\n-\ta target AMF in a different PLMN than the source AMF (see clauses 4.9.2.3.2 and 4.9.2.4.2 of 3GPP TS 23.502 [3]). The Create SM Context service operation is used in this case (see clause 5.2.2.2).\nFor a Home-Routed PDU session, the target AMF may be located in the VPLMN, or in the HPLMN when the N3IWF is in the HPLMN.\nIn these scenarios, the same V-SMF is used before and after the handover.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to handover an existing PDU session from 3GPP access to untrusted non-3GPP access, or vice-versa, as follows.\nThe figure depicts a handover between 3GPP and untrusted non-3GPP access, illustrating the process of transitioning between the two networks. The figure shows the handover process, including the handover request, handover decision, and handover completion. The figure also includes the handover path, which is a path that the handover request is sent to the untrusted network. The figure is important for understanding the handover process in 3GPP and non-3GPP networks.\nFigure 5.2.2.3.5.2-1: Handover between 3GPP and untrusted non-3GPP access\n1.\tThe NF Service Consumer shall request the SMF to handover an existing PDU session from 3GPP access to untrusted non-3GPP access, or vice-versa, by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupdating the anType attribute of the individual SM Context resource in the SMF to the target access type, i.e. to 3GPP_ACCESS or NON_3GPP_ACCESS;\n-\tother information, if necessary.\n2a.\tSame as step 2a of Figure 5.2.2.3.1-1.\n2b.\tIf the SMF cannot proceed with handing over the PDU session to the target access type, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1. For a 4xx/5xx response, the SmContextUpdateError structure shall include the following additional information:\n-\tN1 SM Information to reject the UE request.\nThe anchor SMF may perform Network Slice Admission Control before the PDU Session is moved to the target access (i.e., before the N3 tunnel for the PDU Session is established).\nThe NF Service Consumer (e.g. new AMF) shall inform the SMF that it has taken over the role of serving the UE (e.g. it has taken the responsibility of the signalling towards the UE), when so required by 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3], as follows.\nThe figure depicts a complex network of inter-AMF (Inter-Access Multiplexing) change or mobility, illustrating the various paths and configurations that can be used to manage and control the flow of data within the network. The figure shows the inter-AMF change or mobility in a 5G network, highlighting the importance of efficient routing and management to ensure reliable and high-speed data transmission.\nFigure 5.2.2.3.6-1: Inter-AMF change or mobility\n1.\tThe NF Service Consumer shall update the SMF with the new serving AMF, by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tservingNfId set to the new serving AMF Id;\n-\tthe supportedFeatures IE indicating the optional features it supports, if at least one optional feature defined in clause 6.1.8 is supported;\n-\tother information, if necessary, e.g. to activate the user plane connection of the PDU session (see clause 5.2.2.3.2.2).\n2a.\tSame as step 2a of Figure 5.2.2.3.1-1. In addition, the SMF shall include the supportedFeatures IE in the response, if the supportedFeatures IE was received in the request and at least one optional feature defined in clause 6.1.8 is supported by the updated SM context resource.\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to transfer QoS flows to and from Secondary RAN node, or more generally, handle a NG-RAN PDU Session Resource Modify Indication, as follows.\n\nThe figure depicts the RAN initiated QoS flow mobility in a 5G network, illustrating the various mobility scenarios and their impact on network performance.\nFigure 5.2.2.3.7-1: RAN Initiated QoS Flow Mobility\n1.\tThe NF Service Consumer shall request the SMF to modify the PDU session, as requested by the NG-RAN, by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tN2 SM information received from the 5G-AN (see PDU Session Resource Modify Indication Transfer IE in clause 9.3.4.6 of 3GPP TS 38.413 [9]), including the transport layer information for the QoS flows of this PDU session (i.e. 5G-AN's GTP-U F-TEIDs for downlink traffic);\n-\tother information, if necessary.\n2a.\tUpon receipt of such a request, if the SMF can proceed with switching the QoS flows of the PDU session, the SMF shall return a 200 OK response including the following information:\n-\tN2 SM information (see PDU Session Resource Modify Confirm Transfer IE in clause 9.3.4.7 of 3GPP TS 38.413 [9]), including the list of QoS flows which were modified successfully and the list of QoS flows which failed to be modified if available.\n2b.\tIf the SMF cannot proceed with switching the QoS flows of the PDU session, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1, including:\n-\tN2 SM information (see PDU Session Resource Modify Indication Unsuccessful Transfer IE in clause 9.3.4.22 of 3GPP TS 38.413 [9]).\nThe NF Service Consumer (e.g. AMF) shall request the SMF to handover a UE EPS PDN connection to 5GS using N26 interface, following the same requirements as specified for N2 handover in clause 5.2.2.3.4 with the modifications specified in this clause.\nThe requirements specified in clause 5.2.2.3.4.2 shall apply with the following modifications.\nThe figure depicts the process of preparing for an EPS (Enhanced Packet Service) to 5GS handover in a telecommunications network. It illustrates the steps involved in ensuring a smooth handover, including the use of handover protocols, network configuration, and network monitoring. The figure provides a visual representation of the complex process, making it easier to understand and follow.\nFigure 5.2.2.3.8.2-1: EPS to 5GS Handover Preparation\n1.\tSame as step 1 of Figure 5.2.2.2.3-1.\n2a.\tSame as step 2 of Figure 5.2.2.2.3-1.\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.\n3.\tSame as step 3 of Figure 5.2.2.3.4.2-1.\n4a.\tSame as step 4 of Figure 5.2.2.3.4.2-1, with the following modifications:\n\nThe 200 OK response shall not include N2 SM information for DL forwarding tunnel setup, but shall additionally contain:\n-\tthe epsBearerSetup IE(s), containing the list of EPS bearer context(s) successfully handed over to the 5GS and DL data forwarding information, containing either:\n-\tCN tunnel information generated based on the list of accepted QFI(s) received from the 5G-RAN, if indirect data forwarding applies; or\n-\tNG-RAN F-TEID per E-RAB accepted for direct data forwarding, as received from the target NG-RAN, if direct data forwarding applies.\n4b.\tSame as step 2b of figure 5.2.2.3.4.2-1.\nThe requirements specified in clause 5.2.2.3.4.3 shall apply, with the following modifications.\nIn step 1 of Figure 5.2.2.3.4.3-1, the NF Service Consumer, i.e. the target AMF, shall include one or more SecondaryRatUsageDataReportContainer(s) in the SmContextUpdateData for the POST request if it received one or more Secondary RAT Usage Data Report(s) applicable for the PDU session from the source MME.\nIn step 2 of Figure 5.2.2.3.4.3-1, for a Home Routed PDU session, the SMF shall complete the execution of the handover by initiating an Update service operation towards the H-SMF in order to switch the PDU session towards the V-UPF (see clause 5.2.2.8.2.3).\nIf there are PDU sessions that failed to handover due to timeout of SMF responses in any step of the handover preparation phase (e.g. if the Update SM Context Response arrived too late or not at all during the handover preparation phase), then the AMF shall consider that the PDU session will be released by the MME and remove the PDU session context from the UE context. For a HR PDU session or a PDU session with I-SMF, the AMF shall also release the SM Context in the V-SMF or the I-SMF only.\nThe requirements specified in clause 5.2.2.3.4.4 shall apply, with the following modifications.\nIn step 2 of Figure 5.2.2.3.4.4-1, for a Home Routed PDU session, the V-SMF shall cancel the handover by initiating an Update service operation towards the H-SMF in order to release resources at H-SMF and H-UPF reserved for handover (see clause 5.2.2.8.2.14).\nIf the handover to 5GS failed, e.g. rejected by the target NG-RAN, the requirements specified in clause 5.2.2.3.4.4 shall apply, with the following modifications:\n-\tthe hoState attribute set to \"CANCELLED\", to indicate the handover is cancelled;\n-\tthe cause attribute set to \"HO_FAILURE\".\nIn step 2 of Figure 5.2.2.3.4.4-1, for a Home Routed PDU session, the V-SMF shall cancel the handover by initiating an Update service operation towards the H-SMF in order to release resources at H-SMF and H-UPF reserved for handover (see clause 5.2.2.8.2.17).\nThe NF Service Consumer (e.g. AMF) shall request the SMF to setup data forwarding tunnels if direct or indirect data forwarding applies to the 5GS to EPS handover using N26 interface, and to remove the indirect data forwarding tunnels previously established when the handover is cancelled or failed.\nThe AMF should initiate this procedure only if data forwarding is enabled and the MME returns data forwarding F-TEIDs for the related PDN connection context in the Forward Relocation response.\nIf direct or indirect data forwarding applies to the 5GS to EPS handover, the NF Service Consumer (e.g. AMF) shall provide the SMF with the data forwarding information received from the MME, as specified in clause 4.11.1.2.1 of 3GPP TS 23.502 [3]), as follows.\nThe figure depicts a 5G-to-EPS handover scenario using the N26 interface, illustrating the data forwarding tunnels setup. The figure shows the various components involved in the handover process, including the N26 interface, the 5GS network, and the EPS network. The diagram highlights the importance of proper handover procedures to ensure seamless communication between the two networks.\nFigure 5.2.2.3.9-1: 5GS to EPS Handover using N26 interface (data forwarding tunnels setup)\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tdataForwarding IE set to true;\n-\tEPS bearer contexts received from the MME in the Forward Relocation Response, including F-TEID(s) for DL data forwarding tunnel(s) towards the target eNB (for direct data forwarding) or towards the forwarding SGW (for indirect data forwarding).\n2a.\tIf indirect data forwarding applies, the SMF shall map the EPS bearers for Data Forwarding to the 5G QoS flows based on the association between the EPS bearer ID(s) and QFI(s) for the QoS flow(s).\n\nThe SMF shall return a 200 OK response including the following information:\n-\tN2 SM information (see Handover Command Transfer IE in clause 9.3.4.10 of 3GPP TS 38.413 [9]) containing DL forwarding tunnel information to be sent to the source 5G-AN by the AMF if direct or indirect data forwarding applies (see step 11f of clause 4.9.1.3.2 of 3GPP TS 23.502 [3]).\nIf direct data forwarding applies, the DL forwarding tunnel information shall contain the E-UTRAN tunnel info for data forwarding per EPS bearer received from the MME.\n\nIf indirect data forwarding applies, the DL forwarding tunnel information shall contain the CN transport layer address and tunnel endpoint (i.e. UPF's GTP-U F-TEID) for Data Forwarding and the QoS flows for Data Forwarding for this PDU session.\n2b.\tIf the SMF cannot proceed with the request, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.\nIf none of the EPS bearer contexts received in the POST request body includes an F-TEID for DL data forwarding, the SMF shall return a 403 Forbidden response including a ProblemDetails structure with the \"cause\" attribute set to \"NO_DATA_FORWARDING\". Upon receipt of this response, the AMF shall proceed with the handover procedure (as if data forwarding was disabled).\nNOTE:\tThe above use case can occur if an AMF initiates this procedure without checking whether the MME returns data forwarding F-TEIDs for the related PDN connection context in the Forward Relocation response (e.g. pre-Rel-17 or Rel-17 AMF that does not support such checking).\nDuring 5GS to EPS handover, if indirect data forwarding tunnel(s) have been previously established during the preparation phase and the handover is cancelled, the AMF shall update the SMF of handover cancellation by sending a POST request with the cause attribute set to \"HO_CANCEL\" and dataForwarding IE set to false with an empty list of EPS bearer contexts. The SMF shall then release the resources prepared for the handover and proceed with the PDU session as if no handover procedure had taken place.\nIf no resources for EPS bearer(s) can be assigned for any PDU session attempted to be handed over, the AMF shall update the SMF with the information that the handover preparation failed by sending a POST request with the cause attribute set to \"HO_FAILURE\" and with an empty list of EPS bearer contexts (and without the dataForwarding IE). The SMF shall then release the resources prepared for the handover and proceed with the PDU session as if no handover procedure had taken place.\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_REACTIVATION.\nWhen the AMF receives an \"initial request\" with PDU Session Id which already exists in PDU session context of the UE (see clause 5.4.5.2.5 of 3GPP TS 24.501 [7]), the AMF shall request the SMF to release the existing PDU Session; upon subsequent receipt of an SM context status notification indicating that the SM context has been deleted in the SMF, the AMF shall release the stored context for the PDU session and proceed with the \"initial request\" with the PDU Session Id.\nThe requirements for releasing the existing PDU Session specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_DUPLICATE_SESSION_ID.\nWhen the SMF receives the request from AMF, the SMF shall start the PDU Session Release procedure to release all the associated resources in UPF, PCF, CHF, and UDM. If the UP connection of the existing PDU session is active, the SMF should also request (R)AN to release associated resources.\nNOTE:\tThe SMF does not send NAS signaling to UE for the PDU session release in this procedure.\nIf a network slice is detected as not available (e.g. due to slice congestion or operational disable the slice), the NF Service Consumer (i.e. AMF) shall use this procedure to release the PDU session associated to the unavailable network slice. Such handling of PDU session release may also happen in network slice replacement procedure (see clause 4.3.3.3 of 3GPP TS 23.502 [3]) when the AMF determines the existing PDU session cannot serve the alternative S-NSSAI.\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to S_NSSAI_CONGESTION or REL_DUE_TO_SLICE_NOT_AVAILABLE;\n-\toptionally the skipN2PduSessionResRelInd IE with the value \"true\" to skip RAN resources release for the PDU session, e.g. for a PDU session with active UP associated with a slice that is no longer available after a handover.\nDuring N2 based handover with I-SMF insertion/change/removal, the NF Service Consumer (e.g. target I-SMF) shall use this procedure to exchange N3/N9 forwarding tunnel information with the NF Service Producer (e.g. source I-SMF).\nThe NF Service Consumer (e.g. target I-SMF) shall request the SMF to establish one or more downlink and/or uplink indirect data forwarding tunnels, as follows.\nThe figure depicts the establishment of an indirect data forwarding tunnel during a handover with the Intelligent Service Migration Framework (ISMF) in a 5G network. The tunnel is established using a 13-1 interface, which is a key component of the ISMF. The tunnel is established using a 13-1 interface, which is a key component of the ISMF.\nFigure 5.2.2.3.13-1: Indirect Data Forwarding Tunnel establishment during N2 based Handover with I-SMF\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tdataForwarding attribute set to true, for the N2 based handover with I-SMF insertion/change/removal;\n-\tn9DlForwardingTnlList attribute carrying the N9 downlink indirect data forwarding tunnel(s) info of target I-UPF;\n-\tn9UlForwardingTnlList attribute carrying the N9 uplink indirect data forwarding tunnel(s) info of target I-UPF;\n-\tother information, if necessary.\n2a.\tSame as step 2a of Figure 5.2.2.3.1-1, with the following information:\n-\tn3DlForwardingTnlList attribute carrying the N3 downlink indirect data forwarding tunnel(s) info of source I-UPF or source UPF;\n-\tn3UlForwardingTnlList attribute carrying the N3 uplink indirect data forwarding tunnel(s) info of source I-UPF or source UPF;\n-\tother information, if necessary.\n2b.\tIf the source SMF cannot proceed with the request, the source I-SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.\nDuring N2 based handover cancellation with I-SMF insertion/change/removal, the NF Service Consumer (e.g. target I-SMF) shall use this procedure to remove previously established Indirect Data Forwarding Tunnel(s) at NF Service Producer (e.g. source I-SMF).\nThe NF Service Consumer (e.g. target I-SMF) shall request the NF service producer to remove the established Indirect Data Forwarding Tunnel(s), as follows.\nThe figure depicts a 13A-1 data forwarding tunnel removal during a N2 based handover with I-SMF, illustrating the process of removing the tunnel during the handover process.\nFigure 5.2.2.3.13A-1: Indirect Data Forwarding Tunnel Removal during N2 based Handover with I-SMF\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tdataForwarding attribute set to false;\n-\tother information, if necessary.\n2a.\tIf successful, the SMF shall return a 204 No Content response.\n2b.\tIf the SMF cannot proceed with the request, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.\nFor I-SMF change or I-SMF removal when downlink data packets are buffered at the I-UPF, the new I-SMF (for I-SMF change) or SMF (for I-SMF removal) shall request the (old) I-SMF to forward buffered downlink data packets as following:\nThe figure depicts a request to forward buffered downlink data packets at I-UPF, which is a crucial component in the network's data transmission process. The figure illustrates the various steps involved in the request, including the transmission of the request packet, the acknowledgment from the receiver, and the subsequent transmission of the data packets. The figure also highlights the importance of proper network management and control to ensure efficient and reliable data transmission.\nFigure 5.2.2.3.14-1: Request to forward buffered downlink data packets at I-UPF\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tn9ForwardingTunnel IE indicating the allocated tunnel endpoints information to receive the buffered downlink data packets.\n2a.\tOn success, the SMF shall initiate N4 session modification to the I-UPF trigger the sending of buffered DL data towards received tunnel endpoints and shall return \"204 No Content\" response.\n2b.\tIf the SMF cannot proceed with the request, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.\nThe procedures specified in this clause and clause 5.2.2.3.16 are to support the Connection Suspend and Connection Resume in CM-IDLE with Suspend procedures as specified in clauses 4.8.1.2 and 4.8.2.3 of 3GPP TS 23.502 [3]. These procedures are used to support the User Plane CIoT 5GS Optimisation feature for E-UTRAN access as specified in clauses 5.31.1 and 5.31.18 of 3GPP TS 23.501 [2].\nThe NF Service Consumer (e.g. AMF) shall request the SMF to suspend the User Plane connection of an existing PDU session if the SMF support the UPCSMT feature, as follows.\nThe figure depicts a connection suspended, with the 15-1 port showing a red light, indicating that the connection is currently suspended. This could be due to a variety of reasons, such as a network issue, a power outage, or a temporary suspension of the connection. The red light is a visual cue that the connection is not currently active, and it is important to investigate the cause of the suspension to ensure the connection is restored as soon as possible.\nFigure 5.2.2.3.15-1: Connection Suspend\n1.\tThe NF Service Consumer shall request the SMF to suspend the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupCnxState attribute set to SUSPENDED;\n-\tuser location and user location timestamp;\n-\tN2 SM information received from the 5G-AN, including UE Context Suspend Request Transfer IE, if available;\n-\tother information, if necessary.\n2.\tUpon receipt of such a request, the SMF shall deactivate the N3 tunnel of the PDU session, set the upCnxState attribute to SUSPENDED and return a 200 OK response including the upCnxState attribute set to SUSPENDED. The SMF shall store the N3 tunnel info (including both AN Tunnel Info and the CN Tunnel Info), and upon receiving subsequent DL Data report from the UPF, the SMF will invoke the Namf_MT EnableUEReachability service operation to trigger the AMF to page the UE.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to resume the User Plane connection of an existing PDU session, i.e. establish the N3 tunnel between the 5G-AN and UPF, as follows.\nThe figure depicts a connection resume in CM-IDLE with a suspended state, indicating that the connection is currently in a paused state. The figure shows the connection status in a graphical format, with the status of the connection being represented by a solid line and the suspended state being represented by a dashed line. The figure also includes a label \"16 -1:  Connection Resume in CM-IDLE with Suspend\" to provide additional context.\nFigure 5.2.2.3.16-1: Connection Resume in CM-IDLE with Suspend\n1.\tThe NF Service Consumer shall request the SMF to resume the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tuser location and user location timestamp;\n-\tcause attribute set to \"PDU_SESSION_RESUMED\";\n-\tN2 SM information received from the 5G-AN, i.e. Path Switch Request Transfer including the new transport layer address and tunnel endpoint of the downlink termination point for the user data for this PDU session (i.e. 5G-AN's GTP-U F-TEID for downlink traffic), or UE Context Resume Request Transfer;\n-\tadditional N2 SM information received from the 5G-AN, if any;\n-\tthe \"MO Exception Data Counter\" if the UE has accessed the network by using \"MO exception data\" RRC establishment cause;\n-\tother information, if necessary.\n2a.\tIf the SMF can proceed with resuming the user plane connection of the PDU session, the SMF shall return a 200 OK response including the following information:\n-\tthe upCnxState attribute set to ACTIVATED;\n-\tN2 SM information, i.e. Path Switch Response Transfer including the transport layer address and tunnel endpoint of the uplink termination point for the user data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic), or UE Context Resume Response Transfer.\nIf the \"MO Exception Data Counter is included in the request and Small Data Rate Control is enabled for the PDU session, the V-SMF shall update the H-SMF (see clause 5.2.2.8.2.2) for HR PDU Session (or I-SMF shall update the SMF for PDU session with I-SMF).\n2b.\tIf the SMF cannot proceed with resuming the user plane connection of the PDU session, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1, including:\n-\tthe upCnxState attribute representing the final state of the user plane connection (e.g. SUSPENDED);\n-\tN2 SM information, including the cause of the failure.\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_SLICE_NOT_AUTHORIZED.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to forward buffered DL data towards the EPS during a 5GS to EPS Idle mode mobility using N26 interface with data forwarding (see 4.11.1.3.2A of 3GPP TS 23.502 [3]), as follows.\nThe figure depicts a 5G network scenario where the 5GS (5G Service Gateway) is in idle mode, utilizing the N26 interface for data forwarding. The figure illustrates the network's mobility management, with the 5GS and EPS (Edge Processing System) being the primary components. The N26 interface enables efficient data transmission between the 5GS and EPS, ensuring smooth network operations.\nFigure 5.2.2.3.18-1: 5GS to EPS Idle mode mobility using N26 interface with data forwarding\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tforwardingFTeid received from the MME in the Context Acknowdge, if any; or\n-\tforwarding bearer contexts received from the MME in Context Acknowdge, if any.\n2a.\tUpon receipt of such a request, the SMF shall forward the buffered DL data on the forwarding tunnel(s).\n2b.\tIf the SMF cannot proceed with the request, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_CP_ONLY_NOT_APPLICABLE.\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_SUBSCRIPTION_CHANGE.\nDuring simultaneous change of Branching Points or UL CLs controlled by different I-SMFs, the NF Service Consumer (e.g. target I-SMF) shall use this procedure to exchange N9 forwarding tunnel information with the NF Service Producer (e.g. source I-SMF).\nThe NF Service Consumer (e.g. target I-SMF) shall request the source I-SMF to establish one downlink and/or one uplink N9 data forwarding tunnels, as follows.\nThe figure depicts the establishment of a 21-1 N9 forwarding tunnel between branching points or UL CLs controlled by different I-SMFs. The tunnel is established using a combination of physical and logical components, ensuring efficient communication between the different nodes.\nFigure 5.2.2.3.21-1: N9 Forwarding Tunnel establishment between Branching Points or UL CLs controlled by different I-SMFs\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tdataForwarding attribute set to true, for the N9 Forwarding Tunnel establishment between Branching Points or UL CLs controlled by different I-SMFs;\n-\tn9DlForwardingTunnel attribute carrying the N9 downlink data forwarding tunnel info of target Branching Point or UL CL;\n-\tother information, if necessary.\n2a.\tSame as step 2a of Figure 5.2.2.3.1-1, with the following information:\n-\tn9UlForwardingTunnel attribute carrying the N9 uplink data forwarding tunnel info of source Branching Point or UL CL;\n-\tother information, if necessary.\n2b.\tIf the source I-SMF cannot proceed with the request, the source I-SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe n1SmMsg IE containing the Remote UE Report NAS Message.\nFor Home-Routed PDU Session or PDU session with I-SMF, the V-SMF or I-SMF shall invoke the Update service operation on the (H-)SMF, as specified in clause 5.2.2.8.2.24.\n2.\tSame as step 2 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST response shall contain:\n-\tthe n1SmMsg IE containing the Remote UE Report Response NAS Message.\nThe AMF may request PDU Session Release towards an alternative V/I-SMF in the same SMF Set when it detects the V/I-SMF has failed and if the V/I-SMF supports the DLSET feature while the (H-)SMF doesn't support the PSETR feature as specified in clause 6.8.2 of 3GPP TS 23.527 [24]. When the AMF sends an Update SM Context Request, the requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_SMF_NOT_SUPPORT_PSETR.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to apply CN based MT communication handling as specified in clauses 4.8.1.1a and 4.8.2.2b of 3GPP TS 23.502 [3] when the AMF is notified by the NG-RAN that the NG-RAN has transited the UE using eDRX to RRC_INACTIVE state and the SMF supports the UPCSMT feature (see clause 6.1.8).\n\nThe figure depicts a 24-1 NG-RAN initiated connection in an inactive procedure, illustrating the steps involved in initiating a new connection in the network.\nFigure 5.2.2.3.24-1: NG-RAN initiated Connection Inactive procedure\n1.\tThe NF Service Consumer shall request the SMF to suspend the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tcnBasedMt is set to \"true\"\n-\tupCnxState attribute set to SUSPENDED;\n-\tuser location and user location timestamp;\n-\tN2 SM information received from the 5G-AN, e.g. Secondary RAT Data Usage, if available;\n-\tother information, if necessary.\nEditor's Note:\tThe N2 message and N2 IE(s) are to be aligned with RAN3.\nNOTE 1:\tAs an implementation option, the AMF can force the UE to enter CM Idle if the SMF does not support the UPCSMT feature.\n2a.\tUpon receipt of such a request, the SMF shall keep the NG-RAN N3 DL F-TEID and set the upCnxState attribute to SUSPENDED and return a 200 OK response including the upCnxState attribute set to SUSPENDED. The SMF will request the UPF to buffer any subsequent downlink data and report the receiving DL data to the SMF. Upon receiving DL data report, the SMF will invoke the Namf_MT_EnableUEReachability service operation when the upCnxState of the PDU session is set to SUSPENDED, to trigger a NG-RAN paging.\nNOTE 2:\tThe SMF applies the same behaviour for a PDU session with user plane connection set to \"SUSPENDED\" with or without a cnBasedMt indication. The cnBasedMt indication can be used for statistics purpose for UEs entering RRC_Inactive with long eDRX.\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.\nUpon receiving a notification from NG-RAN that the UE is in RRC_CONNECTED mode or when receiving from NG-RAN a MT Communication Handling request indicating the UE is now reachable for downlink data and/or signalling as specified in clause 4.8.2.2 of 3GPP TS 23.502 [3], the NF Service Consumer (e.g. AMF) shall request the SMF to resume the User Plane connection of an existing PDU session, i.e. establish the N3 tunnel between the 5G-AN and UPF, as follows.\nThe figure depicts a UE (User Equipment) triggered connection resume in a RRC (Radio Resource Control) inactive scenario. The figure shows the UE's signal strength, which is low, and the RRC's status, which is inactive. The UE then triggers the connection resume, which is initiated by the RRC. The figure illustrates the importance of RRC in ensuring network reliability and user experience.\nFigure 5.2.2.3.25-1: UE Triggered Connection Resume in RRC Inactive\n1.\tThe NF Service Consumer shall request the SMF to resume the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tuser location and user location timestamp;\n-\tcause attribute set to \"PDU_SESSION_RESUMED\";\n-\tN2 SM information received from the 5G-AN, i.e. the Path Switch Request Transfer including the new transport layer address and tunnel endpoint of the downlink termination point for the user data for this PDU session (i.e. 5G-AN's GTP-U F-TEID for downlink traffic), or the N2 Notification Request Transfer;\nEditor's Note:\tThe N2 message (and its IEs, e.g. N2 Notification Request/Response Transfer) to notify the AMF that UE transits into RRC_CONNECTED when the NG-RAN has the UE context is to be aligned with NGAP specification.\n-\tadditional N2 SM information received from the 5G-AN, if any;\n-\tother information, if necessary.\n2a.\tIf the SMF can proceed with resuming the user plane connection of the PDU session, i.e. request the UPF to forward any received DL data to the NG-RAN DL F-TEID which is stored in the SMF when the SMF is requested to apply CN based MT handling, the SMF shall return a 200 OK response including the following information:\n-\tthe upCnxState attribute set to ACTIVATED;\n-\tN2 SM information, i.e. Path Switch Response Transfer including the transport layer address and tunnel endpoint of the uplink termination point for the user data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic), or N2 Notification Response Transfer.\n2b.\tIf the SMF cannot proceed with resuming the user plane connection of the PDU session, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1, including:\n-\tthe upCnxState attribute representing the final state of the user plane connection (e.g. DEACTIVATED);\n-\tN2 SM information, including the cause of the failure.\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to \"REL_DUE_TO_NSI_NOT_AVAILABLE\".\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to \"REL_DUE_TO_MBSR_NOT_AUTHORIZED\".\nThe Release SM Context service operation shall be used to release the SM Context of a given PDU session, in the SMF, in the V-SMF for HR roaming scenarios, or in the I-SMF for a PDU session with an I-SMF, in the following procedures:\n-\tRegistration procedure with I-SMF/V-SMF change and removal (see clause 4.23.3 of 3GPP TS 23.502 [3]);\n-\tUE Triggered Service Request with I-SMF change and removal or V-SMF change (see clause 4.23.4.3 of 3GPP TS 23.502 [3]);\n-\tUE initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502 [3]);\n-\tNetwork initiated Deregistration, e.g. AMF initiated deregistration (see clause 4.2.2.3.3 of 3GPP TS 23.502 [3]), UDM triggered deregistration by sending Deregistration notification with initial Registration indication (see clause 4.2.2.2.2 of 3GPP TS 23.502 [3]);\n-\tNetwork requested PDU session release (see clause 4.3.4.2 of 3GPP TS 23.502 [3]), e.g. AMF initiated release:\n-\twhen there is a mismatch of the PDU session status between the UE and the;\n-\twhen there is a change of the set of network slices for a UE where a network slice instance is no longer available (as described in clause 5.15.5.2.2 of 3GPP TS 23.501 [2] and in clause 4.2.2.2 of 3GPP TS 23.502 [3]) and the PDU session is not activated;\n-\twhen there is a PDU session rejected by the new AMF to the old AMF during Registration procedure (as described in clause 4.2.2.2.2 of 3GPP TS 23.502 [3]); or\n-\tdue to Mobility or Access Restrictions (see clause 5.16.4.3 of 3GPP TS 23.501 [2]).\n-\t5GS to EPS Idle mode mobility or handover, to release the SM context in the V-SMF only for a Home Routed PDU session or in the I-SMF only for a PDU session with an I-SMF (see clauses 4.23.12.2 and 4.23.12.6 of 3GPP TS 23.502 [3]), for the PDU sessions that are transferred to EPC;\n-\t5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility using N26, to release the PDU session not transferred to EPC (see clauses 4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3]);\n-\tInter NG-RAN node Xn based handover and N2 based handover with I-SMF change and removal;\n-\t5G-SRVCC from NG-RAN to 3GPP UTRAN procedure (see clause 6.5.4 of 3GPP TS 23.216 [35]);\n-\t5G-RG Deregistration via W-5GAN (see clause 7.2.1.2 of 3GPP TS 23.316 [36]);\n-\tFN-RG Deregistration via W-5GAN (see clause 7.2.1.4 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG Deregistration via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\t5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network Requested PDU Session Release via W-5GAN (see clause 7.3.7 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network Requested PDU Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tMobility procedures with AMF changes (e.g. Registration / N2 based handover with AMF changes), to release the MA-PDU session if target AMF does not support MA-PDU session (see clause 4.22.9 of 3GPP TS 23.502 [3]).\nThe SMF shall release the SM context without sending any signalling towards the 5G-AN and the UE.\nThe NF Service Consumer (e.g. AMF) shall release the SM Context of a given PDU session by using the HTTP \"release\" custom operation as shown in Figure 5.2.2.4.1-1.\nThe figure depicts a context release for a specific SM context, labeled as \"Figure 5.2.2.4.1-1.\" The context release is a crucial step in the software development process, where the software is released to the public for testing and feedback. The figure provides a visual representation of the context release process, including the release notes, release notes, and release notes, which are essential for the software development team to understand the changes and improvements made in the context release.\nFigure 5.2.2.4.1-1: SM context release\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual SM context to be deleted. The content of the POST request shall contain any data that needs to be passed to the SMF and/or N2 SM information (if Secondary RAT usage data needs to be reported).\n\nFor a 5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session associated with 3GPP access and with assigned EBI(s), the POST request shall contain the vsmfReleaseOnly indication; for a PDU session with an I-SMF and assigned EBI(s), the POST request shall contain the ismfReleaseOnly indication.\nFor a 5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session associated with 3GPP access and with no assigned EBI(s), the POST request shall not contain the vsmfReleaseOnly indication to release the PDU session in the V-SMF and H-SMF; for a PDU session with an I-SMF and with no assigned EBI(s), the POST request shall not contain the ismfReleaseOnly indication to release the PDU session in the I-SMF and SMF.\nFor Registration, UE Triggered Service Request, Inter NG-RAN node Xn based handover and N2 based handover procedures with I-SMF change or removal, the POST request shall contain the ismfReleaseOnly indication; if with V-SMF change or removal, the POST request shall contain the vsmfReleaseOnly indication.\nFor 5G-SRVCC from NG-RAN to 3GPP UTRAN, the POST request body shall contain the \"cause\" attribute with the value \"REL_DUE_TO_PS_TO_CS_HO\".\n2a.\tOn success, the SMF shall return a \"200 OK\" with message body containing the representation of the SmContextReleasedData when information needs to be returned to the NF Service Consumer, or a \"204 No Content\" response with an empty content in the POST response.\nIf the POST request contains a vsmfReleaseOnly indication (i.e. for a 5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session with assigned EBI(s)), the V-SMF shall release its SM context and corresponding PDU session resource locally, i.e. without signalling towards the H-SMF.\nIf the POST request contains an ismfReleaseOnly indication (i.e. for a 5GS to EPS Idle mode mobility or handover, for a PDU session with an I-SMF and assigned EBI(s)), the I-SMF shall release its SM context and corresponding PDU session resource locally, i.e. without signalling towards the SMF.\nIf the POST request body contains the \"cause\" attribute with the value \"REL_DUE_TO_PS_TO_CS_HO\", the SMF shall indicate to the PCF within SM Policy Association termination that the PDU session is released due to 5G-SRVCC, or the cause value shall be passed from the V-SMF to the H-SMF (for a HR PDU session) or from the I-SMF to the SMF (for a PDU session with an I-SMF) within the Release service operation.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body shall include a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.3.4.3.2-2.\nThe Notify SM Context Status service operation shall be used by the SMF to notify the NF Service Consumer about the status of an SM context related to a PDU session (e.g. when the SM context is released and the release is not triggered by a Release SM Context Request, or when the SM context is moved to another system, or when the control of the PDU session is taken over by another I-SMF/V-SMF/SMF in the same SMF set) in the SMF, or in the V-SMF for HR roaming scenarios, or in the I-SMF for a PDU session with an I-SMF.\nThe Notify SM Context Status service operation may also be used by the SMF to provide the SMF derived CN assisted RAN parameters tuning to the NF Service Consumer (e.g. AMF), if the NF Service Consumer has indicated support of the CARPT (CN Assisted RAN Parameters Tuning) feature.\nThe Notify SM Context Status service operation may also be used by the SMF to notify the DDN failure status.\nThe Notify SM Context Status service operation may also be used to inform the NF service consumer (e.g. AMF) that the V-SMF has created the PDU session towards an alternative H-SMF for a HR PDU session or the I-SMF has created the PDU session towards an alternative SMF for a PDU session with I-SMF, during the PDU session establishment procedure.\nIt is used in the following procedures:\n-\tUE requested PDU Session Establishment procedure, when the PDU session establishment fails after the Create SM Context response or to provide the SMF derived CN assisted RAN parameters tuning, or when an alternative H-SMF is used by the V-SMF for a HR PDU session (see clause 4.3.2.2 of 3GPP TS 23.502 [3]), or when an alternative SMF is used by the I-SMF for a PDU session with an I-SMF (see clause 4.23.5.1 of 3GPP TS 23.502 [3]);\n-\tUE or Network requested PDU session Modification (see clause 4.3.3.2 of 3GPP TS 23.502 [3]) to provide the SMF derived CN assisted RAN parameters tuning;\n-\tUE or Network requested PDU session release (see clause 4.3.4.2 of 3GPP TS 23.502 [3]), e.g. SMF initiated release;\n-\tHandover of a PDU Session procedure between untrusted non-3GPP to 3GPP access (see clauses 4.9.2.3.2,  4.9.2.4.2 and 4.23.16.2 of 3GPP TS 23.502 [3]);\n-\tInterworking procedures without N26 interface, e.g. 5GS to EPS Mobility (see clause 4.11.2.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]);\n-\tI-SMF Context Transfer (see clause 4.26.5.2 of 3GPP TS 23.502 [3]);\n-\tSMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause 4.26.5.3 of 3GPP TS 23.502 [3]);\n-\tHandover from W-5GAN/5GC to 3GPP access/EPS (see clause 7.6.4.2 of 3GPP TS 23.316 [36]);\n-\t5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of 3GPP TS 23.316 [36]);\n-\t5G-RG or Network requested PDU Session Modification via W-5GAN (see clause 7.3.2 of 3GPP TS 23.316 [36]);\n-\t5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3 of 3GPP TS 23.316 [36])\n-\tFN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network Requested PDU Session Modification via W-5GAN (see clause 7.3.6 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network Requested PDU Session Release via W-5GAN (see clause 7.3.7 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG requested PDU Session Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU Session Modification via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tHandover between 3GPP access/5GC and W-5GAN access (see clause 7.6.3 of 3GPP TS 23.316 [36]);\n-\tHandover from 3GPP access/EPS to W-5GAN/5GC (see clause 7.6.4.1 of 3GPP TS 23.316 [36]);\n-\tInformation flow for Availability after DDN Failure with SMF buffering (see clause 4.15.3.2.7 of 3GPP TS 23.502 [3]);\n-\tInformation flow for Availability after DDN Failure with UPF buffering (see clause 4.15.3.2.9 of 3GPP TS 23.502 [3]);\n-\tThe control of the PDU session is taken over by a new anchor SMF within the same SMF set (see clause 5.22 of 3GPP TS 29.244 [29]) or taken over by a new intermediate SMF (e.g. I-SMF or V-SMF) within the same SMF set, and the new SMF instance decides to notify the change of SMF;\n-\tSMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 2 PDU Session Anchor with different PDU Sessions (see clause 4.3.5.1 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see clause 4.3.5.2 of 3GPP TS 23.502 [3]);\n-\tNetwork triggered EAS change in HR-SBO context (see clause 6.7.3.2 of 3GPP TS 23.548 [74]);\n-\tNetwork slice usage behaviour control, i.e. SMF initiated PDU session release due to slice inactivity, see clause 5.15.15.3 of 3GPP TS 23.501 [2].\nThe SMF shall notify the NF Service Consumer by using the HTTP POST method as shown in Figure 5.2.2.5.1-1.\nThe figure depicts a context status notification system in a smart manufacturing environment, with various components such as the context server, context manager, and context client. The system uses a message queue to store context messages, and a message broker to distribute context messages to the appropriate recipients. The figure also includes a message broker interface, which allows users to monitor and manage the context status notifications.\nFigure 5.2.2.5.1-1: SM context status notification\n1.\tThe SMF shall send a POST request to the SM Context Status callback reference provided by the NF Service Consumer during the subscription to this notification. The content of the POST request shall contain the notification content.\nIf the notification is triggered by PDU session handover to release resources of the PDU session in the source access, the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.9.2.3.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by PDU session handover to release only the SM Context with the I-SMF in the source access but without releasing the PDU session in the AMF, the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.23.16.2 of 3GPP TS 23.502 [3].\tIf the notification is triggered by PDU session handover to release resources of the PDU session in the target access due to handover failure between 3GPP access and non-3GPP access, the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"PDU_SESSION_HAND_OVER_FAILURE\".\nIf the NF Service Consumer indicated support of the HOFAIL feature (see clause 6.1.8) and if the notification is triggered by PDU session handover to update the access type of the PDU session due to a handover failure between 3GPP access and non-3GPP access, the notification content shall contain the resourceStatus IE with the value \"UPDATED\", the anType IE with the value \"3GPP\" or \"NON_3GPP\" indicating the access type of the PDU session after the handover failure scenario and the Cause IE with the value \"PDU_SESSION_HAND_OVER_FAILURE\".\nIf the notification is triggered by the SMF derived CN assisted RAN parameters tuning, the notification content shall contain the resourceStatus IE with the value \"UNCHANGED\" and the Cause IE with the value \"CN_ASSISTED_RAN_PARAMETER_TUNING\".\nIf the notification is triggered by SMF Context Transfer procedure, the notification content shall contain the Cause IE with the value \"ISMF_CONTEXT_TRANSFER\" or \"SMF_CONTEXT_TRANSFER\".\nIf the notification is triggered by the report of the DDN failure, the notification content shall contain the resourceStatus IE with the value \"UNCHANGED\" and the Cause IE with the value \"DDN_FAILURE_STATUS\".\nIf the notification is triggered to report that an alternative (H-)SMF has been used during a HR PDU session establishment or the establishment of a PDU session with an I-SMF, the notification content shall contain the resourceStatus IE with the value \"ALT_ANCHOR_SMF\". The notification content shall also include the altAnchorSmfUri IE containing the API URI of the alternative (H-)SMF used for the PDU session and if available the altAnchorSmfId IE containing the NF Instance Id of the alternative (H-)SMF. The Notification shall only be sent to the NF service consumer (e.g. AMF) supporting the AASN feature.\nFor a PDU session without an I-SMF or V-SMF, if upon a change of anchor SMF, the new anchor SMF instance decides to notify the change of anchor SMF, then the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"CHANGED_ANCHOR_SMF\". In addition, the new anchor SMF shall include its SMF Instance ID in the notification content, and/or carry an updated binding indication in the HTTP headers to indicate the change of anchor SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]).\nFor a PDU session with an I-SMF or V-SMF, if upon a change of intermediate SMF (e.g. I-SMF or V-SMF), the new intermediate SMF instance decides to notify the change of intermediate SMF, then the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"CHANGED_INTERMEDIATE_SMF\". In addition, the new intermediate SMF shall include its SMF Instance ID in the notificationcontent, and/or carry an updated binding indication in the HTTP headers to indicate the change of intermediate SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]).\nFor a PDU session with an I-SMF or V-SMF, if the notification is triggered by the change of the anchor SMF (e.g. the PDU session is taken over by a new SMF within the same SMF Set selected by the UPF), the notification content shall contain the resourceStatus IE with the value \"UPDATED\", the Cause IE with the value \"CHANGED_ANCHOR_SMF\" and the SMF Instance ID of the new anchor SMF.\nIf the notification is triggered by SMF for I-SMF selection or removal or V-SMF selection for the current PDU session, or SMF selection during PDU Session re-establishment for SSC mode 2/3, the notification content shall contain the resourceStatus IE with the value \"UNCHANGED\", the Cause IE with the value \"TARGET_DNAI_NOTIFICATION\" and the targetDnaiInfo IE. The targetDnai IE in the targetDnaiInfo IE shall be absent if the I-SMF removal is triggered due to the DNAI currently served by the I-SMF being no longer used for the PDU Session. If the notification is triggered for SMF selection during PDU Session re-establishment for SSC mode 3, the notification content may also contain the oldPduSessionRef IE received from the SMF or the oldSmContextRef IE as specified in clause 4.3.5.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by a PDU session release due to slice inactivity as specified in clause 5.15.15.3 of 3GPP TS 23.501 [2] and clause 5.11.2 of 3GPP TS 29.244 [29], the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"REL_DUE_TO_SLICE_INACTIVITY\".\n2a.\tOn success, \"204 No Content\" shall be returned and the content of the POST response shall be empty.\nIf the SMF indicated in the request that the SM context resource is released, the NF Service Consumer shall release its association with the SMF for the PDU session and release the EBI(s) that were assigned to the PDU session.\nIf the SMF indicated in the request that the SM context resource is updated with the anType IE, the NF Service Consumer shall change the access type of the PDU session with the value of anType IE.\nIf the notification request was triggered by PDU session handover to release only the SM Context with the I-SMF in the source access but without releasing the PDU session in the AMF, the AMF shall remove its resources associated to the SM context with the I-SMF, but the AMF shall not release the PDU session in the AMF, and the I-SMF shall remove its resources associated to the PDU session.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.7.3.1-2 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.7.3.1-2.\nIf the NF Service Consumer (e.g. AMF) is not able to handle the notification but knows by implementation specific means that another NF Service Consumer (e.g. AMF) is able to handle the notification (e.g. AMF deployment with Backup AMF), it shall reply with an HTTP \"307 temporary redirect\" response pointing to the URI of the new NF Service Consumer. If the NF Service Consumer is not able to handle the notification but another unknown NF Service Consumer could possibly handle the notification (e.g. AMF deployment with UDSF), it shall reply with an HTTP \"404 Not found\" error response.\nIf the SMF receives a \"307 temporary redirect\" response, the SMF shall use this URI as Notification URI in subsequent communication and shall resend the notification to that URI.\nIf the SMF becomes aware that a new NF Service Consumer (e.g. AMF) is requiring notifications (e.g. via the \"404 Not found\" response or via Namf_Communication service AMFStatusChange Notifications, or via link level failures, see clause 6.5.2 of 3GPP TS 29.500 [4]), and the SMF knows alternate or backup Address(es) where to send Notifications (e.g. via the GUAMI and/or backupAmfInfo received when the SM context was established or via AMFStatusChange Notifications, or via the Nnrf_NFDiscovery service specified in 3GPP TS 29.510 [19] using the service name and GUAMI or backupAMFInfo obtained during the creation of the SM context, see clause 6.5.2.2 of 3GPP TS 29.500 [4]), the SMF shall exchange the authority part of the corresponding Notification URI with one of those addresses and shall use that URI in subsequent communication; the SMF shall resend the notification to that URI.\nThe Retrieve SM Context service operation shall be used to retrieve an individual SM context, for a given PDU session, from the (H-)SMF, from the V-SMF during change or removal of V-SMF, or from the I-SMF during change or removal of I-SMF.\nIt is used in the following procedures:\n-\t5GS to EPS handover using N26 interface (see clause 4.11.1.2.1 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\t5GS to EPS Idle mode mobility using N26 interface (see clause 4.11.1.3.2 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\tUE Triggered Service Request with I-SMF insertion/change/removal or with V-SMF insertion/change/removal (see clause 4.23.4.3 of of 3GPP TS 23.502 [3]);\n-\tXn based inter NG-RAN handover with insertion of intermediate SMF (see clause 4.23.11 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\tInter NG-RAN node N2 based handover, preparation phase, with I-SMF or V-SMF insertion/change (see clause 4.23.7.3.2 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\tSMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause 4.26.5.3 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\tI-SMF selection per DNAI (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see clause 4.3.5.2 of 3GPP TS 23.502 [3]);\n-\tNetwork triggered EAS change in HR-SBO context (see clause 6.7.3.2 of 3GPP TS 23.548 [74]);\n-\tN2 Handover with V-SMF insertion/change/removal in HR-SBO case (see clause 6.7.2.6 of 3GPP TS 23.548 [39]);\n-\tInter V-SMF mobility registration update procedure in HR-SBO case (see clause 6.7.2.7 of 3GPP TS 23.548 [39]);\n-\tXn Handover with V-SMF change in HR-SBO case (see clause 6.7.2.9 of 3GPP TS 23.548 [39]).\nThe NF Service Consumer (e.g. AMF or SMF) shall retrieve an SM context by using the HTTP POST method (retrieve custom operation) as shown in Figure 5.2.2.6.1-1.\nThe figure depicts a context retrieval system in a smart city environment, illustrating the process of retrieving relevant information from a database. The system uses a combination of machine learning algorithms and natural language processing techniques to identify and retrieve relevant data from a large database of context-related information. The figure shows the system's architecture, including the database, the machine learning algorithms, and the natural language processing components. The system is designed to be efficient and scalable, allowing it to handle large amounts of data and respond to real-time requests.\nFigure 5.2.2.6.1-1: SM context retrieval\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual SM context to be retrieved. The POST request may contain a content with the following parameters:\n-\ttarget MME capabilities, if available, to allow the SMF to determine whether to include EPS bearer contexts for Ethernet PDN Type, non-IP PDN type, or requiring UP integrity protection or not;\n-\tSM context type:\n-\tindicating that this is a request to retrieve the complete SM context (i.e. 5G SM context including EPS context information as defined in clause 6.1.6.2.39), during scenarios with an I-SMF or V-SMF insertion/change/removal or SMF Context Transfer procedure; or\n-\tindicating that this is a request to retrieve the AF Coordination Information as defined in clause 6.1.6.2.69, during the change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions, if the runtime coordination between old SMF and AF is enabled.\n-\tserving core network operator PLMN ID of the new V-SMF, when the procedure is triggered by a new V-SMF, if the new V-SMF supports inter-PLMN V-SMF change or insertion. Or the serving core network operator PLMN ID of the new I-SMF during the procedure with an I-SMF insertion;\n-\tnotToTransferEbiList IE, if the SM context type IE is absent or indicate a request to retrieve the EPS PDN connection, to request the SMF to not transfer EPS bearer context(s) corresponding to EBIs in the list, during an 5GS to EPS mobility when the target MME does not support 15 EPS bearers;\n-\tranUnchangedInd IE, if the NG-RAN Tunnel info is required in scenario of I-SMF/V-SMF change/insertion during registration procedure after EPS to 5GS handover, I-SMF selection/removal per DNAI or V-SMF selection per DNAI, when the UE is in CM-CONNECTED state as specified in clauses 5.2.2.2.7 and 5.2.2.2.12;\n-\thrsboSupportInd IE, if the procedure is triggered by a target V-SMF supporting the HR-SBO feature;\n-\tstoredOffloadIds IE, if the target V-SMF has a list of stored offload identifiers from the previous procedures for the HPLMN of the PDU session.\n2a.\tOn success, \"200 OK\" shall be returned; the content of the POST response shall contain the mapped EPS bearer contexts if this is a request for the UE EPS PDN connection, or the complete SM context if this is a request for retrieving the complete SM context, or the AF Coordination Information if this is a request for retrieving the AF Coordination Information.\n\nIf this is a request for the UE EPS PDN connection and the target MME capabilities were provided in the request parameters:\n-\tif the target MME supports the non-IP PDN type, the SMF shall return, for a PDU session with PDU session type \"Unstructured\", an EPS bearer context with the \"non-IP\" PDN type;\n-\tif the target MME supports the Ethernet PDN type, the SMF shall return, for a PDU session with PDU session type \"Ethernet\", an EPS bearer context with the \"Ethernet\" PDN type;\n-\tif the target MME does not support the Ethernet PDN type but supports the non-IP PDN type, the SMF shall return, for a PDU session with PDU session type \"Ethernet\", an EPS bearer context with the \"non-IP\" PDN type.\nIf the notToTransferEbiList IE was included in the request, the SMF shall not provide EPS bearer context(s) corresponding to EBIs in the list.\nIf this is a request for retrieving the complete SM context and there are downlink data packets buffered at I-UPF, the SMF shall include the \"forwardingInd\" attribute with value \"true\" in the response body to indicate downlink data packets are buffered at the I-UPF. The NF Service Consumer receiving the \"forwardingInd\" attribute with the value \"true\" shall setup a forwarding tunnel for receiving the buffered downlink data packets.\nIf this is a request for retrieving the complete SM context for an inter-PLMN V-SMF change, i.e. if the request contains the serving core network operator PLMN ID indicating a different PLMN than the PLMN of the SMF (acting as the old V-SMF), the latter shall not include the chargingInfo IE and the roamingChargingProfile IE in the SM context returned in the response.\nDuring a procedure with an I-SMF or V-SMF insertion, the anchor SMF should use the servingNetwork IE received in the Retrieve SM Context Request to determine whether the inserted entity is an I-SMF or V-SMF, and if so, encode in the SM Context returned in the response the applicable set of attributes (e.g. hsmfUri, hSmfInstanceId, hSmfServiceInstanceId to a V-SMF, or smfUri, smfInstanceId, smfServiceInstanceId to an I-SMF) and the applicable URI in the pduSessionRef if different URIs are used for intra-PLMN and inter-PLMN signaling requests targeting the PDU session context.\nNOTE 1:\tDuring an inter-PLMN procedure with an I-SMF or V-SMF change, the old V-SMF or I-SMF returns the attributes of the SM context as were received from the anchor SMF.\nIf the UE, target MME and AMF support User Plane integrity protection with EPS, the SMF shall include the UP Security Policy IE in the UE EPS PDN connection context if User Plane integrity protection has been enabled by the SMF as specified in clauses 4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3].\nNOTE 2:\tDuring a 5GS to EPS handover, if User Plane Integrity Protection is used in 5GS and QoS flows are associated with EPS bearer IDs, the I-SMF/V-SMF considers that the UE supports User Plane Integrity Protection in EPS.\nIf this is a request for retrieving the complete SM context for an I-SMF or V-SMF insertion, and the smfUri IE or hSmfUri IE is provided by the AMF in the Create SM Context request and is different from the smfUri IE or hSmfUri IE in the SM context returned in the Retrieve SM Context response, the latter (i.e. the IEs received in the Retrieve SM Context response) shall prevail and be used by the I-SMF or V-SMF to trigger the create service operation to the (H-)SMF.\nIf the target V-SMF supports the HR-SBO feature, for a HR-SBO session, the content of the POST response message may also contain the HR-SBO related information, e.g., hrsboAuthResult, hDnsAddr, hPlmnAddr, vplmnOffloadingInfoList.\nThe source V-SMF shall determine if the target V-SMF has already received the corresponding VPLMN Offloading Information for an offload identifier based on the storedOffloadIds for the HPLMN of the PDU session provided by the target V-SMF in the Retrieve SM context request message for an intra PLMN V-SMF change, the source V-SMF shall include:\n-\tthe Offload Identifier(s) only, if the Offload Identifier(s) are known by the target V-SMF, i.e., the Offload Identifier(s) are part of the storedOffloadIds; otherwise\n-\ta list of vplmnOffloadingInfo attributes where each vplmnOffloadingInfo contains an offload identifier and the corresponding VPLMN Offloading Information.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.4.4.2-2 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.3.4.4.2-2.\nIf the EBI value of the QoS Flow associated with the default QoS Rule is included in the notToTransferEbiList IE, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"DEFAULT_EBI_NOT_TRANSFERRED\".\nIf a request for the UE EPS PDN connection is rejected due to the target MME not being capable to support the PDU session, e.g. if the PDU session requires UP integrity protection but the target MME does not support User Plane Integrity Protection with EPS, the SMF shall return a 403 Forbidden response with the \"cause\" attribute in the ProblemDetails structure set to \" TARGET_MME_CAPABILITY\".\nThe Create service operation shall be used to create an individual PDU session in the H-SMF for HR roaming scenarios, or in the SMF for PDU sessions involving an I-SMF.\nIt is used in the following procedures:\n-\tUE requested PDU Session Establishment for home-routed roaming or with an I-SMF (see clauses 4.3.2.2.2 and 4.23.5.1 of 3GPP TS 23.502 [3]);\n-\twhen an I-SMF is inserted during the Registration, Service Request, Inter NG-RAN node N2 based handover, Xn based handover and Handover from non-3GPP to 3GPP access procedures (see clauses 4.23.3, 4.23.4, 4.23.7.3, 4.23.11.2 and 4.23.16 of 3GPP TS 23.502 [3]);\n-\twhen a V-SMF is inserted during the Registration and Inter NG-RAN node N2 based handover (see clauses 4.23.3 and 4.23.7.3 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS Idle mode mobility or handover using N26 interface (see clauses 4.11, 4.23.12.3, 4.23.12.5 and 4.23.12.7 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS mobility without N26 interface (see clause 4.11.2.3 of 3GPP TS 23.502 [3]);\n-\tHandover of a PDU session between 3GPP access and non-3GPP access, when the target AMF does not know the SMF resource identifier of the SM context used by the source AMF, e.g. when the target AMF is not in the PLMN of the N3IWF (see clause 4.9.2.3.2 of 3GPP TS 23.502 [3]);\n-\tHandover from EPS to 5GC-N3IWF (see clause 4.11.3.1 of 3GPP TS 23.502 [3]);\n-\tHandover from EPC/ePDG to 5GS (see clause 4.11.4.1 of 3GPP TS 23.502 [3]);\n-\tSupport of Network Slice Replacement (see clause 5.15.19 of 3GPP TS 23.501 [2]);\n-\tPDU Session establishment for supporting HR-SBO in VPLMN (see clause 6.7.2.2 of 3GPP TS 23.548 [39]).\nThe NF Service Consumer (e.g. V-SMF or I-SMF) shall create a PDU session in the SMF (i.e. H-SMF for a HR PDU session, or SMF for a PDU session involving an I-SMF) by using the HTTP POST method as shown in Figure 5.2.2.7.1-1.\nThe figure depicts a PDU session creation process in a network, illustrating the steps involved in creating a session for a specific PDU (Physical Device Unit) in a network. The figure shows the various components and steps involved in the creation of a session, including the creation of a new PDU, the creation of a new session, and the creation of a new session configuration. The figure also includes a diagram of the network topology, showing the connections between the different components and the paths that data can take. Overall, the figure provides a clear and concise visual representation of the PDU session creation process in a network.\nFigure 5.2.2.7.1-1: PDU session creation\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the PDU sessions collection resource of the SMF. The content of the POST request shall contain:\n-\ta representation of the individual PDU session resource to be created;\n-\tthe requestType IE, if the Request type IE is received from the UE for a single access PDU session and if the request refers to an existing PDU session or an existing Emergency PDU session; the requestType IE shall not be included for a MA-PDU session establishment request; it may be included otherwise;\n-\tthe indication that a MA-PDU session is requested if a MA-PDU session is requested to be established by the UE, or the indication that the PDU session is allowed to be upgraded to a MA PDU session if the UE indicated so;\n-\tthe vsmfId IE or ismfId IE identifying the V-SMF or I-SMF respectively;\n-\tthe cpCiotEnabled IE with the value \"True\", if Control Plane CIoT 5GS Optimisation is enabled for this PDU session;\n-\tthe cpOnlyInd IE with the value \"True\", if the PDU session shall only use Control Plane CIoT 5GS Optimisation;\n-\tthe Invoke NEF indication with the value \"True\", if the cpCiotEnabled IE is set to \"True\" and data delivery via NEF is selected for the PDU session;\n-\tthe vcnTunnelInfo IE or icnTunnelInfo IE with the DL N9 tunnel CN information of the UPF controlled by the V-SMF or I-SMF respectively, except for EPS to 5GS handover using N26 interface and when Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for this PDU session;\n-\tthe additionalCnTunnelInfo IE with additional DL N9 tunnel CN information, if a MA PDU session is requested or if the PDU session is allowed to be upgraded to a MA PDU session, and if the UE is registered over both 3GPP and Non-3GPP accesses;\n-\tthe alternative S-NSSAI, if the NF service consumer and UE support the network slice replacement and it is requested to replace the S-NSSAI with the alternative S-NSSAI (see clause 5.15.19 of 3GPP TS 23.501 [2]);\n-\tthe anType IE, indicating the access network type (3GPP or non-3GPP access) associated to the PDU session;\n-\tthe additionalAnType IE indicating an additional access network type associated to the PDU session, for a MA PDU session, if the UE is registered over both 3GPP and Non-3GPP accesses;\n-\tthe n9ForwardingTunnelInfo IE indicating the allocated N9 tunnel endpoints information for receiving the buffered downlink data packets, when downlink data packets are buffered at I-UPF controlled by the SMF during I-SMF insertion;\n-\ta callback URI ({vsmfPduSessionUri} or {ismfPduSessionUri}) representing the PDU session resource in the V-SMF or I-SMF. The SMF shall construct the callback URIs based on the received {vsmfPduSessionUri} or {ismfPduSessionUri} as defined in clause 6.1, e.g. the callback URI \"{vsmfPduSessionUri}/modify\" to modify a PDU session in the V-SMF;\n-\tthe list of DNAIs supported by the I-SMF, for a PDU session with an I-SMF;\n-\tthe QoS constraints from the VPLMN for the QoS Flow associated with the default QoS rule and/or for the Session-AMBR if any, for the HR PDU session, if the VQOS feature is supported by the V-SMF;\n-\tthe upipSupported IE set to \"true\", if the UE supports User Plane Integrity Protection with EPS and if the AMF supports the related functionality.\nThe content of the POST request may further contain:\n-\tthe satelliteBackhaulCat IE indicating the category of the satellite backhaul used towards the 5G AN serving the UE, if the V-SMF/I-SMF received this information from the AMF;\n-\tthe disasterRoamingInd IE set to true during the PDU session establishment or a V-SMF insertion procedure when the V-SMF is indicated by the AMF that the UE is registered for Disaster Roaming service;\n-\tthe hrsboInfo IE including the HR-SBO information sent from the VPLMN when the V-SMF requests HR SBO authorization;\n-\tthe ecsAddrConfigInfos IE including the ECS Address Configuration information Parameters received from the NEF.\nAs specified in clause 4.3.2.2.2 of 3GPP TS 23.502 [3], the NF Service Consumer shall be able to receive an Update request before receiving the Create Response, e.g. for EPS bearer ID allocation (see clause 4.11.1.4.1 of 3GPP TS 23.502 [3]) or Secondary authorization/authentication (see clause 4.3.2.3 of 3GPP TS 23.502 [3]).\nNOTE:\tIf the H-SMF supports the VQOS feature, when QoS constraints are received from the VPLMN and PCF is deployed, the H-SMF provides the QoS constraints from the VPLMN to the PCF; otherwise, in case dynamic PCC is not deployed, the SMF takes them into account when generating the default QoS rule.\n2a.\tOn success, \"201 Created\" shall be returned, the content of the POST response shall contain:\n-\tthe representation describing the status of the request;\n-\tthe QoS flow(s) to establish for the PDU session, except when Control Plane CIoT 5GS Optimisation is enabled for this PDU session;\n-\tthe epsPdnCnxInfo IE and, for each EPS bearer, an epsBearerInfo IE, if the PDU session is associated to (or handed over to) the 3GPP access type and may be moved to EPS during its lifetime;\n-\ta MA PDU Session Accepted indication, if a MA PDU session is established;\n-\tthe smallDataRateControlEnabled indication set to \"true\" if small data rate control is applicable on the PDU session;\n-\tthe \"Location\" header containing the URI of the created resource;\n-\tthe hcnTunnelInfo IE or cnTunnelInfo IE with the UL N9 Tunnel CN information of the UPF controlled by the H-SMF or SMF respectively, expect for when Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for this PDU session.\n-\tthe additionalCnTunnelInfo IE with additional UL N9 tunnel CN information of the UPF controlled by the H-SMF or SMF if a MA-PDU session is established for a UE registered over both 3GPP access and Non-3GPP access.\nThe content of the POST response may further contain:\n-\tthe pending update information list, indicating the information elements whose change(s) are not required to be updated in real-time to the (H-)SMF, i.e. the change(s) of the indicated information elements may be piggybacked in a subsequent update to the (H-)SMF together with other information elements.\nThe content of the POST response may also contain the upSecurity, maxIntegrityProtectedDataRate and maxIntegrityProtectedDataRateDl IEs, if the PDU session is associated to (or handed over to) the 3GPP access type.\nThe SMF may provide alternative QoS profiles for each GBR QoS flow with Notification control enabled, to allow the NG-RAN to accept the setup of the QoS flow if the requested QoS parameters or at least one of the alternative QoS parameters sets can be fulfilled at the time of setup.\nThe authority and/or deployment-specific string of the apiRoot of the created resource URI may differ from the authority and/or deployment-specific string of the apiRoot of the request URI received in the POST request.\nIf an Update Request was sent to the NF Service Consumer before the Create Response, the URI in the \"Location\" header and in the hsmfPduSessionUri IE (carrying the PDU session resource URI of a HR PDU session or a PDU session with an I-SMF) of the SMF initiated Update Request shall be the same. If the requestType IE was received in the request and set to EXISTING_PDU_SESSION or EXISTING_EMERGENCY_PDU_SESSION (i.e. indicating that this is a UE request for an existing PDU session or an existing emergency PDU session), the SMF shall identify the existing PDU session or emergency PDU session based on the PDU Session ID; in this case, the SMF shall not create a new PDU session or emergency PDU session but instead update the existing PDU session or emergency PDU session and provide the representation of the updated PDU session or emergency PDU session in the response to the NF Service Consumer.\nThe POST request shall be considered as colliding with an existing PDU session context if:\n-\tthis is a request to establish a new PDU session, i.e.:\n-\tthe RequestType IE is present in the request and set to INITIAL_REQUEST or INITIAL_EMERGENCY_REQUEST (e.g. single access PDU session establishment request);\n-\tthe RequestType IE and the maRequestInd IE are both absent in the request (e.g. EPS to 5GS mobility); or\n-\tthe maRequestInd IE is present in the request (i.e. MA-PDU session establishment request) and the access type indicated in the request corresponds to the access type of the existing PDU session context.\nand either of the following conditions is met:\n-\tthis is a request to establish a non-emergency PDU session and the request includes the same SUPI and the same PDU Session ID as for an existing PDU session context; or\n-\tthis is a request to establish an emergency PDU session and the request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, as for an existing PDU session context for an emergency PDU session.\nA POST request that collides with an existing PDU session context shall be treated as a request for a new PDU session context. The SMF shall assign a new PDU session reference, i.e. {pduSessionRef} (see clause 6.1.3.6.2), which is different from the existing PDU session context. Before creating the new PDU session context, the SMF should delete the existing PDU session context locally and any associated resources in the UPF, PCF, CHF and UDM. See also clause 5.2.3.3.1 for the handling of requests which collide with an existing PDU session context. If the vsmfPduSessionUri or ismfPduSessionUri of the existing PDU session context differs from the vsmfPduSessionUri or ismfPduSessionUri received in the POST request, the SMF shall also send a status notification (see clause 5.2.2.10) targeting the vsmfPduSessionUri or ismfPduSessionUri of the existing PDU session context to notify the release of the existing PDU session context. The SMF should include a cause IE with value \"REL_DUE_TO_DUPLICATE_SESSION_ID\" in such a status notification. Upon receipt of such a status notification, the V-SMF or I-SMF shall not send SM context status notification to the AMF.\nIf the requestType IE was received in the request and indicates this is a request for a new PDU session (i.e. INITIAL_REQUEST) and if the Old PDU Session ID was also included in the request, the SMF shall identify the existing PDU session to be released and to which the new PDU session establishment relates, based on the Old PDU Session ID.\nThe NF Service Consumer shall store any epsPdnCnxInfo and EPS bearer information received from the SMF.\nIf the response received from the SMF contains the alwaysOnGranted attribute set to true, the NF Service Consumer shall check and determine whether the PDU session can be established as an always-on PDU session based on local policy.\nIf no GPSI IE is provided in the request, e.g. for a PDU session moved from another access or another system, and the SMF knows that a GPSI is already associated with the PDU session, the SMF shall include the GPSI in the response.\nIf one or more requested QoS flow(s) fail to be established, the V-SMF or I-SMF shall send an Update Request including the qosFlowsRelNotifyList attribute to report the failure to the H-SMF or SMF (see clause 5.2.2.8.2.2), or a Release Request to release the PDU session if no QoS flow can be established (see clause 5.2.2.9).\nFor UE mobility with I-SMF/V-SMF insertion procedure, if a requested functionality is not supported for a PDU session with an I-SMF/V-SMF, the SMF shall accept the POST request and release the PDU Session after the mobility procedure, as specified in clause 4.23.1 of 3GPP TS 23.502 [3].\nFor a HR-SBO session, the content of the POST response may also contain the hrsboInfo IE including the HR-SBO information sent from the HPLMN, e.g., hrsboAuthResult.\n2b.\tOn failure, or redirection during a UE requested PDU Session Establishment, one of the HTTP status code listed in Table 6.1.3.5.3.1-3 shall be returned. For a 4xx/5xx response, the message body shall contain a PduSessionCreateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.5.3.1-3. The application error shall be set to \"NOT_SUPPORTED_WITH_ISMF\" during a UE requested PDU Session Establishment, if a requested functionality is not supported for a PDU session with an I-SMF/V-SMF.\n-\tthe n1SmCause IE with the 5GSM cause that the SMF proposes the NF Service Consumer to return to the UE, if the request included n1SmInfoFromUe;\n-\tn1SmInfoToUe with any information to be sent to the UE (in the PDU Session Establishment Reject).\nThe requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following additions.\nThe POST request shall contain:\n-\tthe list of EPS Bearer Ids received from the MME;\n-\tthe PGW S8-C F-TEID received from the MME;\n-\tthe epsBearerCtxStatus attribute, indicating the status of all the EPS bearer contexts in the UE, if corresponding information has been received in the Create SM Context request (see clause 5.2.2.2.2).\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications.\n\nIf:\n-\tthe SMF finds a corresponding PDU session based on the EPS Bearer Ids and PGW S8-C F-TEID received in the request;\n-\tthe default EPS bearer context of the corresponding PDU session is not reported as inactive by the UE in the epsBearerCtxStatus attribute, if received; and\n-\tthe SMF can proceed with moving the PDN connection to 5GS,\nthen the SMF shall return a 201 Created response including the following additional information:\n-\tPDU Session ID corresponding to the EPS PDN connection;\n-\tother PDU session parameters, such as PDU Session Type, Session AMBR, QoS flows information.\nIf the epsBearerCtxStatus attribute is received in the request, the SMF shall check whether some EPS bearer(s) of the corresponding PDU session have been deleted by the UE but not notified to the EPS, and if so, the SMF shall release these EPS bearers, corresponding QoS rules and QoS flow level parameters locally, as specified in clause 4.11.1.3.3 of 3GPP TS 23.502 [3].\nNOTE:\tThe behaviour specified in this step also applies if the POST request collides with an existing PDU session context, i.e. if the POST request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, and the received EPS bearer ID is the same as in the existing PDU session context.\n2b.\tSame as step 2b of Figure 5.2.2.7.1-1, with the following additions.\nIf the SMF determines that seamless session continuity from EPS to 5GS is not supported for the PDU session, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".\nIf the default EPS bearer context of the PDU session is reported as inactive by the UE in the epsBearerCtxStatus attribute, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"DEFAULT_EPS_BEARER_INACTIVE\".\nThe requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe list of EPS Bearer Ids received from the MME;\n-\tthe PGW S8-C F-TEID received from the MME;\n-\tthe hoPreparationIndication IE set to \"true\", to indicate that a handover preparation is in progress and the PGW-C/SMF shall not switch the DL user plane of the PDU session yet.\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications.\nIf the SMF finds a corresponding PDU session based on the EPS Bearer Ids and PGW S8-C F-TEID received in the request, and if it can proceed with the procedure, the SMF shall return a 201 Created response including the following information:\n-\tPDU Session ID corresponding to the EPS PDN connection;\n-\tother PDU session parameters, such as PDU Session Type, Session AMBR, QoS flows information;\n-\toptional udmGroupId, containing the identity of the UDM group serving the UE, to facilitate the UDM selection at the target AMF. The V/I-SMF shall forward this IE in the SmContextCreatedData to the target AMF.\n-\toptional pcfGroupId, containing the identity of the PCF group for Session Management Policy for the PDU session, to facilitate the PCF selection at the target AMF. The V/I-SMF shall forward this IE in the SmContextCreatedData to the target AMF.\nThe SMF shall not switch the DL user plane of the PDU session, if the hoPreparationIndication IE was set to \"true\" in the request.\nNOTE:\tThe behaviour specified in this step also applies if the POST request collides with an existing PDU session context, i.e. if the POST request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, and the received EPS bearer ID is the same as in the existing PDU session context.\n2b.\tSame as step 2b of Figure 5.2.2.7.1-1, with the following additions.\nIf the H-SMF determines that seamless session continuity from EPS to 5GS is not supported for the PDU session, the H-SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".\nThe requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe hoPreparationIndication IE set to \"true\", to indicate that a handover preparation is in progress and the SMF shall not switch the DL user plane of the PDU session yet.\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications:\nThe SMF shall not switch the DL user plane of the PDU session, if the hoPreparationIndication IE was set to \"true\" in the request.\nThe requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe upSecurityInfo IE, if received from the AMF.\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications:\nThe SMF shall verify that the upSecurity IE included in the received upSecurityInfo IE is same as the security policy for integrity protection and encryption that the SMF has locally stored. If there is a mismatch, the SMF shall send its locally stored security policy for integrity protection and encryption in upSecurity IE to NG-RAN as specified in clause 6.6.1 of 3GPP TS 33.501 [17].\nThe requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following modifications.\nThe POST request shall additionally contain:\n-\tthe upCnxState IE set to ACTIVATING to indicate that User Plane resource for the PDU Session is going to be established by the I-SMF.\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications:\nThe SMF shall behave as specified in clause 4.23.4.3 (step 8a) of 3GPP TS 23.502 [3].\nThe SMF handling of a subsequent Update request with the upCnxState IE set to ACTIVATED is specified in step 3 of clause 5.2.2.8.2.23.\nNOTE:\tThe upCnxState IE set to ACTIVATING implements the \"Operation Type\" parameter set to \"UP Activate\" specified in clause 4.23.4.3 (step 8a) in 3GPP TS 23.502 [3].\nThe Update service operation shall be used for HR PDU sessions or for PDU sessions involving an I-SMF to:\n-\tupdate an individual PDU session in the H-SMF or SMF and/or provide the H-SMF or SMF with information received by the V-SMF or I-SMF in N1 SM signalling from the UE;\n-\tupdate a MA PDU session to indicate an additional access type, if the UE requests establishment of MA PDU session via the other access after the UE is registered to both 3GPPP access and non-3GPP access and the MA PDU session was successfully established on the first access (see clause 4.22.2.2 of 3GPP TS 23.502 [3]);\n-\trelease a MA PDU session over a single access in the H-SMF or SMF;\n-\tupdate an individual PDU session in the V-SMF or I-SMF and/or provide information necessary for the V-SMF or I-SMF to send N1 SM signalling to the UE.\nIt is invoked by the V-SMF or I-SMF in the following procedures:\n-\tUE or network (e.g. V-SMF, I-SMF) requested PDU session modification (see clauses 4.3.3.3 and 4.23.5.3 of 3GPP TS 23.502 [3]);\n-\tUE or network (e.g. AMF, V-SMF, I-SMF) requested PDU session release (see clause 4.3.4.3 of 3GPP TS 23.502 [3]);\n-\tUE or network (e.g. AMF, V-SMF, I-SMF) initiated MA PDU session release over a single access (see clause 4.22 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS handover execution using N26 interface (see clause 4.11 of 3GPP TS 23.502 [3]);\n-\tHandover between 3GPP and untrusted or trusted non-3GPP access procedures (see clauses 4.9.2 and 4.9.3 of 3GPP TS 23.502 [3]), without AMF change or with target AMF in same PLMN;\n-\tAll procedures requiring to provide the H-SMF or SMF with information received by the V-SMF or I-SMF in N1 SM signalling from the UE to the H-SMF or SMF;\n-\tSecondary RAT Usage Data Reporting (see clause 4.21 of 3GPP TS 23.502 [3]);\n-\tUPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS Optimisation (see clause 4.24.1 of 3GPP TS 23.502 [3]);\n-\tConnection Resume in CM-IDLE with Suspend procedure (see clause 4.8.2.3 of 3GPP TS 23.502 [3]);\n-\tReporting of satellite backhaul change to SMF (see clause 5.43.4 of 3GPP TS 23.501 [2]);\n-\tUE Triggered Service Request without I-SMF/V-SMF change/removal (see clause 4.23.4.2 of 3GPP TS 23.502 [2]) or UE Triggered Service Request with I-SMF/V-SMF change or with I-SMF insertion (see clause 4.23.4.3 of 3GPP TS 23.502 [2]);\n-\tRemote UE Report during 5G ProSe Communication via 5G ProSe Layer-3 UE-to-Network Relay without N3IWF (see clause 6.5.1.1 of 3GPP TS 23.304 [43];\n-\tSupport of Network Slice Replacement (see clause 5.15.19 of 3GPP TS 23.501 [2]).\nIt is invoked by the I-SMF in the following procedures:\n-\tAddition of PDU Session Anchor and Branching Point or UL CL controlled by I-SMF (see clause 4.23.9.1 of 3GPP TS 23.502 [3]);\n-\tRemoval of PDU Session Anchor and Branching Point or UL CL controlled by I-SMF (see clause 4.23.9.2 of 3GPP TS 23.502 [3]);\n-\tChange of PDU Session Anchor for IPv6 multi-homing or UL CL controlled by I-SMF (see clause 4.23.9.3 of 3GPP TS 23.502 [3]);\n-\tSending by I-SMF of N4 notifications related with traffic usage reporting (see clause 5.34.6 of 3GPP TS 23.501 [2]);\n-\tSimultaneous change of Branching Point or UL CL and additional PSA controlled by I-SMF (see clause 4.23.9.4 of 3GPP TS 23.502 [3]);\n-\tSimultaneous change of Branching Points or UL CLs controlled by different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]).\nIt is invoked by the H-SMF or SMF in the following procedures:\n-\tNetwork (e.g. H-SMF, SMF) requested PDU session modification (see clauses 4.3.3.3 and 4.23.5.3 of 3GPP TS 23.502 [3]);\n-\tNetwork (e.g. H-SMF, SMF) requested PDU session release (see clause 4.3.4.3 of 3GPP TS 23.502 [3]);\n-\tNetwork (e.g. H-SMF, SMF) initiated MA PDU session release over a single access (see clause 4.22 of 3GPP TS 23.502 [3]);\n-\tAll procedures requiring to provide information necessary for the V-SMF or I-SMF to send N1 SM signalling to the UE;\n-\tEPS Bearer ID allocation or revocation (see clauses 4.11.1.4.1 and 4.11.1.4.3 of 3GPP TS 23.502 [3]);\n-\tSecondary authorization/authentication by an DN-AAA server (see clause 4.3.2.3 of of 3GPP TS 23.502 [3]).\nIt is invoked by the SMF in the following procedures:\n-\tAddition of PDU Session Anchor and Branching Point or UL CL controlled by I-SMF (see clause 4.23.9.1 of 3GPP TS 23.502 [3]);\n-\tRemoval of PDU Session Anchor and Branching Point or UL CL controlled by I-SMF (see clause 4.23.9.2 of 3GPP TS 23.502 [3]);\n-\tChange of PDU Session Anchor for IPv6 multi-homing or UL CL controlled by I-SMF (see clause 4.23.9.3 of 3GPP TS 23.502 [3]);\n-\tPolicy update procedures with an I-SMF (see clause 4.23.6.2 of 3GPP TS 23.502 [3]);\n-\tSimultaneous change of Branching Point or UL CL and additional PSA controlled by I-SMF (see clause 4.23.9.4 of 3GPP TS 23.502 [3]);\n-\tSimultaneous change of Branching Points or UL CLs controlled by different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (i.e. the V-SMF for a HR PDU session, or the I-SMF for a PDU session with an I-SMF) shall update a PDU session in the H-SMF or SMF and/or provide the H-SMF or SMF with information received by the  NF Service Consumer in N1 SM signalling from the UE, by using the HTTP POST method (modify custom operation) as shown in Figure 5.2.2.8.2-1.\nThe figure depicts a session update towards H-SMF or SMF, with a focus on the PDU (Physical Data Unit) and the session ID. The update is being sent towards the H-SMF or SMF, indicating a communication between two devices or systems. The figure provides a visual representation of the session update process, highlighting the PDU and session ID, and the direction of the update.\nFigure 5.2.2.8.2-1: PDU session update towards H-SMF or SMF\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual PDU session resource in the H-SMF or SMF. The content of the POST request shall contain:\n-\tthe requestIndication IE indicating the request type. Unless specified otherwise in clause 5.2.2.8.2, the value of the requestIndication IE shall be set to NW_REQ_PDU_SES_MOD;\n-\tthe modification instructions and/or the information received by the NF Service Consumer in N1 signalling from the UE.\nThe NF service consumer shall not include the hoPreparationIndication IE with the value \"false\" in procedures other than handover execution, cancel and failure procedures.\nIf the pending update information list was previously received from the (H-)SMF, the NF service consumer should not send a request to the (H-)SMF including only the information elements indicated by the pending update information list. The change(s) of the indicated information elements may be piggybacked in a subsequent update to the (H-)SMF together with other information elements.\nFor a HR-SBO session, the content of the POST request may further contain:\n-\tthe hrsboInfo IE including the HR-SRO information sent from the VPLMN when the V-SMF requests HR SBO authorization.\n-\tthe ecsAddrConfigInfos IE including the ECS Address Configuration information if the information is modified by the NEF.\n2a.\tOn success, \"204 No Content\" or \"200 OK\" shall be returned; in the latter case, the content of the POST response shall contain the representation describing the status of the request and/or information necessary for the NF Service Consumer to send N1 SM signalling to the UE. If the PDU session may be moved to EPS with N26 and the EPS PDN Connection Context information of the PDU session is changed, e.g. due to a new anchor SMF is reselected, the content shall include the \"epsPdnCnxInfo\" IE including the updated EPS PDN Connection Context information. The NF Service consumer shall overwrite the locally stored EPS PDN Connection Context information with the new one if received.\nFor a HR-SBO session, the content of the POST response may also contain the hrsboInfo IE including the HR-SBO information sent from the HPLMN, e.g., hrsboAuthResult.\n2b.\tOn failure or redirection, one of the HTTP status codes listed in Table 6.1.3.6.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body shall contain an HsmfUpdateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.6.4.2.2-2;\n-\tthe n1SmCause IE with the 5GSM cause the H-SMF or SMF proposes the NF Service Consumer to return to the UE, if the request included n1SmInfoFromUe;\n-\tn1SmInfoToUe binary data, if the H-SMF or SMF needs to return NAS SM information which the NF Service Consumer does not need to interpret;\n-\tthe procedure transaction id that was received in the request, if this is a response sent to a UE requested PDU session modification.\nIf the H-SMF or SMF receives the hoPreparationIndciation IE set to \"false\" value in step 1, while it did not receive the hoPreparationIndication IE set to \"true\" value in previous steps (see clauses 5.2.2.7.3 and 5.2.2.7.4), the H-SMF or SMF shall ignore the hoPreparationIndication IE with \"false\" value and proceed with the processing of the request.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to UE_REQ_PDU_SES_MOD, and the modifications requested by the UE, e.g. UE requested QoS rules or UE requested Qos flow descriptions, in an N1 SM container IE as specified in clause 5.2.3.1, or indication that the PDU session is allowed to be upgraded to a MA PDU session as specified in clause 6.4.2.2 of 3GPP TS 24.501 [7], for a UE requested PDU session modification; or\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD, and the modifications requested by the visited network or the notifications initiated by the visited network, for a visited network requested PDU session modification, e.g. to:\n-\treport the release of QoS flow(s) or notify QoS flow(s) whose targets QoS are no longer fulfilled; in the latter case, the V-SMF/I-SMF may also report an alternative QoS profile which the NG-RAN can currently fulfil in the currentQosProfileIndex IE or report that the NG-RAN cannot even fulfil the lowest alternative QoS profile by setting the nullQoSProfileIndex IE to \"true\" for the corresponding Qos flow(s);\n-\treport that the user plane security enforcement with a value Preferred is not fulfilled or is fulfilled again, in the NotifyList IE and the securityResult IE, if the new security status is received from NG-RAN;\n-\treport that access type of the PDU session can be changed; in this case, the anTypeCanBeChanged attribute shall be set to \"true\";\n-\treport the \"MO Exception Data Counter\";\n-\trequest for QoS modification initiated by VPLMN, if the H-SMF supports the VPLMN QoS (VQOS) feature;\n-\treport the QoS flow(s) that are rejected by the RAN or rejected by the V-SMF, during PDU session establishment procedure; in the latter case, the V-SMF may also include the qosFlowsVsmfRejectedAddModList IE with the QoS flow(s) that are rejected by the V-SMF.\nIf the update is performed to transfer the PDU Session from non-3gpp access to 3gpp access by setting the attribute anTypeCanBeChanged to \"true\", the SMF may perform Network Slice Admission Control before the PDU Session is moved to 3GPP access (i,e, before N3/N9 tunnel for the PDU Session is established).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to UE_REQ_PDU_SES_REL.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to PDU_SES_MOB;\n-\tthe list of EPS Bearer Ids successfully handed over to 5GS;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore and that the PGW-C/SMF shall switch the DL user plane of the PDU session;\n-\tone or more SecondaryRatUsageDataReportContainer(s) if it received the same in the SmContextUpdateData from the AMF.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall switch the DL user plane of the PDU session using the N9 tunnel information that has been received in the vcnTunnelInfo or icnTunnelInfo, if the hoPreparationIndication IE was set to \"false\" in the request.\nIf the handover preparation failed (e.g. the target 5G-AN failed to establish resources for the PDU session), the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to PDU_SES_MOB;-\tthe cause attribute set to \"HO_FAILURE\";\n-\tan empty list of EPS Bearer Ids;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall release the resources prepared for the handover.\nFor Handover between 3GPP access and untrusted or trusted non-3GPP access procedures, without AMF change or with the target AMF in the same PLMN, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain the anType set to the target access type, i.e. to 3GPP_ACCESS or NON_3GPP_ACCESS.\nThe requestIndication IE shall be set to PDU_SES_MOB.\nFor a handover from non-3GPP access to 3GPP access with a V-SMF change, the requirements specified in step 1 of clause 5.2.2.8.2.10, other than how to set the requestIndication, shall also apply.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1, with the following modifications.\nThe content of the POST response shall include:\n-\tall QoS information for the QoS Flow(s) applicable to the PDU Session for the target access type, so that when sending the PDU Session Establishment Accept, the V-SMF or I-SMF can include all QoS information (e.g. QoS Rule(s) in N1 SM container, QFI(s) and QoS Profile(s) in N2 SM information) for the QoS Flow(s) (acceptable according to VPLMN policies for a HR PDU session); and\n-\tthe epsPdnCnxInfo IE and, for each EPS bearer, an epsBearerInfo IE, if the PDU session may be moved to EPS during its lifetime, for a handover from non-3GPP access to 3GPP access.\nThe content of the POST response may also contain the upSecurity, maxIntegrityProtectedDataRateUl and maxIntegrityProtectedDataRateDl IEs during a handover from non-3GPP access to 3GPP access.\nFor a handover from non-3GPP access to 3GPP access with a V-SMF change, the requirements specified in step 2 of clause 5.2.2.8.2.10 shall also apply.\nUpon receipt of the 200 OK response, the V-SMF or I-SMF shall delete any above information received earlier for the source access type and use the new information received for the target access type (see clause 6.1.6.2.12).\nNOTE:\tAs specified in clause 4.11.1.4.3 of 3GPP TS 23.502 [3], the AMF, the SMF and the UE release locally the EBI(s) allocated to a PDU Session handed over from 3GPP access to non-3GPP access.\nFor a handover from non-3GPP access to 3GPP access, if the PDU session may be moved to EPS during its lifetime, the H-SMF or SMF may send an Update Request towards the V-SMF or I-SMF to request the allocation of EBIs prior to step 2a.\nIf one or more requested QoS flow(s) fail to be established in the target access type, the V-SMF or I-SMF shall send an Update Request including the qosFlowsRelNotifyList attribute to report the failure to the H-SMF or SMF (see clause 5.2.2.8.2.2), or a Release Request to release the PDU session if no QoS flow can be established (see clause 5.2.2.9).\nThe SMF may perform Network Slice Admission Control for the target access and reject the request when the NSAC has failed for the target access.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_REL;\n-\tthe cause IE set to REL_DUE_TO_REACTIVATION.\nThis clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nAn I-SMF and I-UPF have already been inserted for the PDU session.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\tthe indication that an UL CL or BP has been inserted into the data path of the PDU session;\n-\tthe list of DNAIs supported by the inserted PSA;\n-\tthe new UE IPv6 prefix at the PSA, assigned by the I-SMF or by the UPF supporting the PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe icnTunnelInfo with the N9 tunnel information of the UL CL or BP for the downlink traffic, if a UPF different from the earlier I-UPF is selected for the UL CL or BP.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1.\nThis clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\tthe indication that an UL CL or BP has been removed from the data path of the PDU session;\n-\tthe removed UE IPv6 prefix at the PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe list of DNAIs supported by the removed PSA;\n-\tthe icnTunnelInfo with the N9 tunnel information of the I-UPF for the downlink traffic.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1.\nThis clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\tthe indication that a PSA is removed and another PSA is inserted;\n-\tthe list of DNAIs supported by the inserted PSA;\n-\tthe new UE IPv6 prefix at the inserted PSA, assigned by the I-SMF or by the UPF supporting the PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe removed UE IPv6 prefix at the removed PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe list of DNAIs supported by the removed PSA.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1.\nDuring PDU Session modification with I-SMF or V-SMF change, the NF Service Consumer (i.e. the new V-SMF for a HR PDU session, or the new I-SMF for a PDU session with an I-SMF) shall update the PDU session in the H-SMF or SMF and provide the information of the new I-SMF or V-SMF.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following additions:\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD or UE_REQ_PDU_SES_MOD for network requested or UE requested PDU session modification respectively;\n-\tthe ismfPduSessionUri or vsmfPduSessionUri IE containing the callback URI ({vsmfPduSessionUri} or {ismfPduSessionUri}) representing the PDU session in the new I-SMF or new V-SMF. The H-SMF or SMF shall construct the callback URIs based on the received {vsmfPduSessionUri} or {ismfPduSessionUri} as defined in clause 6.1, e.g. the callback URI \"{vsmfPduSessionUri}/modify\" to modify a PDU session in the V-SMF;\n-\tthe ismfId or vsmfId IE containing the identifier of the new I-SMF or new V-SMF;\n-\toptionally the iSmfServiceInstanceId or vSmfServiceInstanceId IE containing the serviceInstanceId of the new I-SMF or new V-SMF service instance serving the PDU session;\n-\tthe disasterRoamingInd IE set to true if the V-SMF is indicated by the AMF that the UE is registered for Disaster Roaming service;\n-\tthe supportedFeatures IE indicating the optional features the NF Service Consumer supports, if at least one optional feature defined in clause 6.1.8 is supported.\n2.\tSame as step 1 of Figure 5.2.2.8.2-1, the SMF shall replace the corresponding information for the old I-SMF or old V-SMF stored locally with the received information. In addition, the SMF shall include the supportedFeatures IE in the response, if the supportedFeatures IE was received in the request and at least one optional feature defined in clause 6.1.8 is supported by the updated PDU session resource.\nThis clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\tN4 information related with traffic usage reporting (i.e. PFCP Session Report Request, see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA;\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1, with the following modifications:\nThe content of the POST response shall contain:\n-\tN4 response information (i.e. PFCP Session Report Response);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore and that the SMF shall switch the DL user plane of the PDU session;\n-\tthe qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or more QoS flow(s) cannot be established at the target RAN.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall return a 200 OK response. The SMF shall switch the DL user plane of the PDU session using the N9 tunnel information that has been received in the icnTunnelInfo, if the hoPreparationIndication IE was set to \"false\" in the request.\nIf the handover preparation failed (e.g. the target 5G-AN failed to establish resources for the PDU session), the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD;-\tthe cause attribute set to \"HO_FAILURE\";\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall return a 200 OK response. The SMF shall release the resources prepared for the handover.\nFor handover cancellation, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD;\n-\tthe cause attribute set to \"HO_CANCEL\";\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall return a 200 OK response. The SMF shall release the resources prepared for the handover.\nIf the handover cancellation, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to PDU_SES_MOB;\n-\tthe cause attribute set to \"HO_CANCEL\";\n-\tan empty list of EPS Bearer Ids;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall release the resources prepared for the handover. The combined PGW-C+SMF shall not release the PDN connection that was attempted to be handed over.\nThis clause applies only in case of 5G-AN requested PDU session resource release by sending the NGAP PDU SESSION RESOURCE NOTIFY to the AMF case (see step 1d in clause 4.3.4.3 of 3GPP TS 23.502 [3]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to REL_DUE_TO_5G_AN_REQUEST to indicate that the PDU session resource has been released by the 5G-AN.\nAfter receving the request, the SMF may decide to keep the PDU Session (with user plane connection deactivated) or release the PDU Session. If the SMF decides to keep the PDU Session, it shall return \"200 OK\" not including n1SmInfoToUe. If the SMF decides to release the PDU Session, it shall return \"200 OK\" including n1SmInfoToUe binary data containing the Message Type \"PDU Session Release Command\" and possibly PCO and cause information.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe upSecurityInfo IE, if received from the NG-RAN;\n-\tthe qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or more QoS flow(s) cannot be established at the target RAN.\nFor an Xn handover with an I-SMF or V-SMF change, the requirements specified in step 1 of clause 5.2.2.8.2.10, other than how to set the requestIndication, shall also apply.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\n\nThe SMF shall verify that the upSecurity IE included in the received upSecurityInfo IE is same as the security policy for integrity protection and encryption that the SMF has locally stored. If there is a mismatch, the SMF shall send its locally stored security policy for integrity protection and encryption in upSecurity IE to NG-RAN as specified in clause 6.6.1 of 3GPP TS 33.501 [17].\nFor an Xn handover with an I-SMF or V-SMF change, the requirements specified in step 2 of clause 5.2.2.8.2.10 shall also apply.\nIf the handover to 5GS failed, e.g. rejected by the target NG-RAN, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to PDU_SES_MOB;\n-\tthe cause attribute set to \"HO_FAILURE\";\n-\tan empty list of EPS Bearer Ids;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall release the resources prepared for the handover. The combined PGW-C+SMF shall not release the PDN connection that was attempted to be handed over.\nWhen the AMF decides to revoke some EBI(s) and the I-SMF or V-SMF receives the request from AMF, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\nThe requestIndication shall be set to EBI_ASSIGNMENT_REQ.\nThe NF Service Consumer shall include the revokeEbiList IE to request the SMF to release some EBI(s). The SMF shall disassociate the EBI(s) with the QFI(s) with which they are associated.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_REL.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or more QoS flow(s) cannot be established at the target RAN.\nFor an N2 handover with an I-SMF or V-SMF change, the requirements specified in step 1 of clause 5.2.2.8.2.10, other than how to set the requestIndication, shall also apply.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\n\nFor an N2 handover with an I-SMF or V-SMF change, the requirements specified in step 2 of clause 5.2.2.8.2.10 shall also apply.\nIf the V-SMF/I-SMF and the anchor SMF support the 5GSAT feature (see clause 6.1.8), the V-SMF/I-SMF shall report a change of the satellite backhaul category used towards the 5G AN currently serving the UE if:\n-\tthe satelliteBackhaulCat IE has been received from the AMF and there is a change of the satelliteBackhaulCat IE compared to what has been signalled earlier to the (H-)SMF (as determined from the SmContext); or\n-\tupon inter-AMF mobility (when a target AMF is taking over the control of the PDU session), the new AMF does not include the satelliteBackhaulCat IE and a satellite backhaul category had been signalled to the SMF (as determined from the SmContext).\nTo report a change of the satellite backhaul category, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD, unless specified otherwise in clause 5.2.2.8. if the change of the satelliteBackhaulCat IE is detected during a procedure for which it is requested to report a different requestIndication value; and\n-\tthe satelliteBackhaulCat IE set to the value received from the AMF or, in the latter case, set to the value \"NON_SATELLITE\" to indicate that there is no longer any satellite backhaul towards the new 5G AN serving the UE.\nThis clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\ta PsaInformation corresponding to the new PSA:\n-\ta PsaIndication set to \"PSA_INSERTED\";\n-\tthe list of DNAIs supported by the inserted PSA;\n-\tthe new UE IPv6 prefix at the inserted PSA, assigned by the I-SMF or by the UPF supporting the PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe NF Instance Id of the inserted PSA;\n-\ta UlclBpInformation corresponding to the new UL CL or BP if it separate from the new PSA:\n-\tthe NF Instance Id of the inserted UL CL or BP;\n-\ta PsaInformation corresponding to the removed PSA, if either the I-SMF or the SMF does not support the \"N9FSC\" feature:\n-\ta PsaIndication set to \"PSA_REMOVED\";\n-\tthe removed UE IPv6 prefix at the removed PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe list of DNAIs supported by the removed PSA.\nNOTE:\tThe I-SMF only includes the PsaInformation corresponding to the new PSA and the UlclBpInformation corresponding to the new UL CL or BP during simultaneous change of PSA and BP or UL CL as specified in clause D.2.7 of 3GPP TS 29.244 [29], if both the I-SMF and SMF support the \"N9FSC\" feature. This enables the SMF to possibly request the I-SMF to apply data forwarding between the old and the new UL CL/BP, in which case the I-SMF later informs the SMF that it has removed the old UL CL/BP and local PSA upon user plane inactivity of the N9 data forwarding tunnel.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1.\nDuring a Service Request without I-SMF/V-SMF Change or with I-SMF/V-SMF Change or with I-SMF Insertion, the NF Service Consumer (i.e. the V-SMF for a HR PDU session, or the I-SMF for a PDU session with an I-SMF) shall update the PDU session in the H-SMF or SMF as follows:\nThe figure depicts a session update towards H-SMF or SMF during a Service Request, with a focus on the PDU (Physical Data Unit) and the session ID. The update is being sent towards the H-SMF or SMF, indicating a request for a service update. The figure provides a visual representation of the session update process, highlighting the PDU and session ID, and the direction of the update.\nFigure 5.2.2.8.2.23-1: PDU session update towards H-SMF or SMF during Service Request\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall additionally contain:\n-\tthe upCnxState IE set to ACTIVATING if the User Plane resource for the PDU Session is going to be established by the I-SMF/V-SMF.\n2a. Same as step 2a of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall behave as specified in clause as specified in clause 4.23.4.2 (step 7a) and clause 4.23.4.3 (step 8a) of 3GPP TS 23.502 [3].\n2b.\tSame as step 2b of Figure 5.2.2.8.2-1.\n3.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall additionally contain:\n-\tthe upCnxState IE set to ACTIVATED when User Plane resource has been established, if the upCnxState IE with the value ACTIVATING was previously provided to the SMF in the procedure, via a previous Update operation (step 1) or via Create operation for I-SMF/V-SMF insertion (see clause 5.2.2.7.6).\n4a.\tSame as step 2a of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall behave as specified in clause as specified in clause 4.23.4.2 (step 16) and clause 4.23.4.3 (step 20a) of 3GPP TS 23.502 [3].\n4b.\tSame as step 2b of Figure 5.2.2.8.2-1.\nNOTE:\tThe upCnxState IE set to ACTIVATING or ACTIVATED implements the \"Operation Type\" parameter set to \"UP Activate\" or \"UP Activated\" (respectively) specified in clause 4.23.4.2 (step 7a, 16) and clause 4.23.4.3 (step 8a, 20a) in 3GPP TS 23.502 [3].\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe n1SmInfoFromUe IE containing \"Remote UE context connected\" and/or \"Remote UE context disconnected\" NAS IE.\nThe NF Service Consumer (i.e. the H-SMF for a HR PDU session, or the SMF for a PDU session with an I-SMF) shall update a PDU session in the V-SMF or I-SMF and/or provide information necessary for the V-SMF or I-SMF to send N1 SM signalling to the UE, or request to allocate or revoke EPS Bearer ID(s) for the PDU session, by using the HTTP \"modify\" custom operation as shown in Figure 5.2.2.8.3.1-1.\nThe figure depicts a session update towards V-SMF or I-SMF, with a focus on the PDU (Physical Data Unit) and the session ID. The update is being sent towards the V-SMF or I-SMF, indicating a change in the session state. The figure provides a visual representation of the session update process, highlighting the PDU and session ID, and the direction of the update.\nFigure 5.2.2.8.3.1-1: PDU session update towards V-SMF or I-SMF\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual PDU session resource in the V-SMF or I-SMF. The content of the POST request shall contain:\n-\tthe requestIndication IE indicating the request type, which is set to NW_REQ_PDU_SES_MOD;\n-\tthe modification instructions and/or the information necessary for the V-SMF or I-SMF to send N1 SM signalling to the UE;\n-\tthe hsmfPduSessionUri IE if the Update Request is sent to the V-SMF or I-SMF before the Create Response, and the H-SMF or SMF PDU session resource URI has not been previously provided to the V-SMF or I-SMF; in this case, the supportedFeatures IE shall also be included if at least one optional feature defined in clause 6.1.8 is supported.\nThe content of the POST request may further contain:\n-\tthe (updated) pending update information list.\nIf the PDU session may be moved to EPS with N26 and the EPS PDN Connection Context information of the PDU session is changed, e.g. due to a new anchor SMF is reselected, the content shall include the \"epsPdnCnxInfo\" IE including the updated EPS PDN Connection Context information. The NF Service consumer shall overwrite the locally stored EPS PDN Connection Context information with the new one if received.\nIf the service operation is invoked after the reselection of the anchor SMF and the change of anchor SMF has not been signalled to the V-SMF or I-SMF previously, the request may carry the SMF Instance ID of the new anchor SMF and the updated PDU session resource URI in the HTTP content, and/or carry an updated binding indication in the HTTP headers to indicate the change of anchor SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]).\nFor a HR-SBO session, the content of the POST request may also contain the hrsboInfo IE including the HR-SBO information sent from the HPLMN, e.g., due to a change of the user subscription data or policy information. If the VPLMN Specific Offloading Information for a given Offload Identifier is changed, for each V-SMF service instance using the Offload Identifier, the H-SMF shall choose one existing HR-SBO PDU Session served by the V-SMF service instance and using the Offload Identifier to update VPLMN Specific Offloading Information and corresponding Offload Identifier to the V-SMF service instance.\n2a.\tOn success, \"204 No Content\" or \"200 OK\" shall be returned; in the latter case, the content of the POST response shall contain the representation describing the status of the request and/or information received by the V-SMF or I-SMF in N1 signalling from the UE.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.7.4.2.2-1 shall be returned. For a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.7.4.2.2-1;\n-\tthe n1SmCause IE with the 5GSM cause returned by the UE, if available;\n-\tn1SmInfoFromUe and/or unknownN1SmInfo binary data, if NAS SM information has been received from the UE that needs to be transferred to the H-SMF or SMF, or that the V-SMF or I-SMF does not comprehend;\n-\tthe procedure transaction id received from the UE, if available.\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nAs part of the modification instructions, the NF Service Consumer may request to modify QoS parameters applicable at the PDU session level (e.g. modify the authorized Session AMBR values) or at the QoS flow level (e.g. modify the MFBR of a particular QoS flow).\n\nThe NF Service Consumer may request to establish, modify and/or release QoS flows by including the qosFlowsAddModRequestList IE and/or the qosFlowsRelRequestList IE in the content.\nThe H-SMF or SMF may provide alternative QoS profiles for each GBR QoS flow with Notification control enabled, to allow the NG-RAN to accept the setup of the QoS flow if the requested QoS parameters or at least one of the alternative QoS parameters sets can be fulfilled at the time of setup. If the H-SMF or SMF provides a new list of alternative QoS profile(s) for a given GBR Qos flow, the V-SMF or I-SMF shall replace any previously stored list for this Qos flow with it.\nThe NF Service Consumer may include epsBearerInfo IE(s), if the PDU session may be moved to EPS during its lifetime and the EPS Bearer(s) information has changed (e.g. a new EBI has been assigned or the mapped EPS bearer QoS for an existing EBI has changed).\nThe NF Service Consumer may include the modifiedEbiList IE if the PDU session modification procedure resulted in the change of ARP for a QoS flow that has already been allocated an EBI.\nThe NF Service Consumer may include the revokeEbiList IE to request the V-SMF or I-SMF to release some EBI(s) and delete any corresponding EPS bearer context stored in the V-SMF or I-SMF. The V-SMF or I-SMF shall disassociate the EBI(s) with the QFI(s) with which they are associated.\nThe H-SMF may include the hrsboInfo IE if the V-SMF supports the HR-SBO feature and if the H-SMF needs to update the HR-SBO information towards the V-SMF, e.g. due to a change of the user subscription data or policy information. When doing so, H-SMF shall include the complete information for HR-SBO and the V-SMF shall replace any earlier received HR-SBO information by the new HR-SBO information.\n2.\tSame as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe V-SMF or I-SMF may accept all or only a subset of the QoS flows requested to be created or modified within the request.\n\nThe list of QoS flows which have been successfully setup or modified, and those which failed to be so, if any, shall be included in the qosFlowsAddModList IE and/or the qosFlowsFailedtoAddModList IE respectively. If any QoS flow(s) are failed to be setup or modified due to rejection by the V-SMF, the V-SMF may also include the qosFlowsVsmfRejectedAddModList IE with the QoS flow(s) that are rejected by the V-SMF.\nThe V-SMF or I-SMF may report an alternative QoS profile which the NG-RAN currently fulfils in the currentQosProfileIndex IE of the corresponding Qos flow in the qosFlowsAddModList IE, or report that the NG-RAN cannot even fulfil the lowest alternative QoS profile by setting the nullQoSProfileIndex IE to \"true\" for the corresponding Qos flow in the qosFlowsAddModList IE.\nIf the NG-RAN rejects the establishment of a voice QoS flow due to EPS Fallback for IMS voice (see clause 4.13 of 3GPP TS 23.502 [3]), the V-SMF or I-SMF shall return the cause indicating that \"mobility due to EPS fallback for IMS voice is on-going\" for the corresponding flow in the qosFlowsFailedtoAddModList IE.\nThe list of QoS flows which have been successfully released, and those which failed to be so, if any, shall be included in the qosFlowsRelList and/or qosFlowsFailedtoRelList IE respectively.\n\nFor a QoS flow which failed to be modified, the V-SMF or I-SMF shall fall back to the configuration of the QoS flow as it was configured prior to the reception of the PDU session update request from the NF Service Consumer.\nThe V-SMF or I-SMF shall store any EPS bearer information received from the H-SMF or SMF. If the revokeEbiList IE is present in the request, the V-SMF or I-SMF shall request delete the corresponding EPS bearer contexts and request the AMF to release the EBIs listed in this IE. If the modifiedEbiList IE is present in the request, the V-SMF or I-SMF shall request the AMF to update the mapping of EBI and ARP if the EAEA feature is supported by both the AMF and the V-SMF (or I-SMF), otherwise the V-SMF (or I-SMF) should indicate in the response that the modifiedEbiList was not delivered to the AMF.\nIf the request received from the H-SMF or SMF contains the alwaysOnGranted attribute set to true, the V-SMF or I-SMF shall check and determine whether the PDU session can be established as an always-on PDU session based on local policy.\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_REL or UE_REQ_PDU_SES_REL for a Network requested PDU session release or UE requested PDU session release respectively.\n2.\tSame as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.\nIf the requestIndication in the request is set to NW_REQ_PDU_SES_REL or UE_REQ_PDU_SES_REL, the V-SMF or I-SMF shall initiate the release of RAN resources allocated for the PDU session if any and shall send a PDU session release command to the UE.\nThe V-SMF or I-SMF shall not release the SM context for the PDU session.\nNOTE:\tThe SM context will be released when receiving Status notification from the H-SMF or SMF indicating the PDU session is released in the H-SMF or SMF.\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe NF Service Consumer shall request the source V-SMF or I-SMF to release the resources in the VPLMN without sending a PDU session release command to the UE, by setting the requestIndication IE to NW_REQ_PDU_SES_REL and the Cause IE indicating \"Release due to Handover\", in the following scenarios:\n-\tHandover of a PDU session between 3GPP and untrusted non-3GPP access, when the UE is roaming and the selected N3IWF is in the HPLMN (see clause 4.9.2.4.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]).\n2.\tSame as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.\nIf the requestIndication in the request is set to NW_REQ_PDU_SES_REL and if the Cause IE indicates \"Release due to Handover\", the V-SMF or I-SMF shall initiate the release of RAN resources reserved for the PDU session if any but shall not send a PDU session release command to the UE.\nThe V-SMF or I-SMF shall not release the SM context for the PDU session.\nNOTE:\tThe SM context will be released when receiving Status notification from the H-SMF or SMF indicating the PDU session is released in the H-SMF or SMF.\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to EBI_ASSIGNMENT_REQ.\nThe NF Service Consumer may include the assignEbiList IE to request the allocation of EBI(s). The NF Service Consumer may include the revokeEbiList IE to request the V-SMF or I-SMF to release some EBI(s) and delete any corresponding EPS bearer context stored in the V-SMF or I-SMF. The V-SMF or I-SMF shall disassociate the EBI(s) with the QFI(s) with which they are associated.\nNOTE:\tThe SMF does not request EBI allocation when MA PDU Session is established only over non-3GPP access. For MA PDU Session with both 3GPP and non-3GPP accesses, the SMF does not allocate EBI(s) for GBR QoS Flow(s) that are only allowed over non-3GPP access.\nUpon receipt of this request, the V-SMF or I-SMF shall request the AMF to assign (and release if required) EBIs (see clause 5.2.2.6 of 3GPP TS 29.518 [20].\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nIf the AMF has successfully assigned all or part of the requested EBIs, the V-SMF or I-SMF shall respond with the status code 200 OK, and include the list of EBIs successfully allocated, those which failed to be so if any, and the list of EBIs released for this PDU session at AMF if any, in the assignedEbiList IE, the failedtoAssignEbiList IE and/or the releasedEbiList IE respectively.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including the list of EBIs which failed to be allocated in the failedtoAssignEbiList IE.\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tN4 information for the handling of the local traffic that is offloaded at the PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the local offload rules at the UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to N4 information targeting the local PSA;\n-\tthe indication that the DNAI shall not change, if applicable;\n-\tthe indication that the local PSA shall not change, if applicable.\nFor the Simultaneous change of Branching Points or UL CLs controlled by different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]), the POST request may also contain:\n-\tn9DataForwardingInd set to true, if the N9 Forwarding Tunnel establishment between Branching Points or UL CLs to support the EAS session continuity is required;\n-\tn9UlPdrIdList pointing to the UL PDR(s) included in the N4 information for UL N9 forwarding in the target Branching Point or UL CL to support the EAS session continuity;\n-\tn9InactivityTimer to detect the end of activity on the N9 forwarding tunnel to support the EAS session continuity.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Establishment Response with a rejection cause).\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tN4 information for the removal of the local offload rules at the UL CL/BP and PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to N4 information targeting the local PSA.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Deletion Response with a rejection cause).\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tN4 information for the removal of the local offload rules at the removed PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the handling of the local traffic that is offloaded at the inserted PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the updating of the local offload rules at the UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAIs related to N4 information targeting the removed or inserted PSA.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Establishment Response with a rejection cause).\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request may contain:\n-\tN4 information updating local offload rules at the I-SMF (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA;\n-\tan updated list of DNAI(s) of interest for the PDU Session.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information, if N4 information was received in the request;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Modification Response with a rejection cause).\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tN4 information for the removal of the local offload rules at the removed PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the handling of the local traffic that is offloaded at the inserted PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the removal of the local offload rules at the removed UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the creation of the local offload rules at the inserted UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAIs related to N4 information targeting the removed or inserted PSA.\nThe content of the POST request may contain:\n-\tn9DataForwardingInd set to true, if the N9 Forwarding Tunnel establishment between Branching Points or UL CLs to support the EAS session continuity is required;\n-\tn9UlPdrIdList pointing to the UL PDR(s) included in the N4 information for UL N9 forwarding in the target Branching Point or UL CL to support the EAS session continuity;\n-\tn9InactivityTimer to detect the end of activity on the N9 forwarding tunnel to support the EAS session continuity.\nThe SMF may only include the N4 information for the inserted PSA and the inserted UL CL/BP as specified in clause D.2.7 of 3GPP TS 29.244 [29], if the I-SMF only includes the PsaInformation corresponding to the new PSA and the UlclBpInformation corresponding to the new UL CL or BP during simultaneous change of PSA and BP or UL CL and data forwarding between the new and old UL CL/BPs for EAS session continuity is required.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Establishment Response with a rejection cause).\nDuring network slice replacement procedure, for HR PDU session, if the H-SMF determines to retain the PDU session for the alternative HPLMN S-NSSAI, the H-SMF shall use this procedure to instruct the V-SMF that the PDU session is retained for the alternative HPLMN S-NSSAI (see clause 4.3.3.3 of 3GPP TS 23.502 [3]).\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tan altHplmnSnssai IE to indicate the alternative HPLMN S-NSSAI applied to the PDU session;\n-\ta pduSessionRetainInd IE to indicate the PDU session is retained;\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1.\nThe Release service operation shall be used to request an immediate and unconditional deletion of an invidual PDU session resource in the SMF (i.e. in the H-SMF for a HR PDU session, or in the SMF for a PDU session with an I-SMF).\nIt is invoked by the NF Service Consumer (i.e. V-SMF or I-SMF) in the following procedures:\n-\tUE initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502 [3]);\n-\tNetwork initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502 [3]), e.g. AMF initiated deregistration;\n-\tvisited network requested PDU Session release (see clause 4.3.4.3 of 3GPP TS 23.502 [3]), e.g. AMF initiated release in the following cases:\n-\twhen there is a mismatch of the PDU session status between the UE and the AMF;\n-\twhen a network slice is no longer available;\n-\twhen the PDU session is rejected by the new AMF to the old AMF during Registration procedure (as described in clause 4.2.2.2.2 of 3GPP TS 23.502 [3]); or\n-\tdue to Mobility or Access Restrictions (see clause 5.16.4.3 of 3GPP TS 23.501 [2]).\n-\t5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility using N26, to release the PDU session not transferred to EPC (see clauses 4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3]);\n-\tPDU session release procedure, for a PDU session with an I-SMF (see clause 4.23.5.2 of 3GPP TS 23.502 [3]);\n-\t5G-SRVCC from NG-RAN to 3GPP UTRAN procedure (see clause 6.5.4 of 3GPP TS 23.216 [35]).\nThe SMF shall release the PDU session context without triggering any signalling towards the 5G-AN and the UE.\nThe NF Service Consumer shall release a PDU session in the SMF by using the HTTP \"release\" custom operation as shown in Figure 5.2.2.9.1-1.\nThe figure depicts a PDU session release, which is a crucial step in the data transmission process. It shows the release of a PDU (Physical Data Unit) from a network device, typically a router or switch, to a network interface card (NIC) or a network-attached storage (NAS) device. This release is essential for data transfer and ensures that the data is successfully transmitted to the destination network. The figure provides a visual representation of this process, allowing network administrators to understand the flow of data and troubleshoot any issues that may arise during the release.\nFigure 5.2.2.9.1-1: Pdu session release\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual PDU session resource in the SMF. The content of the POST request shall contain any data that needs to be passed to the SMF.\nIf an UL CL/BP was inserted in the data path of the PDU session and traffic usage measurements need to be reported to the SMF, the POST request shall contain:\n-\tN4 information related with traffic usage reporting (i.e. PFCP Session Report Request, see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\nIf VPLMN QoS constraints are required for the PDU session and the H-SMF provides QoS parameters not complying with VPLMN QoS required by the V-SMF, the V-SMF may release the PDU session with the \"cause\" attribute set to \"REL_DUE_TO_VPLMN_QOS_FAILURE\".\n2a.\tOn success, the SMF shall return a \"200 OK\" with message body containing the representation of the ReleasedData when information needs to be returned to the NF Service Consumer, or a \"204 No Content\" response with an empty content in the POST response.\nIf N4 information was received in the request, the POST response shall contain:\n-\tN4 response information (i.e. PFCP Session Report Response);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\nIf the request body contains the \"cause\" attribute with the value \"REL_DUE_TO_PS_TO_CS_HO\", the (H-) SMF shall indicate to the PCF within SM Policy Association termination that the PDU session is released due to 5G-SRVCC.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.6.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.6.4.3.2-2.\nThe Notify Status service operation shall be used to notify the NF Service Consumer about status changes of a PDU session (e.g. when the PDU session is released and the release is not triggered by a Release Request, or when the PDU session is moved to another system, or when the control of the PDU session is taken over by another anchor SMF), for a HR PDU session or a PDU session involving an I-SMF.\nIt is used in the following procedures:\n-\tHome network requested PDU Session release (see clause 4.3.4.3 of 3GPP TS 23.502 [3]), e.g. H-SMF initiated release;\n-\tSMF requested PDU session release, for a PDU session involving an I-SMF (see clause 4.23 of 3GPP TS 23.502 [3]);\n-\tHandover of a PDU Session procedure from 3GPP to untrusted non-3GPP access (see clauses 4.9.2.4.2 and 4.23.16.2 of 3GPP TS 23.502 [3]);\n-\tInterworking procedures without N26 interface, e.g. 5GS to EPS Mobility (see clause 4.11.2.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]);\n-\tThe control of PDU session is taken over by a new anchor SMF within the same SMF set (see clause 5.22 of 3GPP TS 29.244 [29]), and the new SMF instance decides to notify the change of SMF;\n-\tSMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 2 PDU Session Anchor with different PDU Sessions (see clause 4.3.5.1 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see clause 4.3.5.2 of 3GPP TS 23.502 [3]);\n-\tNetwork slice usage behaviour control, i.e. SMF initiated PDU session release due to slice inactivity, see clause 5.15.15.3 of 3GPP TS 23.501 [2].\nThe SMF (i.e. H-SMF for a HR PDU session, or SMF for a PDU session involving an I-SMF) shall notify the NF Service Consumer (i.e. V-SMF for a HR PDU session, or I-SMF for a PDU session involving an I-SMF) by using the HTTP POST method as shown in Figure 5.2.2.10-1.\nThe figure depicts a PDU session status notification, showing the current status of the session, such as whether it is active or not. The status is displayed in a clear and concise manner, making it easy for users to understand the current state of the session.\nFigure 5.2.2.10-1: PDU session status notification\n1.\tThe SMF shall send a POST request to the resource representing the individual PDU session resource in the NF Service Consumer. The content of the POST request shall contain the notification content, with the status information.\nIf the notification is triggered by PDU session handover to release resources of the PDU Session in the source access, the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.2.9.4.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by PDU session handover to release only the SM Context with the I-SMF in the source access but without releasing the PDU session in the AMF, the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.23.16.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by SMF for I-SMF selection or removal for the current PDU session, or SMF selection during PDU Session re-establishment for SSC mode 2/3, the notification content shall contain the resourceStatus IE with the value \"UNCHANGED\", the Cause IE with the value \"TARGET_DNAI_NOTIFICATION\" and the targetDnaiInfo IE. The targetDnai IE in the targetDnaiInfo IE shall be absent if the I-SMF removal is triggered due to the DNAI currently served by the I-SMF being no longer used for the PDU Session. If the notification is triggered for SMF selection during PDU Session re-establishment for SSC mode 3, the notification content may also contain the oldPduSessionRef IE as specified in clause 4.3.5.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by PDU session handover to release resources of the PDU Session in the target access due to handover failure between 3GPP access and non-3GPP access, the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"PDU_SESSION_HAND_OVER_FAILURE\".\nIf the NF Service Consumer indicated support of the HOFAIL feature (see clause 6.1.8) and if the notification is triggered by PDU session handover to update access type of the PDU Session due to handover failure between 3GPP access and non-3GPP access, the notification content shall contain the resourceStatus IE with the value \"UPDATED\", the anType IE with the value \"3GPP\" or \"NON_3GPP\" indicating the access type of the PDU session after the handover failure scenario and the Cause IE with the value \"PDU_SESSION_HAND_OVER_FAILURE\".\nIf upon a change of anchor SMF, the new anchor SMF instance decides to notify the change of anchor SMF, then the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"CHANGED_ANCHOR_SMF\". In addition, the new anchor SMF instance shall include its SMF Instance ID in the notification content, and/or carry an updated binding indication in the HTTP headers to indicate the change of anchor SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]). If the PDU session may be moved to EPS with N26 and the EPS PDN Connection Context information of the PDU session on the new anchor SMF is different from the one on the old anchor SMF, the content shall also include the \"epsPdnCnxInfo\" IE including the updated EPS PDN Connection Context information. The NF Service consumer shall overwrite the locally stored EPS PDN Connection Context information with the new one if received.\nIf the notification is triggered by a PDU session release due to slice inactivity as specified in clause 5.15.15.3 of 3GPP TS 23.501 [2] and clause 5.11.2 of 3GPP TS 29.244 [29], the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"REL_DUE_TO_SLICE_INACTIVITY\".\n2a.\tOn success, \"204 No Content\" shall be returned and the content of the POST response shall be empty.\nIf the SMF indicated in the request that the PDU session in the SMF is released, the NF Service Consumer shall release the SM context for the PDU session.\nIf the SMF indicated in the request that the SM context resource is updated with the anType IE, the NF Service Consumer shall change the access type of the PDU session with the value of anType IE.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.7.3.1-2 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.7.3.1-2.\nThe Send MO Data service operation shall be used to send mobile originated data received over NAS, for a given PDU session, towards the SMF, or the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tUPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS Optimisation (see clause 4.24.1 of 3GPP TS 23.502 [3]);\n-\tNEF anchored Mobile Originated Data Transport (see clause 4.25.4 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (e.g. AMF) shall send mobile originated data to the SMF by using the HTTP POST method (send-mo-data custom operation) as shown in Figure 5.2.2.11.1-1.\nThe figure depicts a communication system with various components, including a base station (gNB), user equipment (UE), and scatterers. The diagram illustrates the signal propagation in a 5G network, highlighting the multi-path signal path and beamforming techniques to mitigate interference. The fiber-optic backbone architecture is shown, with core switches, optical line terminals (OLTs), and distributed nodes. Redundancy paths are depicted in dashed lines, ensuring failover reliability. The layered design aligns with SDN principles.\nFigure 5.2.2.11.1-1: Send MO Data\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual SM context resource in the SMF. The content of the POST request shall contain the mobile originated data to send.\nThe request body may include the \"MO Exception Data Counter\", which indicates that the UE has accessed the network by using \"MO exception data\" RRC establishment, if Small Data Rate Control is enabled for the PDU session and the UE is accessing via the NB-IoT RAT.\n2a.\tOn success, \"204 No Content\" shall be returned.\nFor UPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS Optimisation, if the \"MO Exception Data Counter\" is included in the request then:\n-\tfor HR PDU session, the V-SMF shall update the H-SMF (see clause 5.2.2.8.2.2);\n-\tfor PDU session with I-SMF, the I-SMF shall update the SMF (see clause 5.2.2.8.2.2).\n2b.\tOn failure or redirection, one of the HTTP status codes listed in Table 6.1.3.3.4.5.2-2 shall be returned.  For a 4xx/5xx response, the message body shall contain a ProblemDetails, with the \"cause\" attribute indicating the cause of the failure.\nThe Transfer MO Data service operation shall be used to transfer NEF anchored mobile originated data received from AMF, for a given PDU session, towards the H-SMF for HR roaming scenarios, or the SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tNEF anchored Mobile Originated Data Transport (see clause 4.25.4 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (e.g. V-SMF or I-SMF) shall transfer NEF anchored mobile originated data to the SMF by using the HTTP POST method (transfer-mo-data custom operation) as shown in Figure 5.2.2.12.1-1.\nThe figure depicts a detailed diagram of a 5G network's data transfer process, specifically focusing on the MO (Multiplexed Orthogonal Multiple Access) data segment. The figure illustrates the various components involved in the data transfer, such as the base station (gNB), user equipment (UE), and scatterers. The diagram highlights the use of beamforming techniques to mitigate interference, ensuring reliable data transmission.\nFigure 5.2.2.12.1-1: Transfer MO Data\n1.\tThe NF Service Consumer shall send a POST request to the URI of Transfer MO Data custom operation on an individual PDU Session resource in the SMF. The content of the POST request shall contain the mobile originated data to be transferred.\nThe content shall also contain the MO Exception Data Counter, if received from AMF.\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.6.4.4.2-2 shall be returned.  For a 4xx/5xx response, the message body may contain a ProblemDetails, with the \"cause\" attribute indicating the cause of the failure.\nThe Transfer MT Data service operation shall be used to transfer NEF anchored mobile terminated data received from NEF, for a given PDU session, towards the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tNEF anchored Mobile Terminated Data Transport (see clause 4.25.5 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (e.g. H-SMF or SMF) shall transfer NEF anchored mobile terminated data to the SMF by using the HTTP POST method (transfer-mt-data custom operation) as shown in Figure 5.2.2.13.1-1.\nThe figure depicts a network diagram illustrating the transfer of multimedia telecommunication data, specifically the transmission of multimedia data (MTD) over a 5G network. The diagram shows the various components involved in the data transfer, such as the base station (gNB), user equipment (UE), and scatterers. The figure highlights the use of beamforming techniques to mitigate interference and ensure reliable data transmission.\nFigure 5.2.2.13.1-1: Transfer MT Data\n1.\tThe NF Service Consumer shall send a POST request to the URI of Transfer MT Data custom operation on an individual PDU Session resource in the SMF. The content of the POST request shall contain the mobile terminated data to be transferred.\nThe SMF shall forward the mobile terminated data to AMF. If SMF determines Extended Buffering is allowed by local policy and the NEF supports Extended Buffering, the SMF indicate the Extending Buffering support to AMF.\nIf AMF responds that it is attempting to reach the UE, the SMF shall wait for potential failure notification from AMF before responding to the NF consumer.\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.7.4.3.2-2 shall be returned.  For a 4xx/5xx response, the message body may contain a TransferMtDataError or ProblemDetails object, with the \"cause\" attribute indicating the cause of the failure. If Estimated Maximum Waiting Time is received from AMF, the SMF shall include it in the message body.\nThe Retrieve service operation shall be used to retrieve information from a PDU session context from the H-SMF for a HR PDU session, or from the SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\t5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility using N26 interface (see clauses 4.11.1.2.1 and 4.11.1.2.3 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access and for which small data rate control is applicable.\n-\tChange of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see clause 4.3.5.2 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (e.g. V-SMF or I-SMF) shall retrieve information from a PDU session context by using the HTTP POST method (retrieve custom operation) as shown in Figure 5.2.2.14.1-1.\nThe figure depicts a PDU session context, showing the retrieval of information from a PDU session. The PDU is a device that sends data to a network, and the figure shows how the data is received and processed by the network.\nFigure 5.2.2.14.1-1: Retrieval of information from a PDU session context\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual PDU session context for which information needs to be retrieved. The POST request may contain a content with the following parameters:\n-\tsmallDataRateStatusReq set to \"true\" to indicate a request to retrieve the small data rate control status of the PDU session, if small data rate control is applicable on the PDU session.\n-\tpduSessionContextType indicates that this is a request to retrieve the AF Coordination Information as defined in clause 6.1.6.2.69, during the change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions, if the runtime coordination between old SMF and AF is enabled.\n2a.\tOn success, \"200 OK\" shall be returned and the content of the POST response shall contain the small data rate control status if this is a request for retrieving the small data rate control status.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.6.4.5.2-2 shall be returned. For a 4xx/5xx response, the message body may contain a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.6.4.5.2-2.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "5.2.3\tGeneral procedures",
                            "text_content": "As specified in clause 4.3.1 of 3GPP TS 23.502 [3], for Home Routed PDU sessions, there is NAS SM information that the V-SMF and H-SMF need to interpret, and NAS SM information that the V-SMF only needs to transfer between the UE and H-SMF but which it does not need to interpret.\nNAS SM information that only needs to be transferred between the UE and H-SMF by the V-SMF can be extended in later versions or releases of the NAS specification, e.g. defining new fields or values within existing IEs, and the extensions should not impact the V-SMF.\nBesides, in HR roaming scenarios, the V-SMF and H-SMF can comply to different versions or releases of the NAS specification. It should be possible to support new SM features only requiring support from the H-SMF without impacting the V-SMF, when the H-SMF complies with a more recent release than the V-SMF, e.g. defining new NAS SM IEs in signalling from the UE to the H-SMF and/or signalling from the H-SMF to the UE.\nThe V-SMF shall transfer NAS SM information that it only needs to transfer to the H-SMF (i.e. known IEs, and IEs that have an unknown value not set to \"reserved\" according to the release to which the V-SMF complies, that only need to be forwarded by the V-SMF) in n1SmInfoFromUe binary data within the HTTP content. This carries N1 SM IE(s), encoded as specified in 3GPP TS 24.501 [7], including the Type field and, for TLV or TLV-E IEs, the Length field.\nNOTE 1:\tN1 SM IEs defined without a Type field need to be defined over N16/N16a as specific IEs.\nThe V-SMF shall transfer NAS SM information that it does not comprehend (i.e. unknown IEs, or known IEs to be interpreted by the V-SMF that have an unknown value not set to \"reserved\" according to the release to which the V-SMF complies) in unknownN1SmInfo binary data within the HTTP content. This carries N1 SM IE(s), encoded as specified in 3GPP TS 24.501 [7], including the Type field and, for TLV or TLV-E IEs, the Length field.\nWhen receiving n1SmInfoToUe binary data in the HTTP contentfrom the H-SMF, the V-SMF shall parse all the N1 SM IEs received in the binary data and construct the NAS SM message to the UE according to 3GPP TS 24.501 [7]. The V-SMF shall append unknown NAS SM IEs received in the binary data at the end of the NAS SM message it sends to the UE.\nNOTE 2:\tThe V-SMF can infer the length of an unknown IE based on the IEI value. See clause 11.2.4 of 3GPP TS 24.007 [8].\nThe V-SMF shall comprehend and be able to encode at their right place in a given NAS message, all the IEs of the version of the NAS specification it implements that do not need to be interpreted by the V-SMF and which precede the last interpreted IE that the V-SMF implements in a NAS message.\nNOTE 3:\tThe V-SMF encodes comprehended IEs at their right place in the NAS SM message\nWhen receiving unknownN1SmInfo binary data in the HTTP content from the V-SMF, the H-SMF shall process any N1 SM IE received in this binary data that do not require to be interpreted by the V-SMF. Other N1 SM IEs shall be dropped, e.g. IEs that the H-SMF comprehends but which require to be interpreted by the V-SMF.\nThe H-SMF shall transfer NAS SM information which the V-SMF does not need to interpret (i.e. that it only needs to transfer to the UE) in n1SmInfoToUe binary data within the HTTP content. This carries N1 SM IE(s), encoded as specified in 3GPP TS 24.501 [7], including the Type field and, for TLV or TLV-E IEs, the Length field.\nNOTE 1:\tN1 SM IEs defined without a Type field need to be defined over N16/N16a as specific IEs.\nThe NAS SM IEs in n1SmInfoToUe binary data shall be encoded in the same order as specified in 3GPP TS 24.501 [7].\nN1 SM information which does not require to be interpreted by the V-SMF is information that is not defined as specific IEs over N16.\nThe requirements specified in clause 5.2.3.1 shall also apply for the transfer of NAS SM information between the UE and the SMF for PDU sessions with an I-SMF, whereby the I-SMF and SMF shall take the role of the V-SMF and H-SMF respectively.\nThis procedure enables an SMF, which receives a request colliding with an existing SM context or PDU session context, to know the time at which the new request and the existing PDU session were originated, and to accept the new request only if it is more recent than the existing PDU session.\nThe originating entities within the PLMN (i.e. AMFs) shall be NTP synchronized.\nThe following principles shall apply if this procedure is supported and enabled by operator policy.\nAn AMF originating a Create SM Context request shall include in the message the Origination Time Stamp indicating the absolute time at which the request is initiated.\nThe V-SMF or I-SMF shall forward this header to the H-SMF or SMF, if it is received from the AMF.\nUpon receipt of a Create SM Context request or a Create request which collides with an existing SM context or PDU session context, the SMF shall accept the new PDU session establishment request only if it contains a more recent time stamp than the time stamp stored for the existing PDU session. An incoming PDU session establishment request shall be considered as more recent than an existing PDU session and be accepted if no Origination Time Stamp information was provided for at least one of the two PDU sessions. The SMF shall reject an incoming request whose time stamp is less recent than the time stamp of the existing PDU session with the HTTP status code \"403 Forbidden\" and the application error \"LATE_OVERLAPPING_REQUEST\".\n3GPP TS 29.512 [30] further specify:\n-\tthe SMF requirements regarding the forwarding of the Origination Time Stamp towards the PCF, when received from the AMF;\n-\tthe handling of the Origination Time Stamp parameter by the PCF for an incoming request colliding with an existing Individual SM Policy Association.\nThe procedure specified in clause 6.11.2 of 3GPP TS 29.500 [4] shall apply with the following additions.\nAn HTTP request may include the 3gpp-Sbi-Origination-Timestamp and the 3gpp-Sbi-Max-Rsp-Time headers, with or without the 3gpp-Sbi-Sender-Timestamp header.\nThe 3gpp-Sbi-Max-Rsp-Time header shall indicate the duration expressed in milliseconds since the absolute time indicated in the 3gpp-Sbi-Sender-Timestamp header, if this header is present, or indicated in the 3gpp-Sbi-Origination-Timestamp header otherwise.\nNOTE:\tThe AMF does not need to include the 3gpp-Sbi-Sender-Timestamp if it includes the 3gpp-Sbi-Origination-Timestamp. A V-SMF or I-SMF forwards the 3gpp-Sbi-Origination-Timestamp over N16 or N16a, if received, and can include a 3gpp-Sbi-Sender-Timestamp header set to the time when it sends the Create request, in which case the 3gpp-Sbi-Max-Rsp-Time header contains the response time with respect to the 3gpp-Sbi-Sender-Timestamp header.\nWhen attributes with the UserLocation data type (as defined in clause 5.4.4.7 of 3GPP TS 29.571 [13]) are included in the messages (as specified in clause 6) to report the UE location information to the SMF, the following information shall be included in these attributes:\n-\tthe TAI and NCGI for NR user location; or\n-\tthe TAI and ECGI for E-UTRA user location; or\n-\tthe TAI, UE local IP address, Port if NAT is detected, and optionally n3Iwid if available, for untrusted non-3GPP access; or\n-\tthe TAI and TNAP Id/TWAP Id for trusted non-3GPP access; or\n-\tthe TAI and GLI and optionally LineType if available, or the TAI and hfcNodeId, or the TAI and GCI, for wireline network access.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tAPI Definitions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tNsmf_PDUSession Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tAPI URI",
                            "text_content": "The Nsmf_PDUSession service shall use the Nsmf_PDUSession API.\nThe API URI of the Nsmf_PDUSession API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nsmf-pdusession\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tUsage of HTTP",
                            "text_content": "HTTP/2, as defined in IETF RFC 9113 [14], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nHTTP messages and bodies for the Nsmf_PDUSession service shall comply with the OpenAPI [15] specification contained in Annex A.\nThe usage of HTTP standard headers shall be supported as specified in clause 5.2.2 of 3GPP TS 29.500 [4].\nThe following content types shall be supported:\n-\tthe JSON format (IETF RFC 8259 [11]). The use of the JSON format shall be signalled by the content type \"application/json\". See also clause 5.4 of 3GPP TS 29.500 [4].\n-\tthe Problem Details JSON Object (IETF RFC 9457 [23]). The use of the Problem Details JSON object in a HTTP response body shall be signalled by the content type \"application/problem+json\".\nNOTE:\t\"application/json\" is used in a response that includes a content containing an application-specific data structure, see clause 4.8 of 3GPP TS 29.501 [5].\nMultipart messages shall also be supported (see clause 6.1.2.4) using the content type \"multipart/related\", comprising:\n-\tone JSON body part with the \"application/json\" content type; and\n-\tone or two binary body parts with 3gpp vendor specific content subtypes.\nThe 3gpp vendor specific content subtypes defined in Table 6.1.2.2.2-1 shall be supported.\nTable 6.1.2.2.2-1: 3GPP vendor specific content subtypes\n\nSee clause 6.1.2.4 for the binary contents supported in the binary content part of multipart messages.\nFor 3GPP specific HTTP custom headers used across all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].\nAdditional HTTP custom headers applicable to the Nsmf_PDUSession service are specified in the following clauses.\nThe header contains the date and time (with a millisecond granularity) when the originating entity initiated the request.\nThe encoding of the header follows the ABNF as defined in IETF RFC 9110 [32].\nSbi-Origination-Timestamp-Header = \"3gpp-Sbi-Origination-Timestamp:\" OWS day-name \",\" SP date1 SP time-of-day \".\" milliseconds SP \"GMT\" OWS\n\nmilliseconds = 3DIGIT\n\nday-name, date1, time-of-day shall comply with the definition in clause 7.1.1.1 of IETF RFC 9110 [32].\nNOTE:\tThis is the same format as the Date header of clause 7.1.1.2 of IETF RFC 9110 [32], but with the time expressed with a millisecond granularity.\nEXAMPLE:\t3gpp-Sbi-Origination-Timestamp: Sun, 04 Aug 2019 08:49:37.845 GMT\nHTTP multipart messages shall be supported, to transfer opaque N1 and/or N2 SMpayloads or N4 information, in the following service operations (and HTTP messages):\n-\tCreate SM Context Request and Response (POST);\n-\tUpdate SM Context Request and Response (POST);\n-\tRelease SM Context Request (POST);\n-\tCreate Request and Response (POST);\n-\tUpdate Request and Response (POST (modify)).\nHTTP multipart messages shall include one JSON body part and one or two binary body parts comprising:\n-\tan N1 SM payload, an N2 SM payload or both, over N11 (see clause 6.1.6.4);\n-\tone or two N1 SM payloads, over N16 (see clause 6.1.6.4);\n-\tone or two N2 SM payloads over N11 (see clause 5.2.2.3.3);\n-\tone, two or three N4 payloads over N16a (see clause 6.1.6.4.5).\nThe JSON body part shall be the \"root\" body part of the multipart message. It shall be encoded as the first body part of the multipart message. The \"Start\" parameter does not need to be included.\nThe multipart message shall include a \"type\" parameter (see IETF RFC 2387 [10]) specifying the media type of the root body part, i.e. \"application/json\".\nNOTE:\tThe \"root\" body part (or \"root\" object) is the first body part the application processes when receiving a multipart/related message, see IETF RFC 2387 [10]. The default root is the first body within the multipart/related message. The \"Start\" parameter indicates the root body part, e.g. when this is not the first body part in the message.\nFor each binary body part in a HTTP multipart message, the binary body part shall include a Content-ID header (see IETF RFC 2045 [12]), and the JSON body part shall include an attribute, defined with the RefToBinaryData type, that contains the value of the Content-ID header field of the referenced binary body part.\nExamples of multipart/related messages can be found in Annex B.\nThe principles specified in clause 5.2.8 of 3GPP TS 29.500 [4] shall be applied with the following modifications.\nThe NF Service Consumer of Nsmf_PDUSession service, e.g. the AMF, shall retry the same HTTP request in the following scenarios through a new TCP connection towards an (alternative) service endpoint pertaining to the same NF (Service) instance or set if the corresponding procedure triggering the service request allows such retries, e.g. before the timeout of the corresponding N1 or N2 procedure:\n-\tIf the stream for the service request has not been processed in the SMF as specified in clause 5.2.8 of 3GPP TS 29.500 [4];\n-\tif the request is rejected by a HTTP status code indicating a temporary failure in the SMF, e.g. the status code 429, 500 and 503, as specified in clause 5.2.7 of 3GPP TS 29.500 [4];\n-\tif the request is timeout (i.e. the NF Service consumer doesn't receive any response after an implementation specific timer expires).\nThe NF Service Consumer shall determine an alternative service instance as specified in clause 6.5 of 3GPP TS 23.527 [24], i.e. using Binding Indication if supported/available or the NF (service) set or service persistency info from NF profile. The NF Service Consumer should also consider the Load control Information and the Overload Control Information if available as specified in clauses 6.3 and 6.4 in 3GPP TS 29.500 [4] when reselecting an alternative NF service instance.\nThe SMF shall support handling repeated retries successfully.\nNOTE:\tSee clauses 5.2.2.2 and 5.2.2.7 for the handling by the SMF of an HTTP POST request that would have already been processed by the SMF and that would be retried by the NF Service Consumer.\nHTTP conditional requests are not supported by the Nsmf_PDUSession service in this version of the API.\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.2.2.2-1: 3GPP vendor specific content subtypes",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.3\tResources",
                            "text_content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.1.3.1-1 describes the resource URI structure of the Nsmf_PDUSession API.\n\nThe figure depicts a resource URI structure of the Nsmf_PDUSession API, which is used to access the PDUSession resource. The structure includes the resource name, resource type, and resource identifier. The figure provides a clear and concise representation of the API's structure, making it easier for developers to understand and interact with the API.\nFigure 6.1.3.1-1: Resource URI structure of the Nsmf_PDUSession API\nNOTE:\tThe sm-contexts and pdu-sessions collection resources can be distributed on different processing instances or hosts. Thus, the authority and/or deployment-specific string of the apiRoot of the created individual sm context and pdu-session resources' URIs can differ from the authority and/or deployment-specific string of the apiRoot of the sm-contexts and pdu-sessions distributed collections' URIs.\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\n\nThis resource represents the collection of the individual SM contexts created in the SMF.\nThis resource is modelled with the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/nsmf-pdusession/<apiVersion>/sm-contexts\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\n\nThis method creates an individual SM context resource in the SMF, or in V-SMF in HR roaming scenarios.\nThis method shall support the URI query parameters specified in table 6.1.3.2.3.1-1.\nTable 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.2.3.1-2 and the response data structures and response codes specified in table 6.1.3.2.3.1-3.\nTable 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\n\nTable 6.1.3.2.3.1-5: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.2.3.1-6: Headers supported by the 308 Response Code on this resource\n\nNone.\nThis resource represents an individual SM context created in the SMF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/nsmf-pdusession/<apiVersion>/sm-contexts/{smContextRef}\nThis resource shall support the resource URI variables defined in table 6.1.3.3.2-1.\nTable 6.1.3.3.2-1: Resource URI variables for this resource\n\nNone.\nTable 6.1.3.3.4.1-1: Custom operations\n\nThis custom operation updates an individual SM context resource and/or provide N1 or N2 SM information received from the UE or the AN, for a given PDU session, towards the SMF, or in V-SMF in HR roaming scenario.\nThis operation shall support the request data structures specified in table 6.1.3.3.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.2.2-2.\nTable 6.1.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource\n\nThis custom operation releases an individual SM context resource in the SMF, or in V-SMF in HR roaming scenario\nThis operation shall support the request data structures specified in table 6.1.3.3.4.3.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.3.2-2.\nTable 6.1.3.3.4.3.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.3.4.3.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.3.4.3.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.4.3.2-4: Headers supported by the 308 Response Code on this resource\n\nThis custom operation retrieves an individual SM context resource from the SMF, from the V-SMF in HR roaming scenario or from the I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.3.4.4.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.4.2-2.\nTable 6.1.3.3.4.4.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.3.4.4.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.3.4.4.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.4.4.2-4: Headers supported by the 308 Response Code on this resource\n\nThis custom operation enables to send mobile originated data received over NAS, for a given PDU session, towards the SMF, or the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.3.4.5.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.5.2-2.\nTable 6.1.3.3.4.5.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.3.4.5.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.3.4.5.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.3.4.5.2-4: Headers supported by the 308 Response Code on this resource\n\nThis resource represents the collection of the individual PDU sessions created in the H-SMF for HR PDU sessions or in the SMF for PDU sessions with an I-SMF.\nThis resource is modelled with the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/nsmf-pdusession/<apiVersion>/pdu-sessions\nThis resource shall support the resource URI variables defined in table 6.1.3.5.2-1.\nTable 6.1.3.5.2-1: Resource URI variables for this resource\n\nThis method creates an individual PDU session resource in the H-SMF or SMF.\nThis method shall support the URI query parameters specified in table 6.1.3.5.3.1-1.\nTable 6.1.3.5.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.5.3.1-2 and the response data structures and response codes specified in table 6.1.3.5.3.1-3.\nTable 6.1.3.5.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.5.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.5.3.1-4: Headers supported by the 201 Response Code on this resource\n\nTable 6.1.3.5.3.1-5: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.5.3.1-6: Headers supported by the 308 Response Code on this resource\n\nTable 6.1.3.5.4.1-1: Custom operations\n\nThis resource represents an individual PDU session created in the H-SMF for a HR PDU session or in the SMF for a PDU session with an I-SMF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/nsmf-pdusession/<apiVersion>/pdu-sessions/{pduSessionRef}\nThis resource shall support the resource URI variables defined in table 6.1.3.6.2-1.\nTable 6.1.3.6.2-1: Resource URI variables for this resource\n\nNone.\nTable 6.1.3.6.4.1-1: Custom operations\n\nThis custom operation updates an individual PDU session resource in the H-SMF or SMF and/or provide the H-SMF or SMF with information received by the V-SMF or I-SMF in N1 SM signalling from the UE.\nThis operation shall support the request data structures specified in table 6.1.3.6.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.6.4.2.2-2.\nTable 6.1.3.6.4.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.6.4.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable Table 6.1.3.6.4.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable Table 6.1.3.6.4.2.2-4: Headers supported by the 308 Response Code on this resource\n\nThis custom operation releases an individual PDU session resource in the H-SMF for a HR PDU session or in the SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.6.4.3.2-1 and the response data structure and response codes specified in table 6.1.3.6.4.3.2-2.\nTable 6.1.3.6.4.3.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.6.4.3.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.6.4.3.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.6.4.3.2-4: Headers supported by the 308 Response Code on this resource\n\nThis custom operation enables to transfer mobile originated data received from AMF, for a given PDU session, towards the H-SMF for HR roaming scenarios, or the SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.6.4.4.2-1 and the response data structure and response codes specified in table 6.1.3.6.4.4.2-2.\nTable 6.1.3.6.4.4.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.6.4.4.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.6.4.4.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.6.4.4.2-4: Headers supported by the 308 Response Code on this resource\n\nThis custom operation retrieves information from an individual PDU session context in the H-SMF for a HR PDU session or in the SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.6.4.5.2-1 and the response data structure and response codes specified in table 6.1.3.6.4.5.2-2.\nTable 6.1.3.6.4.5.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.6.4.5.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.6.4.5.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.6.4.5.2-4: Headers supported by the 308 Response Code on this resource\n\nThis resource represents an individual PDU session created in the V-SMF for a HR PDU session or in the I-SMF for a PDU session with an I-SMF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).\nCallback URI: {vsmfPduSessionUri} or {ismfPduSessionUri}\nThis resource shall support the callback URI variables defined in table 6.1.3.7.2-1.\nTable 6.1.3.7.2-1: Callback URI variables for this resource\n\nThis method sends a status notification to the NF Service Consumer.\nThis method shall support the URI query parameters specified in table 6.1.3.7.3.1-1.\nTable 6.1.3.7.3.1-1: URI query parameters supported by the POST method on this resource\n\nThis method shall support the request data structures specified in table 6.1.3.7.3.1-2 and the response data structures and response codes specified in table 6.1.3.7.3.1-3.\nTable 6.1.3.7.3.1-2: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.7.3.1-3: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.7.3.1-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.7.3.1-5: Headers supported by the 308 Response Code on this resource\n\nTable 6.1.3.7.4.1-1: Custom operations\n\nThis custom operation modifies an individual PDU session resource in the V-SMF for a HR PDU session or in the I-SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.7.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.7.4.2.2-2.\nTable 6.1.3.7.4.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.7.4.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.7.4.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.7.4.2.2-4: Headers supported by the 308 Response Code on this resource\n\nThis custom operation enables to transfer mobile terminated data received from NEF, for a given PDU session, towards the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in Table 6.1.3.7.4.3.2-1 and the response data structure and response codes specified in Table 6.1.3.7.4.3.2-2.\nTable 6.1.3.7.4.3.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.7.4.3.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.7.4.3.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.7.4.3.2-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.3.1-1: Resources and methods overview",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-5: Headers supported by the 307 Response Code on this resource",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.3.1-6: Headers supported by the 308 Response Code on this resource",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.2-1: Resource URI variables for this resource",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.1-1: Custom operations",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.3.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.3.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 22,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.3.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 23,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.3.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 24,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.4.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 25,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.4.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 26,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.4.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 27,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.4.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 28,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.5.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 29,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.5.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 30,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.5.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 31,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.3.4.5.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 32,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.2-1: Resource URI variables for this resource",
                                    "table number": 33,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 34,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 35,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 36,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-4: Headers supported by the 201 Response Code on this resource",
                                    "table number": 37,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-5: Headers supported by the 307 Response Code on this resource",
                                    "table number": 38,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.3.1-6: Headers supported by the 308 Response Code on this resource",
                                    "table number": 39,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.5.4.1-1: Custom operations",
                                    "table number": 40,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.2-1: Resource URI variables for this resource",
                                    "table number": 41,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.1-1: Custom operations",
                                    "table number": 42,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 43,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 44,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table Table 6.1.3.6.4.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 45,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table Table 6.1.3.6.4.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 46,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.3.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 47,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.3.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 48,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.3.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 49,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.3.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 50,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.4.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 51,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.4.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 52,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.4.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 53,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.4.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 54,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.5.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 55,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.5.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 56,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.5.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 57,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.6.4.5.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 58,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.2-1: Callback URI variables for this resource",
                                    "table number": 59,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.3.1-1: URI query parameters supported by the POST method on this resource",
                                    "table number": 60,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.3.1-2: Data structures supported by the POST Request Body on this resource",
                                    "table number": 61,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.3.1-3: Data structures supported by the POST Response Body on this resource",
                                    "table number": 62,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.3.1-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 63,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.3.1-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 64,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.1-1: Custom operations",
                                    "table number": 65,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 66,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 67,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 68,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 69,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.3.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 70,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.3.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 71,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.3.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 72,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.7.4.3.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 73,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.4\tCustom Operations without associated resources",
                            "text_content": "None.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.5\tNotifications",
                            "text_content": "This clause specifies the notifications provided by the Nsmf_PDUSession service.\nThe delivery of notifications shall be supported as specified in clause 6.2 of 3GPP TS 29.500 [4] for Server-initiated communication.\nTable 6.1.5.1-1: Notifications overview\n\nIf the NF Service Consumer (e.g AMF) has provided the callback URI for getting notified about change of SM context status, the SMF shall notify the NF Service Consumer when the SM context status information is updated.\nThe POST method shall be used for SM context status notification and the URI shall be the callback reference provided by the NF Service Consumer during the subscription to this notification.\nCallback URI: {smContextStatusUri}\nSupport of URI query parameters is specified in table 6.1.5.2.2-1.\nTable 6.1.5.2.2-1: URI query parameters supported by the POST method\n\nSupport of request data structures is specified in table 6.1.5.2.2-2, and support of response data structures and response codes is specified in table 6.1.5.2-3.\nTable 6.1.5.2.2-2: Data structures supported by the POST Request Body\n\nTable 6.1.5.2.2-3: Data structures supported by the POST Response Body\n\nTable 6.1.5.2.2-4: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.5.2.2-5: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.5.1-1: Notifications overview",
                                    "table number": 74,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-1: URI query parameters supported by the POST method",
                                    "table number": 75,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-2: Data structures supported by the POST Request Body",
                                    "table number": 76,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-3: Data structures supported by the POST Response Body",
                                    "table number": 77,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-4: Headers supported by the 307 Response Code on this resource",
                                    "table number": 78,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.5.2.2-5: Headers supported by the 308 Response Code on this resource",
                                    "table number": 79,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Nsmf service-based interface protocol.\nTable 6.1.6.1-1: Nsmf specific Data Types\n\nTable 6.1.6.1-2 specifies data types re-used by the Nsmf service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Nsmf service based interface.\nTable 6.1.6.1-2: Nsmf re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.1.6.2.2-1: Definition of type SmContextCreateData\n\nTable 6.1.6.2.3-1: Definition of type SmContextCreatedData\n\nTable 6.1.6.2.4-1: Definition of type SmContextUpdateData\n\nTable 6.1.6.2.5-1: Definition of type SmContextUpdatedData\n\nTable 6.1.6.2.6-1: Definition of type SmContextReleaseData\n\nTable 6.1.6.2.7-1: Definition of type SmContextRetrieveData\n\nTable 6.1.6.2.8-1: Definition of type SmContextStatusNotification\n\nTable 6.1.6.2.9-1: Definition of type PduSessionCreateData\n\nEditor's Note: How the V-SMF gets to know the supported feature by the H-SMF is FFS.\nTable 6.1.6.2.10-1: Definition of type PduSessionCreatedData\n\nTable 6.1.6.2.11-1: Definition of type HsmfUpdateData\n\nTable 6.1.6.2.12-1: Definition of type HsmfUpdatedData\n\nTable 6.1.6.2.13-1: Definition of type ReleaseData\n\nTable 6.1.6.2.14-1: Definition of type HsmfUpdateError\n\nTable 6.1.6.2.15-1: Definition of type VsmfUpdateData\n\nTable 6.1.6.2.16-1: Definition of type VsmfUpdatedData\n\nTable 6.1.6.2.17-1: Definition of type StatusNotification\n\nTable 6.1.6.2.18-1: Definition of type QosFlowItem\n\nTable 6.1.6.2.19-1: Definition of type QosFlowSetupItem\n\nTable 6.1.6.2.20-1: Definition of type QosFlowAddModifyRequestItem\n\nTable 6.1.6.2.21-1: Definition of type QosFlowReleaseRequestItem\n\nTable 6.1.6.2.22-1: Definition of type QosFlowProfile\n\n\nTable 6.1.6.2.23-1: Definition of type GbrQosFlowInformation\n\nTable 6.1.6.2.24-1: Definition of type QosFlowNotifyItem\n\nTable 6.1.6.2.27-1: Definition of type SmContextRetrievedData\n\nTable 6.1.6.2.28-1: Definition of type TunnelInfo\n\nTable 6.1.6.2.29-1: Definition of type StatusInfo\n\nTable 6.1.6.2.30-1: Definition of type VsmfUpdateError\n\nTable 6.1.6.2.31-1: Definition of type EpsPdnCnxInfo\n\nTable 6.1.6.2.32-1: Definition of type EpsBearerInfo\n\nTable 6.1.6.2.33-1: Definition of type PduSessionNotifyItem\n\nTable 6.1.6.2.34-1: Definition of type EbiArpMapping\n\nTable 6.1.6.2.35-1: Definition of type SmContextCreateError\n\nTable 6.1.6.2.36-1: Definition of type SmContextUpdateError\n\nTable 6.1.6.2.37-1: Definition of type PduSessionCreateError\n\nTable 6.1.6.2.38-1: Definition of type MmeCapabilities\n\nTable 6.1.6.2.39-1: Definition of type SmContext\n\nThe ExemptionInd indicates that the included NAS SM message was exempted from one or more NAS SM congestion control, e.g. DNN, and/or S-NSSAI based congestion control, activated in the AMF.\nTable 6.1.6.2.40-1: Definition of type ExemptionInd\n\nTable 6.1.6.2.41-1: Definition of type PsaInformation\n\nTable 6.1.6.2.42-1: Definition of type DnaiInformation\n\nTable 6.1.6.2.43-1: Definition of type N4Information\n\nTable 6.1.6.2.44-1: Definition of type IndirectDataForwardingTunnelInfo\n\nTable 6.1.6.2.45-1: Definition of type SmContextReleasedData\n\nTable 6.1.6.2.46-1: Definition of type ReleasedData\n\nTable 6.1.6.2.47-1: Definition of type SendMoDataReqData\n\nTable 6.1.6.2.48-1: Definition of type CnAssistedRanPara\n\nTable 6.1.6.2.49-1: Definition of type UlclBpInformation\n\nTable 6.1.6.2.50-1: Definition of type TransferMoDataReqData\n\nTable 6.1.6.2.51-1: Definition of type TransferMtDataReqData\n\nTable 6.1.6.2.52-1: Definition of type TransferMtDataError as a list of to be combined data types\n\nTable 6.1.6.2.53-1: Definition of type TransferMtDataAddInfo\n\nTable 6.1.6.2.54-1: Definition of type VplmnQos\n\nTable 6.1.6.2.55-1: Definition of type DdnFailureSubs\n\nTable 6.1.6.2.56-1: Definition of type RetrieveData\n\nTable 6.1.6.2.57-1: Definition of type RetrievedData\n\nTable 6.1.6.2.58-1: Definition of type SecurityResult\n\nTable 6.1.6.2.59-1: Definition of type UpSecurityInfo\n\nTable 6.1.6.2.60-1: Definition of type DdnFailureSubInfo\n\nTable 6.1.6.2.61-1: Definition of type AlternativeQosProfile\n\nTable 6.1.6.2.62-1: Definition of type ProblemDetailsAddInfo\n\nTable 6.1.6.2.63-1: Definition of type ExtProblemDetails as a list of to be combined data types\n\nTable 6.1.6.2.64-1: Definition of type QosMonitoringInfo\n\nTable 6.1.6.2.65-1: Definition of type IpAddress\n\nTable 6.1.6.2.66-1: Definition of type RedundantPduSessionInformation\n\nTable 6.1.6.2.67-1: Definition of type QosFlowTunnel\n\nTable 6.1.6.2.68-1: Definition of type TargetDnaiInfo\n\nTable 6.1.6.2.69-1: Definition of type AfCoordinationInfo\n\nTable 6.1.6.2.70-1: Definition of type NotificationInfo\n\nThe AnchorSmfFeatures indicates a list of features supported by the (H-)SMF to the AMF.\nTable 6.1.6.2.71-1: Definition of type AnchorSmfFeatures\n\nTable 6.1.6.2.72-1: Definition of type HrsboInfoFromVplmn\n\nTable 6.1.6.2.73-1: Definition of type HrsboInfoFromHplmn\n\nTable 6.1.6.2.74-1: Definition of type EasInfoToRefresh\n\nTable 6.1.6.2.75-1: Definition of type EcnMarkingCongestionInformationReq\n\nTable 6.1.6.2.76-1: Definition of type EcnMarkingCongestionInfoStatus\n\nTable 6.1.6.2.77-1: Definition of type TscAssistanceInformation\n\nTable 6.1.6.2.78-1: Definition of type N6JitterInformation\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\n\nThe enumeration UpCnxState represents the state of the user plane connection of a PDU session. It shall comply with the provisions defined in table 6.1.6.3.3-1.\nTable 6.1.6.3.3-1: Enumeration UpCnxState\n\nThe enumeration HoState represents the handover state of a PDU session. It shall comply with the provisions defined in table 6.1.6.3.4-1.\nTable 6.1.6.3.4-1: Enumeration HoState\n\nThe enumeration RequestType indicates the type of a PDU session creation request. It shall comply with the provisions defined in table 6.1.6.3.5-1.\nTable 6.1.6.3.5-1: Enumeration RequestType\n\nThe enumeration RequestIndication indicates the request type. It shall comply with the provisions defined in table 6.1.6.3.6-1.\nTable 6.1.6.3.6-1: Enumeration RequestIndication\n\nThe enumeration NotificationCause indicates the cause of a notification. It shall comply with the provisions defined in table 6.1.6.3.7-1.\nTable 6.1.6.3.7-1: Enumeration NotificationCause\n\nThe enumeration Cause indicates a cause information. It shall comply with the provisions defined in table 6.1.6.3.8-1.\nTable 6.1.6.3.8-1: Enumeration Cause\n\nThe enumeration ResourceStatus indicates the status of an SM context or PDU session resource. It shall comply with the provisions defined in table 6.1.6.3.9-1.\nTable 6.1.6.3.9-1: Enumeration ResourceStatus\n\nThe enumeration DnnSelectionMode indicates whether the DNN of a PDU session being established corresponds to an explicitly subscribed DNN or to the usage of a wildcard subscription. It shall comply with the provisions defined in table 6.1.6.3.10-1.\nTable 6.1.6.3.10-1: Enumeration DnnSelectionMode\n\nThe enumeration EpsInterworkingIndication indicates whether and how the PDU session will possibly be moved to EPS.\nTable 6.1.6.3.11-1: Enumeration EpsInterworkingIndication\n\nTable 6.1.6.3.12-1: Enumeration N2SmInfoType\n\nTable 6.1.6.3.13-1: Enumeration MaxIntegrityProtectedDataRate\n\nThe enumeration MaReleaseIndication indicates the access type over which the MA PDU session is requested to be released.\nTable 6.1.6.3.14-1: Enumeration MaReleaseIndication\n\nThe enumeration SmContextType represents the type of SM context information requested during a Retrieve SM Context service operation. It shall comply with the provisions defined in table 6.1.6.3.15-1.\nTable 6.1.6.3.15-1: Enumeration SmContextType\n\nThe enumeration PsaIndication indicates whether a PSA and an UL CL or BP, or only a PSA has been inserted or removed to/from the data path of a PDU session by an I-SMF. It shall comply with the provisions defined in table 6.1.6.3.16-1.\nTable 6.1.6.3.16-1: Enumeration PsaIndication\n\nThe enumeration N4MessageType indicates the PFCP message type sent within a N4 Message Payload. It shall comply with the provisions defined in table 6.1.6.3.17-1.\nTable 6.1.6.3.17-1: Enumeration N4MessageType\n\nThe enumeration QoSFlowAccessType indicates the access type which the QoS Flow is associated with.\nTable 6.1.6.3.18-1: Enumeration QosFlowAccessType\n\nThe enumeration UnavailableAccessIndication indicates the access type of the MA PDU session that is unavailable.\nTable 6.1.6.3.19-1: Enumeration UnavailableAccessIndication\n\nThe enumeration ProtectionResult indicates whether the security policy indicated as \"preferred\" is performed or not.\nTable 6.1.6.3.20-1: Enumeration ProtectionResult\n\nThe enumeration QosMonitoringReq indicates the measurement of UL, or DL, or both UL/DL delays, or no measurements are required.\nTable 6.1.6.3.21-1: Enumeration QosMonitoringReq\n\nThe enumeration Rsn indicates the RSN value which differentiates the PDU sessions that are handled redundantly (see clause 5.33.2.1 of 3GPP TS 23.501 [2]).\nTable 6.1.6.3.22-1: Enumeration Rsn\n\nThe enumeration SmfSelectionType represents the I-SMF selection or removal for the current PDU Session, or the SMF selection during PDU Session re-establishment for SSC mode 2/3. It shall comply with the provisions defined in table 6.1.6.3.23-1.\nTable 6.1.6.3.23-1: Enumeration SmfSelectionType\n\nThe enumeration PduSessionContextType represents the type of PDU Session information requested during a Retrieve service operation. It shall comply with the provisions defined in table 6.1.6.3.24-1.\nTable 6.1.6.3.24-1: Enumeration PduSessionContextType\n\nThe enumeration PendingUpdateInfo indicates the information that are not required to be updated in real-time.\nTable 6.1.6.3.25-1: Enumeration PendingUpdateInfo\n\nThe enumeration EstablishmentRejectionCause indicates the reason to reject the PDU session establishment request.\nTable 6.1.6.3.26-1: Enumeration EstablishmentRejectionCause\n\nTable 6.1.6.3.27-1: Enumeration EcnMarkingReq\n\nTable 6.1.6.3.28-1: Enumeration CongestionInfoReq\n\nTable 6.1.6.3.29-1: Enumeration ActivationStatus\n\nThis clause defines the binary data that shall be supported in a binary body part in an HTTP multipart message (see clauses 6.1.2.2.2 and 6.1.2.4).\nTable 6.1.6.4.1-1: Binary Data Types\n\nN1 SM Message shall encode a 5GS NAS SM message as specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type.\nN1 SM Message may encode any 5GS NAS SM message specified in 3GPP TS 24.501 [7], as summarized in Table 6.1.6.4.2-1.\nTable 6.1.6.4.2-1: N1 SM Message content\n\nN2 SM Information shall encode NG Application Protocol (NGAP) IEs, as specified in clause 9.3 of 3GPP TS 38.413 [9] (ASN.1 encoded), using the vnd.3gpp.ngap content-type.\nN2 SM Information may encode any NGAP SMF related IE specified in 3GPP TS 38.413 [9], as summarized in Table 6.1.6.4.3-1.\nTable 6.1.6.4.3-1: N2 SM Information content\n\nn1SmInfoFromUe, n1SmInfoToUe and unknownN1SmInfo shall encode one or more NAS SM IEs, including the Type and Length fields, as specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type.\nClause 5.2.3.1 specifies the information that shall be included in these payloads.\nn1SmInfoFromUe and n1SmInfoToUe may encode the 5GS NAS IEs listed in tables 6.1.6.4.4-1 and 6.1.6.4.4-2.\nTable 6.1.6.4.4-1: n1SmInfoFromUE content\n\nTable 6.1.6.4.4-2: n1SmInfoToUE parameters\n\nThe Message Type shall be present and encoded as the first 5GS NAS IE in any n1SmInfoFromUe, n1SmInfoToUe and unknownN1SmInfo binary data, to enable the receiver to decode the 5GS NAS IEs.\nNOTE:\tThe Information Element Identifier (see clause 11.2.1.1.3 of 3GPP TS 24.007 [8]) of a 5GS NAS IE uniquely identifies an IE in a given message.\nThe N4 Message Payload shall encode a PFCP session related message as specified in 3GPP TS 29.244 [29], using the vnd.3gpp.pfcp content-type.\nMobile Originated Data shall encode the Data Contents of the CIoT small data container or Payload Container specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type, as summarized in Table 6.1.6.4.6-1.\nTable 6.1.6.4.6-1: Mobile Originated Data\n\nMobile Terminated Data shall encode the Data Contents of the Payload Container specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type, as summarized in Table 6.1.6.4.7-1.\nTable 6.1.6.4.7-1: Mobile Terminated Data\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.6.1-1: Nsmf specific Data Types",
                                    "table number": 80,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.1-2: Nsmf re-used Data Types",
                                    "table number": 81,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.2-1: Definition of type SmContextCreateData",
                                    "table number": 82,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.3-1: Definition of type SmContextCreatedData",
                                    "table number": 83,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.4-1: Definition of type SmContextUpdateData",
                                    "table number": 84,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.5-1: Definition of type SmContextUpdatedData",
                                    "table number": 85,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.6-1: Definition of type SmContextReleaseData",
                                    "table number": 86,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.7-1: Definition of type SmContextRetrieveData",
                                    "table number": 87,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.8-1: Definition of type SmContextStatusNotification",
                                    "table number": 88,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.9-1: Definition of type PduSessionCreateData",
                                    "table number": 89,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.10-1: Definition of type PduSessionCreatedData",
                                    "table number": 90,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.11-1: Definition of type HsmfUpdateData",
                                    "table number": 91,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.12-1: Definition of type HsmfUpdatedData",
                                    "table number": 92,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.13-1: Definition of type ReleaseData",
                                    "table number": 93,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.14-1: Definition of type HsmfUpdateError",
                                    "table number": 94,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.15-1: Definition of type VsmfUpdateData",
                                    "table number": 95,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.16-1: Definition of type VsmfUpdatedData",
                                    "table number": 96,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.17-1: Definition of type StatusNotification",
                                    "table number": 97,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.18-1: Definition of type QosFlowItem",
                                    "table number": 98,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.19-1: Definition of type QosFlowSetupItem",
                                    "table number": 99,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.20-1: Definition of type QosFlowAddModifyRequestItem",
                                    "table number": 100,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.21-1: Definition of type QosFlowReleaseRequestItem",
                                    "table number": 101,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.22-1: Definition of type QosFlowProfile",
                                    "table number": 102,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.23-1: Definition of type GbrQosFlowInformation",
                                    "table number": 103,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.24-1: Definition of type QosFlowNotifyItem",
                                    "table number": 104,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.27-1: Definition of type SmContextRetrievedData",
                                    "table number": 105,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.28-1: Definition of type TunnelInfo",
                                    "table number": 106,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.29-1: Definition of type StatusInfo",
                                    "table number": 107,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.30-1: Definition of type VsmfUpdateError",
                                    "table number": 108,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.31-1: Definition of type EpsPdnCnxInfo",
                                    "table number": 109,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.32-1: Definition of type EpsBearerInfo",
                                    "table number": 110,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.33-1: Definition of type PduSessionNotifyItem",
                                    "table number": 111,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.34-1: Definition of type EbiArpMapping",
                                    "table number": 112,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.35-1: Definition of type SmContextCreateError",
                                    "table number": 113,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.36-1: Definition of type SmContextUpdateError",
                                    "table number": 114,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.37-1: Definition of type PduSessionCreateError",
                                    "table number": 115,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.38-1: Definition of type MmeCapabilities",
                                    "table number": 116,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.39-1: Definition of type SmContext",
                                    "table number": 117,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.40-1: Definition of type ExemptionInd",
                                    "table number": 118,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.41-1: Definition of type PsaInformation",
                                    "table number": 119,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.42-1: Definition of type DnaiInformation",
                                    "table number": 120,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.43-1: Definition of type N4Information",
                                    "table number": 121,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.44-1: Definition of type IndirectDataForwardingTunnelInfo",
                                    "table number": 122,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.45-1: Definition of type SmContextReleasedData",
                                    "table number": 123,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.46-1: Definition of type ReleasedData",
                                    "table number": 124,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.47-1: Definition of type SendMoDataReqData",
                                    "table number": 125,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.48-1: Definition of type CnAssistedRanPara",
                                    "table number": 126,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.49-1: Definition of type UlclBpInformation",
                                    "table number": 127,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.50-1: Definition of type TransferMoDataReqData",
                                    "table number": 128,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.51-1: Definition of type TransferMtDataReqData",
                                    "table number": 129,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.52-1: Definition of type TransferMtDataError as a list of to be combined data types",
                                    "table number": 130,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.53-1: Definition of type TransferMtDataAddInfo",
                                    "table number": 131,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.54-1: Definition of type VplmnQos",
                                    "table number": 132,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.55-1: Definition of type DdnFailureSubs",
                                    "table number": 133,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.56-1: Definition of type RetrieveData",
                                    "table number": 134,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.57-1: Definition of type RetrievedData",
                                    "table number": 135,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.58-1: Definition of type SecurityResult",
                                    "table number": 136,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.59-1: Definition of type UpSecurityInfo",
                                    "table number": 137,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.60-1: Definition of type DdnFailureSubInfo",
                                    "table number": 138,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.61-1: Definition of type AlternativeQosProfile",
                                    "table number": 139,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.62-1: Definition of type ProblemDetailsAddInfo",
                                    "table number": 140,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.63-1: Definition of type ExtProblemDetails as a list of to be combined data types",
                                    "table number": 141,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.64-1: Definition of type QosMonitoringInfo",
                                    "table number": 142,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.65-1: Definition of type IpAddress",
                                    "table number": 143,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.66-1: Definition of type RedundantPduSessionInformation",
                                    "table number": 144,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.67-1: Definition of type QosFlowTunnel",
                                    "table number": 145,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.68-1: Definition of type TargetDnaiInfo",
                                    "table number": 146,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.69-1: Definition of type AfCoordinationInfo",
                                    "table number": 147,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.70-1: Definition of type NotificationInfo",
                                    "table number": 148,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.71-1: Definition of type AnchorSmfFeatures",
                                    "table number": 149,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.72-1: Definition of type HrsboInfoFromVplmn",
                                    "table number": 150,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.73-1: Definition of type HrsboInfoFromHplmn",
                                    "table number": 151,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.74-1: Definition of type EasInfoToRefresh",
                                    "table number": 152,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.75-1: Definition of type EcnMarkingCongestionInformationReq",
                                    "table number": 153,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.76-1: Definition of type EcnMarkingCongestionInfoStatus",
                                    "table number": 154,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.77-1: Definition of type TscAssistanceInformation",
                                    "table number": 155,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.78-1: Definition of type N6JitterInformation",
                                    "table number": 156,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.2-1: Simple data types",
                                    "table number": 157,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.3-1: Enumeration UpCnxState",
                                    "table number": 158,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.4-1: Enumeration HoState",
                                    "table number": 159,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.5-1: Enumeration RequestType",
                                    "table number": 160,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.6-1: Enumeration RequestIndication",
                                    "table number": 161,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.7-1: Enumeration NotificationCause",
                                    "table number": 162,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.8-1: Enumeration Cause",
                                    "table number": 163,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.9-1: Enumeration ResourceStatus",
                                    "table number": 164,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.10-1: Enumeration DnnSelectionMode",
                                    "table number": 165,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.11-1: Enumeration EpsInterworkingIndication",
                                    "table number": 166,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.12-1: Enumeration N2SmInfoType",
                                    "table number": 167,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.13-1: Enumeration MaxIntegrityProtectedDataRate",
                                    "table number": 168,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.14-1: Enumeration MaReleaseIndication",
                                    "table number": 169,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.15-1: Enumeration SmContextType",
                                    "table number": 170,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.16-1: Enumeration PsaIndication",
                                    "table number": 171,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.17-1: Enumeration N4MessageType",
                                    "table number": 172,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.18-1: Enumeration QosFlowAccessType",
                                    "table number": 173,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.19-1: Enumeration UnavailableAccessIndication",
                                    "table number": 174,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.20-1: Enumeration ProtectionResult",
                                    "table number": 175,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.21-1: Enumeration QosMonitoringReq",
                                    "table number": 176,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.22-1: Enumeration Rsn",
                                    "table number": 177,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.23-1: Enumeration SmfSelectionType",
                                    "table number": 178,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.24-1: Enumeration PduSessionContextType",
                                    "table number": 179,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.25-1: Enumeration PendingUpdateInfo",
                                    "table number": 180,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.26-1: Enumeration EstablishmentRejectionCause",
                                    "table number": 181,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.27-1: Enumeration EcnMarkingReq",
                                    "table number": 182,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.28-1: Enumeration CongestionInfoReq",
                                    "table number": 183,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.29-1: Enumeration ActivationStatus",
                                    "table number": 184,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.4.1-1: Binary Data Types",
                                    "table number": 185,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.4.2-1: N1 SM Message content",
                                    "table number": 186,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.4.3-1: N2 SM Information content",
                                    "table number": 187,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.4.4-1: n1SmInfoFromUE content",
                                    "table number": 188,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.4.4-2: n1SmInfoToUE parameters",
                                    "table number": 189,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.4.6-1: Mobile Originated Data",
                                    "table number": 190,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.4.7-1: Mobile Terminated Data",
                                    "table number": 191,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.7\tError Handling",
                            "text_content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [4].\nThe Cause codes mapping performed by AMF between the following HTTP responses returned by the SMF services to the AMF and the 5GMM related values is specified in clause 4.3.2 of 3GPP TS 29.524 [34].\nIn order to enable the AMF to figure out whether a request (e.g. PDU session establishment request) fails at the V-SMF/I-SMF or at the H-SMF/SMF for a HR PDU session or a PDU session with an I-SMF:\n-\ta V-SMF/I-SMF that returns an HTTP error response to the AMF that was originated by the H-SMF/SMF shall include the remoteError attribute set to \"true\" in the ProblemDetails information in the HTTP error response;\n-\ta V-SMF/I-SMF that originates an error to the AMF may include the remoteError attribute set to \"false\" in the ProblemDetails information in the HTTP error response.\nFor a HR PDU session or a PDU session with an I-SMF,  if the V-SMF or I-SMF needs to reject the request from the AMF or the H-SMF/SMF because the H-SMF/SMF or the AMF is not reachable respectively (even after retrying alternative endpoint addresses e.g. according to the Binding Indication when available), the V-SMF or I-SMF shall send a 504 Gateway Timeout response including a problemDetails data structure with the cause attribute set to \"PEER_NOT_RESPONDING\" and with the remoteError attribute set to \"false\".\nProtocol errors handling shall be supported as specified in clause 5.2.7 of 3GPP TS 29.500 [4].\nThe common application errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] may be used for the Nsmf_PDUSession service.\nThe following application errors listed in Table 6.1.7.3-1 are specific to the Nsmf_PDUSession service.\nTable 6.1.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.7.3-1: Application errors",
                                    "table number": 192,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.8\tFeature Negotiation",
                            "text_content": "The feature negotiation mechanism specified in clause 6.6 of 3GPP TS 29.500 [4] shall be used to negotiate the optional features applicable between the SMF and the NF Service Consumer, for the Nsmf_PDUSession service, if any.\nThe NF Service Consumer shall indicate the optional features it supports for the Nsmf_PDUSession service, if any, by including the supportedFeatures attribute in the HTTP POST request when requesting the SMF to create an SM context or a PDU session resource. In scenarios with a change of NF Service Consumer (e.g. change of AMF, V-SMF or I-SMF change), the new NF Service Consumer shall indicate the optional features it supports for the Nsmf_PDUSession service, if any, by including the supportedFeatures attribute in the HTTP POST request when requesting the SMF to update an SM context or a PDU session resource to change the NF Service Consumer.\nThe SMF shall determine the supported features for the created SM context or PDU session resource, or for the updated SM context or PDU session resource in scenarios with a change of NF Service Consumer, as specified in clause 6.6 of 3GPP TS 29.500 [4] and shall indicate the supported features by including the supportedFeatures attribute in the representation of the SM context or PDU session resource it returns in the HTTP response confirming the creation or the modification of the resource.\nThe syntax of the supportedFeatures attribute is defined in clause 5.2.2 of 3GPP TS 29.571 [13].\nThe following features are defined for the Nsmf_PDUSession service.\nTable 6.1.8-1: Features of supportedFeatures attribute used by Nsmf_PDUSession service\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.8-1: Features of supportedFeatures attribute used by Nsmf_PDUSession service",
                                    "table number": 193,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [17] and 3GPP TS 29.500 [4], the access to the Nsmf_PDUSession API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [18]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of the authorization server.\nIf OAuth2 authorization is used, an NF Service Consumer, prior to consuming services offered by the Nsmf_PDUSession API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [19], clause 5.4.2.2.\nNOTE 1:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nsmf_PDUSession service.\nNOTE 2:\tThe security credentials for accessing a child resource URI of an sm-contexts or pdu-sessions collection distributed on different processing instances or hosts are the same as for accessing the collection URI.\nThe Nsmf_PDUSession API defines a single scope \"nsmf-pdusession\" for the entire service, and it does not define any additional scopes at resource and operation level.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.10\tHTTP redirection",
                            "text_content": "An HTTP request may be redirected to a different SMF service instance, within the same SMF or a different SMF of an SMF set, e.g. when an SMF service instance is part of an SMF (service) set or when using indirect communications (see 3GPP TS 29.500 [4]). See also the ES3XX feature in clause 6.1.8.\nAn SCP that reselects a different SMF producer instance will return the NF Instance ID of the new SMF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an SMF within an SMF set redirects a service request to a different SMF of the set using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new SMF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\nFor a HR PDU session or a PDU session with an I-SMF, the V-SMF or I-SMF shall update the AMF upon detecting a change of the H-SMF or SMF within the SMF set, by sending an SM context status notification with the resourceStatus set to \"UPDATED\", the cause in statusInfo set to \"CHANGED_ANCHOR_SMF\" and with the new H-SMF or SMF identity (see clause 5.2.2.5.1).\nNOTE:\tThis allows the AMF to receive the NF Instance ID of the new SMF handling the PDU session and to send the NF Instance ID of the last known SMF handling the PDU session during inter-AMF mobility.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "This Annex specifies the formal definition of the Nsmf_PDUSession service. It consists of OpenAPI 3.0.0 specifications, in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository, that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tNsmf_PDUSession API",
            "description": "openapi: 3.0.0\n\ninfo:\nversion: '1.3.0-alpha.6'\ntitle: 'Nsmf_PDUSession'\ndescription: |\nSMF PDU Session Service.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: 3GPP TS 29.502 V18.5.0; 5G System; Session Management Services; Stage 3\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.502/\n\nservers:\n- url: '{apiRoot}/nsmf-pdusession/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: >\napiRoot as defined in clause 4.4 of 3GPP TS 29.501. The sm-contexts and pdu-sessions\nresources can be distributed on different processing instances or hosts. Thus the\nauthority and/or deployment-specific string of the apiRoot of the created individual\nsm context and pdu-session resources' URIs may differ from the authority and/or\ndeployment-specific string of the apiRoot of the sm-contexts and pdu-sessions\ncollections' URIs.\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nsmf-pdusession\n\npaths:\n/sm-contexts:\npost:\nsummary:  Create SM Context\ntags:\n- SM contexts collection\noperationId: PostSmContexts\nrequestBody:\ndescription: representation of the SM context to be created in the SMF\nrequired: true\ncontent:\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateData'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nbinaryDataN2SmInformationExt1:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformationExt1:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\ncallbacks:\nsmContextStatusNotification:\n'{$request.body#/smContextStatusUri}':\npost:\nrequestBody:  # contents of the callback message\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextStatusNotification'\nresponses:\n'204':\ndescription: successful notification\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n\nresponses:\n'201':\ndescription: successful creation of an SM context\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreatedData'\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure:\n{apiRoot}/nsmf-pdusession/<apiVersion>/sm-contexts/{smContextRef}\nrequired: true\nschema:\ntype: string\n\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\ndescription: unsuccessful creation of an SM context - bad request\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'401':\n$ref: '#/components/responses/401'\n'403':\ndescription: unsuccessful creation of an SM context - forbidden\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'404':\ndescription: unsuccessful creation of an SM context - not found\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: '#/components/responses/413'\n'415':\n$ref: '#/components/responses/415'\n'429':\n$ref: '#/components/responses/429'\n'500':\ndescription: unsuccessful creation of an SM context - internal server error\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'502':\n$ref: '#/components/responses/502'\n'503':\ndescription: unsuccessful creation of an SM context - service unavailable\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'504':\ndescription: unsuccessful creation of an SM context - gateway timeout\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n\n/sm-contexts/{smContextRef}/retrieve:\npost:\nsummary:  Retrieve SM Context\ntags:\n- Individual SM context\noperationId: RetrieveSmContext\nparameters:\n- name: smContextRef\nin: path\ndescription:  SM context reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: parameters used to retrieve the SM context\nrequired: false\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextRetrieveData'\nresponses:\n'200':\ndescription: successful retrieval of an SM context\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextRetrievedData'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\n$ref: 'TS29571_CommonData.yaml#/components/responses/504'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/sm-contexts/{smContextRef}/modify:\npost:\nsummary:  Update SM Context\ntags:\n- Individual SM context\noperationId: UpdateSmContext\nparameters:\n- name: smContextRef\nin: path\ndescription:  SM context reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the updates to apply to the SM context\nrequired: true\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateData'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nbinaryDataN2SmInformationExt1:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformationExt1:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'200':\ndescription: successful update of an SM context with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdatedData'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'204':\ndescription: successful update of an SM context without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\ndescription: unsuccessful update of an SM context - bad request\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'401':\n$ref: '#/components/responses/401'\n'403':\ndescription: unsuccessful update of an SM context - forbidden\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'404':\ndescription: unsuccessful update of an SM context - not found\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: '#/components/responses/413'\n'415':\n$ref: '#/components/responses/415'\n'429':\n$ref: '#/components/responses/429'\n'500':\ndescription: unsuccessful update of an SM context - Internal server error\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'502':\n$ref: '#/components/responses/502'\n'503':\ndescription: unsuccessful update of an SM context - Service Unavailable\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/sm-contexts/{smContextRef}/release:\npost:\nsummary:  Release SM Context\ntags:\n- Individual SM context\noperationId: ReleaseSmContext\nparameters:\n- name: smContextRef\nin: path\ndescription:  SM context reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the data to be sent to the SMF when releasing the SM context\nrequired: false\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextReleaseData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextReleaseData'\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n\nresponses:\n'200':\ndescription: successful release of a PDU session with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextReleasedData'\n'204':\ndescription: successful release of an SM context without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/sm-contexts/{smContextRef}/send-mo-data:\npost:\nsummary:  Send MO Data\ntags:\n- Individual SM context\noperationId: SendMoData\nparameters:\n- name: smContextRef\nin: path\ndescription:  SM context reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the content of Send MO Data Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/SendMoDataReqData'\nbinaryMoData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMoData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful sending of MO data\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/400'\n'401':\n$ref: '#/components/responses/401'\n'403':\n$ref: '#/components/responses/403'\n'404':\n$ref: '#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: '#/components/responses/413'\n'415':\n$ref: '#/components/responses/415'\n'429':\n$ref: '#/components/responses/429'\n'500':\n$ref: '#/components/responses/500'\n'502':\n$ref: '#/components/responses/502'\n'503':\n$ref: '#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/pdu-sessions:\npost:\nsummary:  Create\ntags:\n- PDU sessions collection\noperationId: PostPduSessions\nrequestBody:\ndescription: representation of the PDU session to be created in the H-SMF or SMF\nrequired: true\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/PduSessionCreateData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/PduSessionCreateData'\nbinaryDataN1SmInfoFromUe:\ntype: string\nformat: binary\nbinaryDataUnknownN1SmInfo:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoFromUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataUnknownN1SmInfo:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\ncallbacks:\nstatusNotification:\n'{$request.body#/vsmfPduSessionUri}':\npost:\nsummary:  Notify Status\ntags:\n- Individual PDU session (V-SMF)\noperationId: NotifyStatus\nrequestBody:\n$ref: '#/components/requestBodies/NotifyStatusRequestBody'\nresponses:\n'204':\ndescription: successful notificationof the status change\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nstatusNotification-ismf:\n'{$request.body#/ismfPduSessionUri}':\npost:\nsummary:  Notify Status\ntags:\n- Individual PDU session (I-SMF)\noperationId: NotifyStatus-isfm\nrequestBody:\n$ref: '#/components/requestBodies/NotifyStatusRequestBody'\nresponses:\n'204':\ndescription: successful notificationof the status change\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n\nupdate:\n'{$request.body#/vsmfPduSessionUri}/modify':\npost:\nsummary:  Update (initiated by H-SMF)\ntags:\n- Individual PDU session (V-SMF)\noperationId: ModifyPduSession\nrequestBody:\n$ref: '#/components/requestBodies/VsmfUpdateRequestBody'\nresponses:\n'200':\n$ref: '#/components/responses/VsmfUpdateResponse200'\n'204':\ndescription: successful update of a PDU session without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/VsmfUpdateError'\n'403':\n$ref: '#/components/responses/VsmfUpdateError'\n'404':\n$ref: '#/components/responses/VsmfUpdateError'\n'409':\n$ref: '#/components/responses/VsmfUpdateError'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: '#/components/responses/VsmfUpdateError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: '#/components/responses/VsmfUpdateError'\n'504':\n$ref: '#/components/responses/VsmfUpdateError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\nupdate-ismf:\n'{$request.body#/ismfPduSessionUri}/modify':\npost:\nsummary:  Update (initiated by SMF)\ntags:\n- Individual PDU session (I-SMF)\noperationId: ModifyPduSession-ismf\nrequestBody:\n$ref: '#/components/requestBodies/VsmfUpdateRequestBody'\nresponses:\n'200':\n$ref: '#/components/responses/VsmfUpdateResponse200'\n'204':\ndescription: successful update of a PDU session without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/VsmfUpdateError'\n'403':\n$ref: '#/components/responses/VsmfUpdateError'\n'404':\n$ref: '#/components/responses/VsmfUpdateError'\n'409':\n$ref: '#/components/responses/VsmfUpdateError'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: '#/components/responses/VsmfUpdateError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: '#/components/responses/VsmfUpdateError'\n'504':\n$ref: '#/components/responses/VsmfUpdateError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ntransferMtData:\n'{$request.body#/vsmfPduSessionUri}/transfer-mt-data':\npost:\nsummary:  Transfer MT Data (by H-SMF)\ntags:\n- Individual PDU session (V-SMF)\noperationId: TransferMtData\nrequestBody:\ndescription: representation of the content of Transfer MT Data Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/TransferMtDataReqData'\nbinaryMtData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMtData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful transfering of MT data\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\ndescription: unsuccessful delivery of mobile terminated data - gateway timeout\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TransferMtDataError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ntransferMtData-ismf:\n'{$request.body#/ismfPduSessionUri}/transfer-mt-data':\npost:\nsummary:  Transfer MT Data (by SMF)\ntags:\n- Individual PDU session (I-SMF)\noperationId: TransferMtData-ismf\nrequestBody:\ndescription: representation of the content of Transfer MT Data Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/TransferMtDataReqData'\nbinaryMtData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMtData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful transfering of MT data\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\ndescription: unsuccessful delivery of mobile terminated data - gateway timeout\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TransferMtDataError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\nresponses:\n'201':\ndescription: successful creation of a PDU session\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/PduSessionCreatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/PduSessionCreatedData'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure:\n{apiRoot}/nsmf-pdusession/<apiVersion>/pdu-sessions/{pduSessionRef}\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/PduSessionCreateError'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: '#/components/responses/PduSessionCreateError'\n'404':\n$ref: '#/components/responses/PduSessionCreateError'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: '#/components/responses/PduSessionCreateError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: '#/components/responses/PduSessionCreateError'\n'504':\n$ref: '#/components/responses/PduSessionCreateError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/pdu-sessions/{pduSessionRef}/modify:\npost:\nsummary:  Update (initiated by V-SMF or I-SMF)\ntags:\n- Individual PDU session (H-SMF or SMF)\noperationId: UpdatePduSession\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the updates to apply to the PDU session\nrequired: true\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/HsmfUpdateData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/HsmfUpdateData'\nbinaryDataN1SmInfoFromUe:\ntype: string\nformat: binary\nbinaryDataUnknownN1SmInfo:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoFromUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataUnknownN1SmInfo:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'200':\ndescription: successful update of a PDU session with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/HsmfUpdatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/HsmfUpdatedData'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n'204':\ndescription: successful update of a PDU session without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/HsmfUpdateError'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: '#/components/responses/HsmfUpdateError'\n'404':\n$ref: '#/components/responses/HsmfUpdateError'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: '#/components/responses/HsmfUpdateError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: '#/components/responses/HsmfUpdateError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/pdu-sessions/{pduSessionRef}/release:\npost:\nsummary:  Release\ntags:\n- Individual PDU session (H-SMF or SMF)\noperationId: ReleasePduSession\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: data sent to H-SMF or SMF when releasing the PDU session\nrequired: false\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/ReleaseData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/ReleaseData'\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n\nresponses:\n'200':\ndescription: successful release of a PDU session with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/ReleasedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/ReleasedData'\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n'204':\ndescription: successful release of a PDU session\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/pdu-sessions/{pduSessionRef}/retrieve:\npost:\nsummary:  Retrieve\ntags:\n- Individual PDU session (H-SMF or SMF)\noperationId: RetrievePduSession\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the content of the Retrieve Request\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/RetrieveData'\nresponses:\n'200':\ndescription: successful information retrieval\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/RetrievedData'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\n$ref: 'TS29571_CommonData.yaml#/components/responses/504'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\n/pdu-sessions/{pduSessionRef}/transfer-mo-data:\npost:\nsummary:  Transfer MO Data\ntags:\n- Individual PDU session (H-SMF or SMF)\noperationId: TransferMoData\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the content of Transfer MO Data Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/TransferMoDataReqData'\nbinaryMoData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMoData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful transfering of MO data\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnsmf-pdusession: Access to the nsmf-pdusession API\n\nschemas:\n#\n# STRUCTURED DATA TYPES\n#\nSmContextCreateData:\ndescription: Data within Create SM Context Request\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nunauthenticatedSupi:\ntype: boolean\ndefault:  false\nroamingUeInd:\ntype: boolean\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nselectedDnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nhplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltHplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nservingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nserviceName:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nrequestType:\n$ref: '#/components/schemas/RequestType'\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nadditionalAnType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\npresenceInLadn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceState'\nperLadnDnnSnssaiInd:\ntype: boolean\ndefault: false\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nsmContextStatusUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nhSmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nhSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nadditionalHsmfUri:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nminItems: 1\nadditionalHsmfId:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nminItems: 1\nadditionalSmfUri:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nminItems: 1\nadditionalSmfId:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nminItems: 1\noldPduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\npduSessionsActivateList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\nminItems: 1\nueEpsPdnConnection:\n$ref: '#/components/schemas/EpsPdnCnxContainer'\nhoState:\n$ref: '#/components/schemas/HoState'\npcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nnrfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nselMode:\n$ref: '#/components/schemas/DnnSelectionMode'\nbackupAmfInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo'\nminItems: 1\ntraceData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TraceData'\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\nroutingIndicator:\ntype: string\nhNwPubKeyId:\ntype: integer\nepsInterworkingInd:\n$ref: '#/components/schemas/EpsInterworkingIndication'\nindirectForwardingFlag:\ntype: boolean\ndirectForwardingFlag:\ntype: boolean\ntargetId:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/NgRanTargetId'\nepsBearerCtxStatus:\n$ref: '#/components/schemas/EpsBearerContextStatus'\ncpCiotEnabled:\ntype: boolean\ndefault: false\ncpOnlyInd:\ntype: boolean\ndefault: false\ninvokeNef:\ntype: boolean\ndefault: false\nmaRequestInd:\ntype: boolean\ndefault: false\nmaNwUpgradeInd:\ntype: boolean\ndefault: false\nn3gPathSwitchSupportInd:\ntype: boolean\ndefault: false\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nn2SmInfoExt1:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoTypeExt1:\n$ref: '#/components/schemas/N2SmInfoType'\nsmContextRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmContextSmfPlmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nsmContextSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmContextSmfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nsmContextSmfServiceSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId'\nsmContextSmfBinding:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/SbiBindingLevel'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nextendedNasSmTimerInd:\ntype: boolean\ndefault: false\ndlDataWaitingInd:\ntype: boolean\ndefault: false\nddnFailureSubs:\n$ref: '#/components/schemas/DdnFailureSubs'\nsmfTransferInd:\ntype: boolean\ndefault: false\noldSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\noldSmContextRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nwAgfInfo:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/WAgfInfo'\ntngfInfo:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TngfInfo'\ntwifInfo:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TwifInfo'\nranUnchangedInd:\ntype: boolean\nsamePcfSelectionInd:\ntype: boolean\ndefault: false\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nnrfManagementUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnrfDiscoveryUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnrfAccessTokenUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnrfOauth2Required:\ntype: object\ndescription: 'Map indicating whether the NRF requires Oauth2-based authorization for\naccessing its services. The key of the map shall be the name of an NRF service, e.g.\n\"nnrf-nfm\" or \"nnrf-disc\"'\nadditionalProperties:\ntype: boolean\nminProperties: 1\nsmfBindingInfo:\ntype: string\npvsInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ServerAddressingInfo'\nminItems: 1\nonboardingInd:\ntype: boolean\ndefault: false\noldPduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmPolicyNotifyInd:\ntype: boolean\ndefault: false\npcfUeCallbackInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nupipSupported:\ntype: boolean\ndefault: false\ndisasterRoamingInd:\ntype: boolean\ndefault: false\nanchorSmfOauth2Required:\ntype: boolean\nsmContextSmfOauth2Required:\ntype: boolean\ngeoSatelliteId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GeoSatelliteId'\nhrsboAllowedInd:\ntype: boolean\ndefault: false\nestabRejectionInd:\ntype: boolean\nenum:\n- true\nestabRejectionCause:\n$ref: '#/components/schemas/EstablishmentRejectionCause'\nrequired:\n- servingNfId\n- servingNetwork\n- anType\n- smContextStatusUri\n\nSmContextCreatedData:\ndescription: Data within Create SM Context Response\ntype: object\nproperties:\nhSmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nadditionalSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nallocatedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\nhoState:\n$ref: '#/components/schemas/HoState'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nsmfServiceInstanceId:\ntype: string\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nselectedSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nselectedOldSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\n\nSmContextUpdateData:\ndescription: Data within Update SM Context Request\ntype: object\nproperties:\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nservingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nbackupAmfInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo'\nminItems: 1\nnullable: true\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nadditionalAnType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nanTypeToReactivate:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\npresenceInLadn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceState'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nhoState:\n$ref: '#/components/schemas/HoState'\ntoBeSwitched:\ntype: boolean\ndefault: false\nfailedToBeSwitched:\ntype: boolean\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\ntargetId:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/NgRanTargetId'\ntargetServingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmContextStatusUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ndataForwarding:\ntype: boolean\ndefault: false\nn9ForwardingTunnel:\n$ref: '#/components/schemas/TunnelInfo'\nn9DlForwardingTnlList:\ntype: array\nitems:\n$ref: '#/components/schemas/IndirectDataForwardingTunnelInfo'\nminItems: 1\nn9UlForwardingTnlList:\ntype: array\nitems:\n$ref: '#/components/schemas/IndirectDataForwardingTunnelInfo'\nminItems: 1\nn9DlForwardingTunnel:\n$ref: '#/components/schemas/TunnelInfo'\nn9InactivityTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nepsBearerSetup:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerContainer'\nminItems: 0\nrevokeEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nrelease:\ntype: boolean\ndefault: false\ncause:\n$ref: '#/components/schemas/Cause'\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\ntraceData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TraceData'\nepsInterworkingInd:\n$ref: '#/components/schemas/EpsInterworkingIndication'\nanTypeCanBeChanged:\ntype: boolean\ndefault: false\nn2SmInfoExt1:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoTypeExt1:\n$ref: '#/components/schemas/N2SmInfoType'\nmaReleaseInd:\n$ref: '#/components/schemas/MaReleaseIndication'\nmaNwUpgradeInd:\ntype: boolean\ndefault: false\nmaRequestInd:\ntype: boolean\ndefault: false\nn3gPathSwitchExecutionInd:\ntype: boolean\nenum:\n- true\nexemptionInd:\n$ref: '#/components/schemas/ExemptionInd'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nmoExpDataCounter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter'\nextendedNasSmTimerInd:\ntype: boolean\nforwardingFTeid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nforwardingBearerContexts:\ntype: array\nitems:\n$ref: '#/components/schemas/ForwardingBearerContainer'\nminItems: 1\nddnFailureSubs:\n$ref: '#/components/schemas/DdnFailureSubs'\nskipN2PduSessionResRelInd:\ntype: boolean\ndefault: false\nsecondaryRatUsageDataReportContainer:\ntype: array\nitems:\n$ref: '#/components/schemas/SecondaryRatUsageDataReportContainer'\nminItems: 1\nsmPolicyNotifyInd:\ntype: boolean\nenum:\n- true\npcfUeCallbackInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\ncnBasedMt:\ntype: boolean\nenum:\n- true\ngeoSatelliteId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GeoSatelliteId'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltHplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\n\nSmContextUpdatedData:\ndescription: Data within Update SM Context Response\ntype: object\nproperties:\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nhoState:\n$ref: '#/components/schemas/HoState'\nreleaseEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nallocatedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\nmodifiedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nepsBearerSetup:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerContainer'\nminItems: 1\ndataForwarding:\ntype: boolean\nn3DlForwardingTnlList:\ntype: array\nitems:\n$ref: '#/components/schemas/IndirectDataForwardingTunnelInfo'\nminItems: 1\nn3UlForwardingTnlList:\ntype: array\nitems:\n$ref: '#/components/schemas/IndirectDataForwardingTunnelInfo'\nminItems: 1\nn9UlForwardingTunnel:\n$ref: '#/components/schemas/TunnelInfo'\ncause:\n$ref: '#/components/schemas/Cause'\nmaAcceptedInd:\ntype: boolean\ndefault: false\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nforwardingFTeid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nforwardingBearerContexts:\ntype: array\nitems:\n$ref: '#/components/schemas/ForwardingBearerContainer'\nminItems: 1\nselectedSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nselectedOldSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nanchorSmfFeatures:\n$ref: '#/components/schemas/AnchorSmfFeatures'\n\nSmContextReleaseData:\ndescription: Data within Release SM Context Request\ntype: object\nproperties:\ncause:\n$ref: '#/components/schemas/Cause'\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nvsmfReleaseOnly:\ntype: boolean\ndefault: false\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nismfReleaseOnly:\ntype: boolean\ndefault: false\n\nSmContextReleasedData:\ndescription: Data within Release SM Context Response\ntype: object\nproperties:\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\n\nSmContextStatusNotification:\ndescription: Data within Notify SM Context Status Request\ntype: object\nproperties:\nstatusInfo:\n$ref: '#/components/schemas/StatusInfo'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nddnFailureStatus:\ntype: boolean\ndefault: false\nnotifyCorrelationIdsForddnFailure:\ntype: array\nitems:\ntype: string\nminItems: 1\nnewIntermediateSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nnewSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nnewSmfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\noldSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\noldSmContextRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltAnchorSmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltAnchorSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\ntargetDnaiInfo:\n$ref: '#/components/schemas/TargetDnaiInfo'\noldPduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nrequired:\n- statusInfo\n\nPduSessionCreateData:\ndescription: Data within Create Request\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nunauthenticatedSupi:\ntype: boolean\ndefault: false\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nselectedDnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nhplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nvsmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nismfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nrequestType:\n$ref: '#/components/schemas/RequestType'\nepsBearerId:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\npgwS8cFteid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nvsmfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nismfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nvcnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nicnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nn9ForwardingTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nadditionalCnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nadditionalAnType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nn1SmInfoFromUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nunknownN1SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nhPcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nhoPreparationIndication:\ntype: boolean\nselMode:\n$ref: '#/components/schemas/DnnSelectionMode'\nalwaysOnRequested:\ntype: boolean\ndefault: false\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\nroutingIndicator:\ntype: string\nhNwPubKeyId:\ntype: integer\nepsInterworkingInd:\n$ref: '#/components/schemas/EpsInterworkingIndication'\nvSmfServiceInstanceId:\ntype: string\niSmfServiceInstanceId:\ntype: string\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nchargingId:\ntype: string\npattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\nsmfChargingId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmfChargingId'\noldPduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\nepsBearerCtxStatus:\n$ref: '#/components/schemas/EpsBearerContextStatus'\namfNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nmaxIntegrityProtectedDataRateUl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\ncpCiotEnabled:\ntype: boolean\ndefault: false\ncpOnlyInd:\ntype: boolean\ndefault: false\ninvokeNef:\ntype: boolean\ndefault: false\nmaRequestInd:\ntype: boolean\ndefault: false\nmaNwUpgradeInd:\ntype: boolean\ndefault: false\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\npresenceInLadn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceState'\nsecondaryRatUsageInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo'\nminItems: 1\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\ndlServingPlmnRateCtl:\ntype: integer\nminimum: 10\nupSecurityInfo:\n$ref: '#/components/schemas/UpSecurityInfo'\nvplmnQos:\n$ref: '#/components/schemas/VplmnQos'\noldSmContextRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nredundantPduSessionInfo:\n$ref: '#/components/schemas/RedundantPduSessionInformation'\noldPduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmPolicyNotifyInd:\ntype: boolean\ndefault: false\npcfUeCallbackInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nupipSupported:\ntype: boolean\ndefault: false\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\ndisasterRoamingInd:\ntype: boolean\ndefault: false\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromVplmn'\necsAddrConfigInfos:\ntype: array\nitems:\n$ref: 'TS29503_Nudm_PP.yaml#/components/schemas/EcsAddrConfigInfo'\nminItems: 1\npduSetSupportInd:\ntype: boolean\ndefault: false\necnMarkingCongestionInfoStatus:\ntype: array\nitems:\n$ref: '#/components/schemas/EcnMarkingCongestionInfoStatus'\nminItems: 1\nrequired:\n- dnn\n- servingNetwork\n- anType\noneOf:\n- required: [ vsmfId, vsmfPduSessionUri ]\n- required: [ ismfId, ismfPduSessionUri ]\n\nPduSessionCreatedData:\ndescription: Data within Create Response\ntype: object\nproperties:\npduSessionType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionType'\nsscMode:\ntype: string\npattern: '^[0-7]$'\nhcnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\ncnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nadditionalCnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nqosFlowsSetupList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowSetupItem'\nminItems: 1\nhSmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nadditionalSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nenablePauseCharging:\ntype: boolean\ndefault: false\nueIpv4Address:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nueIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\nepsBearerInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerInfo'\nminItems: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nmaxIntegrityProtectedDataRate:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nalwaysOnGranted:\ntype: boolean\ndefault: false\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nupSecurity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UpSecurity'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nhSmfServiceInstanceId:\ntype: string\nsmfServiceInstanceId:\ntype: string\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nipv6MultiHomingInd:\ntype: boolean\ndefault: false\nmaAcceptedInd:\ntype: boolean\ndefault: false\nhomeProvidedChargingId:\ntype: string\npattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\nhomeProvidedSmfChargingId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmfChargingId'\nnefExtBufSupportInd:\ntype: boolean\ndefault: false\nsmallDataRateControlEnabled:\ntype: boolean\ndefault: false\nueIpv6InterfaceId:\ntype: string\npattern: '^[A-Fa-f0-9]{16}$'\nipv6Index:\n$ref: 'TS29519_Policy_Data.yaml#/components/schemas/IpIndex'\ndnAaaAddress:\n$ref: '#/components/schemas/IpAddress'\nredundantPduSessionInfo:\n$ref: '#/components/schemas/RedundantPduSessionInformation'\nnspuSupportInd:\ntype: boolean\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nintraPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromHplmn'\npendingUpdateInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/PendingUpdateInfo'\nminItems: 1\nrequired:\n- pduSessionType\n- sscMode\noneOf:\n- required: [ hSmfInstanceId ]\n- required: [ smfInstanceId ]\n\nHsmfUpdateData:\ndescription: Data within Update Request towards H-SMF, or from I-SMF to SMF\ntype: object\nproperties:\nrequestIndication:\n$ref: '#/components/schemas/RequestIndication'\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nvcnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nicnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nadditionalCnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nadditionalAnType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\npauseCharging:\ntype: boolean\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\nn1SmInfoFromUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nunknownN1SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nqosFlowsRelNotifyList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nqosFlowsVsmfRejectedList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nminItems: 1\nqosFlowsNotifyList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowNotifyItem'\nminItems: 1\nNotifyList:\ntype: array\nitems:\n$ref: '#/components/schemas/PduSessionNotifyItem'\nminItems: 1\n# The attribute name does not follow the naming conventions specified in 3GPP TS 29.501. The attribute name is kept though as defined in the current specification for backward compatibility reason.\nepsBearerId:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 0\nhoPreparationIndication:\ntype: boolean\nrevokeEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\ncause:\n$ref: '#/components/schemas/Cause'\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nalwaysOnRequested:\ntype: boolean\ndefault: false\nepsInterworkingInd:\n$ref: '#/components/schemas/EpsInterworkingIndication'\nsecondaryRatUsageReport:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport'\nminItems: 1\nsecondaryRatUsageInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo'\nminItems: 1\nanTypeCanBeChanged:\ntype: boolean\ndefault: false\nmaReleaseInd:\n$ref: '#/components/schemas/MaReleaseIndication'\nmaNwUpgradeInd:\ntype: boolean\ndefault: false\nmaRequestInd:\ntype: boolean\ndefault: false\nunavailableAccessInd:\n$ref: '#/components/schemas/UnavailableAccessIndication'\npsaInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/PsaInformation'\nminItems: 1\nulclBpInfo:\n$ref: '#/components/schemas/UlclBpInformation'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\npresenceInLadn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceState'\nvsmfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nvsmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nvSmfServiceInstanceId:\ntype: string\nismfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nismfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\niSmfServiceInstanceId:\ntype: string\ndlServingPlmnRateCtl:\ntype: integer\nminimum: 10\nnullable: true\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nmoExpDataCounter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter'\nvplmnQos:\n$ref: '#/components/schemas/VplmnQos'\nsecurityResult:\n$ref: '#/components/schemas/SecurityResult'\nupSecurityInfo:\n$ref: '#/components/schemas/UpSecurityInfo'\namfNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nsecondaryRatUsageDataReportContainer:\ntype: array\nitems:\n$ref: '#/components/schemas/SecondaryRatUsageDataReportContainer'\nminItems: 1\nsmPolicyNotifyInd:\ntype: boolean\nenum:\n- true\npcfUeCallbackInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nmaxIntegrityProtectedDataRateUl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\necsAddrConfigInfos:\ntype: array\nitems:\n$ref: 'TS29503_Nudm_PP.yaml#/components/schemas/EcsAddrConfigInfo'\nminItems: 1\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromVplmn'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\ndisasterRoamingInd:\ntype: boolean\nenum:\n- true\npduSetSupportInd:\ntype: boolean\necnMarkingCongestionInfoStatus:\ntype: array\nitems:\n$ref: '#/components/schemas/EcnMarkingCongestionInfoStatus'\nminItems: 1\nrequired:\n- requestIndication\n\nHsmfUpdatedData:\ndescription: Data within Update Response from H-SMF, or from SMF to I-SMF\ntype: object\nproperties:\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nhomeProvidedChargingId:\ntype: string\npattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\nhomeProvidedSmfChargingId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmfChargingId'\nupSecurity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UpSecurity'\nmaxIntegrityProtectedDataRateUl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nipv6MultiHomingInd:\ntype: boolean\ndefault: false\nqosFlowsSetupList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowSetupItem'\nminItems: 1\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\nepsBearerInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerInfo'\nminItems: 1\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nintraPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromHplmn'\n\nReleaseData:\ndescription: Data within Release Request\ntype: object\nproperties:\ncause:\n$ref: '#/components/schemas/Cause'\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nsecondaryRatUsageReport:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport'\nminItems: 1\nsecondaryRatUsageInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo'\nminItems: 1\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\n\nReleasedData:\ndescription: Data within Release Response\ntype: object\nproperties:\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\n\nVsmfUpdateData:\ndescription: Data within Update Request towards V-SMF, or from SMF to I-SMF\ntype: object\nproperties:\nrequestIndication:\n$ref: '#/components/schemas/RequestIndication'\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nqosFlowsAddModRequestList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowAddModifyRequestItem'\nminItems: 1\nqosFlowsRelRequestList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowReleaseRequestItem'\nminItems: 1\nepsBearerInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerInfo'\nminItems: 1\nassignEbiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nminItems: 1\nrevokeEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nmodifiedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nalwaysOnGranted:\ntype: boolean\ndefault: false\nhsmfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnewSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nnewSmfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\ncause:\n$ref: '#/components/schemas/Cause'\nn1smCause:\ntype: string\nbackOffTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nmaReleaseInd:\n$ref: '#/components/schemas/MaReleaseIndication'\nmaAcceptedInd:\ntype: boolean\ndefault: false\nadditionalCnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt3:\n$ref: '#/components/schemas/N4Information'\nsmallDataRateControlEnabled:\ntype: boolean\nqosMonitoringInfo:\n$ref: '#/components/schemas/QosMonitoringInfo'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\nn9DataForwardingInd:\ntype: boolean\ndefault: false\nn9InactivityTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromHplmn'\naltHplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\npduSessionRetainInd:\ntype: boolean\nenum:\n- true\npendingUpdateInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/PendingUpdateInfo'\nrequired:\n- requestIndication\n\nVsmfUpdatedData:\ndescription: Data within Update Response from V-SMF, or from I-SMF to SMF\ntype: object\nproperties:\nqosFlowsAddModList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nqosFlowsRelList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nqosFlowsFailedtoAddModList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nqosFlowsVsmfRejectedAddModList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nminItems: 1\nqosFlowsFailedtoRelList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nn1SmInfoFromUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nunknownN1SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nassignedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\nfailedToAssignEbiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nminItems: 1\nreleasedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nsecondaryRatUsageReport:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport'\nminItems: 1\nsecondaryRatUsageInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo'\nminItems: 1\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt3:\n$ref: '#/components/schemas/N4Information'\nmodifiedEbiListNotDelivered:\ntype: boolean\necnMarkingCongestionInfoStatus:\ntype: array\nitems:\n$ref: '#/components/schemas/EcnMarkingCongestionInfoStatus'\nminItems: 1\n\nStatusNotification:\ndescription: Data within Notify Status Request\ntype: object\nproperties:\nstatusInfo :\n$ref: '#/components/schemas/StatusInfo'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\ntargetDnaiInfo:\n$ref: '#/components/schemas/TargetDnaiInfo'\noldPduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnewSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nintraPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nrequired:\n- statusInfo\n\nQosFlowItem:\ndescription: Individual QoS flow\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\ncause:\n$ref: '#/components/schemas/Cause'\ncurrentQosProfileIndex:\ntype: integer\nminimum: 1\nmaximum: 8\nnullQoSProfileIndex:\ntype: boolean\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\nrequired:\n- qfi\n\nQosFlowSetupItem:\ndescription: Individual QoS flow to setup\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nqosRules:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nebi:\n$ref: '#/components/schemas/EpsBearerId'\nqosFlowDescription:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nqosFlowProfile:\n$ref: '#/components/schemas/QosFlowProfile'\nassociatedAnType:\n$ref: '#/components/schemas/QosFlowAccessType'\ndefaultQosRuleInd:\ntype: boolean\necnMarkingCongestInfoReq:\n$ref: '#/components/schemas/EcnMarkingCongestInfoReq'\nrequired:\n- qfi\n- qosRules\n\nQosFlowAddModifyRequestItem:\ndescription: Individual QoS flow requested to be created or modified\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nebi:\n$ref: '#/components/schemas/EpsBearerId'\nqosRules:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nqosFlowDescription:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nqosFlowProfile:\n$ref: '#/components/schemas/QosFlowProfile'\nassociatedAnType:\n$ref: '#/components/schemas/QosFlowAccessType'\necnMarkingCongestInfoReq:\n$ref: '#/components/schemas/EcnMarkingCongestInfoReq'\ntscaiUl:\n$ref: '#/components/schemas/TscAssistanceInformation'\ntscaiDl:\n$ref: '#/components/schemas/TscAssistanceInformation'\nrequired:\n- qfi\n\nQosFlowReleaseRequestItem:\ndescription: Individual QoS flow requested to be released\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nqosRules:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nqosFlowDescription:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nrequired:\n- qfi\n\nQosFlowProfile:\ndescription: QoS flow profile\ntype: object\nproperties:\n5qi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5Qi'\nnonDynamic5Qi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NonDynamic5Qi'\ndynamic5Qi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dynamic5Qi'\narp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\ngbrQosFlowInfo:\n$ref: '#/components/schemas/GbrQosFlowInformation'\nrqa:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ReflectiveQoSAttribute'\nadditionalQosFlowInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AdditionalQosFlowInfo'\nqosMonitoringReq:\n$ref: '#/components/schemas/QosMonitoringReq'\nqosRepPeriod:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\npduSetQosPara:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSetQosPara'\nrequired:\n- 5qi\n\nGbrQosFlowInformation:\ndescription: GBR QoS flow information\ntype: object\nproperties:\nmaxFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nmaxFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nnotifControl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NotificationControl'\nmaxPacketLossRateDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketLossRate'\nmaxPacketLossRateUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketLossRate'\nalternativeQosProfileList:\ntype: array\nitems:\n$ref: '#/components/schemas/AlternativeQosProfile'\nrequired:\n- maxFbrDl\n- maxFbrUl\n- guaFbrDl\n- guaFbrUl\n\nQosFlowNotifyItem:\ndescription: Notification related to a QoS flow\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nnotificationCause:\n$ref: '#/components/schemas/NotificationCause'\ncurrentQosProfileIndex:\ntype: integer\nminimum: 1\nmaximum: 8\nnullQoSProfileIndex:\ntype: boolean\nrequired:\n- qfi\n- notificationCause\n\n\nSmContextRetrieveData:\ndescription: Data within Retrieve SM Context Request\ntype: object\nproperties:\ntargetMmeCap:\n$ref: '#/components/schemas/MmeCapabilities'\nsmContextType:\n$ref: '#/components/schemas/SmContextType'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnId'\nnotToTransferEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nranUnchangedInd:\ntype: boolean\ndefault: false\nhrsboSupportInd:\ntype: boolean\ndefault: false\nstoredOffloadIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/OffloadIdentifier'\nminItems: 1\n\nSmContextRetrievedData:\ndescription: Data within Retrieve SM Context Response\ntype: object\nproperties:\nueEpsPdnConnection:\n$ref: '#/components/schemas/EpsPdnCnxContainer'\nsmContext:\n$ref: '#/components/schemas/SmContext'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\ndlDataWaitingInd:\ntype: boolean\ndefault: false\nafCoordinationInfo:\n$ref: '#/components/schemas/AfCoordinationInfo'\nrequired:\n- ueEpsPdnConnection\n\nMmeCapabilities:\ndescription: MME capabilities\ntype: object\nproperties:\nnonIpSupported:\ntype: boolean\ndefault: false\nethernetSupported:\ntype: boolean\ndefault: false\nupipSupported:\ntype: boolean\ndefault: false\n\nTunnelInfo:\ndescription: Tunnel Information\ntype: object\nproperties:\nipv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nipv6Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\ngtpTeid:\n$ref: '#/components/schemas/Teid'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nrequired:\n- gtpTeid\n\nStatusInfo:\ndescription: Status of SM context or of PDU session\ntype: object\nproperties:\nresourceStatus:\n$ref: '#/components/schemas/ResourceStatus'\ncause:\n$ref: '#/components/schemas/Cause'\nremoteError:\ntype: boolean\ncnAssistedRanPara:\n$ref: '#/components/schemas/CnAssistedRanPara'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nrequired:\n- resourceStatus\n\n\nEpsPdnCnxInfo:\ndescription: EPS PDN Connection Information from H-SMF to V-SMF, or from SMF to I-SMF\ntype: object\nproperties:\npgwS8cFteid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\npgwNodeName:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\npgwChangeInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nlinkedBearerId:\n$ref: '#/components/schemas/EpsBearerId'\nrequired:\n- pgwS8cFteid\n\nEpsBearerInfo:\ndescription: EPS Bearer Information from H-SMF to V-SMF, or from SMF to I-SMF\ntype: object\nproperties:\nebi:\n$ref: '#/components/schemas/EpsBearerId'\npgwS8uFteid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nbearerLevelQoS:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nrequired:\n- ebi\n- pgwS8uFteid\n- bearerLevelQoS\n\nPduSessionNotifyItem:\ndescription: Notification related to a PDU session\ntype: object\nproperties:\nnotificationCause:\n$ref: '#/components/schemas/NotificationCause'\nrequired:\n- notificationCause\n\nEbiArpMapping:\ndescription: EBI to ARP mapping\ntype: object\nproperties:\nepsBearerId:\n$ref: '#/components/schemas/EpsBearerId'\narp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nrequired:\n- epsBearerId\n- arp\n\nSmContextCreateError:\ndescription: Error within Create SM Context Response\ntype: object\nproperties:\nerror:\n$ref: '#/components/schemas/ExtProblemDetails'\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- error\n\nSmContextUpdateError:\ndescription: Error within Update SM Context Response\ntype: object\nproperties:\nerror:\n$ref: '#/components/schemas/ExtProblemDetails'\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- error\n\nPduSessionCreateError:\ndescription: Error within Create Response\ntype: object\nproperties:\nerror:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nn1smCause:\ntype: string\npattern: '^[A-F0-9]{2}$'\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nbackOffTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- error\n\nHsmfUpdateError:\ndescription: Error within Update Response from H-SMF, or from SMF to I-SMF\ntype: object\nproperties:\nerror:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\nn1smCause:\ntype: string\npattern: '^[A-F0-9]{2}$'\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nbackOffTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- error\n\nVsmfUpdateError:\ndescription: Error within Update Response from V-SMF, or from I-SMF to SMF\ntype: object\nproperties:\nerror:\n$ref: '#/components/schemas/ExtProblemDetails'\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\nn1smCause:\ntype: string\npattern: '^[A-F0-9]{2}$'\nn1SmInfoFromUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nunknownN1SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nfailedToAssignEbiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nminItems: 1\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt3:\n$ref: '#/components/schemas/N4Information'\nretryAfter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nrequired:\n- error\n\nSmContext:\ndescription: Complete SM Context\ntype: object\nproperties:\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nselectedDnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nhplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\npduSessionType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionType'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nhSmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\npduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nintraPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\npcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nselMode:\n$ref: '#/components/schemas/DnnSelectionMode'\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\nroutingIndicator:\ntype: string\nhNwPubKeyId:\ntype: integer\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nqosFlowsList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowSetupItem'\nminItems: 1\nhSmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npduSessionSmfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\npduSessionSmfServiceSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId'\npduSessionSmfBinding:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/SbiBindingLevel'\nenablePauseCharging:\ntype: boolean\ndefault: false\nueIpv4Address:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nueIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\nepsBearerInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerInfo'\nminItems: 1\nmaxIntegrityProtectedDataRate:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nalwaysOnGranted:\ntype: boolean\ndefault: false\nupSecurity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UpSecurity'\nhSmfServiceInstanceId:\ntype: string\nsmfServiceInstanceId:\ntype: string\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nforwardingInd:\ntype: boolean\ndefault: false\npsaTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nchargingId:\ntype: string\npattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\nsmfChargingId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmfChargingId'\nchargingInfo:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/ChargingInformation'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nnefExtBufSupportInd:\ntype: boolean\ndefault: false\nipv6Index:\n$ref: 'TS29519_Policy_Data.yaml#/components/schemas/IpIndex'\ndnAaaAddress:\n$ref: '#/components/schemas/IpAddress'\nredundantPduSessionInfo:\n$ref: '#/components/schemas/RedundantPduSessionInformation'\nranTunnelInfo:\n$ref: '#/components/schemas/QosFlowTunnel'\naddRanTunnelInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowTunnel'\nminItems: 1\nredRanTunnelInfo:\n$ref: '#/components/schemas/QosFlowTunnel'\naddRedRanTunnelInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowTunnel'\nminItems: 1\nnspuSupportInd:\ntype: boolean\nsmfBindingInfo:\ntype: string\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nsscMode:\ntype: string\npattern: '^[0-7]$'\ndlsetSupportInd:\ntype: boolean\nn9fscSupportInd:\ntype: boolean\nanchorSmfOauth2Required:\ntype: boolean\nfullDnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nhrsboAuthReqInd:\ntype: boolean\nhDnsAddr:\n$ref: '#/components/schemas/IpAddress'\nhPlmnAddr:\n$ref: '#/components/schemas/IpAddress'\nvplmnOffloadingInfoList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/VplmnOffloadingInfo'\nminItems: 1\noffloadIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/OffloadIdentifier'\nminItems: 1\neasIpReplacementInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/EasIpReplacementInfo'\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\npendingUpdateInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/PendingUpdateInfo'\nminItems: 1\neasInfoToRefresh:\n$ref: '#/components/schemas/EasInfoToRefresh'\npduSetSupportInd:\ntype: boolean\nrequired:\n- pduSessionId\n- dnn\n- sNssai\n- pduSessionType\n- sessionAmbr\n- qosFlowsList\n\nExemptionInd:\ndescription: Exemption Indication\ntype: object\nproperties:\ndnnCongestion:\ntype: boolean\ndefault: false\nsnssaiOnlyCongestion:\ntype: boolean\ndefault: false\nsnssaiDnnCongestion:\ntype: boolean\ndefault: false\n\nPsaInformation:\ndescription: PSA Information\ntype: object\nproperties:\npsaInd:\n$ref: '#/components/schemas/PsaIndication'\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nueIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\npsaUpfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\n\nDnaiInformation:\ndescription: DNAI Information\ntype: object\nproperties:\ndnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nnoDnaiChangeInd:\ntype: boolean\nnoLocalPsaChangeInd:\ntype: boolean\nrequired:\n- dnai\n\nN4Information:\ndescription: N4 Information\ntype: object\nproperties:\nn4MessageType:\n$ref: '#/components/schemas/N4MessageType'\nn4MessagePayload:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn4DnaiInfo:\n$ref: '#/components/schemas/DnaiInformation'\npsaUpfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nulClBpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nn9UlPdrIdList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint16'\nminItems: 1\nrequired:\n- n4MessageType\n- n4MessagePayload\n\nIndirectDataForwardingTunnelInfo:\ndescription: Indirect Data Forwarding Tunnel Information\ntype: object\nproperties:\nipv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nipv6Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\ngtpTeid:\n$ref: '#/components/schemas/Teid'\ndrbId:\n$ref: '#/components/schemas/DrbId'\nadditionalTnlNb:\n$ref: '#/components/schemas/AdditionalTnlNb'\nrequired:\n- gtpTeid\nnot:\nrequired: [ drbId, additionalTnlNb ]\n\nSendMoDataReqData:\ndescription: Data within Send MO Data Request\ntype: object\nproperties:\nmoData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nmoExpDataCounter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nrequired:\n- moData\n\nCnAssistedRanPara:\ndescription: SMF derived CN assisted RAN parameters tuning\ntype: object\nproperties:\nstationaryIndication:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/StationaryIndication'\ncommunicationDurationTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nperiodicTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nscheduledCommunicationTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ScheduledCommunicationTime'\nscheduledCommunicationType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ScheduledCommunicationType'\ntrafficProfile:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TrafficProfile'\nbatteryIndication:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BatteryIndication'\n\nUlclBpInformation:\ndescription: UL CL or BP Information\ntype: object\nproperties:\nulclBpUpfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\n\nTransferMoDataReqData:\ndescription: Data within Transfer MO Data Request\ntype: object\nproperties:\nmoData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nmoExpDataCounter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nrequired:\n- moData\n\nTransferMtDataReqData:\ndescription: Data within Transfer MT Data Request\ntype: object\nproperties:\nmtData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nrequired:\n- mtData\n\nTransferMtDataError:\ndescription: Transfer MT Data Error Response\nallOf:\n- $ref: '#/components/schemas/ExtProblemDetails'\n- $ref: '#/components/schemas/TransferMtDataAddInfo'\n\nTransferMtDataAddInfo:\ndescription: Transfer MT Data Error Response Additional Information\ntype: object\nproperties:\nmaxWaitingTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\n\nVplmnQos:\ndescription: VPLMN QoS\ntype: object\nproperties:\n5qi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5Qi'\narp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nmaxFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nmaxFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\n5qiPL:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5QiPriorityLevel'\n\nDdnFailureSubs:\ndescription: DDN Failure Subscription\ntype: object\nproperties:\nddnFailureSubsInd:\ntype: boolean\ndefault: false\nddnFailureSubsInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/DdnFailureSubInfo'\nminItems: 1\n\nDdnFailureSubInfo:\ndescription: DDN Failure Subscription Information\ntype: object\nrequired:\n- notifyCorrelationId\nproperties:\nnotifyCorrelationId:\ntype: string\ndddTrafficDescriptorList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DddTrafficDescriptor'\nminItems: 1\n\nRetrieveData:\ndescription: Data within Retrieve Request\ntype: object\nproperties:\nsmallDataRateStatusReq:\ntype: boolean\ndefault: false\npduSessionContextType:\n$ref: '#/components/schemas/PduSessionContextType'\n\nRetrievedData:\ndescription: Data within Retrieve Response\ntype: object\nproperties:\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\nafCoordinationInfo:\n$ref: '#/components/schemas/AfCoordinationInfo'\n\nSecurityResult:\ndescription: Security Result\ntype: object\nproperties:\nintegrityProtectionResult:\n$ref: '#/components/schemas/ProtectionResult'\nconfidentialityProtectionResult:\n$ref: '#/components/schemas/ProtectionResult'\n\nUpSecurityInfo:\ndescription: User Plane Security Information\ntype: object\nproperties:\nupSecurity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UpSecurity'\nmaxIntegrityProtectedDataRateUl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nsecurityResult:\n$ref: '#/components/schemas/SecurityResult'\nrequired:\n- upSecurity\n\nAlternativeQosProfile:\ndescription: Alternative QoS Profile\ntype: object\nproperties:\nindex:\ntype: integer\nminimum: 1\nmaximum: 8\nguaFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\npacketDelayBudget:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketDelBudget'\npacketErrRate:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketErrRate'\nmaxDataBurstVol:\ntype: integer\nminimum: 1\nmaximum: 2000000\nrequired:\n- index\n\nExtProblemDetails:\ndescription: Extended Problem Details\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\n- $ref: '#/components/schemas/ProblemDetailsAddInfo'\n\nProblemDetailsAddInfo:\ndescription: Problem Details Additional Information\ntype: object\nproperties:\nremoteError:\ntype: boolean\n\nQosMonitoringInfo:\ndescription: QoS Monitoring Information\ntype: object\nproperties:\nqosMonitoringInd:\ntype: boolean\ndefault: false\n\nIpAddress:\ndescription: IP Address\ntype: object\noneOf:\n- required:\n- ipv4Addr\n- required:\n- ipv6Addr\n- required:\n- ipv6Prefix\nproperties:\nipv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nipv6Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nipv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\n\nRedundantPduSessionInformation:\ndescription: Redundant PDU Session Information\ntype: object\nproperties:\nrsn:\n$ref: '#/components/schemas/Rsn'\npduSessionPairId:\ntype: integer\nminimum: 0\nmaximum: 255\nrequired:\n- rsn\n\nQosFlowTunnel:\ndescription: Tunnel Information per QoS Flow\ntype: object\nproperties:\nqfiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nminItems: 1\ntunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nrequired:\n- qfiList\n- tunnelInfo\n\nTargetDnaiInfo:\ndescription: Target DNAI Information\ntype: object\nproperties:\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nsmfSelectionType:\n$ref: '#/components/schemas/SmfSelectionType'\nrequired:\n- smfSelectionType\n\nAfCoordinationInfo:\ndescription: AF Coordination Information\ntype: object\nproperties:\nsourceDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nsourceUeIpv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nsourceUeIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nnotificationInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/NotificationInfo'\nminItems: 1\n\nNotificationInfo:\ndescription: >\nNotification Correlation ID and Notification URI provided by the NF service consumer\ntype: object\nproperties:\nnotifId:\ntype: string\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nupBufferInd:\ntype: boolean\ndefault: false\nrequired:\n- notifId\n- notifUri\n\nAnchorSmfFeatures:\ndescription: Anchor SMF supported features\ntype: object\nproperties:\npsetrSupportInd:\ntype: boolean\n\nHrsboInfoFromVplmn:\ndescription: HR-SBO Information in request message\ntype: object\nproperties:\nhrsboAuthReqInd:\ntype: boolean\nenum:\n- true\nvEasdfAddr:\n$ref: '#/components/schemas/IpAddress'\nlocalDnsAddr:\n$ref: '#/components/schemas/IpAddress'\neasRediscoveryInd:\ntype: boolean\nenum:\n- true\neasInfoToRefresh:\n$ref: '#/components/schemas/EasInfoToRefresh'\nstoredOffloadIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/OffloadIdentifier'\nminItems: 1\n\nHrsboInfoFromHplmn:\ndescription: HR-SBO Information in response message\ntype: object\nproperties:\nhrsboAuthResult:\ntype: boolean\nhDnsAddr:\n$ref: '#/components/schemas/IpAddress'\nhPlmnAddr:\n$ref: '#/components/schemas/IpAddress'\nvplmnOffloadingInfoList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/VplmnOffloadingInfo'\noffloadIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/OffloadIdentifier'\ninternalGroupIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nminItems: 1\neasIpReplacementInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/EasIpReplacementInfo'\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\n\nEasInfoToRefresh:\ndescription: EAS information to be refreshed for EAS re-discovery\ntype: object\nproperties:\nipv4AddressRanges:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4AddressRange'\nminItems: 1\nipv6AddressRanges:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6AddressRange'\nminItems: 1\nfqdnList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nminItems: 1\n\nEcnMarkingCongestInfoReq:\ndescription: ECN Marking or Congestion Information Request\ntype: object\nproperties:\necnMarkingReq:\n$ref: '#/components/schemas/EcnMarkingReq'\ncongestionInfoReq:\n$ref: '#/components/schemas/CongestionInfoReq'\noneOf:\n- required: [ ecnMarkingReq ]\n- required: [ congestionInfoReq ]\n\nEcnMarkingCongestionInfoStatus:\ndescription: ECN Marking or Congestion Information Status\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nactivationStatus:\n$ref: '#/components/schemas/ActivationStatus'\nrequired:\n- qfi\n- activationStatus\n\nTscAssistanceInformation:\ndescription: TSC Assistance Information\ntype: object\nproperties:\nperiodicity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint32'\nn6JitterInformation:\n$ref: '#/components/schemas/N6JitterInformation'\n\nN6JitterInformation:\ndescription: Jitter information associated with the Periodicity in downlink\ntype: object\nproperties:\nlowerJitterInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Int32'\nhigherJitterInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Int32'\n\n#\n# SIMPLE DATA TYPES\n#\nProcedureTransactionId:\ndescription: Procedure Transaction Identifier\ntype: integer\nminimum: 0\nmaximum: 255\n\nEpsBearerId:\ndescription: EPS Bearer Identifier\ntype: integer\nminimum: 0\nmaximum: 15\n\nEpsPdnCnxContainer:\ndescription: UE EPS PDN Connection container from SMF to AMF\ntype: string\nformat: byte\n\nEpsBearerContainer:\ndescription: EPS Bearer container from SMF to AMF\ntype: string\nformat: byte\n\nTeid:\ntype: string\ndescription: GTP Tunnel Endpoint Identifier\npattern: '^[A-Fa-f0-9]{8}$'\n\nEpsBearerContextStatus:\ndescription: EPS bearer context status\ntype: string\npattern: '^[A-Fa-f0-9]{4}$'\n\nDrbId:\ndescription: Data Radio Bearer Identity\ntype: integer\nminimum: 1\nmaximum: 32\n\nAdditionalTnlNb:\ndescription: indicates first, second or third additional indirect data forwarding tunnel\ntype: integer\nminimum: 1\nmaximum: 3\n\nForwardingBearerContainer:\ndescription: Forwarding Bearer Container\ntype: string\nformat: byte\n\nSecondaryRatUsageDataReportContainer:\ndescription: Secondary Rat Usage Data Report Container\ntype: string\nformat: byte\n\n#\n# ENUMERATIONS\n#\nUpCnxState:\nanyOf:\n- type: string\nenum:\n- ACTIVATED\n- DEACTIVATED\n- ACTIVATING\n- SUSPENDED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nUser Plane Connection State. Possible values are\n- ACTIVATED\n- DEACTIVATED\n- ACTIVATING\n- SUSPENDED\n\nHoState:\nanyOf:\n- type: string\nenum:\n- NONE\n- PREPARING\n- PREPARED\n- COMPLETED\n- CANCELLED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nHandover state. Possible values are\n- NONE\n- PREPARING\n- PREPARED\n- COMPLETED\n- CANCELLED\n\nRequestType:\nanyOf:\n- type: string\nenum:\n- INITIAL_REQUEST\n- EXISTING_PDU_SESSION\n- INITIAL_EMERGENCY_REQUEST\n- EXISTING_EMERGENCY_PDU_SESSION\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRequest Type in Create (SM context) service operation. Possible values are\n- INITIAL_REQUEST\n- EXISTING_PDU_SESSION\n- INITIAL_EMERGENCY_REQUEST\n- EXISTING_EMERGENCY_PDU_SESSION\n\nRequestIndication:\nanyOf:\n- type: string\nenum:\n- UE_REQ_PDU_SES_MOD\n- UE_REQ_PDU_SES_REL\n- PDU_SES_MOB\n- NW_REQ_PDU_SES_AUTH\n- NW_REQ_PDU_SES_MOD\n- NW_REQ_PDU_SES_REL\n- EBI_ASSIGNMENT_REQ\n- REL_DUE_TO_5G_AN_REQUEST\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRequest Indication in Update (SM context) service operation. Possible values are\n- UE_REQ_PDU_SES_MOD\n- UE_REQ_PDU_SES_REL\n- PDU_SES_MOB\n- NW_REQ_PDU_SES_AUTH\n- NW_REQ_PDU_SES_MOD\n- NW_REQ_PDU_SES_REL\n- EBI_ASSIGNMENT_REQ\n- REL_DUE_TO_5G_AN_REQUEST\n\nNotificationCause:\nanyOf:\n- type: string\nenum:\n- QOS_FULFILLED\n- QOS_NOT_FULFILLED\n- UP_SEC_FULFILLED\n- UP_SEC_NOT_FULFILLED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nCause for generating a notification. Possible values are\n- QOS_FULFILLED\n- QOS_NOT_FULFILLED\n- UP_SEC_FULFILLED\n- UP_SEC_NOT_FULFILLED\n\nCause:\nanyOf:\n- type: string\nenum:\n- REL_DUE_TO_HO\n- EPS_FALLBACK\n- REL_DUE_TO_UP_SEC\n- DNN_CONGESTION\n- S_NSSAI_CONGESTION\n- REL_DUE_TO_REACTIVATION\n- 5G_AN_NOT_RESPONDING\n- REL_DUE_TO_SLICE_NOT_AVAILABLE\n- REL_DUE_TO_DUPLICATE_SESSION_ID\n- PDU_SESSION_STATUS_MISMATCH\n- HO_FAILURE\n- INSUFFICIENT_UP_RESOURCES\n- PDU_SESSION_HANDED_OVER\n- PDU_SESSION_RESUMED\n- CN_ASSISTED_RAN_PARAMETER_TUNING\n- ISMF_CONTEXT_TRANSFER\n- SMF_CONTEXT_TRANSFER\n- REL_DUE_TO_PS_TO_CS_HO\n- REL_DUE_TO_SUBSCRIPTION_CHANGE\n- HO_CANCEL\n- REL_DUE_TO_SLICE_NOT_AUTHORIZED\n- PDU_SESSION_HAND_OVER_FAILURE\n- DDN_FAILURE_STATUS\n- REL_DUE_TO_CP_ONLY_NOT_APPLICABLE\n- NOT_SUPPORTED_WITH_ISMF\n- CHANGED_ANCHOR_SMF\n- CHANGED_INTERMEDIATE_SMF\n- TARGET_DNAI_NOTIFICATION\n- REL_DUE_TO_VPLMN_QOS_FAILURE\n- REL_DUE_TO_SMF_NOT_SUPPORT_PSETR\n- REL_DUE_TO_SNPN_SNPN_MOBILITY\n- REL_DUE_TO_NO_HR_AGREEMENT\n- REL_DUE_TO_UNSPECIFIED_REASON\n- REL_DUE_TO_MOB_ACCESS_RESTRICTIONS\n- REL_DUE_TO_SLICE_INACTIVITY\n- REL_DUE_TO_NSI_NOT_AVAILABLE\n- REL_DUE_TO_DNN_DENIED\n- REL_DUE_TO_PDUTYPE_DENIED\n- REL_DUE_TO_SSC_DENIED\n- REL_DUE_TO_SUBSCRIPTION_DENIED\n- REL_DUE_TO_DNN_NOT_SUPPORTED\n- REL_DUE_TO_PDUTYPE_NOT_SUPPORTED\n- REL_DUE_TO_SSC_NOT_SUPPORTED\n- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE\n- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE_DNN\n- REL_DUE_TO_DNN_CONGESTION\n- REL_DUE_TO_S_NSSAI_CONGESTION\n- REL_DUE_TO_PEER_NOT_RESPONDING\n- REL_DUE_TO_NETWORK_FAILURE\n- REL_DUE_TO_UPF_NOT_RESPONDING\n- REL_DUE_TO_NO_EPS_5GS_CONTINUITY\n- REL_DUE_TO_NOT_SUPPORTED_WITH_ISMF\n- REL_DUE_TO_EXCEEDED_UE_SLICE_DATA_RATE\n- REL_DUE_TO_EXCEEDED_SLICE_DATA_RATE\n- REL_DUE_TO_CONTEXT_NOT_FOUND\n- REL_DUE_TO_MBSR_NOT_AUTHORIZED\n- DEACT_DUE_TO_UE_OUT_OF_SLICE_SUPPORT_AREA\n- REJECT_DUE_TO_N1_SM_ERROR\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nCause information. Possible values are\n- REL_DUE_TO_HO\n- EPS_FALLBACK\n- REL_DUE_TO_UP_SEC\n- DNN_CONGESTION\n- S_NSSAI_CONGESTION\n- REL_DUE_TO_REACTIVATION\n- 5G_AN_NOT_RESPONDING\n- REL_DUE_TO_SLICE_NOT_AVAILABLE\n- REL_DUE_TO_DUPLICATE_SESSION_ID\n- PDU_SESSION_STATUS_MISMATCH\n- HO_FAILURE\n- INSUFFICIENT_UP_RESOURCES\n- PDU_SESSION_HANDED_OVER\n- PDU_SESSION_RESUMED\n- CN_ASSISTED_RAN_PARAMETER_TUNING\n- ISMF_CONTEXT_TRANSFER\n- SMF_CONTEXT_TRANSFER\n- REL_DUE_TO_PS_TO_CS_HO\n- REL_DUE_TO_SUBSCRIPTION_CHANGE\n- HO_CANCEL\n- REL_DUE_TO_SLICE_NOT_AUTHORIZED\n- PDU_SESSION_HAND_OVER_FAILURE\n- DDN_FAILURE_STATUS\n- REL_DUE_TO_CP_ONLY_NOT_APPLICABLE\n- NOT_SUPPORTED_WITH_ISMF\n- CHANGED_ANCHOR_SMF\n- CHANGED_INTERMEDIATE_SMF\n- TARGET_DNAI_NOTIFICATION\n- REL_DUE_TO_VPLMN_QOS_FAILURE\n- REL_DUE_TO_SMF_NOT_SUPPORT_PSETR\n- REL_DUE_TO_SNPN_SNPN_MOBILITY\n- REL_DUE_TO_NO_HR_AGREEMENT\n- REL_DUE_TO_UNSPECIFIED_REASON\n- REL_DUE_TO_MOB_ACCESS_RESTRICTIONS\n- REL_DUE_TO_SLICE_INACTIVITY\n- REL_DUE_TO_NSI_NOT_AVAILABLE\n- REL_DUE_TO_DNN_DENIED\n- REL_DUE_TO_PDUTYPE_DENIED\n- REL_DUE_TO_SSC_DENIED\n- REL_DUE_TO_SUBSCRIPTION_DENIED\n- REL_DUE_TO_DNN_NOT_SUPPORTED\n- REL_DUE_TO_PDUTYPE_NOT_SUPPORTED\n- REL_DUE_TO_SSC_NOT_SUPPORTED\n- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE\n- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE_DNN\n- REL_DUE_TO_DNN_CONGESTION\n- REL_DUE_TO_S_NSSAI_CONGESTION\n- REL_DUE_TO_PEER_NOT_RESPONDING\n- REL_DUE_TO_NETWORK_FAILURE\n- REL_DUE_TO_UPF_NOT_RESPONDING\n- REL_DUE_TO_NO_EPS_5GS_CONTINUITY\n- REL_DUE_TO_NOT_SUPPORTED_WITH_ISMF\n- REL_DUE_TO_EXCEEDED_UE_SLICE_DATA_RATE\n- REL_DUE_TO_EXCEEDED_SLICE_DATA_RATE\n- REL_DUE_TO_CONTEXT_NOT_FOUND\n- REL_DUE_TO_MBSR_NOT_AUTHORIZED\n- DEACT_DUE_TO_UE_OUT_OF_SLICE_SUPPORT_AREA\n- REJECT_DUE_TO_N1_SM_ERROR\n\nResourceStatus:\nanyOf:\n- type: string\nenum:\n- RELEASED\n- UNCHANGED\n- TRANSFERRED\n- UPDATED\n- ALT_ANCHOR_SMF\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nStatus of SM context or PDU session resource. Possible values are\n- RELEASED\n- UNCHANGED\n- TRANSFERRED\n- UPDATED\n- ALT_ANCHOR_SMF\n\nDnnSelectionMode:\nanyOf:\n- type: string\nenum:\n- VERIFIED\n- UE_DNN_NOT_VERIFIED\n- NW_DNN_NOT_VERIFIED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nDNN Selection Mode. Possible values are\n- VERIFIED\n- UE_DNN_NOT_VERIFIED\n- NW_DNN_NOT_VERIFIED\n\nEpsInterworkingIndication:\nanyOf:\n- type: string\nenum:\n- NONE\n- WITH_N26\n- WITHOUT_N26\n- IWK_NON_3GPP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nEPS Interworking Indication. Possible values are\n- NONE\n- WITH_N26\n- WITHOUT_N26\n- IWK_NON_3GPP\n\nN2SmInfoType:\nanyOf:\n- type: string\nenum:\n- PDU_RES_SETUP_REQ\n- PDU_RES_SETUP_RSP\n- PDU_RES_SETUP_FAIL\n- PDU_RES_REL_CMD\n- PDU_RES_REL_RSP\n- PDU_RES_MOD_REQ\n- PDU_RES_MOD_RSP\n- PDU_RES_MOD_FAIL\n- PDU_RES_NTY\n- PDU_RES_NTY_REL\n- PDU_RES_MOD_IND\n- PDU_RES_MOD_CFM\n- PATH_SWITCH_REQ\n- PATH_SWITCH_SETUP_FAIL\n- PATH_SWITCH_REQ_ACK\n- PATH_SWITCH_REQ_FAIL\n- HANDOVER_REQUIRED\n- HANDOVER_CMD\n- HANDOVER_PREP_FAIL\n- HANDOVER_REQ_ACK\n- HANDOVER_RES_ALLOC_FAIL\n- SECONDARY_RAT_USAGE\n- PDU_RES_MOD_IND_FAIL\n- UE_CONTEXT_RESUME_REQ\n- UE_CONTEXT_RESUME_RSP\n- UE_CONTEXT_SUSPEND_REQ\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nN2 SM Information Type. Possible values are\n- PDU_RES_SETUP_REQ\n- PDU_RES_SETUP_RSP\n- PDU_RES_SETUP_FAIL\n- PDU_RES_REL_CMD\n- PDU_RES_REL_RSP\n- PDU_RES_MOD_REQ\n- PDU_RES_MOD_RSP\n- PDU_RES_MOD_FAIL\n- PDU_RES_NTY\n- PDU_RES_NTY_REL\n- PDU_RES_MOD_IND\n- PDU_RES_MOD_CFM\n- PATH_SWITCH_REQ\n- PATH_SWITCH_SETUP_FAIL\n- PATH_SWITCH_REQ_ACK\n- PATH_SWITCH_REQ_FAIL\n- HANDOVER_REQUIRED\n- HANDOVER_CMD\n- HANDOVER_PREP_FAIL\n- HANDOVER_REQ_ACK\n- HANDOVER_RES_ALLOC_FAIL\n- SECONDARY_RAT_USAGE\n- PDU_RES_MOD_IND_FAIL\n- UE_CONTEXT_RESUME_REQ\n- UE_CONTEXT_RESUME_RSP\n- UE_CONTEXT_SUSPEND_REQ\n\nMaxIntegrityProtectedDataRate:\nanyOf:\n- type: string\nenum:\n- 64_KBPS\n- MAX_UE_RATE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nMaximum Integrity Protected Data Rate. Possible values are\n- 64_KBPS\n- MAX_UE_RATE\n\nMaReleaseIndication:\nanyOf:\n- type: string\nenum:\n- REL_MAPDU_OVER_3GPP\n- REL_MAPDU_OVER_N3GPP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nMulti-Access PDU session release Indication. Possible values are\n- REL_MAPDU_OVER_3GPP\n- REL_MAPDU_OVER_N3GPP\n\nSmContextType:\nanyOf:\n- type: string\nenum:\n- EPS_PDN_CONNECTION\n- SM_CONTEXT\n- AF_COORDINATION_INFO\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nType of SM Context information. Possible values are\n- EPS_PDN_CONNECTION\n- SM_CONTEXT\n- AF_COORDINATION_INFO\n\nPsaIndication:\nanyOf:\n- type: string\nenum:\n- PSA_INSERTED\n- PSA_REMOVED\n- PSA_INSERTED_ONLY\n- PSA_REMOVED_ONLY\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nIndication of whether a PSA is inserted or removed. Possible values are\n- PSA_INSERTED\n- PSA_REMOVED\n- PSA_INSERTED_ONLY\n- PSA_REMOVED_ONLY\n\nN4MessageType:\nanyOf:\n- type: string\nenum:\n- PFCP_SES_EST_REQ\n- PFCP_SES_EST_RSP\n- PFCP_SES_MOD_REQ\n- PFCP_SES_MOD_RSP\n- PFCP_SES_DEL_REQ\n- PFCP_SES_DEL_RSP\n- PFCP_SES_REP_REQ\n- PFCP_SES_REP_RSP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nN4 Message Type. Possible values are\n- PFCP_SES_EST_REQ\n- PFCP_SES_EST_RSP\n- PFCP_SES_MOD_REQ\n- PFCP_SES_MOD_RSP\n- PFCP_SES_DEL_REQ\n- PFCP_SES_DEL_RSP\n- PFCP_SES_REP_REQ\n- PFCP_SES_REP_RSP\n\nQosFlowAccessType:\nanyOf:\n- type: string\nenum:\n- 3GPP\n- NON_3GPP\n- 3GPP_AND_NON_3GPP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nAccess type associated with a QoS Flow. Possible values are\n- 3GPP\n- NON_3GPP\n- 3GPP_AND_NON_3GPP\n\nUnavailableAccessIndication:\nanyOf:\n- type: string\nenum:\n- 3GA_UNAVAILABLE\n- N3GA_UNAVAILABLE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nIndicates the access type of a MA PDU session that is unavailable. Possible values are\n- 3GA_UNAVAILABLE\n- N3GA_UNAVAILABLE\n\nProtectionResult:\nanyOf:\n- type: string\nenum:\n- PERFORMED\n- NOT_PERFORMED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nProtection Result of the security policy indicated as \"preferred\". Possible values are\n- PERFORMED\n- NOT_PERFORMED\n\nQosMonitoringReq:\nanyOf:\n- type: string\nenum:\n- UL\n- DL\n- BOTH\n- NONE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nQoS monitoring request. Possible values are\n- UL\n- DL\n- BOTH\n- NONE\n\nRsn:\nanyOf:\n- type: string\nenum:\n- V1\n- V2\n- NONE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRedundancy Sequence Number. Possible values are\n- V1\n- V2\n- NONE\n\nSmfSelectionType:\nanyOf:\n- type: string\nenum:\n- CURRENT_PDU_SESSION\n- NEXT_PDU_SESSION\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nSmf Selection Type. Possible values are\n- CURRENT_PDU_SESSION\n- NEXT_PDU_SESSION\n\nPduSessionContextType:\nanyOf:\n- type: string\nenum:\n- AF_COORDINATION_INFO\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nType of PDU Session information. Possible values are\n- AF_COORDINATION_INFO\n\nPendingUpdateInfo:\nanyOf:\n- type: string\nenum:\n- UE_LOCATION\n- TIMEZONE\n- ACCESS_TYPE\n- RAT_TYPE\n- AMF_ID\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nPending Update Information. Possible values are\n- UE_LOCATION\n- TIMEZONE\n- ACCESS_TYPE\n- RAT_TYPE\n- AMF_ID\n\nEstablishmentRejectionCause:\nanyOf:\n- type: string\nenum:\n- OPERATOR_DETERMINED_BARRING\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nPDU Session Establishment Rejection Cause. Possible values are\n- OPERATOR_DETERMINED_BARRING\n\nEcnMarkingReq:\nanyOf:\n- type: string\nenum:\n- UL\n- DL\n- BOTH\n- STOP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nECN Marking Request Type. Possible values are\n- UL\n- DL\n- BOTH\n- STOP\n\nCongestionInfoReq:\nanyOf:\n- type: string\nenum:\n- UL\n- DL\n- BOTH\n- STOP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nCongestion Information Request Type. Possible values are\n- UL\n- DL\n- BOTH\n- STOP\n\nActivationStatus:\nanyOf:\n- type: string\nenum:\n- ACTIVE\n- NOT_ACTIVE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nActivation Status. Possible values are\n- ACTIVE\n- NOT_ACTIVE\n\n#\n# HTTP request bodies\n#\nrequestBodies:\n'VsmfUpdateRequestBody':\ndescription: representation of updates to apply to the PDU session\nrequired: true\ncontent:\napplication/json:   # message without binary body part\nschema:\n$ref: '#/components/schemas/VsmfUpdateData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties:     # Request parts\njsonData:\n$ref: '#/components/schemas/VsmfUpdateData'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nbinaryDataN4InformationExt3:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt3:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n\n'NotifyStatusRequestBody':\ndescription: representation of the status notification\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/StatusNotification'\n\n#\n# HTTP responses\n#\nresponses:\n'VsmfUpdateResponse200':\ndescription: successful update of a PDU session with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/VsmfUpdatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/VsmfUpdatedData'\nbinaryDataN1SmInfoFromUe:\ntype: string\nformat: binary\nbinaryDataUnknownN1SmInfo:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nbinaryDataN4InformationExt3:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoFromUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataUnknownN1SmInfo:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt3:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n\n'PduSessionCreateError':\ndescription: unsuccessful creation of a PDU session\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/PduSessionCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/PduSessionCreateError'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\n\n'HsmfUpdateError':\ndescription: unsuccessful update of a PDU session\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/HsmfUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/HsmfUpdateError'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\n\n'VsmfUpdateError':\ndescription: unsuccessful update of a PDU session\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/VsmfUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/VsmfUpdateError'\nbinaryDataN1SmInfoFromUe:\ntype: string\nformat: binary\nbinaryDataUnknownN1SmInfo:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nbinaryDataN4InformationExt3:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoFromUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataUnknownN1SmInfo:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt3:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n\n'400':\ndescription: Bad request\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'401':\ndescription: Unauthorized\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'403':\ndescription: Forbidden\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'404':\ndescription: Not Found\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'413':\ndescription: Content Too Large\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'415':\ndescription: Unsupported Media Type\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'429':\ndescription: Too Many Requests\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'500':\ndescription: Internal Server Error\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'502':\ndescription: Bad Gateway\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'503':\ndescription: Service Unavailable\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n\n\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "B.1\tExample of HTTP multipart message",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "B.1.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "This clause provides a (partial) example of HTTP multipart message. The example does not aim to be a complete representation of the HTTP message, e.g. additional information or headers can be included.\nThis Annex is informative and the normative descriptions in this specification prevail over the description in this Annex if there is any difference.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "B.1.2\tExample HTTP multipart message with N1 SM Message binary data",
                    "description": "",
                    "summary": "",
                    "text_content": "\nPOST /example.com/nsmf-pdusession/v1/sm-contexts HTTP/2\nContent-Type: multipart/related; type=\"application/json\"; boundary=----Boundary\nContent-Length: xyz\n\n------Boundary\nContent-Type: application/json\n\n{\n\"supi\": \"imsi-<IMSI>\",\n\"pduSessionId\": 235,\n\"dnn\": \"<DNN>\",\n\"sNssai\": {\n\"sst\": 0\n},\n\"servingNfId\": \"<AMF Identifier>\",\n\"n1SmMsg\": {\n\"contentId\": \"n1msg\"\n},\n\"anType\": \"3GPP_ACCESS\",\n\"smContextStatusUri\": \"<URI>\"\n}\n------Boundary\nContent-Type: application/vnd.3gpp.5gnas\nContent-Id: n1msg\n\n{ … N1 SM Message binary data …}\n------Boundary\n\n\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "C.1\tGeneral",
            "description": "This Annex contains a self-contained set of ABNF rules, comprising the re-used rules from IETF RFCs, and the rules defined by the 3GPP custom headers defined in this specification (see clause 6.1.2.3).\nThis grammar may be used as input to existing tools to help implementations to parse 3GPP custom headers.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "C.2\tABNF definitions (Filename: \"TS29502_CustomHeaders.abnf\")",
            "description": "\n; ----------------------------------------\n;   RFC 5234\n; ----------------------------------------\n\nHTAB  = %x09 ; horizontal tab\n\nSP    = %x20\n\nDIGIT = %x30-39 ; 0-9\n\n\n\n; ----------------------------------------\n;   RFC 9110\n; ----------------------------------------\n\nOWS = *( SP / HTAB )\n\n\ndate1       = day SP month SP year ; e.g., 02 Jun 1982\n\nday         = 2DIGIT\n\nmonth       = %x4A.61.6E ; \"Jan\", case-sensitive\n/ %x46.65.62 ; \"Feb\", case-sensitive\n/ %x4D.61.72 ; \"Mar\", case-sensitive\n/ %x41.70.72 ; \"Apr\", case-sensitive\n/ %x4D.61.79 ; \"May\", case-sensitive\n/ %x4A.75.6E ; \"Jun\", case-sensitive\n/ %x4A.75.6C ; \"Jul\", case-sensitive\n/ %x41.75.67 ; \"Aug\", case-sensitive\n/ %x53.65.70 ; \"Sep\", case-sensitive\n/ %x4F.63.74 ; \"Oct\", case-sensitive\n/ %x4E.6F.76 ; \"Nov\", case-sensitive\n/ %x44.65.63 ; \"Dec\", case-sensitive\n\nyear        = 4DIGIT\n\nday-name    = %x4D.6F.6E ; Mon\n/ %x54.75.65 ; Tue\n/ %x57.65.64 ; Wed\n/ %x54.68.75 ; Thu\n/ %x46.72.69 ; Fri\n/ %x53.61.74 ; Sat\n/ %x53.75.6E ; Sun\n\ntime-of-day = hour \":\" minute \":\" second\n\nhour        = 2DIGIT\n\nminute      = 2DIGIT\n\nsecond      = 2DIGIT\n\n\n\n; ----------------------------------------\n;   3GPP TS 29.502\n;\n;   Version: 18.5.0 (December 2023)\n;\n;   (c) 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\n; ----------------------------------------\n\n;\n; Header: 3gpp-Sbi-Origination-Timestamp\n;\n\nSbi-Origination-Timestamp-Header = \"3gpp-Sbi-Origination-Timestamp:\" OWS day-name \",\"\nSP date1 SP time-of-day \".\" milliseconds SP \"GMT\" OWS\n\nmilliseconds                     = 3DIGIT\n\n\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "D.1\tUsage of Charging ID and SMF Charging ID",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "D.1.1\tGeneral",
                    "description": "",
                    "summary": "",
                    "text_content": "The Charging ID has been defined (from Rel-15 onwards) as a Uint32 value which is unique within one SMF (the V-SMF or H-SMF that assigns it). To avoid possible charging identifiers' collision in H-SMF for Home Routed PDU sessions, an SMF Charging ID has been defined (from Rel-18 onwards) as a string which contains the Uint32 value and the SMF NF Instance ID (see 3GPP TS 29.571 [13]).\nThis clause summarizes the principles on using Charging ID and SMF Charging ID for HR PDU sessions, especially when not all the V-SMF(s) and H-SMF of a PDU session support the SMF Charging ID.\nThis Annex is informative and the normative requirements in this specification or in other 3GPP specifications prevail over the description in this Annex if there is any difference.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "D.1.2\tHPLMN supporting the SMF Charging ID",
                    "description": "",
                    "summary": "",
                    "text_content": "An SMF, CHF and PCF complying with Rel-18 onwards support the SMF Charging ID.\nIf the HPLMN (H-SMF, CHF and PCF) supports the SMF Charging ID, the H-SMF indicates support of the SCID (String based Charging Identifier) feature (in its NF Profile in NRF and towards the V-SMF).\n\nThe HPLMN uses the SMF Charging ID as the charging identifier for the PDU session.\nIf the VPLMN supports the SMF Charging ID:\n-\tThe VPLMN uses the SMF Charging ID as the charging identifier for the PDU session.\nIf the VPLMN does not support the SMF Charging ID (e.g. the V-SMF complies with a release earlier than Rel-18):\n-\tThe VPLMN uses the Charging ID as the charging identifier for the PDU session.\n-\tThe VPLMN only provides the Charging ID to the H-SMF during the HR PDU session establishment. The H-SMF derives the SMF Charging ID using the received Charging ID and V-SMF Instance ID.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "D.1.3\tHPLMN not supporting the SMF Charging ID",
                    "description": "",
                    "summary": "",
                    "text_content": "When the HPLMN does not support the SMF Charging ID (e.g. the H-SMF complies with a release earlier than Rel-18), the charging identifier used by both the V-SMF and the H-SMF is the Charging ID.\nNOTE:\tThis applies even if the V-SMF supports the SCID feature.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "D.1.4\tTransfer of (SMF) Charging ID between SMFs",
                    "description": "",
                    "summary": "",
                    "text_content": "The following principles applies to support mobility scenarios where the source and/or target (V-) SMF may or may not support the SCID feature:\n-\tDuring a HR PDU session establishment:\n-\tthe V-SMF provides the Charging ID to the H-SMF; and\n-\tthe V-SMF additionally provides the SMF Charging ID if both the V-SMF and H-SMF support the SCID feature.\n-\tDuring a V-SMF change or insertion:\n-\tthe Charging ID is passed from the source (V-)SMF to the target V-SMF;\n-\tthe SMF Charging ID is also passed from the source (V-)SMF to the target V-SMF, if it is available at the source (V-)SMF and both the source and target (V-)SMFs support the SCID feature; and\n-\tthe H-SMF provides the SMF Charging ID to the new V-SMF if both the H-SMF and the new V-SMF support the SCID feature.\nNOTE:\tThis enables the SMF Charging ID to be used by the new V-SMF and H-SMF, when both the new V-SMF and H-SMF support the SCID feature but the source V-SMF does not support the SCID feature.\n-\tDuring EPS to 5GS mobility:\n-\tthe H-SMF provides the Charging ID to the new V-SMF; and\n-\tthe H-SMF additionally provides the SMF Charging ID to the new V-SMF if both the H-SMF and the V-SMF support the SCID feature.\n\n\n",
                    "tables": [
                        {
                            "description": "",
                            "table number": 194,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        }
    ]
}