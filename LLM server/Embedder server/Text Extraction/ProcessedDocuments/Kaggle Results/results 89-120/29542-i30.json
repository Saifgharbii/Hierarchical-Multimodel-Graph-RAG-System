{
    "document_name": "29542-i30.docx",
    "content": [
        {
            "title": "Foreword",
            "description": "This Technical Specification has been produced by the 3rd Generation Partnership Project (3GPP).\nThe contents of the present document are subject to continuing work within the TSG and may change following formal TSG approval. Should the TSG modify the contents of the present document, it will be re-released by the TSG with an identifying change of release date and an increase in version number as follows:\nVersion x.y.z\nwhere:\nx\tthe first digit:\n1\tpresented to TSG for information;\n2\tpresented to TSG for approval;\n3\tor greater indicates TSG approved document under change control.\ny\tthe second digit is incremented for all changes of substance, i.e. technical enhancements, corrections, updates, etc.\nz\tthe third digit is incremented when editorial only changes have been incorporated in the document.\nIn the present document, modal verbs have the following meanings:\nshall\tindicates a mandatory requirement to do something\nshall not\tindicates an interdiction (prohibition) to do something\nThe constructions \"shall\" and \"shall not\" are confined to the context of normative provisions, and do not appear in Technical Reports.\nThe constructions \"must\" and \"must not\" are not used as substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as possible, and they are not used in a normative context except in a direct citation from an external, referenced, non-3GPP document, or so as to maintain continuity of style when extending or modifying the provisions of such a referenced document.\nshould\tindicates a recommendation to do something\nshould not\tindicates a recommendation not to do something\nmay\tindicates permission to do something\nneed not\tindicates permission not to do something\nThe construction \"may not\" is ambiguous and is not used in normative elements. The unambiguous constructions \"might not\" or \"shall not\" are used instead, depending upon the meaning intended.\ncan\tindicates that something is possible\ncannot\tindicates that something is impossible\nThe constructions \"can\" and \"cannot\" are not substitutes for \"may\" and \"need not\".\nwill\tindicates that something is certain or expected to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nwill not\tindicates that something is certain or expected not to happen as a result of action taken by an agency the behaviour of which is outside the scope of the present document\nmight\tindicates a likelihood that something will happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nmight not\tindicates a likelihood that something will not happen as a result of action taken by some agency the behaviour of which is outside the scope of the present document\nIn addition:\nis\t(or any other verb in the indicative mood) indicates a statement of fact\nis not\t(or any other negative verb in the indicative mood) indicates a statement of fact\nThe constructions \"is\" and \"is not\" do not indicate requirements.\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "1\tScope",
            "description": "The present document specifies the stage 3 protocol and data model for the Nsmf Service Based Interfaces for Non-IP Data Delivery (NIDD). It provides stage 3 protocol definitions and message flows, and specifies the API for the service offered by the SMF.\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "2\tReferences",
            "description": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non-specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", .\n[7]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[8]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[9]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[10]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[11]\tIETF RFC 9113: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".\n[12]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[13]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[14]\t3GPP TS 29.541: \"5G System (5GS); Network Exposure (NE) function services for Non-IP Data Delivery (NIDD) and Short Message Services (SMS); Stage 3\".\n[15]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "3\tDefinitions, symbols and abbreviations",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "3.1\tTerms",
                    "description": "",
                    "summary": "",
                    "text_content": "Void.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.2\tSymbols",
                    "description": "",
                    "summary": "",
                    "text_content": "Void.\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "3.3\tAbbreviations",
                    "description": "",
                    "summary": "",
                    "text_content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\n5GC\t5G Core Network\nAMF\tAccess and Mobility Management Function\nH-SMF\tHome SMF\nI-SMF\tIntermediate SMF\nNEF\tNetwork Exposure Function\nNIDD\tNon-IP Data Delivery\nMT\tMobile Terminated\nSMF\tSession Management Function\nV-SMF\tVisited SMF\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "4\tOverview",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "4.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "Within the 5GC, the SMF offers services to the NF service consumers via the Nsmf service based interface (see 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3]).\nFigure 4.1-1 provides the reference model (in service based interface representation and in reference point representation), with focus on the services specified within the present specification.\n\nFigure 4.1-1 presents a reference model of a single-mode fiber (SMF) transmission system, illustrating the various components involved in signal transmission. The model showcases the optical fiber, which carries the signal, and the optical line terminal (OLT) that amplifies and processes the signal before it is transmitted. Additionally, the figure includes the use of repeaters to extend the signal's reach and the presence of a central office (CO) for signal management and distribution. This model is essential for understanding the physical layout and infrastructure of a fiber-optic network, highlighting the importance of signal quality and signal processing in modern telecommunications.\nFigure 4.1-1: Reference model – SMF\nN29 is the reference point between the (H-)SMF and the NEF.\nThe functionalities supported by the SMF are listed in clause 6.2.2 of 3GPP TS 23.501 [2].\n",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": []
                }
            ]
        },
        {
            "title": "5\tServices offered by the SMF for NIDD",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "5.1\tIntroduction",
                    "description": "",
                    "summary": "",
                    "text_content": "The SMF supports the following service(s) for NIDD.\nTable 5.1-1: NF Service(s) provided by SMF for NIDD\n\n",
                    "tables": [
                        {
                            "description": "Table 5.1-1: NF Service(s) provided by SMF for NIDD",
                            "table number": 3,
                            "summary": "",
                            "name": ""
                        }
                    ],
                    "figures_meta_data": [],
                    "subsubsections": []
                },
                {
                    "title": "5.2\tNsmf_NIDD Service",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "5.2.1\tService Description",
                            "text_content": "The Nsmf_NIDD service operates on the PDU Sessions. The service operations exposed by this service allow an NF consumer (i.e. NEF) to deliver NEF anchored Mobile Terminated (MT) data for a given PDU session of a UE towards the SMF.\nThe Nsmf_NIDD service supports the following service operations:\nTable 5.2.1-1: Service operations supported by the Nsmf_NIDD service\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 5.2.1-1: Service operations supported by the Nsmf_NIDD service",
                                    "table number": 4,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "5.2.2\tService Operations",
                            "text_content": "See Table 5.2.1-1 for an overview of the service operations supported by the Nsmf_NIDD service.\nThe Delivery service operation shall be used to transfer NEF anchored MT data for a given PDU session.\nIt is used in the following procedures:\n-\tNEF anchored Mobile Terminated Data Transport (see clause 4.25.5 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (i.e. NEF) shall deliver MT data to the SMF by using the HTTP POST method (\"deliver\" custom operation) as shown in Figure 5.2.2.2.1-1.\nFigure 5.2.2.2.1-1: Transfer MT Data illustrates the process of transferring Mobile Termination (MT) data in a telecommunications network. The figure depicts the flow of data from the originating network, through various network elements such as the Mobile Switching Center (MSC), Home Location Register (HLR), and Serving GPRS Support Node (SGSN), to the terminating network. The figure emphasizes the importance of accurate and efficient data transfer for seamless communication between mobile devices and service providers. Key components include signaling protocols, such as Diameter Routing Agent (DRA) and Mobile Switching Center (MSC), which facilitate the secure and reliable exchange of MT data.\nFigure 5.2.2.2.1-1: Transfer MT Data\n1.\tThe NF Service Consumer shall send a POST request to the URI of \"deliver\" custom operation on an Individual PDU session resource in the SMF. The content of the POST request shall contain the MT data to be delivered.\nNOTE:\tThe URI of the individual PDU session resource is provided by SMF to the NEF during SMF-NEF connection creation (see clause 5.2.2.2.1 of 3GPP TS 29.541 [14]).\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.2.4.2.2-2 shall be returned.  For a 4xx/5xx response, the message body may contain a DeliverError or ProblemDetails object, with the \"cause\" attribute indicating the cause of the failure. If Estimated Maximum Waiting Time is received from AMF, the SMF shall include it in the message body.\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "6\tAPI Definitions",
            "description": "",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": [
                {
                    "title": "6.1\tNsmf_NIDD Service API",
                    "description": "",
                    "summary": "",
                    "text_content": "",
                    "tables": [],
                    "figures_meta_data": [],
                    "subsubsections": [
                        {
                            "title": "6.1.1\tIntroduction",
                            "text_content": "The Nsmf_NIDD service shall use the Nsmf_NIDD API.\nThe API URI of the Nsmf_NIDD API shall be:\n{apiRoot}/<apiName>/<apiVersion>/\nThe request URI used in HTTP request from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nsmf-nidd\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.2\tUsage of HTTP",
                            "text_content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Nsmf_NIDD API is contained in Annex A.\nThe usage of HTTP standard headers shall be supported as specified in clause 5.2.2 of 3GPP TS 29.500 [4].\nThe following content types shall be supported:\n-\tthe JSON format (IETF RFC 8259 [12]). The use of the JSON format shall be signalled by the content type \"application/json\". See also clause 5.4 of 3GPP TS 29.500 [4].\n-\tthe Problem Details JSON Object (IETF RFC 9457 [13]). The use of the Problem Details JSON object in a HTTP response body shall be signalled by the content type \"application/problem+json\".\nNOTE:\t\"application/json\" is used in a response that includes a payload body containing an application-specific data structure, see clause 4.8 of 3GPP TS 29.501 [5].\nMultipart messages shall also be supported (see clause 6.1.2.4) using the content type \"multipart/related\", comprising:\n-\tone JSON body part with the \"application/json\" content type; and\n-\tone or two binary body parts with 3gpp vendor specific content subtypes.\nThe 3gpp vendor specific content subtypes defined in Table 6.1.2.2.2-1 shall be supported.\nTable 6.1.2.2.2-1: 3GPP vendor specific content subtypes\n\nSee clause 6.1.6.5 for the binary payloads supported in the binary body part of multipart messages.\nIn this release of the specification, no specific custom headers are defined for the Nsmf_NIDD service.\nFor 3GPP specific HTTP custom headers used across all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.2.2.2-1: 3GPP vendor specific content subtypes",
                                    "table number": 5,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.3\tResources",
                            "text_content": "Figure 6.1.3.1-1 describes the resource URI structure of the Nsmf_NIDD API.\nFigure 6 illustrates the resource URI structure of the Nsmf_NIDD API, which is a crucial component in telecommunication networks. The figure shows the hierarchical organization of the API, with various resources and their corresponding URIs. This structure allows for efficient management and access to network resources, enabling smooth communication and coordination among different network entities. The figure highlights the importance of a well-defined API structure in ensuring the smooth operation and management of telecommunication networks.\nFigure 6.1.3.1-1: Resource URI structure of the Nsmf_NIDD API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\n\nThis resource represents an individual PDU session created in SMF for NIDD.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).\nResource URI: {apiRoot}/nsmf-nidd/<apiVersion>/pdu-sessions/{pduSessionRef}\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\n\nNone.\n6.1.3.2.4.1\tOverview\nTable 6.1.3.2.4.1-1: Custom operations\n\n6.1.3.2.4.2\tOperation: deliver\nThis custom operation enables to deliver NEF anchored MT data for a given PDU session towards the SMF.\nThis operation shall support the request data structures specified in table 6.1.3.2.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.2.4.2.2-2.\nTable 6.1.3.2.4.2.2-1: Data structures supported by the POST Request Body on this resource\n\nTable 6.1.3.2.4.2.2-2: Data structures supported by the POST Response Body on this resource\n\nTable 6.1.3.2.4.2.2-3: Headers supported by the 307 Response Code on this resource\n\nTable 6.1.3.2.4.2.2-4: Headers supported by the 308 Response Code on this resource\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.3.1-1: Resources and methods overview",
                                    "table number": 6,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.2-1: Resource URI variables for this resource",
                                    "table number": 7,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.4.1-1: Custom operations",
                                    "table number": 8,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.4.2.2-1: Data structures supported by the POST Request Body on this resource",
                                    "table number": 9,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.4.2.2-2: Data structures supported by the POST Response Body on this resource",
                                    "table number": 10,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.4.2.2-3: Headers supported by the 307 Response Code on this resource",
                                    "table number": 11,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.3.2.4.2.2-4: Headers supported by the 308 Response Code on this resource",
                                    "table number": 12,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.4\tCustom Operations without associated resources",
                            "text_content": "None\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.5\tNotifications",
                            "text_content": "None.\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.6\tData Model",
                            "text_content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Nsmf_NIDD service based interface protocol.\nTable 6.1.6.1-1: Nsmf_NIDD specific Data Types\n\nTable 6.1.6.1-2 specifies data types re-used by the N<NF> service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the N<NF> service based interface.\nTable 6.1.6.1-2: Nsmf_NIDD re-used Data Types\n\nThis clause defines the structures to be used in resource representations.\nTable 6.1.6.2.2-1: Definition of type DeliverReqData\n\nTable 6.1.6.2.3-1: Definition of type DeliverAddInfo\n\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nThe simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\n\nTable 6.1.6.4.1-1: Definition of type DeliverError as a list of \"to be combined data types\"\n\nMobile Terminated Data shall encode the Data Contents of the Payload Container specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type, as summarized in Table 6.1.6.5.1-1.\nTable 6.1.6.5.1-1: Mobile Terminated Data\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.6.1-1: Nsmf_NIDD specific Data Types",
                                    "table number": 13,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.1-2: Nsmf_NIDD re-used Data Types",
                                    "table number": 14,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.2-1: Definition of type DeliverReqData",
                                    "table number": 15,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.2.3-1: Definition of type DeliverAddInfo",
                                    "table number": 16,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.3.2-1: Simple data types",
                                    "table number": 17,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.4.1-1: Definition of type DeliverError as a list of \"to be combined data types\"",
                                    "table number": 18,
                                    "summary": "",
                                    "name": ""
                                },
                                {
                                    "description": "Table 6.1.6.5.1-1: Mobile Terminated Data",
                                    "table number": 19,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.7\tError Handling",
                            "text_content": "For the Nsmf_NIDD API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Nsmf_NIDD API.\nNo specific procedures for the Nsmf_NIDD service are specified.\nThe common application errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] may be used for the Nsmf_NIDD service.\nThe application errors defined for the Nsmf_NIDD service are listed in Table 6.1.7.3-1.\nTable 6.1.7.3-1: Application errors\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.7.3-1: Application errors",
                                    "table number": 20,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.8\tFeature negotiation",
                            "text_content": "The optional features in table 6.1.8-1 are defined for the Nsmf_NIDD API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\n\n",
                            "figures_meta_data": [],
                            "tables": [
                                {
                                    "description": "Table 6.1.8-1: Supported Features",
                                    "table number": 21,
                                    "summary": "",
                                    "name": ""
                                }
                            ]
                        },
                        {
                            "title": "6.1.9\tSecurity",
                            "text_content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Nsmf_NIDD API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nsmf_NIDD API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nsmf_NIDD service.\nThe Nsmf_NIDD API defines scopes for OAuth2 authorization as specified in 3GPP TS 33.501 [15]; it defines a single scope consisting on the name of the service (i.e., \"nsmf-nidd\"), and it does not define any additional scopes at resource or operation level.\n\n",
                            "figures_meta_data": [],
                            "tables": []
                        },
                        {
                            "title": "6.1.10\tHTTP redirection",
                            "text_content": "An HTTP request may be redirected to a different SMF service instance, within the same SMF or a different SMF of an SMF set, e.g. when an SMF service instance is part of an SMF (service) set or when using indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different SMF producer instance will return the NF Instance ID of the new SMF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an SMF within an SMF set redirects a service request to a different SMF of the set using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new SMF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\n",
                            "figures_meta_data": [],
                            "tables": []
                        }
                    ]
                }
            ]
        },
        {
            "title": "A.1\tGeneral",
            "description": "This Annex specifies the formal definition of the Nsmf_NIDD Service API. It consists of OpenAPI 3.0.0 specifications, in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository, that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\n",
            "summary": "",
            "tables": [],
            "figures_meta_data": [],
            "subsections": []
        },
        {
            "title": "A.2\tNsmf_NIDD API",
            "description": "openapi: 3.0.0\n\ninfo:\nversion: '1.2.0-alpha.1'\ntitle: 'Nsmf_NIDD'\ndescription: |\nSMF NIDD Service.\n© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\n\nexternalDocs:\ndescription: 3GPP TS 29.542 V18.0.0; 5G System; Session Management Services for Non-IP Data Delivery (NIDD); Stage 3\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.542/\n\nservers:\n- url: '{apiRoot}/nsmf-nidd/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription:  apiRoot as defined in clause 4.4 of 3GPP TS 29.501.\n\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nsmf-nidd\n\npaths:\n'/pdu-sessions/{pduSessionRef}/deliver':\npost:\nsummary:  Delivery Service Operation\ntags:\n- Individual PDU session\noperationId: Deliver\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the payload of Deliver Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/DeliverReqData'\nbinaryMtData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMtData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful transfering of Delivery\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\ndescription: unsuccessful delivery of mobile terminated data - gateway timeout\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/DeliverError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnsmf-nidd: Access to the nsmf-nidd API\n\nschemas:\n#\n# STRUCTURED DATA TYPES\n#\n\nDeliverReqData:\ndescription: Representation of the payload of a Deliver Request.\ntype: object\nproperties:\nmtData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nrequired:\n- mtData\n\nDeliverAddInfo:\ndescription: Additional information in an error response to a Deliver Request.\ntype: object\nproperties:\nmaxWaitingTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\n\n#\n# DATA TYPES DESCRIBING ALTERNATIVE OR COMBINATION OF DATA TYPES\n#\n\nDeliverError:\ndescription: Representation of the payload in an error response to a Deliver Request.\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\n- $ref: '#/components/schemas/DeliverAddInfo'\n\n\n\n\n",
            "summary": "",
            "tables": [
                {
                    "description": "",
                    "table number": 22,
                    "summary": "",
                    "name": ""
                }
            ],
            "figures_meta_data": [],
            "subsections": []
        }
    ]
}